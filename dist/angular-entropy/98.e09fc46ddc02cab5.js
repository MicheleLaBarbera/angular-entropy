(self.webpackChunkangular_entropy=self.webpackChunkangular_entropy||[]).push([[98],{4696:(of,Ou,Xs)=>{"use strict";Xs.d(Ou,{S:()=>a});var Gr=Xs(1571),ee=Xs(4415),D=Xs(6895);function e(T,b){1&T&&(Gr.TgZ(0,"li",8)(1,"a",9),Gr._UZ(2,"i",10),Gr.qZA()())}function M(T,b){1&T&&(Gr.TgZ(0,"li",8)(1,"a",11),Gr._UZ(2,"i",12),Gr.qZA()())}const k=function(){return["/dashboard"]};class a{constructor(b){this._router=b}ngOnInit(){let b=JSON.parse(localStorage.getItem("currentUserData"));b||this._router.navigate(["/users/auth"]),this.user=b}}a.\u0275fac=function(b){return new(b||a)(Gr.Y36(ee.F0))},a.\u0275cmp=Gr.Xpm({type:a,selectors:[["app-navbar"]],decls:11,vars:6,consts:[[1,"navbar","navbar-expand","bg-white","border-1","border-bottom","p-0"],["src","/assets/images/logo-nav.png","alt","Logo",1,"nav-logo","ms-4","pe-clickable",2,"height","50px",3,"routerLink"],[1,"navbar-nav","me-auto","h-100"],[1,"nav-item","active"],[1,"ms-3","text-black","fs-6","fw-light","text-decoration-underline",3,"routerLink"],[1,"navbar-nav"],[1,"nav-item","separator","mt-2"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/profile",1,"nav-link"],[1,"fa-regular","fa-user","navbar-ico"],["routerLink","/users/logout",1,"nav-link"],[1,"fa-regular","fa-circle-right","navbar-ico"]],template:function(b,p){1&b&&(Gr.TgZ(0,"nav",0),Gr._UZ(1,"img",1),Gr.TgZ(2,"ul",2)(3,"li",3)(4,"a",4),Gr._uU(5,"Dashboard"),Gr.qZA()()(),Gr.TgZ(6,"ul",5),Gr._UZ(7,"li",6),Gr.qZA(),Gr.TgZ(8,"ul",5),Gr.YNc(9,e,3,0,"li",7),Gr.YNc(10,M,3,0,"li",7),Gr.qZA()()),2&b&&(Gr.xp6(1),Gr.Q6J("routerLink",Gr.DdM(4,k)),Gr.xp6(3),Gr.Q6J("routerLink",Gr.DdM(5,k)),Gr.xp6(5),Gr.Q6J("ngIf",p.user),Gr.xp6(1),Gr.Q6J("ngIf",p.user))},dependencies:[D.O5,ee.rH],encapsulation:2})},9102:of=>{self,of.exports=function(){var Ou={98847:function(ee,D,e){"use strict";var M=e(71828),k={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in k){var T=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");M.addStyleRule(T,k[a])}},98222:function(ee,D,e){"use strict";ee.exports=e(82887)},27206:function(ee,D,e){"use strict";ee.exports=e(60822)},59893:function(ee,D,e){"use strict";ee.exports=e(23381)},5224:function(ee,D,e){"use strict";ee.exports=e(83832)},59509:function(ee,D,e){"use strict";ee.exports=e(72201)},75557:function(ee,D,e){"use strict";ee.exports=e(91815)},40338:function(ee,D,e){"use strict";ee.exports=e(21462)},35080:function(ee,D,e){"use strict";ee.exports=e(51319)},61396:function(ee,D,e){"use strict";ee.exports=e(57516)},40549:function(ee,D,e){"use strict";ee.exports=e(98128)},49866:function(ee,D,e){"use strict";ee.exports=e(99442)},36089:function(ee,D,e){"use strict";ee.exports=e(93740)},19548:function(ee,D,e){"use strict";ee.exports=e(8729)},35831:function(ee,D,e){"use strict";ee.exports=e(93814)},61039:function(ee,D,e){"use strict";ee.exports=e(14382)},97040:function(ee,D,e){"use strict";ee.exports=e(51759)},77986:function(ee,D,e){"use strict";ee.exports=e(10421)},24296:function(ee,D,e){"use strict";ee.exports=e(43102)},58872:function(ee,D,e){"use strict";ee.exports=e(92165)},29626:function(ee,D,e){"use strict";ee.exports=e(3325)},65591:function(ee,D,e){"use strict";ee.exports=e(36071)},69738:function(ee,D,e){"use strict";ee.exports=e(43905)},92650:function(ee,D,e){"use strict";ee.exports=e(35902)},35630:function(ee,D,e){"use strict";ee.exports=e(69816)},73434:function(ee,D,e){"use strict";ee.exports=e(94507)},27909:function(ee,D,e){"use strict";var M=e(19548);M.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),ee.exports=M},46163:function(ee,D,e){"use strict";ee.exports=e(15154)},96881:function(ee,D,e){"use strict";ee.exports=e(64943)},50581:function(ee,D,e){"use strict";ee.exports=e(21164)},55334:function(ee,D,e){"use strict";ee.exports=e(54186)},65317:function(ee,D,e){"use strict";ee.exports=e(94873)},10021:function(ee,D,e){"use strict";ee.exports=e(67618)},54201:function(ee,D,e){"use strict";ee.exports=e(58810)},5861:function(ee,D,e){"use strict";ee.exports=e(20593)},16122:function(ee,D,e){"use strict";ee.exports=e(29396)},83043:function(ee,D,e){"use strict";ee.exports=e(13551)},48131:function(ee,D,e){"use strict";ee.exports=e(46858)},47582:function(ee,D,e){"use strict";ee.exports=e(17988)},21641:function(ee,D,e){"use strict";ee.exports=e(68868)},96268:function(ee,D,e){"use strict";ee.exports=e(20467)},19440:function(ee,D,e){"use strict";ee.exports=e(91271)},99488:function(ee,D,e){"use strict";ee.exports=e(21461)},97393:function(ee,D,e){"use strict";ee.exports=e(85956)},25743:function(ee,D,e){"use strict";ee.exports=e(52979)},66398:function(ee,D,e){"use strict";ee.exports=e(32275)},17280:function(ee,D,e){"use strict";ee.exports=e(6419)},77900:function(ee,D,e){"use strict";ee.exports=e(61510)},81299:function(ee,D,e){"use strict";ee.exports=e(87619)},93005:function(ee,D,e){"use strict";ee.exports=e(93601)},40344:function(ee,D,e){"use strict";ee.exports=e(96595)},47645:function(ee,D,e){"use strict";ee.exports=e(70954)},6197:function(ee,D,e){"use strict";ee.exports=e(47462)},4534:function(ee,D,e){"use strict";ee.exports=e(17659)},85461:function(ee,D,e){"use strict";ee.exports=e(19990)},82884:function(ee){"use strict";ee.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(ee,D,e){"use strict";var M=e(82884),k=e(41940),a=e(85555),T=e(44467).templatedArray;e(24695),ee.exports=T("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:M.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:M.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:k({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(92605).draw;function T(p){var s=p._fullLayout;M.filterVisible(s.annotations).forEach(function(t){var i=k.getFromId(p,t.xref),n=k.getFromId(p,t.yref),r=k.getRefType(t.xref),o=k.getRefType(t.yref);t._extremes={},"range"===r&&b(t,i),"range"===o&&b(t,n)})}function b(p,s){var t,i=s._id,n=i.charAt(0),r=p[n],o=p["a"+n],l=p[n+"ref"],u=p["a"+n+"ref"],d=p["_"+n+"padplus"],c=p["_"+n+"padminus"],x={x:1,y:-1}[n]*p[n+"shift"],g=3*p.arrowsize*p.arrowwidth||0,h=g+x,m=g-x,y=3*p.startarrowsize*p.arrowwidth||0,v=y+x,_=y-x;if(u===l){var f=k.findExtremes(s,[s.r2c(r)],{ppadplus:h,ppadminus:m}),S=k.findExtremes(s,[s.r2c(o)],{ppadplus:Math.max(d,v),ppadminus:Math.max(c,_)});t={min:[f.min[0],S.min[0]],max:[f.max[0],S.max[0]]}}else v=o?v+o:v,_=o?_-o:_,t=k.findExtremes(s,[s.r2c(r)],{ppadplus:Math.max(d,h,v),ppadminus:Math.max(c,m,_)});p._extremes[i]=t}ee.exports=function(p){var s=p._fullLayout;if(M.filterVisible(s.annotations).length&&p._fullData.length)return M.syncOrAsync([a,T],p)}},44317:function(ee,D,e){"use strict";var M=e(71828),k=e(73972),a=e(44467).arrayEditor;function T(p,s){var t,i,n,r,o,l,u,d=p._fullLayout.annotations,c=[],x=[],g=[],h=(s||[]).length;for(t=0;t<d.length;t++)if(r=(n=d[t]).clicktoshow){for(i=0;i<h;i++)if(l=(o=s[i]).xaxis,u=o.yaxis,l._id===n.xref&&u._id===n.yref&&l.d2r(o.x)===b(n._xclick,l)&&u.d2r(o.y)===b(n._yclick,u)){(n.visible?"onout"===r?x:g:c).push(t);break}i===h&&n.visible&&"onout"===r&&x.push(t)}return{on:c,off:x,explicitOff:g}}function b(p,s){return"log"===s.type?s.l2r(p):s.d2r(p)}ee.exports={hasClickToShow:function(p,s){var t=T(p,s);return t.on.length>0||t.explicitOff.length>0},onClick:function(p,s){var t,i,n=T(p,s),r=n.on,o=n.off.concat(n.explicitOff),l={},u=p._fullLayout.annotations;if(r.length||o.length){for(t=0;t<r.length;t++)(i=a(p.layout,"annotations",u[r[t]])).modifyItem("visible",!0),M.extendFlat(l,i.getUpdateObj());for(t=0;t<o.length;t++)(i=a(p.layout,"annotations",u[o[t]])).modifyItem("visible",!1),M.extendFlat(l,i.getUpdateObj());return k.call("update",p,{},l)}}}},25625:function(ee,D,e){"use strict";var M=e(71828),k=e(7901);ee.exports=function(a,T,b,p){p("opacity");var s=p("bgcolor"),t=p("bordercolor"),i=k.opacity(t);p("borderpad");var n=p("borderwidth"),r=p("showarrow");if(p("text",r?" ":b._dfltTitle.annotation),p("textangle"),M.coerceFont(p,"font",b.font),p("width"),p("align"),p("height")&&p("valign"),r){var o,l,u=p("arrowside");-1!==u.indexOf("end")&&(o=p("arrowhead"),l=p("arrowsize")),-1!==u.indexOf("start")&&(p("startarrowhead",o),p("startarrowsize",l)),p("arrowcolor",i?T.bordercolor:k.defaultLine),p("arrowwidth",2*(i&&n||1)),p("standoff"),p("startstandoff")}var d=p("hovertext"),c=b.hoverlabel||{};if(d){var x=p("hoverlabel.bgcolor",c.bgcolor||(k.opacity(s)?k.rgb(s):k.defaultLine)),g=p("hoverlabel.bordercolor",c.bordercolor||k.contrast(x));M.coerceFont(p,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||g})}p("captureevents",!!d)}},94128:function(ee,D,e){"use strict";var M=e(92770),k=e(58163);ee.exports=function(a,T,b,p){T=T||{};var s="log"===b&&"linear"===T.type,t="linear"===b&&"log"===T.type;if(s||t)for(var i,n,r=a._fullLayout.annotations,o=T._id.charAt(0),l=0;l<r.length;l++)i=r[l],n="annotations["+l+"].",i[o+"ref"]===T._id&&u(o),i["a"+o+"ref"]===T._id&&u("a"+o);function u(d){var c=i[d],x=null;x=s?k(c,T.range):Math.pow(10,c),M(x)||(x=null),p(n+d,x)}}},84046:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(85501),T=e(25625),b=e(50215);function p(s,t,i){function n(S,w){return M.coerce(s,t,b,S,w)}var r=n("visible"),o=n("clicktoshow");if(r||o){T(s,t,i,n);for(var l=t.showarrow,u=["x","y"],d=[-10,-30],c={_fullLayout:i},x=0;x<2;x++){var g=u[x],h=k.coerceRef(s,t,c,g,"","paper");if("paper"!==h&&k.getFromId(c,h)._annIndices.push(t._index),k.coercePosition(t,c,n,h,g,.5),l){var m="a"+g,y=k.coerceRef(s,t,c,m,"pixel",["pixel","paper"]);"pixel"!==y&&y!==h&&(y=t[m]="pixel");var v="pixel"===y?d[x]:.4;k.coercePosition(t,c,n,y,m,v)}n(g+"anchor"),n(g+"shift")}if(M.noneOrAll(s,t,["x","y"]),l&&M.noneOrAll(s,t,["ax","ay"]),o){var _=n("xclick"),f=n("yclick");t._xclick=void 0===_?t.x:k.cleanPosition(_,c,t.xref),t._yclick=void 0===f?t.y:k.cleanPosition(f,c,t.yref)}}}ee.exports=function(s,t){a(s,t,{name:"annotations",handleItemDefaults:p})}},92605:function(ee,D,e){"use strict";var M=e(39898),k=e(73972),a=e(74875),T=e(71828),b=T.strTranslate,p=e(89298),s=e(7901),t=e(91424),i=e(30211),n=e(63893),r=e(6964),o=e(28569),l=e(44467).arrayEditor,u=e(13011);function d(g,h){var m=g._fullLayout.annotations[h]||{},y=p.getFromId(g,m.xref),v=p.getFromId(g,m.yref);y&&y.setScale(),v&&v.setScale(),x(g,m,h,!1,y,v)}function c(g,h,m,y,v){var _=v[m],f=v[m+"ref"],S=-1!==m.indexOf("y"),w="domain"===p.getRefType(f),E=S?y.h:y.w;return g?w?_+(S?-h:h)/g._length:g.p2r(g.r2p(_)+h):_+(S?-h:h)/E}function x(g,h,m,y,v,_){var f,S,w=g._fullLayout,E=g._fullLayout._size,C=g._context.edits;y?(f="annotation-"+y,S=y+".annotations"):(f="annotation",S="annotations");var O=l(g.layout,S,h),P=O.modifyBase,R=O.modifyItem,j=O.getUpdateObj;w._infolayer.selectAll("."+f+'[data-index="'+m+'"]').remove();var z="clip"+w._uid+"_ann"+m;if(h._input&&!1!==h.visible){var N={x:{},y:{}},Y=+h.textangle||0,F=w._infolayer.append("g").classed(f,!0).attr("data-index",String(m)).style("opacity",h.opacity),U=F.append("g").classed("annotation-text-g",!0),V=C[h.showarrow?"annotationTail":"annotationPosition"],te=h.captureevents||C.annotationText||V,$=U.append("g").style("pointer-events",te?"all":null).call(r,"pointer").on("click",function(){g._dragging=!1,g.emit("plotly_clickannotation",be(M.event))});h.hovertext&&$.on("mouseover",function(){var ge=h.hoverlabel,Ae=ge.font,ye=this.getBoundingClientRect(),we=g.getBoundingClientRect();i.loneHover({x0:ye.left-we.left,x1:ye.right-we.left,y:(ye.top+ye.bottom)/2-we.top,text:h.hovertext,color:ge.bgcolor,borderColor:ge.bordercolor,fontFamily:Ae.family,fontSize:Ae.size,fontColor:Ae.color},{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:g})}).on("mouseout",function(){i.loneUnhover(w._hoverlayer.node())});var X=h.borderwidth,W=h.borderpad,J=X+W,Q=$.append("rect").attr("class","bg").style("stroke-width",X+"px").call(s.stroke,h.bordercolor).call(s.fill,h.bgcolor),re=h.width||h.height,ae=w._topclips.selectAll("#"+z).data(re?[0]:[]);ae.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),ae.exit().remove();var oe=h.font,ue=w._meta?T.templateString(h.text,w._meta):h.text,ve=$.append("text").classed("annotation-text",!0).text(ue);C.annotationText?ve.call(n.makeEditable,{delegate:$,gd:g}).call(de).on("edit",function(ge){h.text=ge,this.call(de),R("text",ge),v&&v.autorange&&P(v._name+".autorange",!0),_&&_.autorange&&P(_._name+".autorange",!0),k.call("_guiRelayout",g,j())}):ve.call(de)}else M.selectAll("#"+z).remove();function be(ge){var Ae={index:m,annotation:h._input,fullAnnotation:h,event:ge};return y&&(Ae.subplotId=y),Ae}function de(ge){return ge.call(t.font,oe).attr({"text-anchor":{left:"start",right:"end"}[h.align]||"middle"}),n.convertToTspans(ge,g,pe),ge}function pe(){var ge=ve.selectAll("a");1===ge.size()&&ge.text()===ve.text()&&$.insert("a",":first-child").attr({"xlink:xlink:href":ge.attr("xlink:href"),"xlink:xlink:show":ge.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(Q.node());var Ae=$.select(".annotation-text-math-group"),ye=!Ae.empty(),we=t.bBox((ye?Ae:ve).node()),se=we.width,ie=we.height,he=h.width||se,Se=h.height||ie,_e=Math.round(he+2*J),Me=Math.round(Se+2*J);function Ee(dt,ut){return"auto"===ut&&(ut=dt<.3333333333333333?"left":dt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ut]}for(var Ie=!1,fe=["x","y"],xe=0;xe<fe.length;xe++){var Te,Ce,De,ze,Ue,Ve=fe[xe],Xe=h[Ve+"ref"]||Ve,at=h["a"+Ve+"ref"],st={x:v,y:_}[Ve],ht=(Y+("x"===Ve?0:-90))*Math.PI/180,bt=_e*Math.cos(ht),vt=Me*Math.sin(ht),Qe=Math.abs(bt)+Math.abs(vt),nt=h[Ve+"anchor"],wt=h[Ve+"shift"]*("x"===Ve?1:-1),Ot=N[Ve],Pt=p.getRefType(Xe);if(st&&"domain"!==Pt){var St=st.r2fraction(h[Ve]);(St<0||St>1)&&(at===Xe?((St=st.r2fraction(h["a"+Ve]))<0||St>1)&&(Ie=!0):Ie=!0),Te=st._offset+st.r2p(h[Ve]),ze=.5}else{var qe="domain"===Pt;"x"===Ve?(De=h[Ve],Te=qe?st._offset+st._length*De:Te=E.l+E.w*De):(De=1-h[Ve],Te=qe?st._offset+st._length*De:Te=E.t+E.h*De),ze=h.showarrow?.5:De}if(h.showarrow){Ot.head=Te;var Ze=h["a"+Ve];if(Ue=bt*Ee(.5,h.xanchor)-vt*Ee(.5,h.yanchor),at===Xe){var Ne=p.getRefType(at);"domain"===Ne?("y"===Ve&&(Ze=1-Ze),Ot.tail=st._offset+st._length*Ze):"paper"===Ne?"y"===Ve?(Ze=1-Ze,Ot.tail=E.t+E.h*Ze):Ot.tail=E.l+E.w*Ze:Ot.tail=st._offset+st.r2p(Ze),Ce=Ue}else Ot.tail=Te+Ze,Ce=Ue+Ze;Ot.text=Ot.tail+Ue;var Ge=w["x"===Ve?"width":"height"];if("paper"===Xe&&(Ot.head=T.constrain(Ot.head,1,Ge-1)),"pixel"===at){var rt=-Math.max(Ot.tail-3,Ot.text),tt=Math.min(Ot.tail+3,Ot.text)-Ge;rt>0?(Ot.tail+=rt,Ot.text+=rt):tt>0&&(Ot.tail-=tt,Ot.text-=tt)}Ot.tail+=wt,Ot.head+=wt}else Ce=Ue=Qe*Ee(ze,nt),Ot.text=Te+Ue;Ot.text+=wt,Ue+=wt,Ce+=wt,h["_"+Ve+"padplus"]=Qe/2+Ce,h["_"+Ve+"padminus"]=Qe/2-Ce,h["_"+Ve+"size"]=Qe,h["_"+Ve+"shift"]=Ue}if(Ie)$.remove();else{var Re=0,Fe=0;if("left"!==h.align&&(Re=(he-se)*("center"===h.align?.5:1)),"top"!==h.valign&&(Fe=(Se-ie)*("middle"===h.valign?.5:1)),ye)Ae.select("svg").attr({x:J+Re-1,y:J+Fe}).call(t.setClipUrl,re?z:null,g);else{var et=J+Fe-we.top,We=J+Re-we.left;ve.call(n.positionText,We,et).call(t.setClipUrl,re?z:null,g)}ae.select("rect").call(t.setRect,J,J,he,Se),Q.call(t.setRect,X/2,X/2,_e-X,Me-X),$.call(t.setTranslate,Math.round(N.x.text-_e/2),Math.round(N.y.text-Me/2)),U.attr({transform:"rotate("+Y+","+N.x.text+","+N.y.text+")"});var ct,pt=function(dt,ut){F.selectAll(".annotation-arrow-g").remove();var kt=N.x.head,yt=N.y.head,gt=N.x.tail+dt,At=N.y.tail+ut,Lt=N.x.text+dt,It=N.y.text+ut,qt=T.rotationXYMatrix(Y,Lt,It),Qt=T.apply2DTransform(qt),Vt=T.apply2DTransform2(qt),Ft=+Q.attr("width"),en=+Q.attr("height"),wn=Lt-.5*Ft,kn=wn+Ft,on=It-.5*en,Ht=on+en,nn=[[wn,on,wn,Ht],[wn,Ht,kn,Ht],[kn,Ht,kn,on],[kn,on,wn,on]].map(Vt);if(!nn.reduce(function($n,qn){return $n^!!T.segmentsIntersect(kt,yt,kt+1e6,yt+1e6,qn[0],qn[1],qn[2],qn[3])},!1)){nn.forEach(function($n){var qn=T.segmentsIntersect(gt,At,kt,yt,$n[0],$n[1],$n[2],$n[3]);qn&&(gt=qn.x,At=qn.y)});var Kt=h.arrowwidth,an=h.arrowcolor,xn=h.arrowside,_n=F.append("g").style({opacity:s.opacity(an)}).classed("annotation-arrow-g",!0),mn=_n.append("path").attr("d","M"+gt+","+At+"L"+kt+","+yt).style("stroke-width",Kt+"px").call(s.stroke,s.rgb(an));if(u(mn,xn,h),C.annotationPosition&&mn.node().parentNode&&!y){var An=kt,vn=yt;if(h.standoff){var On=Math.sqrt(Math.pow(kt-gt,2)+Math.pow(yt-At,2));An+=h.standoff*(gt-kt)/On,vn+=h.standoff*(At-yt)/On}var Bn,er,or=_n.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(gt-An)+","+(At-vn),transform:b(An,vn)}).style("stroke-width",Kt+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");o.init({element:or.node(),gd:g,prepFn:function(){var $n=t.getTranslate($);Bn=$n.x,er=$n.y,v&&v.autorange&&P(v._name+".autorange",!0),_&&_.autorange&&P(_._name+".autorange",!0)},moveFn:function($n,qn){var cr=Qt(Bn,er),Nt=cr[0]+$n,Jt=cr[1]+qn;$.call(t.setTranslate,Nt,Jt),R("x",c(v,$n,"x",E,h)),R("y",c(_,qn,"y",E,h)),h.axref===h.xref&&R("ax",c(v,$n,"ax",E,h)),h.ayref===h.yref&&R("ay",c(_,qn,"ay",E,h)),_n.attr("transform",b($n,qn)),U.attr({transform:"rotate("+Y+","+Nt+","+Jt+")"})},doneFn:function(){k.call("_guiRelayout",g,j());var $n=document.querySelector(".js-notes-box-panel");$n&&$n.redraw($n.selectedObj)}})}}};h.showarrow&&pt(0,0),V&&o.init({element:$.node(),gd:g,prepFn:function(){ct=U.attr("transform")},moveFn:function(dt,ut){var kt="pointer";if(h.showarrow)h.axref===h.xref?R("ax",c(v,dt,"ax",E,h)):R("ax",h.ax+dt),h.ayref===h.yref?R("ay",c(_,ut,"ay",E.w,h)):R("ay",h.ay+ut),pt(dt,ut);else{if(y)return;var yt,gt;if(v)yt=c(v,dt,"x",E,h);else{var At=h._xsize/E.w,Lt=h.x+(h._xshift-h.xshift)/E.w-At/2;yt=o.align(Lt+dt/E.w,At,0,1,h.xanchor)}if(_)gt=c(_,ut,"y",E,h);else{var It=h._ysize/E.h,qt=h.y-(h._yshift+h.yshift)/E.h-It/2;gt=o.align(qt-ut/E.h,It,0,1,h.yanchor)}R("x",yt),R("y",gt),v&&_||(kt=o.getCursor(v?.5:yt,_?.5:gt,h.xanchor,h.yanchor))}U.attr({transform:b(dt,ut)+ct}),r($,kt)},clickFn:function(dt,ut){h.captureevents&&g.emit("plotly_clickannotation",be(ut))},doneFn:function(){r($),k.call("_guiRelayout",g,j());var dt=document.querySelector(".js-notes-box-panel");dt&&dt.redraw(dt.selectedObj)}})}}}ee.exports={draw:function(g){var h=g._fullLayout;h._infolayer.selectAll(".annotation").remove();for(var m=0;m<h.annotations.length;m++)h.annotations[m].visible&&d(g,m);return a.previousPromises(g)},drawOne:d,drawRaw:x}},13011:function(ee,D,e){"use strict";var M=e(39898),k=e(7901),a=e(82884),T=e(71828),b=T.strScale,p=T.strRotate,s=T.strTranslate;ee.exports=function(t,i,n){var r,o,l,u,d=t.node(),c=a[n.arrowhead||0],x=a[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),m=i.indexOf("start")>=0,y=i.indexOf("end")>=0,v=c.backoff*g+n.standoff,_=x.backoff*h+n.startstandoff;if("line"===d.nodeName){r={x:+t.attr("x1"),y:+t.attr("y1")},o={x:+t.attr("x2"),y:+t.attr("y2")};var f=r.x-o.x,S=r.y-o.y;if(u=(l=Math.atan2(S,f))+Math.PI,v&&_&&v+_>Math.sqrt(f*f+S*S))return void F();if(v){if(v*v>f*f+S*S)return void F();var w=v*Math.cos(l),E=v*Math.sin(l);o.x+=w,o.y+=E,t.attr({x2:o.x,y2:o.y})}if(_){if(_*_>f*f+S*S)return void F();var C=_*Math.cos(l),O=_*Math.sin(l);r.x-=C,r.y-=O,t.attr({x1:r.x,y1:r.y})}}else if("path"===d.nodeName){var P=d.getTotalLength(),R="";if(P<v+_)return void F();var j=d.getPointAtLength(0),z=d.getPointAtLength(.1);l=Math.atan2(j.y-z.y,j.x-z.x),r=d.getPointAtLength(Math.min(_,P)),R="0px,"+_+"px,";var N=d.getPointAtLength(P),Y=d.getPointAtLength(P-.1);u=Math.atan2(N.y-Y.y,N.x-Y.x),o=d.getPointAtLength(Math.max(0,P-v)),R+=P-(R?_+v:v)+"px,"+P+"px",t.style("stroke-dasharray",R)}function F(){t.style("stroke-dasharray","0px,100px")}function U(V,te,$,X){V.path&&(V.noRotate&&($=0),M.select(d.parentNode).append("path").attr({class:t.attr("class"),d:V.path,transform:s(te.x,te.y)+p(180*$/Math.PI)+b(X)}).style({fill:k.rgb(n.arrowcolor),"stroke-width":0}))}m&&U(x,r,l,h),y&&U(c,o,u,g)}},32745:function(ee,D,e){"use strict";var M=e(92605),k=e(44317);ee.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:M.draw,drawOne:M.drawOne,drawRaw:M.drawRaw,hasClickToShow:k.hasClickToShow,onClick:k.onClick,convertCoords:e(94128)}},26997:function(ee,D,e){"use strict";var M=e(50215),k=e(30962).overrideAll,a=e(44467).templatedArray;ee.exports=k(a("annotation",{visible:M.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:M.xanchor,xshift:M.xshift,yanchor:M.yanchor,yshift:M.yshift,text:M.text,textangle:M.textangle,font:M.font,width:M.width,height:M.height,opacity:M.opacity,align:M.align,valign:M.valign,bgcolor:M.bgcolor,bordercolor:M.bordercolor,borderpad:M.borderpad,borderwidth:M.borderwidth,showarrow:M.showarrow,arrowcolor:M.arrowcolor,arrowhead:M.arrowhead,startarrowhead:M.startarrowhead,arrowside:M.arrowside,arrowsize:M.arrowsize,startarrowsize:M.startarrowsize,arrowwidth:M.arrowwidth,standoff:M.standoff,startstandoff:M.startstandoff,hovertext:M.hovertext,hoverlabel:M.hoverlabel,captureevents:M.captureevents}),"calc","from-root")},5485:function(ee,D,e){"use strict";var M=e(71828),k=e(89298);function a(T,b){var p=b.fullSceneLayout.domain,s=b.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};T._xa={},M.extendFlat(T._xa,t),k.setConvert(T._xa),T._xa._offset=s.l+p.x[0]*s.w,T._xa.l2p=function(){return.5*(1+T._pdata[0]/T._pdata[3])*s.w*(p.x[1]-p.x[0])},T._ya={},M.extendFlat(T._ya,t),k.setConvert(T._ya),T._ya._offset=s.t+(1-p.y[1])*s.h,T._ya.l2p=function(){return.5*(1-T._pdata[1]/T._pdata[3])*s.h*(p.y[1]-p.y[0])}}ee.exports=function(T){for(var b=T.fullSceneLayout.annotations,p=0;p<b.length;p++)a(b[p],T);T.fullLayout._infolayer.selectAll(".annotation-"+T.id).remove()}},20226:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(85501),T=e(25625),b=e(26997);function p(s,t,i,n){function r(l,u){return M.coerce(s,t,b,l,u)}function o(l){var u=l+"axis",d={_fullLayout:{}};return d._fullLayout[u]=i[u],k.coercePosition(t,d,r,l,l,.5)}r("visible")&&(T(s,t,n.fullLayout,r),o("x"),o("y"),o("z"),M.noneOrAll(s,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",r("xanchor"),r("yanchor"),r("xshift"),r("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",r("ax",-10),r("ay",-30),M.noneOrAll(s,t,["ax","ay"])))}ee.exports=function(s,t,i){a(s,t,{name:"annotations",handleItemDefaults:p,fullLayout:i.fullLayout})}},82188:function(ee,D,e){"use strict";var M=e(92605).drawRaw,k=e(63538),a=["x","y","z"];ee.exports=function(T){for(var b=T.fullSceneLayout,p=T.dataScale,s=b.annotations,t=0;t<s.length;t++){for(var i=s[t],n=!1,r=0;r<3;r++){var o=a[r],l=i[o],u=b[o+"axis"].r2fraction(l);if(u<0||u>1){n=!0;break}}n?T.fullLayout._infolayer.select(".annotation-"+T.id+'[data-index="'+t+'"]').remove():(i._pdata=k(T.glplot.cameraParams,[b.xaxis.r2l(i.x)*p[0],b.yaxis.r2l(i.y)*p[1],b.zaxis.r2l(i.z)*p[2]]),M(T.graphDiv,i,t,T.id,i._xa,i._ya))}}},2468:function(ee,D,e){"use strict";var M=e(73972),k=e(71828);ee.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:function(a,T){var b=M.subplotsRegistry.gl3d;if(b)for(var p=b.attrRegex,s=Object.keys(a),t=0;t<s.length;t++){var i=s[t];p.test(i)&&(a[i].annotations||[]).length&&(k.pushUnique(T._basePlotModules,b),k.pushUnique(T._subplots.gl3d,i))}},convert:e(5485),draw:e(82188)}},7561:function(ee,D,e){"use strict";ee.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(ee,D,e){"use strict";var M=e(7561),k=e(71828),a=e(50606),T=a.EPOCHJD,b=a.ONEDAY,p={valType:"enumerated",values:k.sortObjectKeys(M.calendars),editType:"calc",dflt:"gregorian"},s=function(g,h,m,y){var v={};return v[m]=p,k.coerce(g,h,v,m,y)},t="##",i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},n={};function r(g){return n[g]||(n[g]=M.instance(g))}function o(g){return k.extendFlat({},p,{description:g})}function l(g){return"Sets the calendar system to use with `"+g+"` date data."}var u={xcalendar:o(l("x"))},d=k.extendFlat({},u,{ycalendar:o(l("y"))}),c=k.extendFlat({},d,{zcalendar:o(l("z"))}),x=o(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));ee.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:c,surface:c,mesh3d:c,scattergl:d,ohlc:u,candlestick:u},layout:{calendar:o(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:x},yaxis:{calendar:x},scene:{xaxis:{calendar:x},yaxis:{calendar:x},zaxis:{calendar:x}},polar:{radialaxis:{calendar:x}}},transforms:{filter:{valuecalendar:o(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:o(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:p,handleDefaults:s,handleTraceDefaults:function(g,h,m,y){for(var v=0;v<m.length;v++)s(g,h,m[v]+"calendar",y.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:r,worldCalFmt:function(g,h,m){for(var y,v,_,f,S,w=Math.floor((h+.05)/b)+T,E=r(m).fromJD(w),C=0;-1!==(C=g.indexOf("%",C));)"0"===(y=g.charAt(C+1))||"-"===y||"_"===y?(_=3,v=g.charAt(C+2),"_"===y&&(y="-")):(v=y,y="0",_=2),(f=i[v])?(S=f===t?t:E.formatDate(f[y]),g=g.substr(0,C)+S+g.substr(C+_),C+=S.length):C+=_;return g}}},22399:function(ee,D){"use strict";D.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],D.defaultLine="#444",D.lightLine="#eee",D.background="#fff",D.borderLine="#BEC8D9",D.lightFraction=90.9090909090909},7901:function(ee,D,e){"use strict";var M=e(84267),k=e(92770),a=e(73627).isTypedArray,T=ee.exports={},b=e(22399);T.defaults=b.defaults;var p=T.defaultLine=b.defaultLine;T.lightLine=b.lightLine;var s=T.background=b.background;function t(i){if(k(i)||"string"!=typeof i)return i;var n=i.trim();if("rgb"!==n.substr(0,3))return i;var r=n.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return i;var o=r[1].trim().split(/\s*[\s,]\s*/),l="a"===n.charAt(3)&&4===o.length;if(!l&&3!==o.length)return i;for(var u=0;u<o.length;u++){if(!(o[u].length&&(o[u]=Number(o[u]),o[u]>=0)))return i;if(3===u)o[u]>1&&(o[u]=1);else if(o[u]>=1)return i}var d=Math.round(255*o[0])+", "+Math.round(255*o[1])+", "+Math.round(255*o[2]);return l?"rgba("+d+", "+o[3]+")":"rgb("+d+")"}T.tinyRGB=function(i){var n=i.toRgb();return"rgb("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+")"},T.rgb=function(i){return T.tinyRGB(M(i))},T.opacity=function(i){return i?M(i).getAlpha():0},T.addOpacity=function(i,n){var r=M(i).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+n+")"},T.combine=function(i,n){var r=M(i).toRgb();if(1===r.a)return M(i).toRgbString();var o=M(n||s).toRgb(),l=1===o.a?o:{r:255*(1-o.a)+o.r*o.a,g:255*(1-o.a)+o.g*o.a,b:255*(1-o.a)+o.b*o.a},u={r:l.r*(1-r.a)+r.r*r.a,g:l.g*(1-r.a)+r.g*r.a,b:l.b*(1-r.a)+r.b*r.a};return M(u).toRgbString()},T.contrast=function(i,n,r){var o=M(i);return 1!==o.getAlpha()&&(o=M(T.combine(i,s))),(o.isDark()?n?o.lighten(n):s:r?o.darken(r):p).toString()},T.stroke=function(i,n){var r=M(n);i.style({stroke:T.tinyRGB(r),"stroke-opacity":r.getAlpha()})},T.fill=function(i,n){var r=M(n);i.style({fill:T.tinyRGB(r),"fill-opacity":r.getAlpha()})},T.clean=function(i){if(i&&"object"==typeof i){var n,r,o,l,u=Object.keys(i);for(n=0;n<u.length;n++)if(l=i[o=u[n]],"color"===o.substr(o.length-5))if(Array.isArray(l))for(r=0;r<l.length;r++)l[r]=t(l[r]);else i[o]=t(l);else if("colorscale"===o.substr(o.length-10)&&Array.isArray(l))for(r=0;r<l.length;r++)Array.isArray(l[r])&&(l[r][1]=t(l[r][1]));else if(Array.isArray(l)){var d=l[0];if(!Array.isArray(d)&&d&&"object"==typeof d)for(r=0;r<l.length;r++)T.clean(l[r])}else l&&"object"==typeof l&&!a(l)&&T.clean(l)}}},63583:function(ee,D,e){"use strict";var M=e(13838),k=e(41940),a=e(1426).extendFlat,T=e(30962).overrideAll;ee.exports=T({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:M.linecolor,outlinewidth:M.linewidth,bordercolor:M.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:M.minor.tickmode,nticks:M.nticks,tick0:M.tick0,dtick:M.dtick,tickvals:M.tickvals,ticktext:M.ticktext,ticks:a({},M.ticks,{dflt:""}),ticklabeloverflow:a({},M.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:M.ticklen,tickwidth:M.tickwidth,tickcolor:M.tickcolor,ticklabelstep:M.ticklabelstep,showticklabels:M.showticklabels,labelalias:M.labelalias,tickfont:k({}),tickangle:M.tickangle,tickformat:M.tickformat,tickformatstops:M.tickformatstops,tickprefix:M.tickprefix,showtickprefix:M.showtickprefix,ticksuffix:M.ticksuffix,showticksuffix:M.showticksuffix,separatethousands:M.separatethousands,exponentformat:M.exponentformat,minexponent:M.minexponent,showexponent:M.showexponent,title:{text:{valType:"string"},font:k({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:k({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(ee){"use strict";ee.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(ee,D,e){"use strict";var M=e(71828),k=e(44467),a=e(26218),T=e(38701),b=e(96115),p=e(89426),s=e(63583);ee.exports=function(t,i,n){var r=k.newContainer(i,"colorbar"),o=t.colorbar||{};function l(R,j){return M.coerce(o,r,s,R,j)}var u=n.margin||{t:0,b:0,l:0,r:0},d=n.width-u.l-u.r,c=n.height-u.t-u.b,x="v"===l("orientation"),g=l("thicknessmode");l("thickness","fraction"===g?30/(x?d:c):30);var h=l("lenmode");l("len","fraction"===h?1:x?c:d);var m,y,v,_="paper"===l("yref"),f="paper"===l("xref"),S="left";x?(v="middle",S=f?"left":"right",m=f?1.02:1,y=.5):(v=_?"bottom":"top",S="center",m=.5,y=_?1.02:1),M.coerce(o,r,{x:{valType:"number",min:f?-2:0,max:f?3:1,dflt:m}},"x"),M.coerce(o,r,{y:{valType:"number",min:_?-2:0,max:_?3:1,dflt:y}},"y"),l("xanchor",S),l("xpad"),l("yanchor",v),l("ypad"),M.noneOrAll(o,r,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var w=M.coerce(o,r,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:x?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",-1!==w.indexOf("inside")?"hide past domain":"hide past div"),a(o,r,l,"linear");var E=n.font,C={outerTicks:!1,font:E};-1!==w.indexOf("inside")&&(C.bgColor="black"),p(o,r,l,"linear",C),b(o,r,l,"linear",C),T(o,r,l,"linear",C),l("title.text",n._dfltTitle.colorbar);var O=r.showticklabels?r.tickfont:E,P=M.extendFlat({},O,{color:E.color,size:M.bigFont(O.size)});M.coerceFont(l,"title.font",P),l("title.side",x?"top":"right")}},98981:function(ee,D,e){"use strict";var M=e(39898),k=e(84267),a=e(74875),T=e(73972),b=e(89298),p=e(28569),s=e(71828),t=s.strTranslate,i=e(1426).extendFlat,n=e(6964),r=e(91424),o=e(7901),l=e(92998),u=e(63893),d=e(52075).flipScale,c=e(71453),x=e(52830),g=e(13838),h=e(18783),m=h.LINE_SPACING,y=h.FROM_TL,v=h.FROM_BR,_=e(30939).cn;ee.exports={draw:function(f){var S=f._fullLayout._infolayer.selectAll("g."+_.colorbar).data(function(w){var E,C,O,P,R=w._fullLayout,j=w.calcdata,z=[];function N(re){return i(re,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Y(){"function"==typeof P.calc?P.calc(w,O,E):(E._fillgradient=C.reversescale?d(C.colorscale):C.colorscale,E._zrange=[C[P.min],C[P.max]])}for(var F=0;F<j.length;F++){var U=j[F];if((O=U[0].trace)._module){var V=O._module.colorbar;if(!0===O.visible&&V)for(var te=Array.isArray(V),$=te?V:[V],X=0;X<$.length;X++){var W=(P=$[X]).container;(C=W?O[W]:O)&&C.showscale&&((E=N(C.colorbar))._id="cb"+O.uid+(te&&W?"-"+W:""),E._traceIndex=O.index,E._propPrefix=(W?W+".":"")+"colorbar.",E._meta=O._meta,Y(),z.push(E))}}}for(var J in R._colorAxes)if((C=R[J]).showscale){var Q=R._colorAxes[J];(E=N(C.colorbar))._id="cb"+J,E._propPrefix=J+".colorbar.",E._meta=R._meta,P={min:"cmin",max:"cmax"},"heatmap"!==Q[0]&&(O=Q[1],P.calc=O._module.colorbar.calc),Y(),z.push(E)}return z}(f),function(w){return w._id});S.enter().append("g").attr("class",function(w){return w._id}).classed(_.colorbar,!0),S.each(function(w){var E=M.select(this);s.ensureSingle(E,"rect",_.cbbg),s.ensureSingle(E,"g",_.cbfills),s.ensureSingle(E,"g",_.cblines),s.ensureSingle(E,"g",_.cbaxis,function(O){O.classed(_.crisp,!0)}),s.ensureSingle(E,"g",_.cbtitleunshift,function(O){O.append("g").classed(_.cbtitle,!0)}),s.ensureSingle(E,"rect",_.cboutline);var O,P,R,j,z,N,Y,F,C=function(O,P,R){var j="v"===P.orientation,z=P.len,N=P.lenmode,Y=P.thickness,F=P.thicknessmode,U=P.outlinewidth,V=P.borderwidth,te=P.bgcolor,$=P.xanchor,X=P.yanchor,W=P.xpad,J=P.ypad,Q=P.x,re=j?P.y:1-P.y,ae="paper"===P.yref,oe="paper"===P.xref,ue=R._fullLayout,ve=ue._size,be=P._fillcolor,de=P._line,pe=P.title,ge=pe.side,Ae=P._zrange||M.extent(("function"==typeof be?be:de.color).domain()),ye="function"==typeof de.color?de.color:function(){return de.color},we="function"==typeof be?be:function(){return be},se=P._levels,ie=function(Ne,Ge,rt){var tt,Re,Fe=Ge._levels,et=[],We=[],ct=Fe.end+Fe.size/100,pt=Fe.size,dt=1.001*rt[0]-.001*rt[1],ut=1.001*rt[1]-.001*rt[0];for(Re=0;Re<1e5&&(tt=Fe.start+Re*pt,!(pt>0?tt>=ct:tt<=ct));Re++)tt>dt&&tt<ut&&et.push(tt);if(Ge._fillgradient)We=[0];else if("function"==typeof Ge._fillcolor){var kt=Ge._filllevels;if(kt)for(ct=kt.end+kt.size/100,pt=kt.size,Re=0;Re<1e5&&(tt=kt.start+Re*pt,!(pt>0?tt>=ct:tt<=ct));Re++)tt>rt[0]&&tt<rt[1]&&We.push(tt);else(We=et.map(function(yt){return yt-Fe.size/2})).push(We[We.length-1]+Fe.size)}else Ge._fillcolor&&"string"==typeof Ge._fillcolor&&(We=[0]);return Fe.size<0&&(et.reverse(),We.reverse()),{line:et,fill:We}}(0,P,Ae),he=ie.fill,Se=ie.line,_e=Math.round(Y*("fraction"===F?j?ve.w:ve.h:1)),Me=_e/(j?ve.w:ve.h),Ee=Math.round(z*("fraction"===N?j?ve.h:ve.w:1)),Ie=Ee/(j?ve.h:ve.w),fe=oe?ve.w:R._fullLayout.width,xe=ae?ve.h:R._fullLayout.height,Te=Math.round(j?Q*fe+W:re*xe+J),Ce={center:.5,right:1}[$]||0,De={top:1,middle:.5}[X]||0,ze=j?Q-Ce*Me:re-De*Me,Ue=j?re-De*Ie:Q-Ce*Ie,Ve=Math.round(j?xe*(1-Ue):fe*Ue);P._lenFrac=Ie,P._thickFrac=Me,P._uFrac=ze,P._vFrac=Ue;var Xe=P._axis=function(Ne,Ge,rt){var tt=Ne._fullLayout,Re="v"===Ge.orientation,Fe={type:"linear",range:rt,tickmode:Ge.tickmode,nticks:Ge.nticks,tick0:Ge.tick0,dtick:Ge.dtick,tickvals:Ge.tickvals,ticktext:Ge.ticktext,ticks:Ge.ticks,ticklen:Ge.ticklen,tickwidth:Ge.tickwidth,tickcolor:Ge.tickcolor,showticklabels:Ge.showticklabels,labelalias:Ge.labelalias,ticklabelposition:Ge.ticklabelposition,ticklabeloverflow:Ge.ticklabeloverflow,ticklabelstep:Ge.ticklabelstep,tickfont:Ge.tickfont,tickangle:Ge.tickangle,tickformat:Ge.tickformat,exponentformat:Ge.exponentformat,minexponent:Ge.minexponent,separatethousands:Ge.separatethousands,showexponent:Ge.showexponent,showtickprefix:Ge.showtickprefix,tickprefix:Ge.tickprefix,showticksuffix:Ge.showticksuffix,ticksuffix:Ge.ticksuffix,title:Ge.title,showline:!0,anchor:"free",side:Re?"right":"bottom",position:1},et=Re?"y":"x",We={type:"linear",_id:et+Ge._id},ct={letter:et,font:tt.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:tt.calendar};function pt(dt,ut){return s.coerce(Fe,We,g,dt,ut)}return c(Fe,We,pt,ct,tt),x(Fe,We,pt,ct),We}(R,P,Ae);Xe.position=Me+(j?Q+W/ve.w:re+J/ve.h);var at=-1!==["top","bottom"].indexOf(ge);if(j&&at&&(Xe.title.side=ge,Xe.titlex=Q+W/ve.w,Xe.titley=Ue+("top"===pe.side?Ie-J/ve.h:J/ve.h)),j||at||(Xe.title.side=ge,Xe.titley=re+J/ve.h,Xe.titlex=Ue+W/ve.w),de.color&&"auto"===P.tickmode){Xe.tickmode="linear",Xe.tick0=se.start;var st=se.size,ht=s.constrain(Ee/50,4,15)+1,bt=(Ae[1]-Ae[0])/((P.nticks||ht)*st);if(bt>1){var vt=Math.pow(10,Math.floor(Math.log(bt)/Math.LN10));st*=vt*s.roundUp(bt/vt,[2,5,10]),(Math.abs(se.start)/se.size+1e-6)%1<2e-6&&(Xe.tick0=0)}Xe.dtick=st}Xe.domain=j?[Ue+J/ve.h,Ue+Ie-J/ve.h]:[Ue+W/ve.w,Ue+Ie-W/ve.w],Xe.setScale(),O.attr("transform",t(Math.round(ve.l),Math.round(ve.t)));var Qe,nt=O.select("."+_.cbtitleunshift).attr("transform",t(-Math.round(ve.l),-Math.round(ve.t))),wt=Xe.ticklabelposition,Ot=Xe.title.font.size,Pt=O.select("."+_.cbaxis),St=0,qe=0;function Ze(Ne,Ge){var rt={propContainer:Xe,propName:P._propPrefix+"title",traceIndex:P._traceIndex,_meta:P._meta,placeholder:ue._dfltTitle.colorbar,containerGroup:O.select("."+_.cbtitle)},tt="h"===Ne.charAt(0)?Ne.substr(1):"h"+Ne;O.selectAll("."+tt+",."+tt+"-math-group").remove(),l.draw(R,Ne,i(rt,Ge||{}))}return s.syncOrAsync([a.previousPromises,function(){var Ne,Ge;(j&&at||!j&&!at)&&("top"===ge&&(Ne=W+ve.l+fe*Q,Ge=J+ve.t+xe*(1-Ue-Ie)+3+.75*Ot),"bottom"===ge&&(Ne=W+ve.l+fe*Q,Ge=J+ve.t+xe*(1-Ue)-3-.25*Ot),"right"===ge&&(Ge=J+ve.t+xe*re+3+.75*Ot,Ne=W+ve.l+fe*Ue),Ze(Xe._id+"title",{attributes:{x:Ne,y:Ge,"text-anchor":j?"start":"middle"}}))},function(){if(!j&&!at||j&&at){var Ne,Ge=O.select("."+_.cbtitle),rt=Ge.select("text"),tt=[-U/2,U/2],Re=Ge.select(".h"+Xe._id+"title-math-group").node(),Fe=15.6;if(rt.node()&&(Fe=parseInt(rt.node().style.fontSize,10)*m),Re?(Ne=r.bBox(Re),qe=Ne.width,(St=Ne.height)>Fe&&(tt[1]-=(St-Fe)/2)):rt.node()&&!rt.classed(_.jsPlaceholder)&&(Ne=r.bBox(rt.node()),qe=Ne.width,St=Ne.height),j){if(St){if(St+=5,"top"===ge)Xe.domain[1]-=St/ve.h,tt[1]*=-1;else{Xe.domain[0]+=St/ve.h;var et=u.lineCount(rt);tt[1]+=(1-et)*Fe}Ge.attr("transform",t(tt[0],tt[1])),Xe.setScale()}}else qe&&("right"===ge&&(Xe.domain[0]+=(qe+Ot/2)/ve.w),Ge.attr("transform",t(tt[0],tt[1])),Xe.setScale())}O.selectAll("."+_.cbfills+",."+_.cblines).attr("transform",j?t(0,Math.round(ve.h*(1-Xe.domain[1]))):t(Math.round(ve.w*Xe.domain[0]),0)),Pt.attr("transform",j?t(0,Math.round(-ve.t)):t(Math.round(-ve.l),0));var We=O.select("."+_.cbfills).selectAll("rect."+_.cbfill).attr("style","").data(he);We.enter().append("rect").classed(_.cbfill,!0).attr("style",""),We.exit().remove();var ct=Ae.map(Xe.c2p).map(Math.round).sort(function(yt,gt){return yt-gt});We.each(function(yt,gt){var At=[0===gt?Ae[0]:(he[gt]+he[gt-1])/2,gt===he.length-1?Ae[1]:(he[gt]+he[gt+1])/2].map(Xe.c2p).map(Math.round);j&&(At[1]=s.constrain(At[1]+(At[1]>At[0])?1:-1,ct[0],ct[1]));var Lt=M.select(this).attr(j?"x":"y",Te).attr(j?"y":"x",M.min(At)).attr(j?"width":"height",Math.max(_e,2)).attr(j?"height":"width",Math.max(M.max(At)-M.min(At),2));if(P._fillgradient)r.gradient(Lt,R,P._id,j?"vertical":"horizontalreversed",P._fillgradient,"fill");else{var It=we(yt).replace("e-","");Lt.attr("fill",k(It).toHexString())}});var pt=O.select("."+_.cblines).selectAll("path."+_.cbline).data(de.color&&de.width?Se:[]);pt.enter().append("path").classed(_.cbline,!0),pt.exit().remove(),pt.each(function(yt){var gt=Te,At=Math.round(Xe.c2p(yt))+de.width/2%1;M.select(this).attr("d","M"+(j?gt+","+At:At+","+gt)+(j?"h":"v")+_e).call(r.lineGroupStyle,de.width,ye(yt),de.dash)}),Pt.selectAll("g."+Xe._id+"tick,path").remove();var dt=Te+_e+(U||0)/2-("outside"===P.ticks?1:0),ut=b.calcTicks(Xe),kt=b.getTickSigns(Xe)[2];return b.drawTicks(R,Xe,{vals:"inside"===Xe.ticks?b.clipEnds(Xe,ut):ut,layer:Pt,path:b.makeTickPath(Xe,dt,kt),transFn:b.makeTransTickFn(Xe)}),b.drawLabels(R,Xe,{vals:ut,layer:Pt,transFn:b.makeTransTickLabelFn(Xe),labelFns:b.makeLabelFns(Xe,dt)})},function(){if(j&&!at||!j&&at){var Ne,Ge,rt=Xe.position||0,tt=Xe._offset+Xe._length/2;if("right"===ge)Ge=tt,Ne=ve.l+fe*rt+10+Ot*(Xe.showticklabels?1:.5);else if(Ne=tt,"bottom"===ge&&(Ge=ve.t+xe*rt+10+(-1===wt.indexOf("inside")?Xe.tickfont.size:0)+("intside"!==Xe.ticks&&P.ticklen||0)),"top"===ge){var Re=pe.text.split("<br>").length;Ge=ve.t+xe*rt+10-_e-m*Ot*Re}Ze((j?"h":"v")+Xe._id+"title",{avoid:{selection:M.select(R).selectAll("g."+Xe._id+"tick"),side:ge,offsetTop:j?0:ve.t,offsetLeft:j?ve.l:0,maxShift:j?ue.width:ue.height},attributes:{x:Ne,y:Ge,"text-anchor":"middle"},transform:{rotate:j?-90:0,offset:0}})}},a.previousPromises,function(){var Ne,Ge=_e+U/2;-1===wt.indexOf("inside")&&(Ne=r.bBox(Pt.node()),Ge+=j?Ne.width:Ne.height),Qe=nt.select("text");var rt=0,tt=j&&"top"===ge,Re=!j&&"right"===ge,Fe=0;if(Qe.node()&&!Qe.classed(_.jsPlaceholder)){var et,We=nt.select(".h"+Xe._id+"title-math-group").node();We&&(j&&at||!j&&!at)?(rt=(Ne=r.bBox(We)).width,et=Ne.height):(rt=(Ne=r.bBox(nt.node())).right-ve.l-(j?Te:Ve),et=Ne.bottom-ve.t-(j?Ve:Te),j||"top"!==ge||(Ge+=Ne.height,Fe=Ne.height)),Re&&(Qe.attr("transform",t(rt/2+Ot/2,0)),rt*=2),Ge=Math.max(Ge,j?rt:et)}var ct=2*(j?W:J)+Ge+V+U/2,pt=0;!j&&pe.text&&"bottom"===X&&re<=0&&(ct+=pt=ct/2,Fe+=pt),ue._hColorbarMoveTitle=pt,ue._hColorbarMoveCBTitle=Fe;var dt=V+U,ut=(j?Te:Ve)-dt/2-(j?W:0),kt=(j?Ve:Te)-(j?Ee:J+Fe-pt);O.select("."+_.cbbg).attr("x",ut).attr("y",kt).attr(j?"width":"height",Math.max(ct-pt,2)).attr(j?"height":"width",Math.max(Ee+dt,2)).call(o.fill,te).call(o.stroke,P.bordercolor).style("stroke-width",V);var yt=Re?Math.max(rt-10,0):0;O.selectAll("."+_.cboutline).attr("x",(j?Te:Ve+W)+yt).attr("y",(j?Ve+J-Ee:Te)+(tt?St:0)).attr(j?"width":"height",Math.max(_e,2)).attr(j?"height":"width",Math.max(Ee-(j?2*J+St:2*W+yt),2)).call(o.stroke,P.outlinecolor).style({fill:"none","stroke-width":U});var gt=j?Ce*ct:0,At=j?0:(1-De)*ct-Fe;if(gt=oe?ve.l-gt:-gt,At=ae?ve.t-At:-At,O.attr("transform",t(gt,At)),!j&&(V||k(te).getAlpha()&&!k.equals(ue.paper_bgcolor,te))){var Lt=Pt.selectAll("text"),It=Lt[0].length,qt=O.select("."+_.cbbg).node(),Qt=r.bBox(qt),Vt=r.getTranslate(O);Lt.each(function(xn,_n){var mn=It-1;if(0===_n||_n===mn){var An,vn=r.bBox(this),On=r.getTranslate(this);if(_n===mn){var Bn=vn.right+On.x;(An=Qt.right+Vt.x+Ve-V-2+Q-Bn)>0&&(An=0)}else if(0===_n){var er=vn.left+On.x;(An=Qt.left+Vt.x+Ve+V+2-er)<0&&(An=0)}An&&(It<3?this.setAttribute("transform","translate("+An+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ft={},en=y[$],wn=v[$],kn=y[X],on=v[X],Ht=ct-_e;j?("pixels"===N?(Ft.y=re,Ft.t=Ee*kn,Ft.b=Ee*on):(Ft.t=Ft.b=0,Ft.yt=re+z*kn,Ft.yb=re-z*on),"pixels"===F?(Ft.x=Q,Ft.l=ct*en,Ft.r=ct*wn):(Ft.l=Ht*en,Ft.r=Ht*wn,Ft.xl=Q-Y*en,Ft.xr=Q+Y*wn)):("pixels"===N?(Ft.x=Q,Ft.l=Ee*en,Ft.r=Ee*wn):(Ft.l=Ft.r=0,Ft.xl=Q+z*en,Ft.xr=Q-z*wn),"pixels"===F?(Ft.y=1-re,Ft.t=ct*kn,Ft.b=ct*on):(Ft.t=Ht*kn,Ft.b=Ht*on,Ft.yt=re-Y*kn,Ft.yb=re+Y*on));var nn=P.y<.5?"b":"t",Kt=P.x<.5?"l":"r";R._fullLayout._reservedMargin[P._id]={};var an={r:ue.width-ut-gt,l:ut+Ft.r,b:ue.height-kt-At,t:kt+Ft.b};oe&&ae?a.autoMargin(R,P._id,Ft):oe?R._fullLayout._reservedMargin[P._id][nn]=an[nn]:ae||j?R._fullLayout._reservedMargin[P._id][Kt]=an[Kt]:R._fullLayout._reservedMargin[P._id][nn]=an[nn]}],R)}(E,w,f);C&&C.then&&(f._promises||[]).push(C),f._context.edits.colorbarPosition&&(O=E,R=f,Y="v"===(P=w).orientation,F=R._fullLayout._size,p.init({element:O.node(),gd:R,prepFn:function(){j=O.attr("transform"),n(O)},moveFn:function(U,V){O.attr("transform",j+t(U,V)),z=p.align((Y?P._uFrac:P._vFrac)+U/F.w,Y?P._thickFrac:P._lenFrac,0,1,P.xanchor),N=p.align((Y?P._vFrac:1-P._uFrac)-V/F.h,Y?P._lenFrac:P._thickFrac,0,1,P.yanchor);var te=p.getCursor(z,N,P.xanchor,P.yanchor);n(O,te)},doneFn:function(){if(n(O),void 0!==z&&void 0!==N){var U={};U[P._propPrefix+"x"]=z,U[P._propPrefix+"y"]=N,void 0!==P._traceIndex?T.call("_guiRestyle",R,U,P._traceIndex):T.call("_guiRelayout",R,U)}}}))}),S.exit().each(function(w){a.autoMargin(f,w._id)}).remove(),S.order()}}},76228:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k){return M.isPlainObject(k.colorbar)}},12311:function(ee,D,e){"use strict";ee.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(ee,D,e){"use strict";var M=e(63583),k=e(30587).counter,a=e(78607),T=e(63282).scales;function b(p){return"`"+p+"`"}a(T),ee.exports=function(p,s){p=p||"";var t,i=(s=s||{}).cLetter||"c",n=("onlyIfNumerical"in s?s.onlyIfNumerical:Boolean(p),"noScale"in s?s.noScale:"marker.line"===p),r="showScaleDflt"in s?s.showScaleDflt:"z"===i,o="string"==typeof s.colorscaleDflt?T[s.colorscaleDflt]:null,l=s.editTypeOverride||"",u=p?p+".":"";"colorAttr"in s?(t=s.colorAttr,s.colorAttr):b(u+(t={z:"z",c:"color"}[i]));var d=i+"auto",c=i+"min",x=i+"max",g=i+"mid",h=(b(u+d),b(u+c),b(u+x),{});h[c]=h[x]=void 0;var m={};m[d]=!1;var y={};return"color"===t&&(y.color={valType:"color",arrayOk:!0,editType:l||"style"},s.anim&&(y.color.anim=!0)),y[d]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},y[c]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:m},y[x]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:m},y[g]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},y.colorscale={valType:"colorscale",editType:"calc",dflt:o,impliedEdits:{autocolorscale:!1}},y.autocolorscale={valType:"boolean",dflt:!1!==s.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},y.reversescale={valType:"boolean",dflt:!1,editType:"plot"},n||(y.showscale={valType:"boolean",dflt:r,editType:"calc"},y.colorbar=M),s.noColorAxis||(y.coloraxis={valType:"subplotid",regex:k("coloraxis"),dflt:null,editType:"calc"}),y}},78803:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(52075).extractOpts;ee.exports=function(T,b,p){var s,t=T._fullLayout,i=p.vals,n=p.containerStr,r=n?k.nestedProperty(b,n).get():b,o=a(r),l=!1!==o.auto,u=o.min,d=o.max,c=o.mid,x=function(){return k.aggNums(Math.min,null,i)},g=function(){return k.aggNums(Math.max,null,i)};void 0===u?u=x():l&&(u=r._colorAx&&M(u)?Math.min(u,x()):x()),void 0===d?d=g():l&&(d=r._colorAx&&M(d)?Math.max(d,g()):g()),l&&void 0!==c&&(d-c>c-u?u=c-(d-c):d-c<c-u&&(d=c+(c-u))),u===d&&(u-=.5,d+=.5),o._sync("min",u),o._sync("max",d),o.autocolorscale&&(s=u*d<0?t.colorscale.diverging:u>=0?t.colorscale.sequential:t.colorscale.sequentialminus,o._sync("colorscale",s))}},33046:function(ee,D,e){"use strict";var M=e(71828),k=e(52075).hasColorscale,a=e(52075).extractOpts;ee.exports=function(T,b){function p(l,u){var d=l["_"+u];void 0!==d&&(l[u]=d)}function s(l,u){var d=u.container?M.nestedProperty(l,u.container).get():l;if(d)if(d.coloraxis)d._colorAx=b[d.coloraxis];else{var c=a(d),x=c.auto;(x||void 0===c.min)&&p(d,u.min),(x||void 0===c.max)&&p(d,u.max),c.autocolorscale&&p(d,"colorscale")}}for(var t=0;t<T.length;t++){var i=T[t],n=i._module.colorbar;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++)s(i,n[r]);else s(i,n);k(i,"marker.line")&&s(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var o in b._colorAxes)s(b[o],{min:"cmin",max:"cmax"})}},1586:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(76228),T=e(62499),b=e(63282).isValid,p=e(73972).traceIs;function s(t,i){var n=i.slice(0,i.length-1);return i?k.nestedProperty(t,n).get()||{}:t}ee.exports=function t(i,n,r,o,l){var u=l.prefix,d=l.cLetter,c="_module"in n,x=s(i,u),g=s(n,u),h=s(n._template||{},u)||{},m=function(){return delete i.coloraxis,delete n.coloraxis,t(i,n,r,o,l)};if(c){var y=r._colorAxes||{},v=o(u+"coloraxis");if(v){var _=p(n,"contour")&&k.nestedProperty(n,"contours.coloring").get()||"heatmap",f=y[v];return void(f?(f[2].push(m),f[0]!==_&&(f[0]=!1,k.warn(["Ignoring coloraxis:",v,"setting","as it is linked to incompatible colorscales."].join(" ")))):y[v]=[_,n,[m]])}}var S=x[d+"min"],w=x[d+"max"],E=M(S)&&M(w)&&S<w;o(u+d+"auto",!E)?o(u+d+"mid"):(o(u+d+"min"),o(u+d+"max"));var C,O,P=x.colorscale,R=h.colorscale;void 0!==P&&(C=!b(P)),void 0!==R&&(C=!b(R)),o(u+"autocolorscale",C),o(u+"colorscale"),o(u+"reversescale"),"marker.line."!==u&&(u&&c&&(O=a(x)),o(u+"showscale",O)&&(u&&h&&(g._template=h),T(x,g,r)))}},52075:function(ee,D,e){"use strict";var M=e(39898),k=e(84267),a=e(92770),T=e(71828),b=e(7901),p=e(63282).isValid,s=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(u){var d,c,x,g=u._colorAx,h=g||u,m={};for(c=0;c<s.length;c++)m[x=s[c]]=h[x];if(g)for(d="c",c=0;c<t.length;c++)m[x=t[c]]=h["c"+x];else{var y;for(c=0;c<t.length;c++)((y="c"+(x=t[c]))in h||(y="z"+x)in h)&&(m[x]=h[y]);d=y.charAt(0)}return m._sync=function(v,_){var f=-1!==t.indexOf(v)?d+v:v;h[f]=h["_"+f]=_},m}function n(u){for(var d=i(u),c=d.min,x=d.max,g=d.reversescale?r(d.colorscale):d.colorscale,h=g.length,m=new Array(h),y=new Array(h),v=0;v<h;v++){var _=g[v];m[v]=c+_[0]*(x-c),y[v]=_[1]}return{domain:m,range:y}}function r(u){for(var d=u.length,c=new Array(d),x=d-1,g=0;x>=0;x--,g++){var h=u[x];c[g]=[1-h[0],h[1]]}return c}function o(u,d){d=d||{};for(var c=u.domain,x=u.range,g=x.length,h=new Array(g),m=0;m<g;m++){var y=k(x[m]).toRgb();h[m]=[y.r,y.g,y.b,y.a]}var v,_=M.scale.linear().domain(c).range(h).clamp(!0),f=d.noNumericCheck,S=d.returnArray;return(v=f&&S?_:f?function(w){return l(_(w))}:S?function(w){return a(w)?_(w):k(w).isValid()?w:b.defaultLine}:function(w){return a(w)?l(_(w)):k(w).isValid()?w:b.defaultLine}).domain=_.domain,v.range=function(){return x},v}function l(u){var d={r:u[0],g:u[1],b:u[2],a:u[3]};return k(d).toRgbString()}ee.exports={hasColorscale:function(u,d,c){var x=d?T.nestedProperty(u,d).get()||{}:u,g=x[c||"color"];g&&g._inputArray&&(g=g._inputArray);var h=!1;if(T.isArrayOrTypedArray(g))for(var m=0;m<g.length;m++)if(a(g[m])){h=!0;break}return T.isPlainObject(x)&&(h||!0===x.showscale||a(x.cmin)&&a(x.cmax)||p(x.colorscale)||T.isPlainObject(x.colorbar))},extractOpts:i,extractScale:n,flipScale:r,makeColorScaleFunc:o,makeColorScaleFuncFromTrace:function(u,d){return o(n(u),d)}}},21081:function(ee,D,e){"use strict";var M=e(63282),k=e(52075);ee.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:M.scales,defaultScale:M.defaultScale,getScale:M.get,isValidScale:M.isValid,hasColorscale:k.hasColorscale,extractOpts:k.extractOpts,extractScale:k.extractScale,flipScale:k.flipScale,makeColorScaleFunc:k.makeColorScaleFunc,makeColorScaleFuncFromTrace:k.makeColorScaleFuncFromTrace}},72673:function(ee,D,e){"use strict";var M=e(1426).extendFlat,k=e(50693),a=e(63282).scales;ee.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:M({_isSubplotObj:!0,editType:"calc"},k("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(ee,D,e){"use strict";var M=e(71828),k=e(44467),a=e(72673),T=e(1586);ee.exports=function(b,p){function s(d,c){return M.coerce(b,p,a,d,c)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var t,i,n=p._colorAxes;function r(d,c){return M.coerce(t,i,a.coloraxis,d,c)}for(var o in n){var l=n[o];if(l[0])t=b[o]||{},(i=k.newContainer(p,o,"coloraxis"))._name=o,T(t,i,p,r,{prefix:"",cLetter:"c"});else{for(var u=0;u<l[2].length;u++)l[2][u]();delete p._colorAxes[o]}}}},63282:function(ee,D,e){"use strict";var M=e(84267),k={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=k.RdBu;function T(b){var p=0;if(!Array.isArray(b)||b.length<2||!b[0]||!b[b.length-1]||0!=+b[0][0]||1!=+b[b.length-1][0])return!1;for(var s=0;s<b.length;s++){var t=b[s];if(2!==t.length||+t[0]<p||!M(t[1]).isValid())return!1;p=+t[0]}return!0}ee.exports={scales:k,defaultScale:a,get:function(b,p){if(p||(p=a),!b)return p;function s(){try{b=k[b]||JSON.parse(b)}catch{b=p}}return"string"==typeof b&&(s(),"string"==typeof b&&s()),T(b)?b:p},isValid:function(b){return void 0!==k[b]||T(b)}}},92807:function(ee){"use strict";ee.exports=function(D,e,M,k,a){var T=(D-M)/(k-M),b=T+e/(k-M),p=(T+b)/2;return"left"===a||"bottom"===a?T:"center"===a||"middle"===a?p:"right"===a||"top"===a?b:T<.6666666666666666-p?T:b>1.3333333333333333-p?b:p}},70461:function(ee,D,e){"use strict";var M=e(71828),k=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];ee.exports=function(a,T,b,p){return a="left"===b?0:"center"===b?1:"right"===b?2:M.constrain(Math.floor(3*a),0,2),T="bottom"===p?0:"middle"===p?1:"top"===p?2:M.constrain(Math.floor(3*T),0,2),k[T][a]}},64505:function(ee,D){"use strict";D.selectMode=function(e){return"lasso"===e||"select"===e},D.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},D.openMode=function(e){return"drawline"===e||"drawopenpath"===e},D.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},D.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},D.selectingOrDrawing=function(e){return D.freeMode(e)||D.rectMode(e)}},28569:function(ee,D,e){"use strict";var M=e(48956),k=e(57035),a=e(38520),T=e(71828).removeElement,b=e(85555),p=ee.exports={};p.align=e(92807),p.getCursor=e(70461);var s=e(26041);function t(){var n=document.createElement("div");n.className="dragcover";var r=n.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(n),n}function i(n){return M(n.changedTouches?n.changedTouches[0]:n,document.body)}p.unhover=s.wrapped,p.unhoverRaw=s.raw,p.init=function(n){var r,o,l,u,d,c,x,g,h=n.gd,m=1,y=h._context.doubleClickDelay,v=n.element;h._mouseDownTime||(h._mouseDownTime=0),v.style.pointerEvents="all",v.onmousedown=f,a?(v._ontouchstart&&v.removeEventListener("touchstart",v._ontouchstart),v._ontouchstart=f,v.addEventListener("touchstart",f,{passive:!1})):v.ontouchstart=f;var _=n.clampFn||function(E,C,O){return Math.abs(E)<O&&(E=0),Math.abs(C)<O&&(C=0),[E,C]};function f(E){h._dragged=!1,h._dragging=!0;var C=i(E);r=C[0],o=C[1],x=E.target,c=E,g=2===E.buttons||E.ctrlKey,void 0===E.clientX&&void 0===E.clientY&&(E.clientX=r,E.clientY=o),(l=(new Date).getTime())-h._mouseDownTime<y?m+=1:(m=1,h._mouseDownTime=l),n.prepFn&&n.prepFn(E,r,o),k&&!g?(d=t()).style.cursor=window.getComputedStyle(v).cursor:k||(d=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(v).cursor),document.addEventListener("mouseup",w),document.addEventListener("touchend",w),!1!==n.dragmode&&(E.preventDefault(),document.addEventListener("mousemove",S),document.addEventListener("touchmove",S,{passive:!1}))}function S(E){E.preventDefault();var C=i(E),O=n.minDrag||b.MINDRAG,P=_(C[0]-r,C[1]-o,O),R=P[0],j=P[1];(R||j)&&(h._dragged=!0,p.unhover(h,E)),h._dragged&&n.moveFn&&!g&&(h._dragdata={element:v,dx:R,dy:j},n.moveFn(R,j))}function w(E){if(delete h._dragdata,!1!==n.dragmode&&(E.preventDefault(),document.removeEventListener("mousemove",S),document.removeEventListener("touchmove",S)),document.removeEventListener("mouseup",w),document.removeEventListener("touchend",w),k?T(d):u&&(d.documentElement.style.cursor=u,u=null),h._dragging){if(h._dragging=!1,(new Date).getTime()-h._mouseDownTime>y&&(m=Math.max(m-1,1)),h._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(m,c),!g){var C;try{C=new MouseEvent("click",E)}catch{var O=i(E);(C=document.createEvent("MouseEvents")).initMouseEvent("click",E.bubbles,E.cancelable,E.view,E.detail,E.screenX,E.screenY,O[0],O[1],E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,E.relatedTarget)}x.dispatchEvent(C)}h._dragging=!1,h._dragged=!1}else h._dragged=!1}},p.coverSlip=t},26041:function(ee,D,e){"use strict";var M=e(11086),k=e(79990),a=e(24401).getGraphDiv,T=e(26675),b=ee.exports={};b.wrapped=function(p,s,t){(p=a(p))._fullLayout&&k.clear(p._fullLayout._uid+T.HOVERID),b.raw(p,s,t)},b.raw=function(p,s){var t=p._fullLayout,i=p._hoverdata;s||(s={}),s.target&&!p._dragged&&!1===M.triggerHandler(p,"plotly_beforehover",s)||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,s.target&&i&&p.emit("plotly_unhover",{event:s,points:i}))}},79952:function(ee,D){"use strict";D.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},D.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=k.numberFormat,T=e(92770),b=e(84267),p=e(73972),s=e(7901),t=e(21081),i=k.strTranslate,n=e(63893),r=e(77922),o=e(18783).LINE_SPACING,l=e(37822).DESELECTDIM,u=e(34098),d=e(39984),c=e(23469).appendArrayPointValue,x=ee.exports={};function g(ye,we,se){var ie=we.fillpattern,he=ie&&x.getPatternAttr(ie.shape,0,"");if(he){var Se=x.getPatternAttr(ie.bgcolor,0,null),_e=x.getPatternAttr(ie.fgcolor,0,null),Me=ie.fgopacity,Ee=x.getPatternAttr(ie.size,0,8),Ie=x.getPatternAttr(ie.solidity,0,.3),fe=we.uid;x.pattern(ye,"point",se,fe,he,Ee,Ie,void 0,ie.fillmode,Se,_e,Me)}else we.fillcolor&&ye.call(s.fill,we.fillcolor)}x.font=function(ye,we,se,ie){k.isPlainObject(we)&&(ie=we.color,se=we.size,we=we.family),we&&ye.style("font-family",we),se+1&&ye.style("font-size",se+"px"),ie&&ye.call(s.fill,ie)},x.setPosition=function(ye,we,se){ye.attr("x",we).attr("y",se)},x.setSize=function(ye,we,se){ye.attr("width",we).attr("height",se)},x.setRect=function(ye,we,se,ie,he){ye.call(x.setPosition,we,se).call(x.setSize,ie,he)},x.translatePoint=function(ye,we,se,ie){var he=se.c2p(ye.x),Se=ie.c2p(ye.y);return!!(T(he)&&T(Se)&&we.node())&&("text"===we.node().nodeName?we.attr("x",he).attr("y",Se):we.attr("transform",i(he,Se)),!0)},x.translatePoints=function(ye,we,se){ye.each(function(ie){var he=M.select(this);x.translatePoint(ie,he,we,se)})},x.hideOutsideRangePoint=function(ye,we,se,ie,he,Se){we.attr("display",se.isPtWithinRange(ye,he)&&ie.isPtWithinRange(ye,Se)?null:"none")},x.hideOutsideRangePoints=function(ye,we){if(we._hasClipOnAxisFalse){var se=we.xaxis,ie=we.yaxis;ye.each(function(he){var Se=he[0].trace,_e=Se.xcalendar,Me=Se.ycalendar,Ee=p.traceIs(Se,"bar-like")?".bartext":".point,.textpoint";ye.selectAll(Ee).each(function(Ie){x.hideOutsideRangePoint(Ie,M.select(this),se,ie,_e,Me)})})}},x.crispRound=function(ye,we,se){return we&&T(we)?ye._context.staticPlot?we:we<1?1:Math.round(we):se||0},x.singleLineStyle=function(ye,we,se,ie,he){we.style("fill","none");var Se=(((ye||[])[0]||{}).trace||{}).line||{},_e=se||Se.width||0,Me=he||Se.dash||"";s.stroke(we,ie||Se.color),x.dashLine(we,Me,_e)},x.lineGroupStyle=function(ye,we,se,ie){ye.style("fill","none").each(function(he){var Se=(((he||[])[0]||{}).trace||{}).line||{},_e=we||Se.width||0,Me=ie||Se.dash||"";M.select(this).call(s.stroke,se||Se.color).call(x.dashLine,Me,_e)})},x.dashLine=function(ye,we,se){se=+se||0,we=x.dashStyle(we,se),ye.style({"stroke-dasharray":we,"stroke-width":se+"px"})},x.dashStyle=function(ye,we){we=+we||1;var se=Math.max(we,3);return"solid"===ye?ye="":"dot"===ye?ye=se+"px,"+se+"px":"dash"===ye?ye=3*se+"px,"+3*se+"px":"longdash"===ye?ye=5*se+"px,"+5*se+"px":"dashdot"===ye?ye=3*se+"px,"+se+"px,"+se+"px,"+se+"px":"longdashdot"===ye&&(ye=5*se+"px,"+2*se+"px,"+se+"px,"+2*se+"px"),ye},x.singleFillStyle=function(ye,we){var se=M.select(ye.node());g(ye,((se.data()[0]||[])[0]||{}).trace||{},we)},x.fillGroupStyle=function(ye,we){ye.style("stroke-width",0).each(function(se){var ie=M.select(this);se[0].trace&&g(ie,se[0].trace,we)})};var h=e(90998);x.symbolNames=[],x.symbolFuncs=[],x.symbolBackOffs=[],x.symbolNeedLines={},x.symbolNoDot={},x.symbolNoFill={},x.symbolList=[],Object.keys(h).forEach(function(ye){var we=h[ye],se=we.n;x.symbolList.push(se,String(se),ye,se+100,String(se+100),ye+"-open"),x.symbolNames[se]=ye,x.symbolFuncs[se]=we.f,x.symbolBackOffs[se]=we.backoff||0,we.needLine&&(x.symbolNeedLines[se]=!0),we.noDot?x.symbolNoDot[se]=!0:x.symbolList.push(se+200,String(se+200),ye+"-dot",se+300,String(se+300),ye+"-open-dot"),we.noFill&&(x.symbolNoFill[se]=!0)});var m=x.symbolNames.length;function y(ye,we,se,ie){var he=ye%100;return x.symbolFuncs[he](we,se,ie)+(ye>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}x.symbolNumber=function(ye){if(T(ye))ye=+ye;else if("string"==typeof ye){var we=0;ye.indexOf("-open")>0&&(we=100,ye=ye.replace("-open","")),ye.indexOf("-dot")>0&&(we+=200,ye=ye.replace("-dot","")),(ye=x.symbolNames.indexOf(ye))>=0&&(ye+=we)}return ye%100>=m||ye>=400?0:Math.floor(Math.max(ye,0))};var v={x1:1,x2:0,y1:0,y2:0},_={x1:0,x2:0,y1:1,y2:0},f=a("~f"),S={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:v},horizontalreversed:{node:"linearGradient",attrs:v,reversed:!0},vertical:{node:"linearGradient",attrs:_},verticalreversed:{node:"linearGradient",attrs:_,reversed:!0}};x.gradient=function(ye,we,se,ie,he,Se){for(var _e=he.length,Me=S[ie],Ee=new Array(_e),Ie=0;Ie<_e;Ie++)Me.reversed?Ee[_e-1-Ie]=[f(100*(1-he[Ie][0])),he[Ie][1]]:Ee[Ie]=[f(100*he[Ie][0]),he[Ie][1]];var fe=we._fullLayout,xe="g"+fe._uid+"-"+se,Te=fe._defs.select(".gradients").selectAll("#"+xe).data([ie+Ee.join(";")],k.identity);Te.exit().remove(),Te.enter().append(Me.node).each(function(){var Ce=M.select(this);Me.attrs&&Ce.attr(Me.attrs),Ce.attr("id",xe);var De=Ce.selectAll("stop").data(Ee);De.exit().remove(),De.enter().append("stop"),De.each(function(ze){var Ue=b(ze[1]);M.select(this).attr({offset:ze[0]+"%","stop-color":s.tinyRGB(Ue),"stop-opacity":Ue.getAlpha()})})}),ye.style(Se,$(xe,we)).style(Se+"-opacity",null),ye.classed("gradient_filled",!0)},x.pattern=function(ye,we,se,ie,he,Se,_e,Me,Ee,Ie,fe,xe){var Te="legend"===we;Me&&("overlay"===Ee?(Ie=Me,fe=s.contrast(Ie)):(Ie=void 0,fe=Me));var Ce,De,ze,Ue,Ve,Xe,at,st,ht,bt=se._fullLayout,vt="p"+bt._uid+"-"+ie,Qe={},nt=b(fe),wt=s.tinyRGB(nt),Ot=xe*nt.getAlpha();switch(he){case"/":Ce=Se*Math.sqrt(2),De=Se*Math.sqrt(2),Xe="path",Qe={d:ze="M-"+Ce/4+","+De/4+"l"+Ce/2+",-"+De/2+"M0,"+De+"L"+Ce+",0M"+Ce/4*3+","+De/4*5+"l"+Ce/2+",-"+De/2,opacity:Ot,stroke:wt,"stroke-width":(Ue=_e*Se)+"px"};break;case"\\":Ce=Se*Math.sqrt(2),De=Se*Math.sqrt(2),Xe="path",Qe={d:ze="M"+Ce/4*3+",-"+De/4+"l"+Ce/2+","+De/2+"M0,0L"+Ce+","+De+"M-"+Ce/4+","+De/4*3+"l"+Ce/2+","+De/2,opacity:Ot,stroke:wt,"stroke-width":(Ue=_e*Se)+"px"};break;case"x":Ce=Se*Math.sqrt(2),De=Se*Math.sqrt(2),ze="M-"+Ce/4+","+De/4+"l"+Ce/2+",-"+De/2+"M0,"+De+"L"+Ce+",0M"+Ce/4*3+","+De/4*5+"l"+Ce/2+",-"+De/2+"M"+Ce/4*3+",-"+De/4+"l"+Ce/2+","+De/2+"M0,0L"+Ce+","+De+"M-"+Ce/4+","+De/4*3+"l"+Ce/2+","+De/2,Ue=Se-Se*Math.sqrt(1-_e),Xe="path",Qe={d:ze,opacity:Ot,stroke:wt,"stroke-width":Ue+"px"};break;case"|":Xe="path",Xe="path",Qe={d:ze="M"+(Ce=Se)/2+",0L"+Ce/2+","+(De=Se),opacity:Ot,stroke:wt,"stroke-width":(Ue=_e*Se)+"px"};break;case"-":Xe="path",Xe="path",Qe={d:ze="M0,"+(De=Se)/2+"L"+(Ce=Se)+","+De/2,opacity:Ot,stroke:wt,"stroke-width":(Ue=_e*Se)+"px"};break;case"+":Xe="path",ze="M"+(Ce=Se)/2+",0L"+Ce/2+","+(De=Se)+"M0,"+De/2+"L"+Ce+","+De/2,Ue=Se-Se*Math.sqrt(1-_e),Xe="path",Qe={d:ze,opacity:Ot,stroke:wt,"stroke-width":Ue+"px"};break;case".":Ce=Se,De=Se,_e<Math.PI/4?Ve=Math.sqrt(_e*Se*Se/Math.PI):(at=_e,st=Math.PI/4,Ve=(ht=Se/2)+(Se/Math.sqrt(2)-ht)*(at-st)/(1-st)),Xe="circle",Qe={cx:Ce/2,cy:De/2,r:Ve,opacity:Ot,fill:wt}}var Pt=[he||"noSh",Ie||"noBg",fe||"noFg",Se,_e].join(";"),St=bt._defs.select(".patterns").selectAll("#"+vt).data([Pt],k.identity);St.exit().remove(),St.enter().append("pattern").each(function(){var qe=M.select(this);if(qe.attr({id:vt,width:Ce+"px",height:De+"px",patternUnits:"userSpaceOnUse",patternTransform:Te?"scale(0.8)":""}),Ie){var Ze=b(Ie),Ne=s.tinyRGB(Ze),Ge=Ze.getAlpha(),rt=qe.selectAll("rect").data([0]);rt.exit().remove(),rt.enter().append("rect").attr({width:Ce+"px",height:De+"px",fill:Ne,"fill-opacity":Ge})}var tt=qe.selectAll(Xe).data([0]);tt.exit().remove(),tt.enter().append(Xe).attr(Qe)}),ye.style("fill",$(vt,se)).style("fill-opacity",null),ye.classed("pattern_filled",!0)},x.initGradients=function(ye){var we=ye._fullLayout;k.ensureSingle(we._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),M.select(ye).selectAll(".gradient_filled").classed("gradient_filled",!1)},x.initPatterns=function(ye){var we=ye._fullLayout;k.ensureSingle(we._defs,"g","patterns").selectAll("pattern").remove(),M.select(ye).selectAll(".pattern_filled").classed("pattern_filled",!1)},x.getPatternAttr=function(ye,we,se){return ye&&k.isArrayOrTypedArray(ye)?we<ye.length?ye[we]:se:ye},x.pointStyle=function(ye,we,se,ie){if(ye.size()){var he=x.makePointStyleFns(we);ye.each(function(Se){x.singlePointStyle(Se,M.select(this),we,he,se,ie)})}},x.singlePointStyle=function(ye,we,se,ie,he,Se){var _e=se.marker,Me=_e.line;if(Se&&Se.i>=0&&void 0===ye.i&&(ye.i=Se.i),we.style("opacity",ie.selectedOpacityFn?ie.selectedOpacityFn(ye):void 0===ye.mo?_e.opacity:ye.mo),ie.ms2mrc){var Ee;Ee="various"===ye.ms||"various"===_e.size?3:ie.ms2mrc(ye.ms),ye.mrc=Ee,ie.selectedSizeFn&&(Ee=ye.mrc=ie.selectedSizeFn(ye));var Ie=x.symbolNumber(ye.mx||_e.symbol)||0;ye.om=Ie%200>=100;var fe=Ae(ye,se),xe=J(ye,se);we.attr("d",y(Ie,Ee,fe,xe))}var Te,Ce,De,ze=!1;if(ye.so)De=Me.outlierwidth,Ce=Me.outliercolor,Te=_e.outliercolor;else{var Ue=(Me||{}).width;De=(ye.mlw+1||Ue+1||(ye.trace?(ye.trace.marker.line||{}).width:0)+1)-1||0,Ce="mlc"in ye?ye.mlcc=ie.lineScale(ye.mlc):k.isArrayOrTypedArray(Me.color)?s.defaultLine:Me.color,k.isArrayOrTypedArray(_e.color)&&(Te=s.defaultLine,ze=!0),Te="mc"in ye?ye.mcc=ie.markerScale(ye.mc):_e.color||_e.colors||"rgba(0,0,0,0)",ie.selectedColorFn&&(Te=ie.selectedColorFn(ye))}if(ye.om)we.call(s.stroke,Te).style({"stroke-width":(De||1)+"px",fill:"none"});else{we.style("stroke-width",(ye.isBlank?0:De)+"px");var Ve=_e.gradient,Xe=ye.mgt;Xe?ze=!0:Xe=Ve&&Ve.type,k.isArrayOrTypedArray(Xe)&&(Xe=Xe[0],S[Xe]||(Xe=0));var at=_e.pattern,st=at&&x.getPatternAttr(at.shape,ye.i,"");if(Xe&&"none"!==Xe){var ht=ye.mgc;ht?ze=!0:ht=Ve.color;var bt=se.uid;ze&&(bt+="-"+ye.i),x.gradient(we,he,bt,Xe,[[0,ht],[1,Te]],"fill")}else if(st){var vt=!1,Qe=at.fgcolor;!Qe&&Se&&Se.color&&(Qe=Se.color,vt=!0);var nt=x.getPatternAttr(Qe,ye.i,Se&&Se.color||null),wt=x.getPatternAttr(at.bgcolor,ye.i,null),Ot=at.fgopacity,Pt=x.getPatternAttr(at.size,ye.i,8),St=x.getPatternAttr(at.solidity,ye.i,.3);vt=vt||ye.mcc||k.isArrayOrTypedArray(at.shape)||k.isArrayOrTypedArray(at.bgcolor)||k.isArrayOrTypedArray(at.fgcolor)||k.isArrayOrTypedArray(at.size)||k.isArrayOrTypedArray(at.solidity);var qe=se.uid;vt&&(qe+="-"+ye.i),x.pattern(we,"point",he,qe,st,Pt,St,ye.mcc,at.fillmode,wt,nt,Ot)}else k.isArrayOrTypedArray(Te)?s.fill(we,Te[ye.i]):s.fill(we,Te);De&&s.stroke(we,Ce)}},x.makePointStyleFns=function(ye){var we={},se=ye.marker;return we.markerScale=x.tryColorscale(se,""),we.lineScale=x.tryColorscale(se,"line"),p.traceIs(ye,"symbols")&&(we.ms2mrc=u.isBubble(ye)?d(ye):function(){return(se.size||6)/2}),ye.selectedpoints&&k.extendFlat(we,x.makeSelectedPointStyleFns(ye)),we},x.makeSelectedPointStyleFns=function(ye){var we={},se=ye.selected||{},ie=ye.unselected||{},he=ye.marker||{},Se=se.marker||{},_e=ie.marker||{},Me=he.opacity,Ee=Se.opacity,Ie=_e.opacity,fe=void 0!==Ee,xe=void 0!==Ie;(k.isArrayOrTypedArray(Me)||fe||xe)&&(we.selectedOpacityFn=function(st){var ht=void 0===st.mo?he.opacity:st.mo;return st.selected?fe?Ee:ht:xe?Ie:l*ht});var Te=he.color,Ce=Se.color,De=_e.color;(Ce||De)&&(we.selectedColorFn=function(st){var ht=st.mcc||Te;return st.selected?Ce||ht:De||ht});var ze=he.size,Ue=Se.size,Ve=_e.size,Xe=void 0!==Ue,at=void 0!==Ve;return p.traceIs(ye,"symbols")&&(Xe||at)&&(we.selectedSizeFn=function(st){var ht=st.mrc||ze/2;return st.selected?Xe?Ue/2:ht:at?Ve/2:ht}),we},x.makeSelectedTextStyleFns=function(ye){var we={},se=ye.selected||{},ie=ye.unselected||{},he=ye.textfont||{},Se=se.textfont||{},_e=ie.textfont||{},Me=he.color,Ee=Se.color,Ie=_e.color;return we.selectedTextColorFn=function(fe){var xe=fe.tc||Me;return fe.selected?Ee||xe:Ie||(Ee?xe:s.addOpacity(xe,l))},we},x.selectedPointStyle=function(ye,we){if(ye.size()&&we.selectedpoints){var se=x.makeSelectedPointStyleFns(we),ie=we.marker||{},he=[];se.selectedOpacityFn&&he.push(function(Se,_e){Se.style("opacity",se.selectedOpacityFn(_e))}),se.selectedColorFn&&he.push(function(Se,_e){s.fill(Se,se.selectedColorFn(_e))}),se.selectedSizeFn&&he.push(function(Se,_e){var Me=_e.mx||ie.symbol||0,Ee=se.selectedSizeFn(_e);Se.attr("d",y(x.symbolNumber(Me),Ee,Ae(_e,we),J(_e,we))),_e.mrc2=Ee}),he.length&&ye.each(function(Se){for(var _e=M.select(this),Me=0;Me<he.length;Me++)he[Me](_e,Se)})}},x.tryColorscale=function(ye,we){var se=we?k.nestedProperty(ye,we).get():ye;if(se){var ie=se.color;if((se.colorscale||se._colorAx)&&k.isArrayOrTypedArray(ie))return t.makeColorScaleFuncFromTrace(se)}return k.identity};var w,E,C={start:1,end:-1,middle:0,bottom:1,top:-1};function O(ye,we,se,ie,he){var Se=M.select(ye.node().parentNode),_e=-1!==we.indexOf("top")?"top":-1!==we.indexOf("bottom")?"bottom":"middle",Me=-1!==we.indexOf("left")?"end":-1!==we.indexOf("right")?"start":"middle",Ee=ie?ie/.8+1:0,Ie=(n.lineCount(ye)-1)*o+1,fe=C[Me]*Ee,xe=.75*se+C[_e]*Ee+(C[_e]-1)*Ie*se/2;ye.attr("text-anchor",Me),he||Se.attr("transform",i(fe,xe))}function P(ye,we){var se=ye.ts||we.textfont.size;return T(se)&&se>0?se:0}function R(ye,we,se){return se&&(ye=U(ye)),we?z(ye[1]):j(ye[0])}function j(ye){var we=M.round(ye,2);return w=we,we}function z(ye){var we=M.round(ye,2);return E=we,we}function N(ye,we,se,ie){var he=ye[0]-we[0],Se=ye[1]-we[1],_e=se[0]-we[0],Me=se[1]-we[1],Ee=Math.pow(he*he+Se*Se,.25),Ie=Math.pow(_e*_e+Me*Me,.25),fe=(Ie*Ie*he-Ee*Ee*_e)*ie,xe=(Ie*Ie*Se-Ee*Ee*Me)*ie,Te=3*Ie*(Ee+Ie),Ce=3*Ee*(Ee+Ie);return[[j(we[0]+(Te&&fe/Te)),z(we[1]+(Te&&xe/Te))],[j(we[0]-(Ce&&fe/Ce)),z(we[1]-(Ce&&xe/Ce))]]}x.textPointStyle=function(ye,we,se){if(ye.size()){var ie;if(we.selectedpoints){var he=x.makeSelectedTextStyleFns(we);ie=he.selectedTextColorFn}var Se=we.texttemplate,_e=se._fullLayout;ye.each(function(Me){var Ee=M.select(this),Ie=Se?k.extractOption(Me,we,"txt","texttemplate"):k.extractOption(Me,we,"tx","text");if(Ie||0===Ie){if(Se){var fe=we._module.formatLabels,xe=fe?fe(Me,we,_e):{},Te={};c(Te,we,Me.i);var Ce=we._meta||{};Ie=k.texttemplateString(Ie,xe,_e._d3locale,Te,Me,Ce)}var De=Me.tp||we.textposition,ze=P(Me,we),Ue=ie?ie(Me):Me.tc||we.textfont.color;Ee.call(x.font,Me.tf||we.textfont.family,ze,Ue).text(Ie).call(n.convertToTspans,se).call(O,De,ze,Me.mrc)}else Ee.remove()})}},x.selectedTextStyle=function(ye,we){if(ye.size()&&we.selectedpoints){var se=x.makeSelectedTextStyleFns(we);ye.each(function(ie){var he=M.select(this),Se=se.selectedTextColorFn(ie),_e=ie.tp||we.textposition,Me=P(ie,we);s.fill(he,Se);var Ee=p.traceIs(we,"bar-like");O(he,_e,Me,ie.mrc2||ie.mrc,Ee)})}},x.smoothopen=function(ye,we){if(ye.length<3)return"M"+ye.join("L");var se,ie="M"+ye[0],he=[];for(se=1;se<ye.length-1;se++)he.push(N(ye[se-1],ye[se],ye[se+1],we));for(ie+="Q"+he[0][0]+" "+ye[1],se=2;se<ye.length-1;se++)ie+="C"+he[se-2][1]+" "+he[se-1][0]+" "+ye[se];return ie+"Q"+he[ye.length-3][1]+" "+ye[ye.length-1]},x.smoothclosed=function(ye,we){if(ye.length<3)return"M"+ye.join("L")+"Z";var se,ie="M"+ye[0],he=ye.length-1,Se=[N(ye[he],ye[0],ye[1],we)];for(se=1;se<he;se++)Se.push(N(ye[se-1],ye[se],ye[se+1],we));for(Se.push(N(ye[he-1],ye[he],ye[0],we)),se=1;se<=he;se++)ie+="C"+Se[se-1][1]+" "+Se[se][0]+" "+ye[se];return ie+"C"+Se[he][1]+" "+Se[0][0]+" "+ye[0]+"Z"};var Y={hv:function(ye,we,se){return"H"+j(we[0])+"V"+R(we,1,se)},vh:function(ye,we,se){return"V"+z(we[1])+"H"+R(we,0,se)},hvh:function(ye,we,se){return"H"+j((ye[0]+we[0])/2)+"V"+z(we[1])+"H"+R(we,0,se)},vhv:function(ye,we,se){return"V"+z((ye[1]+we[1])/2)+"H"+j(we[0])+"V"+R(we,1,se)}},F=function(ye,we,se){return"L"+R(we,0,se)+","+R(we,1,se)};function U(ye,we){var se=ye.backoff,ie=ye.trace,he=ye.d,Se=ye.i;if(se&&ie&&ie.marker&&ie.marker.angle%360==0&&ie.line&&"spline"!==ie.line.shape){var _e=k.isArrayOrTypedArray(se),Me=ye,Ee=we?we[0]:w||0,Ie=we?we[1]:E||0,fe=Me[0],xe=Me[1],Te=fe-Ee,Ce=xe-Ie,De=Math.atan2(Ce,Te),ze=_e?se[Se]:se;if("auto"===ze){var Ue=Me.i;"scatter"===ie.type&&Ue--;var Ve=Me.marker,Xe=Ve.symbol;k.isArrayOrTypedArray(Xe)&&(Xe=Xe[Ue]);var at=Ve.size;k.isArrayOrTypedArray(at)&&(at=at[Ue]),ze=Ve?x.symbolBackOffs[x.symbolNumber(Xe)]*at:0,ze+=x.getMarkerStandoff(he[Ue],ie)||0}var st=fe-ze*Math.cos(De),ht=xe-ze*Math.sin(De);(st<=fe&&st>=Ee||st>=fe&&st<=Ee)&&(ht<=xe&&ht>=Ie||ht>=xe&&ht<=Ie)&&(ye=[st,ht])}return ye}x.steps=function(ye){var we=Y[ye]||F;return function(se){for(var ie="M"+j(se[0][0])+","+z(se[0][1]),he=se.length,Se=1;Se<he;Se++)ie+=we(se[Se-1],se[Se],Se===he-1);return ie}},x.applyBackoff=U,x.makeTester=function(){var ye=k.ensureSingleById(M.select("body"),"svg","js-plotly-tester",function(se){se.attr(r.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),we=k.ensureSingle(ye,"path","js-reference-point",function(se){se.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});x.tester=ye,x.testref=we},x.savedBBoxes={};var V=0;function te(ye){var we=ye.getAttribute("data-unformatted");if(null!==we)return we+ye.getAttribute("data-math")+ye.getAttribute("text-anchor")+ye.getAttribute("style")}function $(ye,we){if(!ye)return null;var se=we._context,ie=se._exportedPlot?"":se._baseUrl||"";return ie?"url('"+ie+"#"+ye+"')":"url(#"+ye+")"}x.bBox=function(ye,we,se){var ie,he,Se;if(se||(se=te(ye)),se){if(ie=x.savedBBoxes[se])return k.extendFlat({},ie)}else if(1===ye.childNodes.length){var _e=ye.childNodes[0];if(se=te(_e)){var Me=+_e.getAttribute("x")||0,Ee=+_e.getAttribute("y")||0,Ie=_e.getAttribute("transform");if(!Ie){var fe=x.bBox(_e,!1,se);return Me&&(fe.left+=Me,fe.right+=Me),Ee&&(fe.top+=Ee,fe.bottom+=Ee),fe}if(se+="~"+Me+"~"+Ee+"~"+Ie,ie=x.savedBBoxes[se])return k.extendFlat({},ie)}}we?he=ye:(Se=x.tester.node(),he=ye.cloneNode(!0),Se.appendChild(he)),M.select(he).attr("transform",null).call(n.positionText,0,0);var xe=he.getBoundingClientRect(),Te=x.testref.node().getBoundingClientRect();we||Se.removeChild(he);var Ce={height:xe.height,width:xe.width,left:xe.left-Te.left,top:xe.top-Te.top,right:xe.right-Te.left,bottom:xe.bottom-Te.top};return V>=1e4&&(x.savedBBoxes={},V=0),se&&(x.savedBBoxes[se]=Ce),V++,k.extendFlat({},Ce)},x.setClipUrl=function(ye,we,se){ye.attr("clip-path",$(we,se))},x.getTranslate=function(ye){var we=(ye[ye.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(se,ie,he){return[ie,he].join(" ")}).split(" ");return{x:+we[0]||0,y:+we[1]||0}},x.setTranslate=function(ye,we,se){var ie=ye.attr?"attr":"getAttribute",he=ye.attr?"attr":"setAttribute",Se=ye[ie]("transform")||"";return we=we||0,se=se||0,Se=Se.replace(/(\btranslate\(.*?\);?)/,"").trim(),Se=(Se+=i(we,se)).trim(),ye[he]("transform",Se),Se},x.getScale=function(ye){var we=(ye[ye.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(se,ie,he){return[ie,he].join(" ")}).split(" ");return{x:+we[0]||1,y:+we[1]||1}},x.setScale=function(ye,we,se){var ie=ye.attr?"attr":"getAttribute",he=ye.attr?"attr":"setAttribute",Se=ye[ie]("transform")||"";return we=we||1,se=se||1,Se=Se.replace(/(\bscale\(.*?\);?)/,"").trim(),Se=(Se+="scale("+we+","+se+")").trim(),ye[he]("transform",Se),Se};var X=/\s*sc.*/;x.setPointGroupScale=function(ye,we,se){if(we=we||1,se=se||1,ye){var ie=1===we&&1===se?"":"scale("+we+","+se+")";ye.each(function(){var he=(this.getAttribute("transform")||"").replace(X,"");he=(he+=ie).trim(),this.setAttribute("transform",he)})}};var W=/translate\([^)]*\)\s*$/;function J(ye,we){var se;return ye&&(se=ye.mf),void 0===se&&(se=we.marker&&we.marker.standoff||0),we._geo||we._xA?se:-se}x.setTextPointsScale=function(ye,we,se){ye&&ye.each(function(){var ie,he=M.select(this),Se=he.select("text");if(Se.node()){var _e=parseFloat(Se.attr("x")||0),Me=parseFloat(Se.attr("y")||0),Ee=(he.attr("transform")||"").match(W);ie=1===we&&1===se?[]:[i(_e,Me),"scale("+we+","+se+")",i(-_e,-Me)],Ee&&ie.push(Ee),he.attr("transform",ie.join(""))}})},x.getMarkerStandoff=J;var Q,re,ae,oe,ue,ve,be=Math.atan2,de=Math.cos,pe=Math.sin;function ge(ye,we){var se=we[0],ie=we[1];return[se*de(ye)-ie*pe(ye),se*pe(ye)+ie*de(ye)]}function Ae(ye,we){var se,ie,he=ye.ma;void 0===he&&((he=we.marker.angle)&&!k.isArrayOrTypedArray(he)||(he=0));var Se=we.marker.angleref;if("previous"===Se||"north"===Se){if(we._geo){var _e=we._geo.project(ye.lonlat);se=_e[0],ie=_e[1]}else{var Me=we._xA,Ee=we._yA;if(!Me||!Ee)return 90;se=Me.c2p(ye.x),ie=Ee.c2p(ye.y)}if(we._geo){var Ie,fe=ye.lonlat[0],xe=ye.lonlat[1],Te=we._geo.project([fe,xe+1e-5]),Ce=we._geo.project([fe+1e-5,xe]),De=be(Ce[1]-ie,Ce[0]-se),ze=be(Te[1]-ie,Te[0]-se);if("north"===Se)Ie=he/180*Math.PI;else if("previous"===Se){var Ue=fe/180*Math.PI,Ve=xe/180*Math.PI,Xe=Q/180*Math.PI,at=re/180*Math.PI,st=Xe-Ue,ht=de(at)*pe(st),bt=pe(at)*de(Ve)-de(at)*pe(Ve)*de(st);Ie=-be(ht,bt)-Math.PI,Q=fe,re=xe}var vt=ge(De,[de(Ie),0]),Qe=ge(ze,[pe(Ie),0]);he=be(vt[1]+Qe[1],vt[0]+Qe[0])/Math.PI*180,"previous"!==Se||ve===we.uid&&ye.i===ue+1||(he=null)}if("previous"===Se&&!we._geo)if(ve===we.uid&&ye.i===ue+1&&T(se)&&T(ie)){var nt=se-ae,wt=ie-oe,Ot=we.line&&we.line.shape||"",Pt=Ot.slice(Ot.length-1);"h"===Pt&&(wt=0),"v"===Pt&&(nt=0),he+=be(wt,nt)/Math.PI*180+90}else he=null}return ae=se,oe=ie,ue=ye.i,ve=we.uid,he}x.getMarkerAngle=Ae},90998:function(ee,D,e){"use strict";var M,k,a,T,b=e(95616),p=e(39898).round,s="M0,0Z",t=Math.sqrt(2),i=Math.sqrt(3),n=Math.PI,r=Math.cos,o=Math.sin;function l(d){return null===d}function u(d,c,x){if(!(d&&d%360!=0||c))return x;if(a===d&&T===c&&M===x)return k;function g(R,j){var z=r(R),N=o(R),Y=j[0],F=j[1]+(c||0);return[Y*z-F*N,Y*N+F*z]}a=d,T=c,M=x;for(var h=d/180*n,m=0,y=0,v=b(x),_="",f=0;f<v.length;f++){var S=v[f],w=S[0],E=m,C=y;if("M"===w||"L"===w)m=+S[1],y=+S[2];else if("m"===w||"l"===w)m+=+S[1],y+=+S[2];else if("H"===w)m=+S[1];else if("h"===w)m+=+S[1];else if("V"===w)y=+S[1];else if("v"===w)y+=+S[1];else if("A"===w){m=+S[1],y=+S[2];var O=g(h,[+S[6],+S[7]]);S[6]=O[0],S[7]=O[1],S[3]=+S[3]+d}"H"!==w&&"V"!==w||(w="L"),"h"!==w&&"v"!==w||(w="l"),"m"!==w&&"l"!==w||(m-=E,y-=C);var P=g(h,[m,y]);"H"!==w&&"V"!==w||(w="L"),"M"!==w&&"L"!==w&&"m"!==w&&"l"!==w||(S[1]=P[0],S[2]=P[1]),S[0]=w,_+=S[0]+S.slice(1).join(",")}return k=_,_}ee.exports={circle:{n:0,f:function(d,c,x){if(l(c))return s;var g=p(d,2),h="M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z";return x?u(c,x,h):h}},square:{n:1,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")}},diamond:{n:2,f:function(d,c,x){if(l(c))return s;var g=p(1.3*d,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"Z")}},cross:{n:3,f:function(d,c,x){if(l(c))return s;var g=p(.4*d,2),h=p(1.2*d,2);return u(c,x,"M"+h+","+g+"H"+g+"V"+h+"H-"+g+"V"+g+"H-"+h+"V-"+g+"H-"+g+"V-"+h+"H"+g+"V-"+g+"H"+h+"Z")}},x:{n:4,f:function(d,c,x){if(l(c))return s;var g=p(.8*d/t,2),h="l"+g+","+g,m="l"+g+",-"+g,y="l-"+g+",-"+g,v="l-"+g+","+g;return u(c,x,"M0,"+g+h+m+y+m+y+v+y+v+h+v+h+"Z")}},"triangle-up":{n:5,f:function(d,c,x){if(l(c))return s;var g=p(2*d/i,2);return u(c,x,"M-"+g+","+p(d/2,2)+"H"+g+"L0,-"+p(d,2)+"Z")}},"triangle-down":{n:6,f:function(d,c,x){if(l(c))return s;var g=p(2*d/i,2);return u(c,x,"M-"+g+",-"+p(d/2,2)+"H"+g+"L0,"+p(d,2)+"Z")}},"triangle-left":{n:7,f:function(d,c,x){if(l(c))return s;var g=p(2*d/i,2);return u(c,x,"M"+p(d/2,2)+",-"+g+"V"+g+"L-"+p(d,2)+",0Z")}},"triangle-right":{n:8,f:function(d,c,x){if(l(c))return s;var g=p(2*d/i,2);return u(c,x,"M-"+p(d/2,2)+",-"+g+"V"+g+"L"+p(d,2)+",0Z")}},"triangle-ne":{n:9,f:function(d,c,x){if(l(c))return s;var g=p(.6*d,2),h=p(1.2*d,2);return u(c,x,"M-"+h+",-"+g+"H"+g+"V"+h+"Z")}},"triangle-se":{n:10,f:function(d,c,x){if(l(c))return s;var g=p(.6*d,2),h=p(1.2*d,2);return u(c,x,"M"+g+",-"+h+"V"+g+"H-"+h+"Z")}},"triangle-sw":{n:11,f:function(d,c,x){if(l(c))return s;var g=p(.6*d,2),h=p(1.2*d,2);return u(c,x,"M"+h+","+g+"H-"+g+"V-"+h+"Z")}},"triangle-nw":{n:12,f:function(d,c,x){if(l(c))return s;var g=p(.6*d,2),h=p(1.2*d,2);return u(c,x,"M-"+g+","+h+"V-"+g+"H"+h+"Z")}},pentagon:{n:13,f:function(d,c,x){if(l(c))return s;var g=p(.951*d,2),h=p(.588*d,2),m=p(-d,2),y=p(-.309*d,2);return u(c,x,"M"+g+","+y+"L"+h+","+p(.809*d,2)+"H-"+h+"L-"+g+","+y+"L0,"+m+"Z")}},hexagon:{n:14,f:function(d,c,x){if(l(c))return s;var g=p(d,2),h=p(d/2,2),m=p(d*i/2,2);return u(c,x,"M"+m+",-"+h+"V"+h+"L0,"+g+"L-"+m+","+h+"V-"+h+"L0,-"+g+"Z")}},hexagon2:{n:15,f:function(d,c,x){if(l(c))return s;var g=p(d,2),h=p(d/2,2),m=p(d*i/2,2);return u(c,x,"M-"+h+","+m+"H"+h+"L"+g+",0L"+h+",-"+m+"H-"+h+"L-"+g+",0Z")}},octagon:{n:16,f:function(d,c,x){if(l(c))return s;var g=p(.924*d,2),h=p(.383*d,2);return u(c,x,"M-"+h+",-"+g+"H"+h+"L"+g+",-"+h+"V"+h+"L"+h+","+g+"H-"+h+"L-"+g+","+h+"V-"+h+"Z")}},star:{n:17,f:function(d,c,x){if(l(c))return s;var g=1.4*d,h=p(.225*g,2),m=p(.951*g,2),y=p(.363*g,2),v=p(.588*g,2),_=p(-g,2),f=p(-.309*g,2),S=p(.118*g,2),w=p(.809*g,2);return u(c,x,"M"+h+","+f+"H"+m+"L"+y+","+S+"L"+v+","+w+"L0,"+p(.382*g,2)+"L-"+v+","+w+"L-"+y+","+S+"L-"+m+","+f+"H-"+h+"L0,"+_+"Z")}},hexagram:{n:18,f:function(d,c,x){if(l(c))return s;var g=p(.66*d,2),h=p(.38*d,2),m=p(.76*d,2);return u(c,x,"M-"+m+",0l-"+h+",-"+g+"h"+m+"l"+h+",-"+g+"l"+h+","+g+"h"+m+"l-"+h+","+g+"l"+h+","+g+"h-"+m+"l-"+h+","+g+"l-"+h+",-"+g+"h-"+m+"Z")}},"star-triangle-up":{n:19,f:function(d,c,x){if(l(c))return s;var g=p(d*i*.8,2),h=p(.8*d,2),m=p(1.6*d,2),y=p(4*d,2),v="A "+y+","+y+" 0 0 1 ";return u(c,x,"M-"+g+","+h+v+g+","+h+v+"0,-"+m+v+"-"+g+","+h+"Z")}},"star-triangle-down":{n:20,f:function(d,c,x){if(l(c))return s;var g=p(d*i*.8,2),h=p(.8*d,2),m=p(1.6*d,2),y=p(4*d,2),v="A "+y+","+y+" 0 0 1 ";return u(c,x,"M"+g+",-"+h+v+"-"+g+",-"+h+v+"0,"+m+v+g+",-"+h+"Z")}},"star-square":{n:21,f:function(d,c,x){if(l(c))return s;var g=p(1.1*d,2),h=p(2*d,2),m="A "+h+","+h+" 0 0 1 ";return u(c,x,"M-"+g+",-"+g+m+"-"+g+","+g+m+g+","+g+m+g+",-"+g+m+"-"+g+",-"+g+"Z")}},"star-diamond":{n:22,f:function(d,c,x){if(l(c))return s;var g=p(1.4*d,2),h=p(1.9*d,2),m="A "+h+","+h+" 0 0 1 ";return u(c,x,"M-"+g+",0"+m+"0,"+g+m+g+",0"+m+"0,-"+g+m+"-"+g+",0Z")}},"diamond-tall":{n:23,f:function(d,c,x){if(l(c))return s;var g=p(.7*d,2),h=p(1.4*d,2);return u(c,x,"M0,"+h+"L"+g+",0L0,-"+h+"L-"+g+",0Z")}},"diamond-wide":{n:24,f:function(d,c,x){if(l(c))return s;var g=p(1.4*d,2),h=p(.7*d,2);return u(c,x,"M0,"+h+"L"+g+",0L0,-"+h+"L-"+g+",0Z")}},hourglass:{n:25,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M"+g+","+g+"H-"+g+"L"+g+",-"+g+"H-"+g+"Z")},noDot:!0},bowtie:{n:26,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M"+g+","+g+"V-"+g+"L-"+g+","+g+"V-"+g+"Z")},noDot:!0},"circle-cross":{n:27,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(d,c,x){if(l(c))return s;var g=p(d,2),h=p(d/t,2);return u(c,x,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(d,c,x){if(l(c))return s;var g=p(1.3*d,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM0,-"+g+"V"+g+"M-"+g+",0H"+g)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(d,c,x){if(l(c))return s;var g=p(1.3*d,2),h=p(.65*d,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM-"+h+",-"+h+"L"+h+","+h+"M-"+h+","+h+"L"+h+",-"+h)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(d,c,x){if(l(c))return s;var g=p(1.4*d,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(d,c,x){if(l(c))return s;var g=p(1.2*d,2),h=p(.85*d,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(d,c,x){if(l(c))return s;var g=p(d/2,2),h=p(d,2);return u(c,x,"M"+g+","+h+"V-"+h+"M"+(g-h)+",-"+h+"V"+h+"M"+h+","+g+"H-"+h+"M-"+h+","+(g-h)+"H"+h)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(d,c,x){if(l(c))return s;var g=p(1.2*d,2),h=p(1.6*d,2),m=p(.8*d,2);return u(c,x,"M-"+g+","+m+"L0,0M"+g+","+m+"L0,0M0,-"+h+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(d,c,x){if(l(c))return s;var g=p(1.2*d,2),h=p(1.6*d,2),m=p(.8*d,2);return u(c,x,"M-"+g+",-"+m+"L0,0M"+g+",-"+m+"L0,0M0,"+h+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(d,c,x){if(l(c))return s;var g=p(1.2*d,2),h=p(1.6*d,2),m=p(.8*d,2);return u(c,x,"M"+m+","+g+"L0,0M"+m+",-"+g+"L0,0M-"+h+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(d,c,x){if(l(c))return s;var g=p(1.2*d,2),h=p(1.6*d,2),m=p(.8*d,2);return u(c,x,"M-"+m+","+g+"L0,0M-"+m+",-"+g+"L0,0M"+h+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(d,c,x){if(l(c))return s;var g=p(1.4*d,2);return u(c,x,"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(d,c,x){if(l(c))return s;var g=p(1.4*d,2);return u(c,x,"M0,"+g+"V-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M0,0L-"+g+","+p(2*d,2)+"H"+g+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M0,0L-"+g+",-"+p(2*d,2)+"H"+g+"Z")},noDot:!0},"arrow-left":{n:47,f:function(d,c,x){if(l(c))return s;var g=p(2*d,2),h=p(d,2);return u(c,x,"M0,0L"+g+",-"+h+"V"+h+"Z")},noDot:!0},"arrow-right":{n:48,f:function(d,c,x){if(l(c))return s;var g=p(2*d,2),h=p(d,2);return u(c,x,"M0,0L-"+g+",-"+h+"V"+h+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M-"+g+",0H"+g+"M0,0L-"+g+","+p(2*d,2)+"H"+g+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(d,c,x){if(l(c))return s;var g=p(d,2);return u(c,x,"M-"+g+",0H"+g+"M0,0L-"+g+",-"+p(2*d,2)+"H"+g+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(d,c,x){if(l(c))return s;var g=p(2*d,2),h=p(d,2);return u(c,x,"M0,-"+h+"V"+h+"M0,0L"+g+",-"+h+"V"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(d,c,x){if(l(c))return s;var g=p(2*d,2),h=p(d,2);return u(c,x,"M0,-"+h+"V"+h+"M0,0L-"+g+",-"+h+"V"+h+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(d,c,x){if(l(c))return s;var g=n/2.5,h=2*d*r(g),m=2*d*o(g);return u(c,x,"M0,0L"+-h+","+m+"L"+h+","+m+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(d,c,x){if(l(c))return s;var g=n/4,h=2*d*r(g),m=2*d*o(g);return u(c,x,"M0,0L"+-h+","+m+"A "+2*d+","+2*d+" 0 0 1 "+h+","+m+"Z")},backoff:.4,noDot:!0}}},25673:function(ee){"use strict";ee.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(ee,D,e){"use strict";var M=e(92770),k=e(73972),a=e(89298),T=e(71828),b=e(45827);function p(s,t,i,n){var r=t["error_"+n]||{},o=[];if(r.visible&&-1!==["linear","log"].indexOf(i.type)){for(var l=b(r),u=0;u<s.length;u++){var d=s[u],c=d.i;if(void 0===c)c=u;else if(null===c)continue;var x=d[n];if(M(i.c2l(x))){var g=l(x,c);if(M(g[0])&&M(g[1])){var h=d[n+"s"]=x-g[0],m=d[n+"h"]=x+g[1];o.push(h,m)}}}var y=i._id,v=t._extremes[y],_=a.findExtremes(i,o,T.extendFlat({tozero:v.opts.tozero},{padded:!0}));v.min=v.min.concat(_.min),v.max=v.max.concat(_.max)}}ee.exports=function(s){for(var t=s.calcdata,i=0;i<t.length;i++){var n=t[i],r=n[0].trace;if(!0===r.visible&&k.traceIs(r,"errorBarsOK")){var o=a.getFromId(s,r.xaxis),l=a.getFromId(s,r.yaxis);p(n,r,o,"x"),p(n,r,l,"y")}}}},45827:function(ee){"use strict";function D(e,M){return"percent"===e?function(k){return Math.abs(k*M/100)}:"constant"===e?function(){return Math.abs(M)}:"sqrt"===e?function(k){return Math.sqrt(Math.abs(k))}:void 0}ee.exports=function(e){var M=e.type,k=e.symmetric;if("data"===M){var a=e.array||[];if(k)return function(s,t){var i=+a[t];return[i,i]};var T=e.arrayminus||[];return function(s,t){var i=+a[t],n=+T[t];return isNaN(i)&&isNaN(n)?[NaN,NaN]:[n||0,i||0]}}var b=D(M,e.value),p=D(M,e.valueminus);return k||void 0===e.valueminus?function(s){var t=b(s);return[t,t]}:function(s){return[p(s),b(s)]}}},97587:function(ee,D,e){"use strict";var M=e(92770),k=e(73972),a=e(71828),T=e(44467),b=e(25673);ee.exports=function(p,s,t,i){var n="error_"+i.axis,r=T.newContainer(s,n),o=p[n]||{};function l(x,g){return a.coerce(o,r,b,x,g)}if(!1!==l("visible",void 0!==o.array||void 0!==o.value||"sqrt"===o.type)){var u=l("type","array"in o?"data":"percent"),d=!0;"sqrt"!==u&&(d=l("symmetric",!(("data"===u?"arrayminus":"valueminus")in o))),"data"===u?(l("array"),l("traceref"),d||(l("arrayminus"),l("tracerefminus"))):"percent"!==u&&"constant"!==u||(l("value"),d||l("valueminus"));var c="copy_"+i.inherit+"style";i.inherit&&(s["error_"+i.inherit]||{}).visible&&l(c,!(o.color||M(o.thickness)||M(o.width))),i.inherit&&r[c]||(l("color",t),l("thickness"),l("width",k.traceIs(s,"gl3d")?0:4))}}},37369:function(ee,D,e){"use strict";var M=e(71828),k=e(30962).overrideAll,a=e(25673),T={error_x:M.extendFlat({},a),error_y:M.extendFlat({},a)};delete T.error_x.copy_zstyle,delete T.error_y.copy_zstyle,delete T.error_y.copy_ystyle;var b={error_x:M.extendFlat({},a),error_y:M.extendFlat({},a),error_z:M.extendFlat({},a)};delete b.error_x.copy_ystyle,delete b.error_y.copy_ystyle,delete b.error_z.copy_ystyle,delete b.error_z.copy_zstyle,ee.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:T,bar:T,histogram:T,scatter3d:k(b,"calc","nested"),scattergl:k(T,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:function(p,s,t){(s.error_y||{}).visible&&(t.yerr=p.yh-p.y,s.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(s.error_x||{}).visible&&(t.xerr=p.xh-p.x,s.error_x.symmetric||(t.xerrneg=p.x-p.xs))}}},19398:function(ee,D,e){"use strict";var M=e(39898),k=e(92770),a=e(91424),T=e(34098);ee.exports=function(b,p,s,t){var i=s.xaxis,n=s.yaxis,r=t&&t.duration>0,o=b._context.staticPlot;p.each(function(l){var u,d=l[0].trace,c=d.error_x||{},x=d.error_y||{};d.ids&&(u=function(y){return y.id});var g=T.hasMarkers(d)&&d.marker.maxdisplayed>0;x.visible||c.visible||(l=[]);var h=M.select(this).selectAll("g.errorbar").data(l,u);if(h.exit().remove(),l.length){c.visible||h.selectAll("path.xerror").remove(),x.visible||h.selectAll("path.yerror").remove(),h.style("opacity",1);var m=h.enter().append("g").classed("errorbar",!0);r&&m.style("opacity",0).transition().duration(t.duration).style("opacity",1),a.setClipUrl(h,s.layerClipId,b),h.each(function(y){var O,P,R,j,v=M.select(this),_=(O=y,R=n,j={x:(P=i).c2p(O.x),y:R.c2p(O.y)},void 0!==O.yh&&(j.yh=R.c2p(O.yh),j.ys=R.c2p(O.ys),k(j.ys)||(j.noYS=!0,j.ys=R.c2p(O.ys,!0))),void 0!==O.xh&&(j.xh=P.c2p(O.xh),j.xs=P.c2p(O.xs),k(j.xs)||(j.noXS=!0,j.xs=P.c2p(O.xs,!0))),j);if(!g||y.vis){var f,S=v.select("path.yerror");if(x.visible&&k(_.x)&&k(_.yh)&&k(_.ys)){var w=x.width;f="M"+(_.x-w)+","+_.yh+"h"+2*w+"m-"+w+",0V"+_.ys,_.noYS||(f+="m-"+w+",0h"+2*w),S.size()?r&&(S=S.transition().duration(t.duration).ease(t.easing)):S=v.append("path").style("vector-effect",o?"none":"non-scaling-stroke").classed("yerror",!0),S.attr("d",f)}else S.remove();var E=v.select("path.xerror");if(c.visible&&k(_.y)&&k(_.xh)&&k(_.xs)){var C=(c.copy_ystyle?x:c).width;f="M"+_.xh+","+(_.y-C)+"v"+2*C+"m0,-"+C+"H"+_.xs,_.noXS||(f+="m0,-"+C+"v"+2*C),E.size()?r&&(E=E.transition().duration(t.duration).ease(t.easing)):E=v.append("path").style("vector-effect",o?"none":"non-scaling-stroke").classed("xerror",!0),E.attr("d",f)}else E.remove()}})}})}},62662:function(ee,D,e){"use strict";var M=e(39898),k=e(7901);ee.exports=function(a){a.each(function(T){var b=T[0].trace,p=b.error_y||{},s=b.error_x||{},t=M.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(k.stroke,p.color),s.copy_ystyle&&(s=p),t.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(k.stroke,s.color)})}},77914:function(ee,D,e){"use strict";var M=e(41940),k=e(528).hoverlabel,a=e(1426).extendFlat;ee.exports={hoverlabel:{bgcolor:a({},k.bgcolor,{arrayOk:!0}),bordercolor:a({},k.bordercolor,{arrayOk:!0}),font:M({arrayOk:!0,editType:"none"}),align:a({},k.align,{arrayOk:!0}),namelength:a({},k.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(ee,D,e){"use strict";var M=e(71828),k=e(73972);function a(T,b,p,s){s=s||M.identity,Array.isArray(T)&&(b[0][p]=s(T))}ee.exports=function(T){var b=T.calcdata,p=T._fullLayout;function s(o){return function(l){return M.coerceHoverinfo({hoverinfo:l},{_module:o._module},p)}}for(var t=0;t<b.length;t++){var i=b[t],n=i[0].trace;if(!k.traceIs(n,"pie-like")){var r=k.traceIs(n,"2dMap")?a:M.fillArray;r(n.hoverinfo,i,"hi",s(n)),n.hovertemplate&&r(n.hovertemplate,i,"ht"),n.hoverlabel&&(r(n.hoverlabel.bgcolor,i,"hbg"),r(n.hoverlabel.bordercolor,i,"hbc"),r(n.hoverlabel.font.size,i,"hts"),r(n.hoverlabel.font.color,i,"htc"),r(n.hoverlabel.font.family,i,"htf"),r(n.hoverlabel.namelength,i,"hnl"),r(n.hoverlabel.align,i,"hta"))}}}},75914:function(ee,D,e){"use strict";var M=e(73972),k=e(88335).hover;ee.exports=function(a,T,b){var p=M.getComponentMethod("annotations","onClick")(a,a._hoverdata);function s(){a.emit("plotly_click",{points:a._hoverdata,event:T})}void 0!==b&&k(a,T,b,!0),a._hoverdata&&T&&T.target&&(p&&p.then?p.then(s):s(),T.stopImmediatePropagation&&T.stopImmediatePropagation())}},26675:function(ee){"use strict";ee.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(ee,D,e){"use strict";var M=e(71828),k=e(77914),a=e(38048);ee.exports=function(T,b,p,s){var t=M.extendFlat({},s.hoverlabel);b.hovertemplate&&(t.namelength=-1),a(T,b,function(i,n){return M.coerce(T,b,k,i,n)},t)}},23469:function(ee,D,e){"use strict";var M=e(71828);D.getSubplot=function(s){return s.subplot||s.xaxis+s.yaxis||s.geo},D.isTraceInSubplots=function(s,t){if("splom"===s.type){for(var i=s.xaxes||[],n=s.yaxes||[],r=0;r<i.length;r++)for(var o=0;o<n.length;o++)if(-1!==t.indexOf(i[r]+n[o]))return!0;return!1}return-1!==t.indexOf(D.getSubplot(s))},D.flat=function(s,t){for(var i=new Array(s.length),n=0;n<s.length;n++)i[n]=t;return i},D.p2c=function(s,t){for(var i=new Array(s.length),n=0;n<s.length;n++)i[n]=s[n].p2c(t);return i},D.getDistanceFunction=function(s,t,i,n){return"closest"===s?n||D.quadrature(t,i):"x"===s.charAt(0)?t:i},D.getClosest=function(s,t,i){if(!1!==i.index)i.index>=0&&i.index<s.length?i.distance=0:i.index=!1;else for(var n=0;n<s.length;n++){var r=t(s[n]);r<=i.distance&&(i.index=n,i.distance=r)}return i},D.inbox=function(s,t,i){return s*t<0||0===s?i:1/0},D.quadrature=function(s,t){return function(i){var n=s(i),r=t(i);return Math.sqrt(n*n+r*r)}},D.makeEventData=function(s,t,i){var n="index"in s?s.index:s.pointNumber,r={data:t._input,fullData:t,curveNumber:t.index,pointNumber:n};if(t._indexToPoints){var o=t._indexToPoints[n];1===o.length?r.pointIndex=o[0]:r.pointIndices=o}else r.pointIndex=n;return t._module.eventData?r=t._module.eventData(r,s,t,i,n):("xVal"in s?r.x=s.xVal:"x"in s&&(r.x=s.x),"yVal"in s?r.y=s.yVal:"y"in s&&(r.y=s.y),s.xa&&(r.xaxis=s.xa),s.ya&&(r.yaxis=s.ya),void 0!==s.zLabelVal&&(r.z=s.zLabelVal)),D.appendArrayPointValue(r,t,n),r},D.appendArrayPointValue=function(s,t,i){var n=t._arrayAttrs;if(n)for(var r=0;r<n.length;r++){var o=n[r],l=a(o);if(void 0===s[l]){var u=T(M.nestedProperty(t,o).get(),i);void 0!==u&&(s[l]=u)}}},D.appendArrayMultiPointValues=function(s,t,i){var n=t._arrayAttrs;if(n)for(var r=0;r<n.length;r++){var o=n[r],l=a(o);if(void 0===s[l]){for(var u=M.nestedProperty(t,o).get(),d=new Array(i.length),c=0;c<i.length;c++)d[c]=T(u,i[c]);s[l]=d}}};var k={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(s){return k[s]||s}function T(s,t){return Array.isArray(t)?Array.isArray(s)&&Array.isArray(s[t[0]])?s[t[0]][t[1]]:void 0:s[t]}var b={x:!0,y:!0},p={"x unified":!0,"y unified":!0};D.isUnifiedHover=function(s){return"string"==typeof s&&!!p[s]},D.isXYhover=function(s){return"string"==typeof s&&!!b[s]}},88335:function(ee,D,e){"use strict";var M=e(39898),k=e(92770),a=e(84267),T=e(71828),b=T.strTranslate,p=T.strRotate,s=e(11086),t=e(63893),i=e(39918),n=e(91424),r=e(7901),o=e(28569),l=e(89298),u=e(73972),d=e(23469),c=e(26675),x=e(99017),g=e(43969),h=c.YANGLE,m=Math.PI*h/180,y=1/Math.sin(m),v=Math.cos(m),_=Math.sin(m),f=c.HOVERARROWSIZE,S=c.HOVERTEXTPAD,w={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function C(W){return[W.trace.index,W.index,W.x0,W.y0,W.name,W.attr,W.xa?W.xa._id:"",W.ya?W.ya._id:""].join(",")}D.hover=function(W,J,Q,re){W=T.getGraphDiv(W);var ae=J.target;T.throttle(W._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){!function(oe,ue,ve,be,de){ve||(ve="xy");var pe=Array.isArray(ve)?ve:[ve],ge=oe._fullLayout,Ae=ge._plots||[],ye=Ae[ve],we=ge._has("cartesian");if(ye){var se=ye.overlays.map(function(Nt){return Nt.id});pe=pe.concat(se)}for(var ie=pe.length,he=new Array(ie),Se=new Array(ie),_e=!1,Me=0;Me<ie;Me++){var Ee=pe[Me];if(Ae[Ee])_e=!0,he[Me]=Ae[Ee].xaxis,Se[Me]=Ae[Ee].yaxis;else{if(!ge[Ee]||!ge[Ee]._subplot)return void T.warn("Unrecognized subplot: "+Ee);var Ie=ge[Ee]._subplot;he[Me]=Ie.xaxis,Se[Me]=Ie.yaxis}}var fe=ue.hovermode||ge.hovermode;if(fe&&!_e&&(fe="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(fe)||!oe.calcdata||oe.querySelector(".zoombox")||oe._dragging)return o.unhoverRaw(oe,ue);var xe=ge.hoverdistance;-1===xe&&(xe=1/0);var Te=ge.spikedistance;-1===Te&&(Te=1/0);var Ce,De,ze,Ue,Ve,Xe,at,st,ht,bt,vt,Qe,nt,wt=[],Ot=[],Pt={hLinePoint:null,vLinePoint:null},St=!1;if(Array.isArray(ue))for(fe="array",ze=0;ze<ue.length;ze++)(Ve=oe.calcdata[ue[ze].curveNumber||0])&&(Xe=Ve[0].trace,"skip"!==Ve[0].trace.hoverinfo&&(Ot.push(Ve),"h"===Xe.orientation&&(St=!0)));else{for(Ue=0;Ue<oe.calcdata.length;Ue++)Ve=oe.calcdata[Ue],"skip"!==(Xe=Ve[0].trace).hoverinfo&&d.isTraceInSubplots(Xe,pe)&&(Ot.push(Ve),"h"===Xe.orientation&&(St=!0));var qe,Ze;if(de){if(!1===s.triggerHandler(oe,"plotly_beforehover",ue))return;var Ne=de.getBoundingClientRect();qe=ue.clientX-Ne.left,Ze=ue.clientY-Ne.top,ge._calcInverseTransform(oe);var Ge=T.apply3DTransform(ge._invTransform)(qe,Ze);if(qe=Ge[0],Ze=Ge[1],qe<0||qe>he[0]._length||Ze<0||Ze>Se[0]._length)return o.unhoverRaw(oe,ue)}else qe="xpx"in ue?ue.xpx:he[0]._length/2,Ze="ypx"in ue?ue.ypx:Se[0]._length/2;if(ue.pointerX=qe+he[0]._offset,ue.pointerY=Ze+Se[0]._offset,Ce="xval"in ue?d.flat(pe,ue.xval):d.p2c(he,qe),De="yval"in ue?d.flat(pe,ue.yval):d.p2c(Se,Ze),!k(Ce[0])||!k(De[0]))return T.warn("Fx.hover failed",ue,oe),o.unhoverRaw(oe,ue)}var rt=1/0;function tt(Nt,Jt){for(Ue=0;Ue<Ot.length;Ue++)if((Ve=Ot[Ue])&&Ve[0]&&Ve[0].trace&&!0===(Xe=Ve[0].trace).visible&&0!==Xe._length&&-1===["carpet","contourcarpet"].indexOf(Xe._module.name)){if("splom"===Xe.type?at=pe[st=0]:(at=d.getSubplot(Xe),st=pe.indexOf(at)),ht=fe,d.isUnifiedHover(ht)&&(ht=ht.charAt(0)),Qe={cd:Ve,trace:Xe,xa:he[st],ya:Se[st],maxHoverDistance:xe,maxSpikeDistance:Te,index:!1,distance:Math.min(rt,xe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:r.defaultLine,name:Xe.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ge[at]&&(Qe.subplot=ge[at]._subplot),ge._splomScenes&&ge._splomScenes[Xe.uid]&&(Qe.scene=ge._splomScenes[Xe.uid]),nt=wt.length,"array"===ht){var un=ue[Ue];"pointNumber"in un?(Qe.index=un.pointNumber,ht="closest"):(ht="","xval"in un&&(bt=un.xval,ht="x"),"yval"in un&&(vt=un.yval,ht=ht?"closest":"y"))}else void 0!==Nt&&void 0!==Jt?(bt=Nt,vt=Jt):(bt=Ce[st],vt=De[st]);if(0!==xe)if(Xe._module&&Xe._module.hoverPoints){var fn=Xe._module.hoverPoints(Qe,bt,vt,ht,{finiteRange:!0,hoverLayer:ge._hoverlayer});if(fn)for(var Mn,Fn=0;Fn<fn.length;Fn++)Mn=fn[Fn],k(Mn.x0)&&k(Mn.y0)&&wt.push(N(Mn,fe))}else T.log("Unrecognized trace type in hover:",Xe);if("closest"===fe&&wt.length>nt&&(wt.splice(0,nt),rt=wt[0].distance),we&&0!==Te&&0===wt.length){Qe.distance=Te,Qe.index=!1;var In=Xe._module.hoverPoints(Qe,bt,vt,"closest",{hoverLayer:ge._hoverlayer});if(In&&(In=In.filter(function(Zt){return Zt.spikeDistance<=Te})),In&&In.length){var Rn,Jn=In.filter(function(Zt){return Zt.xa.showspikes&&"hovered data"!==Zt.xa.spikesnap});if(Jn.length){var Yt=Jn[0];k(Yt.x0)&&k(Yt.y0)&&(Rn=Fe(Yt),(!Pt.vLinePoint||Pt.vLinePoint.spikeDistance>Rn.spikeDistance)&&(Pt.vLinePoint=Rn))}var gn=In.filter(function(Zt){return Zt.ya.showspikes&&"hovered data"!==Zt.ya.spikesnap});if(gn.length){var Ct=gn[0];k(Ct.x0)&&k(Ct.y0)&&(Rn=Fe(Ct),(!Pt.hLinePoint||Pt.hLinePoint.spikeDistance>Rn.spikeDistance)&&(Pt.hLinePoint=Rn))}}}}}function Re(Nt,Jt,un){for(var fn,Mn=null,Fn=1/0,In=0;In<Nt.length;In++)fn=Nt[In].spikeDistance,un&&0===In&&(fn=-1/0),fn<=Fn&&fn<=Jt&&(Mn=Nt[In],Fn=fn);return Mn}function Fe(Nt){return Nt?{xa:Nt.xa,ya:Nt.ya,x:void 0!==Nt.xSpike?Nt.xSpike:(Nt.x0+Nt.x1)/2,y:void 0!==Nt.ySpike?Nt.ySpike:(Nt.y0+Nt.y1)/2,distance:Nt.distance,spikeDistance:Nt.spikeDistance,curveNumber:Nt.trace.index,color:Nt.color,pointNumber:Nt.index}:null}tt();var et={fullLayout:ge,container:ge._hoverlayer,event:ue},We=oe._spikepoints,ct={vLinePoint:Pt.vLinePoint,hLinePoint:Pt.hLinePoint};oe._spikepoints=ct;var pt=function(){wt.sort(function(Nt,Jt){return Nt.distance-Jt.distance}),wt=function(Nt,Jt){for(var un=Jt.charAt(0),fn=[],Mn=[],Fn=[],In=0;In<Nt.length;In++){var Rn=Nt[In];u.traceIs(Rn.trace,"bar-like")||u.traceIs(Rn.trace,"box-violin")?Fn.push(Rn):Rn.trace[un+"period"]?Mn.push(Rn):fn.push(Rn)}return fn.concat(Mn).concat(Fn)}(wt,fe)};pt();var dt=fe.charAt(0),ut=("x"===dt||"y"===dt)&&wt[0]&&E[wt[0].trace.type];if(we&&0!==Te&&0!==wt.length){var kt=Re(wt.filter(function(Nt){return Nt.ya.showspikes}),Te,ut);Pt.hLinePoint=Fe(kt);var yt=Re(wt.filter(function(Nt){return Nt.xa.showspikes}),Te,ut);Pt.vLinePoint=Fe(yt)}if(0===wt.length){var gt=o.unhoverRaw(oe,ue);return!we||null===Pt.hLinePoint&&null===Pt.vLinePoint||F(We)&&Y(oe,Pt,et),gt}if(we&&F(We)&&Y(oe,Pt,et),d.isXYhover(ht)&&0!==wt[0].length&&"splom"!==wt[0].trace.type){var At=wt[0],Lt=(wt=w[At.trace.type]?wt.filter(function(Nt){return Nt.trace.index===At.trace.index}):[At]).length;tt(V("x",At,ge),V("y",At,ge));var It,qt=[],Qt={},Vt=0,Ft=function(Nt){var Jt=w[Nt.trace.type]?C(Nt):Nt.trace.index;if(Qt[Jt]){var un=Qt[Jt]-1,fn=qt[un];un>0&&Math.abs(Nt.distance)<Math.abs(fn.distance)&&(qt[un]=Nt)}else Vt++,Qt[Jt]=Vt,qt.push(Nt)};for(It=0;It<Lt;It++)Ft(wt[It]);for(It=wt.length-1;It>Lt-1;It--)Ft(wt[It]);wt=qt,pt()}var en=oe._hoverdata,wn=[],kn=te(oe),on=$(oe);for(ze=0;ze<wt.length;ze++){var Ht=wt[ze],nn=d.makeEventData(Ht,Ht.trace,Ht.cd);if(!1!==Ht.hovertemplate){var Kt=!1;Ht.cd[Ht.index]&&Ht.cd[Ht.index].ht&&(Kt=Ht.cd[Ht.index].ht),Ht.hovertemplate=Kt||Ht.trace.hovertemplate||!1}if(Ht.xa&&Ht.ya){var an=Ht.x0+Ht.xa._offset,xn=Ht.x1+Ht.xa._offset,_n=Ht.y0+Ht.ya._offset,mn=Ht.y1+Ht.ya._offset,An=Math.min(an,xn),vn=Math.max(an,xn),On=Math.min(_n,mn),Bn=Math.max(_n,mn);nn.bbox={x0:An+on,x1:vn+on,y0:On+kn,y1:Bn+kn}}Ht.eventData=[nn],wn.push(nn)}oe._hoverdata=wn;var er="y"===fe&&(Ot.length>1||wt.length>1)||"closest"===fe&&St&&wt.length>1,or=r.combine(ge.plot_bgcolor||r.background,ge.paper_bgcolor),$n=P(wt,{gd:oe,hovermode:fe,rotateLabels:er,bgColor:or,container:ge._hoverlayer,outerContainer:ge._paper.node(),commonLabelOpts:ge.hoverlabel,hoverdistance:ge.hoverdistance}),qn=$n.hoverLabels;if(d.isUnifiedHover(fe)||(function(Nt,Jt,un,fn){var Mn,Fn,In,Rn,Jn,Yt,gn,Ct=Jt?"xa":"ya",Zt=Jt?"ya":"xa",$t=0,dn=1,yn=Nt.size(),Sn=new Array(yn),ln=0,Wt=fn.minX,Xt=fn.maxX,sn=fn.minY,cn=fn.maxY,Ln=function(fr){return fr*un._invScaleX},Pn=function(fr){return fr*un._invScaleY};function Vn(fr){var wr=fr[0],tr=fr[fr.length-1];if(Fn=wr.pmin-wr.pos-wr.dp+wr.size,In=tr.pos+tr.dp+tr.size-wr.pmax,Fn>.01){for(Jn=fr.length-1;Jn>=0;Jn--)fr[Jn].dp+=Fn;Mn=!1}if(!(In<.01)){if(Fn<-.01){for(Jn=fr.length-1;Jn>=0;Jn--)fr[Jn].dp-=In;Mn=!1}if(Mn){var vr=0;for(Rn=0;Rn<fr.length;Rn++)(Yt=fr[Rn]).pos+Yt.dp+Yt.size>wr.pmax&&vr++;for(Rn=fr.length-1;Rn>=0&&!(vr<=0);Rn--)(Yt=fr[Rn]).pos>wr.pmax-1&&(Yt.del=!0,vr--);for(Rn=0;Rn<fr.length&&!(vr<=0);Rn++)if((Yt=fr[Rn]).pos<wr.pmin+1)for(Yt.del=!0,vr--,In=2*Yt.size,Jn=fr.length-1;Jn>=0;Jn--)fr[Jn].dp-=In;for(Rn=fr.length-1;Rn>=0&&!(vr<=0);Rn--)(Yt=fr[Rn]).pos+Yt.dp+Yt.size>wr.pmax&&(Yt.del=!0,vr--)}}}for(Nt.each(function(fr){var wr=fr[Ct],tr=fr[Zt],vr="x"===wr._id.charAt(0),Mr=wr.range;0===ln&&Mr&&Mr[0]>Mr[1]!==vr&&(dn=-1);var Ir=0,ii=vr?un.width:un.height;if("x"===un.hovermode||"y"===un.hovermode){var oi,Oi,ti=j(fr,Jt),Ti=fr.anchor,ra="end"===Ti?-1:1;if("middle"===Ti)Oi=(oi=fr.crossPos+(vr?Pn(ti.y-fr.by/2):Ln(fr.bx/2+fr.tx2width/2)))+(vr?Pn(fr.by):Ln(fr.bx));else if(vr)Oi=(oi=fr.crossPos+Pn(f+ti.y)-Pn(fr.by/2-f))+Pn(fr.by);else{var ia=Ln(ra*f+ti.x),Ro=ia+Ln(ra*fr.bx);oi=fr.crossPos+Math.min(ia,Ro),Oi=fr.crossPos+Math.max(ia,Ro)}vr?void 0!==sn&&void 0!==cn&&Math.min(Oi,cn)-Math.max(oi,sn)>1&&("left"===tr.side?(Ir=tr._mainLinePosition,ii=un.width):ii=tr._mainLinePosition):void 0!==Wt&&void 0!==Xt&&Math.min(Oi,Xt)-Math.max(oi,Wt)>1&&("top"===tr.side?(Ir=tr._mainLinePosition,ii=un.height):ii=tr._mainLinePosition)}Sn[ln++]=[{datum:fr,traceIndex:fr.trace.index,dp:0,pos:fr.pos,posref:fr.posref,size:fr.by*(vr?y:1)/2,pmin:Ir,pmax:ii}]}),Sn.sort(function(fr,wr){return fr[0].posref-wr[0].posref||dn*(wr[0].traceIndex-fr[0].traceIndex)});!Mn&&$t<=yn;){for($t++,Mn=!0,Rn=0;Rn<Sn.length-1;){var Un=Sn[Rn],Xn=Sn[Rn+1],Zn=Un[Un.length-1],Qn=Xn[0];if((Fn=Zn.pos+Zn.dp+Zn.size-Qn.pos-Qn.dp+Qn.size)>.01&&Zn.pmin===Qn.pmin&&Zn.pmax===Qn.pmax){for(Jn=Xn.length-1;Jn>=0;Jn--)Xn[Jn].dp+=Fn;for(Un.push.apply(Un,Xn),Sn.splice(Rn+1,1),gn=0,Jn=Un.length-1;Jn>=0;Jn--)gn+=Un[Jn].dp;for(In=gn/Un.length,Jn=Un.length-1;Jn>=0;Jn--)Un[Jn].dp-=In;Mn=!1}else Rn++}Sn.forEach(Vn)}for(Rn=Sn.length-1;Rn>=0;Rn--){var ar=Sn[Rn];for(Jn=ar.length-1;Jn>=0;Jn--){var ir=ar[Jn],hr=ir.datum;hr.offset=ir.dp,hr.del=ir.del}}}(qn,er,ge,$n.commonLabelBoundingBox),z(qn,er,ge._invScaleX,ge._invScaleY)),de&&de.tagName){var cr=u.getComponentMethod("annotations","hasClickToShow")(oe,wn);i(M.select(de),cr?"pointer":"")}de&&!be&&function(Nt,Jt,un){if(!un||un.length!==Nt._hoverdata.length)return!0;for(var fn=un.length-1;fn>=0;fn--){var Mn=un[fn],Fn=Nt._hoverdata[fn];if(Mn.curveNumber!==Fn.curveNumber||String(Mn.pointNumber)!==String(Fn.pointNumber)||String(Mn.pointNumbers)!==String(Fn.pointNumbers))return!0}return!1}(oe,0,en)&&(en&&oe.emit("plotly_unhover",{event:ue,points:en}),oe.emit("plotly_hover",{event:ue,points:oe._hoverdata,xaxes:he,yaxes:Se,xvals:Ce,yvals:De}))}(W,J,Q,re,ae)})},D.loneHover=function(W,J){var Q=!0;Array.isArray(W)||(Q=!1,W=[W]);var re=J.gd,ae=te(re),oe=$(re),ue=P(W.map(function(de){var pe=de._x0||de.x0||de.x||0,ge=de._x1||de.x1||de.x||0,Ae=de._y0||de.y0||de.y||0,ye=de._y1||de.y1||de.y||0,we=de.eventData;if(we){var se=Math.min(pe,ge),ie=Math.max(pe,ge),he=Math.min(Ae,ye),Se=Math.max(Ae,ye),_e=de.trace;if(u.traceIs(_e,"gl3d")){var Me=re._fullLayout[_e.scene]._scene.container,Ee=Me.offsetLeft,Ie=Me.offsetTop;se+=Ee,ie+=Ee,he+=Ie,Se+=Ie}we.bbox={x0:se+oe,x1:ie+oe,y0:he+ae,y1:Se+ae},J.inOut_bbox&&J.inOut_bbox.push(we.bbox)}else we=!1;return{color:de.color||r.defaultLine,x0:de.x0||de.x||0,x1:de.x1||de.x||0,y0:de.y0||de.y||0,y1:de.y1||de.y||0,xLabel:de.xLabel,yLabel:de.yLabel,zLabel:de.zLabel,text:de.text,name:de.name,idealAlign:de.idealAlign,borderColor:de.borderColor,fontFamily:de.fontFamily,fontSize:de.fontSize,fontColor:de.fontColor,nameLength:de.nameLength,textAlign:de.textAlign,trace:de.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:de.hovertemplate||!1,hovertemplateLabels:de.hovertemplateLabels||!1,eventData:we}}),{gd:re,hovermode:"closest",rotateLabels:!1,bgColor:J.bgColor||r.background,container:M.select(J.container),outerContainer:J.outerContainer||J.container}).hoverLabels,ve=0,be=0;return ue.sort(function(de,pe){return de.y0-pe.y0}).each(function(de,pe){var ge=de.y0-de.by/2;de.offset=ge-5<ve?ve-ge+5:0,ve=ge+de.by+de.offset,pe===J.anchorIndex&&(be=de.offset)}).each(function(de){de.offset-=be}),z(ue,!1,re._fullLayout._invScaleX,re._fullLayout._invScaleY),Q?ue:ue.node()};var O=/<extra>([\s\S]*)<\/extra>/;function P(W,J){var Q=J.gd,re=Q._fullLayout,ae=J.hovermode,oe=J.rotateLabels,ue=J.bgColor,ve=J.container,be=J.outerContainer,de=J.commonLabelOpts||{};if(0===W.length)return[[]];var pe=J.fontFamily||c.HOVERFONT,ge=J.fontSize||c.HOVERFONTSIZE,Ae=W[0],ye=Ae.xa,we=Ae.ya,se=ae.charAt(0),ie=se+"Label",he=Ae[ie];if(void 0===he&&"multicategory"===ye.type)for(var Se=0;Se<W.length&&void 0===(he=W[Se][ie]);Se++);var _e=X(Q,be),Me=_e.top,Ee=_e.width,Ie=_e.height,fe=void 0!==he&&Ae.distance<=J.hoverdistance&&("x"===ae||"y"===ae);if(fe){var xe,Te,Ce=!0;for(xe=0;xe<W.length;xe++)if(Ce&&void 0===W[xe].zLabel&&(Ce=!1),Te=W[xe].hoverinfo||W[xe].trace.hoverinfo){var De=Array.isArray(Te)?Te:Te.split("+");if(-1===De.indexOf("all")&&-1===De.indexOf(ae)){fe=!1;break}}Ce&&(fe=!1)}var ze=ve.selectAll("g.axistext").data(fe?[0]:[]);ze.enter().append("g").classed("axistext",!0),ze.exit().remove();var Ue={minX:0,maxX:0,minY:0,maxY:0};if(ze.each(function(){var gt=M.select(this),At=T.ensureSingle(gt,"path","",function(On){On.style({"stroke-width":"1px"})}),Lt=T.ensureSingle(gt,"text","",function(On){On.attr("data-notex",1)}),It=de.bgcolor||r.defaultLine,qt=de.bordercolor||r.contrast(It),Qt=r.contrast(It),Vt={family:de.font.family||pe,size:de.font.size||ge,color:de.font.color||Qt};At.style({fill:It,stroke:qt}),Lt.text(he).call(n.font,Vt).call(t.positionText,0,0).call(t.convertToTspans,Q),gt.attr("transform","");var Ft,en,wn=X(Q,Lt.node());if("x"===ae){var kn="top"===ye.side?"-":"";Lt.attr("text-anchor","middle").call(t.positionText,0,"top"===ye.side?Me-wn.bottom-f-S:Me-wn.top+f+S),Ft=ye._offset+(Ae.x0+Ae.x1)/2,en=we._offset+("top"===ye.side?0:we._length);var on=wn.width/2+S;Ft<on?(Ft=on,At.attr("d","M-"+(on-f)+",0L-"+(on-2*f)+","+kn+f+"H"+on+"v"+kn+(2*S+wn.height)+"H-"+on+"V"+kn+f+"Z")):Ft>re.width-on?(Ft=re.width-on,At.attr("d","M"+(on-f)+",0L"+on+","+kn+f+"v"+kn+(2*S+wn.height)+"H-"+on+"V"+kn+f+"H"+(on-2*f)+"Z")):At.attr("d","M0,0L"+f+","+kn+f+"H"+on+"v"+kn+(2*S+wn.height)+"H-"+on+"V"+kn+f+"H-"+f+"Z"),Ue.minX=Ft-on,Ue.maxX=Ft+on,"top"===ye.side?(Ue.minY=en-(2*S+wn.height),Ue.maxY=en-S):(Ue.minY=en+S,Ue.maxY=en+(2*S+wn.height))}else{var Ht,nn,Kt;"right"===we.side?(Ht="start",nn=1,Kt="",Ft=ye._offset+ye._length):(Ht="end",nn=-1,Kt="-",Ft=ye._offset),en=we._offset+(Ae.y0+Ae.y1)/2,Lt.attr("text-anchor",Ht),At.attr("d","M0,0L"+Kt+f+","+f+"V"+(S+wn.height/2)+"h"+Kt+(2*S+wn.width)+"V-"+(S+wn.height/2)+"H"+Kt+f+"V-"+f+"Z"),Ue.minY=en-(S+wn.height/2),Ue.maxY=en+(S+wn.height/2),"right"===we.side?(Ue.minX=Ft+f,Ue.maxX=Ft+f+(2*S+wn.width)):(Ue.minX=Ft-f-(2*S+wn.width),Ue.maxX=Ft-f);var an,xn=wn.height/2,_n=Me-wn.top-xn,mn="clip"+re._uid+"commonlabel"+we._id;if(Ft<wn.width+2*S+f){an="M-"+(f+S)+"-"+xn+"h-"+(wn.width-S)+"V"+xn+"h"+(wn.width-S)+"Z";var An=wn.width-Ft+S;t.positionText(Lt,An,_n),"end"===Ht&&Lt.selectAll("tspan").each(function(){var On=M.select(this),Bn=n.tester.append("text").text(On.text()).call(n.font,Vt),er=X(Q,Bn.node());Math.round(er.width)<Math.round(wn.width)&&On.attr("x",An-er.width),Bn.remove()})}else t.positionText(Lt,nn*(S+f),_n),an=null;var vn=re._topclips.selectAll("#"+mn).data(an?[0]:[]);vn.enter().append("clipPath").attr("id",mn).append("path"),vn.exit().remove(),vn.select("path").attr("d",an),n.setClipUrl(Lt,an?mn:null,Q)}gt.attr("transform",b(Ft,en))}),d.isUnifiedHover(ae)){ve.selectAll("g.hovertext").remove();var Ve=W.filter(function(gt){return"none"!==gt.hoverinfo});if(0===Ve.length)return[];var Xe=re.hoverlabel,at=Xe.font,st={showlegend:!0,legend:{title:{text:he,font:at},font:at,bgcolor:Xe.bgcolor,bordercolor:Xe.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:re.legend?re.legend.traceorder:void 0,orientation:"v"}},ht={font:at};x(st,ht,Q._fullData);var bt=ht.legend;bt.entries=[];for(var vt=0;vt<Ve.length;vt++){var Qe=Ve[vt];if("none"!==Qe.hoverinfo){var nt=R(Qe,!0,ae,re,he),wt=nt[0],Ot=nt[1];Qe.name=Ot,Qe.text=""!==Ot?Ot+" : "+wt:wt;var Pt=Qe.cd[Qe.index];Pt&&(Pt.mc&&(Qe.mc=Pt.mc),Pt.mcc&&(Qe.mc=Pt.mcc),Pt.mlc&&(Qe.mlc=Pt.mlc),Pt.mlcc&&(Qe.mlc=Pt.mlcc),Pt.mlw&&(Qe.mlw=Pt.mlw),Pt.mrc&&(Qe.mrc=Pt.mrc),Pt.dir&&(Qe.dir=Pt.dir)),Qe._distinct=!0,bt.entries.push([Qe])}}bt.entries.sort(function(gt,At){return gt[0].trace.index-At[0].trace.index}),bt.layer=ve,bt._inHover=!0,bt._groupTitleFont=Xe.grouptitlefont,g(Q,bt);var St,qe,Ze,Ne,Ge=ve.select("g.legend"),rt=X(Q,Ge.node()),tt=rt.width+2*S,Re=rt.height+2*S,Fe=Ve[0],et=(Fe.x0+Fe.x1)/2,We=(Fe.y0+Fe.y1)/2,ct=!(u.traceIs(Fe.trace,"bar-like")||u.traceIs(Fe.trace,"box-violin"));"y"===se?ct?(qe=We-S,St=We+S):(qe=Math.min.apply(null,Ve.map(function(gt){return Math.min(gt.y0,gt.y1)})),St=Math.max.apply(null,Ve.map(function(gt){return Math.max(gt.y0,gt.y1)}))):qe=St=T.mean(Ve.map(function(gt){return(gt.y0+gt.y1)/2}))-Re/2,"x"===se?ct?(Ze=et+S,Ne=et-S):(Ze=Math.max.apply(null,Ve.map(function(gt){return Math.max(gt.x0,gt.x1)})),Ne=Math.min.apply(null,Ve.map(function(gt){return Math.min(gt.x0,gt.x1)}))):Ze=Ne=T.mean(Ve.map(function(gt){return(gt.x0+gt.x1)/2}))-tt/2;var pt,dt,ut=ye._offset,kt=we._offset;return Ne+=ut-tt,qe+=kt-Re,pt=(Ze+=ut)+tt<Ee&&Ze>=0?Ze:Ne+tt<Ee&&Ne>=0?Ne:ut+tt<Ee?ut:Ze-et<et-Ne+tt?Ee-tt:0,pt+=S,dt=(St+=kt)+Re<Ie&&St>=0?St:qe+Re<Ie&&qe>=0?qe:kt+Re<Ie?kt:St-We<We-qe+Re?Ie-Re:0,dt+=S,Ge.attr("transform",b(pt-1,dt-1)),Ge}var yt=ve.selectAll("g.hovertext").data(W,function(gt){return C(gt)});return yt.enter().append("g").classed("hovertext",!0).each(function(){var gt=M.select(this);gt.append("rect").call(r.fill,r.addOpacity(ue,.8)),gt.append("text").classed("name",!0),gt.append("path").style("stroke-width","1px"),gt.append("text").classed("nums",!0).call(n.font,pe,ge)}),yt.exit().remove(),yt.each(function(gt){var At=M.select(this).attr("transform",""),Lt=gt.color;Array.isArray(Lt)&&(Lt=Lt[gt.eventData[0].pointNumber]);var It=gt.bgcolor||Lt,qt=r.combine(r.opacity(It)?It:r.defaultLine,ue),Qt=r.combine(r.opacity(Lt)?Lt:r.defaultLine,ue),Vt=gt.borderColor||r.contrast(qt),Ft=R(gt,fe,ae,re,he,At),en=Ft[0],wn=Ft[1],kn=At.select("text.nums").call(n.font,gt.fontFamily||pe,gt.fontSize||ge,gt.fontColor||Vt).text(en).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Q),on=At.select("text.name"),Ht=0,nn=0;if(wn&&wn!==en){on.call(n.font,gt.fontFamily||pe,gt.fontSize||ge,Qt).text(wn).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Q);var Kt=X(Q,on.node());Ht=Kt.width+2*S,nn=Kt.height+2*S}else on.remove(),At.select("rect").remove();At.select("path").style({fill:qt,stroke:Vt});var an=gt.xa._offset+(gt.x0+gt.x1)/2,xn=gt.ya._offset+(gt.y0+gt.y1)/2,_n=Math.abs(gt.x1-gt.x0),mn=Math.abs(gt.y1-gt.y0),An=X(Q,kn.node()),vn=An.width/re._invScaleX,On=An.height/re._invScaleY;gt.ty0=(Me-An.top)/re._invScaleY,gt.bx=vn+2*S,gt.by=Math.max(On+2*S,nn),gt.anchor="start",gt.txwidth=vn,gt.tx2width=Ht,gt.offset=0;var Bn,er,or=(vn+f+S+Ht)*re._invScaleX;if(oe)gt.pos=an,Bn=xn+mn/2+or<=Ie,er=xn-mn/2-or>=0,"top"!==gt.idealAlign&&Bn||!er?Bn?(xn+=mn/2,gt.anchor="start"):gt.anchor="middle":(xn-=mn/2,gt.anchor="end"),gt.crossPos=xn;else{if(gt.pos=xn,Bn=an+_n/2+or<=Ee,er=an-_n/2-or>=0,"left"!==gt.idealAlign&&Bn||!er)if(Bn)an+=_n/2,gt.anchor="start";else{gt.anchor="middle";var $n=or/2,qn=an+$n-Ee,cr=an-$n;qn>0&&(an-=qn),cr<0&&(an+=-cr)}else an-=_n/2,gt.anchor="end";gt.crossPos=an}kn.attr("text-anchor",gt.anchor),Ht&&on.attr("text-anchor",gt.anchor),At.attr("transform",b(an,xn)+(oe?p(h):""))}),{hoverLabels:yt,commonLabelBoundingBox:Ue}}function R(W,J,Q,re,ae,oe){var ue="",ve="";void 0!==W.nameOverride&&(W.name=W.nameOverride),W.name&&(W.trace._meta&&(W.name=T.templateString(W.name,W.trace._meta)),ue=U(W.name,W.nameLength));var be=Q.charAt(0),de="x"===be?"y":"x";void 0!==W.zLabel?(void 0!==W.xLabel&&(ve+="x: "+W.xLabel+"<br>"),void 0!==W.yLabel&&(ve+="y: "+W.yLabel+"<br>"),"choropleth"!==W.trace.type&&"choroplethmapbox"!==W.trace.type&&(ve+=(ve?"z: ":"")+W.zLabel)):J&&W[be+"Label"]===ae?ve=W[de+"Label"]||"":void 0===W.xLabel?void 0!==W.yLabel&&"scattercarpet"!==W.trace.type&&(ve=W.yLabel):ve=void 0===W.yLabel?W.xLabel:"("+W.xLabel+", "+W.yLabel+")",!W.text&&0!==W.text||Array.isArray(W.text)||(ve+=(ve?"<br>":"")+W.text),void 0!==W.extraText&&(ve+=(ve?"<br>":"")+W.extraText),oe&&""===ve&&!W.hovertemplate&&(""===ue&&oe.remove(),ve=ue);var pe=W.hovertemplate||!1;if(pe){var ge=W.hovertemplateLabels||W;W[be+"Label"]!==ae&&(ge[be+"other"]=ge[be+"Val"],ge[be+"otherLabel"]=ge[be+"Label"]),ve=(ve=T.hovertemplateString(pe,ge,re._d3locale,W.eventData[0]||{},W.trace._meta)).replace(O,function(Ae,ye){return ue=U(ye,W.nameLength),""})}return[ve,ue]}function j(W,J){var Q=0,re=W.offset;return J&&(re*=-_,Q=W.offset*v),{x:Q,y:re}}function z(W,J,Q,re){var ae=function(ue){return ue*Q},oe=function(ue){return ue*re};W.each(function(ue){var ve=M.select(this);if(ue.del)return ve.remove();var be,de,pe,ge,Ae=ve.select("text.nums"),ye=ue.anchor,we="end"===ye?-1:1,se=(ge=(pe=(de={start:1,end:-1,middle:0}[(be=ue).anchor])*(f+S))+de*(be.txwidth+S),"middle"===be.anchor&&(pe-=be.tx2width/2,ge+=be.txwidth/2+S),{alignShift:de,textShiftX:pe,text2ShiftX:ge}),ie=j(ue,J),he=ie.x,Se=ie.y,_e="middle"===ye;ve.select("path").attr("d",_e?"M-"+ae(ue.bx/2+ue.tx2width/2)+","+oe(Se-ue.by/2)+"h"+ae(ue.bx)+"v"+oe(ue.by)+"h-"+ae(ue.bx)+"Z":"M0,0L"+ae(we*f+he)+","+oe(f+Se)+"v"+oe(ue.by/2-f)+"h"+ae(we*ue.bx)+"v-"+oe(ue.by)+"H"+ae(we*f+he)+"V"+oe(Se-f)+"Z");var Me=he+se.textShiftX,Ee=Se+ue.ty0-ue.by/2+S,Ie=ue.textAlign||"auto";"auto"!==Ie&&("left"===Ie&&"start"!==ye?(Ae.attr("text-anchor","start"),Me=_e?-ue.bx/2-ue.tx2width/2+S:-ue.bx-S):"right"===Ie&&"end"!==ye&&(Ae.attr("text-anchor","end"),Me=_e?ue.bx/2-ue.tx2width/2-S:ue.bx+S)),Ae.call(t.positionText,ae(Me),oe(Ee)),ue.tx2width&&(ve.select("text.name").call(t.positionText,ae(se.text2ShiftX+se.alignShift*S+he),oe(Se+ue.ty0-ue.by/2+S)),ve.select("rect").call(n.setRect,ae(se.text2ShiftX+(se.alignShift-1)*ue.tx2width/2+he),oe(Se-ue.by/2-1),ae(ue.tx2width),oe(ue.by+2)))})}function N(W,J){var Q=W.index,re=W.trace||{},ae=W.cd[0],oe=W.cd[Q]||{};function ue(Ae){return Ae||k(Ae)&&0===Ae}var ve=Array.isArray(Q)?function(Ae,ye){var we=T.castOption(ae,Q,Ae);return ue(we)?we:T.extractOption({},re,"",ye)}:function(Ae,ye){return T.extractOption(oe,re,Ae,ye)};function be(Ae,ye,we){var se=ve(ye,we);ue(se)&&(W[Ae]=se)}if(be("hoverinfo","hi","hoverinfo"),be("bgcolor","hbg","hoverlabel.bgcolor"),be("borderColor","hbc","hoverlabel.bordercolor"),be("fontFamily","htf","hoverlabel.font.family"),be("fontSize","hts","hoverlabel.font.size"),be("fontColor","htc","hoverlabel.font.color"),be("nameLength","hnl","hoverlabel.namelength"),be("textAlign","hta","hoverlabel.align"),W.posref="y"===J||"closest"===J&&"h"===re.orientation?W.xa._offset+(W.x0+W.x1)/2:W.ya._offset+(W.y0+W.y1)/2,W.x0=T.constrain(W.x0,0,W.xa._length),W.x1=T.constrain(W.x1,0,W.xa._length),W.y0=T.constrain(W.y0,0,W.ya._length),W.y1=T.constrain(W.y1,0,W.ya._length),void 0!==W.xLabelVal&&(W.xLabel="xLabel"in W?W.xLabel:l.hoverLabelText(W.xa,W.xLabelVal,re.xhoverformat),W.xVal=W.xa.c2d(W.xLabelVal)),void 0!==W.yLabelVal&&(W.yLabel="yLabel"in W?W.yLabel:l.hoverLabelText(W.ya,W.yLabelVal,re.yhoverformat),W.yVal=W.ya.c2d(W.yLabelVal)),void 0!==W.zLabelVal&&void 0===W.zLabel&&(W.zLabel=String(W.zLabelVal)),!(isNaN(W.xerr)||"log"===W.xa.type&&W.xerr<=0)){var de=l.tickText(W.xa,W.xa.c2l(W.xerr),"hover").text;void 0!==W.xerrneg?W.xLabel+=" +"+de+" / -"+l.tickText(W.xa,W.xa.c2l(W.xerrneg),"hover").text:W.xLabel+=" \xb1 "+de,"x"===J&&(W.distance+=1)}if(!(isNaN(W.yerr)||"log"===W.ya.type&&W.yerr<=0)){var pe=l.tickText(W.ya,W.ya.c2l(W.yerr),"hover").text;void 0!==W.yerrneg?W.yLabel+=" +"+pe+" / -"+l.tickText(W.ya,W.ya.c2l(W.yerrneg),"hover").text:W.yLabel+=" \xb1 "+pe,"y"===J&&(W.distance+=1)}var ge=W.hoverinfo||W.trace.hoverinfo;return ge&&"all"!==ge&&(-1===(ge=Array.isArray(ge)?ge:ge.split("+")).indexOf("x")&&(W.xLabel=void 0),-1===ge.indexOf("y")&&(W.yLabel=void 0),-1===ge.indexOf("z")&&(W.zLabel=void 0),-1===ge.indexOf("text")&&(W.text=void 0),-1===ge.indexOf("name")&&(W.name=void 0)),W}function Y(W,J,Q){var re,ae,oe=Q.container,ue=Q.fullLayout,ve=ue._size,be=Q.event,de=!!J.hLinePoint,pe=!!J.vLinePoint;if(oe.selectAll(".spikeline").remove(),pe||de){var ge=r.combine(ue.plot_bgcolor,ue.paper_bgcolor);if(de){var Ae,ye,we=J.hLinePoint;re=we&&we.xa,"cursor"===(ae=we&&we.ya).spikesnap?(Ae=be.pointerX,ye=be.pointerY):(Ae=re._offset+we.x,ye=ae._offset+we.y);var se,ie,he=a.readability(we.color,ge)<1.5?r.contrast(ge):we.color,Se=ae.spikemode,_e=ae.spikethickness,Me=ae.spikecolor||he,Ee=l.getPxPosition(W,ae);if(-1!==Se.indexOf("toaxis")||-1!==Se.indexOf("across")){if(-1!==Se.indexOf("toaxis")&&(se=Ee,ie=Ae),-1!==Se.indexOf("across")){var Ie=ae._counterDomainMin,fe=ae._counterDomainMax;"free"===ae.anchor&&(Ie=Math.min(Ie,ae.position),fe=Math.max(fe,ae.position)),se=ve.l+Ie*ve.w,ie=ve.l+fe*ve.w}oe.insert("line",":first-child").attr({x1:se,x2:ie,y1:ye,y2:ye,"stroke-width":_e,stroke:Me,"stroke-dasharray":n.dashStyle(ae.spikedash,_e)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:se,x2:ie,y1:ye,y2:ye,"stroke-width":_e+2,stroke:ge}).classed("spikeline",!0).classed("crisp",!0)}-1!==Se.indexOf("marker")&&oe.insert("circle",":first-child").attr({cx:Ee+("right"!==ae.side?_e:-_e),cy:ye,r:_e,fill:Me}).classed("spikeline",!0)}if(pe){var xe,Te,Ce=J.vLinePoint;re=Ce&&Ce.xa,ae=Ce&&Ce.ya,"cursor"===re.spikesnap?(xe=be.pointerX,Te=be.pointerY):(xe=re._offset+Ce.x,Te=ae._offset+Ce.y);var De,ze,Ue=a.readability(Ce.color,ge)<1.5?r.contrast(ge):Ce.color,Ve=re.spikemode,Xe=re.spikethickness,at=re.spikecolor||Ue,st=l.getPxPosition(W,re);if(-1!==Ve.indexOf("toaxis")||-1!==Ve.indexOf("across")){if(-1!==Ve.indexOf("toaxis")&&(De=st,ze=Te),-1!==Ve.indexOf("across")){var ht=re._counterDomainMin,bt=re._counterDomainMax;"free"===re.anchor&&(ht=Math.min(ht,re.position),bt=Math.max(bt,re.position)),De=ve.t+(1-bt)*ve.h,ze=ve.t+(1-ht)*ve.h}oe.insert("line",":first-child").attr({x1:xe,x2:xe,y1:De,y2:ze,"stroke-width":Xe,stroke:at,"stroke-dasharray":n.dashStyle(re.spikedash,Xe)}).classed("spikeline",!0).classed("crisp",!0),oe.insert("line",":first-child").attr({x1:xe,x2:xe,y1:De,y2:ze,"stroke-width":Xe+2,stroke:ge}).classed("spikeline",!0).classed("crisp",!0)}-1!==Ve.indexOf("marker")&&oe.insert("circle",":first-child").attr({cx:xe,cy:st-("top"!==re.side?Xe:-Xe),r:Xe,fill:at}).classed("spikeline",!0)}}}function F(W,J){return!J||J.vLinePoint!==W._spikepoints.vLinePoint||J.hLinePoint!==W._spikepoints.hLinePoint}function U(W,J){return t.plainText(W||"",{len:J,allowedTags:["br","sub","sup","b","i","em"]})}function V(W,J,Q){var re=J[W+"a"],ae=J[W+"Val"],oe=J.cd[0];if("category"===re.type||"multicategory"===re.type)ae=re._categoriesMap[ae];else if("date"===re.type){var ue=J.trace[W+"periodalignment"];if(ue){var ve=J.cd[J.index],be=ve[W+"Start"];void 0===be&&(be=ve[W]);var de=ve[W+"End"];void 0===de&&(de=ve[W]);var pe=de-be;"end"===ue?ae+=pe:"middle"===ue&&(ae+=pe/2)}ae=re.d2c(ae)}return oe&&oe.t&&oe.t.posLetter===re._id&&("group"!==Q.boxmode&&"group"!==Q.violinmode||(ae+=oe.t.dPos)),ae}function te(W){return W.offsetTop+W.clientTop}function $(W){return W.offsetLeft+W.clientLeft}function X(W,J){var Q=W._fullLayout,re=J.getBoundingClientRect(),ae=re.left,oe=re.top,ue=ae+re.width,ve=oe+re.height,be=T.apply3DTransform(Q._invTransform)(ae,oe),de=T.apply3DTransform(Q._invTransform)(ue,ve),pe=be[0],ge=be[1],Ae=de[0],ye=de[1];return{x:pe,y:ge,width:Ae-pe,height:ye-ge,top:Math.min(ge,ye),left:Math.min(pe,Ae),right:Math.max(pe,Ae),bottom:Math.max(ge,ye)}}},38048:function(ee,D,e){"use strict";var M=e(71828),k=e(7901),a=e(23469).isUnifiedHover;ee.exports=function(T,b,p,s){s=s||{};var t=b.legend;function i(n){s.font[n]||(s.font[n]=t?b.legend.font[n]:b.font[n])}b&&a(b.hovermode)&&(s.font||(s.font={}),i("size"),i("family"),i("color"),t?(s.bgcolor||(s.bgcolor=k.combine(b.legend.bgcolor,b.paper_bgcolor)),s.bordercolor||(s.bordercolor=b.legend.bordercolor)):s.bgcolor||(s.bgcolor=b.paper_bgcolor)),p("hoverlabel.bgcolor",s.bgcolor),p("hoverlabel.bordercolor",s.bordercolor),p("hoverlabel.namelength",s.namelength),M.coerceFont(p,"hoverlabel.font",s.font),p("hoverlabel.align",s.align)}},98212:function(ee,D,e){"use strict";var M=e(71828),k=e(528);ee.exports=function(a,T){function b(p,s){return void 0!==T[p]?T[p]:M.coerce(a,T,k,p,s)}return b("clickmode"),b("hovermode")}},30211:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(28569),T=e(23469),b=e(528),p=e(88335);ee.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:b},attributes:e(77914),layoutAttributes:b,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:T.getDistanceFunction,getClosest:T.getClosest,inbox:T.inbox,quadrature:T.quadrature,appendArrayPointValue:T.appendArrayPointValue,castHoverOption:function(s,t,i){return k.castOption(s,t,"hoverlabel."+i)},castHoverinfo:function(s,t,i){return k.castOption(s,i,"hoverinfo",function(n){return k.coerceHoverinfo({hoverinfo:n},{_module:s._module},t)})},hover:p.hover,unhover:a.unhover,loneHover:p.loneHover,loneUnhover:function(s){var t=k.isD3Selection(s)?s:M.select(s);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(75914)}},528:function(ee,D,e){"use strict";var M=e(26675),k=e(41940),a=k({editType:"none"});a.family.dflt=M.HOVERFONT,a.size.dflt=M.HOVERFONTSIZE,ee.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:k({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(ee,D,e){"use strict";var M=e(71828),k=e(528),a=e(98212),T=e(38048);ee.exports=function(b,p){function s(r,o){return M.coerce(b,p,k,r,o)}a(b,p)&&(s("hoverdistance"),s("spikedistance")),"select"===s("dragmode")&&s("selectdirection");var t=p._has("mapbox"),i=p._has("geo"),n=p._basePlotModules.length;"zoom"===p.dragmode&&((t||i)&&1===n||t&&i&&2===n)&&(p.dragmode="pan"),T(b,p,s),M.coerceFont(s,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},22774:function(ee,D,e){"use strict";var M=e(71828),k=e(38048),a=e(528);ee.exports=function(T,b){k(T,b,function(p,s){return M.coerce(T,b,a,p,s)})}},83312:function(ee,D,e){"use strict";var M=e(71828),k=e(30587).counter,a=e(27670).Y,T=e(85555).idRegex,b=e(44467),p={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[k("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[T.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[T.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(n,r,o){var l=r[o+"axes"],u=Object.keys((n._splomAxes||{})[o]||{});return Array.isArray(l)?l:u.length?u:void 0}function t(n,r,o,l,u,d){var c=r(n+"gap",o),x=r("domain."+n);r(n+"side",l);for(var g=new Array(u),h=x[0],m=(x[1]-h)/(u-c),y=m*(1-c),v=0;v<u;v++){var _=h+m*v;g[d?u-1-v:v]=[_,_+y]}return g}function i(n,r,o,l,u){var d,c=new Array(o);function x(g,h){-1!==r.indexOf(h)&&void 0===l[h]?(c[g]=h,l[h]=g):c[g]=""}if(Array.isArray(n))for(d=0;d<o;d++)x(d,n[d]);else for(x(0,u),d=1;d<o;d++)x(d,u+(d+1));return c}ee.exports={moduleType:"component",name:"grid",schema:{layout:{grid:p}},layoutAttributes:p,sizeDefaults:function(n,r){var o=n.grid||{},l=s(r,o,"x"),u=s(r,o,"y");if(n.grid||l||u){var d,c,x=Array.isArray(o.subplots)&&Array.isArray(o.subplots[0]),g=Array.isArray(l),h=Array.isArray(u),m=g&&l!==o.xaxes&&h&&u!==o.yaxes;x?(d=o.subplots.length,c=o.subplots[0].length):(h&&(d=u.length),g&&(c=l.length));var y=b.newContainer(r,"grid"),v=O("rows",d),_=O("columns",c);if(v*_>1){x||g||h||"independent"===O("pattern")&&(x=!0),y._hasSubplotGrid=x;var f,S,w="top to bottom"===O("roworder"),E=x?.2:.1,C=x?.3:.1;m&&r._splomGridDflt&&(f=r._splomGridDflt.xside,S=r._splomGridDflt.yside),y._domains={x:t("x",O,E,f,_),y:t("y",O,C,S,v,w)}}else delete r.grid}function O(P,R){return M.coerce(o,y,p,P,R)}},contentDefaults:function(n,r){var o=r.grid;if(o&&o._domains){var l,u,d,c,x,g,h,m=n.grid||{},y=r._subplots,v=o._hasSubplotGrid,_=o.rows,f=o.columns,S="independent"===o.pattern,w=o._axisMap={};if(v){var E=m.subplots||[];g=o.subplots=new Array(_);var C=1;for(l=0;l<_;l++){var O=g[l]=new Array(f),P=E[l]||[];for(u=0;u<f;u++)if(S?(x=1===C?"xy":"x"+C+"y"+C,C++):x=P[u],O[u]="",-1!==y.cartesian.indexOf(x)){if(h=x.indexOf("y"),d=x.slice(0,h),c=x.slice(h),void 0!==w[d]&&w[d]!==u||void 0!==w[c]&&w[c]!==l)continue;O[u]=x,w[d]=u,w[c]=l}}}else{var R=s(r,m,"x"),j=s(r,m,"y");o.xaxes=i(R,y.xaxis,f,w,"x"),o.yaxes=i(j,y.yaxis,_,w,"y")}var z=o._anchors={},N="top to bottom"===o.roworder;for(var Y in w){var F,U,V,te=Y.charAt(0),$=o[te+"side"];if($.length<8)z[Y]="free";else if("x"===te){if("t"===$.charAt(0)===N?(F=0,U=1,V=_):(F=_-1,U=-1,V=-1),v){var X=w[Y];for(l=F;l!==V;l+=U)if((x=g[l][X])&&(h=x.indexOf("y"),x.slice(0,h)===Y)){z[Y]=x.slice(h);break}}else for(l=F;l!==V;l+=U)if(c=o.yaxes[l],-1!==y.cartesian.indexOf(Y+c)){z[Y]=c;break}}else if("l"===$.charAt(0)?(F=0,U=1,V=f):(F=f-1,U=-1,V=-1),v){var W=w[Y];for(l=F;l!==V;l+=U)if((x=g[W][l])&&(h=x.indexOf("y"),x.slice(h)===Y)){z[Y]=x.slice(0,h);break}}else for(l=F;l!==V;l+=U)if(d=o.xaxes[l],-1!==y.cartesian.indexOf(d+Y)){z[Y]=d;break}}}}}},69819:function(ee,D,e){"use strict";var M=e(85555),k=e(44467).templatedArray;e(24695),ee.exports=k("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",M.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",M.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(ee,D,e){"use strict";var M=e(92770),k=e(58163);ee.exports=function(a,T,b,p){T=T||{};var s="log"===b&&"linear"===T.type,t="linear"===b&&"log"===T.type;if(s||t)for(var i,n,r=a._fullLayout.images,o=T._id.charAt(0),l=0;l<r.length;l++)if(n="images["+l+"].",(i=r[l])[o+"ref"]===T._id){var u=i[o],d=i["size"+o],c=null,x=null;if(s){c=k(u,T.range);var g=d/Math.pow(10,c)/2;x=2*Math.log(g+Math.sqrt(1+g*g))/Math.LN10}else x=(c=Math.pow(10,u))*(Math.pow(10,d/2)-Math.pow(10,-d/2));M(c)?M(x)||(x=null):(c=null,x=null),p(n+o,c),p(n+"size"+o,x)}}},81603:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(85501),T=e(69819);function b(p,s,t){function i(c,x){return M.coerce(p,s,T,c,x)}var n=i("source");if(!i("visible",!!n))return s;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var r={_fullLayout:t},o=["x","y"],l=0;l<2;l++){var u=o[l],d=k.coerceRef(p,s,r,u,"paper",void 0);"paper"!==d&&k.getFromId(r,d)._imgIndices.push(s._index),k.coercePosition(s,r,i,d,u,0)}return s}ee.exports=function(p,s){a(p,s,{name:"images",handleItemDefaults:b})}},80750:function(ee,D,e){"use strict";var M=e(39898),k=e(91424),a=e(89298),T=e(41675),b=e(77922);ee.exports=function(p){var s,t,i=p._fullLayout,n=[],r={},o=[];for(t=0;t<i.images.length;t++){var l=i.images[t];if(l.visible)if("below"===l.layer&&"paper"!==l.xref&&"paper"!==l.yref){s=T.ref2id(l.xref)+T.ref2id(l.yref);var u=i._plots[s];if(!u){o.push(l);continue}u.mainplot&&(s=u.mainplot.id),r[s]||(r[s]=[]),r[s].push(l)}else"above"===l.layer?n.push(l):o.push(l)}var d={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function x(f){var S=M.select(this);if(this._imgSrc!==f.source)if(S.attr("xmlns",b.svg),f.source&&"data:"===f.source.slice(0,5))S.attr("xlink:href",f.source),this._imgSrc=f.source;else{var w=new Promise(function(E){var C=new Image;function O(){S.remove(),E()}this.img=C,C.setAttribute("crossOrigin","anonymous"),C.onerror=O,C.onload=function(){var P=document.createElement("canvas");P.width=this.width,P.height=this.height,P.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var R=P.toDataURL("image/png");S.attr("xlink:href",R),E()},S.on("error",O),C.src=f.source,this._imgSrc=f.source}.bind(this));p._promises.push(w)}}function g(f){var S,w,E=M.select(this),C=a.getFromId(p,f.xref),O=a.getFromId(p,f.yref),P="domain"===a.getRefType(f.xref),R="domain"===a.getRefType(f.yref),j=i._size;S=void 0!==C?"string"==typeof f.xref&&P?C._length*f.sizex:Math.abs(C.l2p(f.sizex)-C.l2p(0)):f.sizex*j.w,w=void 0!==O?"string"==typeof f.yref&&R?O._length*f.sizey:Math.abs(O.l2p(f.sizey)-O.l2p(0)):f.sizey*j.h;var z,N,Y=S*d[f.xanchor].offset,F=w*c[f.yanchor].offset,U=d[f.xanchor].sizing+c[f.yanchor].sizing;switch(z=void 0!==C?"string"==typeof f.xref&&P?C._length*f.x+C._offset:C.r2p(f.x)+C._offset:f.x*j.w+j.l,z+=Y,N=void 0!==O?"string"==typeof f.yref&&R?O._length*(1-f.y)+O._offset:O.r2p(f.y)+O._offset:j.h-f.y*j.h+j.t,N+=F,f.sizing){case"fill":U+=" slice";break;case"stretch":U="none"}E.attr({x:z,y:N,width:S,height:w,preserveAspectRatio:U,opacity:f.opacity});var V=(C&&"domain"!==a.getRefType(f.xref)?C._id:"")+(O&&"domain"!==a.getRefType(f.yref)?O._id:"");k.setClipUrl(E,V?"clip"+i._uid+V:null,p)}var h=i._imageLowerLayer.selectAll("image").data(o),m=i._imageUpperLayer.selectAll("image").data(n);h.enter().append("image"),m.enter().append("image"),h.exit().remove(),m.exit().remove(),h.each(function(f){x.bind(this)(f),g.bind(this)(f)}),m.each(function(f){x.bind(this)(f),g.bind(this)(f)});var y=Object.keys(i._plots);for(t=0;t<y.length;t++){s=y[t];var v=i._plots[s];if(v.imagelayer){var _=v.imagelayer.selectAll("image").data(r[s]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(f){x.bind(this)(f),g.bind(this)(f)})}}}},68804:function(ee,D,e){"use strict";ee.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(ee,D,e){"use strict";var M=e(41940),k=e(22399);ee.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:M({editType:"legend"}),grouptitlefont:M({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:M({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(ee){"use strict";ee.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=e(44467),T=e(9012),b=e(33030),p=e(10820),s=e(10130);function t(i,n,r,o){var l=n[i]||{},u=a.newContainer(r,i);function d(U,V){return k.coerce(l,u,b,U,V)}var c=k.coerceFont(d,"font",r.font);if(d("bgcolor",r.paper_bgcolor),d("bordercolor"),d("visible")){for(var x,g=function(U,V){var te=x._input,$=x;return k.coerce(te,$,T,U,V)},h=r.font||{},m=k.coerceFont(d,"grouptitlefont",k.extendFlat({},h,{size:Math.round(1.1*h.size)})),y=0,v=!1,_="normal",f=(r.shapes||[]).filter(function(U){return U.showlegend}),S=o.concat(f).filter(function(U){return i===(U.legend||"legend")}),w=0;w<S.length;w++)if((x=S[w]).visible){var E=x._isShape;(x.showlegend||x._dfltShowLegend&&!(x._module&&x._module.attributes&&x._module.attributes.showlegend&&!1===x._module.attributes.showlegend.dflt))&&(y++,x.showlegend&&(v=!0,(!E&&M.traceIs(x,"pie-like")||!0===x._input.showlegend)&&y++),k.coerceFont(g,"legendgrouptitle.font",m)),(!E&&M.traceIs(x,"bar")&&"stack"===r.barmode||-1!==["tonextx","tonexty"].indexOf(x.fill))&&(_=s.isGrouped({traceorder:_})?"grouped+reversed":"reversed"),void 0!==x.legendgroup&&""!==x.legendgroup&&(_=s.isReversed({traceorder:_})?"reversed+grouped":"grouped")}var C=k.coerce(n,r,p,"showlegend",v&&y>("legend"===i?1:0));if(!1===C&&(r[i]=void 0),(!1!==C||l.uirevision)&&(d("uirevision",r.uirevision),!1!==C)){d("borderwidth");var O,P,R,j="h"===d("orientation"),z="paper"===d("yref"),N="paper"===d("xref"),Y="left";if(j?(O=0,M.getComponentMethod("rangeslider","isVisible")(n.xaxis)?z?(P=1.1,R="bottom"):(P=1,R="top"):z?(P=-.1,R="top"):(P=0,R="bottom")):(P=1,R="auto",N?O=1.02:(O=1,Y="right")),k.coerce(l,u,{x:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:O}},"x"),k.coerce(l,u,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:P}},"y"),d("traceorder",_),s.isGrouped(r[i])&&d("tracegroupgap"),d("entrywidth"),d("entrywidthmode"),d("itemsizing"),d("itemwidth"),d("itemclick"),d("itemdoubleclick"),d("groupclick"),d("xanchor",Y),d("yanchor",R),d("valign"),k.noneOrAll(l,u,["x","y"]),d("title.text")){d("title.side",j?"left":"top");var F=k.extendFlat({},c,{size:k.bigFont(c.size)});k.coerceFont(d,"title.font",F)}}}}ee.exports=function(i,n,r){var o,l=r.slice(),u=n.shapes;if(u)for(o=0;o<u.length;o++){var d=u[o];if(d.showlegend){var c={_input:d._input,visible:d.visible,showlegend:d.showlegend,legend:d.legend};l.push(c)}}var x=["legend"];for(o=0;o<l.length;o++)k.pushUnique(x,l[o].legend);for(n._legends=[],o=0;o<x.length;o++){var g=x[o];t(g,i,n,l),n[g]&&n[g].visible&&(n[g]._id=g),n._legends.push(g)}}},43969:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(74875),T=e(73972),b=e(11086),p=e(28569),s=e(91424),t=e(7901),i=e(63893),n=e(85167),r=e(14928),o=e(18783),l=o.LINE_SPACING,u=o.FROM_TL,d=o.FROM_BR,c=e(82424),x=e(53630),g=e(10130),h=1,m=/^legend[0-9]*$/;function y(R,j){var z,N,Y=j||{},F=R._fullLayout,U=P(Y),V=Y._inHover;if(V?(N=Y.layer,z="hover"):(N=F._infolayer,z=U),N){var te;if(z+=F._uid,R._legendMouseDownTime||(R._legendMouseDownTime=0),V){if(!Y.entries)return;te=c(Y.entries,Y)}else{for(var $=(R.calcdata||[]).slice(),X=F.shapes,W=0;W<X.length;W++){var J=X[W];if(J.showlegend){var Q={_isShape:!0,_fullInput:J,index:J._index,name:J.name||J.label.text||"shape "+J._index,legend:J.legend,legendgroup:J.legendgroup,legendgrouptitle:J.legendgrouptitle,legendrank:J.legendrank,legendwidth:J.legendwidth,showlegend:J.showlegend,visible:J.visible,opacity:J.opacity,mode:"line"===J.type?"lines":"markers",line:J.line,marker:{line:J.line,color:J.fillcolor,size:12,symbol:"rect"===J.type?"square":"circle"===J.type?"circle":"hexagon2"}};$.push([{trace:Q}])}}te=F.showlegend&&c($,Y,F._legends.length>1)}var re=F.hiddenlabels||[];if(!(V||F.showlegend&&te.length))return N.selectAll("."+U).remove(),F._topdefs.select("#"+z).remove(),a.autoMargin(R,U);var ae=k.ensureSingle(N,"g",U,function(ye){V||ye.attr("pointer-events","all")}),oe=k.ensureSingleById(F._topdefs,"clipPath",z,function(ye){ye.append("rect")}),ue=k.ensureSingle(ae,"rect","bg",function(ye){ye.attr("shape-rendering","crispEdges")});ue.call(t.stroke,Y.bordercolor).call(t.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px");var ve,be=k.ensureSingle(ae,"g","scrollbox"),de=Y.title;Y._titleWidth=0,Y._titleHeight=0,de.text?((ve=k.ensureSingle(be,"text",U+"titletext")).attr("text-anchor","start").call(s.font,de.font).text(de.text),E(ve,be,R,Y,h)):be.selectAll("."+U+"titletext").remove();var pe=k.ensureSingle(ae,"rect","scrollbar",function(ye){ye.attr(r.scrollBarEnterAttrs).call(t.fill,r.scrollBarColor)}),ge=be.selectAll("g.groups").data(te);ge.enter().append("g").attr("class","groups"),ge.exit().remove();var Ae=ge.selectAll("g.traces").data(k.identity);Ae.enter().append("g").attr("class","traces"),Ae.exit().remove(),Ae.style("opacity",function(ye){var we=ye[0].trace;return T.traceIs(we,"pie-like")?-1!==re.indexOf(ye[0].label)?.5:1:"legendonly"===we.visible?.5:1}).each(function(){M.select(this).call(f,R,Y)}).call(x,R,Y).each(function(){V||M.select(this).call(w,R,U)}),k.syncOrAsync([a.previousPromises,function(){return function(ye,we,se,ie){var he=ye._fullLayout,Se=P(ie);ie||(ie=he[Se]);var _e=he._size,Me=g.isVertical(ie),Ee=g.isGrouped(ie),Ie="fraction"===ie.entrywidthmode,fe=ie.borderwidth,xe=2*fe,Te=r.itemGap,Ce=ie.itemwidth+2*Te,De=2*(fe+Te),ze=O(ie),Ue=ie.y<0||0===ie.y&&"top"===ze,Ve=ie.y>1||1===ie.y&&"bottom"===ze,Xe=ie.tracegroupgap,at={};ie._maxHeight=Math.max(Ue||Ve?he.height/2:_e.h,30);var st=0;ie._width=0,ie._height=0;var pt,dt,ut,kt,ht=(dt=0,ut=0,(kt=(pt=ie).title.side)&&(-1!==kt.indexOf("left")&&(dt=pt._titleWidth),-1!==kt.indexOf("top")&&(ut=pt._titleHeight)),[dt,ut]);if(Me)se.each(function(pt){var dt=pt[0].height;s.setTranslate(this,fe+ht[0],fe+ht[1]+ie._height+dt/2+Te),ie._height+=dt,ie._width=Math.max(ie._width,pt[0].width)}),st=Ce+ie._width,ie._width+=Te+Ce+xe,ie._height+=De,Ee&&(we.each(function(pt,dt){s.setTranslate(this,0,dt*ie.tracegroupgap)}),ie._height+=(ie._lgroupsLength-1)*ie.tracegroupgap);else{var bt=C(ie),vt=ie.x<0||0===ie.x&&"right"===bt,Qe=ie.x>1||1===ie.x&&"left"===bt,nt=Ve||Ue,wt=he.width/2;ie._maxWidth=Math.max(vt?nt&&"left"===bt?_e.l+_e.w:wt:Qe?nt&&"right"===bt?_e.r+_e.w:wt:_e.w,2*Ce);var Ot=0,Pt=0;se.each(function(pt){var dt=v(pt,ie,Ce);Ot=Math.max(Ot,dt),Pt+=dt}),st=null;var St=0;if(Ee){var qe=0,Ze=0,Ne=0;we.each(function(){var pt=0,dt=0;M.select(this).selectAll("g.traces").each(function(kt){var yt=v(kt,ie,Ce),gt=kt[0].height;s.setTranslate(this,ht[0],ht[1]+fe+Te+gt/2+dt),dt+=gt,pt=Math.max(pt,yt),at[kt[0].trace.legendgroup]=pt});var ut=pt+Te;Ze>0&&ut+fe+Ze>ie._maxWidth?(St=Math.max(St,Ze),Ze=0,Ne+=qe+Xe,qe=dt):qe=Math.max(qe,dt),s.setTranslate(this,Ze,Ne),Ze+=ut}),ie._width=Math.max(St,Ze)+fe,ie._height=Ne+qe+De}else{var Ge=se.size(),rt=Pt+xe+(Ge-1)*Te<ie._maxWidth,tt=0,Re=0,Fe=0,et=0;se.each(function(pt){var dt=pt[0].height,ut=v(pt,ie,Ce),kt=rt?ut:Ot;Ie||(kt+=Te),kt+fe+Re-Te>=ie._maxWidth&&(St=Math.max(St,et),Re=0,Fe+=tt,ie._height+=tt,tt=0),s.setTranslate(this,ht[0]+fe+Re,ht[1]+fe+Fe+dt/2+Te),et=Re+ut+Te,Re+=kt,tt=Math.max(tt,dt)}),rt?(ie._width=Re+xe,ie._height=tt+De):(ie._width=Math.max(St,et)+xe,ie._height+=tt+De)}}ie._width=Math.ceil(Math.max(ie._width+ht[0],ie._titleWidth+2*(fe+r.titlePad))),ie._height=Math.ceil(Math.max(ie._height+ht[1],ie._titleHeight+2*(fe+r.itemGap))),ie._effHeight=Math.min(ie._height,ie._maxHeight);var We=ye._context.edits,ct=We.legendText||We.legendPosition;se.each(function(pt){var dt=M.select(this).select("."+Se+"toggle"),ut=pt[0].height,kt=pt[0].trace.legendgroup,yt=v(pt,ie,Ce);Ee&&""!==kt&&(yt=at[kt]);var gt=ct?Ce:st||yt;Me||Ie||(gt+=Te/2),s.setRect(dt,0,-ut/2,gt,ut)})}(R,ge,Ae,Y)},function(){var ye,we,se,ie,he=F._size,Se=Y.borderwidth,_e="paper"===Y.xref,Me="paper"===Y.yref;if(de.text&&function(nt,wt,Ot){if("top center"===wt.title.side||"top right"===wt.title.side){var Pt=wt.title.font.size*l,St=0,qe=nt.node(),Ze=s.bBox(qe).width;"top center"===wt.title.side?St=.5*(wt._width-2*Ot-2*r.titlePad-Ze):"top right"===wt.title.side&&(St=wt._width-2*Ot-2*r.titlePad-Ze),i.positionText(nt,Ot+r.titlePad+St,Ot+Pt)}}(ve,Y,Se),!V){var Ee,Ie;if(Ee=_e?he.l+he.w*Y.x-u[C(Y)]*Y._width:F.width*Y.x-u[C(Y)]*Y._width,Ie=Me?he.t+he.h*(1-Y.y)-u[O(Y)]*Y._effHeight:F.height*(1-Y.y)-u[O(Y)]*Y._effHeight,function(nt,wt,Ot,Pt){var St=nt._fullLayout,qe=St[wt],Ze=C(qe),Ne=O(qe),Ge="paper"===qe.xref,rt="paper"===qe.yref;nt._fullLayout._reservedMargin[wt]={};var tt=qe.y<.5?"b":"t",Re=qe.x<.5?"l":"r",Fe={r:St.width-Ot,l:Ot+qe._width,b:St.height-Pt,t:Pt+qe._effHeight};if(Ge&&rt)return a.autoMargin(nt,wt,{x:qe.x,y:qe.y,l:qe._width*u[Ze],r:qe._width*d[Ze],b:qe._effHeight*d[Ne],t:qe._effHeight*u[Ne]});Ge?nt._fullLayout._reservedMargin[wt][tt]=Fe[tt]:rt||"v"===qe.orientation?nt._fullLayout._reservedMargin[wt][Re]=Fe[Re]:nt._fullLayout._reservedMargin[wt][tt]=Fe[tt]}(R,U,Ee,Ie))return;if(F.margin.autoexpand){var xe=Ee,Te=Ie;Ee=_e?k.constrain(Ee,0,F.width-Y._width):xe,Ie=Me?k.constrain(Ie,0,F.height-Y._effHeight):Te,Ee!==xe&&k.log("Constrain "+U+".x to make legend fit inside graph"),Ie!==Te&&k.log("Constrain "+U+".y to make legend fit inside graph")}s.setTranslate(ae,Ee,Ie)}if(pe.on(".drag",null),ae.on("wheel",null),V||Y._height<=Y._maxHeight||R._context.staticPlot){var Ce=Y._effHeight;V&&(Ce=Y._height),ue.attr({width:Y._width-Se,height:Ce-Se,x:Se/2,y:Se/2}),s.setTranslate(be,0,0),oe.select("rect").attr({width:Y._width-2*Se,height:Ce-2*Se,x:Se,y:Se}),s.setClipUrl(be,z,R),s.setRect(pe,0,0,0,0),delete Y._scrollY}else{var De,ze,Ue,Ve=Math.max(r.scrollBarMinHeight,Y._effHeight*Y._effHeight/Y._height),Xe=Y._effHeight-Ve-2*r.scrollBarMargin,at=Y._height-Y._effHeight,st=Xe/at,ht=Math.min(Y._scrollY||0,at);ue.attr({width:Y._width-2*Se+r.scrollBarWidth+r.scrollBarMargin,height:Y._effHeight-Se,x:Se/2,y:Se/2}),oe.select("rect").attr({width:Y._width-2*Se+r.scrollBarWidth+r.scrollBarMargin,height:Y._effHeight-2*Se,x:Se,y:Se+ht}),s.setClipUrl(be,z,R),Qe(ht,Ve,st),ae.on("wheel",function(){Qe(ht=k.constrain(Y._scrollY+M.event.deltaY/Xe*at,0,at),Ve,st),0!==ht&&ht!==at&&M.event.preventDefault()});var bt=M.behavior.drag().on("dragstart",function(){var nt=M.event.sourceEvent;De="touchstart"===nt.type?nt.changedTouches[0].clientY:nt.clientY,Ue=ht}).on("drag",function(){var St,nt=M.event.sourceEvent;2===nt.buttons||nt.ctrlKey||(ze="touchmove"===nt.type?nt.changedTouches[0].clientY:nt.clientY,St=(ze-De)/st+Ue,Qe(ht=k.constrain(St,0,at),Ve,st))});pe.call(bt);var vt=M.behavior.drag().on("dragstart",function(){var nt=M.event.sourceEvent;"touchstart"===nt.type&&(De=nt.changedTouches[0].clientY,Ue=ht)}).on("drag",function(){var St,nt=M.event.sourceEvent;"touchmove"===nt.type&&(ze=nt.changedTouches[0].clientY,St=(De-ze)/st+Ue,Qe(ht=k.constrain(St,0,at),Ve,st))});be.call(vt)}function Qe(nt,wt,Ot){Y._scrollY=R._fullLayout[U]._scrollY=nt,s.setTranslate(be,0,-nt),s.setRect(pe,Y._width,r.scrollBarMargin+nt*Ot,r.scrollBarWidth,wt),oe.select("rect").attr("y",Se+nt)}R._context.edits.legendPosition&&(ae.classed("cursor-move",!0),p.init({element:ae.node(),gd:R,prepFn:function(){var nt=s.getTranslate(ae);se=nt.x,ie=nt.y},moveFn:function(nt,wt){var Ot=se+nt,Pt=ie+wt;s.setTranslate(ae,Ot,Pt),ye=p.align(Ot,Y._width,he.l,he.l+he.w,Y.xanchor),we=p.align(Pt+Y._height,-Y._height,he.t+he.h,he.t,Y.yanchor)},doneFn:function(){if(void 0!==ye&&void 0!==we){var nt={};nt[U+".x"]=ye,nt[U+".y"]=we,T.call("_guiRelayout",R,nt)}},clickFn:function(nt,wt){var Ot=N.selectAll("g.traces").filter(function(){var Pt=this.getBoundingClientRect();return wt.clientX>=Pt.left&&wt.clientX<=Pt.right&&wt.clientY>=Pt.top&&wt.clientY<=Pt.bottom});Ot.size()>0&&_(R,ae,Ot,nt,wt)}}))}],R)}}function v(R,j,z){var N=R[0],Y=N.width,F=j.entrywidthmode,U=N.trace.legendwidth||j.entrywidth;return"fraction"===F?j._maxWidth*U:z+(U||Y)}function _(R,j,z,N,Y){var F=z.data()[0][0].trace,U={event:Y,node:z.node(),curveNumber:F.index,expandedIndex:F._expandedIndex,data:R.data,layout:R.layout,frames:R._transitionData._frames,config:R._context,fullData:R._fullData,fullLayout:R._fullLayout};F._group&&(U.group=F._group),T.traceIs(F,"pie-like")&&(U.label=z.datum()[0].label);var V=b.triggerHandler(R,"plotly_legendclick",U);if(1===N){if(!1===V)return;j._clickTimeout=setTimeout(function(){R._fullLayout&&n(z,R,N)},R._context.doubleClickDelay)}else 2===N&&(j._clickTimeout&&clearTimeout(j._clickTimeout),R._legendMouseDownTime=0,!1!==b.triggerHandler(R,"plotly_legenddoubleclick",U)&&!1!==V&&n(z,R,N))}function f(R,j,z){var N,Y,F=P(z),U=R.data()[0][0],V=U.trace,te=T.traceIs(V,"pie-like"),$=!z._inHover&&j._context.edits.legendText&&!te,X=z._maxNameLength;U.groupTitle?(N=U.groupTitle.text,Y=U.groupTitle.font):(Y=z.font,z.entries?N=U.text:(N=te?U.label:V.name,V._meta&&(N=k.templateString(N,V._meta))));var W=k.ensureSingle(R,"text",F+"text");W.attr("text-anchor","start").call(s.font,Y).text($?S(N,X):N);var J=z.itemwidth+2*r.itemGap;i.positionText(W,J,0),$?W.call(i.makeEditable,{gd:j,text:N}).call(E,R,j,z).on("edit",function(Q){this.text(S(Q,X)).call(E,R,j,z);var re=U.trace._fullInput||{},ae={};if(T.hasTransform(re,"groupby")){var oe=T.getTransformIndices(re,"groupby"),ue=oe[oe.length-1],ve=k.keyedContainer(re,"transforms["+ue+"].styles","target","value.name");ve.set(U.trace._group,Q),ae=ve.constructUpdate()}else ae.name=Q;return re._isShape?T.call("_guiRelayout",j,"shapes["+V.index+"].name",ae.name):T.call("_guiRestyle",j,ae,V.index)}):E(W,R,j,z)}function S(R,j){var z=Math.max(4,j);if(R&&R.trim().length>=z/2)return R;for(var N=z-(R=R||"").length;N>0;N--)R+=" ";return R}function w(R,j,z){var N,Y=j._context.doubleClickDelay,F=1,U=k.ensureSingle(R,"rect",z+"toggle",function(V){j._context.staticPlot||V.style("cursor","pointer").attr("pointer-events","all"),V.call(t.fill,"rgba(0,0,0,0)")});j._context.staticPlot||(U.on("mousedown",function(){(N=(new Date).getTime())-j._legendMouseDownTime<Y?F+=1:(F=1,j._legendMouseDownTime=N)}),U.on("mouseup",function(){if(!j._dragged&&!j._editing){var V=j._fullLayout[z];(new Date).getTime()-j._legendMouseDownTime>Y&&(F=Math.max(F-1,1)),_(j,V,R,F,M.event)}}))}function E(R,j,z,N,Y){N._inHover&&R.attr("data-notex",!0),i.convertToTspans(R,z,function(){!function(F,U,V,te){var $=F.data()[0][0];if(V._inHover||!$||$.trace.showlegend){var X=F.select("g[class*=math-group]"),W=X.node(),J=P(V);V||(V=U._fullLayout[J]);var Q,re,ae=V.borderwidth,oe=(te===h?V.title.font:$.groupTitle?$.groupTitle.font:V.font).size*l;if(W){var ue=s.bBox(W);Q=ue.height,re=ue.width,te===h?s.setTranslate(X,ae,ae+.75*Q):s.setTranslate(X,0,.25*Q)}else{var ve="."+J+(te===h?"title":"")+"text",be=F.select(ve),de=i.lineCount(be),pe=be.node();if(Q=oe*de,re=pe?s.bBox(pe).width:0,te===h)"left"===V.title.side&&(re+=2*r.itemGap),i.positionText(be,ae+r.titlePad,ae+oe);else{var ge=2*r.itemGap+V.itemwidth;$.groupTitle&&(ge=r.itemGap,re-=V.itemwidth),i.positionText(be,ge,-oe*((de-1)/2-.3))}}te===h?(V._titleWidth=re,V._titleHeight=Q):($.lineHeight=oe,$.height=Math.max(Q,16)+3,$.width=re)}else F.remove()}(j,z,N,Y)})}function C(R){return k.isRightAnchor(R)?"right":k.isCenterAnchor(R)?"center":"left"}function O(R){return k.isBottomAnchor(R)?"bottom":k.isMiddleAnchor(R)?"middle":"top"}function P(R){return R._id||"legend"}ee.exports=function(R,j){if(j)y(R,j);else{var z=R._fullLayout,N=z._legends;z._infolayer.selectAll('[class^="legend"]').each(function(){var U=M.select(this),V=U.attr("class").split(" ")[0];V.match(m)&&-1===N.indexOf(V)&&U.remove()});for(var Y=0;Y<N.length;Y++){var F=N[Y];y(R,R._fullLayout[F])}}}},82424:function(ee,D,e){"use strict";var M=e(73972),k=e(10130);ee.exports=function(a,T,b){var p,s,t=T._inHover,i=k.isGrouped(T),n=k.isReversed(T),r={},o=[],l=!1,u={},d=0,c=0;function x(N,Y,F){if(!1!==T.visible&&(!b||N===T._id))if(""!==Y&&k.isGrouped(T))-1===o.indexOf(Y)?(o.push(Y),l=!0,r[Y]=[F]):r[Y].push(F);else{var U="~~i"+d;o.push(U),r[U]=[F],d++}}for(p=0;p<a.length;p++){var g=a[p],h=g[0],m=h.trace,y=m.legend,v=m.legendgroup;if(t||m.visible&&m.showlegend)if(M.traceIs(m,"pie-like"))for(u[v]||(u[v]={}),s=0;s<g.length;s++){var _=g[s].label;u[v][_]||(x(y,v,{label:_,color:g[s].color,i:g[s].i,trace:m,pts:g[s].pts}),u[v][_]=!0,c=Math.max(c,(_||"").length))}else x(y,v,h),c=Math.max(c,(m.name||"").length)}if(!o.length)return[];var f=!l||!i,S=[];for(p=0;p<o.length;p++){var w=r[o[p]];f?S.push(w[0]):S.push(w)}for(f&&(S=[S]),p=0;p<S.length;p++){var E=1/0;for(s=0;s<S[p].length;s++){var C=S[p][s].trace.legendrank;E>C&&(E=C)}S[p][0]._groupMinRank=E,S[p][0]._preGroupSort=p}var O=function(N,Y){return N.trace.legendrank-Y.trace.legendrank||N._preSort-Y._preSort};for(S.forEach(function(N,Y){N[0]._preGroupSort=Y}),S.sort(function(N,Y){return N[0]._groupMinRank-Y[0]._groupMinRank||N[0]._preGroupSort-Y[0]._preGroupSort}),p=0;p<S.length;p++){S[p].forEach(function(N,Y){N._preSort=Y}),S[p].sort(O);var P=S[p][0].trace,R=null;for(s=0;s<S[p].length;s++){var j=S[p][s].trace.legendgrouptitle;if(j&&j.text){R=j,t&&(j.font=T._groupTitleFont);break}}if(n&&S[p].reverse(),R){var z=!1;for(s=0;s<S[p].length;s++)if(M.traceIs(S[p][s].trace,"pie-like")){z=!0;break}S[p].unshift({i:-1,groupTitle:R,noClick:z,trace:{showlegend:P.showlegend,legendgroup:P.legendgroup,visible:"toggleitem"===T.groupclick||P.visible}})}for(s=0;s<S[p].length;s++)S[p][s]=[S[p][s]]}return T._lgroupsLength=S.length,T._maxNameLength=c,S}},85167:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=k.pushUnique,T=!0;ee.exports=function(b,p,s){var t=p._fullLayout;if(!p._dragged&&!p._editing){var i,n=t.legend.itemclick,r=t.legend.itemdoubleclick,o=t.legend.groupclick;if(1===s&&"toggle"===n&&"toggleothers"===r&&T&&p.data&&p._context.showTips&&k.notifier(k._(p,"Double-click on legend to isolate one trace"),"long"),T=!1,1===s?i=n:2===s&&(i=r),i){var l="togglegroup"===o,u=t.hiddenlabels?t.hiddenlabels.slice():[],d=b.data()[0][0];if(!d.groupTitle||!d.noClick){var c=p._fullData,x=(t.shapes||[]).filter(function(we){return we.showlegend}),g=c.concat(x),h=d.trace;h._isShape&&(h=h._fullInput);var m,y,v,_,f,S=h.legendgroup,w={},E=[],C=[],O=[],P=(t.shapes||[]).map(function(we){return we._input}),R=!1,j=h.legend,z=h._fullInput;if(z&&z._isShape||!M.traceIs(h,"pie-like")){var N,Y=S&&S.length,F=[];if(Y)for(m=0;m<g.length;m++)(N=g[m]).visible&&N.legendgroup===S&&F.push(m);if("toggle"===i){var U;switch(h.visible){case!0:U="legendonly";break;case!1:U=!1;break;case"legendonly":U=!0}if(Y)if(l)for(m=0;m<g.length;m++){var V=g[m];!1!==V.visible&&V.legendgroup===S&&ye(V,U)}else ye(h,U);else ye(h,U)}else if("toggleothers"===i){var te,$,X,W,J=!0;for(m=0;m<g.length;m++)if(te=(W=g[m])===h,$=!0!==W.showlegend,!(te||$||Y&&W.legendgroup===S||W.legend!==j||!0!==W.visible||M.traceIs(W,"notLegendIsolatable"))){J=!1;break}for(m=0;m<g.length;m++)if(!1!==(W=g[m]).visible&&W.legend===j&&!M.traceIs(W,"notLegendIsolatable"))switch(h.visible){case"legendonly":ye(W,!0);break;case!0:X=!!J||"legendonly",te=W===h,$=!0!==W.showlegend&&!W.legendgroup,ye(W,!!(te||Y&&W.legendgroup===S||$)||X)}}for(m=0;m<C.length;m++)if(v=C[m]){var Q=v.constructUpdate(),re=Object.keys(Q);for(y=0;y<re.length;y++)_=re[y],(w[_]=w[_]||[])[O[m]]=Q[_]}for(f=Object.keys(w),m=0;m<f.length;m++)for(_=f[m],y=0;y<E.length;y++)w[_].hasOwnProperty(y)||(w[_][y]=void 0);R?M.call("_guiUpdate",p,w,{shapes:P},E):M.call("_guiRestyle",p,w,E)}else{var ae=d.label,oe=u.indexOf(ae);if("toggle"===i)-1===oe?u.push(ae):u.splice(oe,1);else if("toggleothers"===i){var ue=-1!==oe,ve=[];for(m=0;m<p.calcdata.length;m++){var be=p.calcdata[m];for(y=0;y<be.length;y++){var de=be[y].label;j===be[0].trace.legend&&ae!==de&&(-1===u.indexOf(de)&&(ue=!0),a(u,de),ve.push(de))}}if(!ue)for(var pe=0;pe<ve.length;pe++){var ge=u.indexOf(ve[pe]);-1!==ge&&u.splice(ge,1)}}M.call("_guiRelayout",p,"hiddenlabels",u)}}}}function Ae(we,se){var ie=E.indexOf(we),he=w.visible;return he||(he=w.visible=[]),-1===E.indexOf(we)&&(E.push(we),ie=E.length-1),he[ie]=se,ie}function ye(we,se){if(!d.groupTitle||l){var ie,he=we._fullInput||we,Se=he._isShape,_e=he.index;if(void 0===_e&&(_e=he._index),M.hasTransform(he,"groupby")){var Me=C[_e];if(!Me){var Ee=M.getTransformIndices(he,"groupby"),Ie=Ee[Ee.length-1];Me=k.keyedContainer(he,"transforms["+Ie+"].styles","target","value.visible"),C[_e]=Me}var fe=Me.get(we._group);void 0===fe&&(fe=!0),!1!==fe&&Me.set(we._group,se),O[_e]=Ae(_e,!1!==he.visible)}else{var xe=!1!==he.visible&&se;Se?(ie=xe,P[_e].visible=ie,R=!0):Ae(_e,xe)}}}}},10130:function(ee,D){"use strict";D.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},D.isVertical=function(e){return"h"!==e.orientation},D.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},2199:function(ee,D,e){"use strict";ee.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(ee,D,e){"use strict";var M=e(39898),k=e(73972),a=e(71828),T=a.strTranslate,b=e(91424),p=e(7901),s=e(52075).extractOpts,t=e(34098),i=e(63463),n=e(53581).castOption,r=e(14928);function o(d,c){return(c?"radial":"horizontal")+(d?"":"reversed")}function l(d){var c=d[0].trace,x=c.contours,g=t.hasLines(c),h=t.hasMarkers(c),m=c.visible&&c.fill&&"none"!==c.fill,y=!1,v=!1;if(x){var _=x.coloring;"lines"===_?y=!0:g="none"===_||"heatmap"===_||x.showlines,"constraint"===x.type?m="="!==x._operation:"fill"!==_&&"heatmap"!==_||(v=!0)}return{showMarker:h,showLine:g,showFill:m,showGradientLine:y,showGradientFill:v,anyLine:g||y,anyFill:m||v}}function u(d,c,x){return d&&a.isArrayOrTypedArray(d)?c:d>x?x:d}ee.exports=function(d,c,x){var g=c._fullLayout;x||(x=g.legend);var h="constant"===x.itemsizing,m=x.itemwidth,y=(m+2*r.itemGap)/2,v=T(y,0),_=function(w,E,C,O){var P;if(w+1)P=w;else{if(!(E&&E.width>0))return 0;P=E.width}return h?O:Math.min(P,C)};function f(w,E,C){var O=w[0].trace,P=O.marker||{},R=P.line||{},j=C?O.visible&&O.type===C:k.traceIs(O,"bar"),z=M.select(E).select("g.legendpoints").selectAll("path.legend"+C).data(j?[w]:[]);z.enter().append("path").classed("legend"+C,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",v),z.exit().remove(),z.each(function(N){var Y=M.select(this),F=N[0],U=_(F.mlw,P.line,5,2);Y.style("stroke-width",U+"px");var V=F.mcc;if(!x._inHover&&"mc"in F){var te=s(P),$=te.mid;void 0===$&&($=(te.max+te.min)/2),V=b.tryColorscale(P,"")($)}var X=V||F.mc||P.color,W=P.pattern,J=W&&b.getPatternAttr(W.shape,0,"");if(J){var Q=b.getPatternAttr(W.bgcolor,0,null),re=b.getPatternAttr(W.fgcolor,0,null),ae=W.fgopacity,oe=u(W.size,8,10),ue=u(W.solidity,.5,1),ve="legend-"+O.uid;Y.call(b.pattern,"legend",c,ve,J,oe,ue,V,W.fillmode,Q,re,ae)}else Y.call(p.fill,X);U&&p.stroke(Y,F.mlc||R.color)})}function S(w,E,C){var O=w[0],P=O.trace,R=C?P.visible&&P.type===C:k.traceIs(P,C),j=M.select(E).select("g.legendpoints").selectAll("path.legend"+C).data(R?[w]:[]);if(j.enter().append("path").classed("legend"+C,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",v),j.exit().remove(),j.size()){var z=P.marker||{},N=_(n(z.line.width,O.pts),z.line,5,2),Y="pieLike",F=a.minExtend(P,{marker:{line:{width:N}}},Y),U=a.minExtend(O,{trace:F},Y);i(j,U,F,c)}}d.each(function(w){var E=M.select(this),C=a.ensureSingle(E,"g","layers");C.style("opacity",w[0].trace.opacity);var O=x.valign,P=w[0].lineHeight,R=w[0].height;if("middle"!==O&&P&&R){var j={top:1,bottom:-1}[O]*(.5*(P-R+3));C.attr("transform",T(0,j))}else C.attr("transform",null);C.selectAll("g.legendfill").data([w]).enter().append("g").classed("legendfill",!0),C.selectAll("g.legendlines").data([w]).enter().append("g").classed("legendlines",!0);var z=C.selectAll("g.legendsymbols").data([w]);z.enter().append("g").classed("legendsymbols",!0),z.selectAll("g.legendpoints").data([w]).enter().append("g").classed("legendpoints",!0)}).each(function(w){var E,C=w[0].trace,O=[];if(C.visible)switch(C.type){case"histogram2d":case"heatmap":O=[["M-15,-2V4H15V-2Z"]],E=!0;break;case"choropleth":case"choroplethmapbox":O=[["M-6,-6V6H6V-6Z"]],E=!0;break;case"densitymapbox":O=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],E="radial";break;case"cone":O=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],E=!1;break;case"streamtube":O=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],E=!1;break;case"surface":O=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],E=!0;break;case"mesh3d":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!1;break;case"volume":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!0;break;case"isosurface":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],E=!1}var P=M.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(O);P.enter().append("path").classed("legend3dandfriends",!0).attr("transform",v).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(R,j){var z,N=M.select(this),Y=s(C),F=Y.colorscale,U=Y.reversescale;if(F){if(!E){var V=F.length;z=0===j?F[U?V-1:0][1]:1===j?F[U?0:V-1][1]:F[Math.floor((V-1)/2)][1]}}else{var te=C.vertexcolor||C.facecolor||C.color;z=a.isArrayOrTypedArray(te)?te[j]||te[0]:te}N.attr("d",R[0]),z?N.call(p.fill,z):N.call(function($){if($.size()){var X="legendfill-"+C.uid;b.gradient($,c,X,o(U,"radial"===E),F,"fill")}})})}).each(function(w){var E=w[0].trace,C="waterfall"===E.type;if(w[0]._distinct&&C){var O=w[0].trace[w[0].dir].marker;return w[0].mc=O.color,w[0].mlw=O.line.width,w[0].mlc=O.line.color,f(w,this,"waterfall")}var P=[];E.visible&&C&&(P=w[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var R=M.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(P);R.enter().append("path").classed("legendwaterfall",!0).attr("transform",v).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(j){var z=M.select(this),N=E[j[0]].marker,Y=_(void 0,N.line,5,2);z.attr("d",j[1]).style("stroke-width",Y+"px").call(p.fill,N.color),Y&&z.call(p.stroke,N.line.color)})}).each(function(w){f(w,this,"funnel")}).each(function(w){f(w,this)}).each(function(w){var E=w[0].trace,C=M.select(this).select("g.legendpoints").selectAll("path.legendbox").data(E.visible&&k.traceIs(E,"box-violin")?[w]:[]);C.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",v),C.exit().remove(),C.each(function(){var O=M.select(this);if("all"!==E.boxpoints&&"all"!==E.points||0!==p.opacity(E.fillcolor)||0!==p.opacity((E.line||{}).color)){var P=_(void 0,E.line,5,2);O.style("stroke-width",P+"px").call(p.fill,E.fillcolor),P&&p.stroke(O,E.line.color)}else{var R=a.minExtend(E,{marker:{size:h?12:a.constrain(E.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});C.call(b.pointStyle,R,c)}})}).each(function(w){S(w,this,"funnelarea")}).each(function(w){S(w,this,"pie")}).each(function(w){var E,C,O=l(w),P=O.showFill,R=O.showLine,j=O.showGradientLine,z=O.showGradientFill,N=O.anyFill,Y=O.anyLine,F=w[0],U=F.trace,V=s(U),te=V.colorscale,$=V.reversescale,X=t.hasMarkers(U)||!N?"M5,0":Y?"M5,-2":"M5,-3",W=M.select(this),J=W.select(".legendfill").selectAll("path").data(P||z?[w]:[]);if(J.enter().append("path").classed("js-fill",!0),J.exit().remove(),J.attr("d",X+"h"+m+"v6h-"+m+"z").call(function(ae){if(ae.size())if(P)b.fillGroupStyle(ae,c);else{var oe="legendfill-"+U.uid;b.gradient(ae,c,oe,o($),te,"fill")}}),R||j){var Q=_(void 0,U.line,10,5);C=a.minExtend(U,{line:{width:Q}}),E=[a.minExtend(F,{trace:C})]}var re=W.select(".legendlines").selectAll("path").data(R||j?[E]:[]);re.enter().append("path").classed("js-line",!0),re.exit().remove(),re.attr("d",X+(j?"l"+m+",0.0001":"h"+m)).call(R?b.lineGroupStyle:function(ae){if(ae.size()){var oe="legendline-"+U.uid;b.lineGroupStyle(ae),b.gradient(ae,c,oe,o($),te,"stroke")}})}).each(function(w){var E,C,O=l(w),P=O.anyFill,R=O.anyLine,j=O.showLine,z=O.showMarker,N=w[0],Y=N.trace,F=!z&&!R&&!P&&t.hasText(Y);function U(re,ae,oe,ue){var ve=a.nestedProperty(Y,re).get(),be=a.isArrayOrTypedArray(ve)&&ae?ae(ve):ve;if(h&&be&&void 0!==ue&&(be=ue),oe){if(be<oe[0])return oe[0];if(be>oe[1])return oe[1]}return be}function V(re){return N._distinct&&N.index&&re[N.index]?re[N.index]:re[0]}if(z||F||j){var te={},$={};if(z){te.mc=U("marker.color",V),te.mx=U("marker.symbol",V),te.mo=U("marker.opacity",a.mean,[.2,1]),te.mlc=U("marker.line.color",V),te.mlw=U("marker.line.width",a.mean,[0,5],2),$.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var X=U("marker.size",a.mean,[2,16],12);te.ms=X,$.marker.size=X}j&&($.line={width:U("line.width",V,[0,10],5)}),F&&(te.tx="Aa",te.tp=U("textposition",V),te.ts=10,te.tc=U("textfont.color",V),te.tf=U("textfont.family",V)),E=[a.minExtend(N,te)],(C=a.minExtend(Y,$)).selectedpoints=null,C.texttemplate=null}var W=M.select(this).select("g.legendpoints"),J=W.selectAll("path.scatterpts").data(z?E:[]);J.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",v),J.exit().remove(),J.call(b.pointStyle,C,c),z&&(E[0].mrc=3);var Q=W.selectAll("g.pointtext").data(F?E:[]);Q.enter().append("g").classed("pointtext",!0).append("text").attr("transform",v),Q.exit().remove(),Q.selectAll("text").call(b.textPointStyle,C,c)}).each(function(w){var E=w[0].trace,C=M.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(E.visible&&"candlestick"===E.type?[w,w]:[]);C.enter().append("path").classed("legendcandle",!0).attr("d",function(O,P){return P?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",v).style("stroke-miterlimit",1),C.exit().remove(),C.each(function(O,P){var R=M.select(this),j=E[P?"increasing":"decreasing"],z=_(void 0,j.line,5,2);R.style("stroke-width",z+"px").call(p.fill,j.fillcolor),z&&p.stroke(R,j.line.color)})}).each(function(w){var E=w[0].trace,C=M.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(E.visible&&"ohlc"===E.type?[w,w]:[]);C.enter().append("path").classed("legendohlc",!0).attr("d",function(O,P){return P?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",v).style("stroke-miterlimit",1),C.exit().remove(),C.each(function(O,P){var R=M.select(this),j=E[P?"increasing":"decreasing"],z=_(void 0,j.line,5,2);R.style("fill","none").call(b.dashLine,j.line.dash,z),z&&p.stroke(R,j.line.color)})})}},42068:function(ee,D,e){"use strict";e(93348),ee.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(ee,D,e){"use strict";var M=e(73972),k=e(74875),a=e(41675),T=e(24255),b=e(34031).eraseActiveShape,p=e(71828),s=p._,t=ee.exports={};function i(g,h){var m,y,v=h.currentTarget,_=v.getAttribute("data-attr"),f=v.getAttribute("data-val")||!0,S=g._fullLayout,w={},E=a.list(g,null,!0),C=S._cartesianSpikesEnabled;if("zoom"===_){var O,P="in"===f?.5:2,R=(1+P)/2,j=(1-P)/2;for(y=0;y<E.length;y++)if(!(m=E[y]).fixedrange)if(O=m._name,"auto"===f)w[O+".autorange"]=!0;else if("reset"===f)void 0===m._rangeInitial0&&void 0===m._rangeInitial1?w[O+".autorange"]=!0:void 0===m._rangeInitial0?(w[O+".autorange"]=m._autorangeInitial,w[O+".range"]=[null,m._rangeInitial1]):void 0===m._rangeInitial1?(w[O+".range"]=[m._rangeInitial0,null],w[O+".autorange"]=m._autorangeInitial):w[O+".range"]=[m._rangeInitial0,m._rangeInitial1],void 0!==m._showSpikeInitial&&(w[O+".showspikes"]=m._showSpikeInitial,"on"!==C||m._showSpikeInitial||(C="off"));else{var z=[m.r2l(m.range[0]),m.r2l(m.range[1])],N=[R*z[0]+j*z[1],R*z[1]+j*z[0]];w[O+".range[0]"]=m.l2r(N[0]),w[O+".range[1]"]=m.l2r(N[1])}}else"hovermode"!==_||"x"!==f&&"y"!==f||(f=S._isHoriz?"y":"x",v.setAttribute("data-val",f)),w[_]=f;S._cartesianSpikesEnabled=C,M.call("_guiRelayout",g,w)}function n(g,h){for(var m=h.currentTarget,y=m.getAttribute("data-attr"),v=m.getAttribute("data-val")||!0,_=g._fullLayout._subplots.gl3d||[],f={},S=y.split("."),w=0;w<_.length;w++)f[_[w]+"."+S[1]]=v;var E="pan"===v?v:"zoom";f.dragmode=E,M.call("_guiRelayout",g,f)}function r(g,h){for(var m=h.currentTarget.getAttribute("data-attr"),y="resetLastSave"===m,v="resetDefault"===m,_=g._fullLayout,f=_._subplots.gl3d||[],S={},w=0;w<f.length;w++){var E,C=f[w],O=C+".camera",P=C+".aspectratio",R=C+".aspectmode",j=_[C]._scene;y?(S[O+".up"]=j.viewInitial.up,S[O+".eye"]=j.viewInitial.eye,S[O+".center"]=j.viewInitial.center,E=!0):v&&(S[O+".up"]=null,S[O+".eye"]=null,S[O+".center"]=null,E=!0),E&&(S[P+".x"]=j.viewInitial.aspectratio.x,S[P+".y"]=j.viewInitial.aspectratio.y,S[P+".z"]=j.viewInitial.aspectratio.z,S[R]=j.viewInitial.aspectmode)}M.call("_guiRelayout",g,S)}function o(g,h){var m=h.currentTarget,y=m._previousVal,v=g._fullLayout,_=v._subplots.gl3d||[],f=["xaxis","yaxis","zaxis"],S={},w={};if(y)w=y,m._previousVal=null;else{for(var E=0;E<_.length;E++){var C=_[E],O=v[C],P=C+".hovermode";S[P]=O.hovermode,w[P]=!1;for(var R=0;R<3;R++){var j=f[R],z=C+"."+j+".showspikes";w[z]=!1,S[z]=O[j].showspikes}}m._previousVal=S}return w}function l(g,h){for(var m=h.currentTarget,y=m.getAttribute("data-attr"),v=m.getAttribute("data-val")||!0,_=g._fullLayout,f=_._subplots.geo||[],S=0;S<f.length;S++){var w=f[S],E=_[w];if("zoom"===y){var C=E.projection.scale,O="in"===v?2*C:.5*C;M.call("_guiRelayout",g,w+".projection.scale",O)}}"reset"===y&&x(g,"geo")}function u(g){var h=g._fullLayout;return!h.hovermode&&(h._has("cartesian")?h._isHoriz?"y":"x":"closest")}function d(g){var h=u(g);M.call("_guiRelayout",g,"hovermode",h)}function c(g,h){for(var m=h.currentTarget.getAttribute("data-val"),y=g._fullLayout,v=y._subplots.mapbox||[],_={},f=0;f<v.length;f++){var S=v[f],w=y[S].zoom,E="in"===m?1.05*w:w/1.05;_[S+".zoom"]=E}M.call("_guiRelayout",g,_)}function x(g,h){for(var m=g._fullLayout,y=m._subplots[h]||[],v={},_=0;_<y.length;_++)for(var f=y[_],S=m[f]._subplot.viewInitial,w=Object.keys(S),E=0;E<w.length;E++){var C=w[E];v[f+"."+C]=S[C]}M.call("_guiRelayout",g,v)}t.toImage={name:"toImage",title:function(g){var h=(g._context.toImageButtonOptions||{}).format||"png";return s(g,"png"===h?"Download plot as a png":"Download plot")},icon:T.camera,click:function(g){var h=g._context.toImageButtonOptions,m={format:h.format||"png"};p.notifier(s(g,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==m.format&&p.isIE()&&(p.notifier(s(g,"IE only supports svg.  Changing format to svg."),"long"),m.format="svg"),["filename","width","height","scale"].forEach(function(y){y in h&&(m[y]=h[y])}),M.call("downloadImage",g,m).then(function(y){p.notifier(s(g,"Snapshot succeeded")+" - "+y,"long")}).catch(function(){p.notifier(s(g,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(g){return s(g,"Edit in Chart Studio")},icon:T.disk,click:function(g){k.sendDataToCloud(g)}},t.editInChartStudio={name:"editInChartStudio",title:function(g){return s(g,"Edit in Chart Studio")},icon:T.pencil,click:function(g){k.sendDataToCloud(g)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(g){return s(g,"Zoom")},attr:"dragmode",val:"zoom",icon:T.zoombox,click:i},t.pan2d={name:"pan2d",_cat:"pan",title:function(g){return s(g,"Pan")},attr:"dragmode",val:"pan",icon:T.pan,click:i},t.select2d={name:"select2d",_cat:"select",title:function(g){return s(g,"Box Select")},attr:"dragmode",val:"select",icon:T.selectbox,click:i},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(g){return s(g,"Lasso Select")},attr:"dragmode",val:"lasso",icon:T.lasso,click:i},t.drawclosedpath={name:"drawclosedpath",title:function(g){return s(g,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:T.drawclosedpath,click:i},t.drawopenpath={name:"drawopenpath",title:function(g){return s(g,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:T.drawopenpath,click:i},t.drawline={name:"drawline",title:function(g){return s(g,"Draw line")},attr:"dragmode",val:"drawline",icon:T.drawline,click:i},t.drawrect={name:"drawrect",title:function(g){return s(g,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:T.drawrect,click:i},t.drawcircle={name:"drawcircle",title:function(g){return s(g,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:T.drawcircle,click:i},t.eraseshape={name:"eraseshape",title:function(g){return s(g,"Erase active shape")},icon:T.eraseshape,click:b},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(g){return s(g,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:i},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(g){return s(g,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:i},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(g){return s(g,"Autoscale")},attr:"zoom",val:"auto",icon:T.autoscale,click:i},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(g){return s(g,"Reset axes")},attr:"zoom",val:"reset",icon:T.home,click:i},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(g){return s(g,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:T.tooltip_basic,gravity:"ne",click:i},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(g){return s(g,"Compare data on hover")},attr:"hovermode",val:function(g){return g._fullLayout._isHoriz?"y":"x"},icon:T.tooltip_compare,gravity:"ne",click:i},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(g){return s(g,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:T.zoombox,click:n},t.pan3d={name:"pan3d",_cat:"pan",title:function(g){return s(g,"Pan")},attr:"scene.dragmode",val:"pan",icon:T.pan,click:n},t.orbitRotation={name:"orbitRotation",title:function(g){return s(g,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:T["3d_rotate"],click:n},t.tableRotation={name:"tableRotation",title:function(g){return s(g,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:T["z-axis"],click:n},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(g){return s(g,"Reset camera to default")},attr:"resetDefault",icon:T.home,click:r},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(g){return s(g,"Reset camera to last save")},attr:"resetLastSave",icon:T.movie,click:r},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:function(g,h){var m=o(g,h);M.call("_guiRelayout",g,m)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(g){return s(g,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:l},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(g){return s(g,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:l},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(g){return s(g,"Reset")},attr:"reset",val:null,icon:T.autoscale,click:l},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:d},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:d},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:T.tooltip_basic,gravity:"ne",click:d},t.resetViewSankey={name:"resetSankeyGroup",title:function(g){return s(g,"Reset view")},icon:T.home,click:function(g){for(var h={"node.groups":[],"node.x":[],"node.y":[]},m=0;m<g._fullData.length;m++){var y=g._fullData[m]._viewInitial;h["node.groups"].push(y.node.groups.slice()),h["node.x"].push(y.node.x.slice()),h["node.y"].push(y.node.y.slice())}M.call("restyle",g,h)}},t.toggleHover={name:"toggleHover",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:T.tooltip_basic,gravity:"ne",click:function(g,h){var m=o(g,h);m.hovermode=u(g),M.call("_guiRelayout",g,m)}},t.resetViews={name:"resetViews",title:function(g){return s(g,"Reset views")},icon:T.home,click:function(g,h){var m=h.currentTarget;m.setAttribute("data-attr","zoom"),m.setAttribute("data-val","reset"),i(g,h),m.setAttribute("data-attr","resetLastSave"),r(g,h),x(g,"geo"),x(g,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(g){return s(g,"Toggle Spike Lines")},icon:T.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(g){var h=g._fullLayout,m=h._cartesianSpikesEnabled;h._cartesianSpikesEnabled="on"===m?"off":"on",M.call("_guiRelayout",g,function(y){for(var v="on"===y._fullLayout._cartesianSpikesEnabled,_=a.list(y,null,!0),f={},S=0;S<_.length;S++){var w=_[S];f[w._name+".showspikes"]=!!v||w._showSpikeInitial}return f}(g))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(g){return s(g,"Reset view")},attr:"reset",icon:T.home,click:function(g){x(g,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(g){return s(g,"Zoom in")},attr:"zoom",val:"in",icon:T.zoom_plus,click:c},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(g){return s(g,"Zoom out")},attr:"zoom",val:"out",icon:T.zoom_minus,click:c}},93348:function(ee,D,e){"use strict";var M=e(26023),k=Object.keys(M),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],T=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),b=[];k.forEach(function(p){!function(s){if(-1===T.indexOf(s._cat||s.name)){var t=s.name,i=(s._cat||s.name).toLowerCase();-1===b.indexOf(t)&&b.push(t),-1===b.indexOf(i)&&b.push(i)}}(M[p])}),b.sort(),ee.exports={DRAW_MODES:a,backButtons:T,foreButtons:b}},35750:function(ee,D,e){"use strict";var M=e(71828),k=e(7901),a=e(44467),T=e(42068);ee.exports=function(b,p){var s=b.modebar||{},t=a.newContainer(p,"modebar");function i(r,o){return M.coerce(s,t,T,r,o)}i("orientation"),i("bgcolor",k.addOpacity(p.paper_bgcolor,.5));var n=k.contrast(k.rgb(p.modebar.bgcolor));i("color",k.addOpacity(n,.3)),i("activecolor",k.addOpacity(n,.7)),i("uirevision",p.uirevision),i("add"),i("remove")}},64168:function(ee,D,e){"use strict";ee.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(ee,D,e){"use strict";var M=e(41675),k=e(34098),a=e(73972),T=e(23469).isUnifiedHover,b=e(37676),p=e(26023),s=e(93348).DRAW_MODES,t=e(71828).extendDeep;ee.exports=function(i){var n=i._fullLayout,r=i._context,o=n._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var l,u=r.modeBarButtons;l=Array.isArray(u)&&u.length?function(d){for(var c=t([],d),x=0;x<c.length;x++)for(var g=c[x],h=0;h<g.length;h++){var m=g[h];if("string"==typeof m){if(void 0===p[m])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[x][h]=p[m]}}return c}(u):!r.displayModeBar&&r.watermark?[]:function(d){var c=d._fullLayout,x=d._fullData,g=d._context;function h(ve,be){if("string"==typeof be){if(be.toLowerCase()===ve.toLowerCase())return!0}else{var de=be.name,pe=be._cat||be.name;if(de===ve||pe===ve.toLowerCase())return!0}return!1}var m=c.modebar.add;"string"==typeof m&&(m=[m]);var y=c.modebar.remove;"string"==typeof y&&(y=[y]);var v=g.modeBarButtonsToAdd.concat(m.filter(function(ve){for(var be=0;be<g.modeBarButtonsToRemove.length;be++)if(h(ve,g.modeBarButtonsToRemove[be]))return!1;return!0})),_=g.modeBarButtonsToRemove.concat(y.filter(function(ve){for(var be=0;be<g.modeBarButtonsToAdd.length;be++)if(h(ve,g.modeBarButtonsToAdd[be]))return!1;return!0})),f=c._has("cartesian"),S=c._has("gl3d"),w=c._has("geo"),E=c._has("pie"),C=c._has("funnelarea"),O=c._has("gl2d"),P=c._has("ternary"),R=c._has("mapbox"),j=c._has("polar"),z=c._has("smith"),N=c._has("sankey"),Y=function(ve){for(var be=M.list({_fullLayout:ve},null,!0),de=0;de<be.length;de++)if(!be[de].fixedrange)return!1;return!0}(c),F=T(c.hovermode),U=[];function V(ve){if(ve.length){for(var be=[],de=0;de<ve.length;de++){for(var pe=ve[de],ge=p[pe],Ae=ge.name.toLowerCase(),ye=(ge._cat||ge.name).toLowerCase(),we=!1,se=0;se<_.length;se++){var ie=_[se].toLowerCase();if(ie===Ae||ie===ye){we=!0;break}}we||be.push(p[pe])}U.push(be)}}var te=["toImage"];g.showEditInChartStudio?te.push("editInChartStudio"):g.showSendToCloud&&te.push("sendDataToCloud"),V(te);var $=[],X=[],W=[],J=[];(f||O||E||C||P)+w+S+R+j+z>1?(X=["toggleHover"],W=["resetViews"]):w?($=["zoomInGeo","zoomOutGeo"],X=["hoverClosestGeo"],W=["resetGeo"]):S?(X=["hoverClosest3d"],W=["resetCameraDefault3d","resetCameraLastSave3d"]):R?($=["zoomInMapbox","zoomOutMapbox"],X=["toggleHover"],W=["resetViewMapbox"]):O?X=["hoverClosestGl2d"]:E?X=["hoverClosestPie"]:N?(X=["hoverClosestCartesian","hoverCompareCartesian"],W=["resetViewSankey"]):X=["toggleHover"],f&&(X=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(ve){for(var be=0;be<ve.length;be++)if(!a.traceIs(ve[be],"noHover"))return!1;return!0}(x)||F)&&(X=[]),!f&&!O||Y||($=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==W[0]&&(W=["resetScale2d"])),S?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||O)&&!Y||P?J=["zoom2d","pan2d"]:R||w?J=["pan2d"]:j&&(J=["zoom2d"]),function(ve){for(var be=!1,de=0;de<ve.length&&!be;de++){var pe=ve[de];pe._module&&pe._module.selectPoints&&(a.traceIs(pe,"scatter-like")?(k.hasMarkers(pe)||k.hasText(pe))&&(be=!0):a.traceIs(pe,"box-violin")&&"all"!==pe.boxpoints&&"all"!==pe.points||(be=!0))}return be}(x)&&J.push("select2d","lasso2d");var Q=[],re=function(ve){-1===Q.indexOf(ve)&&-1!==X.indexOf(ve)&&Q.push(ve)};if(Array.isArray(v)){for(var ae=[],oe=0;oe<v.length;oe++){var ue=v[oe];"string"==typeof ue?(ue=ue.toLowerCase(),-1!==s.indexOf(ue)?(c._has("mapbox")||c._has("cartesian"))&&J.push(ue):"togglespikelines"===ue?re("toggleSpikelines"):"togglehover"===ue?re("toggleHover"):"hovercompare"===ue?re("hoverCompareCartesian"):"hoverclosest"===ue?(re("hoverClosestCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie")):"v1hovermode"===ue&&(re("toggleHover"),re("hoverClosestCartesian"),re("hoverCompareCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie"))):ae.push(ue)}v=ae}return V(J),V($.concat(W)),V(Q),function(ve,be){if(be.length)if(Array.isArray(be[0]))for(var de=0;de<be.length;de++)ve.push(be[de]);else ve.push(be);return ve}(U,v)}(i),o?o.update(i,l):n._modeBar=b(i,l)}else o&&(o.destroy(),delete n._modeBar)}},37676:function(ee,D,e){"use strict";var M=e(39898),k=e(92770),a=e(71828),T=e(24255),b=e(11506).version,p=new DOMParser;function s(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var t=s.prototype;t.update=function(i,n){this.graphInfo=i;var r=this.graphInfo._context,o=this.graphInfo._fullLayout,l="modebar-"+o._uid;this.element.setAttribute("id",l),this._uid=l,this.element.className="modebar","hover"===r.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===o.modebar.orientation&&(this.element.className+=" vertical",n=n.reverse());var u=o.modebar,d="hover"===r.displayModeBar?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(l),a.addRelatedStyleRule(l,d+"#"+l+" .modebar-group","background-color: "+u.bgcolor),a.addRelatedStyleRule(l,"#"+l+" .modebar-btn .icon path","fill: "+u.color),a.addRelatedStyleRule(l,"#"+l+" .modebar-btn:hover .icon path","fill: "+u.activecolor),a.addRelatedStyleRule(l,"#"+l+" .modebar-btn.active .icon path","fill: "+u.activecolor);var c=!this.hasButtons(n),x=this.hasLogo!==r.displaylogo,g=this.locale!==r.locale;if(this.locale=r.locale,(c||x||g)&&(this.removeAllButtons(),this.updateButtons(n),r.watermark||r.displaylogo)){var h=this.getLogo();r.watermark&&(h.className=h.className+" watermark"),"v"===o.modebar.orientation?this.element.insertBefore(h,this.element.childNodes[0]):this.element.appendChild(h),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(i){var n=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(r){var o=n.createGroup();r.forEach(function(l){var u=l.name;if(!u)throw new Error("must provide button 'name' in button config");if(-1!==n.buttonsNames.indexOf(u))throw new Error("button name '"+u+"' is taken");n.buttonsNames.push(u);var d=n.createButton(l);n.buttonElements.push(d),o.appendChild(d)}),n.element.appendChild(o)})},t.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},t.createButton=function(i){var n=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var o=i.title;void 0===o?o=i.name:"function"==typeof o&&(o=o(this.graphInfo)),(o||0===o)&&r.setAttribute("data-title",o),void 0!==i.attr&&r.setAttribute("data-attr",i.attr);var l=i.val;if(void 0!==l&&("function"==typeof l&&(l=l(this.graphInfo)),r.setAttribute("data-val",l)),"function"!=typeof i.click)throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(d){i.click(n.graphInfo,d),n.updateActiveButton(d.currentTarget)}),r.setAttribute("data-toggle",i.toggle||!1),i.toggle&&M.select(r).classed("active",!0);var u=i.icon;return"function"==typeof u?r.appendChild(u()):r.appendChild(this.createIcon(u||T.question)),r.setAttribute("data-gravity",i.gravity||"n"),r},t.createIcon=function(i){var n,r=k(i.height)?Number(i.height):i.ascent-i.descent,o="http://www.w3.org/2000/svg";if(i.path){(n=document.createElementNS(o,"svg")).setAttribute("viewBox",[0,0,i.width,r].join(" ")),n.setAttribute("class","icon");var l=document.createElementNS(o,"path");l.setAttribute("d",i.path),i.transform?l.setAttribute("transform",i.transform):void 0!==i.ascent&&l.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),n.appendChild(l)}return i.svg&&(n=p.parseFromString(i.svg,"application/xml").childNodes[0]),n.setAttribute("height","1em"),n.setAttribute("width","1em"),n},t.updateActiveButton=function(i){var n=this.graphInfo._fullLayout,r=void 0!==i?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(o){var l=o.getAttribute("data-val")||!0,u=o.getAttribute("data-attr"),d="true"===o.getAttribute("data-toggle"),c=M.select(o);if(d)u===r&&c.classed("active",!c.classed("active"));else{var x=null===u?u:a.nestedProperty(n,u).get();c.classed("active",x===l)}})},t.hasButtons=function(i){var n=this.buttons;if(!n||i.length!==n.length)return!1;for(var r=0;r<i.length;++r){if(i[r].length!==n[r].length)return!1;for(var o=0;o<i[r].length;o++)if(i[r][o].name!==n[r][o].name)return!1}return!0},t.getLogo=function(){var i=this.createGroup(),n=document.createElement("a");return n.href="https://plotly.com/",n.target="_blank",n.setAttribute("data-title",a._(this.graphInfo,"Produced with Plotly.js")+" (v"+b+")"),n.className="modebar-btn plotlyjsicon modebar-btn--logo",n.appendChild(this.createIcon(T.newplotlylogo)),i.appendChild(n),i},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)},ee.exports=function(i,n){var r=i._fullLayout,o=new s({graphInfo:i,container:r._modebardiv.node(),buttons:n});return r._privateplot&&M.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}},37113:function(ee,D,e){"use strict";var M=e(41940),k=e(22399),a=(0,e(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});ee.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:M({editType:"plot"}),bgcolor:{valType:"color",dflt:k.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(ee){"use strict";ee.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(ee,D,e){"use strict";var M=e(71828),k=e(7901),a=e(44467),T=e(85501),b=e(37113),p=e(89573);function s(t,i,n,r){var o=r.calendar;function l(d,c){return M.coerce(t,i,b.buttons,d,c)}if(l("visible")){var u=l("step");"all"!==u&&(!o||"gregorian"===o||"month"!==u&&"year"!==u?l("stepmode"):i.stepmode="backward",l("count")),l("label")}}ee.exports=function(t,i,n,r,o){var l=t.rangeselector||{},u=a.newContainer(i,"rangeselector");function d(g,h){return M.coerce(l,u,b,g,h)}if(d("visible",T(l,u,{name:"buttons",handleItemDefaults:s,calendar:o}).length>0)){var c=function(g,h,m){for(var y=m.filter(function(S){return h[S].anchor===g._id}),v=0,_=0;_<y.length;_++){var f=h[y[_]].domain;f&&(v=Math.max(f[1],v))}return[g.domain[0],v+p.yPad]}(i,n,r);d("x",c[0]),d("y",c[1]),M.noneOrAll(t,i,["x","y"]),d("xanchor"),d("yanchor"),M.coerceFont(d,"font",n.font);var x=d("bgcolor");d("activecolor",k.contrast(x,p.lightAmount,p.darkAmount)),d("bordercolor"),d("borderwidth")}}},21598:function(ee,D,e){"use strict";var M=e(39898),k=e(73972),a=e(74875),T=e(7901),b=e(91424),p=e(71828),s=p.strTranslate,t=e(63893),i=e(41675),n=e(18783),r=n.LINE_SPACING,o=n.FROM_TL,l=n.FROM_BR,u=e(89573),d=e(70565);function c(h){return h._id}function x(h,m,y){var _,f,v=p.ensureSingle(h,"rect","selector-rect",function(_){_.attr("shape-rendering","crispEdges")});v.attr({rx:u.rx,ry:u.ry}),v.call(T.stroke,m.bordercolor).call(T.fill,(_=m,f=y,f._isActive||f._isHovered?_.activecolor:_.bgcolor)).style("stroke-width",m.borderwidth+"px")}function g(h,m,y,v){var _,f;p.ensureSingle(h,"text","selector-text",function(S){S.attr("text-anchor","middle")}).call(b.font,m.font).text((_=y,f=v._fullLayout._meta,_.label?f?p.templateString(_.label,f):_.label:"all"===_.step?"all":_.count+_.step.charAt(0))).call(function(S){t.convertToTspans(S,v)})}ee.exports=function(h){var m=h._fullLayout._infolayer.selectAll(".rangeselector").data(function(y){for(var v=i.list(y,"x",!0),_=[],f=0;f<v.length;f++){var S=v[f];S.rangeselector&&S.rangeselector.visible&&_.push(S)}return _}(h),c);m.enter().append("g").classed("rangeselector",!0),m.exit().remove(),m.style({cursor:"pointer","pointer-events":"all"}),m.each(function(y){var v=M.select(this),_=y,f=_.rangeselector,S=v.selectAll("g.button").data(p.filterVisible(f.buttons));S.enter().append("g").classed("button",!0),S.exit().remove(),S.each(function(w){var E=M.select(this),C=d(_,w);w._isActive=function(O,P,R){if("all"===P.step)return!0===O.autorange;var j=Object.keys(R);return O.range[0]===R[j[0]]&&O.range[1]===R[j[1]]}(_,w,C),E.call(x,f,w),E.call(g,f,w,h),E.on("click",function(){h._dragged||k.call("_guiRelayout",h,C)}),E.on("mouseover",function(){w._isHovered=!0,E.call(x,f,w)}),E.on("mouseout",function(){w._isHovered=!1,E.call(x,f,w)})}),function(w,E,C,O,P){var R=0,j=0,z=C.borderwidth;E.each(function(){var te=M.select(this).select(".selector-text"),$=C.font.size*r,X=Math.max($*t.lineCount(te),16)+3;j=Math.max(j,X)}),E.each(function(){var te=M.select(this),$=te.select(".selector-rect"),X=te.select(".selector-text"),W=X.node()&&b.bBox(X.node()).width,J=C.font.size*r,Q=t.lineCount(X),re=Math.max(W+10,u.minButtonWidth);te.attr("transform",s(z+R,z)),$.attr({x:0,y:0,width:re,height:j}),t.positionText(X,re/2,j/2-(Q-1)*J/2+3),R+=re+5});var N=w._fullLayout._size,Y=N.l+N.w*C.x,F=N.t+N.h*(1-C.y),U="left";p.isRightAnchor(C)&&(Y-=R,U="right"),p.isCenterAnchor(C)&&(Y-=R/2,U="center");var V="top";p.isBottomAnchor(C)&&(F-=j,V="bottom"),p.isMiddleAnchor(C)&&(F-=j/2,V="middle"),R=Math.ceil(R),j=Math.ceil(j),Y=Math.round(Y),F=Math.round(F),a.autoMargin(w,O+"-range-selector",{x:C.x,y:C.y,l:R*o[U],r:R*l[U],b:j*l[V],t:j*o[V]}),P.attr("transform",s(Y,F))}(h,S,f,_._name,v)})}},70565:function(ee,D,e){"use strict";var M=e(81041),k=e(71828).titleCase;ee.exports=function(a,T){var b=a._name,p={};if("all"===T.step)p[b+".autorange"]=!0;else{var s=function(t,i){var n,r=t.range,o=new Date(t.r2l(r[1])),l=i.step,u=M["utc"+k(l)],d=i.count;switch(i.stepmode){case"backward":n=t.l2r(+u.offset(o,-d));break;case"todate":var c=u.offset(o,-d);n=t.l2r(+u.ceil(c))}return[n,r[1]]}(a,T);p[b+".range[0]"]=s[0],p[b+".range[1]"]=s[1]}return p}},97218:function(ee,D,e){"use strict";ee.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(ee,D,e){"use strict";var M=e(22399);ee.exports={bgcolor:{valType:"color",dflt:M.background,editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(ee,D,e){"use strict";var M=e(41675).list,k=e(71739).getAutoRange,a=e(73251);ee.exports=function(T){for(var b=M(T,"x",!0),p=0;p<b.length;p++){var s=b[p],t=s[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=k(T,s))}}},73251:function(ee){"use strict";ee.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(ee,D,e){"use strict";var M=e(71828),k=e(44467),a=e(41675),T=e(75148),b=e(47850);ee.exports=function(p,s,t){var i=p[t],n=s[t];if(i.rangeslider||s._requestRangeslider[n._id]){M.isPlainObject(i.rangeslider)||(i.rangeslider={});var r,o,l=i.rangeslider,u=k.newContainer(n,"rangeslider");if(v("visible")){v("bgcolor",s.plot_bgcolor),v("bordercolor"),v("borderwidth"),v("thickness"),v("autorange",!n.isValidRange(l.range)),v("range");var d=s._subplots;if(d)for(var c=d.cartesian.filter(function(f){return f.substr(0,f.indexOf("y"))===a.name2id(t)}).map(function(f){return f.substr(f.indexOf("y"),f.length)}),x=M.simpleMap(c,a.id2name),g=0;g<x.length;g++){var h=x[g];r=l[h]||{},o=k.newContainer(u,h,"yaxis");var m,y=s[h];r.range&&y.isValidRange(r.range)&&(m="fixed"),"match"!==_("rangemode",m)&&_("range",y.range.slice())}u._input=l}}function v(f,S){return M.coerce(l,u,T,f,S)}function _(f,S){return M.coerce(r,o,b,f,S)}}},72413:function(ee,D,e){"use strict";var M=e(39898),k=e(73972),a=e(74875),T=e(71828),b=T.strTranslate,p=e(91424),s=e(7901),t=e(92998),i=e(93612),n=e(41675),r=e(28569),o=e(6964),l=e(73251);function u(y){return"number"==typeof y.clientX?y.clientX:y.touches&&y.touches.length>0?y.touches[0].clientX:0}function d(y,v,_,f){var S=T.ensureSingle(y,"rect",l.bgClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),w=f.borderwidth%2==0?f.borderwidth:f.borderwidth-1,E=-f._offsetShift,C=p.crispRound(v,f.borderwidth);S.attr({width:f._width+w,height:f._height+w,transform:b(E,E),"stroke-width":C}).call(s.stroke,f.bordercolor).call(s.fill,f.bgcolor)}function c(y,v,_,f){var S=v._fullLayout;T.ensureSingleById(S._topdefs,"clipPath",f._clipId,function(w){w.append("rect").attr({x:0,y:0})}).select("rect").attr({width:f._width,height:f._height})}function x(y,v,_,f){var S,w=v.calcdata,E=y.selectAll("g."+l.rangePlotClassName).data(_._subplotsWith,T.identity);E.enter().append("g").attr("class",function(C){return l.rangePlotClassName+" "+C}).call(p.setClipUrl,f._clipId,v),E.order(),E.exit().remove(),E.each(function(C,O){var P=M.select(this),R=0===O,j=n.getFromId(v,C,"y"),z=j._name,N=f[z],Y={data:[],layout:{xaxis:{type:_.type,domain:[0,1],range:f.range.slice(),calendar:_.calendar},width:f._width,height:f._height,margin:{t:0,b:0,l:0,r:0}},_context:v._context};_.rangebreaks&&(Y.layout.xaxis.rangebreaks=_.rangebreaks),Y.layout[z]={type:j.type,domain:[0,1],range:"match"!==N.rangemode?N.range.slice():j.range.slice(),calendar:j.calendar},j.rangebreaks&&(Y.layout[z].rangebreaks=j.rangebreaks),a.supplyDefaults(Y);var F=Y._fullLayout.xaxis,U=Y._fullLayout[z];F.clearCalc(),F.setScale(),U.clearCalc(),U.setScale();var V={id:C,plotgroup:P,xaxis:F,yaxis:U,isRangePlot:!0};R?S=V:(V.mainplot="xy",V.mainplotinfo=S),i.rangePlot(v,V,function(te,$){for(var X=[],W=0;W<te.length;W++){var J=te[W],Q=J[0].trace;Q.xaxis+Q.yaxis===$&&X.push(J)}return X}(w,C))})}function g(y,v,_,f,S){T.ensureSingle(y,"rect",l.maskMinClassName,function(w){w.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",f._height).call(s.fill,l.maskColor),T.ensureSingle(y,"rect",l.maskMaxClassName,function(w){w.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",f._height).call(s.fill,l.maskColor),"match"!==S.rangemode&&(T.ensureSingle(y,"rect",l.maskMinOppAxisClassName,function(w){w.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",f._width).call(s.fill,l.maskOppAxisColor),T.ensureSingle(y,"rect",l.maskMaxOppAxisClassName,function(w){w.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",f._width).style("border-top",l.maskOppBorder).call(s.fill,l.maskOppAxisColor))}function h(y,v,_,f){v._context.staticPlot||T.ensureSingle(y,"rect",l.slideBoxClassName,function(S){S.attr({y:0,cursor:l.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:f._height,fill:l.slideBoxFill})}function m(y,v,_,f){var S=T.ensureSingle(y,"g",l.grabberMinClassName),w=T.ensureSingle(y,"g",l.grabberMaxClassName),E={x:0,width:l.handleWidth,rx:l.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":l.handleStrokeWidth,"shape-rendering":"crispEdges"},C={y:Math.round(f._height/4),height:Math.round(f._height/2)};T.ensureSingle(S,"rect",l.handleMinClassName,function(P){P.attr(E)}).attr(C),T.ensureSingle(w,"rect",l.handleMaxClassName,function(P){P.attr(E)}).attr(C);var O={width:l.grabAreaWidth,x:0,y:0,fill:l.grabAreaFill,cursor:v._context.staticPlot?void 0:l.grabAreaCursor};T.ensureSingle(S,"rect",l.grabAreaMinClassName,function(P){P.attr(O)}).attr("height",f._height),T.ensureSingle(w,"rect",l.grabAreaMaxClassName,function(P){P.attr(O)}).attr("height",f._height)}ee.exports=function(y){for(var v=y._fullLayout,_=v._rangeSliderData,f=0;f<_.length;f++){var S=_[f][l.name];S._clipId=S._id+"-"+v._uid}var w=v._infolayer.selectAll("g."+l.containerClassName).data(_,function(E){return E._name});w.exit().each(function(E){var C=E[l.name];v._topdefs.select("#"+C._clipId).remove()}).remove(),0!==_.length&&(w.enter().append("g").classed(l.containerClassName,!0).attr("pointer-events","all"),w.each(function(E){var C=M.select(this),O=E[l.name],P=v[n.id2name(E.anchor)],R=O[n.id2name(E.anchor)];if(O.range){var j,z=T.simpleMap(O.range,E.r2l),N=T.simpleMap(E.range,E.r2l);j=N[0]<N[1]?[Math.min(z[0],N[0]),Math.max(z[1],N[1])]:[Math.max(z[0],N[0]),Math.min(z[1],N[1])],O.range=O._input.range=T.simpleMap(j,E.l2r)}E.cleanRange("rangeslider.range");var Y=v._size,F=E.domain;O._width=Y.w*(F[1]-F[0]);var U=Math.round(Y.l+Y.w*F[0]),V=Math.round(Y.t+Y.h*(1-E._counterDomainMin)+("bottom"===E.side?E._depth:0)+O._offsetShift+l.extraPad);C.attr("transform",b(U,V)),O._rl=T.simpleMap(O.range,E.r2l);var te=O._rl[0],$=O._rl[1],X=$-te;if(O.p2d=function(be){return be/O._width*X+te},O.d2p=function(be){return(be-te)/X*O._width},E.rangebreaks){var W=E.locateBreaks(te,$);if(W.length){var J,Q,re=0;for(J=0;J<W.length;J++)re+=(Q=W[J]).max-Q.min;var ae=O._width/($-te-re),oe=[-ae*te];for(J=0;J<W.length;J++)Q=W[J],oe.push(oe[oe.length-1]-ae*(Q.max-Q.min));for(O.d2p=function(be){for(var de=oe[0],pe=0;pe<W.length;pe++){var ge=W[pe];if(be>=ge.max)de=oe[pe+1];else if(be<ge.min)break}return de+ae*be},J=0;J<W.length;J++)(Q=W[J]).pmin=O.d2p(Q.min),Q.pmax=O.d2p(Q.max);O.p2d=function(be){for(var de=oe[0],pe=0;pe<W.length;pe++){var ge=W[pe];if(be>=ge.pmax)de=oe[pe+1];else if(be<ge.pmin)break}return(be-de)/ae}}}if("match"!==R.rangemode){var ue=P.r2l(R.range[0]),ve=P.r2l(R.range[1])-ue;O.d2pOppAxis=function(be){return(be-ue)/ve*O._height}}C.call(d,y,E,O).call(c,y,E,O).call(x,y,E,O).call(g,y,E,O,R).call(h,y,E,O).call(m,y,E,O),function(be,de,pe,ge){if(!de._context.staticPlot){var Ae=be.select("rect."+l.slideBoxClassName).node(),ye=be.select("rect."+l.grabAreaMinClassName).node(),we=be.select("rect."+l.grabAreaMaxClassName).node();be.on("mousedown",se),be.on("touchstart",se)}function se(){var ie=M.event,he=ie.target,Se=u(ie),_e=Se-be.node().getBoundingClientRect().left,Me=ge.d2p(pe._rl[0]),Ee=ge.d2p(pe._rl[1]),Ie=r.coverSlip();function fe(Te){var Ce,De,ze,Ue=+u(Te)-Se;switch(he){case Ae:if(ze="ew-resize",Me+Ue>pe._length||Ee+Ue<0)return;Ce=Me+Ue,De=Ee+Ue;break;case ye:if(ze="col-resize",Me+Ue>pe._length)return;Ce=Me+Ue,De=Ee;break;case we:if(ze="col-resize",Ee+Ue<0)return;Ce=Me,De=Ee+Ue;break;default:ze="ew-resize",Ce=_e,De=_e+Ue}if(De<Ce){var Ve=De;De=Ce,Ce=Ve}ge._pixelMin=Ce,ge._pixelMax=De,o(M.select(Ie),ze),function(Xe,at,st,ht){function bt(nt){return st.l2r(T.constrain(nt,ht._rl[0],ht._rl[1]))}var vt=bt(ht.p2d(ht._pixelMin)),Qe=bt(ht.p2d(ht._pixelMax));window.requestAnimationFrame(function(){k.call("_guiRelayout",at,st._name+".range",[vt,Qe])})}(0,de,pe,ge)}function xe(){Ie.removeEventListener("mousemove",fe),Ie.removeEventListener("mouseup",xe),this.removeEventListener("touchmove",fe),this.removeEventListener("touchend",xe),T.removeElement(Ie)}this.addEventListener("touchmove",fe),this.addEventListener("touchend",xe),Ie.addEventListener("mousemove",fe),Ie.addEventListener("mouseup",xe)}}(C,y,E,O),function(be,de,pe,ge,Ae,ye){var we=l.handleWidth/2;function se(Te){return T.constrain(Te,0,ge._width)}function ie(Te){return T.constrain(Te,0,ge._height)}function he(Te){return T.constrain(Te,-we,ge._width+we)}var Se=se(ge.d2p(pe._rl[0])),_e=se(ge.d2p(pe._rl[1]));if(be.select("rect."+l.slideBoxClassName).attr("x",Se).attr("width",_e-Se),be.select("rect."+l.maskMinClassName).attr("width",Se),be.select("rect."+l.maskMaxClassName).attr("x",_e).attr("width",ge._width-_e),"match"!==ye.rangemode){var Me=ge._height-ie(ge.d2pOppAxis(Ae._rl[1])),Ee=ge._height-ie(ge.d2pOppAxis(Ae._rl[0]));be.select("rect."+l.maskMinOppAxisClassName).attr("x",Se).attr("height",Me).attr("width",_e-Se),be.select("rect."+l.maskMaxOppAxisClassName).attr("x",Se).attr("y",Ee).attr("height",ge._height-Ee).attr("width",_e-Se),be.select("rect."+l.slideBoxClassName).attr("y",Me).attr("height",Ee-Me)}var Ie=.5,fe=Math.round(he(Se-we))-Ie,xe=Math.round(he(_e-we))+Ie;be.select("g."+l.grabberMinClassName).attr("transform",b(fe,Ie)),be.select("g."+l.grabberMaxClassName).attr("transform",b(xe,Ie))}(C,0,E,O,P,R),"bottom"===E.side&&t.draw(y,E._id+"title",{propContainer:E,propName:E._name+".title",placeholder:v._dfltTitle.x,attributes:{x:E._offset+E._length/2,y:V+O._height+O._offsetShift+10+1.5*E.title.font.size,"text-anchor":"middle"}})}))}},549:function(ee,D,e){"use strict";var M=e(41675),k=e(63893),a=e(73251),T=e(18783).LINE_SPACING,b=a.name;function p(s){var t=s&&s[b];return t&&t.visible}D.isVisible=p,D.makeData=function(s){var t=M.list({_fullLayout:s},"x",!0),i=s.margin,n=[];if(!s._has("gl2d"))for(var r=0;r<t.length;r++){var o=t[r];if(p(o)){n.push(o);var l=o[b];l._id=b+o._id,l._height=(s.height-i.b-i.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}s._rangeSliderData=n},D.autoMarginOpts=function(s,t){var i=s._fullLayout,n=t[b],r=t._id.charAt(0),o=0,l=0;return"bottom"===t.side&&(o=t._depth,t.title.text!==i._dfltTitle[r]&&(l=1.5*t.title.font.size+10+n._offsetShift,l+=(t.title.text.match(k.BR_TAG_ALL)||[]).length*t.title.font.size*T)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:n._height+o+Math.max(i.margin.b,l),pad:a.extraPad+2*n._offsetShift}}},13137:function(ee,D,e){"use strict";var M=e(71828),k=e(75148),a=e(47850),T=e(549);ee.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:M.extendFlat({},k,{yaxis:a})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:T.isVisible,makeData:T.makeData,autoMarginOpts:T.autoMarginOpts}},47850:function(ee){"use strict";ee.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(ee,D,e){"use strict";var M=e(50215),k=e(82196).line,a=e(79952).P,T=e(1426).extendFlat,b=e(30962).overrideAll,p=e(44467).templatedArray;e(24695),ee.exports=b(p("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:T({},M.xref,{}),yref:T({},M.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:k.color,width:T({},k.width,{min:1,dflt:1}),dash:T({},a,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(ee){"use strict";ee.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(85501),T=e(8389),b=e(30477);function p(s,t,i){function n(E,C){return M.coerce(s,t,T,E,C)}var r=n("path"),o="path"!==n("type",r?"path":"rect");o&&delete t.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var l=["x","y"],u=0;u<2;u++){var d,c,x,g=l[u],h={_fullLayout:i},m=k.coerceRef(s,t,h,g);if((d=k.getFromId(h,m))._selectionIndices.push(t._index),x=b.rangeToShapePosition(d),c=b.shapePositionToRange(d),o){var y=g+"0",v=g+"1",_=s[y],f=s[v];s[y]=c(s[y],!0),s[v]=c(s[v],!0),k.coercePosition(t,h,n,m,y),k.coercePosition(t,h,n,m,v);var S=t[y],w=t[v];void 0!==S&&void 0!==w&&(t[y]=x(S),t[v]=x(w),s[y]=_,s[v]=f)}}o&&M.noneOrAll(s,t,["x0","x1","y0","y1"])}ee.exports=function(s,t){a(s,t,{name:"selections",handleItemDefaults:p});for(var i=t.selections,n=0;n<i.length;n++){var r=i[n];r&&void 0===r.path&&(void 0!==r.x0&&void 0!==r.x1&&void 0!==r.y0&&void 0!==r.y1||(t.selections[n]=null))}}},32485:function(ee,D,e){"use strict";var M=e(60165).readPaths,k=e(42359),a=e(51873).clearOutlineControllers,T=e(7901),b=e(91424),p=e(44467).arrayEditor,s=e(30477),t=s.getPathString;function i(u){var d=u._fullLayout;for(var c in a(u),d._selectionLayer.selectAll("path").remove(),d._plots){var x=d._plots[c].selectionLayer;x&&x.selectAll("path").remove()}for(var g=0;g<d.selections.length;g++)r(u,g)}function n(u){return u._context.editSelection}function r(u,d){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+d+'"]').remove();var c=s.makeSelectionsOptionsAndPlotinfo(u,d),x=c.options,g=c.plotinfo;x._input&&function(h){var m=t(u,x),y={"data-index":d,"fill-rule":"evenodd",d:m},v=x.opacity,_="rgba(0,0,0,0)",f=x.line.color||T.contrast(u._fullLayout.plot_bgcolor),S=x.line.width,w=x.line.dash;S||(S=5,w="solid");var E=n(u)&&u._fullLayout._activeSelectionIndex===d;E&&(_=u._fullLayout.activeselection.fillcolor,v=u._fullLayout.activeselection.opacity);for(var C=[],O=1;O>=0;O--){var P=h.append("path").attr(y).style("opacity",O?.1:v).call(T.stroke,f).call(T.fill,_).call(b.dashLine,O?"solid":w,O?4+S:S);if(o(P,u,x),E){var R=p(u.layout,"selections",x);P.style({cursor:"move"});var j={element:P.node(),plotinfo:g,gd:u,editHelpers:R,isActiveSelection:!0},z=M(m,u);k(z,P,j)}else P.style("pointer-events",O?"all":"none");C[O]=P}var N=C[0];C[1].node().addEventListener("click",function(){return function(Y,F){if(n(Y)){var U=+F.node().getAttribute("data-index");if(U>=0){if(U===Y._fullLayout._activeSelectionIndex)return void l(Y);Y._fullLayout._activeSelectionIndex=U,Y._fullLayout._deactivateSelection=l,i(Y)}}}(u,N)})}(u._fullLayout._selectionLayer)}function o(u,d,c){var x=c.xref+c.yref;b.setClipUrl(u,"clip"+d._fullLayout._uid+x,d)}function l(u){n(u)&&u._fullLayout._activeSelectionIndex>=0&&(a(u),delete u._fullLayout._activeSelectionIndex,i(u))}ee.exports={draw:i,drawOne:r,activateLastSelection:function(u){if(n(u)){var d=u._fullLayout.selections.length-1;u._fullLayout._activeSelectionIndex=d,u._fullLayout._deactivateSelection=l,i(u)}}}},53777:function(ee,D,e){"use strict";var M=e(79952).P,k=e(1426).extendFlat;ee.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:k({},M,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(ee){"use strict";ee.exports=function(D,e,M){M("newselection.mode"),M("newselection.line.width")&&(M("newselection.line.color"),M("newselection.line.dash")),M("activeselection.fillcolor"),M("activeselection.opacity")}},35855:function(ee,D,e){"use strict";var M=e(64505).selectMode,k=e(51873).clearOutline,a=e(60165),T=a.readPaths,b=a.writePaths,p=a.fixDatesForPaths;ee.exports=function(s,t){if(s.length){var i=s[0][0];if(i){var n=i.getAttribute("d"),r=t.gd,o=r._fullLayout.newselection,l=t.plotinfo,u=l.xaxis,d=l.yaxis,c=t.isActiveSelection,x=t.dragmode,g=(r.layout||{}).selections||[];if(!M(x)&&void 0!==c){var h=r._fullLayout._activeSelectionIndex;if(h<g.length)switch(r._fullLayout.selections[h].type){case"rect":x="select";break;case"path":x="lasso"}}var m,y=T(n,r,l,c),v={xref:u._id,yref:d._id,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}};1===y.length&&(m=y[0]),m&&5===m.length&&"select"===x?(v.type="rect",v.x0=m[0][1],v.y0=m[0][2],v.x1=m[2][1],v.y1=m[2][2]):(v.type="path",u&&d&&p(y,u,d),v.path=b(y),m=null),k(r);for(var _=t.editHelpers,f=(_||{}).modifyItem,S=[],w=0;w<g.length;w++){var E=r._fullLayout.selections[w];if(E){if(S[w]=E._input,void 0!==c&&w===r._fullLayout._activeSelectionIndex){var C=v;switch(E.type){case"rect":f("x0",C.x0),f("x1",C.x1),f("y0",C.y0),f("y1",C.y1);break;case"path":f("path",C.path)}}}else S[w]=E}return void 0===c?(S.push(v),S):_?_.getUpdateObj():{}}}}},75549:function(ee,D,e){"use strict";var M=e(71828).strTranslate;function k(a,T){switch(a.type){case"log":return a.p2d(T);case"date":return a.p2r(T,0,a.calendar);default:return a.p2r(T)}}ee.exports={p2r:k,r2p:function(a,T){switch(a.type){case"log":return a.d2p(T);case"date":return a.r2p(T,0,a.calendar);default:return a.r2p(T)}},axValue:function(a){var T="y"===a._id.charAt(0)?1:0;return function(b){return k(a,b[T])}},getTransform:function(a){return M(a.xaxis._offset,a.yaxis._offset)}}},47322:function(ee,D,e){"use strict";var M=e(32485),k=e(3937);ee.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:M.draw,drawOne:M.drawOne,reselect:k.reselect,prepSelect:k.prepSelect,clearOutline:k.clearOutline,clearSelectionsCache:k.clearSelectionsCache,selectOnClick:k.selectOnClick}},3937:function(ee,D,e){"use strict";var M=e(52142),k=e(38258),a=e(73972),T=e(91424).dashStyle,b=e(7901),p=e(30211),s=e(23469).makeEventData,t=e(64505),i=t.freeMode,n=t.rectMode,r=t.drawMode,o=t.openMode,l=t.selectMode,u=e(30477),d=e(21459),c=e(42359),x=e(51873).clearOutline,g=e(60165),h=g.handleEllipse,m=g.readPaths,y=e(90551).newShapes,v=e(35855),_=e(32485).activateLastSelection,f=e(71828),S=f.sorterAsc,w=e(61082),E=e(79990),C=e(41675).getFromId,O=e(33306),P=e(61549).redrawReglTraces,R=e(34122),j=R.MINSELECT,z=w.filter,N=w.tester,Y=e(75549),F=Y.p2r,U=Y.axValue,V=Y.getTransform;function te(fe){return void 0!==fe.subplot}function $(fe,xe,Te,Ce,De,ze,Ue){var Ve,Xe,at,st,ht,bt,vt,Qe,nt,Ge,wt=xe._hoverdata,Ot=xe._fullLayout.clickmode.indexOf("event")>-1,Pt=[];if((Ge=wt)&&Array.isArray(Ge)&&!0!==Ge[0].hoverOnBox){Q(fe,xe,ze);var St=function(Ge,rt){var tt,Re,Fe=Ge[0],et=-1,We=[];for(Re=0;Re<rt.length;Re++)if(tt=rt[Re],Fe.fullData._expandedIndex===tt.cd[0].trace._expandedIndex){if(!0===Fe.hoverOnBox)break;void 0!==Fe.pointNumber?et=Fe.pointNumber:void 0!==Fe.binNumber&&(et=Fe.binNumber,We=Fe.pointNumbers);break}return{pointNumber:et,pointNumbers:We,searchInfo:tt}}(wt,Ve=oe(xe,Te,Ce,De));if(St.pointNumbers.length>0?function(Ge,rt){var tt,Re,Fe,et=[];for(Fe=0;Fe<Ge.length;Fe++)(tt=Ge[Fe]).cd[0].trace.selectedpoints&&tt.cd[0].trace.selectedpoints.length>0&&et.push(tt);if(1===et.length&&et[0]===rt.searchInfo&&(Re=rt.searchInfo.cd[0].trace).selectedpoints.length===rt.pointNumbers.length){for(Fe=0;Fe<rt.pointNumbers.length;Fe++)if(Re.selectedpoints.indexOf(rt.pointNumbers[Fe])<0)return!1;return!0}return!1}(Ve,St):function(Ge){var rt,tt,Re=0;for(tt=0;tt<Ge.length;tt++)if((rt=Ge[tt].cd[0].trace).selectedpoints&&(rt.selectedpoints.length>1||(Re+=rt.selectedpoints.length)>1))return!1;return 1===Re}(Ve)&&(bt=ve(St))){for(Ue&&Ue.remove(),nt=0;nt<Ve.length;nt++)(Xe=Ve[nt])._module.selectPoints(Xe,!1);be(xe,Ve),re(ze),Ot&&Ie(xe)}else{for(vt=fe.shiftKey&&(void 0!==bt?bt:ve(St)),at=function(Ge,rt,tt){return{pointNumber:Ge,searchInfo:rt,subtract:!!tt}}(St.pointNumber,St.searchInfo,vt),st=J(ze.selectionDefs.concat([at])),nt=0;nt<Ve.length;nt++)if(ht=pe(Ve[nt]._module.selectPoints(Ve[nt],st),Ve[nt]),Pt.length)for(var qe=0;qe<ht.length;qe++)Pt.push(ht[qe]);else Pt=ht;if(be(xe,Ve,Qe={points:Pt}),at&&ze&&ze.selectionDefs.push(at),Ue){var Ze=ze.mergedPolygons,Ne=o(ze.dragmode);c(ge(Ze,Ne),Ue,ze)}Ot&&Ee(xe,Qe)}}}function X(fe){return"pointNumber"in fe&&"searchInfo"in fe}function W(fe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(xe,Te,Ce,De){var ze=fe.searchInfo.cd[0].trace._expandedIndex;return De.cd[0].trace._expandedIndex===ze&&Ce===fe.pointNumber},isRect:!1,degenerate:!1,subtract:!!fe.subtract}}function J(fe){if(fe.length){for(var xe=[],Te=X(fe[0])?0:fe[0][0][0],Ce=Te,De=X(fe[0])?0:fe[0][0][1],ze=De,Ue=0;Ue<fe.length;Ue++)if(X(fe[Ue]))xe.push(W(fe[Ue]));else{var Ve=N(fe[Ue]);Ve.subtract=!!fe[Ue].subtract,xe.push(Ve),Te=Math.min(Te,Ve.xmin),Ce=Math.max(Ce,Ve.xmax),De=Math.min(De,Ve.ymin),ze=Math.max(ze,Ve.ymax)}return{xmin:Te,xmax:Ce,ymin:De,ymax:ze,pts:[],contains:function(Xe,at,st,ht){for(var bt=!1,vt=0;vt<xe.length;vt++)xe[vt].contains(Xe,at,st,ht)&&(bt=!xe[vt].subtract);return bt},isRect:!1,degenerate:!1}}}function Q(fe,xe,Te){var Ce=xe._fullLayout,De=Te.plotinfo,ze=Te.dragmode,Ue=Ce._lastSelectedSubplot&&Ce._lastSelectedSubplot===De.id,Ve=(fe.shiftKey||fe.altKey)&&!(r(ze)&&o(ze));Ue&&Ve&&De.selection&&De.selection.selectionDefs&&!Te.selectionDefs?(Te.selectionDefs=De.selection.selectionDefs,Te.mergedPolygons=De.selection.mergedPolygons):Ve&&De.selection||re(Te),Ue||(x(xe),Ce._lastSelectedSubplot=De.id)}function re(fe,xe){var Te=fe.dragmode,Ce=fe.plotinfo,De=fe.gd;De._fullLayout._activeShapeIndex>=0&&De._fullLayout._deactivateShape(De),function(ht){return ht._fullLayout._activeSelectionIndex>=0}(De)&&De._fullLayout._deactivateSelection(De);var ze=De._fullLayout._zoomlayer,Ue=r(Te),Ve=l(Te);if(Ue||Ve){var Xe,at,st=ze.selectAll(".select-outline-"+Ce.id);st&&De._fullLayout._outlining&&(Ue&&(Xe=y(st,fe)),Xe&&a.call("_guiRelayout",De,{shapes:Xe}),Ve&&!te(fe)&&(at=v(st,fe)),at&&(De._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",De,{selections:at}).then(function(){xe&&_(De)})),De._fullLayout._outlining=!1)}Ce.selection={},Ce.selection.selectionDefs=fe.selectionDefs=[],Ce.selection.mergedPolygons=fe.mergedPolygons=[]}function ae(fe){return fe._id}function oe(fe,xe,Te,Ce){if(!fe.calcdata)return[];var De,ze,Ue,Ve=[],Xe=xe.map(ae),at=Te.map(ae);for(Ue=0;Ue<fe.calcdata.length;Ue++)if(!0===(ze=(De=fe.calcdata[Ue])[0].trace).visible&&ze._module&&ze._module.selectPoints)if(!te({subplot:Ce})||ze.subplot!==Ce&&ze.geo!==Ce)if("splom"===ze.type){if(ze._xaxes[Xe[0]]&&ze._yaxes[at[0]]){var st=ue(ze._module,De,xe[0],Te[0]);st.scene=fe._fullLayout._splomScenes[ze.uid],Ve.push(st)}}else if("sankey"===ze.type){var ht=ue(ze._module,De,xe[0],Te[0]);Ve.push(ht)}else{if(-1===Xe.indexOf(ze.xaxis)||-1===at.indexOf(ze.yaxis))continue;Ve.push(ue(ze._module,De,C(fe,ze.xaxis),C(fe,ze.yaxis)))}else Ve.push(ue(ze._module,De,xe[0],Te[0]));return Ve}function ue(fe,xe,Te,Ce){return{_module:fe,cd:xe,xaxis:Te,yaxis:Ce}}function ve(fe){var xe=fe.searchInfo.cd[0].trace,Te=fe.pointNumber,Ce=fe.pointNumbers,De=Ce.length>0?Ce[0]:Te;return!!xe.selectedpoints&&xe.selectedpoints.indexOf(De)>-1}function be(fe,xe,Te){var Ce,De;for(Ce=0;Ce<xe.length;Ce++){var ze=xe[Ce].cd[0].trace._fullInput,Ue=fe._fullLayout._tracePreGUI[ze.uid]||{};void 0===Ue.selectedpoints&&(Ue.selectedpoints=ze._input.selectedpoints||null)}if(Te){var Ve=Te.points||[];for(Ce=0;Ce<xe.length;Ce++)(De=xe[Ce].cd[0].trace)._input.selectedpoints=De._fullInput.selectedpoints=[],De._fullInput!==De&&(De.selectedpoints=[]);for(var Xe=0;Xe<Ve.length;Xe++){var at=Ve[Xe],st=at.data,ht=at.fullData,bt=at.pointIndex,vt=at.pointIndices;vt?([].push.apply(st.selectedpoints,vt),De._fullInput!==De&&[].push.apply(ht.selectedpoints,vt)):(st.selectedpoints.push(bt),De._fullInput!==De&&ht.selectedpoints.push(bt))}}else for(Ce=0;Ce<xe.length;Ce++)delete(De=xe[Ce].cd[0].trace).selectedpoints,delete De._input.selectedpoints,De._fullInput!==De&&delete De._fullInput.selectedpoints;!function(Qe,nt){for(var wt=!1,Ot=0;Ot<nt.length;Ot++){var Pt=nt[Ot],St=Pt.cd;a.traceIs(St[0].trace,"regl")&&(wt=!0);var qe=Pt._module,Ze=qe.styleOnSelect||qe.style;Ze&&(Ze(Qe,St,St[0].node3),St[0].nodeRangePlot3&&Ze(Qe,St,St[0].nodeRangePlot3))}wt&&(O(Qe),P(Qe))}(fe,xe)}function de(fe,xe,Te){for(var Ce=(Te?M.difference:M.union)({regions:fe},{regions:[xe]}).regions.reverse(),De=0;De<Ce.length;De++){var ze=Ce[De];ze.subtract=he(ze,Ce.slice(0,De))}return Ce}function pe(fe,xe){if(Array.isArray(fe))for(var Te=xe.cd,Ce=xe.cd[0].trace,De=0;De<fe.length;De++)fe[De]=s(fe[De],Ce,Te);return fe}function ge(fe,xe){for(var Te=[],Ce=0;Ce<fe.length;Ce++){Te[Ce]=[];for(var De=0;De<fe[Ce].length;De++){Te[Ce][De]=[],Te[Ce][De][0]=De?"L":"M";for(var ze=0;ze<fe[Ce][De].length;ze++)Te[Ce][De].push(fe[Ce][De][ze])}xe||Te[Ce].push(["Z",Te[Ce][0][1],Te[Ce][0][2]])}return Te}function Ae(fe,xe){for(var Te,Ce,De=[],ze=[],Ue=0;Ue<xe.length;Ue++){var Ve=xe[Ue];Ce=Ve._module.selectPoints(Ve,fe),ze.push(Ce),Te=pe(Ce,Ve),De=De.concat(Te)}return De}function ye(fe,xe,Te,Ce,De){var ze,Ue,Ve,Xe=!!Ce;De&&(ze=De.plotinfo,Ue=De.xaxes[0]._id,Ve=De.yaxes[0]._id);var at=[],st=[],ht=ie(fe),bt=fe._fullLayout;if(ze){var vt=bt._zoomlayer,Qe=bt.dragmode,nt=r(Qe),wt=l(Qe);if(nt||wt){var Ot=C(fe,Ue,"x"),Pt=C(fe,Ve,"y");if(Ot&&Pt){var St=vt.selectAll(".select-outline-"+ze.id);if(St&&fe._fullLayout._outlining&&St.length){for(var qe=St[0][0].getAttribute("d"),Ze=m(qe,fe,ze),Ne=[],Ge=0;Ge<Ze.length;Ge++){for(var rt=Ze[Ge],tt=[],Re=0;Re<rt.length;Re++)tt.push([Se(Ot,rt[Re][1]),Se(Pt,rt[Re][2])]);tt.xref=Ue,tt.yref=Ve,tt.subtract=he(tt,Ne),Ne.push(tt)}ht=ht.concat(Ne)}}}}var Fe=Ue&&Ve?[Ue+Ve]:bt._subplots.cartesian;!function(mn){var An=mn.calcdata;if(An)for(var vn=0;vn<An.length;vn++){var On=An[vn][0].trace,Bn=mn._fullLayout._splomScenes;if(Bn){var er=Bn[On.uid];er&&(er.selectBatch=[])}}}(fe);for(var et={},We=0;We<Fe.length;We++){var ct=Fe[We],pt=ct.indexOf("y"),dt=ct.slice(0,pt),ut=ct.slice(pt),kt=Ue&&Ve?Te:void 0;if(kt=se(ht,dt,ut,kt)){var yt=Ce;if(!Xe){var gt=C(fe,dt,"x"),At=C(fe,ut,"y");yt=oe(fe,[gt],[At],ct);for(var Lt=0;Lt<yt.length;Lt++){var It=yt[Lt],qt=It.cd[0],Qt=qt.trace;if("scattergl"===It._module.name&&!qt.t.xpx){var Vt=Qt.x,Ft=Qt.y,en=Qt._length;qt.t.xpx=[],qt.t.ypx=[];for(var wn=0;wn<en;wn++)qt.t.xpx[wn]=gt.c2p(Vt[wn]),qt.t.ypx[wn]=At.c2p(Ft[wn])}"splom"===It._module.name&&(et[Qt.uid]||(et[Qt.uid]=!0))}}var kn=Ae(kt,yt);at=at.concat(kn),st=st.concat(yt)}}var on={points:at};be(fe,st,on);var Ht=bt.clickmode.indexOf("event")>-1&&xe;if(!ze&&xe){var nn=ie(fe,!0);if(nn.length){var Kt=nn[0].xref,an=nn[0].yref;if(Kt&&an){var xn=_e(nn);Me([C(fe,Kt,"x"),C(fe,an,"y")])(on,xn)}}fe._fullLayout._noEmitSelectedAtStart?fe._fullLayout._noEmitSelectedAtStart=!1:Ht&&Ee(fe,on),bt._reselect=!1}if(!ze&&bt._deselect){var _n=bt._deselect;(function(mn,An,vn){for(var On=0;On<vn.length;On++){var Bn=vn[On];if(Bn.xaxis&&Bn.xaxis._id===mn&&Bn.yaxis&&Bn.yaxis._id===An)return!0}return!1})(Ue=_n.xref,Ve=_n.yref,st)||we(fe,Ue,Ve,Ce),Ht&&(on.points.length?Ee(fe,on):Ie(fe)),bt._deselect=!1}return{eventData:on,selectionTesters:Te}}function we(fe,xe,Te,Ce){Ce=oe(fe,[C(fe,xe,"x")],[C(fe,Te,"y")],xe+Te);for(var De=0;De<Ce.length;De++){var ze=Ce[De];ze._module.selectPoints(ze,!1)}be(fe,Ce)}function se(fe,xe,Te,Ce){for(var De,ze=0;ze<fe.length;ze++){var Ue=fe[ze];xe===Ue.xref&&Te===Ue.yref&&(De?Ce=J(De=de(De,Ue,!!Ue.subtract)):(De=[Ue],Ce=N(Ue)))}return Ce}function ie(fe,xe){for(var Te=[],Ce=fe._fullLayout,De=Ce.selections,ze=De.length,Ue=0;Ue<ze;Ue++)if(!xe||Ue===Ce._activeSelectionIndex){var Ve=De[Ue];if(Ve){var Xe,at,st,ht,bt,vt=Ve.xref,Qe=Ve.yref,nt=C(fe,vt,"x"),wt=C(fe,Qe,"y");if("rect"===Ve.type){bt=[];var Ot=Se(nt,Ve.x0),Pt=Se(nt,Ve.x1),St=Se(wt,Ve.y0),qe=Se(wt,Ve.y1);bt=[[Ot,St],[Ot,qe],[Pt,qe],[Pt,St]],Xe=Math.min(Ot,Pt),at=Math.max(Ot,Pt),st=Math.min(St,qe),ht=Math.max(St,qe),bt.xmin=Xe,bt.xmax=at,bt.ymin=st,bt.ymax=ht,bt.xref=vt,bt.yref=Qe,bt.subtract=!1,bt.isRect=!0,Te.push(bt)}else if("path"===Ve.type)for(var Ze=Ve.path.split("Z"),Ne=[],Ge=0;Ge<Ze.length;Ge++){var rt=Ze[Ge];if(rt){rt+="Z";var tt=u.extractPathCoords(rt,d.paramIsX,"raw"),Re=u.extractPathCoords(rt,d.paramIsY,"raw");Xe=1/0,at=-1/0,st=1/0,ht=-1/0,bt=[];for(var Fe=0;Fe<tt.length;Fe++){var et=Se(nt,tt[Fe]),We=Se(wt,Re[Fe]);bt.push([et,We]),Xe=Math.min(et,Xe),at=Math.max(et,at),st=Math.min(We,st),ht=Math.max(We,ht)}bt.xmin=Xe,bt.xmax=at,bt.ymin=st,bt.ymax=ht,bt.xref=vt,bt.yref=Qe,bt.subtract=he(bt,Ne),Ne.push(bt),Te.push(bt)}}}}return Te}function he(fe,xe){for(var Te=!1,Ce=0;Ce<xe.length;Ce++)for(var De=xe[Ce],ze=0;ze<fe.length;ze++)if(k(fe[ze],De)){Te=!Te;break}return Te}function Se(fe,xe){return"date"===fe.type&&(xe=xe.replace("_"," ")),"log"===fe.type?fe.c2p(xe):fe.r2p(xe,null,fe.calendar)}function _e(fe){for(var xe=fe.length,Te=[],Ce=0;Ce<xe;Ce++){var De=fe[Ce];Te=(Te=Te.concat(De)).concat([De[0]])}return(ze=Te).isRect=5===ze.length&&ze[0][0]===ze[4][0]&&ze[0][1]===ze[4][1]&&ze[0][0]===ze[1][0]&&ze[2][0]===ze[3][0]&&ze[0][1]===ze[3][1]&&ze[1][1]===ze[2][1]||ze[0][1]===ze[1][1]&&ze[2][1]===ze[3][1]&&ze[0][0]===ze[3][0]&&ze[1][0]===ze[2][0],ze.isRect&&(ze.xmin=Math.min(ze[0][0],ze[2][0]),ze.xmax=Math.max(ze[0][0],ze[2][0]),ze.ymin=Math.min(ze[0][1],ze[2][1]),ze.ymax=Math.max(ze[0][1],ze[2][1])),ze;var ze}function Me(fe){return function(xe,Te){for(var Ce,De,ze=0;ze<fe.length;ze++){var Ue=fe[ze],Ve=Ue._id,Xe=Ve.charAt(0);if(Te.isRect){Ce||(Ce={});var at=Te[Xe+"min"],st=Te[Xe+"max"];void 0!==at&&void 0!==st&&(Ce[Ve]=[F(Ue,at),F(Ue,st)].sort(S))}else De||(De={}),De[Ve]=Te.map(U(Ue))}Ce&&(xe.range=Ce),De&&(xe.lassoPoints=De)}}function Ee(fe,xe){xe&&(xe.selections=(fe.layout||{}).selections||[]),fe.emit("plotly_selected",xe)}function Ie(fe){fe.emit("plotly_deselect",null)}ee.exports={reselect:ye,prepSelect:function(fe,xe,Te,Ce,De){var ze=!te(Ce),Ue=i(De),Ve=n(De),Xe=o(De),at=r(De),st=l(De),ht="drawcircle"===De,bt="drawline"===De||ht,vt=Ce.gd,Qe=vt._fullLayout,nt=st&&"immediate"===Qe.newselection.mode&&ze,wt=Qe._zoomlayer,Ot=Ce.element.getBoundingClientRect(),Pt=Ce.plotinfo,St=V(Pt),qe=xe-Ot.left,Ze=Te-Ot.top;Qe._calcInverseTransform(vt);var Ne=f.apply3DTransform(Qe._invTransform)(qe,Ze);qe=Ne[0],Ze=Ne[1];var Ge,rt,tt,Re,Fe,et,We,ct=Qe._invScaleX,pt=Qe._invScaleY,dt=qe,ut=Ze,kt="M"+qe+","+Ze,yt=Ce.xaxes[0],gt=Ce.yaxes[0],At=yt._length,Lt=gt._length,It=fe.altKey&&!(r(De)&&Xe);Q(fe,vt,Ce),Ue&&(Ge=z([[qe,Ze]],R.BENDPX));var qt=wt.selectAll("path.select-outline-"+Pt.id).data([1]),Qt=at?Qe.newshape:Qe.newselection;at&&(Ce.hasText=Qt.label.text||Qt.label.texttemplate);var Vt=at&&!Xe?Qt.fillcolor:"rgba(0,0,0,0)",Ft=Qt.line.color||(ze?b.contrast(vt._fullLayout.plot_bgcolor):"#7f7f7f");qt.enter().append("path").attr("class","select-outline select-outline-"+Pt.id).style({opacity:at?Qt.opacity/2:1,"stroke-dasharray":T(Qt.line.dash,Qt.line.width),"stroke-width":Qt.line.width+"px","shape-rendering":"crispEdges"}).call(b.stroke,Ft).call(b.fill,Vt).attr("fill-rule","evenodd").classed("cursor-move",!!at).attr("transform",St).attr("d",kt+"Z");var en=wt.append("path").attr("class","zoombox-corners").style({fill:b.background,stroke:b.defaultLine,"stroke-width":1}).attr("transform",St).attr("d","M0,0Z");if(at&&Ce.hasText){var wn=wt.select(".label-temp");wn.empty()&&(wn=wt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var kn=Qe._uid+R.SELECTID,on=[],Ht=oe(vt,Ce.xaxes,Ce.yaxes,Ce.subplot);nt&&!fe.shiftKey&&(Ce._clearSubplotSelections=function(){if(ze){var Kt=yt._id,an=gt._id;we(vt,Kt,an,Ht);for(var xn=(vt.layout||{}).selections||[],_n=[],mn=!1,An=0;An<xn.length;An++){var vn=Qe.selections[An];vn.xref!==Kt||vn.yref!==an?_n.push(xn[An]):mn=!0}mn&&(vt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",vt,{selections:_n}))}});var Kt,nn=(Kt=Ce).plotinfo.fillRangeItems||Me(Kt.xaxes.concat(Kt.yaxes));Ce.moveFn=function(Kt,an){Ce._clearSubplotSelections&&(Ce._clearSubplotSelections(),Ce._clearSubplotSelections=void 0),dt=Math.max(0,Math.min(At,ct*Kt+qe)),ut=Math.max(0,Math.min(Lt,pt*an+Ze));var xn=Math.abs(dt-qe),_n=Math.abs(ut-Ze);if(Ve){var mn,An,vn;if(st){var On=Qe.selectdirection;switch(mn="any"===On?_n<Math.min(.6*xn,j)?"h":xn<Math.min(.6*_n,j)?"v":"d":On){case"h":An=ht?Lt/2:0,vn=Lt;break;case"v":An=ht?At/2:0,vn=At}}if(at)switch(Qe.newshape.drawdirection){case"vertical":mn="h",An=ht?Lt/2:0,vn=Lt;break;case"horizontal":mn="v",An=ht?At/2:0,vn=At;break;case"ortho":xn<_n?(mn="h",An=Ze,vn=ut):(mn="v",An=qe,vn=dt);break;default:mn="d"}"h"===mn?((Re=bt?h(ht,[dt,An],[dt,vn]):[[qe,An],[qe,vn],[dt,vn],[dt,An]]).xmin=bt?dt:Math.min(qe,dt),Re.xmax=bt?dt:Math.max(qe,dt),Re.ymin=Math.min(An,vn),Re.ymax=Math.max(An,vn),en.attr("d","M"+Re.xmin+","+(Ze-j)+"h-4v"+2*j+"h4ZM"+(Re.xmax-1)+","+(Ze-j)+"h4v"+2*j+"h-4Z")):"v"===mn?((Re=bt?h(ht,[An,ut],[vn,ut]):[[An,Ze],[An,ut],[vn,ut],[vn,Ze]]).xmin=Math.min(An,vn),Re.xmax=Math.max(An,vn),Re.ymin=bt?ut:Math.min(Ze,ut),Re.ymax=bt?ut:Math.max(Ze,ut),en.attr("d","M"+(qe-j)+","+Re.ymin+"v-4h"+2*j+"v4ZM"+(qe-j)+","+(Re.ymax-1)+"v4h"+2*j+"v-4Z")):"d"===mn&&((Re=bt?h(ht,[qe,Ze],[dt,ut]):[[qe,Ze],[qe,ut],[dt,ut],[dt,Ze]]).xmin=Math.min(qe,dt),Re.xmax=Math.max(qe,dt),Re.ymin=Math.min(Ze,ut),Re.ymax=Math.max(Ze,ut),en.attr("d","M0,0Z"))}else Ue&&(Ge.addPt([dt,ut]),Re=Ge.filtered);if(Ce.selectionDefs&&Ce.selectionDefs.length?(tt=de(Ce.mergedPolygons,Re,It),Re.subtract=It,rt=J(Ce.selectionDefs.concat([Re]))):(tt=[Re],rt=N(Re)),c(ge(tt,Xe),qt,Ce),st){var Bn,er=ye(vt,!1),or=er.eventData?er.eventData.points.slice():[];er=ye(vt,!1,rt,Ht,Ce),rt=er.selectionTesters,We=er.eventData,Bn=Ge?Ge.filtered:_e(tt),E.throttle(kn,R.SELECTDELAY,function(){for(var $n=(on=Ae(rt,Ht)).slice(),qn=0;qn<or.length;qn++){for(var cr=or[qn],Nt=!1,Jt=0;Jt<$n.length;Jt++)if($n[Jt].curveNumber===cr.curveNumber&&$n[Jt].pointNumber===cr.pointNumber){Nt=!0;break}Nt||$n.push(cr)}var fn;$n.length&&(We||(We={}),We.points=$n),nn(We,Bn),fn=We,vt.emit("plotly_selecting",fn)})}},Ce.clickFn=function(Kt,an){if(en.remove(),vt._fullLayout._activeShapeIndex>=0)vt._fullLayout._deactivateShape(vt);else if(!at){var xn=Qe.clickmode;E.done(kn).then(function(){if(E.clear(kn),2===Kt){for(qt.remove(),Fe=0;Fe<Ht.length;Fe++)(et=Ht[Fe])._module.selectPoints(et,!1);if(be(vt,Ht),re(Ce),Ie(vt),Ht.length){var _n=Ht[0].xaxis,mn=Ht[0].yaxis;if(_n&&mn){for(var An=[],vn=vt._fullLayout.selections,On=0;On<vn.length;On++){var Bn=vn[On];Bn&&(Bn.xref===_n._id&&Bn.yref===mn._id||An.push(Bn))}An.length<vn.length&&(vt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",vt,{selections:An}))}}}else xn.indexOf("select")>-1&&$(an,vt,Ce.xaxes,Ce.yaxes,Ce.subplot,Ce,qt),"event"===xn&&Ee(vt,void 0);p.click(vt,an,Pt.id)}).catch(f.error)}},Ce.doneFn=function(){en.remove(),E.done(kn).then(function(){E.clear(kn),!nt&&Re&&Ce.selectionDefs&&(Re.subtract=It,Ce.selectionDefs.push(Re),Ce.mergedPolygons.length=0,[].push.apply(Ce.mergedPolygons,tt)),(nt||at)&&re(Ce,nt),Ce.doneFnCompleted&&Ce.doneFnCompleted(on),st&&Ee(vt,We)}).catch(f.error)}},clearOutline:x,clearSelectionsCache:re,selectOnClick:$}},89827:function(ee,D,e){"use strict";var M=e(50215),k=e(41940),a=e(82196).line,T=e(79952).P,b=e(1426).extendFlat,p=e(44467).templatedArray,s=(e(24695),e(9012)),t=e(5386).R,i=e(37281);ee.exports=p("shape",{visible:b({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:b({},s.legend,{editType:"calc+arraydraw"}),legendgroup:b({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:b({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:k({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:b({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:b({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:b({},M.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:b({},M.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:b({},a.color,{editType:"arraydraw"}),width:b({},a.width,{editType:"calc+arraydraw"}),dash:b({},T,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(i)}),font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(21459),T=e(30477);function b(i){return s(i.line.width,i.xsizemode,i.x0,i.x1,i.path,!1)}function p(i){return s(i.line.width,i.ysizemode,i.y0,i.y1,i.path,!0)}function s(i,n,r,o,l,u){var d=i/2,c=u;if("pixel"===n){var x=l?T.extractPathCoords(l,u?a.paramIsY:a.paramIsX):[r,o],g=M.aggNums(Math.max,null,x),h=M.aggNums(Math.min,null,x),m=h<0?Math.abs(h)+d:d,y=g>0?g+d:d;return{ppad:d,ppadplus:c?m:y,ppadminus:c?y:m}}return{ppad:d}}function t(i,n,r,o,l){var u="category"===i.type||"multicategory"===i.type?i.r2c:i.d2c;if(void 0!==n)return[u(n),u(r)];if(o){var d,c,x,g,h=1/0,m=-1/0,y=o.match(a.segmentRE);for("date"===i.type&&(u=T.decodeDate(u)),d=0;d<y.length;d++)void 0!==(c=l[y[d].charAt(0)].drawn)&&(!(x=y[d].substr(1).match(a.paramRE))||x.length<c||((g=u(x[c]))<h&&(h=g),g>m&&(m=g)));return m>=h?[h,m]:void 0}}ee.exports=function(i){var n=i._fullLayout,r=M.filterVisible(n.shapes);if(r.length&&i._fullData.length)for(var o=0;o<r.length;o++){var l,u,d=r[o];d._extremes={};var c=k.getRefType(d.xref),x=k.getRefType(d.yref);if("paper"!==d.xref&&"domain"!==c){var g="pixel"===d.xsizemode?d.xanchor:d.x0,h="pixel"===d.xsizemode?d.xanchor:d.x1;(u=t(l=k.getFromId(i,d.xref),g,h,d.path,a.paramIsX))&&(d._extremes[l._id]=k.findExtremes(l,u,b(d)))}if("paper"!==d.yref&&"domain"!==x){var m="pixel"===d.ysizemode?d.yanchor:d.y0,y="pixel"===d.ysizemode?d.yanchor:d.y1;(u=t(l=k.getFromId(i,d.yref),m,y,d.path,a.paramIsY))&&(d._extremes[l._id]=k.findExtremes(l,u,p(d)))}}}},21459:function(ee){"use strict";ee.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(85501),T=e(89827),b=e(30477);function p(s,t,i){function n(Y,F){return M.coerce(s,t,T,Y,F)}if(t._isShape=!0,n("visible")){n("showlegend")&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),M.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var r=n("path"),o=n("type",r?"path":"rect"),l="path"!==o;l&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule"),n("line.width")&&(n("line.color"),n("line.dash"));for(var u=n("xsizemode"),d=n("ysizemode"),c=["x","y"],x=0;x<2;x++){var g,h,m,y=c[x],v=y+"anchor",_="x"===y?u:d,f={_fullLayout:i},S=k.coerceRef(s,t,f,y,void 0,"paper");if("range"===k.getRefType(S)?((g=k.getFromId(f,S))._shapeIndices.push(t._index),m=b.rangeToShapePosition(g),h=b.shapePositionToRange(g)):h=m=M.identity,l){var w=y+"0",E=y+"1",C=s[w],O=s[E];s[w]=h(s[w],!0),s[E]=h(s[E],!0),"pixel"===_?(n(w,0),n(E,10)):(k.coercePosition(t,f,n,S,w,.25),k.coercePosition(t,f,n,S,E,.75)),t[w]=m(t[w]),t[E]=m(t[E]),s[w]=C,s[E]=O}if("pixel"===_){var P=s[v];s[v]=h(s[v],!0),k.coercePosition(t,f,n,S,v,.25),t[v]=m(t[v]),s[v]=P}}l&&M.noneOrAll(s,t,["x0","x1","y0","y1"]);var R,j,z="line"===o;if(l&&(R=n("label.texttemplate")),R||(j=n("label.text")),j||R){n("label.textangle");var N=n("label.textposition",z?"middle":"middle center");n("label.xanchor"),n("label.yanchor",(F=N,z?"bottom":-1!==F.indexOf("top")?"top":-1!==F.indexOf("bottom")?"bottom":"middle")),n("label.padding"),M.coerceFont(n,"label.font",i.font)}}var F}ee.exports=function(s,t){a(s,t,{name:"shapes",handleItemDefaults:p})}},48100:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(63893),T=e(91424),b=e(60165).readPaths,p=e(30477),s=p.getPathString,t=e(37281),i=e(18783).FROM_TL;ee.exports=function(n,r,o,l){if(l.selectAll(".shape-label").remove(),o.label.text||o.label.texttemplate){var u;if(o.label.texttemplate){var d={};if("path"!==o.type){var c=k.getFromId(n,o.xref),x=k.getFromId(n,o.yref);for(var g in t){var h=t[g](o,c,x);void 0!==h&&(d[g]=h)}}u=M.texttemplateStringForShapes(o.label.texttemplate,{},n._fullLayout._d3locale,d)}else u=o.label.text;var m,y,v,_,f={"data-index":r},S=o.label.font,w=l.append("g").attr(f).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(u);if(o.path){var E=s(n,o),C=b(E,n);m=1/0,v=1/0,y=-1/0,_=-1/0;for(var O=0;O<C.length;O++)for(var P=0;P<C[O].length;P++)for(var R=C[O][P],j=1;j<R.length;j+=2){var z=R[j],N=R[j+1];m=Math.min(m,z),y=Math.max(y,z),v=Math.min(v,N),_=Math.max(_,N)}}else{var Y=k.getFromId(n,o.xref),F=k.getRefType(o.xref),U=k.getFromId(n,o.yref),V=k.getRefType(o.yref),te=p.getDataToPixel(n,Y,!1,F),$=p.getDataToPixel(n,U,!0,V);m=te(o.x0),y=te(o.x1),v=$(o.y0),_=$(o.y1)}var X=o.label.textangle;"auto"===X&&(X="line"===o.type?(ae=m,oe=v,ue=y,ve=_,de=Math.abs(ue-ae),be=ue>=ae?oe-ve:ve-oe,-180/Math.PI*Math.atan2(be,de)):0),w.call(function(ae){return ae.call(T.font,S).attr({}),a.convertToTspans(ae,n),ae});var W=function(ae,oe,ue,ve,be,de,pe){var ge,Ae,ye,we,se=be.label.textposition,ie=be.label.textangle,he=be.label.padding,Se=be.type,_e=Math.PI/180*de,Me=Math.sin(_e),Ee=Math.cos(_e),Ie=be.label.xanchor,fe=be.label.yanchor;if("line"===Se){"start"===se?(ge=ae,Ae=oe):"end"===se?(ge=ue,Ae=ve):(ge=(ae+ue)/2,Ae=(oe+ve)/2),"auto"===Ie&&(Ie="start"===se?"auto"===ie?ue>ae?"left":ue<ae?"right":"center":ue>ae?"right":ue<ae?"left":"center":"end"===se?"auto"===ie?ue>ae?"right":ue<ae?"left":"center":ue>ae?"left":ue<ae?"right":"center":"center");var xe={bottom:-1,middle:0,top:1};if("auto"===ie){var Te=xe[fe];ye=-he*Me*Te,we=he*Ee*Te}else ye=he*{left:1,center:0,right:-1}[Ie],we=he*xe[fe];ge+=ye,Ae+=we}else ye=he+3,-1!==se.indexOf("right")?(ge=Math.max(ae,ue)-ye,"auto"===Ie&&(Ie="right")):-1!==se.indexOf("left")?(ge=Math.min(ae,ue)+ye,"auto"===Ie&&(Ie="left")):(ge=(ae+ue)/2,"auto"===Ie&&(Ie="center")),Ae=-1!==se.indexOf("top")?Math.min(oe,ve):-1!==se.indexOf("bottom")?Math.max(oe,ve):(oe+ve)/2,we=he,"bottom"===fe?Ae-=we:"top"===fe&&(Ae+=we);var Ce=i[fe],De=be.label.font.size,ze=pe.height;return{textx:ge+(ze*Ce-De)*Me,texty:Ae+-(ze*Ce-De)*Ee,xanchor:Ie}}(m,v,y,_,o,X,T.bBox(w.node())),J=W.textx,Q=W.texty,re=W.xanchor;w.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[re],y:Q,x:J,transform:"rotate("+X+","+J+","+Q+")"}).call(a.positionText,J,Q)}var ae,oe,ue,ve,be,de}},42359:function(ee,D,e){"use strict";var M=e(71828).strTranslate,k=e(28569),a=e(64505),T=a.drawMode,b=a.selectMode,p=e(73972),s=e(7901),t=e(89995),i=t.i000,n=t.i090,r=t.i180,o=t.i270,l=e(51873).clearOutlineControllers,u=e(60165),d=u.pointsOnRectangle,c=u.pointsOnEllipse,x=u.writePaths,g=e(90551).newShapes,h=e(90551).createShapeObj,m=e(35855),y=e(48100);function v(_,f){var S,w,E,C=_[f][1],O=_[f][2],P=_.length;return w=_[S=(f+1)%P][1],E=_[S][2],w===C&&E===O&&(w=_[S=(f+2)%P][1],E=_[S][2]),[S,w,E]}ee.exports=function _(f,S,w,E){E||(E=0);var C=w.gd;function O(){_(f,S,w,E++),(c(f[0])||w.hasText)&&P({redrawing:!0})}function P(be){var de={};void 0!==w.isActiveShape&&(w.isActiveShape=!1,de=g(S,w)),void 0!==w.isActiveSelection&&(w.isActiveSelection=!1,de=m(S,w),C._fullLayout._reselect=!0),Object.keys(de).length&&p.call((be||{}).redrawing?"relayout":"_guiRelayout",C,de)}var R,j,z,N,Y,F=C._fullLayout._zoomlayer,U=w.dragmode,V=T(U),te=b(U);if((V||te)&&(C._fullLayout._outlining=!0),l(C),S.attr("d",x(f)),E||!w.isActiveShape&&!w.isActiveSelection||(Y=function(be,de){for(var pe=0;pe<de.length;pe++){var ge=de[pe];be[pe]=[];for(var Ae=0;Ae<ge.length;Ae++){be[pe][Ae]=[];for(var ye=0;ye<ge[Ae].length;ye++)be[pe][Ae][ye]=ge[Ae][ye]}}return be}([],f),function(be){R=[];for(var de=0;de<f.length;de++){var pe=f[de],ge=d(pe),Ae=!ge&&c(pe);R[de]=[];for(var ye=pe.length,we=0;we<ye;we++)if("Z"!==pe[we][0]&&(!Ae||we===i||we===n||we===r||we===o)){var se,ie=ge&&w.isActiveSelection;ie&&(se=v(pe,we));var he=pe[we][1],Se=pe[we][2],_e=be.append(ie?"rect":"circle").attr("data-i",de).attr("data-j",we).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ie){var Me=se[1]-he,Ee=se[2]-Se,Ie=Ee?5:Math.max(Math.min(25,Math.abs(Me)-5),5),fe=Me?5:Math.max(Math.min(25,Math.abs(Ee)-5),5);_e.classed(Ee?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ie).attr("height",fe).attr("x",he-Ie/2).attr("y",Se-fe/2).attr("transform",M(Me/2,Ee/2))}else _e.classed("cursor-grab",!0).attr("r",5).attr("cx",he).attr("cy",Se);R[de][we]={element:_e.node(),gd:C,prepFn:W,doneFn:Q,clickFn:re},k.init(R[de][we])}}}(F.append("g").attr("class","outline-controllers")),j=[],f.length&&(j[0]={element:S[0][0],gd:C,prepFn:oe,doneFn:ue,clickFn:ve},k.init(j[0]))),V&&w.hasText){var $=F.select(".label-temp"),X=h(S,w,w.dragmode);y(C,"label-temp",X,$)}function W(be){z=+be.srcElement.getAttribute("data-i"),N=+be.srcElement.getAttribute("data-j"),R[z][N].moveFn=J}function J(be,de){if(f.length){var pe=Y[z][N][1],ge=Y[z][N][2],Ae=f[z],ye=Ae.length;if(d(Ae)){var we=be,se=de;w.isActiveSelection&&(v(Ae,N)[1]===Ae[N][1]?se=0:we=0);for(var ie=0;ie<ye;ie++)if(ie!==N){var he=Ae[ie];he[1]===Ae[N][1]&&(he[1]=pe+we),he[2]===Ae[N][2]&&(he[2]=ge+se)}if(Ae[N][1]=pe+we,Ae[N][2]=ge+se,!d(Ae))for(var Se=0;Se<ye;Se++)for(var _e=0;_e<Ae[Se].length;_e++)Ae[Se][_e]=Y[z][Se][_e]}else Ae[N][1]=pe+be,Ae[N][2]=ge+de;O()}}function Q(){P()}function re(be,de){if(2===be){z=+de.srcElement.getAttribute("data-i"),N=+de.srcElement.getAttribute("data-j");var pe=f[z];d(pe)||c(pe)||function(){if(f.length&&f[z]&&f[z].length){for(var ge=[],Ae=0;Ae<f[z].length;Ae++)Ae!==N&&ge.push(f[z][Ae]);ge.length>1&&(2!==ge.length||"Z"!==ge[1][0])&&(0===N&&(ge[0][0]="M"),f[z]=ge,O(),P())}}()}}function ae(be,de){(function(pe,ge){if(f.length)for(var Ae=0;Ae<f.length;Ae++)for(var ye=0;ye<f[Ae].length;ye++)for(var we=0;we+2<f[Ae][ye].length;we+=2)f[Ae][ye][we+1]=Y[Ae][ye][we+1]+pe,f[Ae][ye][we+2]=Y[Ae][ye][we+2]+ge})(be,de),O()}function oe(be){(z=+be.srcElement.getAttribute("data-i"))||(z=0),j[z].moveFn=ae}function ue(){P()}function ve(be){2===be&&function(de){if(b(de._fullLayout.dragmode)){l(de);var pe=de._fullLayout._activeSelectionIndex,ge=(de.layout||{}).selections||[];if(pe<ge.length){for(var Ae=[],ye=0;ye<ge.length;ye++)ye!==pe&&Ae.push(ge[ye]);delete de._fullLayout._activeSelectionIndex;var we=de._fullLayout.selections[pe];de._fullLayout._deselect={xref:we.xref,yref:we.yref},p.call("_guiRelayout",de,{selections:Ae})}}}(C)}}},34031:function(ee,D,e){"use strict";var M=e(39898),k=e(73972),a=e(71828),T=e(89298),b=e(60165).readPaths,p=e(42359),s=e(48100),t=e(51873).clearOutlineControllers,i=e(7901),n=e(91424),r=e(44467).arrayEditor,o=e(28569),l=e(6964),u=e(21459),d=e(30477),c=d.getPathString;function x(f){var S=f._fullLayout;for(var w in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove(),S._plots){var E=S._plots[w].shapelayer;E&&(E.selectAll("path").remove(),E.selectAll("text").remove())}for(var C=0;C<S.shapes.length;C++)!0===S.shapes[C].visible&&m(f,C)}function g(f){return!!f._fullLayout._outlining}function h(f){return!f._context.edits.shapePosition}function m(f,S){f._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var w=d.makeShapesOptionsAndPlotinfo(f,S),E=w.options,C=w.plotinfo;function O(P){var R=c(f,E),j={"data-index":S,"fill-rule":E.fillrule,d:R},z=E.opacity,N=E.fillcolor,Y=E.line.width?E.line.color:"rgba(0,0,0,0)",F=E.line.width,U=E.line.dash;F||!0!==E.editable||(F=5,U="solid");var V="Z"!==R[R.length-1],te=h(f)&&E.editable&&f._fullLayout._activeShapeIndex===S;te&&(N=V?"rgba(0,0,0,0)":f._fullLayout.activeshape.fillcolor,z=f._fullLayout.activeshape.opacity);var $,X=P.append("g").classed("shape-group",!0).attr({"data-index":S}),W=X.append("path").attr(j).style("opacity",z).call(i.stroke,Y).call(i.fill,N).call(n.dashLine,U,F);if(y(X,f,E),s(f,S,E,X),(te||f._context.edits.shapePosition)&&($=r(f.layout,"shapes",E)),te){W.style({cursor:"move"});var J={element:W.node(),plotinfo:C,gd:f,editHelpers:$,hasText:E.label.text||E.label.texttemplate,isActiveShape:!0},Q=b(R,f);p(Q,W,J)}else f._context.edits.shapePosition?function(re,ae,oe,ue,ve,be){var de,pe,ge,Ae,ye,we,se,ie,he,Se,_e,Me,Ee,Ie,fe,xe,Te=10,Ce=10,De="pixel"===oe.xsizemode,ze="pixel"===oe.ysizemode,Ue="line"===oe.type,Ve="path"===oe.type,Xe=be.modifyItem,at=M.select(ae.node().parentNode),st=T.getFromId(re,oe.xref),ht=T.getRefType(oe.xref),bt=T.getFromId(re,oe.yref),vt=T.getRefType(oe.yref),Qe=d.getDataToPixel(re,st,!1,ht),nt=d.getDataToPixel(re,bt,!0,vt),wt=d.getPixelToData(re,st,!1,ht),Ot=d.getPixelToData(re,bt,!0,vt),Pt=Ue?function(){var tt=10,Re=Math.max(oe.line.width,tt),Fe=ve.append("g").attr("data-index",ue).attr("drag-helper",!0);Fe.append("path").attr("d",ae.attr("d")).style({cursor:"move","stroke-width":Re,"stroke-opacity":"0"});var et={"fill-opacity":"0"},We=Math.max(Re/2,tt);return Fe.append("circle").attr({"data-line-point":"start-point",cx:De?Qe(oe.xanchor)+oe.x0:Qe(oe.x0),cy:ze?nt(oe.yanchor)-oe.y0:nt(oe.y0),r:We}).style(et).classed("cursor-grab",!0),Fe.append("circle").attr({"data-line-point":"end-point",cx:De?Qe(oe.xanchor)+oe.x1:Qe(oe.x1),cy:ze?nt(oe.yanchor)-oe.y1:nt(oe.y1),r:We}).style(et).classed("cursor-grab",!0),Fe}():ae,St={element:Pt.node(),gd:re,prepFn:function(tt){var Re,Fe,et,We,ct,pt,dt,ut;g(re)||(De&&(ye=Qe(oe.xanchor)),ze&&(we=nt(oe.yanchor)),"path"===oe.type?fe=oe.path:(de=De?oe.x0:Qe(oe.x0),pe=ze?oe.y0:nt(oe.y0),ge=De?oe.x1:Qe(oe.x1),Ae=ze?oe.y1:nt(oe.y1)),de<ge?(he=de,Ee="x0",Se=ge,Ie="x1"):(he=ge,Ee="x1",Se=de,Ie="x0"),!ze&&pe<Ae||ze&&pe>Ae?(se=pe,_e="y0",ie=Ae,Me="y1"):(se=Ae,_e="y1",ie=pe,Me="y0"),qe(tt),Ge(ve,oe),Re=ae,et=re,We=(Fe=oe).xref,ct=Fe.yref,pt=T.getFromId(et,We),dt=T.getFromId(et,ct),ut="","paper"===We||pt.autorange||(ut+=We),"paper"===ct||dt.autorange||(ut+=ct),n.setClipUrl(Re,ut?"clip"+et._fullLayout._uid+ut:null,et),St.moveFn="move"===xe?Ze:Ne,St.altKey=tt.altKey)},doneFn:function(){g(re)||(l(ae),rt(ve),y(ae,re,oe),k.call("_guiRelayout",re,be.getUpdateObj()))},clickFn:function(){g(re)||rt(ve)}};function qe(tt){if(g(re))xe=null;else if(Ue)xe="path"===tt.target.tagName?"move":"start-point"===tt.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Re=St.element.getBoundingClientRect(),Fe=Re.right-Re.left,et=Re.bottom-Re.top,We=tt.clientX-Re.left,ct=tt.clientY-Re.top,pt=!Ve&&Fe>Te&&et>Ce&&!tt.shiftKey?o.getCursor(We/Fe,1-ct/et):"move";l(ae,pt),xe=pt.split("-")[0]}}function Ze(tt,Re){if("path"===oe.type){var Fe=function(ct){return ct},et=Fe,We=Fe;De?Xe("xanchor",oe.xanchor=wt(ye+tt)):(et=function(ct){return wt(Qe(ct)+tt)},st&&"date"===st.type&&(et=d.encodeDate(et))),ze?Xe("yanchor",oe.yanchor=Ot(we+Re)):(We=function(ct){return Ot(nt(ct)+Re)},bt&&"date"===bt.type&&(We=d.encodeDate(We))),Xe("path",oe.path=v(fe,et,We))}else De?Xe("xanchor",oe.xanchor=wt(ye+tt)):(Xe("x0",oe.x0=wt(de+tt)),Xe("x1",oe.x1=wt(ge+tt))),ze?Xe("yanchor",oe.yanchor=Ot(we+Re)):(Xe("y0",oe.y0=Ot(pe+Re)),Xe("y1",oe.y1=Ot(Ae+Re)));ae.attr("d",c(re,oe)),Ge(ve,oe),s(re,ue,oe,at)}function Ne(tt,Re){if(Ve){var Fe=function(Ft){return Ft},et=Fe,We=Fe;De?Xe("xanchor",oe.xanchor=wt(ye+tt)):(et=function(Ft){return wt(Qe(Ft)+tt)},st&&"date"===st.type&&(et=d.encodeDate(et))),ze?Xe("yanchor",oe.yanchor=Ot(we+Re)):(We=function(Ft){return Ot(nt(Ft)+Re)},bt&&"date"===bt.type&&(We=d.encodeDate(We))),Xe("path",oe.path=v(fe,et,We))}else if(Ue){if("resize-over-start-point"===xe){var ct=de+tt,pt=ze?pe-Re:pe+Re;Xe("x0",oe.x0=De?ct:wt(ct)),Xe("y0",oe.y0=ze?pt:Ot(pt))}else if("resize-over-end-point"===xe){var dt=ge+tt,ut=ze?Ae-Re:Ae+Re;Xe("x1",oe.x1=De?dt:wt(dt)),Xe("y1",oe.y1=ze?ut:Ot(ut))}}else{var kt=function(Ft){return-1!==xe.indexOf(Ft)},yt=kt("n"),gt=kt("s"),At=kt("w"),Lt=kt("e"),It=yt?se+Re:se,qt=gt?ie+Re:ie,Qt=At?he+tt:he,Vt=Lt?Se+tt:Se;ze&&(yt&&(It=se-Re),gt&&(qt=ie-Re)),(!ze&&qt-It>Ce||ze&&It-qt>Ce)&&(Xe(_e,oe[_e]=ze?It:Ot(It)),Xe(Me,oe[Me]=ze?qt:Ot(qt))),Vt-Qt>Te&&(Xe(Ee,oe[Ee]=De?Qt:wt(Qt)),Xe(Ie,oe[Ie]=De?Vt:wt(Vt)))}ae.attr("d",c(re,oe)),Ge(ve,oe),s(re,ue,oe,at)}function Ge(tt,Re){(De||ze)&&function(){var Fe="path"!==Re.type,et=tt.selectAll(".visual-cue").data([0]);et.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var We=Qe(De?Re.xanchor:a.midRange(Fe?[Re.x0,Re.x1]:d.extractPathCoords(Re.path,u.paramIsX))),ct=nt(ze?Re.yanchor:a.midRange(Fe?[Re.y0,Re.y1]:d.extractPathCoords(Re.path,u.paramIsY)));if(We=d.roundPositionForSharpStrokeRendering(We,1),ct=d.roundPositionForSharpStrokeRendering(ct,1),De&&ze){var pt="M"+(We-1-1)+","+(ct-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";et.attr("d",pt)}else if(De){var dt="M"+(We-1-1)+","+(ct-9-1)+"v18 h2 v-18 Z";et.attr("d",dt)}else{var ut="M"+(We-9-1)+","+(ct-1-1)+"h18 v2 h-18 Z";et.attr("d",ut)}}()}function rt(tt){tt.selectAll(".visual-cue").remove()}o.init(St),Pt.node().onmousemove=qe}(f,W,E,S,P,$):!0===E.editable&&W.style("pointer-events",V||i.opacity(N)*z<=.5?"stroke":"all");W.node().addEventListener("click",function(){return function(re,ae){if(h(re)){var oe=+ae.node().getAttribute("data-index");if(oe>=0){if(oe===re._fullLayout._activeShapeIndex)return void _(re);re._fullLayout._activeShapeIndex=oe,re._fullLayout._deactivateShape=_,x(re)}}}(f,W)})}E._input&&!0===E.visible&&("below"!==E.layer?O(f._fullLayout._shapeUpperLayer):"paper"===E.xref||"paper"===E.yref?O(f._fullLayout._shapeLowerLayer):C._hadPlotinfo?O((C.mainplotinfo||C).shapelayer):O(f._fullLayout._shapeLowerLayer))}function y(f,S,w){var E=(w.xref+w.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");n.setClipUrl(f,E?"clip"+S._fullLayout._uid+E:null,S)}function v(f,S,w){return f.replace(u.segmentRE,function(E){var C=0,O=E.charAt(0),P=u.paramIsX[O],R=u.paramIsY[O],j=u.numParams[O];return O+E.substr(1).replace(u.paramRE,function(z){return C>=j||(P[C]?z=S(z):R[C]&&(z=w(z)),C++),z})})}function _(f){h(f)&&f._fullLayout._activeShapeIndex>=0&&(t(f),delete f._fullLayout._activeShapeIndex,x(f))}ee.exports={draw:x,drawOne:m,eraseActiveShape:function(f){if(h(f)){t(f);var S=f._fullLayout._activeShapeIndex,w=(f.layout||{}).shapes||[];if(S<w.length){for(var E=[],C=0;C<w.length;C++)C!==S&&E.push(w[C]);return delete f._fullLayout._activeShapeIndex,k.call("_guiRelayout",f,{shapes:E})}}},drawLabel:s}},29241:function(ee,D,e){"use strict";var M=e(30962).overrideAll,k=e(9012),a=e(41940),T=e(79952).P,b=e(1426).extendFlat,p=e(5386).R,s=e(37281);ee.exports=M({newshape:{visible:b({},k.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:b({},k.legend,{}),legendgroup:b({},k.legendgroup,{}),legendgrouptitle:{text:b({},k.legendgrouptitle.text,{}),font:a({})},legendrank:b({},k.legendrank,{}),legendwidth:b({},k.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:b({},T,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:b({},k.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:p({newshape:!0},{keys:Object.keys(s)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(ee){"use strict";ee.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(ee,D,e){"use strict";var M=e(7901),k=e(71828);ee.exports=function(a,T,b){if(b("newshape.visible"),b("newshape.name"),b("newshape.showlegend"),b("newshape.legend"),b("newshape.legendwidth"),b("newshape.legendgroup"),b("newshape.legendgrouptitle.text"),k.coerceFont(b,"newshape.legendgrouptitle.font"),b("newshape.legendrank"),b("newshape.drawdirection"),b("newshape.layer"),b("newshape.fillcolor"),b("newshape.fillrule"),b("newshape.opacity"),b("newshape.line.width")){var p=(a||{}).plot_bgcolor||"#FFF";b("newshape.line.color",M.contrast(p)),b("newshape.line.dash")}var o,s="drawline"===a.dragmode,t=b("newshape.label.text"),i=b("newshape.label.texttemplate");if(t||i){b("newshape.label.textangle");var n=b("newshape.label.textposition",s?"middle":"middle center");b("newshape.label.xanchor"),b("newshape.label.yanchor",(o=n,s?"bottom":-1!==o.indexOf("top")?"top":-1!==o.indexOf("bottom")?"bottom":"middle")),b("newshape.label.padding"),k.coerceFont(b,"newshape.label.font",T.font)}b("activeshape.fillcolor"),b("activeshape.opacity")}},60165:function(ee,D,e){"use strict";var M=e(95616),k=e(89995),a=k.CIRCLE_SIDES,T=k.SQRT2,b=e(75549),p=b.p2r,s=b.r2p,t=[0,3,4,5,6,1,2],i=[0,3,4,1,2];function n(o,l){return Math.abs(o-l)<=1e-6}function r(o,l){var u=l[1]-o[1],d=l[2]-o[2];return Math.sqrt(u*u+d*d)}D.writePaths=function(o){var l=o.length;if(!l)return"M0,0Z";for(var u="",d=0;d<l;d++)for(var c=o[d].length,x=0;x<c;x++){var g=o[d][x][0];if("Z"===g)u+="Z";else for(var h=o[d][x].length,m=0;m<h;m++){var y=m;"Q"===g||"S"===g?y=i[m]:"C"===g&&(y=t[m]),u+=o[d][x][y],m>0&&m<h-1&&(u+=",")}}return u},D.readPaths=function(o,l,u,d){var c,x,g,h=M(o),m=[],y=-1,v=0,_=0,f=function(){x=v,g=_};f();for(var S=0;S<h.length;S++){var w,E,C,O,P=[],R=h[S][0],j=R;switch(R){case"M":m[++y]=[],v=+h[S][1],_=+h[S][2],P.push([j,v,_]),f();break;case"Q":case"S":w=+h[S][1],C=+h[S][2],v=+h[S][3],_=+h[S][4],P.push([j,v,_,w,C]);break;case"C":w=+h[S][1],C=+h[S][2],E=+h[S][3],O=+h[S][4],v=+h[S][5],_=+h[S][6],P.push([j,v,_,w,C,E,O]);break;case"T":case"L":v=+h[S][1],_=+h[S][2],P.push([j,v,_]);break;case"H":j="L",v=+h[S][1],P.push([j,v,_]);break;case"V":j="L",_=+h[S][1],P.push([j,v,_]);break;case"A":j="L";var z=+h[S][1],N=+h[S][2];+h[S][4]||(z=-z,N=-N);var Y=v-z,F=_;for(c=1;c<=a/2;c++){var U=2*Math.PI*c/a;P.push([j,Y+z*Math.cos(U),F+N*Math.sin(U)])}break;case"Z":v===x&&_===g||(v=x,_=g,P.push([j,v,_]))}for(var V=(u||{}).domain,te=l._fullLayout._size,$=u&&"pixel"===u.xsizemode,X=u&&"pixel"===u.ysizemode,W=!1===d,J=0;J<P.length;J++){for(c=0;c+2<7;c+=2){var Q=P[J][c+1],re=P[J][c+2];void 0!==Q&&void 0!==re&&(v=Q,_=re,u&&(u.xaxis&&u.xaxis.p2r?(W&&(Q-=u.xaxis._offset),Q=$?s(u.xaxis,u.xanchor)+Q:p(u.xaxis,Q)):(W&&(Q-=te.l),V?Q=V.x[0]+Q/te.w:Q/=te.w),u.yaxis&&u.yaxis.p2r?(W&&(re-=u.yaxis._offset),re=X?s(u.yaxis,u.yanchor)-re:p(u.yaxis,re)):(W&&(re-=te.t),re=V?V.y[1]-re/te.h:1-re/te.h)),P[J][c+1]=Q,P[J][c+2]=re)}m[y].push(P[J].slice())}}return m},D.pointsOnRectangle=function(o){if(5!==o.length)return!1;for(var l=1;l<3;l++)if(!n(o[0][l]-o[1][l],o[3][l]-o[2][l])||!n(o[0][l]-o[3][l],o[1][l]-o[2][l]))return!1;return!(!n(o[0][1],o[1][1])&&!n(o[0][1],o[3][1])||!(r(o[0],o[1])*r(o[0],o[3])))},D.pointsOnEllipse=function(o){var l=o.length;if(l!==a+1)return!1;l=a;for(var u=0;u<l;u++){var d=(2*l-u)%l,c=(l/2+d)%l,x=(l/2+u)%l;if(!n(r(o[u],o[x]),r(o[d],o[c])))return!1}return!0},D.handleEllipse=function(o,l,u){if(!o)return[l,u];var d=D.ellipseOver({x0:l[0],y0:l[1],x1:u[0],y1:u[1]}),c=(d.x1+d.x0)/2,x=(d.y1+d.y0)/2,g=(d.x1-d.x0)/2,h=(d.y1-d.y0)/2;g||(g=h/=T),h||(h=g/=T);for(var m=[],y=0;y<a;y++){var v=2*y*Math.PI/a;m.push([c+g*Math.cos(v),x+h*Math.sin(v)])}return m},D.ellipseOver=function(o){var l=o.x0,u=o.y0,d=o.x1,c=o.y1,x=d-l,g=c-u,h=((l-=x)+d)/2,m=((u-=g)+c)/2;return{x0:h-(x*=T),y0:m-(g*=T),x1:h+x,y1:m+g}},D.fixDatesForPaths=function(o,l,u){var d="date"===l.type,c="date"===u.type;if(!d&&!c)return o;for(var x=0;x<o.length;x++)for(var g=0;g<o[x].length;g++)for(var h=0;h+2<o[x][g].length;h+=2)d&&(o[x][g][h+1]=o[x][g][h+1].replace(" ","_")),c&&(o[x][g][h+2]=o[x][g][h+2].replace(" ","_"));return o}},90551:function(ee,D,e){"use strict";var M=e(64505),k=M.drawMode,a=M.openMode,T=e(89995),b=T.i000,p=T.i090,s=T.i180,t=T.i270,i=T.cos45,n=T.sin45,r=e(75549),o=r.p2r,l=r.r2p,u=e(51873).clearOutline,d=e(60165),c=d.readPaths,x=d.writePaths,g=d.ellipseOver,h=d.fixDatesForPaths;function m(y,v,_){var f,S=y[0][0],w=v.gd,E=S.getAttribute("d"),C=w._fullLayout.newshape,O=v.plotinfo,P=v.isActiveShape,R=O.xaxis,j=O.yaxis,z=!!O.domain||!O.xaxis,N=!!O.domain||!O.yaxis,Y=a(_),F=c(E,w,O,P),U={editable:!0,visible:C.visible,name:C.name,showlegend:C.showlegend,legend:C.legend,legendwidth:C.legendwidth,legendgroup:C.legendgroup,legendgrouptitle:{text:C.legendgrouptitle.text,font:C.legendgrouptitle.font},legendrank:C.legendrank,label:C.label,xref:z?"paper":R._id,yref:N?"paper":j._id,layer:C.layer,opacity:C.opacity,line:{color:C.line.color,width:C.line.width,dash:C.line.dash}};if(Y||(U.fillcolor=C.fillcolor,U.fillrule=C.fillrule),1===F.length&&(f=F[0]),f&&5===f.length&&"drawrect"===_)U.type="rect",U.x0=f[0][1],U.y0=f[0][2],U.x1=f[2][1],U.y1=f[2][2];else if(f&&"drawline"===_)U.type="line",U.x0=f[0][1],U.y0=f[0][2],U.x1=f[1][1],U.y1=f[1][2];else if(f&&"drawcircle"===_){U.type="circle";var V=f[b][1],te=f[p][1],$=f[s][1],X=f[t][1],W=f[b][2],J=f[p][2],Q=f[s][2],re=f[t][2],ae=O.xaxis&&("date"===O.xaxis.type||"log"===O.xaxis.type),oe=O.yaxis&&("date"===O.yaxis.type||"log"===O.yaxis.type);ae&&(V=l(O.xaxis,V),te=l(O.xaxis,te),$=l(O.xaxis,$),X=l(O.xaxis,X)),oe&&(W=l(O.yaxis,W),J=l(O.yaxis,J),Q=l(O.yaxis,Q),re=l(O.yaxis,re));var ue=(te+X)/2,ve=(W+Q)/2,be=g({x0:ue,y0:ve,x1:ue+(X-te+$-V)/2*i,y1:ve+(re-J+Q-W)/2*n});ae&&(be.x0=o(O.xaxis,be.x0),be.x1=o(O.xaxis,be.x1)),oe&&(be.y0=o(O.yaxis,be.y0),be.y1=o(O.yaxis,be.y1)),U.x0=be.x0,U.y0=be.y0,U.x1=be.x1,U.y1=be.y1}else U.type="path",R&&j&&h(F,R,j),U.path=x(F),f=null;return U}ee.exports={newShapes:function(y,v){if(y.length&&y[0][0]){var _=v.gd,f=v.isActiveShape,S=v.dragmode,w=(_.layout||{}).shapes||[];if(!k(S)&&void 0!==f){var E=_._fullLayout._activeShapeIndex;if(E<w.length)switch(_._fullLayout.shapes[E].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var C=w[E].path||"";S="Z"===C[C.length-1]?"drawclosedpath":"drawopenpath"}}var O=m(y,v,S);u(_);for(var P=v.editHelpers,R=(P||{}).modifyItem,j=[],z=0;z<w.length;z++){var N=_._fullLayout.shapes[z];if(j[z]=N._input,void 0!==f&&z===_._fullLayout._activeShapeIndex){var Y=O;switch(N.type){case"line":case"rect":case"circle":R("x0",Y.x0),R("x1",Y.x1),R("y0",Y.y0),R("y1",Y.y1);break;case"path":R("path",Y.path)}}}return void 0===f?(j.push(O),j):P?P.getUpdateObj():{}}},createShapeObj:m}},51873:function(ee){"use strict";ee.exports={clearOutlineControllers:function(D){var e=D._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(D){var e=D._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),D._fullLayout._outlining=!1}}},30477:function(ee,D,e){"use strict";var M=e(21459),k=e(71828),a=e(89298);D.rangeToShapePosition=function(T){return"log"===T.type?T.r2d:function(b){return b}},D.shapePositionToRange=function(T){return"log"===T.type?T.d2r:function(b){return b}},D.decodeDate=function(T){return function(b){return b.replace&&(b=b.replace("_"," ")),T(b)}},D.encodeDate=function(T){return function(b){return T(b).replace(" ","_")}},D.extractPathCoords=function(T,b,p){var s=[];return T.match(M.segmentRE).forEach(function(t){var i=b[t.charAt(0)].drawn;if(void 0!==i){var n=t.substr(1).match(M.paramRE);if(n&&!(n.length<i)){var r=n[i],o=p?r:k.cleanNumber(r);s.push(o)}}}),s},D.getDataToPixel=function(T,b,p,s){var t,i=T._fullLayout._size;if(b)if("domain"===s)t=function(r){return b._length*(p?1-r:r)+b._offset};else{var n=D.shapePositionToRange(b);t=function(r){return b._offset+b.r2p(n(r,!0))},"date"===b.type&&(t=D.decodeDate(t))}else t=p?function(r){return i.t+i.h*(1-r)}:function(r){return i.l+i.w*r};return t},D.getPixelToData=function(T,b,p,s){var t,i=T._fullLayout._size;if(b)if("domain"===s)t=function(r){var o=(r-b._offset)/b._length;return p?1-o:o};else{var n=D.rangeToShapePosition(b);t=function(r){return n(b.p2r(r-b._offset))}}else t=p?function(r){return 1-(r-i.t)/i.h}:function(r){return(r-i.l)/i.w};return t},D.roundPositionForSharpStrokeRendering=function(T,b){var p=1===Math.round(b%2),s=Math.round(T);return p?s+.5:s},D.makeShapesOptionsAndPlotinfo=function(T,b){var p=T._fullLayout.shapes[b]||{},s=T._fullLayout._plots[p.xref+p.yref];return s?s._hadPlotinfo=!0:(s={},p.xref&&"paper"!==p.xref&&(s.xaxis=T._fullLayout[p.xref+"axis"]),p.yref&&"paper"!==p.yref&&(s.yaxis=T._fullLayout[p.yref+"axis"])),s.xsizemode=p.xsizemode,s.ysizemode=p.ysizemode,s.xanchor=p.xanchor,s.yanchor=p.yanchor,{options:p,plotinfo:s}},D.makeSelectionsOptionsAndPlotinfo=function(T,b){var p=T._fullLayout.selections[b]||{},s=T._fullLayout._plots[p.xref+p.yref];return s?s._hadPlotinfo=!0:(s={},p.xref&&(s.xaxis=T._fullLayout[p.xref+"axis"]),p.yref&&(s.yaxis=T._fullLayout[p.yref+"axis"])),{options:p,plotinfo:s}},D.getPathString=function(T,b){var p,s,t,i,n,r,o,l,C,O,P,R,j,z,N,Y,u=b.type,d=a.getRefType(b.xref),c=a.getRefType(b.yref),x=a.getFromId(T,b.xref),g=a.getFromId(T,b.yref),h=T._fullLayout._size;if(x?"domain"===d?s=function(C){return x._offset+x._length*C}:(p=D.shapePositionToRange(x),s=function(C){return x._offset+x.r2p(p(C,!0))}):s=function(C){return h.l+h.w*C},g?"domain"===c?i=function(C){return g._offset+g._length*(1-C)}:(t=D.shapePositionToRange(g),i=function(C){return g._offset+g.r2p(t(C,!0))}):i=function(C){return h.t+h.h*(1-C)},"path"===u)return x&&"date"===x.type&&(s=D.decodeDate(s)),g&&"date"===g.type&&(i=D.decodeDate(i)),O=s,P=i,R=(C=b).path,j=C.xsizemode,z=C.ysizemode,N=C.xanchor,Y=C.yanchor,R.replace(M.segmentRE,function(F){var U=0,V=F.charAt(0),te=M.paramIsX[V],$=M.paramIsY[V],X=M.numParams[V],W=F.substr(1).replace(M.paramRE,function(J){return te[U]?J="pixel"===j?O(N)+Number(J):O(J):$[U]&&(J="pixel"===z?P(Y)-Number(J):P(J)),++U>X&&(J="X"),J});return U>X&&(W=W.replace(/[\s,]*X.*/,""),k.log("Ignoring extra params in segment "+F)),V+W});if("pixel"===b.xsizemode){var m=s(b.xanchor);n=m+b.x0,r=m+b.x1}else n=s(b.x0),r=s(b.x1);if("pixel"===b.ysizemode){var y=i(b.yanchor);o=y-b.y0,l=y-b.y1}else o=i(b.y0),l=i(b.y1);if("line"===u)return"M"+n+","+o+"L"+r+","+l;if("rect"===u)return"M"+n+","+o+"H"+r+"V"+l+"H"+n+"Z";var v=(n+r)/2,_=(o+l)/2,f=Math.abs(v-n),S=Math.abs(_-o),w="A"+f+","+S,E=v+f+","+_;return"M"+E+w+" 0 1,1 "+v+","+(_-S)+w+" 0 0,1 "+E+"Z"}},89853:function(ee,D,e){"use strict";var M=e(34031);ee.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:M.draw,drawOne:M.drawOne}},37281:function(ee){"use strict";function D(a,T){return T?T.d2l(a):a}function e(a,T){return T?T.l2d(a):a}function M(a,T){return D(a.x1,T)-D(a.x0,T)}function k(a,T,b){return D(a.y1,b)-D(a.y0,b)}ee.exports={x0:function(a){return a.x0},x1:function(a){return a.x1},y0:function(a){return a.y0},y1:function(a){return a.y1},slope:function(a,T,b){return"line"!==a.type?void 0:k(a,0,b)/M(a,T)},dx:M,dy:k,width:function(a,T){return Math.abs(M(a,T))},height:function(a,T,b){return Math.abs(k(a,0,b))},length:function(a,T,b){return"line"!==a.type?void 0:Math.sqrt(Math.pow(M(a,T),2)+Math.pow(k(a,0,b),2))},xcenter:function(a,T){return e((D(a.x1,T)+D(a.x0,T))/2,T)},ycenter:function(a,T,b){return e((D(a.y1,b)+D(a.y0,b))/2,b)}}},75067:function(ee,D,e){"use strict";var M=e(41940),k=e(35025),a=e(1426).extendDeepAll,T=e(30962).overrideAll,b=e(85594),p=e(44467).templatedArray,s=e(98292),t=p("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});ee.exports=T(p("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(k({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:b.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:M({})},font:M({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")},98292:function(ee){"use strict";ee.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(ee,D,e){"use strict";var M=e(71828),k=e(85501),a=e(75067),T=e(98292).name,b=a.steps;function p(t,i,n){function r(c,x){return M.coerce(t,i,a,c,x)}for(var o=k(t,i,{name:"steps",handleItemDefaults:s}),l=0,u=0;u<o.length;u++)o[u].visible&&l++;if(l<2?i.visible=!1:r("visible")){i._stepCount=l;var d=i._visibleSteps=M.filterVisible(o);(o[r("active")]||{}).visible||(i.active=d[0]._index),r("x"),r("y"),M.noneOrAll(t,i,["x","y"]),r("xanchor"),r("yanchor"),r("len"),r("lenmode"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),M.coerceFont(r,"font",n.font),r("currentvalue.visible")&&(r("currentvalue.xanchor"),r("currentvalue.prefix"),r("currentvalue.suffix"),r("currentvalue.offset"),M.coerceFont(r,"currentvalue.font",i.font)),r("transition.duration"),r("transition.easing"),r("bgcolor"),r("activebgcolor"),r("bordercolor"),r("borderwidth"),r("ticklen"),r("tickwidth"),r("tickcolor"),r("minorticklen")}}function s(t,i){function n(o,l){return M.coerce(t,i,b,o,l)}if("skip"===t.method||Array.isArray(t.args)?n("visible"):i.visible=!1){n("method"),n("args");var r=n("label","step-"+i._index);n("value",r),n("execute")}}ee.exports=function(t,i){k(t,i,{name:T,handleItemDefaults:p})}},44504:function(ee,D,e){"use strict";var M=e(39898),k=e(74875),a=e(7901),T=e(91424),b=e(71828),p=b.strTranslate,s=e(63893),t=e(44467).arrayEditor,i=e(98292),n=e(18783),r=n.LINE_SPACING,o=n.FROM_TL,l=n.FROM_BR;function u(P){return i.autoMarginIdRoot+P._index}function d(P){return P._index}function c(P,R){var j=T.tester.selectAll("g."+i.labelGroupClass).data(R._visibleSteps);j.enter().append("g").classed(i.labelGroupClass,!0);var z=0,N=0;j.each(function(J){var Q=h(M.select(this),{step:J},R).node();if(Q){var re=T.bBox(Q);N=Math.max(N,re.height),z=Math.max(z,re.width)}}),j.remove();var Y=R._dims={};Y.inputAreaWidth=Math.max(i.railWidth,i.gripHeight);var F=P._fullLayout._size;Y.lx=F.l+F.w*R.x,Y.ly=F.t+F.h*(1-R.y),"fraction"===R.lenmode?Y.outerLength=Math.round(F.w*R.len):Y.outerLength=R.len,Y.inputAreaStart=0,Y.inputAreaLength=Math.round(Y.outerLength-R.pad.l-R.pad.r);var U=(Y.inputAreaLength-2*i.stepInset)/(R._stepCount-1),V=z+i.labelPadding;if(Y.labelStride=Math.max(1,Math.ceil(V/U)),Y.labelHeight=N,Y.currentValueMaxWidth=0,Y.currentValueHeight=0,Y.currentValueTotalHeight=0,Y.currentValueMaxLines=1,R.currentvalue.visible){var te=T.tester.append("g");j.each(function(J){var Q=x(te,R,J.label),re=Q.node()&&T.bBox(Q.node())||{width:0,height:0},ae=s.lineCount(Q);Y.currentValueMaxWidth=Math.max(Y.currentValueMaxWidth,Math.ceil(re.width)),Y.currentValueHeight=Math.max(Y.currentValueHeight,Math.ceil(re.height)),Y.currentValueMaxLines=Math.max(Y.currentValueMaxLines,ae)}),Y.currentValueTotalHeight=Y.currentValueHeight+R.currentvalue.offset,te.remove()}Y.height=Y.currentValueTotalHeight+i.tickOffset+R.ticklen+i.labelOffset+Y.labelHeight+R.pad.t+R.pad.b;var $="left";b.isRightAnchor(R)&&(Y.lx-=Y.outerLength,$="right"),b.isCenterAnchor(R)&&(Y.lx-=Y.outerLength/2,$="center");var X="top";b.isBottomAnchor(R)&&(Y.ly-=Y.height,X="bottom"),b.isMiddleAnchor(R)&&(Y.ly-=Y.height/2,X="middle"),Y.outerLength=Math.ceil(Y.outerLength),Y.height=Math.ceil(Y.height),Y.lx=Math.round(Y.lx),Y.ly=Math.round(Y.ly);var W={y:R.y,b:Y.height*l[X],t:Y.height*o[X]};"fraction"===R.lenmode?(W.l=0,W.xl=R.x-R.len*o[$],W.r=0,W.xr=R.x+R.len*l[$]):(W.x=R.x,W.l=Y.outerLength*o[$],W.r=Y.outerLength*l[$]),k.autoMargin(P,u(R),W)}function x(P,R,j){if(R.currentvalue.visible){var z,N,Y=R._dims;switch(R.currentvalue.xanchor){case"right":z=Y.inputAreaLength-i.currentValueInset-Y.currentValueMaxWidth,N="left";break;case"center":z=.5*Y.inputAreaLength,N="middle";break;default:z=i.currentValueInset,N="left"}var F=b.ensureSingle(P,"text",i.labelClass,function(W){W.attr({"text-anchor":N,"data-notex":1})}),U=R.currentvalue.prefix?R.currentvalue.prefix:"";if("string"==typeof j)U+=j;else{var V=R.steps[R.active].label,te=R._gd._fullLayout._meta;te&&(V=b.templateString(V,te)),U+=V}R.currentvalue.suffix&&(U+=R.currentvalue.suffix),F.call(T.font,R.currentvalue.font).text(U).call(s.convertToTspans,R._gd);var $=s.lineCount(F),X=(Y.currentValueMaxLines+1-$)*R.currentvalue.font.size*r;return s.positionText(F,z,X),F}}function g(P,R,j){b.ensureSingle(P,"rect",i.gripRectClass,function(z){z.call(_,R,P,j).style("pointer-events","all")}).attr({width:i.gripWidth,height:i.gripHeight,rx:i.gripRadius,ry:i.gripRadius}).call(a.stroke,j.bordercolor).call(a.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px")}function h(P,R,j){var z=b.ensureSingle(P,"text",i.labelClass,function(F){F.attr({"text-anchor":"middle","data-notex":1})}),N=R.step.label,Y=j._gd._fullLayout._meta;return Y&&(N=b.templateString(N,Y)),z.call(T.font,j.font).text(N).call(s.convertToTspans,j._gd),z}function m(P,R){var j=b.ensureSingle(P,"g",i.labelsClass),z=R._dims,N=j.selectAll("g."+i.labelGroupClass).data(z.labelSteps);N.enter().append("g").classed(i.labelGroupClass,!0),N.exit().remove(),N.each(function(Y){var F=M.select(this);F.call(h,Y,R),T.setTranslate(F,w(R,Y.fraction),i.tickOffset+R.ticklen+R.font.size*r+i.labelOffset+z.currentValueTotalHeight)})}function y(P,R,j,z,N){var Y=Math.round(z*(j._stepCount-1)),F=j._visibleSteps[Y]._index;F!==j.active&&v(P,R,j,F,!0,N)}function v(P,R,j,z,N,Y){var F=j.active;j.active=z,t(P.layout,i.name,j).applyUpdate("active",z);var U=j.steps[j.active];R.call(S,j,Y),R.call(x,j),P.emit("plotly_sliderchange",{slider:j,step:j.steps[j.active],interaction:N,previousActive:F}),U&&U.method&&N&&(R._nextMethod?(R._nextMethod.step=U,R._nextMethod.doCallback=N,R._nextMethod.doTransition=Y):(R._nextMethod={step:U,doCallback:N,doTransition:Y},R._nextMethodRaf=window.requestAnimationFrame(function(){var V=R._nextMethod.step;V.method&&(V.execute&&k.executeAPICommand(P,V.method,V.args),R._nextMethod=null,R._nextMethodRaf=null)})))}function _(P,R,j){if(!R._context.staticPlot){var z=j.node(),N=M.select(R);P.on("mousedown",F),P.on("touchstart",F)}function Y(){return j.data()[0]}function F(){var U=Y();R.emit("plotly_sliderstart",{slider:U});var V=j.select("."+i.gripRectClass);M.event.stopPropagation(),M.event.preventDefault(),V.call(a.fill,U.activebgcolor);var te=E(U,M.mouse(z)[0]);function $(){var W=Y(),J=E(W,M.mouse(z)[0]);y(R,j,W,J,!1)}function X(){var W=Y();W._dragging=!1,V.call(a.fill,W.bgcolor),N.on("mouseup",null),N.on("mousemove",null),N.on("touchend",null),N.on("touchmove",null),R.emit("plotly_sliderend",{slider:W,step:W.steps[W.active]})}y(R,j,U,te,!0),U._dragging=!0,N.on("mousemove",$),N.on("touchmove",$),N.on("mouseup",X),N.on("touchend",X)}}function f(P,R){var j=P.selectAll("rect."+i.tickRectClass).data(R._visibleSteps),z=R._dims;j.enter().append("rect").classed(i.tickRectClass,!0),j.exit().remove(),j.attr({width:R.tickwidth+"px","shape-rendering":"crispEdges"}),j.each(function(N,Y){var F=Y%z.labelStride==0,U=M.select(this);U.attr({height:F?R.ticklen:R.minorticklen}).call(a.fill,R.tickcolor),T.setTranslate(U,w(R,Y/(R._stepCount-1))-.5*R.tickwidth,(F?i.tickOffset:i.minorTickOffset)+z.currentValueTotalHeight)})}function S(P,R,j){for(var z=P.select("rect."+i.gripRectClass),N=0,Y=0;Y<R._stepCount;Y++)if(R._visibleSteps[Y]._index===R.active){N=Y;break}var F=w(R,N/(R._stepCount-1));if(!R._invokingCommand){var U=z;j&&R.transition.duration>0&&(U=U.transition().duration(R.transition.duration).ease(R.transition.easing)),U.attr("transform",p(F-.5*i.gripWidth,R._dims.currentValueTotalHeight))}}function w(P,R){var j=P._dims;return j.inputAreaStart+i.stepInset+(j.inputAreaLength-2*i.stepInset)*Math.min(1,Math.max(0,R))}function E(P,R){var j=P._dims;return Math.min(1,Math.max(0,(R-i.stepInset-j.inputAreaStart)/(j.inputAreaLength-2*i.stepInset-2*j.inputAreaStart)))}function C(P,R,j){var z=j._dims,N=b.ensureSingle(P,"rect",i.railTouchRectClass,function(Y){Y.call(_,R,P,j).style("pointer-events","all")});N.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,i.tickOffset+j.ticklen+z.labelHeight)}).call(a.fill,j.bgcolor).attr("opacity",0),T.setTranslate(N,0,z.currentValueTotalHeight)}function O(P,R){var j=R._dims,z=j.inputAreaLength-2*i.railInset,N=b.ensureSingle(P,"rect",i.railRectClass);N.attr({width:z,height:i.railWidth,rx:i.railRadius,ry:i.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,R.bordercolor).call(a.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px"),T.setTranslate(N,i.railInset,.5*(j.inputAreaWidth-i.railWidth)+j.currentValueTotalHeight)}ee.exports=function(P){var R=P._context.staticPlot,j=P._fullLayout,z=function(te,$){for(var X=te[i.name],W=[],J=0;J<X.length;J++){var Q=X[J];Q.visible&&(Q._gd=$,W.push(Q))}return W}(j,P),N=j._infolayer.selectAll("g."+i.containerClassName).data(z.length>0?[0]:[]);function Y(te){te._commandObserver&&(te._commandObserver.remove(),delete te._commandObserver),k.autoMargin(P,u(te))}if(N.enter().append("g").classed(i.containerClassName,!0).style("cursor",R?null:"ew-resize"),N.exit().each(function(){M.select(this).selectAll("g."+i.groupClassName).each(Y)}).remove(),0!==z.length){var F=N.selectAll("g."+i.groupClassName).data(z,d);F.enter().append("g").classed(i.groupClassName,!0),F.exit().each(Y).remove();for(var U=0;U<z.length;U++){var V=z[U];c(P,V)}F.each(function(te){var $=M.select(this);(function(X){var W=X._dims;W.labelSteps=[];for(var J=X._stepCount,Q=0;Q<J;Q+=W.labelStride)W.labelSteps.push({fraction:Q/(J-1),step:X._visibleSteps[Q]})})(te),k.manageCommandObserver(P,te,te._visibleSteps,function(X){var W=$.data()[0];W.active!==X.index&&(W._dragging||v(P,$,W,X.index,!1,!0))}),function(X,W,J){(J.steps[J.active]||{}).visible||(J.active=J._visibleSteps[0]._index),W.call(x,J).call(O,J).call(m,J).call(f,J).call(C,X,J).call(g,X,J);var Q=J._dims;T.setTranslate(W,Q.lx+J.pad.l,Q.ly+J.pad.t),W.call(S,J,!1),W.call(x,J)}(P,M.select(this),te)})}}},23243:function(ee,D,e){"use strict";var M=e(98292);ee.exports={moduleType:"component",name:M.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(ee,D,e){"use strict";var M=e(39898),k=e(92770),a=e(74875),T=e(73972),b=e(71828),p=b.strTranslate,s=e(91424),t=e(7901),i=e(63893),n=e(37822),r=e(18783).OPPOSITE_SIDE,o=/ [XY][0-9]* /;ee.exports={draw:function(l,u,d){var c,x=d.propContainer,g=d.propName,h=d.placeholder,m=d.traceIndex,y=d.avoid||{},v=d.attributes,_=d.transform,f=d.containerGroup,S=l._fullLayout,w=1,E=!1,C=x.title,O=(C&&C.text?C.text:"").trim(),P=C&&C.font?C.font:{},R=P.family,j=P.size,z=P.color;"title.text"===g?c="titleText":-1!==g.indexOf("axis")?c="axisTitleText":g.indexOf(!0)&&(c="colorbarTitleText");var N=l._context.edits[c];""===O?w=0:O.replace(o," % ")===h.replace(o," % ")&&(w=.2,E=!0,N||(O="")),d._meta?O=b.templateString(O,d._meta):S._meta&&(O=b.templateString(O,S._meta));var Y,F=O||N;f||(f=b.ensureSingle(S._infolayer,"g","g-"+u),Y=S._hColorbarMoveTitle);var U=f.selectAll("text").data(F?[0]:[]);if(U.enter().append("text"),U.text(O).attr("class",u),U.exit().remove(),!F)return f;function V(X){b.syncOrAsync([te,$],X)}function te(X){var W;return!_&&Y&&(_={}),_?(W="",_.rotate&&(W+="rotate("+[_.rotate,v.x,v.y]+")"),(_.offset||Y)&&(W+=p(0,(_.offset||0)-(Y||0)))):W=null,X.attr("transform",W),X.style({"font-family":R,"font-size":M.round(j,2)+"px",fill:t.rgb(z),opacity:w*t.opacity(z),"font-weight":a.fontWeight}).attr(v).call(i.convertToTspans,l),a.previousPromises(l)}function $(X){var W=M.select(X.node().parentNode);if(y&&y.selection&&y.side&&O){W.attr("transform",null);var J=r[y.side],Q="left"===y.side||"top"===y.side?-1:1,re=k(y.pad)?y.pad:2,ae=s.bBox(W.node()),oe={t:0,b:0,l:0,r:0},ue=l._fullLayout._reservedMargin;for(var ve in ue)for(var be in ue[ve]){var de=ue[ve][be];oe[be]=Math.max(oe[be],de)}var pe={left:oe.l,top:oe.t,right:S.width-oe.r,bottom:S.height-oe.b},ge=y.maxShift||Q*(pe[y.side]-ae[y.side]),Ae=0;if(ge<0)Ae=ge;else{var ye=y.offsetLeft||0,we=y.offsetTop||0;ae.left-=ye,ae.right-=ye,ae.top-=we,ae.bottom-=we,y.selection.each(function(){var ie=s.bBox(this);b.bBoxIntersect(ae,ie,re)&&(Ae=Math.max(Ae,Q*(ie[y.side]-ae[J])+re))}),Ae=Math.min(ge,Ae),x._titleScoot=Math.abs(Ae)}if(Ae>0||ge<0){var se={left:[-Ae,0],right:[Ae,0],top:[0,-Ae],bottom:[0,Ae]}[y.side];W.attr("transform",p(se[0],se[1]))}}}return U.call(V),N&&(O?U.on(".opacity",null):(w=0,E=!0,U.text(h).on("mouseover.opacity",function(){M.select(this).transition().duration(n.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){M.select(this).transition().duration(n.HIDE_PLACEHOLDER).style("opacity",0)})),U.call(i.makeEditable,{gd:l}).on("edit",function(X){void 0!==m?T.call("_guiRestyle",l,g,X,m):T.call("_guiRelayout",l,g,X)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(V)}).on("input",function(X){this.text(X||" ").call(i.positionText,v.x,v.y)})),U.classed("js-placeholder",E),f}}},7163:function(ee,D,e){"use strict";var M=e(41940),k=e(22399),a=e(1426).extendFlat,T=e(30962).overrideAll,b=e(35025),p=e(44467).templatedArray,s=p("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});ee.exports=T(p("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(b({editType:"arraydraw"}),{}),font:M({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:k.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(ee){"use strict";ee.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},64897:function(ee,D,e){"use strict";var M=e(71828),k=e(85501),a=e(7163),T=e(75909).name,b=a.buttons;function p(t,i,n){function r(o,l){return M.coerce(t,i,a,o,l)}r("visible",k(t,i,{name:"buttons",handleItemDefaults:s}).length>0)&&(r("active"),r("direction"),r("type"),r("showactive"),r("x"),r("y"),M.noneOrAll(t,i,["x","y"]),r("xanchor"),r("yanchor"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),M.coerceFont(r,"font",n.font),r("bgcolor",n.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function s(t,i){function n(r,o){return M.coerce(t,i,b,r,o)}n("visible","skip"===t.method||Array.isArray(t.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}ee.exports=function(t,i){k(t,i,{name:T,handleItemDefaults:p})}},13689:function(ee,D,e){"use strict";var M=e(39898),k=e(74875),a=e(7901),T=e(91424),b=e(71828),p=e(63893),s=e(44467).arrayEditor,t=e(18783).LINE_SPACING,i=e(75909),n=e(25849);function r(w){return w._index}function o(w,E){return+w.attr(i.menuIndexAttrName)===E._index}function l(w,E,C,O,P,R,j,z){E.active=j,s(w.layout,i.name,E).applyUpdate("active",j),"buttons"===E.type?d(w,O,null,null,E):"dropdown"===E.type&&(P.attr(i.menuIndexAttrName,"-1"),u(w,O,P,R,E),z||d(w,O,P,R,E))}function u(w,E,C,O,P){var R=b.ensureSingle(E,"g",i.headerClassName,function(U){U.style("pointer-events","all")}),j=P._dims,z=P.active,N=P.buttons[z]||i.blankHeaderOpts,Y={y:P.pad.t,yPad:0,x:P.pad.l,xPad:0,index:0},F={width:j.headerWidth,height:j.headerHeight};R.call(c,P,N,w).call(f,P,Y,F),b.ensureSingle(E,"text",i.headerArrowClassName,function(U){U.attr("text-anchor","end").call(T.font,P.font).text(i.arrowSymbol[P.direction])}).attr({x:j.headerWidth-i.arrowOffsetX+P.pad.l,y:j.headerHeight/2+i.textOffsetY+P.pad.t}),R.on("click",function(){C.call(S,String(o(C,P)?-1:P._index)),d(w,E,C,O,P)}),R.on("mouseover",function(){R.call(m)}),R.on("mouseout",function(){R.call(y,P)}),T.setTranslate(E,j.lx,j.ly)}function d(w,E,C,O,P){C||(C=E).attr("pointer-events","all");var R=-1==+C.attr(i.menuIndexAttrName)&&"buttons"!==P.type?[]:P.buttons,j="dropdown"===P.type?i.dropdownButtonClassName:i.buttonClassName,z=C.selectAll("g."+j).data(b.filterVisible(R)),N=z.enter().append("g").classed(j,!0),Y=z.exit();"dropdown"===P.type?(N.attr("opacity","0").transition().attr("opacity","1"),Y.transition().attr("opacity","0").remove()):Y.remove();var F=0,U=0,V=P._dims,te=-1!==["up","down"].indexOf(P.direction);"dropdown"===P.type&&(te?U=V.headerHeight+i.gapButtonHeader:F=V.headerWidth+i.gapButtonHeader),"dropdown"===P.type&&"up"===P.direction&&(U=-i.gapButtonHeader+i.gapButton-V.openHeight),"dropdown"===P.type&&"left"===P.direction&&(F=-i.gapButtonHeader+i.gapButton-V.openWidth);var $={x:V.lx+F+P.pad.l,y:V.ly+U+P.pad.t,yPad:i.gapButton,xPad:i.gapButton,index:0},X={l:$.x+P.borderwidth,t:$.y+P.borderwidth};z.each(function(W,J){var Q=M.select(this);Q.call(c,P,W,w).call(f,P,$),Q.on("click",function(){M.event.defaultPrevented||(W.execute&&(W.args2&&P.active===J?(l(w,P,0,E,C,O,-1),k.executeAPICommand(w,W.method,W.args2)):(l(w,P,0,E,C,O,J),k.executeAPICommand(w,W.method,W.args))),w.emit("plotly_buttonclicked",{menu:P,button:W,active:P.active}))}),Q.on("mouseover",function(){Q.call(m)}),Q.on("mouseout",function(){Q.call(y,P),z.call(h,P)})}),z.call(h,P),te?(X.w=Math.max(V.openWidth,V.headerWidth),X.h=$.y-X.t):(X.w=$.x-X.l,X.h=Math.max(V.openHeight,V.headerHeight)),X.direction=P.direction,O&&(z.size()?function(W,J,Q,re,ae,oe){var ue,ve,be,de=ae.direction,pe="up"===de||"down"===de,ge=ae._dims,Ae=ae.active;if(pe)for(ve=0,be=0;be<Ae;be++)ve+=ge.heights[be]+i.gapButton;else for(ue=0,be=0;be<Ae;be++)ue+=ge.widths[be]+i.gapButton;re.enable(oe,ue,ve),re.hbar&&re.hbar.attr("opacity","0").transition().attr("opacity","1"),re.vbar&&re.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,O,P,X):function(W){var J=!!W.hbar,Q=!!W.vbar;J&&W.hbar.transition().attr("opacity","0").each("end",function(){J=!1,Q||W.disable()}),Q&&W.vbar.transition().attr("opacity","0").each("end",function(){Q=!1,J||W.disable()})}(O))}function c(w,E,C,O){w.call(x,E).call(g,E,C,O)}function x(w,E){b.ensureSingle(w,"rect",i.itemRectClassName,function(C){C.attr({rx:i.rx,ry:i.ry,"shape-rendering":"crispEdges"})}).call(a.stroke,E.bordercolor).call(a.fill,E.bgcolor).style("stroke-width",E.borderwidth+"px")}function g(w,E,C,O){var P=b.ensureSingle(w,"text",i.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),R=C.label,j=O._fullLayout._meta;j&&(R=b.templateString(R,j)),P.call(T.font,E.font).text(R).call(p.convertToTspans,O)}function h(w,E){var C=E.active;w.each(function(O,P){var R=M.select(this);P===C&&E.showactive&&R.select("rect."+i.itemRectClassName).call(a.fill,i.activeColor)})}function m(w){w.select("rect."+i.itemRectClassName).call(a.fill,i.hoverColor)}function y(w,E){w.select("rect."+i.itemRectClassName).call(a.fill,E.bgcolor)}function v(w,E){var C=E._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},O=T.tester.selectAll("g."+i.dropdownButtonClassName).data(b.filterVisible(E.buttons));O.enter().append("g").classed(i.dropdownButtonClassName,!0);var P=-1!==["up","down"].indexOf(E.direction);O.each(function(F,U){var V=M.select(this);V.call(c,E,F,w);var te=V.select("."+i.itemTextClassName),$=te.node()&&T.bBox(te.node()).width,X=Math.max($+i.textPadX,i.minWidth),W=E.font.size*t,J=p.lineCount(te),Q=Math.max(W*J,i.minHeight)+i.textOffsetY;Q=Math.ceil(Q),X=Math.ceil(X),C.widths[U]=X,C.heights[U]=Q,C.height1=Math.max(C.height1,Q),C.width1=Math.max(C.width1,X),P?(C.totalWidth=Math.max(C.totalWidth,X),C.openWidth=C.totalWidth,C.totalHeight+=Q+i.gapButton,C.openHeight+=Q+i.gapButton):(C.totalWidth+=X+i.gapButton,C.openWidth+=X+i.gapButton,C.totalHeight=Math.max(C.totalHeight,Q),C.openHeight=C.totalHeight)}),P?C.totalHeight-=i.gapButton:C.totalWidth-=i.gapButton,C.headerWidth=C.width1+i.arrowPadX,C.headerHeight=C.height1,"dropdown"===E.type&&(P?(C.width1+=i.arrowPadX,C.totalHeight=C.height1):C.totalWidth=C.width1,C.totalWidth+=i.arrowPadX),O.remove();var R=C.totalWidth+E.pad.l+E.pad.r,j=C.totalHeight+E.pad.t+E.pad.b,z=w._fullLayout._size;C.lx=z.l+z.w*E.x,C.ly=z.t+z.h*(1-E.y);var N="left";b.isRightAnchor(E)&&(C.lx-=R,N="right"),b.isCenterAnchor(E)&&(C.lx-=R/2,N="center");var Y="top";b.isBottomAnchor(E)&&(C.ly-=j,Y="bottom"),b.isMiddleAnchor(E)&&(C.ly-=j/2,Y="middle"),C.totalWidth=Math.ceil(C.totalWidth),C.totalHeight=Math.ceil(C.totalHeight),C.lx=Math.round(C.lx),C.ly=Math.round(C.ly),k.autoMargin(w,_(E),{x:E.x,y:E.y,l:R*({right:1,center:.5}[N]||0),r:R*({left:1,center:.5}[N]||0),b:j*({top:1,middle:.5}[Y]||0),t:j*({bottom:1,middle:.5}[Y]||0)})}function _(w){return i.autoMarginIdRoot+w._index}function f(w,E,C,O){O=O||{};var P=w.select("."+i.itemRectClassName),R=w.select("."+i.itemTextClassName),j=E.borderwidth,z=C.index,N=E._dims;T.setTranslate(w,j+C.x,j+C.y);var Y=-1!==["up","down"].indexOf(E.direction),F=O.height||(Y?N.heights[z]:N.height1);P.attr({x:0,y:0,width:O.width||(Y?N.width1:N.widths[z]),height:F});var U=E.font.size*t,V=(p.lineCount(R)-1)*U/2;p.positionText(R,i.textOffsetX,F/2-V+i.textOffsetY),Y?C.y+=N.heights[z]+C.yPad:C.x+=N.widths[z]+C.xPad,C.index++}function S(w,E){w.attr(i.menuIndexAttrName,E||"-1").selectAll("g."+i.dropdownButtonClassName).remove()}ee.exports=function(w){var E=w._fullLayout,C=b.filterVisible(E[i.name]);function O(U){k.autoMargin(w,_(U))}var P=E._menulayer.selectAll("g."+i.containerClassName).data(C.length>0?[0]:[]);if(P.enter().append("g").classed(i.containerClassName,!0).style("cursor","pointer"),P.exit().each(function(){M.select(this).selectAll("g."+i.headerGroupClassName).each(O)}).remove(),0!==C.length){var R=P.selectAll("g."+i.headerGroupClassName).data(C,r);R.enter().append("g").classed(i.headerGroupClassName,!0);for(var j=b.ensureSingle(P,"g",i.dropdownButtonGroupClassName,function(U){U.style("pointer-events","all")}),z=0;z<C.length;z++){var N=C[z];v(w,N)}var Y="updatemenus"+E._uid,F=new n(w,j,Y);R.enter().size()&&(j.node().parentNode.appendChild(j.node()),j.call(S)),R.exit().each(function(U){j.call(S),O(U)}).remove(),R.each(function(U){var V=M.select(this),te="dropdown"===U.type?j:null;k.manageCommandObserver(w,U,U.buttons,function($){l(w,U,U.buttons[$.index],V,te,F,$.index,!0)}),"dropdown"===U.type?(u(w,V,j,F,U),o(j,U)&&d(w,V,j,F,U)):d(w,V,null,null,U)})}}},20763:function(ee,D,e){"use strict";var M=e(75909);ee.exports={moduleType:"component",name:M.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(ee,D,e){"use strict";ee.exports=b;var M=e(39898),k=e(7901),a=e(91424),T=e(71828);function b(p,s,t){this.gd=p,this.container=s,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}b.barWidth=2,b.barLength=20,b.barRadius=2,b.barPad=1,b.barColor="#808BA4",b.prototype.enable=function(p,s,t){var i=this.gd._fullLayout,n=i.width,r=i.height;this.position=p;var o,l,u,d,c=this.position.l,x=this.position.w,g=this.position.t,h=this.position.h,m=this.position.direction,y="down"===m,v="left"===m,_="up"===m,f=x,S=h;y||v||"right"===m||_||(this.position.direction="down",y=!0),y||_?(l=(o=c)+f,y?(u=g,S=(d=Math.min(u+S,r))-u):S=(d=g+S)-(u=Math.max(d-S,0))):(d=(u=g)+S,v?f=(l=c+f)-(o=Math.max(l-f,0)):(o=c,f=(l=Math.min(o+f,n))-o)),this._box={l:o,t:u,w:f,h:S};var w=x>f,E=b.barLength+2*b.barPad,C=b.barWidth+2*b.barPad,O=c,P=g+h;P+C>r&&(P=r-C);var R=this.container.selectAll("rect.scrollbar-horizontal").data(w?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-horizontal",!0).call(k.fill,b.barColor),w?(this.hbar=R.attr({rx:b.barRadius,ry:b.barRadius,x:O,y:P,width:E,height:C}),this._hbarXMin=O+E/2,this._hbarTranslateMax=f-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var j=h>S,z=b.barWidth+2*b.barPad,N=b.barLength+2*b.barPad,Y=c+x,F=g;Y+z>n&&(Y=n-z);var U=this.container.selectAll("rect.scrollbar-vertical").data(j?[0]:[]);U.exit().on(".drag",null).remove(),U.enter().append("rect").classed("scrollbar-vertical",!0).call(k.fill,b.barColor),j?(this.vbar=U.attr({rx:b.barRadius,ry:b.barRadius,x:Y,y:F,width:z,height:N}),this._vbarYMin=F+N/2,this._vbarTranslateMax=S-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var V=this.id,te=o-.5,$=j?l+z+.5:l+.5,X=u-.5,W=w?d+C+.5:d+.5,J=i._topdefs.selectAll("#"+V).data(w||j?[0]:[]);if(J.exit().remove(),J.enter().append("clipPath").attr("id",V).append("rect"),w||j?(this._clipRect=J.select("rect").attr({x:Math.floor(te),y:Math.floor(X),width:Math.ceil($)-Math.floor(te),height:Math.ceil(W)-Math.floor(X)}),this.container.call(a.setClipUrl,V,this.gd),this.bg.attr({x:c,y:g,width:x,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),w||j){var Q=M.behavior.drag().on("dragstart",function(){M.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Q);var re=M.behavior.drag().on("dragstart",function(){M.event.sourceEvent.preventDefault(),M.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));w&&this.hbar.on(".drag",null).call(re),j&&this.vbar.on(".drag",null).call(re)}this.setTranslate(s,t)},b.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},b.prototype._onBoxDrag=function(){var p=this.translateX,s=this.translateY;this.hbar&&(p-=M.event.dx),this.vbar&&(s-=M.event.dy),this.setTranslate(p,s)},b.prototype._onBoxWheel=function(){var p=this.translateX,s=this.translateY;this.hbar&&(p+=M.event.deltaY),this.vbar&&(s+=M.event.deltaY),this.setTranslate(p,s)},b.prototype._onBarDrag=function(){var p=this.translateX,s=this.translateY;if(this.hbar){var t=p+this._hbarXMin,i=t+this._hbarTranslateMax;p=(T.constrain(M.event.x,t,i)-t)/(i-t)*(this.position.w-this._box.w)}if(this.vbar){var n=s+this._vbarYMin,r=n+this._vbarTranslateMax;s=(T.constrain(M.event.y,n,r)-n)/(r-n)*(this.position.h-this._box.h)}this.setTranslate(p,s)},b.prototype.setTranslate=function(p,s){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(p=T.constrain(p||0,0,t),s=T.constrain(s||0,0,i),this.translateX=p,this.translateY=s,this.container.call(a.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var n=p/t;this.hbar.call(a.setTranslate,p+n*this._hbarTranslateMax,s)}if(this.vbar){var r=s/i;this.vbar.call(a.setTranslate,p,s+r*this._vbarTranslateMax)}}},18783:function(ee){"use strict";ee.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(ee){"use strict";ee.exports={axisRefDescription:function(D,e,M){return["If set to a",D,"axis id (e.g. *"+D+"* or","*"+D+"2*), the `"+D+"` position refers to a",D,"coordinate. If set to *paper*, the `"+D+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+M+"). If set to a",D,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+D+"2 domain* refers to the domain of the second",D," axis and a",D,"position of 0.5 refers to the","point between the",e,"and the",M,"of the domain of the","second",D,"axis."].join(" ")}}},22372:function(ee){"use strict";ee.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},31562:function(ee){"use strict";ee.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(ee){"use strict";ee.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(ee){"use strict";ee.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(ee){"use strict";ee.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},37822:function(ee){"use strict";ee.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(ee){"use strict";ee.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},32396:function(ee,D){"use strict";D.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],D.STYLE=D.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(ee,D){"use strict";D.xmlns="http://www.w3.org/2000/xmlns/",D.svg="http://www.w3.org/2000/svg",D.xlink="http://www.w3.org/1999/xlink",D.svgAttrs={xmlns:D.svg,"xmlns:xlink":D.xlink}},8729:function(ee,D,e){"use strict";D.version=e(11506).version,e(7417),e(98847);for(var M=e(73972),k=D.register=M.register,a=e(10641),T=Object.keys(a),b=0;b<T.length;b++){var p=T[b];"_"!==p.charAt(0)&&(D[p]=a[p]),k({moduleType:"apiMethod",name:p,fn:a[p]})}k(e(67368)),k([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),k([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(k(window.PlotlyLocales),delete window.PlotlyLocales),D.Icons=e(24255);var s=e(30211),t=e(74875);D.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},D.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},D.Snapshot=e(44511),D.PlotSchema=e(86281)},24255:function(ee){"use strict";ee.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(ee,D){"use strict";D.isLeftAnchor=function(e){return"left"===e.xanchor||"auto"===e.xanchor&&e.x<=.3333333333333333},D.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>.3333333333333333&&e.x<.6666666666666666},D.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=.6666666666666666},D.isTopAnchor=function(e){return"top"===e.yanchor||"auto"===e.yanchor&&e.y>=.6666666666666666},D.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>.3333333333333333&&e.y<.6666666666666666},D.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=.3333333333333333}},26348:function(ee,D,e){"use strict";var M=e(64872),k=M.mod,a=M.modHalf,T=Math.PI,b=2*T;function p(n){return Math.abs(n[1]-n[0])>b-1e-14}function s(n,r){return a(r-n,b)}function t(n,r){if(p(r))return!0;var o,l;r[0]<r[1]?(o=r[0],l=r[1]):(o=r[1],l=r[0]),(o=k(o,b))>(l=k(l,b))&&(l+=b);var u=k(n,b),d=u+b;return u>=o&&u<=l||d>=o&&d<=l}function i(n,r,o,l,u,d,c){u=u||0,d=d||0;var x,g,h,m,y,v=p([o,l]);function _(E,C){return[E*Math.cos(C)+u,d-E*Math.sin(C)]}v?(x=0,g=T,h=b):o<l?(x=o,h=l):(x=l,h=o),n<r?(m=n,y=r):(m=r,y=n);var f,S=Math.abs(h-x)<=T?0:1;function w(E,C,O){return"A"+[E,E]+" "+[0,S,O]+" "+_(E,C)}return v?f=null===m?"M"+_(y,x)+w(y,g,0)+w(y,h,0)+"Z":"M"+_(m,x)+w(m,g,0)+w(m,h,0)+"ZM"+_(y,x)+w(y,g,1)+w(y,h,1)+"Z":null===m?(f="M"+_(y,x)+w(y,h,0),c&&(f+="L0,0Z")):f="M"+_(m,x)+"L"+_(y,x)+w(y,h,0)+"L"+_(m,h)+w(m,x,1)+"Z",f}ee.exports={deg2rad:function(n){return n/180*T},rad2deg:function(n){return n/T*180},angleDelta:s,angleDist:function(n,r){return Math.abs(s(n,r))},isFullCircle:p,isAngleInsideSector:t,isPtInsideSector:function(n,r,o,l){return!!t(r,l)&&(o[0]<o[1]?(u=o[0],d=o[1]):(u=o[1],d=o[0]),n>=u&&n<=d);var u,d},pathArc:function(n,r,o,l,u){return i(null,n,r,o,l,u,0)},pathSector:function(n,r,o,l,u){return i(null,n,r,o,l,u,1)},pathAnnulus:function(n,r,o,l,u,d){return i(n,r,o,l,u,d,1)}}},73627:function(ee,D,e){"use strict";var M=e(11631).decode,k=e(41965),a=Array.isArray,T=ArrayBuffer,b=DataView;function p(r){return T.isView(r)&&!(r instanceof b)}function s(r){return a(r)||p(r)}D.isTypedArray=p,D.isArrayOrTypedArray=s,D.isArray1D=function(r){return!s(r[0])},D.ensureArray=function(r,o){return a(r)||(r=[]),r.length=o,r};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function i(r){return r.constructor===ArrayBuffer}function n(r,o,l){if(s(r)){if(s(r[0])){for(var u=l,d=0;d<r.length;d++)u=o(u,r[d].length);return u}return r.length}return 0}t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8,D.isArrayBuffer=i,D.decodeTypedArraySpec=function(r){var E,o=[],l={bdata:(E=r).bdata,dtype:E.dtype,shape:E.shape},u=l.dtype,d=t[u];if(!d)throw new Error('Error in dtype: "'+u+'"');var c=d.BYTES_PER_ELEMENT,x=l.bdata;i(x)||(x=M(x));var g=void 0===l.shape?[x.byteLength/c]:(""+l.shape).split(",");g.reverse();var h,m,y=g.length,v=+g[0],_=c*v,f=0;if(1===y)o=new d(x);else if(2===y)for(h=+g[1],m=0;m<h;m++)o[m]=new d(x,f,v),f+=_;else{if(3!==y)throw new Error("ndim: "+y+'is not supported with the shape:"'+l.shape+'"');h=+g[1];for(var S=+g[2],w=0;w<S;w++)for(o[w]=[],m=0;m<h;m++)o[w][m]=new d(x,f,v),f+=_}return o.bdata=l.bdata,o.dtype=l.dtype,o.shape=g.reverse().join(","),r._inputArray=o,o},D.isTypedArraySpec=function(r){return k(r)&&r.hasOwnProperty("dtype")&&"string"==typeof r.dtype&&r.hasOwnProperty("bdata")&&("string"==typeof r.bdata||i(r.bdata))&&(void 0===r.shape||r.hasOwnProperty("shape")&&("string"==typeof r.shape||"number"==typeof r.shape))},D.concat=function(){var r,o,l,u,d,c,x,g,h=[],m=!0,y=0;for(l=0;l<arguments.length;l++)(c=(u=arguments[l]).length)&&(o?h.push(u):(o=u,d=c),a(u)?r=!1:(m=!1,y?r!==u.constructor&&(r=!1):r=u.constructor),y+=c);if(!y)return[];if(!h.length)return o;if(m)return o.concat.apply(o,h);if(r){for((x=new r(y)).set(o),l=0;l<h.length;l++)u=h[l],x.set(u,d),d+=u.length;return x}for(x=new Array(y),g=0;g<o.length;g++)x[g]=o[g];for(l=0;l<h.length;l++){for(u=h[l],g=0;g<u.length;g++)x[d+g]=u[g];d+=g}return x},D.maxRowLength=function(r){return n(r,Math.max,0)},D.minRowLength=function(r){return n(r,Math.min,1/0)}},95218:function(ee,D,e){"use strict";var M=e(92770),k=e(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ee.exports=function(T){return"string"==typeof T&&(T=T.replace(a,"")),M(T)?Number(T):k}},33306:function(ee){"use strict";ee.exports=function(D){var e=D._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(M){M.regl&&M.regl.clear({color:!0,depth:!0})})}},86367:function(ee){"use strict";ee.exports=function(D){D._responsiveChartHandler&&(window.removeEventListener("resize",D._responsiveChartHandler),delete D._responsiveChartHandler)}},96554:function(ee,D,e){"use strict";var M=e(92770),k=e(84267),a=e(9012),T=e(63282),b=e(7901),p=e(37822).DESELECTDIM,s=e(65487),t=e(30587).counter,i=e(64872).modHalf,n=e(73627).isArrayOrTypedArray,r=e(73627).isTypedArraySpec,o=e(73627).decodeTypedArraySpec;function l(u,d){var c=D.valObjectMeta[d.valType];if(d.arrayOk&&n(u))return!0;if(c.validateFunction)return c.validateFunction(u,d);var x={},g=x,h={set:function(m){g=m}};return c.coerceFunction(u,h,x,d),g!==x}D.valObjectMeta={data_array:{coerceFunction:function(u,d,c){d.set(n(u)?u:r(u)?o(u):c)}},enumerated:{coerceFunction:function(u,d,c,x){x.coerceNumber&&(u=+u),-1===x.values.indexOf(u)?d.set(c):d.set(u)},validateFunction:function(u,d){d.coerceNumber&&(u=+u);for(var c=d.values,x=0;x<c.length;x++){var g=String(c[x]);if("/"===g.charAt(0)&&"/"===g.charAt(g.length-1)){if(new RegExp(g.substr(1,g.length-2)).test(u))return!0}else if(u===c[x])return!0}return!1}},boolean:{coerceFunction:function(u,d,c){!0===u||!1===u?d.set(u):d.set(c)}},number:{coerceFunction:function(u,d,c,x){!M(u)||void 0!==x.min&&u<x.min||void 0!==x.max&&u>x.max?d.set(c):d.set(+u)}},integer:{coerceFunction:function(u,d,c,x){u%1||!M(u)||void 0!==x.min&&u<x.min||void 0!==x.max&&u>x.max?d.set(c):d.set(+u)}},string:{coerceFunction:function(u,d,c,x){if("string"!=typeof u){var g="number"==typeof u;!0!==x.strict&&g?d.set(String(u)):d.set(c)}else x.noBlank&&!u?d.set(c):d.set(u)}},color:{coerceFunction:function(u,d,c){k(u).isValid()?d.set(u):d.set(c)}},colorlist:{coerceFunction:function(u,d,c){Array.isArray(u)&&u.length&&u.every(function(x){return k(x).isValid()})?d.set(u):d.set(c)}},colorscale:{coerceFunction:function(u,d,c){d.set(T.get(u,c))}},angle:{coerceFunction:function(u,d,c){"auto"===u?d.set("auto"):M(u)?d.set(i(+u,360)):d.set(c)}},subplotid:{coerceFunction:function(u,d,c,x){var g=x.regex||t(c);"string"==typeof u&&g.test(u)?d.set(u):d.set(c)},validateFunction:function(u,d){var c=d.dflt;return u===c||"string"==typeof u&&!!t(c).test(u)}},flaglist:{coerceFunction:function(u,d,c,x){if(-1===(x.extras||[]).indexOf(u))if("string"==typeof u){for(var g=u.split("+"),h=0;h<g.length;){var m=g[h];-1===x.flags.indexOf(m)||g.indexOf(m)<h?g.splice(h,1):h++}g.length?d.set(g.join("+")):d.set(c)}else d.set(c);else d.set(u)}},any:{coerceFunction:function(u,d,c){void 0===u?d.set(c):d.set(r(u)?o(u):u)}},info_array:{coerceFunction:function(u,d,c,x){function g(j,z,N){var Y,F={set:function(U){Y=U}};return void 0===N&&(N=z.dflt),D.valObjectMeta[z.valType].coerceFunction(j,F,N,z),Y}if(r(u)&&(u=o(u)),n(u)){var h,m,y,v,_,f,S=2===x.dimensions||"1-2"===x.dimensions&&Array.isArray(u)&&n(u[0]),w=x.items,E=[],C=Array.isArray(w),O=C&&S&&n(w[0]),P=S&&C&&!O,R=C&&!P?w.length:u.length;if(c=Array.isArray(c)?c:[],S)for(h=0;h<R;h++)for(E[h]=[],y=n(u[h])?u[h]:[],_=P?w.length:C?w[h].length:y.length,m=0;m<_;m++)v=P?w[m]:C?w[h][m]:w,void 0!==(f=g(y[m],v,(c[h]||[])[m]))&&(E[h][m]=f);else for(h=0;h<R;h++)void 0!==(f=g(u[h],C?w[h]:w,c[h]))&&(E[h]=f);d.set(E)}else d.set(c)},validateFunction:function(u,d){if(!n(u))return!1;var c=d.items,x=Array.isArray(c),g=2===d.dimensions;if(!d.freeLength&&u.length!==c.length)return!1;for(var h=0;h<u.length;h++)if(g){if(!n(u[h])||!d.freeLength&&u[h].length!==c[h].length)return!1;for(var m=0;m<u[h].length;m++)if(!l(u[h][m],x?c[h][m]:c))return!1}else if(!l(u[h],x?c[h]:c))return!1;return!0}}},D.coerce=function(u,d,c,x,g){var h=s(c,x).get(),m=s(u,x),y=s(d,x),v=m.get(),_=d._template;if(void 0===v&&_&&(v=s(_,x).get(),_=0),void 0===g&&(g=h.dflt),h.arrayOk){if(n(v))return y.set(v),v;if(r(v))return v=o(v),y.set(v),v}var f=D.valObjectMeta[h.valType].coerceFunction;f(v,y,g,h);var S=y.get();return _&&S===g&&!l(v,h)&&(f(v=s(_,x).get(),y,g,h),S=y.get()),S},D.coerce2=function(u,d,c,x,g){var h=s(u,x),m=D.coerce(u,d,c,x,g);return null!=h.get()&&m},D.coerceFont=function(u,d,c){var x={};return c=c||{},x.family=u(d+".family",c.family),x.size=u(d+".size",c.size),x.color=u(d+".color",c.color),x},D.coercePattern=function(u,d,c,x){if(u(d+".shape")){u(d+".solidity"),u(d+".size");var g="overlay"===u(d+".fillmode");if(!x){var h=u(d+".bgcolor",g?c:void 0);u(d+".fgcolor",g?b.contrast(h):c)}u(d+".fgopacity",g?.5:1)}},D.coerceHoverinfo=function(u,d,c){var x,g=d._module.attributes,h=g.hoverinfo?g:a,m=h.hoverinfo;if(1===c._dataLength){var y="all"===m.dflt?m.flags.slice():m.dflt.split("+");y.splice(y.indexOf("name"),1),x=y.join("+")}return D.coerce(u,d,h,"hoverinfo",x)},D.coerceSelectionMarkerOpacity=function(u,d){if(u.marker){var c,x,g=u.marker.opacity;void 0!==g&&(n(g)||u.selected||u.unselected||(c=g,x=p*g),d("selected.marker.opacity",c),d("unselected.marker.opacity",x))}},D.validate=l},41631:function(ee,D,e){"use strict";var M,k,a=e(84096).i$,T=e(92770),b=e(47769),p=e(64872).mod,s=e(50606),t=s.BADNUM,i=s.ONEDAY,n=s.ONEHOUR,r=s.ONEMIN,o=s.ONESEC,l=s.EPOCHJD,u=e(73972),d=e(84096).g0,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=(new Date).getFullYear()-70;function h(R){return R&&u.componentsRegistry.calendars&&"string"==typeof R&&"gregorian"!==R}function m(R,j){return String(R+Math.pow(10,j)).substr(1)}D.dateTick0=function(R,j){var Y,F,z=(F=!!j,h(Y=R)?F?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[Y]:u.getComponentMethod("calendars","CANONICAL_TICK")[Y]:F?"2000-01-02":"2000-01-01");if(j<2)return z;var N=D.dateTime2ms(z,R);return N+=i*(j-1),D.ms2DateTime(N,0,R)},D.dfltRange=function(R){return h(R)?u.getComponentMethod("calendars","DFLTRANGE")[R]:["2000-01-01","2001-01-01"]},D.isJSDate=function(R){return"object"==typeof R&&null!==R&&"function"==typeof R.getTime},D.dateTime2ms=function(R,j){if(D.isJSDate(R)){var z=R.getTimezoneOffset()*r,N=(R.getUTCMinutes()-R.getMinutes())*r+(R.getUTCSeconds()-R.getSeconds())*o+(R.getUTCMilliseconds()-R.getMilliseconds());if(N){var Y=3*r;z=z-Y/2+p(N-z+Y/2,Y)}return(R=Number(R)-z)>=M&&R<=k?R:t}if("string"!=typeof R&&"number"!=typeof R)return t;R=String(R);var F=h(j),U=R.charAt(0);!F||"G"!==U&&"g"!==U||(R=R.substr(1),j="");var V=F&&"chinese"===j.substr(0,7),te=R.match(V?x:c);if(!te)return t;var $=te[1],X=te[3]||"1",W=Number(te[5]||1),J=Number(te[7]||0),Q=Number(te[9]||0),re=Number(te[11]||0);if(F){if(2===$.length)return t;var ae;$=Number($);try{var oe=u.getComponentMethod("calendars","getCal")(j);if(V){var ue="i"===X.charAt(X.length-1);X=parseInt(X,10),ae=oe.newDate($,oe.toMonthIndex($,X,ue),W)}else ae=oe.newDate($,Number(X),W)}catch{return t}return ae?(ae.toJD()-l)*i+J*n+Q*r+re*o:t}$=2===$.length?(Number($)+2e3-g)%100+g:Number($),X-=1;var ve=new Date(Date.UTC(2e3,X,W,J,Q));return ve.setUTCFullYear($),ve.getUTCMonth()!==X||ve.getUTCDate()!==W?t:ve.getTime()+re*o},M=D.MIN_MS=D.dateTime2ms("-9999"),k=D.MAX_MS=D.dateTime2ms("9999-12-31 23:59:59.9999"),D.isDateTime=function(R,j){return D.dateTime2ms(R,j)!==t};var y=90*i,v=3*n,_=5*r;function f(R,j,z,N,Y){if((j||z||N||Y)&&(R+=" "+m(j,2)+":"+m(z,2),(N||Y)&&(R+=":"+m(N,2),Y))){for(var F=4;Y%10==0;)F-=1,Y/=10;R+="."+m(Y,F)}return R}D.ms2DateTime=function(R,j,z){if("number"!=typeof R||!(R>=M&&R<=k))return t;j||(j=0);var N,Y,F,U,V,te,$=Math.floor(10*p(R+.05,1)),X=Math.round(R-$/10);if(h(z)){var W=Math.floor(X/i)+l,J=Math.floor(p(R,i));try{N=u.getComponentMethod("calendars","getCal")(z).fromJD(W).formatDate("yyyy-mm-dd")}catch{N=d("G%Y-%m-%d")(new Date(X))}if("-"===N.charAt(0))for(;N.length<11;)N="-0"+N.substr(1);else for(;N.length<10;)N="0"+N;Y=j<y?Math.floor(J/n):0,F=j<y?Math.floor(J%n/r):0,U=j<v?Math.floor(J%r/o):0,V=j<_?J%o*10+$:0}else te=new Date(X),N=d("%Y-%m-%d")(te),Y=j<y?te.getUTCHours():0,F=j<y?te.getUTCMinutes():0,U=j<v?te.getUTCSeconds():0,V=j<_?10*te.getUTCMilliseconds()+$:0;return f(N,Y,F,U,V)},D.ms2DateTimeLocal=function(R){if(!(R>=M+i&&R<=k-i))return t;var j=Math.floor(10*p(R+.05,1)),z=new Date(Math.round(R-j/10));return f(a("%Y-%m-%d")(z),z.getHours(),z.getMinutes(),z.getSeconds(),10*z.getUTCMilliseconds()+j)},D.cleanDate=function(R,j,z){if(R===t)return j;if(D.isJSDate(R)||"number"==typeof R&&isFinite(R)){if(h(z))return b.error("JS Dates and milliseconds are incompatible with world calendars",R),j;if(!(R=D.ms2DateTimeLocal(+R))&&void 0!==j)return j}else if(!D.isDateTime(R,z))return b.error("unrecognized date",R),j;return R};var S=/%\d?f/g,w=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function C(R,j,z,N){R=R.replace(S,function(F){var U=Math.min(+F.charAt(1)||6,6);return(j/1e3%1+2).toFixed(U).substr(2).replace(/0+$/,"")||"0"});var Y=new Date(Math.floor(j+.05));if(R=R.replace(w,function(){return E[z("%q")(Y)]}),h(N))try{R=u.getComponentMethod("calendars","worldCalFmt")(R,j,N)}catch{return"Invalid"}return z(R)(Y)}var O=[59,59.9,59.99,59.999,59.9999];D.formatDate=function(R,j,z,N,Y,F){if(Y=h(Y)&&Y,!j)if("y"===z)j=F.year;else if("m"===z)j=F.month;else{if("d"!==z)return function(U,V){var te=p(U+.05,i),$=m(Math.floor(te/n),2)+":"+m(p(Math.floor(te/r),60),2);if("M"!==V){T(V)||(V=0);var X=(100+Math.min(p(U/o,60),O[V])).toFixed(V).substr(1);V>0&&(X=X.replace(/0+$/,"").replace(/[\.]$/,"")),$+=":"+X}return $}(R,z)+"\n"+C(F.dayMonthYear,R,N,Y);j=F.dayMonth+"\n"+F.year}return C(j,R,N,Y)};var P=3*i;D.incrementMonth=function(R,j,z){z=h(z)&&z;var N=p(R,i);if(R=Math.round(R-N),z)try{var Y=Math.round(R/i)+l,F=u.getComponentMethod("calendars","getCal")(z),U=F.fromJD(Y);return j%12?F.add(U,j,"m"):F.add(U,j/12,"y"),(U.toJD()-l)*i+N}catch{b.error("invalid ms "+R+" in calendar "+z)}var V=new Date(R+P);return V.setUTCMonth(V.getUTCMonth()+j)+N-P},D.findExactDates=function(R,j){for(var z,N,Y=0,F=0,U=0,V=0,te=h(j)&&u.getComponentMethod("calendars","getCal")(j),$=0;$<R.length;$++)if(N=R[$],T(N)){if(!(N%i))if(te)try{1===(z=te.fromJD(N/i+l)).day()?1===z.month()?Y++:F++:U++}catch{}else 1===(z=new Date(N)).getUTCDate()?0===z.getUTCMonth()?Y++:F++:U++}else V++;U+=F+=Y;var X=R.length-V;return{exactYears:Y/X,exactMonths:F/X,exactDays:U/X}}},24401:function(ee,D,e){"use strict";var M=e(39898),k=e(47769),a=e(35657),T=e(79576);function b(n){var r=n&&n.parentNode;r&&r.removeChild(n)}function p(n,r,o){var l="plotly.js-style-"+n,u=document.getElementById(l);u||((u=document.createElement("style")).setAttribute("id",l),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var d=u.sheet;d.insertRule?d.insertRule(r+"{"+o+"}",0):d.addRule?d.addRule(r,o,0):k.warn("addStyleRule failed")}function s(n){var r=window.getComputedStyle(n,null),o=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return"none"===o?null:o.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(l){return+l})}function t(n){for(var r=[];i(n);)r.push(n),n=n.parentNode;return r}function i(n){return n&&(n instanceof Element||n instanceof HTMLElement)}ee.exports={getGraphDiv:function(n){var r;if("string"==typeof n){if(null===(r=document.getElementById(n)))throw new Error("No DOM element with id '"+n+"' exists on the page.");return r}if(null==n)throw new Error("DOM element provided is null or undefined");return n},isPlotDiv:function(n){var r=M.select(n);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")},removeElement:b,addStyleRule:function(n,r){p("global",n,r)},addRelatedStyleRule:p,deleteRelatedStyleRule:function(n){var r="plotly.js-style-"+n,o=document.getElementById(r);o&&b(o)},getFullTransformMatrix:function(n){var r=t(n),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(l){var u=s(l);if(u){var d=a.convertCssMatrix(u);o=T.multiply(o,o,d)}}),o},getElementTransformMatrix:s,getElementAndAncestors:t,equalDomRects:function(n,r){return n&&r&&n.top===r.top&&n.left===r.left&&n.right===r.right&&n.bottom===r.bottom}}},11086:function(ee,D,e){"use strict";var M=e(15398).EventEmitter,k={init:function(a){if(a._ev instanceof M)return a;var T=new M,b=new M;return a._ev=T,a._internalEv=b,a.on=T.on.bind(T),a.once=T.once.bind(T),a.removeListener=T.removeListener.bind(T),a.removeAllListeners=T.removeAllListeners.bind(T),a._internalOn=b.on.bind(b),a._internalOnce=b.once.bind(b),a._removeInternalListener=b.removeListener.bind(b),a._removeAllInternalListeners=b.removeAllListeners.bind(b),a.emit=function(p,s){typeof jQuery<"u"&&jQuery(a).trigger(p,s),T.emit(p,s),b.emit(p,s)},a},triggerHandler:function(a,T,b){var p,s;typeof jQuery<"u"&&(p=jQuery(a).triggerHandler(T,b));var t=a._ev;if(!t)return p;var i,n=t._events[T];if(!n)return p;function r(o){return o.listener?(t.removeListener(T,o.listener),o.fired?void 0:(o.fired=!0,o.listener.apply(t,[b]))):o.apply(t,[b])}for(n=Array.isArray(n)?n:[n],i=0;i<n.length-1;i++)r(n[i]);return s=r(n[i]),void 0!==p?p:s},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};ee.exports=k},1426:function(ee,D,e){"use strict";var M=e(41965),k=Array.isArray;function a(T,b,p,s){var t,i,n,r,o,l,d=T[0],c=T.length;if(2===c&&k(d)&&k(T[1])&&0===d.length){if(function(g,h){var m,y;for(m=0;m<g.length;m++){if(null!==(y=g[m])&&"object"==typeof y)return!1;void 0!==y&&(h[m]=y)}return!0}(T[1],d))return d;d.splice(0,d.length)}for(var x=1;x<c;x++)for(i in t=T[x])n=d[i],r=t[i],s&&k(r)?d[i]=r:b&&r&&(M(r)||(o=k(r)))?(o?(o=!1,l=n&&k(n)?n:[]):l=n&&M(n)?n:{},d[i]=a([l,r],b,p,s)):(void 0!==r||p)&&(d[i]=r);return d}D.extendFlat=function(){return a(arguments,!1,!1,!1)},D.extendDeep=function(){return a(arguments,!0,!1,!1)},D.extendDeepAll=function(){return a(arguments,!0,!0,!1)},D.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},75744:function(ee){"use strict";ee.exports=function(D){for(var e={},M=[],k=0,a=0;a<D.length;a++){var T=D[a];1!==e[T]&&(e[T]=1,M[k++]=T)}return M}},76756:function(ee){"use strict";function D(M){return!0===M.visible}function e(M){var k=M[0].trace;return!0===k.visible&&0!==k._length}ee.exports=function(M){for(var k,a=(k=M,Array.isArray(k)&&Array.isArray(k[0])&&k[0][0]&&k[0][0].trace?e:D),T=[],b=0;b<M.length;b++){var p=M[b];a(p)&&T.push(p)}return T}},41327:function(ee,D,e){"use strict";var M=e(39898),k=e(24138),a=e(30774),T=e(29261),b=e(85268),p=e(23389),s=e(47769),t=e(41965),i=e(65487),n=e(61082),r=Object.keys(k),o={"ISO-3":p,"USA-states":p,"country names":function(u){for(var d=0;d<r.length;d++){var c=r[d];if(new RegExp(k[c]).test(u.trim().toLowerCase()))return c}return s.log("Unrecognized country name: "+u+"."),!1}};function l(u){var d=u.geojson,c=window.PlotlyGeoAssets||{},x="string"==typeof d?c[d]:d;return t(x)?x:(s.error("Oops ... something went wrong when fetching "+d),!1)}ee.exports={locationToFeature:function(u,d,c){if(!d||"string"!=typeof d)return!1;var x,g,h,m=o[u](d);if(m){if("USA-states"===u)for(x=[],h=0;h<c.length;h++)(g=c[h]).properties&&g.properties.gu&&"USA"===g.properties.gu&&x.push(g);else x=c;for(h=0;h<x.length;h++)if((g=x[h]).id===m)return g;s.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var d,c,x,g,h=u.geometry,m=h.coordinates,y=u.id,v=[];function _(f){for(var S=0;S<f.length-1;S++)if(f[S][0]>0&&f[S+1][0]<0)return S;return null}switch(d="RUS"===y||"FJI"===y?function(f){var S;if(null===_(f))S=f;else for(S=new Array(f.length),g=0;g<f.length;g++)S[g]=[f[g][0]<0?f[g][0]+360:f[g][0],f[g][1]];v.push(n.tester(S))}:"ATA"===y?function(f){var S=_(f);if(null===S)return v.push(n.tester(f));var w=new Array(f.length+1),E=0;for(g=0;g<f.length;g++)g>S?w[E++]=[f[g][0]+360,f[g][1]]:g===S?(w[E++]=f[g],w[E++]=[f[g][0],-90]):w[E++]=f[g];var C=n.tester(w);C.pts.pop(),v.push(C)}:function(f){v.push(n.tester(f))},h.type){case"MultiPolygon":for(c=0;c<m.length;c++)for(x=0;x<m[c].length;x++)d(m[c][x]);break;case"Polygon":for(c=0;c<m.length;c++)d(m[c])}return v},getTraceGeojson:l,extractTraceFeature:function(u){var d=u[0].trace,c=l(d);if(!c)return!1;var x,g={},h=[];for(x=0;x<d._length;x++){var m=u[x];(m.loc||0===m.loc)&&(g[m.loc]=m)}function y(f){var S=i(f,d.featureidkey||"id").get(),w=g[S];if(w){var E=f.geometry;if("Polygon"===E.type||"MultiPolygon"===E.type){var C={type:"Feature",id:S,geometry:E,properties:{}};C.properties.ct=function(O){var P,R=O.geometry;if("MultiPolygon"===R.type)for(var j=R.coordinates,z=0,N=0;N<j.length;N++){var Y={type:"Polygon",coordinates:j[N]},F=a.default(Y);F>z&&(z=F,P=Y)}else P=R;return T.default(P).geometry.coordinates}(C),w.fIn=f,w.fOut=C,h.push(C)}else s.log(["Location",w.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete g[S]}switch(c.type){case"FeatureCollection":var v=c.features;for(x=0;x<v.length;x++)y(v[x]);break;case"Feature":y(c);break;default:return s.warn(["Invalid GeoJSON type",(c.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var _ in g)s.log(["Location *"+_+"*","does not have a matching feature with id-key","*"+d.featureidkey+"*."].join(" "));return h},fetchTraceGeoData:function(u){var d=window.PlotlyGeoAssets||{},c=[];function x(y){return new Promise(function(v,_){M.json(y,function(f,S){if(f){delete d[y];var w=404===f.status?'GeoJSON at URL "'+y+'" does not exist.':"Unexpected error while fetching from "+y;return _(new Error(w))}return d[y]=S,v(S)})})}function g(y){return new Promise(function(v,_){var f=0,S=setInterval(function(){return d[y]&&"pending"!==d[y]?(clearInterval(S),v(d[y])):f>100?(clearInterval(S),_("Unexpected error while fetching from "+y)):void f++},50)})}for(var h=0;h<u.length;h++){var m=u[h][0].trace.geojson;"string"==typeof m&&(d[m]?"pending"===d[m]&&c.push(g(m)):(d[m]="pending",c.push(x(m))))}return c},computeBbox:function(u){return b.default(u)}}},18214:function(ee,D,e){"use strict";var M=e(50606).BADNUM;D.calcTraceToLineCoords=function(k){for(var a=k[0].trace.connectgaps,T=[],b=[],p=0;p<k.length;p++){var s=k[p].lonlat;s[0]!==M?b.push(s):!a&&b.length>0&&(T.push(b),b=[])}return b.length>0&&T.push(b),T},D.makeLine=function(k){return 1===k.length?{type:"LineString",coordinates:k[0]}:{type:"MultiLineString",coordinates:k}},D.makePolygon=function(k){if(1===k.length)return{type:"Polygon",coordinates:k};for(var a=new Array(k.length),T=0;T<k.length;T++)a[T]=[k[T]];return{type:"MultiPolygon",coordinates:a}},D.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(ee,D,e){"use strict";var M,k,a,T=e(64872).mod;function b(s,t,i,n,r,o,l,u){var d=i-s,c=r-s,x=l-r,g=n-t,h=o-t,m=u-o,y=d*m-x*g;if(0===y)return null;var v=(c*m-x*h)/y,_=(c*g-d*h)/y;return _<0||_>1||v<0||v>1?null:{x:s+d*v,y:t+g*v}}function p(s,t,i,n,r){var o=n*s+r*t;if(o<0)return n*n+r*r;if(o>i){var l=n-s,u=r-t;return l*l+u*u}var d=n*t-r*s;return d*d/i}D.segmentsIntersect=b,D.segmentDistance=function(s,t,i,n,r,o,l,u){if(b(s,t,i,n,r,o,l,u))return 0;var d=i-s,c=n-t,x=l-r,g=u-o,h=d*d+c*c,m=x*x+g*g,y=Math.min(p(d,c,h,r-s,o-t),p(d,c,h,l-s,u-t),p(x,g,m,s-r,t-o),p(x,g,m,i-r,n-o));return Math.sqrt(y)},D.getTextLocation=function(s,t,i,n){if(s===k&&n===a||(M={},k=s,a=n),M[i])return M[i];var r=s.getPointAtLength(T(i-n/2,t)),o=s.getPointAtLength(T(i+n/2,t)),l=Math.atan((o.y-r.y)/(o.x-r.x)),u=s.getPointAtLength(T(i,t)),d={x:(4*u.x+r.x+o.x)/6,y:(4*u.y+r.y+o.y)/6,theta:l};return M[i]=d,d},D.clearLocationCache=function(){k=null},D.getVisibleSegment=function(s,t,i){var n,r,o=t.left,l=t.right,u=t.top,d=t.bottom,c=0,x=s.getTotalLength(),g=x;function h(y){var v=s.getPointAtLength(y);0===y?n=v:y===x&&(r=v);var _=v.x<o?o-v.x:v.x>l?v.x-l:0,f=v.y<u?u-v.y:v.y>d?v.y-d:0;return Math.sqrt(_*_+f*f)}for(var m=h(c);m;){if((c+=m+i)>g)return;m=h(c)}for(m=h(g);m;){if(c>(g-=m+i))return;m=h(g)}return{min:c,max:g,len:g-c,total:x,isClosed:0===c&&g===x&&Math.abs(n.x-r.x)<.1&&Math.abs(n.y-r.y)<.1}},D.findPointOnPath=function(s,t,i,n){for(var r,o,l,u=(n=n||{}).pathLength||s.getTotalLength(),d=n.tolerance||.001,c=n.iterationLimit||30,x=s.getPointAtLength(0)[i]>s.getPointAtLength(u)[i]?-1:1,g=0,h=0,m=u;g<c;){if(r=(h+m)/2,l=(o=s.getPointAtLength(r))[i]-t,Math.abs(l)<d)return o;x*l>0?m=r:h=r,g++}return o}},81697:function(ee,D,e){"use strict";var M=e(92770),k=e(84267),a=e(25075),T=e(21081),b=e(22399).defaultLine,p=e(73627).isArrayOrTypedArray,s=a(b);function t(r,o){var l=r;return l[3]*=o,l}function i(r){if(M(r))return s;var o=a(r);return o.length?o:s}function n(r){return M(r)?r:1}ee.exports={formatColor:function(r,o,l){var u=r.color;u&&u._inputArray&&(u=u._inputArray);var d,c,x,g,h,m=p(u),y=p(o),v=T.extractOpts(r),_=[];if(d=void 0!==v.colorscale?T.makeColorScaleFuncFromTrace(r):i,c=m?function(S,w){return void 0===S[w]?s:a(d(S[w]))}:i,x=y?function(S,w){return void 0===S[w]?1:n(S[w])}:n,m||y)for(var f=0;f<l;f++)g=c(u,f),h=x(o,f),_[f]=t(g,h);else _=t(a(u),o);return _},parseColorScale:function(r){var o=T.extractOpts(r),l=o.colorscale;return o.reversescale&&(l=T.flipScale(o.colorscale)),l.map(function(u){var d=u[0],c=k(u[1]).toRgb();return{index:d,rgb:[c.r,c.g,c.b,c.a]}})}}},28984:function(ee,D,e){"use strict";var M=e(23389);function k(a){return[a]}ee.exports={keyFun:function(a){return a.key},repeat:k,descend:M,wrap:k,unwrap:function(a){return a[0]}}},23389:function(ee){"use strict";ee.exports=function(D){return D}},39240:function(ee){"use strict";ee.exports=function(D,e){if(!e)return D;var M=1/Math.abs(e),k=M>1?(M*D+M*e)/M:D+e,a=String(k).length;if(a>16){var T=String(e).length;if(a>=String(D).length+T){var b=parseFloat(k).toPrecision(12);-1===b.indexOf("e+")&&(k=+b)}}return k}},71828:function(ee,D,e){"use strict";var M=e(39898),k=e(84096).g0,a=e(60721).WU,T=e(92770),b=e(50606),p=b.FP_SAFE,s=-p,t=b.BADNUM,i=ee.exports={};i.adjustFormat=function(J){return!J||/^\d[.]\df/.test(J)||/[.]\d%/.test(J)?J:"0.f"===J?"~f":/^\d%/.test(J)?"~%":/^\ds/.test(J)?"~s":!/^[~,.0$]/.test(J)&&/[&fps]/.test(J)?"~"+J:J};var n={};i.warnBadFormat=function(J){var Q=String(J);n[Q]||(n[Q]=1,i.warn('encountered bad format: "'+Q+'"'))},i.noFormat=function(J){return String(J)},i.numberFormat=function(J){var Q;try{Q=a(i.adjustFormat(J))}catch{return i.warnBadFormat(J),i.noFormat}return Q},i.nestedProperty=e(65487),i.keyedContainer=e(66636),i.relativeAttr=e(6962),i.isPlainObject=e(41965),i.toLogRange=e(58163),i.relinkPrivateKeys=e(51332);var r=e(73627);i.isArrayBuffer=r.isArrayBuffer,i.isTypedArray=r.isTypedArray,i.isArrayOrTypedArray=r.isArrayOrTypedArray,i.isArray1D=r.isArray1D,i.ensureArray=r.ensureArray,i.concat=r.concat,i.maxRowLength=r.maxRowLength,i.minRowLength=r.minRowLength;var o=e(64872);i.mod=o.mod,i.modHalf=o.modHalf;var l=e(96554);i.valObjectMeta=l.valObjectMeta,i.coerce=l.coerce,i.coerce2=l.coerce2,i.coerceFont=l.coerceFont,i.coercePattern=l.coercePattern,i.coerceHoverinfo=l.coerceHoverinfo,i.coerceSelectionMarkerOpacity=l.coerceSelectionMarkerOpacity,i.validate=l.validate;var u=e(41631);i.dateTime2ms=u.dateTime2ms,i.isDateTime=u.isDateTime,i.ms2DateTime=u.ms2DateTime,i.ms2DateTimeLocal=u.ms2DateTimeLocal,i.cleanDate=u.cleanDate,i.isJSDate=u.isJSDate,i.formatDate=u.formatDate,i.incrementMonth=u.incrementMonth,i.dateTick0=u.dateTick0,i.dfltRange=u.dfltRange,i.findExactDates=u.findExactDates,i.MIN_MS=u.MIN_MS,i.MAX_MS=u.MAX_MS;var d=e(65888);i.findBin=d.findBin,i.sorterAsc=d.sorterAsc,i.sorterDes=d.sorterDes,i.distinctVals=d.distinctVals,i.roundUp=d.roundUp,i.sort=d.sort,i.findIndexOfMin=d.findIndexOfMin,i.sortObjectKeys=e(78607);var c=e(80038);i.aggNums=c.aggNums,i.len=c.len,i.mean=c.mean,i.median=c.median,i.midRange=c.midRange,i.variance=c.variance,i.stdev=c.stdev,i.interp=c.interp;var x=e(35657);i.init2dArray=x.init2dArray,i.transposeRagged=x.transposeRagged,i.dot=x.dot,i.translationMatrix=x.translationMatrix,i.rotationMatrix=x.rotationMatrix,i.rotationXYMatrix=x.rotationXYMatrix,i.apply3DTransform=x.apply3DTransform,i.apply2DTransform=x.apply2DTransform,i.apply2DTransform2=x.apply2DTransform2,i.convertCssMatrix=x.convertCssMatrix,i.inverseTransformMatrix=x.inverseTransformMatrix;var g=e(26348);i.deg2rad=g.deg2rad,i.rad2deg=g.rad2deg,i.angleDelta=g.angleDelta,i.angleDist=g.angleDist,i.isFullCircle=g.isFullCircle,i.isAngleInsideSector=g.isAngleInsideSector,i.isPtInsideSector=g.isPtInsideSector,i.pathArc=g.pathArc,i.pathSector=g.pathSector,i.pathAnnulus=g.pathAnnulus;var h=e(99863);i.isLeftAnchor=h.isLeftAnchor,i.isCenterAnchor=h.isCenterAnchor,i.isRightAnchor=h.isRightAnchor,i.isTopAnchor=h.isTopAnchor,i.isMiddleAnchor=h.isMiddleAnchor,i.isBottomAnchor=h.isBottomAnchor;var m=e(87642);i.segmentsIntersect=m.segmentsIntersect,i.segmentDistance=m.segmentDistance,i.getTextLocation=m.getTextLocation,i.clearLocationCache=m.clearLocationCache,i.getVisibleSegment=m.getVisibleSegment,i.findPointOnPath=m.findPointOnPath;var y=e(1426);i.extendFlat=y.extendFlat,i.extendDeep=y.extendDeep,i.extendDeepAll=y.extendDeepAll,i.extendDeepNoArrays=y.extendDeepNoArrays;var v=e(47769);i.log=v.log,i.warn=v.warn,i.error=v.error;var _=e(30587);i.counterRegex=_.counter;var f=e(79990);i.throttle=f.throttle,i.throttleDone=f.done,i.clearThrottle=f.clear;var S=e(24401);function w(J){var Q={};for(var re in J)for(var ae=J[re],oe=0;oe<ae.length;oe++)Q[ae[oe]]=+re;return Q}i.getGraphDiv=S.getGraphDiv,i.isPlotDiv=S.isPlotDiv,i.removeElement=S.removeElement,i.addStyleRule=S.addStyleRule,i.addRelatedStyleRule=S.addRelatedStyleRule,i.deleteRelatedStyleRule=S.deleteRelatedStyleRule,i.getFullTransformMatrix=S.getFullTransformMatrix,i.getElementTransformMatrix=S.getElementTransformMatrix,i.getElementAndAncestors=S.getElementAndAncestors,i.equalDomRects=S.equalDomRects,i.clearResponsive=e(86367),i.preserveDrawingBuffer=e(45142),i.makeTraceGroups=e(77310),i._=e(15867),i.notifier=e(75046),i.filterUnique=e(75744),i.filterVisible=e(76756),i.pushUnique=e(75138),i.increment=e(39240),i.cleanNumber=e(95218),i.ensureNumber=function(J){return T(J)?(J=Number(J))>p||J<s?t:J:t},i.isIndex=function(J,Q){return!(void 0!==Q&&J>=Q)&&T(J)&&J>=0&&J%1==0},i.noop=e(64213),i.identity=e(23389),i.repeat=function(J,Q){for(var re=new Array(Q),ae=0;ae<Q;ae++)re[ae]=J;return re},i.swapAttrs=function(J,Q,re,ae){re||(re="x"),ae||(ae="y");for(var oe=0;oe<Q.length;oe++){var ue=Q[oe],ve=i.nestedProperty(J,ue.replace("?",re)),be=i.nestedProperty(J,ue.replace("?",ae)),de=ve.get();ve.set(be.get()),be.set(de)}},i.raiseToTop=function(J){J.parentNode.appendChild(J)},i.cancelTransition=function(J){return J.transition().duration(0)},i.constrain=function(J,Q,re){return Q>re?Math.max(re,Math.min(Q,J)):Math.max(Q,Math.min(re,J))},i.bBoxIntersect=function(J,Q,re){return re=re||0,J.left<=Q.right+re&&Q.left<=J.right+re&&J.top<=Q.bottom+re&&Q.top<=J.bottom+re},i.simpleMap=function(J,Q,re,ae,oe){for(var ue=J.length,ve=new Array(ue),be=0;be<ue;be++)ve[be]=Q(J[be],re,ae,oe);return ve},i.randstr=function J(Q,re,ae,oe){if(ae||(ae=16),void 0===re&&(re=24),re<=0)return"0";var ue,ve,be=Math.log(Math.pow(2,re))/Math.log(ae),de="";for(ue=2;be===1/0;ue*=2)be=Math.log(Math.pow(2,re/ue))/Math.log(ae)*ue;var pe=be-Math.floor(be);for(ue=0;ue<Math.floor(be);ue++)de=Math.floor(Math.random()*ae).toString(ae)+de;pe&&(ve=Math.pow(ae,pe),de=Math.floor(Math.random()*ve).toString(ae)+de);var ge=parseInt(de,ae);return Q&&Q[de]||ge!==1/0&&ge>=Math.pow(2,re)?oe>10?(i.warn("randstr failed uniqueness"),de):J(Q,re,ae,(oe||0)+1):de},i.OptionControl=function(J,Q){J||(J={}),Q||(Q="opt");var re={optionList:[],_newoption:function(ae){ae[Q]=J,re[ae.name]=ae,re.optionList.push(ae)}};return re["_"+Q]=J,re},i.smooth=function(J,Q){if((Q=Math.round(Q)||0)<2)return J;var re,ae,oe,ue,ve=J.length,be=2*ve,de=2*Q-1,pe=new Array(de),ge=new Array(ve);for(re=0;re<de;re++)pe[re]=(1-Math.cos(Math.PI*(re+1)/Q))/(2*Q);for(re=0;re<ve;re++){for(ue=0,ae=0;ae<de;ae++)(oe=re+ae+1-Q)<-ve?oe-=be*Math.round(oe/be):oe>=be&&(oe-=be*Math.floor(oe/be)),oe<0?oe=-1-oe:oe>=ve&&(oe=be-1-oe),ue+=J[oe]*pe[ae];ge[re]=ue}return ge},i.syncOrAsync=function(J,Q,re){var ae;function oe(){return i.syncOrAsync(J,Q,re)}for(;J.length;)if((ae=(0,J.splice(0,1)[0])(Q))&&ae.then)return ae.then(oe);return re&&re(Q)},i.stripTrailingSlash=function(J){return"/"===J.substr(-1)?J.substr(0,J.length-1):J},i.noneOrAll=function(J,Q,re){if(J){var ae,oe=!1,ue=!0;for(ae=0;ae<re.length;ae++)null!=J[re[ae]]?oe=!0:ue=!1;if(oe&&!ue)for(ae=0;ae<re.length;ae++)J[re[ae]]=Q[re[ae]]}},i.mergeArray=function(J,Q,re,ae){var oe="function"==typeof ae;if(i.isArrayOrTypedArray(J))for(var ue=Math.min(J.length,Q.length),ve=0;ve<ue;ve++){var be=J[ve];Q[ve][re]=oe?ae(be):be}},i.mergeArrayCastPositive=function(J,Q,re){return i.mergeArray(J,Q,re,function(ae){var oe=+ae;return isFinite(oe)&&oe>0?oe:0})},i.fillArray=function(J,Q,re,ae){if(ae=ae||i.identity,i.isArrayOrTypedArray(J))for(var oe=0;oe<Q.length;oe++)Q[oe][re]=ae(J[oe])},i.castOption=function(J,Q,re,ae){ae=ae||i.identity;var oe=i.nestedProperty(J,re).get();return i.isArrayOrTypedArray(oe)?Array.isArray(Q)&&i.isArrayOrTypedArray(oe[Q[0]])?ae(oe[Q[0]][Q[1]]):ae(oe[Q]):oe},i.extractOption=function(J,Q,re,ae){if(re in J)return J[re];var oe=i.nestedProperty(Q,ae).get();return Array.isArray(oe)?void 0:oe},i.tagSelected=function(J,Q,re){var ae,oe,ue=Q.selectedpoints,ve=Q._indexToPoints;ve&&(ae=w(ve));for(var be=0;be<ue.length;be++){var de=ue[be];if(i.isIndex(de)||i.isArrayOrTypedArray(de)&&i.isIndex(de[0])&&i.isIndex(de[1])){var pe=ae?ae[de]:de,ge=re?re[pe]:pe;void 0!==(oe=ge)&&oe<J.length&&(J[ge].selected=1)}}},i.selIndices2selPoints=function(J){var Q=J.selectedpoints,re=J._indexToPoints;if(re){for(var ae=w(re),oe=[],ue=0;ue<Q.length;ue++){var ve=Q[ue];if(i.isIndex(ve)){var be=ae[ve];i.isIndex(be)&&oe.push(be)}}return oe}return Q},i.getTargetArray=function(J,Q){var re=Q.target;if("string"==typeof re&&re){var ae=i.nestedProperty(J,re).get();return!!i.isArrayOrTypedArray(ae)&&ae}return!!i.isArrayOrTypedArray(re)&&re},i.minExtend=function J(Q,re,ae){var oe={};"object"!=typeof re&&(re={});var ue,ve,be,de="pieLike"===ae?-1:3,pe=Object.keys(Q);for(ue=0;ue<pe.length;ue++)be=Q[ve=pe[ue]],"_"!==ve.charAt(0)&&"function"!=typeof be&&("module"===ve?oe[ve]=be:Array.isArray(be)?oe[ve]="colorscale"===ve||-1===de?be.slice():be.slice(0,de):i.isTypedArray(be)?oe[ve]=-1===de?be.subarray():be.subarray(0,de):oe[ve]=be&&"object"==typeof be?J(Q[ve],re[ve],ae):be);for(pe=Object.keys(re),ue=0;ue<pe.length;ue++)"object"==typeof(be=re[ve=pe[ue]])&&ve in oe&&"object"==typeof oe[ve]||(oe[ve]=be);return oe},i.titleCase=function(J){return J.charAt(0).toUpperCase()+J.substr(1)},i.containsAny=function(J,Q){for(var re=0;re<Q.length;re++)if(-1!==J.indexOf(Q[re]))return!0;return!1},i.isIE=function(){return void 0!==window.navigator.msSaveBlob};var E=/Version\/[\d\.]+.*Safari/;i.isSafari=function(){return E.test(window.navigator.userAgent)};var C=/iPad|iPhone|iPod/;i.isIOS=function(){return C.test(window.navigator.userAgent)};var O=/Firefox\/(\d+)\.\d+/;i.getFirefoxVersion=function(){var J=O.exec(window.navigator.userAgent);if(J&&2===J.length){var Q=parseInt(J[1]);if(!isNaN(Q))return Q}return null},i.isD3Selection=function(J){return J instanceof M.selection},i.ensureSingle=function(J,Q,re,ae){var oe=J.select(Q+(re?"."+re:""));if(oe.size())return oe;var ue=J.append(Q);return re&&ue.classed(re,!0),ae&&ue.call(ae),ue},i.ensureSingleById=function(J,Q,re,ae){var oe=J.select(Q+"#"+re);if(oe.size())return oe;var ue=J.append(Q).attr("id",re);return ae&&ue.call(ae),ue},i.objectFromPath=function(J,Q){for(var re,ae=J.split("."),oe=re={},ue=0;ue<ae.length;ue++){var ve=ae[ue],be=null,de=ae[ue].match(/(.*)\[([0-9]+)\]/);de?(ve=de[1],be=de[2],re=re[ve]=[],ue===ae.length-1?re[be]=Q:re[be]={},re=re[be]):(ue===ae.length-1?re[ve]=Q:re[ve]={},re=re[ve])}return oe};var P=/^([^\[\.]+)\.(.+)?/,R=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function j(J){return"__"===J.slice(0,2)}i.expandObjectPaths=function(J){var Q,re,ae,oe,ue,ve,be;if("object"==typeof J&&!Array.isArray(J))for(re in J)if(J.hasOwnProperty(re))if(Q=re.match(P)){if(oe=J[re],j(ae=Q[1]))continue;delete J[re],J[ae]=i.extendDeepNoArrays(J[ae]||{},i.objectFromPath(re,i.expandObjectPaths(oe))[ae])}else if(Q=re.match(R)){if(oe=J[re],j(ae=Q[1]))continue;if(ue=parseInt(Q[2]),delete J[re],J[ae]=J[ae]||[],"."===Q[3])be=Q[4],ve=J[ae][ue]=J[ae][ue]||{},i.extendDeepNoArrays(ve,i.objectFromPath(be,i.expandObjectPaths(oe)));else{if(j(ae))continue;J[ae][ue]=i.expandObjectPaths(oe)}}else{if(j(re))continue;J[re]=i.expandObjectPaths(J[re])}return J},i.numSeparate=function(J,Q,re){if(re||(re=!1),"string"!=typeof Q||0===Q.length)throw new Error("Separator string required for formatting!");"number"==typeof J&&(J=String(J));var ae=/(\d+)(\d{3})/,oe=Q.charAt(0),ue=Q.charAt(1),ve=J.split("."),be=ve[0],de=ve.length>1?oe+ve[1]:"";if(ue&&(ve.length>1||be.length>4||re))for(;ae.test(be);)be=be.replace(ae,"$1"+ue+"$2");return be+de},i.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;i.templateString=function(J,Q){var re={};return J.replace(i.TEMPLATE_STRING_REGEX,function(ae,oe){var ue;return z.test(oe)?ue=Q[oe]:(re[oe]=re[oe]||i.nestedProperty(Q,oe).get,ue=re[oe]()),i.isValidTextValue(ue)?ue:""})};var N={max:10,count:0,name:"hovertemplate"};i.hovertemplateString=function(){return te.apply(N,arguments)};var Y={max:10,count:0,name:"texttemplate"};i.texttemplateString=function(){return te.apply(Y,arguments)};var F=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,U={max:10,count:0,name:"texttemplate",parseMultDiv:!0};i.texttemplateStringForShapes=function(){return te.apply(U,arguments)};var V=/^[:|\|]/;function te(J,Q,re){var ae=this,oe=arguments;Q||(Q={});var ue={};return J.replace(i.TEMPLATE_STRING_REGEX,function(ve,be,de){var pe="_xother"===be||"_yother"===be,ge="_xother_"===be||"_yother_"===be,Ae="xother_"===be||"yother_"===be,ye="xother"===be||"yother"===be||pe||Ae||ge,we=be;(pe||ge)&&(we=we.substring(1)),(Ae||ge)&&(we=we.substring(0,we.length-1));var se,ie,he,xe,Te,Se=null,_e=null;if(ae.parseMultDiv){var Me=(Te=(xe=we).match(F))?{key:Te[1],op:Te[2],number:Number(Te[3])}:{key:xe,op:null,number:null};we=Me.key,Se=Me.op,_e=Me.number}if(ye){if(void 0===(se=Q[we]))return""}else for(he=3;he<oe.length;he++)if(ie=oe[he]){if(ie.hasOwnProperty(we)){se=ie[we];break}if(z.test(we)||(se=i.nestedProperty(ie,we).get(),(se=ue[we]||i.nestedProperty(ie,we).get())&&(ue[we]=se)),void 0!==se)break}if(void 0!==se&&("*"===Se&&(se*=_e),"/"===Se&&(se/=_e)),void 0===se&&ae)return ae.count<ae.max&&(i.warn("Variable '"+we+"' in "+ae.name+" could not be found!"),se=ve),ae.count===ae.max&&i.warn("Too many "+ae.name+" warnings - additional warnings will be suppressed"),ae.count++,ve;if(de){var Ee;if(":"===de[0]&&(se=(Ee=re?re.numberFormat:i.numberFormat)(de.replace(V,""))(se)),"|"===de[0]){Ee=re?re.timeFormat:k;var Ie=i.dateTime2ms(se);se=i.formatDate(Ie,de.replace(V,""),!1,Ee)}}else{var fe=we+"Label";Q.hasOwnProperty(fe)&&(se=Q[fe])}return ye&&(se="("+se+")",(pe||ge)&&(se=" "+se),(Ae||ge)&&(se+=" ")),se})}i.subplotSort=function(J,Q){for(var re=Math.min(J.length,Q.length)+1,ae=0,oe=0,ue=0;ue<re;ue++){var ve=J.charCodeAt(ue)||0,be=Q.charCodeAt(ue)||0,de=ve>=48&&ve<=57,pe=be>=48&&be<=57;if(de&&(ae=10*ae+ve-48),pe&&(oe=10*oe+be-48),!de||!pe){if(ae!==oe)return ae-oe;if(ve!==be)return ve-be}}return oe-ae};var $=2e9;i.seedPseudoRandom=function(){$=2e9},i.pseudoRandom=function(){var J=$;return $=(69069*$+1)%4294967296,Math.abs($-J)<429496729?i.pseudoRandom():$/4294967296},i.fillText=function(J,Q,re){var ae=Array.isArray(re)?function(ve){re.push(ve)}:function(ve){re.text=ve},oe=i.extractOption(J,Q,"htx","hovertext");if(i.isValidTextValue(oe))return ae(oe);var ue=i.extractOption(J,Q,"tx","text");return i.isValidTextValue(ue)?ae(ue):void 0},i.isValidTextValue=function(J){return J||0===J},i.formatPercent=function(J,Q){Q=Q||0;for(var re=(Math.round(100*J*Math.pow(10,Q))*Math.pow(.1,Q)).toFixed(Q)+"%",ae=0;ae<Q;ae++)-1!==re.indexOf(".")&&(re=(re=re.replace("0%","%")).replace(".%","%"));return re},i.isHidden=function(J){var Q=window.getComputedStyle(J).display;return!Q||"none"===Q},i.strTranslate=function(J,Q){return J||Q?"translate("+J+","+Q+")":""},i.strRotate=function(J){return J?"rotate("+J+")":""},i.strScale=function(J){return 1!==J?"scale("+J+")":""},i.getTextTransform=function(J){var Q=J.noCenter,re=J.textX,ae=J.textY,oe=J.targetX,ue=J.targetY,ve=J.anchorX||0,be=J.anchorY||0,de=J.rotate,pe=J.scale;return pe?pe>1&&(pe=1):pe=0,i.strTranslate(oe-pe*(re+ve),ue-pe*(ae+be))+i.strScale(pe)+(de?"rotate("+de+(Q?"":" "+re+" "+ae)+")":"")},i.setTransormAndDisplay=function(J,Q){J.attr("transform",i.getTextTransform(Q)),J.style("display",Q.scale?null:"none")},i.ensureUniformFontSize=function(J,Q){var re=i.extendFlat({},Q);return re.size=Math.max(Q.size,J._fullLayout.uniformtext.minsize||0),re},i.join2=function(J,Q,re){var ae=J.length;return ae>1?J.slice(0,-1).join(Q)+re+J[ae-1]:J.join(Q)},i.bigFont=function(J){return Math.round(1.2*J)};var X=i.getFirefoxVersion(),W=null!==X&&X<86;i.getPositionFromD3Event=function(){return W?[M.event.layerX,M.event.layerY]:[M.event.offsetX,M.event.offsetY]}},41965:function(ee){"use strict";ee.exports=function(D){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(D):"[object Object]"===Object.prototype.toString.call(D)&&Object.getPrototypeOf(D).hasOwnProperty("hasOwnProperty")}},66636:function(ee,D,e){"use strict";var M=e(65487),k=/^\w*$/;ee.exports=function(a,T,b,p){var s,t,i;b=b||"name",p=p||"value";var n={};T&&T.length?(i=M(a,T),t=i.get()):t=a,T=T||"";var r={};if(t)for(s=0;s<t.length;s++)r[t[s][b]]=s;var o=k.test(p),l={set:function(u,d){var c=null===d?4:0;if(!t){if(!i||4===c)return;t=[],i.set(t)}var x=r[u];if(void 0===x){if(4===c)return;c|=3,x=t.length,r[u]=x}else d!==(o?t[x][p]:M(t[x],p).get())&&(c|=2);var g=t[x]=t[x]||{};return g[b]=u,o?g[p]=d:M(g,p).set(d),null!==d&&(c&=-5),n[x]=n[x]|c,l},get:function(u){if(t){var d=r[u];return void 0===d?void 0:o?t[d][p]:M(t[d],p).get()}},rename:function(u,d){var c=r[u];return void 0===c||(n[c]=1|n[c],r[d]=c,delete r[u],t[c][b]=d),l},remove:function(u){var d=r[u];if(void 0===d)return l;var c=t[d];if(Object.keys(c).length>2)return n[d]=2|n[d],l.set(u,null);if(o){for(s=d;s<t.length;s++)n[s]=3|n[s];for(s=d;s<t.length;s++)r[t[s][b]]--;t.splice(d,1),delete r[u]}else M(c,p).set(null),n[d]=6|n[d];return l},constructUpdate:function(){for(var u,d,c={},x=Object.keys(n),g=0;g<x.length;g++)d=x[g],u=T+"["+d+"]",t[d]?(1&n[d]&&(c[u+"."+b]=t[d][b]),2&n[d]&&(c[u+"."+p]=o?4&n[d]?null:t[d][p]:4&n[d]?null:M(t[d],p).get())):c[u]=null;return c}};return l}},15867:function(ee,D,e){"use strict";var M=e(73972);ee.exports=function(k,a){for(var T=k._context.locale,b=0;b<2;b++){for(var p=k._context.locales,s=0;s<2;s++){var t=(p[T]||{}).dictionary;if(t){var i=t[a];if(i)return i}p=M.localeRegistry}var n=T.split("-")[0];if(n===T)break;T=n}return a}},47769:function(ee,D,e){"use strict";var M=e(72075).dfltConfig,k=e(75046),a=ee.exports={};a.log=function(){var T;if(M.logging>1){var b=["LOG:"];for(T=0;T<arguments.length;T++)b.push(arguments[T]);console.trace.apply(console,b)}if(M.notifyOnLogging>1){var p=[];for(T=0;T<arguments.length;T++)p.push(arguments[T]);k(p.join("<br>"),"long")}},a.warn=function(){var T;if(M.logging>0){var b=["WARN:"];for(T=0;T<arguments.length;T++)b.push(arguments[T]);console.trace.apply(console,b)}if(M.notifyOnLogging>0){var p=[];for(T=0;T<arguments.length;T++)p.push(arguments[T]);k(p.join("<br>"),"stick")}},a.error=function(){var T;if(M.logging>0){var b=["ERROR:"];for(T=0;T<arguments.length;T++)b.push(arguments[T]);console.error.apply(console,b)}if(M.notifyOnLogging>0){var p=[];for(T=0;T<arguments.length;T++)p.push(arguments[T]);k(p.join("<br>"),"stick")}}},77310:function(ee,D,e){"use strict";var M=e(39898);ee.exports=function(k,a,T){var b=k.selectAll("g."+T.replace(/\s/g,".")).data(a,function(s){return s[0].trace.uid});b.exit().remove(),b.enter().append("g").attr("class",T),b.order();var p=k.classed("rangeplot")?"nodeRangePlot3":"node3";return b.each(function(s){s[0][p]=M.select(this)}),b}},35657:function(ee,D,e){"use strict";var M=e(79576);D.init2dArray=function(k,a){for(var T=new Array(k),b=0;b<k;b++)T[b]=new Array(a);return T},D.transposeRagged=function(k){var a,T,b=0,p=k.length;for(a=0;a<p;a++)b=Math.max(b,k[a].length);var s=new Array(b);for(a=0;a<b;a++)for(s[a]=new Array(p),T=0;T<p;T++)s[a][T]=k[T][a];return s},D.dot=function(k,a){if(!k.length||!a.length||k.length!==a.length)return null;var T,b,p=k.length;if(k[0].length)for(T=new Array(p),b=0;b<p;b++)T[b]=D.dot(k[b],a);else if(a[0].length){var s=D.transposeRagged(a);for(T=new Array(s.length),b=0;b<s.length;b++)T[b]=D.dot(k,s[b])}else for(T=0,b=0;b<p;b++)T+=k[b]*a[b];return T},D.translationMatrix=function(k,a){return[[1,0,k],[0,1,a],[0,0,1]]},D.rotationMatrix=function(k){var a=k*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},D.rotationXYMatrix=function(k,a,T){return D.dot(D.dot(D.translationMatrix(a,T),D.rotationMatrix(k)),D.translationMatrix(-a,-T))},D.apply3DTransform=function(k){return function(){var a=arguments,T=1===arguments.length?a[0]:[a[0],a[1],a[2]||0];return D.dot(k,[T[0],T[1],T[2],1]).slice(0,3)}},D.apply2DTransform=function(k){return function(){var a=arguments;3===a.length&&(a=a[0]);var T=1===arguments.length?a[0]:[a[0],a[1]];return D.dot(k,[T[0],T[1],1]).slice(0,2)}},D.apply2DTransform2=function(k){var a=D.apply2DTransform(k);return function(T){return a(T.slice(0,2)).concat(a(T.slice(2,4)))}},D.convertCssMatrix=function(k){if(k){var a=k.length;if(16===a)return k;if(6===a)return[k[0],k[1],0,0,k[2],k[3],0,0,0,0,1,0,k[4],k[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},D.inverseTransformMatrix=function(k){var a=[];return M.invert(a,k),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},64872:function(ee){"use strict";ee.exports={mod:function(D,e){var M=D%e;return M<0?M+e:M},modHalf:function(D,e){return Math.abs(D)>e/2?D-Math.round(D/e)*e:D}}},65487:function(ee,D,e){"use strict";var M=e(92770),k=e(73627).isArrayOrTypedArray;function a(n,r){return function(){var o,l,u,d,c,x=n;for(d=0;d<r.length-1;d++){if(-1===(o=r[d])){for(l=!0,u=[],c=0;c<x.length;c++)u[c]=a(x[c],r.slice(d+1))(),u[c]!==u[0]&&(l=!1);return l?u[0]:u}if("number"==typeof o&&!k(x)||"object"!=typeof(x=x[o])||null===x)return}if("object"==typeof x&&null!==x&&null!==(u=x[r[d]]))return u}}ee.exports=function(n,r){if(M(r))r=String(r);else if("string"!=typeof r||"[-1]"===r.substr(r.length-4))throw"bad property string";var o,l,u,d,c=r.split(".");for(d=0;d<c.length;d++)if("__"===String(c[d]).slice(0,2))throw"bad property string";for(d=0;d<c.length;){if(o=String(c[d]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(o[1])c[d]=o[1];else{if(0!==d)throw"bad property string";c.splice(0,1)}for(l=o[2].substr(1,o[2].length-2).split("]["),u=0;u<l.length;u++)d++,c.splice(d,0,Number(l[u]))}d++}return"object"!=typeof n?{set:function(){throw"bad container"},get:function(){},astr:r,parts:c,obj:n}:{set:p(n,c,r),get:a(n,c),astr:r,parts:c,obj:n}};var T=/(^|\.)args\[/;function b(n,r){return void 0===n||null===n&&!r.match(T)}function p(n,r,o){return function(l){var u,d,c=n,x="",g=[[n,x]],h=b(l,o);for(d=0;d<r.length-1;d++){if("number"==typeof(u=r[d])&&!k(c))throw"array index but container is not an array";if(-1===u){if(h=!t(c,r.slice(d+1),l,o))break;return}if(!i(c,u,r[d+1],h))break;if("object"!=typeof(c=c[u])||null===c)throw"container is not an object";x=s(x,u),g.push([c,x])}if(h){if(d===r.length-1&&(delete c[r[d]],Array.isArray(c)&&+r[d]==c.length-1))for(;c.length&&void 0===c[c.length-1];)c.pop()}else c[r[d]]=l}}function s(n,r){var o=r;return M(r)?o="["+r+"]":n&&(o="."+r),n+o}function t(n,r,o,l){var u,d=k(o),c=!0,x=o,g=l.replace("-1",0),h=!d&&b(o,g),m=r[0];for(u=0;u<n.length;u++)g=l.replace("-1",u),d&&(h=b(x=o[u%o.length],g)),h&&(c=!1),i(n,u,m,h)&&p(n[u],r,l.replace("-1",u))(x);return c}function i(n,r,o,l){if(void 0===n[r]){if(l)return!1;n[r]="number"==typeof o?[]:{}}return!0}},64213:function(ee){"use strict";ee.exports=function(){}},75046:function(ee,D,e){"use strict";var M=e(39898),k=e(92770),a=[];ee.exports=function(T,b){if(-1===a.indexOf(T)){a.push(T);var p=1e3;k(b)?p=b:"long"===b&&(p=3e3);var s=M.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0),s.selectAll(".notifier-note").data(a).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var n=M.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var r=n.append("p"),o=i.split(/<br\s*\/?>/g),l=0;l<o.length;l++)l&&r.append("br"),r.append("span").text(o[l]);"stick"===b?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(p).call(t)})}function t(i){i.duration(700).style("opacity",0).each("end",function(n){var r=a.indexOf(n);-1!==r&&a.splice(r,1),M.select(this).remove()})}}},39918:function(ee,D,e){"use strict";var M=e(6964),k="data-savedcursor";ee.exports=function(a,T){var b=a.attr(k);if(T){if(!b){for(var p=(a.attr("class")||"").split(" "),s=0;s<p.length;s++){var t=p[s];0===t.indexOf("cursor-")&&a.attr(k,t.substr(7)).classed(t,!1)}a.attr(k)||a.attr(k,"!!")}M(a,T)}else b&&(a.attr(k,null),"!!"===b?M(a):M(a,b))}},61082:function(ee,D,e){"use strict";var M=e(35657).dot,k=e(50606).BADNUM,a=ee.exports={};a.tester=function(T){var b,p=T.slice(),s=p[0][0],t=s,i=p[0][1],n=i;for(p[p.length-1][0]===p[0][0]&&p[p.length-1][1]===p[0][1]||p.push(p[0]),b=1;b<p.length;b++)s=Math.min(s,p[b][0]),t=Math.max(t,p[b][0]),i=Math.min(i,p[b][1]),n=Math.max(n,p[b][1]);var r,o=!1;5===p.length&&(p[0][0]===p[1][0]?p[2][0]===p[3][0]&&p[0][1]===p[3][1]&&p[1][1]===p[2][1]&&(o=!0,r=function(d){return d[0]===p[0][0]}):p[0][1]===p[1][1]&&p[2][1]===p[3][1]&&p[0][0]===p[3][0]&&p[1][0]===p[2][0]&&(o=!0,r=function(d){return d[1]===p[0][1]}));var l=!0,u=p[0];for(b=1;b<p.length;b++)if(u[0]!==p[b][0]||u[1]!==p[b][1]){l=!1;break}return{xmin:s,xmax:t,ymin:i,ymax:n,pts:p,contains:o?function(d,c){var x=d[0],g=d[1];return!(x===k||x<s||x>t||g===k||g<i||g>n||c&&r(d))}:function(d,c){var x=d[0],g=d[1];if(x===k||x<s||x>t||g===k||g<i||g>n)return!1;var h,m,y,v,_,f=p.length,S=p[0][0],w=p[0][1],E=0;for(h=1;h<f;h++)if(m=S,y=w,S=p[h][0],w=p[h][1],!(x<(v=Math.min(m,S))||x>Math.max(m,S)||g>Math.max(y,w)))if(g<Math.min(y,w))x!==v&&E++;else{if(g===(_=S===m?g:y+(x-m)*(w-y)/(S-m)))return 1!==h||!c;g<=_&&x!==v&&E++}return E%2==1},isRect:o,degenerate:l}},a.isSegmentBent=function(T,b,p,s){var t,i,n,r=T[b],o=[T[p][0]-r[0],T[p][1]-r[1]],l=M(o,o),u=Math.sqrt(l),d=[-o[1]/u,o[0]/u];for(t=b+1;t<p;t++)if(i=[T[t][0]-r[0],T[t][1]-r[1]],(n=M(i,o))<0||n>l||Math.abs(M(i,d))>s)return!0;return!1},a.filter=function(T,b){var p=[T[0]],s=0,t=0;function i(n){T.push(n);var r=p.length,o=s;p.splice(t+1);for(var l=o+1;l<T.length;l++)(l===T.length-1||a.isSegmentBent(T,o,l+1,b))&&(p.push(T[l]),p.length<r-2&&(s=l,t=p.length-1),o=l)}return T.length>1&&i(T.pop()),{addPt:i,raw:T,filtered:p}}},79749:function(ee,D,e){"use strict";var M=e(58617),k=e(98580);ee.exports=function(a,T,b){var p=a._fullLayout,s=!0;return p._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(b);else if(!t.pick||p._has("parcoords")){try{t.regl=k({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:a._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:T||[],cachedCode:b||{}})}catch{s=!1}t.regl||(s=!1),s&&this.addEventListener("webglcontextlost",function(i){a&&a.emit&&a.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),s||M({container:p._glcontainer.node()}),s}},45142:function(ee,D,e){"use strict";var M=e(92770),k=e(35791);ee.exports=function(a){var T,r;if("string"!=typeof(T=a&&a.hasOwnProperty("userAgent")?a.userAgent:(typeof navigator<"u"&&(r=navigator.userAgent),r&&r.headers&&"string"==typeof r.headers["user-agent"]&&(r=r.headers["user-agent"]),r)))return!0;var b=k({ua:{headers:{"user-agent":T}},tablet:!0,featureDetect:!1});if(!b)for(var p=T.split(" "),s=1;s<p.length;s++)if(-1!==p[s].indexOf("Safari"))for(var t=s-1;t>-1;t--){var i=p[t];if("Version/"===i.substr(0,8)){var n=i.substr(8).split(".")[0];if(M(n)&&(n=+n),n>=13)return!0}}return b}},75138:function(ee){"use strict";ee.exports=function(D,e){if(e instanceof RegExp){for(var M=e.toString(),k=0;k<D.length;k++)if(D[k]instanceof RegExp&&D[k].toString()===M)return D;D.push(e)}else!e&&0!==e||-1!==D.indexOf(e)||D.push(e);return D}},10847:function(ee,D,e){"use strict";var M=e(71828),k=e(72075).dfltConfig,a={add:function(T,b,p,s,t){var i,n;T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},n=T.undoQueue.index,T.autoplay?T.undoQueue.inSequence||(T.autoplay=!1):(!T.undoQueue.sequence||T.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},T.undoQueue.queue.splice(n,T.undoQueue.queue.length-n,i),T.undoQueue.index+=1):i=T.undoQueue.queue[n-1],T.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(b),i.undo.args.unshift(p),i.redo.calls.push(s),i.redo.args.push(t)),T.undoQueue.queue.length>k.queueLength&&(T.undoQueue.queue.shift(),T.undoQueue.index--))},startSequence:function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!0,T.undoQueue.beginSequence=!0},stopSequence:function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!1,T.undoQueue.beginSequence=!1},undo:function(T){var b,p;if(!(void 0===T.undoQueue||isNaN(T.undoQueue.index)||T.undoQueue.index<=0)){for(T.undoQueue.index--,b=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,p=0;p<b.undo.calls.length;p++)a.plotDo(T,b.undo.calls[p],b.undo.args[p]);T.undoQueue.inSequence=!1,T.autoplay=!1}},redo:function(T){var b,p;if(!(void 0===T.undoQueue||isNaN(T.undoQueue.index)||T.undoQueue.index>=T.undoQueue.queue.length)){for(b=T.undoQueue.queue[T.undoQueue.index],T.undoQueue.inSequence=!0,p=0;p<b.redo.calls.length;p++)a.plotDo(T,b.redo.calls[p],b.redo.args[p]);T.undoQueue.inSequence=!1,T.autoplay=!1,T.undoQueue.index++}},plotDo:function(T,b,p){T.autoplay=!0,p=function(s,t){for(var i,n=[],r=0;r<t.length;r++)i=t[r],n[r]=i===s?i:"object"==typeof i?Array.isArray(i)?M.extendDeep([],i):M.extendDeepAll({},i):i;return n}(T,p),b.apply(null,p)}};ee.exports=a},30587:function(ee,D){"use strict";D.counter=function(e,M,k,a){var T=(M||"")+(k?"":"$"),b=!1===a?"":"^";return"xy"===e?new RegExp(b+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+T):new RegExp(b+e+"([2-9]|[1-9][0-9]+)?"+T)}},6962:function(ee){"use strict";var D=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;ee.exports=function(M,k){for(;k;){var a=M.match(D);if(a)M=a[1];else{if(!M.match(e))throw new Error("bad relativeAttr call:"+[M,k]);M=""}if("^"!==k.charAt(0))break;k=k.slice(1)}return M&&"["!==k.charAt(0)?M+"."+k:M+k}},51332:function(ee,D,e){"use strict";var M=e(73627).isArrayOrTypedArray,k=e(41965);ee.exports=function a(T,b){for(var p in b){var s=b[p],t=T[p];if(t!==s)if("_"===p.charAt(0)||"function"==typeof s){if(p in T)continue;T[p]=s}else if(M(s)&&M(t)&&k(s[0])){if("customdata"===p||"ids"===p)continue;for(var i=Math.min(s.length,t.length),n=0;n<i;n++)t[n]!==s[n]&&k(s[n])&&k(t[n])&&a(t[n],s[n])}else k(s)&&k(t)&&(a(t,s),Object.keys(t).length||delete T[p])}}},65888:function(ee,D,e){"use strict";var M=e(92770),k=e(47769),a=e(23389),T=e(50606).BADNUM,b=1e-9;function p(n,r){return n<r}function s(n,r){return n<=r}function t(n,r){return n>r}function i(n,r){return n>=r}D.findBin=function(n,r,o){if(M(r.start))return o?Math.ceil((n-r.start)/r.size-b)-1:Math.floor((n-r.start)/r.size+b);var l,u,d=0,c=r.length,x=0,g=c>1?(r[c-1]-r[0])/(c-1):1;for(u=g>=0?o?p:s:o?i:t,n+=g*b*(o?-1:1)*(g>=0?1:-1);d<c&&x++<100;)u(r[l=Math.floor((d+c)/2)],n)?d=l+1:c=l;return x>90&&k.log("Long binary search..."),d-1},D.sorterAsc=function(n,r){return n-r},D.sorterDes=function(n,r){return r-n},D.distinctVals=function(n){var r,o=n.slice();for(o.sort(D.sorterAsc),r=o.length-1;r>-1&&o[r]===T;r--);for(var l,u=o[r]-o[0]||1,d=u/(r||1)/1e4,c=[],x=0;x<=r;x++){var g=o[x],h=g-l;void 0===l?(c.push(g),l=g):h>d&&(u=Math.min(u,h),c.push(g),l=g)}return{vals:c,minDiff:u}},D.roundUp=function(n,r,o){for(var l,u=0,d=r.length-1,c=0,x=o?0:1,g=o?1:0,h=o?Math.ceil:Math.floor;u<d&&c++<100;)r[l=h((u+d)/2)]<=n?u=l+x:d=l-g;return r[u]},D.sort=function(n,r){for(var o=0,l=0,u=1;u<n.length;u++){var d=r(n[u],n[u-1]);if(d<0?o=1:d>0&&(l=1),o&&l)return n.sort(r)}return l?n:n.reverse()},D.findIndexOfMin=function(n,r){r=r||a;for(var o,l=1/0,u=0;u<n.length;u++){var d=r(n[u]);d<l&&(l=d,o=u)}return o}},6964:function(ee){"use strict";ee.exports=function(D,e){(D.attr("class")||"").split(" ").forEach(function(M){0===M.indexOf("cursor-")&&D.classed(M,!1)}),e&&D.classed("cursor-"+e,!0)}},58617:function(ee,D,e){"use strict";var M=e(7901),k=function(){};ee.exports=function(a){for(var T in a)"function"==typeof a[T]&&(a[T]=k);a.destroy=function(){a.container.parentNode.removeChild(a.container)};var b=document.createElement("div");b.className="no-webgl",b.style.cursor="pointer",b.style.fontSize="24px",b.style.color=M.defaults[0],b.style.position="absolute",b.style.left=b.style.top="0px",b.style.width=b.style.height="100%",b.style["background-color"]=M.lightLine,b.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",b.appendChild(p),a.container.appendChild(b),a.container.style.background="#FFFFFF",a.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(ee){"use strict";ee.exports=function(D){return Object.keys(D).sort()}},80038:function(ee,D,e){"use strict";var M=e(92770),k=e(73627).isArrayOrTypedArray;D.aggNums=function(a,T,b,p){var s,t;if((!p||p>b.length)&&(p=b.length),M(T)||(T=!1),k(b[0])){for(t=new Array(p),s=0;s<p;s++)t[s]=D.aggNums(a,T,b[s]);b=t}for(s=0;s<p;s++)M(T)?M(b[s])&&(T=a(+T,+b[s])):T=b[s];return T},D.len=function(a){return D.aggNums(function(T){return T+1},0,a)},D.mean=function(a,T){return T||(T=D.len(a)),D.aggNums(function(b,p){return b+p},0,a)/T},D.midRange=function(a){if(void 0!==a&&0!==a.length)return(D.aggNums(Math.max,null,a)+D.aggNums(Math.min,null,a))/2},D.variance=function(a,T,b){return T||(T=D.len(a)),M(b)||(b=D.mean(a,T)),D.aggNums(function(p,s){return p+Math.pow(s-b,2)},0,a)/T},D.stdev=function(a,T,b){return Math.sqrt(D.variance(a,T,b))},D.median=function(a){var T=a.slice().sort();return D.interp(T,.5)},D.interp=function(a,T){if(!M(T))throw"n should be a finite number";if((T=T*a.length-.5)<0)return a[0];if(T>a.length-1)return a[a.length-1];var b=T%1;return b*a[Math.ceil(T)]+(1-b)*a[Math.floor(T)]}},78614:function(ee,D,e){"use strict";var M=e(25075);ee.exports=function(k){return k?M(k):[0,0,0,1]}},3883:function(ee,D,e){"use strict";var M=e(32396),k=e(91424),a=e(71828),T=null;ee.exports=function(){if(null!==T)return T;T=!1;var b=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!b){var p=Array.from(M.CSS_DECLARATIONS).reverse(),s=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof s)T=p.some(function(n){return s.apply(null,n)});else{var t=k.tester.append("image").attr("style",M.STYLE),i=window.getComputedStyle(t.node()).imageRendering;T=p.some(function(n){var r=n[1];return i===r||i===r.toLowerCase()}),t.remove()}}return T}},63893:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=k.strTranslate,T=e(77922),b=e(18783).LINE_SPACING,p=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;D.convertToTspans=function(R,j,z){var N=R.text(),Y=!R.attr("data-notex")&&j&&j._context.typesetMath&&typeof MathJax<"u"&&N.match(p),F=M.select(R.node().parentNode);if(!F.empty()){var U=R.attr("class")?R.attr("class").split(" ")[0]:"text";return U+="-math",F.selectAll("svg."+U).remove(),F.selectAll("g."+U+"-group").remove(),R.style("display",null).attr({"data-unformatted":N,"data-math":"N"}),Y?(j&&j._promises||[]).push(new Promise(function(te){R.style("display","none");var $=parseInt(R.node().style.fontSize,10),X={fontSize:$};!function(W,J,Q){var re,ae,oe,ue,ve=parseInt((MathJax.version||"").split(".")[0]);if(2===ve||3===ve){var be=function(){var pe="math-output-"+k.randstr({},64),ge=(ue=M.select("body").append("div").attr({id:pe}).style({visibility:"hidden",position:"absolute","font-size":J.fontSize+"px"}).text(W.replace(s,"\\lt ").replace(t,"\\gt "))).node();return 2===ve?MathJax.Hub.Typeset(ge):MathJax.typeset([ge])},de=function(){var pe=ue.select(2===ve?".MathJax_SVG":".MathJax"),ge=!pe.empty()&&ue.select("svg").node();if(ge){var Ae,ye=ge.getBoundingClientRect();Ae=2===ve?M.select("body").select("#MathJax_SVG_glyphs"):pe.select("defs"),Q(pe,Ae,ye)}else k.log("There was an error in the tex syntax.",W),Q();ue.remove()};2===ve?MathJax.Hub.Queue(function(){return ae=k.extendDeepAll({},MathJax.Hub.config),oe=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},function(){if("SVG"!==(re=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},be,de,function(){if("SVG"!==re)return MathJax.Hub.setRenderer(re)},function(){return void 0!==oe&&(MathJax.Hub.processSectionDelay=oe),MathJax.Hub.Config(ae)}):3===ve&&(ae=k.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i,"svg"!==(re=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){be(),de(),"svg"!==re&&(MathJax.config.startup.output=re),MathJax.config=ae}))}else k.warn("No MathJax version:",MathJax.version)}(Y[2],X,function(W,J,Q){F.selectAll("svg."+U).remove(),F.selectAll("g."+U+"-group").remove();var re=W&&W.select("svg");if(!re||!re.node())return V(),void te();var ae=F.append("g").classed(U+"-group",!0).attr({"pointer-events":"none","data-unformatted":N,"data-math":"Y"});ae.node().appendChild(re.node()),J&&J.node()&&re.node().insertBefore(J.node().cloneNode(!0),re.node().firstChild);var oe=Q.width,ue=Q.height;re.attr({class:U,height:ue,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ve=R.node().style.fill||"black",be=re.select("g");be.attr({fill:ve,stroke:ve});var de=be.node().getBoundingClientRect(),pe=de.width,ge=de.height;(pe>oe||ge>ue)&&(re.style("overflow","hidden"),pe=(de=re.node().getBoundingClientRect()).width,ge=de.height);var Ae=+R.attr("x"),ye=+R.attr("y"),we=-($||R.node().getBoundingClientRect().height)/4;if("y"===U[0])ae.attr({transform:"rotate("+[-90,Ae,ye]+")"+a(-pe/2,we-ge/2)});else if("l"===U[0])ye=we-ge/2;else if("a"===U[0]&&0!==U.indexOf("atitle"))Ae=0,ye=we;else{var se=R.attr("text-anchor");Ae-=pe*("middle"===se?.5:"end"===se?1:0),ye=ye+we-ge/2}re.attr({x:Ae,y:ye}),z&&z.call(R,ae),te(ae)})})):V(),R}function V(){F.empty()||(U=R.attr("class")+"-math",F.select("svg."+U).remove()),R.text("").style("white-space","pre"),function($,X){X=X.replace(d," ");var W,J=!1,Q=[],re=-1;function ae(){re++;var _e=document.createElementNS(T.svg,"tspan");M.select(_e).attr({class:"line",dy:re*b+"em"}),$.appendChild(_e),W=_e;var Me=Q;if(Q=[{node:_e}],Me.length>1)for(var Ee=1;Ee<Me.length;Ee++)oe(Me[Ee])}function oe(_e){var Me,Ee=_e.type,Ie={};if("a"===Ee){Me="a";var fe=_e.target,xe=_e.href,Te=_e.popup;xe&&(Ie={"xlink:xlink:show":"_blank"===fe||"_"!==fe.charAt(0)?"new":"replace",target:fe,"xlink:xlink:href":xe},Te&&(Ie.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Te+'");return false;'))}else Me="tspan";_e.style&&(Ie.style=_e.style);var Ce=document.createElementNS(T.svg,Me);if("sup"===Ee||"sub"===Ee){ue(W,l),W.appendChild(Ce);var De=document.createElementNS(T.svg,"tspan");ue(De,l),M.select(De).attr("dy",o[Ee]),Ie.dy=r[Ee],W.appendChild(Ce),W.appendChild(De)}else W.appendChild(Ce);M.select(Ce).attr(Ie),W=_e.node=Ce,Q.push(_e)}function ue(_e,Me){_e.appendChild(document.createTextNode(Me))}function ve(_e){if(1!==Q.length){var Me=Q.pop();_e!==Me.type&&k.log("Start tag <"+Me.type+"> doesnt match end tag <"+_e+">. Pretending it did match.",X),W=Q[Q.length-1].node}else k.log("Ignoring unexpected end tag </"+_e+">.",X)}g.test(X)?ae():(W=$,Q=[{node:$}]);for(var be=X.split(c),de=0;de<be.length;de++){var pe=be[de],ge=pe.match(x),Ae=ge&&ge[2].toLowerCase(),ye=n[Ae];if("br"===Ae)ae();else if(void 0===ye)ue(W,E(pe));else if(ge[1])ve(Ae);else{var we=ge[4],se={type:Ae},ie=_(we,h);if(ie?(ie=ie.replace(f,"$1 fill:"),ye&&(ie+=";"+ye)):ye&&(ie=ye),ie&&(se.style=ie),"a"===Ae){J=!0;var he=_(we,m);if(he){var Se=C(he);Se&&(se.href=Se,se.target=_(we,y)||"_blank",se.popup=_(we,v))}}oe(se)}}return J}(R.node(),N)&&R.style("pointer-events","all"),D.positionText(R),z&&z.call(R)}};var s=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,i=[["$","$"],["\\(","\\)"]],n={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},r={sub:"0.3em",sup:"-0.6em"},o={sub:"-0.21em",sup:"0.42em"},l="\u200b",u=["http:","https:","mailto:","",void 0,":"],d=D.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,x=/<(\/?)([^ >]*)(\s+(.*))?>/i,g=/<br(\s+.*)?>/i;D.BR_TAG_ALL=/<br(\s+.*)?>/gi;var h=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,m=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,y=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,v=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function _(R,j){if(!R)return null;var z=R.match(j),N=z&&(z[3]||z[4]);return N&&E(N)}var f=/(^|;)\s*color:/;D.plainText=function(R,j){for(var z=void 0!==(j=j||{}).len&&-1!==j.len?j.len:1/0,N=void 0!==j.allowedTags?j.allowedTags:["br"],Y=R.split(c),F=[],U="",V=0,te=0;te<Y.length;te++){var $=Y[te],X=$.match(x),W=X&&X[2].toLowerCase();if(W)-1!==N.indexOf(W)&&(F.push($),U=W);else{var J=$.length;if(V+J<z)F.push($),V+=J;else if(V<z){var Q=z-V;U&&("br"!==U||Q<=3||J<=3)&&F.pop(),z>3?F.push($.substr(0,Q-3)+"..."):F.push($.substr(0,Q));break}U=""}}return F.join("")};var S={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},w=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function E(R){return R.replace(w,function(j,z){return("#"===z.charAt(0)?function(N){if(!(N>1114111)){var Y=String.fromCodePoint;if(Y)return Y(N);var F=String.fromCharCode;return N<=65535?F(N):F(55232+(N>>10),N%1024+56320)}}("x"===z.charAt(1)?parseInt(z.substr(2),16):parseInt(z.substr(1),10)):S[z])||j})}function C(R){var j=encodeURI(decodeURI(R)),z=document.createElement("a"),N=document.createElement("a");z.href=R,N.href=j;var Y=z.protocol,F=N.protocol;return-1!==u.indexOf(Y)&&-1!==u.indexOf(F)?j:""}function O(R,j,z){var N,Y,F,U=z.horizontalAlign,V=z.verticalAlign||"top",te=R.node().getBoundingClientRect(),$=j.node().getBoundingClientRect();return Y="bottom"===V?function(){return te.bottom-N.height}:"middle"===V?function(){return te.top+(te.height-N.height)/2}:function(){return te.top},F="right"===U?function(){return te.right-N.width}:"center"===U?function(){return te.left+(te.width-N.width)/2}:function(){return te.left},function(){N=this.node().getBoundingClientRect();var X=F()-$.left,W=Y()-$.top,J=z.gd||{};if(z.gd){J._fullLayout._calcInverseTransform(J);var Q=k.apply3DTransform(J._fullLayout._invTransform)(X,W);X=Q[0],W=Q[1]}return this.style({top:W+"px",left:X+"px","z-index":1e3}),this}}D.convertEntities=E,D.sanitizeHTML=function(R){R=R.replace(d," ");for(var j=document.createElement("p"),z=j,N=[],Y=R.split(c),F=0;F<Y.length;F++){var U=Y[F],V=U.match(x),te=V&&V[2].toLowerCase();if(te in n)if(V[1])N.length&&(z=N.pop());else{var $=V[4],X=_($,h),W=X?{style:X}:{};if("a"===te){var J=_($,m);if(J){var Q=C(J);if(Q){W.href=Q;var re=_($,y);re&&(W.target=re)}}}var ae=document.createElement(te);z.appendChild(ae),M.select(ae).attr(W),z=ae,N.push(ae)}else z.appendChild(document.createTextNode(E(U)))}return j.innerHTML},D.lineCount=function(R){return R.selectAll("tspan.line").size()||1},D.positionText=function(R,j,z){return R.each(function(){var N=M.select(this);function Y(V,te){return void 0===te?null===(te=N.attr(V))&&(N.attr(V,0),te=0):N.attr(V,te),te}var F=Y("x",j),U=Y("y",z);"text"===this.nodeName&&N.selectAll("tspan.line").attr({x:F,y:U})})};var P="1px ";D.makeTextShadow=function(R){return P+P+P+R+", -"+P+"-"+P+P+R+", "+P+"-"+P+P+R+", -"+P+P+P+R},D.makeEditable=function(R,j){var z=j.gd,N=j.delegate,Y=M.dispatch("edit","input","cancel"),F=N||R;if(R.style({"pointer-events":N?"none":"all"}),1!==R.size())throw new Error("boo");function U(){var te,$,X,W,J;te=M.select(z).select(".svg-container"),$=te.append("div"),X=R.node().style,W=parseFloat(X.fontSize||12),void 0===(J=j.text)&&(J=R.attr("data-unformatted")),$.classed("plugin-editable editable",!0).style({position:"absolute","font-family":X.fontFamily||"Arial","font-size":W,color:j.fill||X.fill||"black",opacity:1,"background-color":j.background||"transparent",outline:"#ffffff33 1px solid",margin:[-W/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(J).call(O(R,te,j)).on("blur",function(){z._editing=!1,R.text(this.textContent).style({opacity:1});var ae,oe=M.select(this).attr("class");(ae=oe?"."+oe.split(" ")[0]+"-math-group":"[class*=-math-group]")&&M.select(R.node().parentNode).select(ae).style({opacity:0});var ue=this.textContent;M.select(this).transition().duration(0).remove(),M.select(document).on("mouseup",null),Y.edit.call(R,ue)}).on("focus",function(){var ae=this;z._editing=!0,M.select(document).on("mouseup",function(){if(M.event.target===ae)return!1;document.activeElement===$.node()&&$.node().blur()})}).on("keyup",function(){27===M.event.which?(z._editing=!1,R.style({opacity:1}),M.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Y.cancel.call(R,this.textContent)):(Y.input.call(R,this.textContent),M.select(this).call(O(R,te,j)))}).on("keydown",function(){13===M.event.which&&this.blur()}).call(V),R.style({opacity:0});var Q,re=F.attr("class");(Q=re?"."+re.split(" ")[0]+"-math-group":"[class*=-math-group]")&&M.select(R.node().parentNode).select(Q).style({opacity:0})}function V(te){var $=te.node(),X=document.createRange();X.selectNodeContents($);var W=window.getSelection();W.removeAllRanges(),W.addRange(X),$.focus()}return j.immediate?U():F.on("click",U),M.rebind(R,Y,"on")}},79990:function(ee,D){"use strict";var e={};function M(k){k&&null!==k.timer&&(clearTimeout(k.timer),k.timer=null)}D.throttle=function(k,a,T){var b=e[k],p=Date.now();if(!b){for(var s in e)e[s].ts<p-6e4&&delete e[s];b=e[k]={ts:0,timer:null}}function t(){T(),b.ts=Date.now(),b.onDone&&(b.onDone(),b.onDone=null)}M(b),p>b.ts+a?t():b.timer=setTimeout(function(){t(),b.timer=null},a)},D.done=function(k){var a=e[k];return a&&a.timer?new Promise(function(T){var b=a.onDone;a.onDone=function(){b&&b(),T(),a.onDone=null}}):Promise.resolve()},D.clear=function(k){if(k)M(e[k]),delete e[k];else for(var a in e)D.clear(a)}},58163:function(ee,D,e){"use strict";var M=e(92770);ee.exports=function(k,a){if(k>0)return Math.log(k)/Math.LN10;var T=Math.log(Math.min(a[0],a[1]))/Math.LN10;return M(T)||(T=Math.log(Math.max(a[0],a[1]))/Math.LN10-6),T}},90973:function(ee,D,e){"use strict";var M=ee.exports={},k=e(78776).locationmodeToLayer,a=e(96892).zL;M.getTopojsonName=function(T){return[T.scope.replace(/ /g,"-"),"_",T.resolution.toString(),"m"].join("")},M.getTopojsonPath=function(T,b){return T+b+".json"},M.getTopojsonFeatures=function(T,b){var p=k[T.locationmode],s=b.objects[p];return a(b,s).features}},37815:function(ee){"use strict";ee.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(ee){"use strict";ee.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(ee,D,e){"use strict";var M=e(73972);ee.exports=function(k){for(var a,T,b=M.layoutArrayContainers,p=M.layoutArrayRegexes,s=k.split("[")[0],t=0;t<p.length;t++)if((T=k.match(p[t]))&&0===T.index){a=T[0];break}if(a||(a=b[b.indexOf(s)]),!a)return!1;var i=k.substr(a.length);return i?!!(T=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:a,index:Number(T[1]),property:T[3]||""}:{array:a,index:"",property:""}}},30962:function(ee,D,e){"use strict";var M=e(1426).extendFlat,k=e(41965),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},T={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},b=a.flags.slice().concat(["fullReplot"]),p=T.flags.slice().concat("layoutReplot");function s(n){for(var r={},o=0;o<n.length;o++)r[n[o]]=!1;return r}function t(n,r,o){var l=M({},n);for(var u in l){var d=l[u];k(d)&&(l[u]=i(d,r,0,u))}return"from-root"===o&&(l.editType=r),l}function i(n,r,o,l){if(n.valType){var u=M({},n);if(u.editType=r,Array.isArray(n.items)){u.items=new Array(n.items.length);for(var d=0;d<n.items.length;d++)u.items[d]=i(n.items[d],r)}return u}return t(n,r,"_"===l.charAt(0)?"nested":"from-root")}ee.exports={traces:a,layout:T,traceFlags:function(){return s(b)},layoutFlags:function(){return s(p)},update:function(n,r){var o=r.editType;if(o&&"none"!==o)for(var l=o.split("+"),u=0;u<l.length;u++)n[l[u]]=!0},overrideAll:t}},58377:function(ee,D,e){"use strict";var M=e(92770),k=e(27812),a=e(73972),T=e(71828),b=e(74875),p=e(41675),s=e(7901),t=p.cleanId,i=p.getFromTrace,n=a.traceIs;function r(m,y){var v=m[y],_=y.charAt(0);v&&"paper"!==v&&(m[y]=t(v,_,!0))}function o(m){function y(v,_){var f=m[v],S=m.title&&m.title[_];f&&!S&&(m.title||(m.title={}),m.title[_]=m[v],delete m[v])}m&&("string"!=typeof m.title&&"number"!=typeof m.title||(m.title={text:m.title}),y("titlefont","font"),y("titleposition","position"),y("titleside","side"),y("titleoffset","offset"))}function l(m){if(!T.isPlainObject(m))return!1;var y=m.name;return delete m.name,delete m.showlegend,("string"==typeof y||"number"==typeof y)&&String(y)}function u(m,y,v,_){if(v&&!_)return m;if(_&&!v||!m.trim())return y;if(!y.trim())return m;var f,S=Math.min(m.length,y.length);for(f=0;f<S&&m.charAt(f)===y.charAt(f);f++);return m.substr(0,f).trim()}function d(m){var y="middle",v="center";return"string"==typeof m&&(-1!==m.indexOf("top")?y="top":-1!==m.indexOf("bottom")&&(y="bottom"),-1!==m.indexOf("left")?v="left":-1!==m.indexOf("right")&&(v="right")),y+" "+v}function c(m,y){return y in m&&"object"==typeof m[y]&&0===Object.keys(m[y]).length}D.clearPromiseQueue=function(m){Array.isArray(m._promises)&&m._promises.length>0&&T.log("Clearing previous rejected promises from queue."),m._promises=[]},D.cleanLayout=function(m){var y,v;m||(m={}),m.xaxis1&&(m.xaxis||(m.xaxis=m.xaxis1),delete m.xaxis1),m.yaxis1&&(m.yaxis||(m.yaxis=m.yaxis1),delete m.yaxis1),m.scene1&&(m.scene||(m.scene=m.scene1),delete m.scene1);var _=(b.subplotsRegistry.cartesian||{}).attrRegex,f=(b.subplotsRegistry.polar||{}).attrRegex,S=(b.subplotsRegistry.ternary||{}).attrRegex,w=(b.subplotsRegistry.gl3d||{}).attrRegex,E=Object.keys(m);for(y=0;y<E.length;y++){var C=E[y];if(_&&_.test(C)){var O=m[C];O.anchor&&"free"!==O.anchor&&(O.anchor=t(O.anchor)),O.overlaying&&(O.overlaying=t(O.overlaying)),O.type||(O.isdate?O.type="date":O.islog?O.type="log":!1===O.isdate&&!1===O.islog&&(O.type="linear")),"withzero"!==O.autorange&&"tozero"!==O.autorange||(O.autorange=!0,O.rangemode="tozero"),O.insiderange&&delete O.range,delete O.islog,delete O.isdate,delete O.categories,c(O,"domain")&&delete O.domain,void 0!==O.autotick&&(void 0===O.tickmode&&(O.tickmode=O.autotick?"auto":"linear"),delete O.autotick),o(O)}else if(f&&f.test(C))o(m[C].radialaxis);else if(S&&S.test(C)){var P=m[C];o(P.aaxis),o(P.baxis),o(P.caxis)}else if(w&&w.test(C)){var R=m[C],j=R.cameraposition;if(Array.isArray(j)&&4===j[0].length){var z=j[0],N=j[1],Y=j[2],F=k([],z),U=[];for(v=0;v<3;++v)U[v]=N[v]+Y*F[2+4*v];R.camera={eye:{x:U[0],y:U[1],z:U[2]},center:{x:N[0],y:N[1],z:N[2]},up:{x:0,y:0,z:1}},delete R.cameraposition}o(R.xaxis),o(R.yaxis),o(R.zaxis)}}var V=Array.isArray(m.annotations)?m.annotations.length:0;for(y=0;y<V;y++){var te=m.annotations[y];T.isPlainObject(te)&&(te.ref&&("paper"===te.ref?(te.xref="paper",te.yref="paper"):"data"===te.ref&&(te.xref="x",te.yref="y"),delete te.ref),r(te,"xref"),r(te,"yref"))}var $=Array.isArray(m.shapes)?m.shapes.length:0;for(y=0;y<$;y++){var X=m.shapes[y];T.isPlainObject(X)&&(r(X,"xref"),r(X,"yref"))}var W=Array.isArray(m.images)?m.images.length:0;for(y=0;y<W;y++){var J=m.images[y];T.isPlainObject(J)&&(r(J,"xref"),r(J,"yref"))}var Q=m.legend;return Q&&(Q.x>3?(Q.x=1.02,Q.xanchor="left"):Q.x<-2&&(Q.x=-.02,Q.xanchor="right"),Q.y>3?(Q.y=1.02,Q.yanchor="bottom"):Q.y<-2&&(Q.y=-.02,Q.yanchor="top")),o(m),"rotate"===m.dragmode&&(m.dragmode="orbit"),s.clean(m),m.template&&m.template.layout&&D.cleanLayout(m.template.layout),m},D.cleanData=function(m){for(var y=0;y<m.length;y++){var v,_=m[y];if("histogramy"===_.type&&"xbins"in _&&!("ybins"in _)&&(_.ybins=_.xbins,delete _.xbins),_.error_y&&"opacity"in _.error_y){var f=s.defaults,S=_.error_y.color||(n(_,"bar")?s.defaultLine:f[y%f.length]);_.error_y.color=s.addOpacity(s.rgb(S),s.opacity(S)*_.error_y.opacity),delete _.error_y.opacity}if("bardir"in _&&("h"!==_.bardir||!n(_,"bar")&&"histogram"!==_.type.substr(0,9)||(_.orientation="h",D.swapXYData(_)),delete _.bardir),"histogramy"===_.type&&D.swapXYData(_),"histogramx"!==_.type&&"histogramy"!==_.type||(_.type="histogram"),"scl"in _&&!("colorscale"in _)&&(_.colorscale=_.scl,delete _.scl),"reversescl"in _&&!("reversescale"in _)&&(_.reversescale=_.reversescl,delete _.reversescl),_.xaxis&&(_.xaxis=t(_.xaxis,"x")),_.yaxis&&(_.yaxis=t(_.yaxis,"y")),n(_,"gl3d")&&_.scene&&(_.scene=b.subplotsRegistry.gl3d.cleanId(_.scene)),!n(_,"pie-like")&&!n(_,"bar-like"))if(Array.isArray(_.textposition))for(v=0;v<_.textposition.length;v++)_.textposition[v]=d(_.textposition[v]);else _.textposition&&(_.textposition=d(_.textposition));var w=a.getModule(_);if(w&&w.colorbar){var E=w.colorbar.container,C=E?_[E]:_;C&&C.colorscale&&("YIGnBu"===C.colorscale&&(C.colorscale="YlGnBu"),"YIOrRd"===C.colorscale&&(C.colorscale="YlOrRd"))}if("surface"===_.type&&T.isPlainObject(_.contours)){var O=["x","y","z"];for(v=0;v<O.length;v++){var P=_.contours[O[v]];T.isPlainObject(P)&&(P.highlightColor&&(P.highlightcolor=P.highlightColor,delete P.highlightColor),P.highlightWidth&&(P.highlightwidth=P.highlightWidth,delete P.highlightWidth))}}if("candlestick"===_.type||"ohlc"===_.type){var R=!1!==(_.increasing||{}).showlegend,j=!1!==(_.decreasing||{}).showlegend,z=l(_.increasing),N=l(_.decreasing);if(!1!==z&&!1!==N){var Y=u(z,N,R,j);Y&&(_.name=Y)}else!z&&!N||_.name||(_.name=z||N)}if(Array.isArray(_.transforms)){var F=_.transforms;for(v=0;v<F.length;v++){var U=F[v];if(T.isPlainObject(U))switch(U.type){case"filter":U.filtersrc&&(U.target=U.filtersrc,delete U.filtersrc),U.calendar&&(U.valuecalendar||(U.valuecalendar=U.calendar),delete U.calendar);break;case"groupby":if(U.styles=U.styles||U.style,U.styles&&!Array.isArray(U.styles)){var V=U.styles,te=Object.keys(V);U.styles=[];for(var $=0;$<te.length;$++)U.styles.push({target:te[$],value:V[te[$]]})}}}}c(_,"line")&&delete _.line,"marker"in _&&(c(_.marker,"line")&&delete _.marker.line,c(_,"marker")&&delete _.marker),s.clean(_),_.autobinx&&(delete _.autobinx,delete _.xbins),_.autobiny&&(delete _.autobiny,delete _.ybins),o(_),_.colorbar&&o(_.colorbar),_.marker&&_.marker.colorbar&&o(_.marker.colorbar),_.line&&_.line.colorbar&&o(_.line.colorbar),_.aaxis&&o(_.aaxis),_.baxis&&o(_.baxis)}},D.swapXYData=function(m){var y;if(T.swapAttrs(m,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(m.z)&&Array.isArray(m.z[0])&&(m.transpose?delete m.transpose:m.transpose=!0),m.error_x&&m.error_y){var v=m.error_y,_="copy_ystyle"in v?v.copy_ystyle:!(v.color||v.thickness||v.width);T.swapAttrs(m,["error_?.copy_ystyle"]),_&&T.swapAttrs(m,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof m.hoverinfo){var f=m.hoverinfo.split("+");for(y=0;y<f.length;y++)"x"===f[y]?f[y]="y":"y"===f[y]&&(f[y]="x");m.hoverinfo=f.join("+")}},D.coerceTraceIndices=function(m,y){if(M(y))return[y];if(!Array.isArray(y)||!y.length)return m.data.map(function(f,S){return S});if(Array.isArray(y)){for(var v=[],_=0;_<y.length;_++)T.isIndex(y[_],m.data.length)?v.push(y[_]):T.warn("trace index (",y[_],") is not a number or is out of bounds");return v}return y},D.manageArrayContainers=function(m,y,v){var _=m.obj,f=m.parts,S=f.length,w=f[S-1],E=M(w);if(E&&null===y){var C=f.slice(0,S-1).join(".");T.nestedProperty(_,C).get().splice(w,1)}else E&&void 0===m.get()&&void 0===m.get()&&(v[m.astr]=null),m.set(y)};var x=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function g(m){var y=m.search(x);if(y>0)return m.substr(0,y)}D.hasParent=function(m,y){for(var v=g(y);v;){if(v in m)return!0;v=g(v)}return!1};var h=["x","y","z"];D.clearAxisTypes=function(m,y,v){for(var _=0;_<y.length;_++)for(var f=m._fullData[_],S=0;S<3;S++){var w=i(m,f,h[S]);if(w&&"log"!==w.type){var E=w._name,C=w._id.substr(1);if("scene"===C.substr(0,5)){if(void 0!==v[C])continue;E=C+"."+E}var O=E+".type";void 0===v[E]&&void 0===v[O]&&T.nestedProperty(m.layout,O).set(null)}}}},10641:function(ee,D,e){"use strict";var M=e(72391);D._doPlot=M._doPlot,D.newPlot=M.newPlot,D.restyle=M.restyle,D.relayout=M.relayout,D.redraw=M.redraw,D.update=M.update,D._guiRestyle=M._guiRestyle,D._guiRelayout=M._guiRelayout,D._guiUpdate=M._guiUpdate,D._storeDirectGUIEdit=M._storeDirectGUIEdit,D.react=M.react,D.extendTraces=M.extendTraces,D.prependTraces=M.prependTraces,D.addTraces=M.addTraces,D.deleteTraces=M.deleteTraces,D.moveTraces=M.moveTraces,D.purge=M.purge,D.addFrames=M.addFrames,D.deleteFrames=M.deleteFrames,D.animate=M.animate,D.setPlotConfig=M.setPlotConfig;var k=e(24401).getGraphDiv,a=e(34031).eraseActiveShape;D.deleteActiveShape=function(b){return a(k(b))},D.toImage=e(403),D.validate=e(84936),D.downloadImage=e(7239);var T=e(96318);D.makeTemplate=T.makeTemplate,D.validateTemplate=T.validateTemplate},6611:function(ee,D,e){"use strict";var M=e(41965),k=e(64213),a=e(47769),T=e(65888).sorterAsc,b=e(73972);D.containerArrayMatch=e(14458);var p=D.isAddVal=function(t){return"add"===t||M(t)},s=D.isRemoveVal=function(t){return null===t||"remove"===t};D.applyContainerArrayChanges=function(t,i,n,r,o){var l=i.astr,u=b.getComponentMethod(l,"supplyLayoutDefaults"),d=b.getComponentMethod(l,"draw"),c=b.getComponentMethod(l,"drawOne"),x=r.replot||r.recalc||u===k||d===k,g=t.layout,h=t._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",l);var m=n[""][""];if(s(m))i.set(null);else{if(!Array.isArray(m))return a.warn("Unrecognized full array edit value",l,m),!0;i.set(m)}return!x&&(u(g,h),d(t),!0)}var y,v,_,f,S,w,E,C,O=Object.keys(n).map(Number).sort(T),P=i.get(),R=P||[],j=o(h,l).get(),z=[],N=-1,Y=R.length;for(y=0;y<O.length;y++)if(f=n[_=O[y]],S=Object.keys(f),w=f[""],E=p(w),_<0||_>R.length-(E?0:1))a.warn("index out of range",l,_);else if(void 0!==w)S.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",l,_),s(w)?z.push(_):E?("add"===w&&(w={}),R.splice(_,0,w),j&&j.splice(_,0,{})):a.warn("Unrecognized full object edit value",l,_,w),-1===N&&(N=_);else for(v=0;v<S.length;v++)C=l+"["+_+"].",o(R[_],S[v],C).set(f[S[v]]);for(y=z.length-1;y>=0;y--)R.splice(z[y],1),j&&j.splice(z[y],1);if(R.length?P||i.set(R):i.set(null),x)return!1;if(u(g,h),c!==k){var F;if(-1===N)F=O;else{for(Y=Math.max(R.length,Y),F=[],y=0;y<O.length&&!((_=O[y])>=N);y++)F.push(_);for(y=N;y<Y;y++)F.push(y)}for(y=0;y<F.length;y++)c(t,F[y])}else d(t);return!0}},72391:function(ee,D,e){"use strict";var M=e(39898),k=e(92770),a=e(57035),T=e(71828),b=T.nestedProperty,p=e(11086),s=e(10847),t=e(73972),i=e(86281),n=e(74875),r=e(89298),o=e(23608),l=e(13838),u=e(91424),d=e(7901),c=e(4305).initInteractions,x=e(77922),g=e(47322).clearOutline,h=e(72075).dfltConfig,m=e(6611),y=e(58377),v=e(61549),_=e(30962),f=e(85555).AX_NAME_PATTERN,S=0;function w(_e){var Me=_e._fullLayout;Me._redrawFromAutoMarginCount?Me._redrawFromAutoMarginCount--:_e.emit("plotly_afterplot")}function E(_e,Me){try{_e._fullLayout._paper.style("background",Me)}catch(Ee){T.error(Ee)}}function C(_e,Me){E(_e,d.combine(Me,"white"))}function O(_e,Me){if(!_e._context){_e._context=T.extendDeep({},h);var Ee=M.select("base");_e._context._baseUrl=Ee.size()&&Ee.attr("href")?window.location.href.split("#")[0]:""}var Ie,fe,xe,Te=_e._context;if(Me){for(fe=Object.keys(Me),Ie=0;Ie<fe.length;Ie++)"editable"!==(xe=fe[Ie])&&"edits"!==xe&&xe in Te&&("setBackground"===xe&&"opaque"===Me[xe]?Te[xe]=C:Te[xe]=Me[xe]);Me.plot3dPixelRatio&&!Te.plotGlPixelRatio&&(Te.plotGlPixelRatio=Te.plot3dPixelRatio);var Ce=Me.editable;if(void 0!==Ce)for(Te.editable=Ce,fe=Object.keys(Te.edits),Ie=0;Ie<fe.length;Ie++)Te.edits[fe[Ie]]=Ce;if(Me.edits)for(fe=Object.keys(Me.edits),Ie=0;Ie<fe.length;Ie++)(xe=fe[Ie])in Te.edits&&(Te.edits[xe]=Me.edits[xe]);Te._exportedPlot=Me._exportedPlot}Te.staticPlot&&(Te.editable=!1,Te.edits={},Te.autosizable=!1,Te.scrollZoom=!1,Te.doubleClick=!1,Te.showTips=!1,Te.showLink=!1,Te.displayModeBar=!1),"hover"!==Te.displayModeBar||a||(Te.displayModeBar=!0),"transparent"!==Te.setBackground&&"function"==typeof Te.setBackground||(Te.setBackground=E),Te._hasZeroHeight=Te._hasZeroHeight||0===_e.clientHeight,Te._hasZeroWidth=Te._hasZeroWidth||0===_e.clientWidth;var De=Te.scrollZoom,ze=Te._scrollZoom={};if(!0===De)ze.cartesian=1,ze.gl3d=1,ze.geo=1,ze.mapbox=1;else if("string"==typeof De){var Ue=De.split("+");for(Ie=0;Ie<Ue.length;Ie++)ze[Ue[Ie]]=1}else!1!==De&&(ze.gl3d=1,ze.geo=1,ze.mapbox=1)}function P(_e,Me){var Ee,Ie,fe=Me+1,xe=[];for(Ee=0;Ee<_e.length;Ee++)(Ie=_e[Ee])<0?xe.push(fe+Ie):xe.push(Ie);return xe}function R(_e,Me,Ee){var Ie,fe;for(Ie=0;Ie<Me.length;Ie++){if((fe=Me[Ie])!==parseInt(fe,10))throw new Error("all values in "+Ee+" must be integers");if(fe>=_e.data.length||fe<-_e.data.length)throw new Error(Ee+" must be valid indices for gd.data.");if(Me.indexOf(fe,Ie+1)>-1||fe>=0&&Me.indexOf(-_e.data.length+fe)>-1||fe<0&&Me.indexOf(_e.data.length+fe)>-1)throw new Error("each index in "+Ee+" must be unique.")}}function j(_e,Me,Ee){if(!Array.isArray(_e.data))throw new Error("gd.data must be an array.");if(void 0===Me)throw new Error("currentIndices is a required argument.");if(Array.isArray(Me)||(Me=[Me]),R(_e,Me,"currentIndices"),void 0===Ee||Array.isArray(Ee)||(Ee=[Ee]),void 0!==Ee&&R(_e,Ee,"newIndices"),void 0!==Ee&&Me.length!==Ee.length)throw new Error("current and new indices must be of equal length.")}function z(_e,Me,Ee,Ie,fe){!function(Xe,at,st,ht){var bt=T.isPlainObject(ht);if(!Array.isArray(Xe.data))throw new Error("gd.data must be an array");if(!T.isPlainObject(at))throw new Error("update must be a key:value object");if(void 0===st)throw new Error("indices must be an integer or array of integers");for(var vt in R(Xe,st,"indices"),at){if(!Array.isArray(at[vt])||at[vt].length!==st.length)throw new Error("attribute "+vt+" must be an array of length equal to indices array length");if(bt&&(!(vt in ht)||!Array.isArray(ht[vt])||ht[vt].length!==at[vt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(_e,Me,Ee,Ie);for(var xe=function(Xe,at,st,ht){var bt,vt,Qe,nt,wt,Ot=T.isPlainObject(ht),Pt=[];for(var St in Array.isArray(st)||(st=[st]),st=P(st,Xe.data.length-1),at)for(var qe=0;qe<st.length;qe++){if(bt=Xe.data[st[qe]],vt=(Qe=b(bt,St)).get(),nt=at[St][qe],!T.isArrayOrTypedArray(nt))throw new Error("attribute: "+St+" index: "+qe+" must be an array");if(!T.isArrayOrTypedArray(vt))throw new Error("cannot extend missing or non-array attribute: "+St);if(vt.constructor!==nt.constructor)throw new Error("cannot extend array with an array of a different type: "+St);wt=Ot?ht[St][qe]:ht,k(wt)||(wt=-1),Pt.push({prop:Qe,target:vt,insert:nt,maxp:Math.floor(wt)})}return Pt}(_e,Me,Ee,Ie),Te={},Ce={},De=0;De<xe.length;De++){var ze=xe[De].prop,Ue=xe[De].maxp,Ve=fe(xe[De].target,xe[De].insert,Ue);ze.set(Ve[0]),Array.isArray(Te[ze.astr])||(Te[ze.astr]=[]),Te[ze.astr].push(Ve[1]),Array.isArray(Ce[ze.astr])||(Ce[ze.astr]=[]),Ce[ze.astr].push(xe[De].target.length)}return{update:Te,maxPoints:Ce}}function N(_e,Me){var Ee=new _e.constructor(_e.length+Me.length);return Ee.set(_e),Ee.set(Me,_e.length),Ee}function Y(_e,Me,Ee,Ie){_e=T.getGraphDiv(_e),y.clearPromiseQueue(_e);var fe={};if("string"==typeof Me)fe[Me]=Ee;else{if(!T.isPlainObject(Me))return T.warn("Restyle fail.",Me,Ee,Ie),Promise.reject();fe=T.extendFlat({},Me),void 0===Ie&&(Ie=Ee)}Object.keys(fe).length&&(_e.changed=!0);var xe=y.coerceTraceIndices(_e,Ie),Te=te(_e,fe,xe),Ce=Te.flags;Ce.calc&&(_e.calcdata=void 0),Ce.clearAxisTypes&&y.clearAxisTypes(_e,xe,{});var De=[];Ce.fullReplot?De.push(D._doPlot):(De.push(n.previousPromises),n.supplyDefaults(_e),Ce.markerSize&&(n.doCalcdata(_e),J(De)),Ce.style&&De.push(v.doTraceStyle),Ce.colorbars&&De.push(v.doColorBars),De.push(w)),De.push(n.rehover,n.redrag,n.reselect),s.add(_e,Y,[_e,Te.undoit,Te.traces],Y,[_e,Te.redoit,Te.traces]);var ze=T.syncOrAsync(De,_e);return ze&&ze.then||(ze=Promise.resolve()),ze.then(function(){return _e.emit("plotly_restyle",Te.eventData),_e})}function F(_e){return void 0===_e?null:_e}function U(_e,Me){return Me?function(Ee,Ie,fe){var xe=b(Ee,Ie),Te=xe.set;return xe.set=function(Ce){V((fe||"")+Ie,xe.get(),Ce,_e),Te(Ce)},xe}:b}function V(_e,Me,Ee,Ie){if(Array.isArray(Me)||Array.isArray(Ee))for(var fe=Array.isArray(Me)?Me:[],xe=Array.isArray(Ee)?Ee:[],Te=Math.max(fe.length,xe.length),Ce=0;Ce<Te;Ce++)V(_e+"["+Ce+"]",fe[Ce],xe[Ce],Ie);else if(T.isPlainObject(Me)||T.isPlainObject(Ee)){var De=T.isPlainObject(Me)?Me:{},ze=T.isPlainObject(Ee)?Ee:{},Ue=T.extendFlat({},De,ze);for(var Ve in Ue)V(_e+"."+Ve,De[Ve],ze[Ve],Ie)}else void 0===Ie[_e]&&(Ie[_e]=F(Me))}function te(_e,Me,Ee){var Ie,fe=_e._fullLayout,xe=_e._fullData,Te=_e.data,Ce=fe._guiEditing,De=U(fe._preGUI,Ce),ze=T.extendDeepAll({},Me);$(Me);var Ue,Ve=_.traceFlags(),Xe={},at={};function st(){return Ee.map(function(){})}function ht(Vt){var Ft=r.id2name(Vt);-1===Ue.indexOf(Ft)&&Ue.push(Ft)}function bt(Vt){return"LAYOUT"+Vt+".autorange"}function vt(Vt){return"LAYOUT"+Vt+".range"}function Qe(Vt){for(var Ft=Vt;Ft<xe.length;Ft++)if(xe[Ft]._input===Te[Vt])return xe[Ft]}function nt(Vt,Ft,en){if(Array.isArray(Vt))Vt.forEach(function(on){nt(on,Ft,en)});else if(!(Vt in Me)&&!y.hasParent(Me,Vt)){var wn;if("LAYOUT"===Vt.substr(0,6))wn=De(_e.layout,Vt.replace("LAYOUT",""));else{var kn=Ee[en];wn=U(fe._tracePreGUI[Qe(kn)._fullInput.uid],Ce)(Te[kn],Vt)}Vt in at||(at[Vt]=st()),void 0===at[Vt][en]&&(at[Vt][en]=F(wn.get())),void 0!==Ft&&wn.set(Ft)}}function wt(Vt){return function(Ft){return xe[Ft][Vt]}}function Ot(Vt){return function(Ft,en){return!1===Ft?xe[Ee[en]][Vt]:null}}for(var Pt in Me){if(y.hasParent(Me,Pt))throw new Error("cannot set "+Pt+" and a parent attribute simultaneously");var St,qe,Ze,Ne,Ge,rt,tt=Me[Pt];if("autobinx"!==Pt&&"autobiny"!==Pt||(Pt=Pt.charAt(Pt.length-1)+"bins",tt=Array.isArray(tt)?tt.map(Ot(Pt)):!1===tt?Ee.map(wt(Pt)):null),Xe[Pt]=tt,"LAYOUT"!==Pt.substr(0,6)){for(at[Pt]=st(),Ie=0;Ie<Ee.length;Ie++)if(St=Te[Ee[Ie]],qe=Qe(Ee[Ie]),Ne=(Ze=U(fe._tracePreGUI[qe._fullInput.uid],Ce)(St,Pt)).get(),void 0!==(Ge=Array.isArray(tt)?tt[Ie%tt.length]:tt)){var Re=Ze.parts[Ze.parts.length-1],Fe=Pt.substr(0,Pt.length-Re.length-1),et=Fe?Fe+".":"",We=Fe?b(qe,Fe).get():qe;if((rt=i.getTraceValObject(qe,Ze.parts))&&rt.impliedEdits&&null!==Ge)for(var ct in rt.impliedEdits)nt(T.relativeAttr(Pt,ct),rt.impliedEdits[ct],Ie);else if("thicknessmode"!==Re&&"lenmode"!==Re||Ne===Ge||"fraction"!==Ge&&"pixels"!==Ge||!We){if("type"===Pt&&("pie"===Ge!=("pie"===Ne)||"funnelarea"===Ge!=("funnelarea"===Ne))){var pt="x",dt="y";"bar"!==Ge&&"bar"!==Ne||"h"!==St.orientation||(pt="y",dt="x"),T.swapAttrs(St,["?","?src"],"labels",pt),T.swapAttrs(St,["d?","?0"],"label",pt),T.swapAttrs(St,["?","?src"],"values",dt),"pie"===Ne||"funnelarea"===Ne?(b(St,"marker.color").set(b(St,"marker.colors").get()),fe._pielayer.selectAll("g.trace").remove()):t.traceIs(St,"cartesian")&&b(St,"marker.colors").set(b(St,"marker.color").get())}}else{var ut=fe._size,kt=We.orient,yt="top"===kt||"bottom"===kt;if("thicknessmode"===Re){var gt=yt?ut.h:ut.w;nt(et+"thickness",We.thickness*("fraction"===Ge?1/gt:gt),Ie)}else{var At=yt?ut.w:ut.h;nt(et+"len",We.len*("fraction"===Ge?1/At:At),Ie)}}if(at[Pt][Ie]=F(Ne),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Pt)){if("orientation"===Pt){Ze.set(Ge);var Lt=St.x&&!St.y?"h":"v";if((Ze.get()||Lt)===qe.orientation)continue}else"orientationaxes"===Pt&&(St.orientation={v:"h",h:"v"}[qe.orientation]);y.swapXYData(St),Ve.calc=Ve.clearAxisTypes=!0}else-1!==n.dataArrayContainers.indexOf(Ze.parts[0])?(y.manageArrayContainers(Ze,Ge,at),Ve.calc=!0):(rt?rt.arrayOk&&!t.traceIs(qe,"regl")&&(T.isArrayOrTypedArray(Ge)||T.isArrayOrTypedArray(Ne))?Ve.calc=!0:_.update(Ve,rt):Ve.calc=!0,Ze.set(Ge))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Pt)&&r.swap(_e,Ee),"orientationaxes"===Pt){var It=b(_e.layout,"hovermode"),qt=It.get();"x"===qt?It.set("y"):"y"===qt?It.set("x"):"x unified"===qt?It.set("y unified"):"y unified"===qt&&It.set("x unified")}if(-1!==["orientation","type"].indexOf(Pt)){for(Ue=[],Ie=0;Ie<Ee.length;Ie++){var Qt=Te[Ee[Ie]];t.traceIs(Qt,"cartesian")&&(ht(Qt.xaxis||"x"),ht(Qt.yaxis||"y"))}nt(Ue.map(bt),!0,0),nt(Ue.map(vt),[0,1],0)}}else Ze=De(_e.layout,Pt.replace("LAYOUT","")),at[Pt]=[F(Ze.get())],Ze.set(Array.isArray(tt)?tt[0]:tt),Ve.calc=!0}return(Ve.calc||Ve.plot)&&(Ve.fullReplot=!0),{flags:Ve,undoit:at,redoit:Xe,traces:Ee,eventData:T.extendDeepNoArrays([],[ze,Ee])}}function $(_e){var Me,Ee,Ie,fe=T.counterRegex("axis",".title",!1,!1),xe=/colorbar\.title$/,Te=Object.keys(_e);for(Me=0;Me<Te.length;Me++)Ee=Te[Me],Ie=_e[Ee],"title"!==Ee&&!fe.test(Ee)&&!xe.test(Ee)||"string"!=typeof Ie&&"number"!=typeof Ie?Ee.indexOf("titlefont")>-1&&-1===Ee.indexOf("grouptitlefont")?Ce(Ee,Ee.replace("titlefont","title.font")):Ee.indexOf("titleposition")>-1?Ce(Ee,Ee.replace("titleposition","title.position")):Ee.indexOf("titleside")>-1?Ce(Ee,Ee.replace("titleside","title.side")):Ee.indexOf("titleoffset")>-1&&Ce(Ee,Ee.replace("titleoffset","title.offset")):Ce(Ee,Ee.replace("title","title.text"));function Ce(De,ze){_e[ze]=_e[De],delete _e[De]}}function X(_e,Me,Ee){_e=T.getGraphDiv(_e),y.clearPromiseQueue(_e);var Ie={};if("string"==typeof Me)Ie[Me]=Ee;else{if(!T.isPlainObject(Me))return T.warn("Relayout fail.",Me,Ee),Promise.reject();Ie=T.extendFlat({},Me)}Object.keys(Ie).length&&(_e.changed=!0);var fe=oe(_e,Ie),xe=fe.flags;xe.calc&&(_e.calcdata=void 0);var Te=[n.previousPromises];xe.layoutReplot?Te.push(v.layoutReplot):Object.keys(Ie).length&&(W(_e,xe,fe)||n.supplyDefaults(_e),xe.legend&&Te.push(v.doLegend),xe.layoutstyle&&Te.push(v.layoutStyles),xe.axrange&&J(Te,fe.rangesAltered),xe.ticks&&Te.push(v.doTicksRelayout),xe.modebar&&Te.push(v.doModeBar),xe.camera&&Te.push(v.doCamera),xe.colorbars&&Te.push(v.doColorBars),Te.push(w)),Te.push(n.rehover,n.redrag,n.reselect),s.add(_e,X,[_e,fe.undoit],X,[_e,fe.redoit]);var Ce=T.syncOrAsync(Te,_e);return Ce&&Ce.then||(Ce=Promise.resolve(_e)),Ce.then(function(){return _e.emit("plotly_relayout",fe.eventData),_e})}function W(_e,Me,Ee){var Ie,fe,xe=_e._fullLayout;if(!Me.axrange)return!1;for(var Te in Me)if("axrange"!==Te&&Me[Te])return!1;var Ce=function(at,st){return T.coerce(Ie,fe,l,at,st)},De={};for(var ze in Ee.rangesAltered){var Ue=r.id2name(ze);if(Ie=_e.layout[Ue],fe=xe[Ue],o(Ie,fe,Ce,De),fe._matchGroup)for(var Ve in fe._matchGroup)if(Ve!==ze){var Xe=xe[r.id2name(Ve)];Xe.autorange=fe.autorange,Xe.range=fe.range.slice(),Xe._input.range=fe.range.slice()}}return!0}function J(_e,Me){var Ee=Me?function(Ie){var fe=[];for(var xe in Me){var Te=r.getFromId(Ie,xe);if(fe.push(xe),-1!==(Te.ticklabelposition||"").indexOf("inside")&&Te._anchorAxis&&fe.push(Te._anchorAxis._id),Te._matchGroup)for(var Ce in Te._matchGroup)Me[Ce]||fe.push(Ce)}return r.draw(Ie,fe,{skipTitle:!0})}:function(Ie){return r.draw(Ie,"redraw")};_e.push(g,v.doAutoRangeAndConstraints,Ee,v.drawData,v.finalDraw)}var Q=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,re=/^[xyz]axis[0-9]*\.autorange$/,ae=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function oe(_e,Me){var Ee,Ie,fe,xe=_e.layout,Te=_e._fullLayout,Ce=Te._guiEditing,De=U(Te._preGUI,Ce),ze=Object.keys(Me),Ue=r.list(_e),Ve=T.extendDeepAll({},Me),Xe={};for($(Me),ze=Object.keys(Me),Ie=0;Ie<ze.length;Ie++)if(0===ze[Ie].indexOf("allaxes")){for(fe=0;fe<Ue.length;fe++){var at=Ue[fe]._id.substr(1),st=-1!==at.indexOf("scene")?at+".":"",ht=ze[Ie].replace("allaxes",st+Ue[fe]._name);Me[ht]||(Me[ht]=Me[ze[Ie]])}delete Me[ze[Ie]]}var bt=_.layoutFlags(),vt={},Qe={};function nt(on,Ht){if(Array.isArray(on))on.forEach(function(Kt){nt(Kt,Ht)});else if(!(on in Me)&&!y.hasParent(Me,on)){var nn=De(xe,on);on in Qe||(Qe[on]=F(nn.get())),void 0!==Ht&&nn.set(Ht)}}var wt,Ot={};function Pt(on){var Ht=r.name2id(on.split(".")[0]);return Ot[Ht]=1,Ht}for(var St in Me){if(y.hasParent(Me,St))throw new Error("cannot set "+St+" and a parent attribute simultaneously");for(var qe=De(xe,St),Ze=Me[St],Ne=qe.parts.length-1;Ne>0&&"string"!=typeof qe.parts[Ne];)Ne--;var Ge=qe.parts[Ne],rt=qe.parts[Ne-1]+"."+Ge,tt=qe.parts.slice(0,Ne).join("."),Re=b(_e.layout,tt).get(),Fe=b(Te,tt).get(),et=qe.get();if(void 0!==Ze){vt[St]=Ze,Qe[St]="reverse"===Ge?Ze:F(et);var We=i.getLayoutValObject(Te,qe.parts);if(We&&We.impliedEdits&&null!==Ze)for(var ct in We.impliedEdits)nt(T.relativeAttr(St,ct),We.impliedEdits[ct]);if(-1!==["width","height"].indexOf(St))if(Ze){nt("autosize",null);var pt="height"===St?"width":"height";nt(pt,Te[pt])}else Te[St]=_e._initialAutoSize[St];else if("autosize"===St)nt("width",Ze?null:Te.width),nt("height",Ze?null:Te.height);else if(rt.match(Q))Pt(rt),b(Te,tt+"._inputRange").set(null);else if(rt.match(re)){Pt(rt),b(Te,tt+"._inputRange").set(null);var dt=b(Te,tt).get();dt._inputDomain&&(dt._input.domain=dt._inputDomain.slice())}else rt.match(ae)&&b(Te,tt+"._inputDomain").set(null);if("type"===Ge){wt=Re;var ut="linear"===Fe.type&&"log"===Ze,kt="log"===Fe.type&&"linear"===Ze;if(ut||kt){if(wt&&wt.range)if(Fe.autorange)ut&&(wt.range=wt.range[1]>wt.range[0]?[1,2]:[2,1]);else{var yt=wt.range[0],gt=wt.range[1];ut?(yt<=0&&gt<=0&&nt(tt+".autorange",!0),yt<=0?yt=gt/1e6:gt<=0&&(gt=yt/1e6),nt(tt+".range[0]",Math.log(yt)/Math.LN10),nt(tt+".range[1]",Math.log(gt)/Math.LN10)):(nt(tt+".range[0]",Math.pow(10,yt)),nt(tt+".range[1]",Math.pow(10,gt)))}else nt(tt+".autorange",!0);Array.isArray(Te._subplots.polar)&&Te._subplots.polar.length&&Te[qe.parts[0]]&&"radialaxis"===qe.parts[1]&&delete Te[qe.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(_e,Fe,Ze,nt),t.getComponentMethod("images","convertCoords")(_e,Fe,Ze,nt)}else nt(tt+".autorange",!0),nt(tt+".range",null);b(Te,tt+"._inputRange").set(null)}else if(Ge.match(f)){var At=b(Te,St).get(),Lt=(Ze||{}).type;Lt&&"-"!==Lt||(Lt="linear"),t.getComponentMethod("annotations","convertCoords")(_e,At,Lt,nt),t.getComponentMethod("images","convertCoords")(_e,At,Lt,nt)}var It=m.containerArrayMatch(St);if(It){Ee=It.array,Ie=It.index;var qt=It.property,Qt=We||{editType:"calc"};""!==Ie&&""===qt&&(m.isAddVal(Ze)?Qe[St]=null:m.isRemoveVal(Ze)?Qe[St]=(b(xe,Ee).get()||[])[Ie]:T.warn("unrecognized full object value",Me)),_.update(bt,Qt),Xe[Ee]||(Xe[Ee]={});var Vt=Xe[Ee][Ie];Vt||(Vt=Xe[Ee][Ie]={}),Vt[qt]=Ze,delete Me[St]}else"reverse"===Ge?(Re.range?Re.range.reverse():(nt(tt+".autorange",!0),Re.range=[1,0]),Fe.autorange?bt.calc=!0:bt.plot=!0):("dragmode"===St&&(!1===Ze&&!1!==et||!1!==Ze&&!1===et)||Te._has("scatter-like")&&Te._has("regl")&&"dragmode"===St&&("lasso"===Ze||"select"===Ze)&&"lasso"!==et&&"select"!==et||Te._has("gl2d")?bt.plot=!0:We?_.update(bt,We):bt.calc=!0,qe.set(Ze))}}for(Ee in Xe)m.applyContainerArrayChanges(_e,De(xe,Ee),Xe[Ee],bt,De)||(bt.plot=!0);for(var Ft in Ot){var en=(wt=r.getFromId(_e,Ft))&&wt._constraintGroup;if(en)for(var wn in bt.calc=!0,en)Ot[wn]||(r.getFromId(_e,wn)._constraintShrinkable=!0)}(ue(_e)||Me.height||Me.width)&&(bt.plot=!0);var kn=Te.shapes;for(Ie=0;Ie<kn.length;Ie++)if(kn[Ie].showlegend){bt.calc=!0;break}return(bt.plot||bt.calc)&&(bt.layoutReplot=!0),{flags:bt,rangesAltered:Ot,undoit:Qe,redoit:vt,eventData:Ve}}function ue(_e){var Me=_e._fullLayout,Ee=Me.width,Ie=Me.height;return _e.layout.autosize&&n.plotAutoSize(_e,_e.layout,Me),Me.width!==Ee||Me.height!==Ie}function ve(_e,Me,Ee,Ie){_e=T.getGraphDiv(_e),y.clearPromiseQueue(_e),T.isPlainObject(Me)||(Me={}),T.isPlainObject(Ee)||(Ee={}),Object.keys(Me).length&&(_e.changed=!0),Object.keys(Ee).length&&(_e.changed=!0);var fe=y.coerceTraceIndices(_e,Ie),xe=te(_e,T.extendFlat({},Me),fe),Te=xe.flags,Ce=oe(_e,T.extendFlat({},Ee)),De=Ce.flags;(Te.calc||De.calc)&&(_e.calcdata=void 0),Te.clearAxisTypes&&y.clearAxisTypes(_e,fe,Ee);var ze=[];De.layoutReplot?ze.push(v.layoutReplot):Te.fullReplot?ze.push(D._doPlot):(ze.push(n.previousPromises),W(_e,De,Ce)||n.supplyDefaults(_e),Te.style&&ze.push(v.doTraceStyle),(Te.colorbars||De.colorbars)&&ze.push(v.doColorBars),De.legend&&ze.push(v.doLegend),De.layoutstyle&&ze.push(v.layoutStyles),De.axrange&&J(ze,Ce.rangesAltered),De.ticks&&ze.push(v.doTicksRelayout),De.modebar&&ze.push(v.doModeBar),De.camera&&ze.push(v.doCamera),ze.push(w)),ze.push(n.rehover,n.redrag,n.reselect),s.add(_e,ve,[_e,xe.undoit,Ce.undoit,xe.traces],ve,[_e,xe.redoit,Ce.redoit,xe.traces]);var Ue=T.syncOrAsync(ze,_e);return Ue&&Ue.then||(Ue=Promise.resolve(_e)),Ue.then(function(){return _e.emit("plotly_update",{data:xe.eventData,layout:Ce.eventData}),_e})}function be(_e){return function(Me){Me._fullLayout._guiEditing=!0;var Ee=_e.apply(null,arguments);return Me._fullLayout._guiEditing=!1,Ee}}var de=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],pe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ge(_e,Me){for(var Ee=0;Ee<Me.length;Ee++){var Ie=Me[Ee],fe=_e.match(Ie.pattern);if(fe){var xe=fe[1]||"";return{head:xe,tail:_e.substr(xe.length+1),attr:Ie.attr}}}}function Ae(_e,Me){var Ee=b(Me,_e).get();if(void 0!==Ee)return Ee;var Ie=_e.split(".");for(Ie.pop();Ie.length>1;)if(Ie.pop(),void 0!==(Ee=b(Me,Ie.join(".")+".uirevision").get()))return Ee;return Me.uirevision}function ye(_e,Me){for(var Ee=0;Ee<Me.length;Ee++)if(Me[Ee]._fullInput.uid===_e)return Ee;return-1}function we(_e,Me,Ee){for(var Ie=0;Ie<Me.length;Ie++)if(Me[Ie].uid===_e)return Ie;return!Me[Ee]||Me[Ee].uid?-1:Ee}function se(_e,Me){var Ee=T.isPlainObject(_e),Ie=Array.isArray(_e);return Ee||Ie?(Ee&&T.isPlainObject(Me)||Ie&&Array.isArray(Me))&&JSON.stringify(_e)===JSON.stringify(Me):_e===Me}function ie(_e,Me,Ee,Ie){var fe,xe,Te,Ce=Ie.getValObject,De=Ie.flags,ze=Ie.immutable,Ue=Ie.inArray,Ve=Ie.arrayIndex;function Xe(){var Re=fe.editType;Ue&&-1!==Re.indexOf("arraydraw")?T.pushUnique(De.arrays[Ue],Ve):(_.update(De,fe),"none"!==Re&&De.nChanges++,Ie.transition&&fe.anim&&De.nChangesAnim++,(Q.test(Te)||re.test(Te))&&(De.rangesAltered[Ee[0]]=1),ae.test(Te)&&b(Me,"_inputDomain").set(null),"datarevision"===xe&&(De.newDataRevision=1))}function at(Re){return"data_array"===Re.valType||Re.arrayOk}for(xe in _e){if(De.calc&&!Ie.transition)return;var st=_e[xe],ht=Me[xe],bt=Ee.concat(xe);if(Te=bt.join("."),"_"!==xe.charAt(0)&&"function"!=typeof st&&st!==ht){if(("tick0"===xe||"dtick"===xe)&&"geo"!==Ee[0]){var vt=Me.tickmode;if("auto"===vt||"array"===vt||!vt)continue}if(("range"!==xe||!Me.autorange)&&("zmin"!==xe&&"zmax"!==xe||"contourcarpet"!==Me.type)&&(fe=Ce(bt))&&(!fe._compareAsJSON||JSON.stringify(st)!==JSON.stringify(ht))){var Qe,nt=fe.valType,wt=at(fe),Ot=Array.isArray(st),Pt=Array.isArray(ht);if(Ot&&Pt){var St="_input_"+xe,qe=_e[St],Ze=Me[St];if(Array.isArray(qe)&&qe===Ze)continue}if(void 0===ht)wt&&Ot?De.calc=!0:Xe();else if(fe._isLinkedToArray){var Ne=[],Ge=!1;Ue||(De.arrays[xe]=Ne);var rt=Math.min(st.length,ht.length),tt=Math.max(st.length,ht.length);if(rt!==tt){if("arraydraw"!==fe.editType){Xe();continue}Ge=!0}for(Qe=0;Qe<rt;Qe++)ie(st[Qe],ht[Qe],bt.concat(Qe),T.extendFlat({inArray:xe,arrayIndex:Qe},Ie));if(Ge)for(Qe=rt;Qe<tt;Qe++)Ne.push(Qe)}else!nt&&T.isPlainObject(st)?ie(st,ht,bt,Ie):wt?Ot&&Pt?(ze&&(De.calc=!0),(ze||Ie.newDataRevision)&&Xe()):Ot!==Pt?De.calc=!0:Xe():Ot&&Pt&&st.length===ht.length&&String(st)===String(ht)||Xe()}}}for(xe in Me)if(!(xe in _e)&&"_"!==xe.charAt(0)&&"function"!=typeof Me[xe]){if(at(fe=Ce(Ee.concat(xe)))&&Array.isArray(Me[xe]))return void(De.calc=!0);Xe()}}function he(_e,Me){var Ee;for(Ee in _e)if("_"!==Ee.charAt(0)){var Ie=_e[Ee],fe=Me[Ee];if(Ie!==fe)if(T.isPlainObject(Ie)&&T.isPlainObject(fe)){if(he(Ie,fe))return!0}else{if(!Array.isArray(Ie)||!Array.isArray(fe)||Ie.length!==fe.length)return!0;for(var xe=0;xe<Ie.length;xe++)if(Ie[xe]!==fe[xe]&&(!T.isPlainObject(Ie[xe])||!T.isPlainObject(fe[xe])||he(Ie[xe],fe[xe])))return!0}}}function Se(_e){var Me=_e._fullLayout,Ee=_e.getBoundingClientRect();if(!T.equalDomRects(Ee,Me._lastBBox)){var Ie=Me._invTransform=T.inverseTransformMatrix(T.getFullTransformMatrix(_e));Me._invScaleX=Math.sqrt(Ie[0][0]*Ie[0][0]+Ie[0][1]*Ie[0][1]+Ie[0][2]*Ie[0][2]),Me._invScaleY=Math.sqrt(Ie[1][0]*Ie[1][0]+Ie[1][1]*Ie[1][1]+Ie[1][2]*Ie[1][2]),Me._lastBBox=Ee}}D.animate=function(_e,Me,Ee){if(_e=T.getGraphDiv(_e),!T.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Ie=_e._transitionData;Ie._frameQueue||(Ie._frameQueue=[]);var fe=(Ee=n.supplyAnimationDefaults(Ee)).transition,xe=Ee.frame;function Te(ze){return Array.isArray(fe)?ze>=fe.length?fe[0]:fe[ze]:fe}function Ce(ze){return Array.isArray(xe)?ze>=xe.length?xe[0]:xe[ze]:xe}function De(ze,Ue){var Ve=0;return function(){if(ze&&++Ve===Ue)return ze()}}return void 0===Ie._frameWaitingCnt&&(Ie._frameWaitingCnt=0),new Promise(function(ze,Ue){function Ve(){_e.emit("plotly_animating"),Ie._lastFrameAt=-1/0,Ie._timeToNext=0,Ie._runningTransitions=0,Ie._currentFrame=null;var St=function(){Ie._animationRaf=window.requestAnimationFrame(St),Date.now()-Ie._lastFrameAt>Ie._timeToNext&&function(){Ie._currentFrame&&Ie._currentFrame.onComplete&&Ie._currentFrame.onComplete();var qe=Ie._currentFrame=Ie._frameQueue.shift();if(qe){var Ze=qe.name?qe.name.toString():null;_e._fullLayout._currentFrame=Ze,Ie._lastFrameAt=Date.now(),Ie._timeToNext=qe.frameOpts.duration,n.transition(_e,qe.frame.data,qe.frame.layout,y.coerceTraceIndices(_e,qe.frame.traces),qe.frameOpts,qe.transitionOpts).then(function(){qe.onComplete&&qe.onComplete()}),_e.emit("plotly_animatingframe",{name:Ze,frame:qe.frame,animation:{frame:qe.frameOpts,transition:qe.transitionOpts}})}else _e.emit("plotly_animated"),window.cancelAnimationFrame(Ie._animationRaf),Ie._animationRaf=null}()};St()}var Xe,at,st=0;function ht(St){return Array.isArray(fe)?st>=fe.length?St.transitionOpts=fe[st]:St.transitionOpts=fe[0]:St.transitionOpts=fe,st++,St}var bt=[],vt=null==Me,Qe=Array.isArray(Me);if(vt||Qe||!T.isPlainObject(Me)){if(vt||-1!==["string","number"].indexOf(typeof Me))for(Xe=0;Xe<Ie._frames.length;Xe++)(at=Ie._frames[Xe])&&(vt||String(at.group)===String(Me))&&bt.push({type:"byname",name:String(at.name),data:ht({name:at.name})});else if(Qe)for(Xe=0;Xe<Me.length;Xe++){var nt=Me[Xe];-1!==["number","string"].indexOf(typeof nt)?(nt=String(nt),bt.push({type:"byname",name:nt,data:ht({name:nt})})):T.isPlainObject(nt)&&bt.push({type:"object",data:ht(T.extendFlat({},nt))})}}else bt.push({type:"object",data:ht(T.extendFlat({},Me))});for(Xe=0;Xe<bt.length;Xe++)if("byname"===(at=bt[Xe]).type&&!Ie._frameHash[at.data.name])return T.warn('animate failure: frame not found: "'+at.data.name+'"'),void Ue();-1!==["next","immediate"].indexOf(Ee.mode)&&function(){if(0!==Ie._frameQueue.length){for(;Ie._frameQueue.length;){var St=Ie._frameQueue.pop();St.onInterrupt&&St.onInterrupt()}_e.emit("plotly_animationinterrupted",[])}}(),"reverse"===Ee.direction&&bt.reverse();var wt=_e._fullLayout._currentFrame;if(wt&&Ee.fromcurrent){var Ot=-1;for(Xe=0;Xe<bt.length;Xe++)if("byname"===(at=bt[Xe]).type&&at.name===wt){Ot=Xe;break}if(Ot>0&&Ot<bt.length-1){var Pt=[];for(Xe=0;Xe<bt.length;Xe++)at=bt[Xe],("byname"!==bt[Xe].type||Xe>Ot)&&Pt.push(at);bt=Pt}}bt.length>0?function(St){if(0!==St.length){for(var qe=0;qe<St.length;qe++){var Ze;Ze="byname"===St[qe].type?n.computeFrame(_e,St[qe].name):St[qe].data;var Ne=Ce(qe),Ge=Te(qe);Ge.duration=Math.min(Ge.duration,Ne.duration);var rt={frame:Ze,name:St[qe].name,frameOpts:Ne,transitionOpts:Ge};qe===St.length-1&&(rt.onComplete=De(ze,2),rt.onInterrupt=Ue),Ie._frameQueue.push(rt)}"immediate"===Ee.mode&&(Ie._lastFrameAt=-1/0),Ie._animationRaf||Ve()}}(bt):(_e.emit("plotly_animated"),ze())})},D.addFrames=function(_e,Me,Ee){if(_e=T.getGraphDiv(_e),null==Me)return Promise.resolve();if(!T.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Ie,fe,xe,Te,Ce=_e._transitionData._frames,De=_e._transitionData._frameHash;if(!Array.isArray(Me))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Me);var ze=Ce.length+2*Me.length,Ue=[],Ve={};for(Ie=Me.length-1;Ie>=0;Ie--)if(T.isPlainObject(Me[Ie])){var Xe=Me[Ie].name,at=(De[Xe]||Ve[Xe]||{}).name,st=Me[Ie].name,ht=De[at]||Ve[at];at&&st&&"number"==typeof st&&ht&&S<5&&(S++,T.warn('addFrames: overwriting frame "'+(De[at]||Ve[at]).name+'" with a frame whose name of type "number" also equates to "'+at+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===S&&T.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Ve[Xe]={name:Xe},Ue.push({frame:n.supplyFrameDefaults(Me[Ie]),index:Ee&&void 0!==Ee[Ie]&&null!==Ee[Ie]?Ee[Ie]:ze+Ie})}Ue.sort(function(St,qe){return St.index>qe.index?-1:St.index<qe.index?1:0});var bt=[],vt=[],Qe=Ce.length;for(Ie=Ue.length-1;Ie>=0;Ie--){if("number"==typeof(fe=Ue[Ie].frame).name&&T.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!fe.name)for(;De[fe.name="frame "+_e._transitionData._counter++];);if(De[fe.name]){for(xe=0;xe<Ce.length&&(Ce[xe]||{}).name!==fe.name;xe++);bt.push({type:"replace",index:xe,value:fe}),vt.unshift({type:"replace",index:xe,value:Ce[xe]})}else Te=Math.max(0,Math.min(Ue[Ie].index,Qe)),bt.push({type:"insert",index:Te,value:fe}),vt.unshift({type:"delete",index:Te}),Qe++}var nt=n.modifyFrames,wt=n.modifyFrames,Ot=[_e,vt],Pt=[_e,bt];return s&&s.add(_e,nt,Ot,wt,Pt),n.modifyFrames(_e,bt)},D.deleteFrames=function(_e,Me){if(_e=T.getGraphDiv(_e),!T.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e);var Ee,Ie,fe=_e._transitionData._frames,xe=[],Te=[];if(!Me)for(Me=[],Ee=0;Ee<fe.length;Ee++)Me.push(Ee);for((Me=Me.slice()).sort(),Ee=Me.length-1;Ee>=0;Ee--)Ie=Me[Ee],xe.push({type:"delete",index:Ie}),Te.unshift({type:"insert",index:Ie,value:fe[Ie]});var Ce=n.modifyFrames,De=n.modifyFrames,ze=[_e,Te],Ue=[_e,xe];return s&&s.add(_e,Ce,ze,De,Ue),n.modifyFrames(_e,xe)},D.addTraces=function _e(Me,Ee,Ie){Me=T.getGraphDiv(Me);var fe,xe,Te=[],Ce=D.deleteTraces,De=_e,ze=[Me,Te],Ue=[Me,Ee];for(function(Ve,Xe,at){var st,ht;if(!Array.isArray(Ve.data))throw new Error("gd.data must be an array.");if(void 0===Xe)throw new Error("traces must be defined.");for(Array.isArray(Xe)||(Xe=[Xe]),st=0;st<Xe.length;st++)if("object"!=typeof(ht=Xe[st])||Array.isArray(ht)||null===ht)throw new Error("all values in traces array must be non-array objects");if(void 0===at||Array.isArray(at)||(at=[at]),void 0!==at&&at.length!==Xe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Me,Ee,Ie),Array.isArray(Ee)||(Ee=[Ee]),Ee=Ee.map(function(Ve){return T.extendFlat({},Ve)}),y.cleanData(Ee),fe=0;fe<Ee.length;fe++)Me.data.push(Ee[fe]);for(fe=0;fe<Ee.length;fe++)Te.push(-Ee.length+fe);if(void 0===Ie)return xe=D.redraw(Me),s.add(Me,Ce,ze,De,Ue),xe;Array.isArray(Ie)||(Ie=[Ie]);try{j(Me,Te,Ie)}catch(Ve){throw Me.data.splice(Me.data.length-Ee.length,Ee.length),Ve}return s.startSequence(Me),s.add(Me,Ce,ze,De,Ue),xe=D.moveTraces(Me,Te,Ie),s.stopSequence(Me),xe},D.deleteTraces=function _e(Me,Ee){Me=T.getGraphDiv(Me);var Ie,fe,xe=[],Te=D.addTraces,Ce=_e,De=[Me,xe,Ee],ze=[Me,Ee];if(void 0===Ee)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ee)||(Ee=[Ee]),R(Me,Ee,"indices"),(Ee=P(Ee,Me.data.length-1)).sort(T.sorterDes),Ie=0;Ie<Ee.length;Ie+=1)fe=Me.data.splice(Ee[Ie],1)[0],xe.push(fe);var Ue=D.redraw(Me);return s.add(Me,Te,De,Ce,ze),Ue},D.extendTraces=function _e(Me,Ee,Ie,fe){var xe=z(Me=T.getGraphDiv(Me),Ee,Ie,fe,function(De,ze,Ue){var Ve,Xe;if(T.isTypedArray(De))if(Ue<0){var at=new De.constructor(0),st=N(De,ze);Ue<0?(Ve=st,Xe=at):(Ve=at,Xe=st)}else if(Ve=new De.constructor(Ue),Xe=new De.constructor(De.length+ze.length-Ue),Ue===ze.length)Ve.set(ze),Xe.set(De);else if(Ue<ze.length){var ht=ze.length-Ue;Ve.set(ze.subarray(ht)),Xe.set(De),Xe.set(ze.subarray(0,ht),De.length)}else{var bt=Ue-ze.length,vt=De.length-bt;Ve.set(De.subarray(vt)),Ve.set(ze,bt),Xe.set(De.subarray(0,vt))}else Ve=De.concat(ze),Xe=Ue>=0&&Ue<Ve.length?Ve.splice(0,Ve.length-Ue):[];return[Ve,Xe]}),Te=D.redraw(Me),Ce=[Me,xe.update,Ie,xe.maxPoints];return s.add(Me,D.prependTraces,Ce,_e,arguments),Te},D.moveTraces=function _e(Me,Ee,Ie){var fe,xe=[],Te=[],Ce=_e,De=_e,ze=[Me=T.getGraphDiv(Me),Ie,Ee],Ue=[Me,Ee,Ie];if(j(Me,Ee,Ie),Ee=Array.isArray(Ee)?Ee:[Ee],void 0===Ie)for(Ie=[],fe=0;fe<Ee.length;fe++)Ie.push(-Ee.length+fe);for(Ie=Array.isArray(Ie)?Ie:[Ie],Ee=P(Ee,Me.data.length-1),Ie=P(Ie,Me.data.length-1),fe=0;fe<Me.data.length;fe++)-1===Ee.indexOf(fe)&&xe.push(Me.data[fe]);for(fe=0;fe<Ee.length;fe++)Te.push({newIndex:Ie[fe],trace:Me.data[Ee[fe]]});for(Te.sort(function(Xe,at){return Xe.newIndex-at.newIndex}),fe=0;fe<Te.length;fe+=1)xe.splice(Te[fe].newIndex,0,Te[fe].trace);Me.data=xe;var Ve=D.redraw(Me);return s.add(Me,Ce,ze,De,Ue),Ve},D.prependTraces=function _e(Me,Ee,Ie,fe){var xe=z(Me=T.getGraphDiv(Me),Ee,Ie,fe,function(De,ze,Ue){var Ve,Xe;if(T.isTypedArray(De))if(Ue<=0){var at=new De.constructor(0),st=N(ze,De);Ue<0?(Ve=st,Xe=at):(Ve=at,Xe=st)}else if(Ve=new De.constructor(Ue),Xe=new De.constructor(De.length+ze.length-Ue),Ue===ze.length)Ve.set(ze),Xe.set(De);else if(Ue<ze.length){var ht=ze.length-Ue;Ve.set(ze.subarray(0,ht)),Xe.set(ze.subarray(ht)),Xe.set(De,ht)}else{var bt=Ue-ze.length;Ve.set(ze),Ve.set(De.subarray(0,bt),ze.length),Xe.set(De.subarray(bt))}else Ve=ze.concat(De),Xe=Ue>=0&&Ue<Ve.length?Ve.splice(Ue,Ve.length):[];return[Ve,Xe]}),Te=D.redraw(Me),Ce=[Me,xe.update,Ie,xe.maxPoints];return s.add(Me,D.extendTraces,Ce,_e,arguments),Te},D.newPlot=function(_e,Me,Ee,Ie){return _e=T.getGraphDiv(_e),n.cleanPlot([],{},_e._fullData||[],_e._fullLayout||{}),n.purge(_e),D._doPlot(_e,Me,Ee,Ie)},D._doPlot=function(_e,Me,Ee,Ie){var fe;if(_e=T.getGraphDiv(_e),p.init(_e),T.isPlainObject(Me)){var xe=Me;Me=xe.data,Ee=xe.layout,Ie=xe.config,fe=xe.frames}if(!1===p.triggerHandler(_e,"plotly_beforeplot",[Me,Ee,Ie]))return Promise.reject();Me||Ee||T.isPlotDiv(_e)||T.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",_e),O(_e,Ie),Ee||(Ee={}),M.select(_e).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(_e._promises)||(_e._promises=[]);var Te=0===(_e.data||[]).length&&Array.isArray(Me);Array.isArray(Me)&&(y.cleanData(Me),Te?_e.data=Me:_e.data.push.apply(_e.data,Me),_e.empty=!1),_e.layout&&!Te||(_e.layout=y.cleanLayout(Ee)),n.supplyDefaults(_e);var Ce=_e._fullLayout,De=Ce._has("cartesian");Ce._replotting=!0,(Te||Ce._shouldCreateBgLayer)&&(function(vt){var Qe=M.select(vt),nt=vt._fullLayout;if(nt._calcInverseTransform=Se,nt._calcInverseTransform(vt),nt._container=Qe.selectAll(".plot-container").data([0]),nt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),nt._paperdiv=nt._container.selectAll(".svg-container").data([0]),nt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),nt._glcontainer=nt._paperdiv.selectAll(".gl-container").data([{}]),nt._glcontainer.enter().append("div").classed("gl-container",!0),nt._paperdiv.selectAll(".main-svg").remove(),nt._paperdiv.select(".modebar-container").remove(),nt._paper=nt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),nt._toppaper=nt._paperdiv.append("svg").classed("main-svg",!0),nt._modebardiv=nt._paperdiv.append("div"),delete nt._modeBar,nt._hoverpaper=nt._paperdiv.append("svg").classed("main-svg",!0),!nt._uid){var wt={};M.selectAll("defs").each(function(){this.id&&(wt[this.id.split("-")[1]]=1)}),nt._uid=T.randstr(wt)}nt._paperdiv.selectAll(".main-svg").attr(x.svgAttrs),nt._defs=nt._paper.append("defs").attr("id","defs-"+nt._uid),nt._clips=nt._defs.append("g").classed("clips",!0),nt._topdefs=nt._toppaper.append("defs").attr("id","topdefs-"+nt._uid),nt._topclips=nt._topdefs.append("g").classed("clips",!0),nt._bgLayer=nt._paper.append("g").classed("bglayer",!0),nt._draggers=nt._paper.append("g").classed("draglayer",!0);var Ot=nt._paper.append("g").classed("layer-below",!0);nt._imageLowerLayer=Ot.append("g").classed("imagelayer",!0),nt._shapeLowerLayer=Ot.append("g").classed("shapelayer",!0),nt._cartesianlayer=nt._paper.append("g").classed("cartesianlayer",!0),nt._polarlayer=nt._paper.append("g").classed("polarlayer",!0),nt._smithlayer=nt._paper.append("g").classed("smithlayer",!0),nt._ternarylayer=nt._paper.append("g").classed("ternarylayer",!0),nt._geolayer=nt._paper.append("g").classed("geolayer",!0),nt._funnelarealayer=nt._paper.append("g").classed("funnelarealayer",!0),nt._pielayer=nt._paper.append("g").classed("pielayer",!0),nt._iciclelayer=nt._paper.append("g").classed("iciclelayer",!0),nt._treemaplayer=nt._paper.append("g").classed("treemaplayer",!0),nt._sunburstlayer=nt._paper.append("g").classed("sunburstlayer",!0),nt._indicatorlayer=nt._toppaper.append("g").classed("indicatorlayer",!0),nt._glimages=nt._paper.append("g").classed("glimages",!0);var Pt=nt._toppaper.append("g").classed("layer-above",!0);nt._imageUpperLayer=Pt.append("g").classed("imagelayer",!0),nt._shapeUpperLayer=Pt.append("g").classed("shapelayer",!0),nt._selectionLayer=nt._toppaper.append("g").classed("selectionlayer",!0),nt._infolayer=nt._toppaper.append("g").classed("infolayer",!0),nt._menulayer=nt._toppaper.append("g").classed("menulayer",!0),nt._zoomlayer=nt._toppaper.append("g").classed("zoomlayer",!0),nt._hoverlayer=nt._hoverpaper.append("g").classed("hoverlayer",!0),nt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),vt.emit("plotly_framework")}(_e),Ce._shouldCreateBgLayer&&delete Ce._shouldCreateBgLayer),u.initGradients(_e),u.initPatterns(_e),Te&&r.saveShowSpikeInitial(_e);var ze=!_e.calcdata||_e.calcdata.length!==(_e._fullData||[]).length;ze&&n.doCalcdata(_e);for(var Ue=0;Ue<_e.calcdata.length;Ue++)_e.calcdata[Ue][0].trace=_e._fullData[Ue];_e._context.responsive?_e._responsiveChartHandler||(_e._responsiveChartHandler=function(){T.isHidden(_e)||n.resize(_e)},window.addEventListener("resize",_e._responsiveChartHandler)):T.clearResponsive(_e);var Ve=T.extendFlat({},Ce._size),Xe=0;function at(){if(n.clearAutoMarginIds(_e),v.drawMarginPushers(_e),r.allowAutoMargin(_e),_e._fullLayout.title.text&&_e._fullLayout.title.automargin&&n.allowAutoMargin(_e,"title.automargin"),Ce._has("pie"))for(var vt=_e._fullData,Qe=0;Qe<vt.length;Qe++){var nt=vt[Qe];"pie"===nt.type&&nt.automargin&&n.allowAutoMargin(_e,"pie."+nt.uid+".automargin")}return n.doAutoMargin(_e),n.previousPromises(_e)}function st(){_e._transitioning||(v.doAutoRangeAndConstraints(_e),Te&&r.saveRangeInitial(_e),t.getComponentMethod("rangeslider","calcAutorange")(_e))}var ht=[n.previousPromises,function(){if(fe)return D.addFrames(_e,fe)},function vt(){for(var Qe=Ce._basePlotModules,nt=0;nt<Qe.length;nt++)Qe[nt].drawFramework&&Qe[nt].drawFramework(_e);!Ce._glcanvas&&Ce._has("gl")&&(Ce._glcanvas=Ce._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(St){return St.key}),Ce._glcanvas.enter().append("canvas").attr("class",function(St){return"gl-canvas gl-canvas-"+St.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var wt=_e._context.plotGlPixelRatio;if(Ce._glcanvas){Ce._glcanvas.attr("width",Ce.width*wt).attr("height",Ce.height*wt).style("width",Ce.width+"px").style("height",Ce.height+"px");var Ot=Ce._glcanvas.data()[0].regl;if(Ot&&(Math.floor(Ce.width*wt)!==Ot._gl.drawingBufferWidth||Math.floor(Ce.height*wt)!==Ot._gl.drawingBufferHeight)){var Pt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Xe)return T.log(Pt+" Clearing graph and plotting again."),n.cleanPlot([],{},_e._fullData,Ce),n.supplyDefaults(_e),Ce=_e._fullLayout,n.doCalcdata(_e),Xe++,vt();T.error(Pt)}}return"h"===Ce.modebar.orientation?Ce._modebardiv.style("height",null).style("width","100%"):Ce._modebardiv.style("width",null).style("height",Ce.height+"px"),n.previousPromises(_e)},at,function(){if(n.didMarginChange(Ve,Ce._size))return T.syncOrAsync([at,v.layoutStyles],_e)}];De&&ht.push(function(){if(ze)return T.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),st],_e);st()}),ht.push(v.layoutStyles),De&&ht.push(function(){return r.draw(_e,Te?"":"redraw")},function(vt){var Qe=vt._fullLayout._insideTickLabelsUpdaterange;if(Qe)return vt._fullLayout._insideTickLabelsUpdaterange=void 0,X(vt,Qe).then(function(){r.saveRangeInitial(vt,!0)})}),ht.push(v.drawData,v.finalDraw,c,n.addLinks,n.rehover,n.redrag,n.reselect,n.doAutoMargin,n.previousPromises);var bt=T.syncOrAsync(ht,_e);return bt&&bt.then||(bt=Promise.resolve()),bt.then(function(){return w(_e),_e})},D.purge=function(_e){var Me=(_e=T.getGraphDiv(_e))._fullLayout||{},Ee=_e._fullData||[];return n.cleanPlot([],{},Ee,Me),n.purge(_e),p.purge(_e),Me._container&&Me._container.remove(),delete _e._context,_e},D.react=function(_e,Me,Ee,Ie){var fe,xe;_e=T.getGraphDiv(_e),y.clearPromiseQueue(_e);var tt,Re,Fe,et,We,ct,Te=_e._fullData,Ce=_e._fullLayout;if(T.isPlotDiv(_e)&&Te&&Ce){if(T.isPlainObject(Me)){var De=Me;Me=De.data,Ee=De.layout,Ie=De.config,fe=De.frames}var ze=!1;if(Ie){var Ue=T.extendDeep({},_e._context);_e._context=void 0,O(_e,Ie),ze=he(Ue,_e._context)}_e.data=Me||[],y.cleanData(_e.data),_e.layout=Ee||{},y.cleanLayout(_e.layout),function(tt,Re,Fe,et){var We,ct,pt,dt,ut,kt,yt,gt,At,Lt,It=et._preGUI,qt=[],Qt={},Vt={};for(We in It){if(ut=ge(We,de)){if(At=ut.head,Lt=ut.tail,ct=ut.attr||At+".uirevision",(dt=(pt=b(et,ct).get())&&Ae(ct,Re))&&dt===pt){if(null===(kt=It[We])&&(kt=void 0),se(gt=(yt=b(Re,We)).get(),kt)){void 0===gt&&"autorange"===Lt&&qt.push(At),yt.set(F(b(et,We).get()));continue}if("autorange"===Lt||"range["===Lt.substr(0,6)){var Ft=It[At+".range[0]"],en=It[At+".range[1]"],wn=It[At+".autorange"];if(wn||null===wn&&null===Ft&&null===en){if(!(At in Qt)){var kn=b(Re,At).get();Qt[At]=kn&&(kn.autorange||!1!==kn.autorange&&(!kn.range||2!==kn.range.length))}if(Qt[At]){yt.set(F(b(et,We).get()));continue}}}}}else T.warn("unrecognized GUI edit: "+We);delete It[We],ut&&"range["===ut.tail.substr(0,6)&&(Vt[ut.head]=1)}for(var on=0;on<qt.length;on++){var Ht=qt[on];if(Vt[Ht]){var nn=b(Re,Ht).get();nn&&delete nn.autorange}}var Kt=et._tracePreGUI;for(var an in Kt){var xn,_n=Kt[an],mn=null;for(We in _n){if(!mn){var An=ye(an,Fe);if(An<0){delete Kt[an];break}var vn=we(an,tt,(xn=Fe[An]._fullInput).index);if(vn<0){delete Kt[an];break}mn=tt[vn]}if(ut=ge(We,pe)){if(ut.attr?dt=(pt=b(et,ut.attr).get())&&Ae(ut.attr,Re):(pt=xn.uirevision,void 0===(dt=mn.uirevision)&&(dt=Re.uirevision)),dt&&dt===pt&&(null===(kt=_n[We])&&(kt=void 0),se(gt=(yt=b(mn,We)).get(),kt))){yt.set(F(b(xn,We).get()));continue}}else T.warn("unrecognized GUI edit: "+We+" in trace uid "+an);delete _n[We]}}}(_e.data,_e.layout,Te,Ce),n.supplyDefaults(_e,{skipUpdateCalc:!0});var Ve=_e._fullData,Xe=_e._fullLayout,at=void 0===Xe.datarevision,st=Xe.transition,ht=(tt=_e,Re=Ce,Fe=Xe,et=at,We=st,(ct=_.layoutFlags()).arrays={},ct.rangesAltered={},ct.nChanges=0,ct.nChangesAnim=0,ie(Re,Fe,[],{getValObject:function(pt){return i.getLayoutValObject(Fe,pt)},flags:ct,immutable:et,transition:We,gd:tt}),(ct.plot||ct.calc)&&(ct.layoutReplot=!0),We&&ct.nChanges&&ct.nChangesAnim&&(ct.anim=ct.nChanges===ct.nChangesAnim?"all":"some"),ct),bt=ht.newDataRevision,vt=function(tt,Re,Fe,et,We,ct){var pt=Re.length===Fe.length;if(!We&&!pt)return{fullReplot:!0,calc:!0};var dt,ut,kt=_.traceFlags();kt.arrays={},kt.nChanges=0,kt.nChangesAnim=0;var yt={getValObject:function(At){var Lt=i.getTraceValObject(ut,At);return!ut._module.animatable&&Lt.anim&&(Lt.anim=!1),Lt},flags:kt,immutable:et,transition:We,newDataRevision:ct,gd:tt},gt={};for(dt=0;dt<Re.length;dt++)if(Fe[dt]){if(ut=Fe[dt]._fullInput,n.hasMakesDataTransform(ut)&&(ut=Fe[dt]),gt[ut.uid])continue;gt[ut.uid]=1,ie(Re[dt]._fullInput,ut,[],yt)}return(kt.calc||kt.plot)&&(kt.fullReplot=!0),We&&kt.nChanges&&kt.nChangesAnim&&(kt.anim=kt.nChanges===kt.nChangesAnim&&pt?"all":"some"),kt}(_e,Te,Ve,at,st,bt);if(ue(_e)&&(ht.layoutReplot=!0),vt.calc||ht.calc){_e.calcdata=void 0;for(var Qe=Object.getOwnPropertyNames(Xe),nt=0;nt<Qe.length;nt++){var wt=Qe[nt],Ot=wt.substring(0,5);if("xaxis"===Ot||"yaxis"===Ot){var Pt=Xe[wt]._emptyCategories;Pt&&Pt()}}}else n.supplyDefaultsUpdateCalc(_e.calcdata,Ve);var St=[];if(fe&&(_e._transitionData={},n.createTransitionData(_e),St.push(function(){return D.addFrames(_e,fe)})),Xe.transition&&!ze&&(vt.anim||ht.anim))ht.ticks&&St.push(v.doTicksRelayout),n.doCalcdata(_e),v.doAutoRangeAndConstraints(_e),St.push(function(){return n.transitionFromReact(_e,vt,ht,Ce)});else if(vt.fullReplot||ht.layoutReplot||ze)_e._fullLayout._skipDefaults=!0,St.push(D._doPlot);else{for(var qe in ht.arrays){var Ze=ht.arrays[qe];if(Ze.length){var Ne=t.getComponentMethod(qe,"drawOne");if(Ne!==T.noop)for(var Ge=0;Ge<Ze.length;Ge++)Ne(_e,Ze[Ge]);else{var rt=t.getComponentMethod(qe,"draw");if(rt===T.noop)throw new Error("cannot draw components: "+qe);rt(_e)}}}St.push(n.previousPromises),vt.style&&St.push(v.doTraceStyle),(vt.colorbars||ht.colorbars)&&St.push(v.doColorBars),ht.legend&&St.push(v.doLegend),ht.layoutstyle&&St.push(v.layoutStyles),ht.axrange&&J(St),ht.ticks&&St.push(v.doTicksRelayout),ht.modebar&&St.push(v.doModeBar),ht.camera&&St.push(v.doCamera),St.push(w)}St.push(n.rehover,n.redrag,n.reselect),(xe=T.syncOrAsync(St,_e))&&xe.then||(xe=Promise.resolve(_e))}else xe=D.newPlot(_e,Me,Ee,Ie);return xe.then(function(){return _e.emit("plotly_react",{data:Me,layout:Ee}),_e})},D.redraw=function(_e){if(_e=T.getGraphDiv(_e),!T.isPlotDiv(_e))throw new Error("This element is not a Plotly plot: "+_e);return y.cleanData(_e.data),y.cleanLayout(_e.layout),_e.calcdata=void 0,D._doPlot(_e).then(function(){return _e.emit("plotly_redraw"),_e})},D.relayout=X,D.restyle=Y,D.setPlotConfig=function(_e){return T.extendFlat(h,_e)},D.update=ve,D._guiRelayout=be(X),D._guiRestyle=be(Y),D._guiUpdate=be(ve),D._storeDirectGUIEdit=function(_e,Me,Ee){for(var Ie in Ee)V(Ie,b(_e,Ie).get(),Ee[Ie],Me)}},72075:function(ee){"use strict";var D={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function M(k,a){for(var T in k){var b=k[T];b.valType?a[T]=b.dflt:(a[T]||(a[T]={}),M(b,a[T]))}})(D,e),ee.exports={configAttributes:D,dfltConfig:e}},86281:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=e(9012),T=e(10820),b=e(31391),p=e(85594),s=e(72075).configAttributes,t=e(30962),i=k.extendDeepAll,n=k.isPlainObject,r=k.isArrayOrTypedArray,o=k.nestedProperty,l=k.valObjectMeta,u="_isSubplotObj",d="_isLinkedToArray",c="_deprecated",x=[u,d,"_arrayAttrRegexps",c];function g(f,S,w){if(!f)return!1;if(f._isLinkedToArray)if(h(S[w]))w++;else if(w<S.length)return!1;for(;w<S.length;w++){var E=f[S[w]];if(!n(E)||(f=E,w===S.length-1))break;if(f._isLinkedToArray){if(!h(S[++w]))return!1}else if("info_array"===f.valType){var C=S[++w];if(!h(C))return!1;var O=f.items;if(Array.isArray(O)){if(C>=O.length)return!1;if(2===f.dimensions){if(w++,S.length===w)return f;var P=S[w];if(!h(P))return!1;f=O[C][P]}else f=O[C]}else f=O}}return f}function h(f){return f===Math.round(f)&&f>=0}function m(){var f,S,w={};for(f in i(w,T),M.subplotsRegistry)if((S=M.subplotsRegistry[f]).layoutAttributes)if(Array.isArray(S.attr))for(var E=0;E<S.attr.length;E++)v(w,S,S.attr[E]);else v(w,S,"subplot"===S.attr?S.name:S.attr);for(f in M.componentsRegistry){var C=(S=M.componentsRegistry[f]).schema;if(C&&(C.subplots||C.layout)){var O=C.subplots;if(O&&O.xaxis&&!O.yaxis)for(var P in O.xaxis)delete w.yaxis[P];delete w.xaxis.shift,delete w.xaxis.autoshift}else"colorscale"===S.name?i(w,S.layoutAttributes):S.layoutAttributes&&_(w,S.layoutAttributes,S.name)}return{layoutAttributes:y(w)}}function y(f){return S=f,D.crawl(S,function(w,E,C){D.isValObject(w)?!0!==w.arrayOk&&"data_array"!==w.valType||(C[E+"src"]={valType:"string",editType:"none"}):n(w)&&(w.role="object")}),function(S){D.crawl(S,function(w,E,C){if(w){var O=w[d];O&&(delete w[d],C[E]={items:{}},C[E].items[O]=w,C[E].role="object")}})}(f),function(S){!function w(E){for(var C in E)if(n(E[C]))w(E[C]);else if(Array.isArray(E[C]))for(var O=0;O<E[C].length;O++)w(E[C][O]);else E[C]instanceof RegExp&&(E[C]=E[C].toString())}(S)}(f),f;var S}function v(f,S,w){var E=o(f,w),C=i({},S.layoutAttributes);C[u]=!0,E.set(C)}function _(f,S,w){var E=o(f,w);E.set(i(E.get()||{},S))}D.IS_SUBPLOT_OBJ=u,D.IS_LINKED_TO_ARRAY=d,D.DEPRECATED=c,D.UNDERSCORE_ATTRS=x,D.get=function(){var f={};M.allTypes.forEach(function(E){f[E]=function(C){var O,P;P=(O=M.modules[C]._module).basePlotModule;var R={type:null},j=i({},a),z=i({},O.attributes);D.crawl(z,function(F,U,V,te,$){o(j,$).set(void 0),void 0===F&&o(z,$).set(void 0)}),i(R,j),M.traceIs(C,"noOpacity")&&delete R.opacity,M.traceIs(C,"showLegend")||(delete R.showlegend,delete R.legendgroup),M.traceIs(C,"noHover")&&(delete R.hoverinfo,delete R.hoverlabel),O.selectPoints||delete R.selectedpoints,i(R,z),P.attributes&&i(R,P.attributes),R.type=C;var N={meta:O.meta||{},categories:O.categories||{},animatable:Boolean(O.animatable),type:C,attributes:y(R)};if(O.layoutAttributes){var Y={};i(Y,O.layoutAttributes),N.layoutAttributes=y(Y)}return O.animatable||D.crawl(N,function(F){D.isValObject(F)&&"anim"in F&&delete F.anim}),N}(E)});var S,w={};return Object.keys(M.transformsRegistry).forEach(function(E){var C,O,P;w[E]=(C=E,O=M.transformsRegistry[C],P=i({},O.attributes),Object.keys(M.componentsRegistry).forEach(function(R){var j=M.componentsRegistry[R];j.schema&&j.schema.transforms&&j.schema.transforms[C]&&Object.keys(j.schema.transforms[C]).forEach(function(z){_(P,j.schema.transforms[C][z],z)})}),{attributes:y(P)})}),{defs:{valObjects:l,metaKeys:x.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:f,layout:m(),transforms:w,frames:(S={frames:i({},b)},y(S),S.frames),animation:y(p),config:y(s)}},D.crawl=function(f,S,w,E){var C=w||0;E=E||"",Object.keys(f).forEach(function(O){var P=f[O];if(-1===x.indexOf(O)){var R=(E?E+".":"")+O;S(P,O,f,C,R),D.isValObject(P)||n(P)&&"impliedEdits"!==O&&D.crawl(P,S,C+1,R)}})},D.isValObject=function(f){return f&&void 0!==f.valType},D.findArrayAttributes=function(f){var S,w,E=[],C=[],O=[];function P(F,U,V,te){C=C.slice(0,te).concat([U]),O=O.slice(0,te).concat([F&&F._isLinkedToArray]),F&&("data_array"===F.valType||!0===F.arrayOk)&&("colorbar"!==C[te-1]||"ticktext"!==U&&"tickvals"!==U)&&R(S,0,"")}function R(F,U,V){var te=F[C[U]],$=V+C[U];if(U===C.length-1)r(te)&&E.push(w+$);else if(O[U]){if(Array.isArray(te))for(var X=0;X<te.length;X++)n(te[X])&&R(te[X],U+1,$+"["+X+"].")}else n(te)&&R(te,U+1,$+".")}S=f,w="",D.crawl(a,P),f._module&&f._module.attributes&&D.crawl(f._module.attributes,P);var j=f.transforms;if(j)for(var z=0;z<j.length;z++){var N=j[z],Y=N._module;Y&&(w="transforms["+z+"].",S=N,D.crawl(Y.attributes,P))}return E},D.getTraceValObject=function(f,S){var w,E,C=S[0],O=1;if("transforms"===C){if(1===S.length)return a.transforms;var P=f.transforms;if(!Array.isArray(P)||!P.length)return!1;var R=S[1];if(!h(R)||R>=P.length)return!1;E=(w=(M.transformsRegistry[P[R].type]||{}).attributes)&&w[S[2]],O=3}else{var j=f._module;if(j||(j=(M.modules[f.type||a.type.dflt]||{})._module),!j)return!1;if(!(E=(w=j.attributes)&&w[C])){var z=j.basePlotModule;z&&z.attributes&&(E=z.attributes[C])}E||(E=a[C])}return g(E,S,O)},D.getLayoutValObject=function(f,S){return g(function(E,C){var O,P,R,j,z=E._basePlotModules;if(z){var N;for(O=0;O<z.length;O++){if((R=z[O]).attrRegex&&R.attrRegex.test(C)){if(R.layoutAttrOverrides)return R.layoutAttrOverrides;!N&&R.layoutAttributes&&(N=R.layoutAttributes)}var Y=R.baseLayoutAttrOverrides;if(Y&&C in Y)return Y[C]}if(N)return N}var F=E._modules;if(F)for(O=0;O<F.length;O++)if((j=F[O].layoutAttributes)&&C in j)return j[C];for(P in M.componentsRegistry){if("colorscale"===(R=M.componentsRegistry[P]).name&&0===C.indexOf("coloraxis"))return R.layoutAttributes[C];if(!R.schema&&C===R.name)return R.layoutAttributes}return C in T&&T[C]}(f,S[0]),S,1)}},44467:function(ee,D,e){"use strict";var M=e(71828),k=e(9012),a="templateitemname",T={name:{valType:"string",editType:"none"}};function b(s){return s&&"string"==typeof s}function p(s){var t=s.length-1;return"s"!==s.charAt(t)&&M.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}T[a]={valType:"string",editType:"calc"},D.templatedArray=function(s,t){return t._isLinkedToArray=s,t.name=T.name,t[a]=T[a],t},D.traceTemplater=function(s){var t,i,n={};for(t in s)i=s[t],Array.isArray(i)&&i.length&&(n[t]=0);return{newTrace:function(r){var o={type:t=M.coerce(r,{},k,"type"),_template:null};if(t in n){i=s[t];var l=n[t]%i.length;n[t]++,o._template=i[l]}return o}}},D.newContainer=function(s,t,i){var n=s._template,r=n&&(n[t]||i&&n[i]);return M.isPlainObject(r)||(r=null),s[t]={_template:r}},D.arrayTemplater=function(s,t,i){var n=s._template,r=n&&n[p(t)],o=n&&n[t];Array.isArray(o)&&o.length||(o=[]);var l={};return{newItem:function(u){var d={name:u.name,_input:u},c=d[a]=u[a];if(!b(c))return d._template=r,d;for(var x=0;x<o.length;x++){var g=o[x];if(g.name===c)return l[c]=1,d._template=g,d}return d[i]=u[i]||!1,d._template=!1,d},defaultItems:function(){for(var u=[],d=0;d<o.length;d++){var c=o[d],x=c.name;if(b(x)&&!l[x]){var g={_template:c,name:x,_input:{_templateitemname:x}};g[a]=c[a],u.push(g),l[x]=1}}return u}}},D.arrayDefaultKey=p,D.arrayEditor=function(s,t,i){var n=(M.nestedProperty(s,t).get()||[]).length,r=i._index,o=r>=n&&(i._input||{})._templateitemname;o&&(r=n);var l,u=t+"["+r+"]";function d(){l={},o&&(l[u]={},l[u][a]=o)}function c(g,h){o?M.nestedProperty(l[u],g).set(h):l[u+"."+g]=h}function x(){var g=l;return d(),g}return d(),{modifyBase:function(g,h){l[g]=h},modifyItem:c,getUpdateObj:x,applyUpdate:function(g,h){g&&c(g,h);var m=x();for(var y in m)M.nestedProperty(s,y).set(m[y])}}}},61549:function(ee,D,e){"use strict";var M=e(39898),k=e(73972),a=e(74875),T=e(71828),b=e(63893),p=e(33306),s=e(7901),t=e(91424),i=e(92998),n=e(64168),r=e(89298),o=e(18783),l=e(99082),u=l.enforce,d=l.clean,c=e(71739).doAutoRange,x="start";function g(_,f,S){for(var w=0;w<S.length;w++){var E=S[w][0],C=S[w][1];if(!(E[0]>=_[1]||E[1]<=_[0])&&C[0]<f[1]&&C[1]>f[0])return!0}return!1}function h(_){var f,S,w,E,C,O,P=_._fullLayout,R=P._size,j=R.p,z=r.list(_,"",!0);if(P._paperdiv.style({width:_._context.responsive&&P.autosize&&!_._context._hasZeroWidth&&!_.layout.width?"100%":P.width+"px",height:_._context.responsive&&P.autosize&&!_._context._hasZeroHeight&&!_.layout.height?"100%":P.height+"px"}).selectAll(".main-svg").call(t.setSize,P.width,P.height),_._context.setBackground(_,P.paper_bgcolor),D.drawMainTitle(_),n.manage(_),!P._has("cartesian"))return a.previousPromises(_);function N(ze,Ue,Ve){var Xe=ze._lw/2;return"x"===ze._id.charAt(0)?Ue?"top"===Ve?Ue._offset-j-Xe:Ue._offset+Ue._length+j+Xe:R.t+R.h*(1-(ze.position||0))+Xe%1:Ue?"right"===Ve?Ue._offset+Ue._length+j+Xe:Ue._offset-j-Xe:R.l+R.w*(ze.position||0)+Xe%1}for(f=0;f<z.length;f++){var Y=(E=z[f])._anchorAxis;E._linepositions={},E._lw=t.crispRound(_,E.linewidth,1),E._mainLinePosition=N(E,Y,E.side),E._mainMirrorPosition=E.mirror&&Y?N(E,Y,o.OPPOSITE_SIDE[E.side]):null}var F=[],U=[],V=[],te=1===s.opacity(P.paper_bgcolor)&&1===s.opacity(P.plot_bgcolor)&&P.paper_bgcolor===P.plot_bgcolor;for(S in P._plots)if((w=P._plots[S]).mainplot)w.bg&&w.bg.remove(),w.bg=void 0;else{var $=w.xaxis.domain,X=w.yaxis.domain,W=w.plotgroup;if(g($,X,V)){var J=W.node(),Q=w.bg=T.ensureSingle(W,"rect","bg");J.insertBefore(Q.node(),J.childNodes[0]),U.push(S)}else W.select("rect.bg").remove(),V.push([$,X]),te||(F.push(S),U.push(S))}var re,ae,oe,ue,ve,be,de,pe,ge,Ae,ye,we,se,ie=P._bgLayer.selectAll(".bg").data(F);for(ie.enter().append("rect").classed("bg",!0),ie.exit().remove(),ie.each(function(ze){P._plots[ze].bg=M.select(this)}),f=0;f<U.length;f++)w=P._plots[U[f]],C=w.xaxis,O=w.yaxis,w.bg&&void 0!==C._offset&&void 0!==O._offset&&w.bg.call(t.setRect,C._offset-j,O._offset-j,C._length+2*j,O._length+2*j).call(s.fill,P.plot_bgcolor).style("stroke-width",0);if(!P._hasOnlyLargeSploms)for(S in P._plots){w=P._plots[S],C=w.xaxis,O=w.yaxis;var he,Se,_e=w.clipId="clip"+P._uid+S+"plot",Me=T.ensureSingleById(P._clips,"clipPath",_e,function(ze){ze.classed("plotclip",!0).append("rect")});w.clipRect=Me.select("rect").attr({width:C._length,height:O._length}),t.setTranslate(w.plot,C._offset,O._offset),w._hasClipOnAxisFalse?(he=null,Se=_e):(he=_e,Se=null),t.setClipUrl(w.plot,he,_),w.layerClipId=Se}function Ee(ze){return"M"+re+","+ze+"H"+ae}function Ie(ze){return"M"+C._offset+","+ze+"h"+C._length}function fe(ze){return"M"+ze+","+pe+"V"+de}function xe(ze){return void 0!==O._shift&&(ze+=O._shift),"M"+ze+","+O._offset+"v"+O._length}function Te(ze,Ue,Ve){if(!ze.showline||S!==ze._mainSubplot)return"";if(!ze._anchorAxis)return Ve(ze._mainLinePosition);var Xe=Ue(ze._mainLinePosition);return ze.mirror&&(Xe+=Ue(ze._mainMirrorPosition)),Xe}for(S in P._plots){w=P._plots[S],C=w.xaxis,O=w.yaxis;var Ce="M0,0";m(C,S)&&(ve=v(C,"left",O,z),re=C._offset-(ve?j+ve:0),be=v(C,"right",O,z),ae=C._offset+C._length+(be?j+be:0),oe=N(C,O,"bottom"),ue=N(C,O,"top"),!(se=!C._anchorAxis||S!==C._mainSubplot)||"allticks"!==C.mirror&&"all"!==C.mirror||(C._linepositions[S]=[oe,ue]),Ce=Te(C,Ee,Ie),se&&C.showline&&("all"===C.mirror||"allticks"===C.mirror)&&(Ce+=Ee(oe)+Ee(ue)),w.xlines.style("stroke-width",C._lw+"px").call(s.stroke,C.showline?C.linecolor:"rgba(0,0,0,0)")),w.xlines.attr("d",Ce);var De="M0,0";m(O,S)&&(ye=v(O,"bottom",C,z),de=O._offset+O._length+(ye?j:0),we=v(O,"top",C,z),pe=O._offset-(we?j:0),ge=N(O,C,"left"),Ae=N(O,C,"right"),!(se=!O._anchorAxis||S!==O._mainSubplot)||"allticks"!==O.mirror&&"all"!==O.mirror||(O._linepositions[S]=[ge,Ae]),De=Te(O,fe,xe),se&&O.showline&&("all"===O.mirror||"allticks"===O.mirror)&&(De+=fe(ge)+fe(Ae)),w.ylines.style("stroke-width",O._lw+"px").call(s.stroke,O.showline?O.linecolor:"rgba(0,0,0,0)")),w.ylines.attr("d",De)}return r.makeClipPaths(_),a.previousPromises(_)}function m(_,f){return(_.ticks||_.showline)&&(f===_._mainSubplot||"all"===_.mirror||"allticks"===_.mirror)}function y(_,f,S){if(!S.showline||!S._lw)return!1;if("all"===S.mirror||"allticks"===S.mirror)return!0;var w=S._anchorAxis;if(!w)return!1;var E=o.FROM_BL[f];return S.side===f?w.domain[E]===_.domain[E]:S.mirror&&w.domain[1-E]===_.domain[1-E]}function v(_,f,S,w){if(y(_,f,S))return S._lw;for(var E=0;E<w.length;E++){var C=w[E];if(C._mainAxis===S._mainAxis&&y(_,f,C))return C._lw}return 0}D.layoutStyles=function(_){return T.syncOrAsync([a.doAutoMargin,h],_)},D.drawMainTitle=function(_){var f,U,V,S=_._fullLayout.title,w=_._fullLayout,E=(U=w.title,V="middle",T.isRightAnchor(U)?V="end":T.isLeftAnchor(U)&&(V=x),V),C=function(F){var U=F.title,V="0em";return T.isTopAnchor(U)?V=o.CAP_SHIFT+"em":T.isMiddleAnchor(U)&&(V=o.MID_SHIFT+"em"),V}(w),O=function(F,U){var V=F.title,te=F._size,$=0;return"0em"!==U&&U?U===o.CAP_SHIFT+"em"&&($=V.pad.t):$=-V.pad.b,"auto"===V.y?te.t/2:"paper"===V.yref?te.t+te.h-te.h*V.y+$:F.height-F.height*V.y+$}(w,C),P=function(F,U){var V=F.title,te=F._size,$=0;return U===x?$=V.pad.l:"end"===U&&($=-V.pad.r),"paper"===V.xref?te.l+te.w*V.x+$:F.width*V.x+$}(w,E);if(i.draw(_,"gtitle",{propContainer:w,propName:"title.text",placeholder:w._dfltTitle.plot,attributes:{x:P,y:O,"text-anchor":E,dy:C}}),S.text&&S.automargin){var R=M.selectAll(".gtitle"),j=t.bBox(R.node()).height,z=function(F,U,V){var Q,re,ae,oe,ue,ve,te=U.y,$=U.yanchor,X=te>.5?"t":"b",W=F._fullLayout.margin[X],J=0;return"paper"===U.yref?J=V+U.pad.t+U.pad.b:"container"===U.yref&&(Q=X,re=te,ae=$,oe=F._fullLayout.height,ue=V,ve=0,"middle"===ae&&(ve+=ue/2),"t"===Q?("top"===ae&&(ve+=ue),ve+=oe-re*oe):("bottom"===ae&&(ve+=ue),ve+=re*oe),J=ve+U.pad.t+U.pad.b),J>W?J:0}(_,S,j);if(z>0){(function(F,U,V,te){var re,ae,oe,ue,ve,be,de,pe,$="title.automargin",X=F._fullLayout.title,W=X.y>.5?"t":"b",J={x:X.x,y:X.y,t:0,b:0},Q={};"paper"===X.yref&&(re=F,oe=W,ue=U,ve=te,be="paper"===(ae=X).yref?re._fullLayout._size.h:re._fullLayout.height,de=T.isTopAnchor(ae)?ue:ue-ve,pe="b"===oe?be-de:de,!(T.isTopAnchor(ae)&&"t"===oe||T.isBottomAnchor(ae)&&"b"===oe)&&pe<ve)?J[W]=V:"container"===X.yref&&(Q[W]=V,F._fullLayout._reservedMargin[$]=Q),a.allowAutoMargin(F,$),a.autoMargin(F,$,J)})(_,O,z,j),R.attr({x:P,y:O,"text-anchor":E,dy:(f=S.yanchor,"top"===f?o.CAP_SHIFT+.3+"em":"bottom"===f?"-0.3em":o.MID_SHIFT+"em")}).call(b.positionText,P,O);var N=(S.text.match(b.BR_TAG_ALL)||[]).length;if(N){var Y=o.LINE_SPACING*N+o.MID_SHIFT;0===S.y&&(Y=-Y),R.selectAll(".line").each(function(){var F=+this.getAttribute("dy").slice(0,-2)-Y+"em";this.setAttribute("dy",F)})}}}},D.doTraceStyle=function(_){var f,S=_.calcdata,w=[];for(f=0;f<S.length;f++){var E=S[f],C=E[0]||{},O=C.trace||{},P=O._module||{},R=P.arraysToCalcdata;R&&R(E,O);var j=P.editStyle;j&&w.push({fn:j,cd0:C})}if(w.length){for(f=0;f<w.length;f++){var z=w[f];z.fn(_,z.cd0)}p(_),D.redrawReglTraces(_)}return a.style(_),k.getComponentMethod("legend","draw")(_),a.previousPromises(_)},D.doColorBars=function(_){return k.getComponentMethod("colorbar","draw")(_),a.previousPromises(_)},D.layoutReplot=function(_){var f=_.layout;return _.layout=void 0,k.call("_doPlot",_,"",f)},D.doLegend=function(_){return k.getComponentMethod("legend","draw")(_),a.previousPromises(_)},D.doTicksRelayout=function(_){return r.draw(_,"redraw"),_._fullLayout._hasOnlyLargeSploms&&(k.subplotsRegistry.splom.updateGrid(_),p(_),D.redrawReglTraces(_)),D.drawMainTitle(_),a.previousPromises(_)},D.doModeBar=function(_){var f=_._fullLayout;n.manage(_);for(var S=0;S<f._basePlotModules.length;S++){var w=f._basePlotModules[S].updateFx;w&&w(_)}return a.previousPromises(_)},D.doCamera=function(_){for(var f=_._fullLayout,S=f._subplots.gl3d,w=0;w<S.length;w++){var E=f[S[w]];E._scene.setViewport(E)}},D.drawData=function(_){var f=_._fullLayout;p(_);for(var S=f._basePlotModules,w=0;w<S.length;w++)S[w].plot(_);return D.redrawReglTraces(_),a.style(_),k.getComponentMethod("selections","draw")(_),k.getComponentMethod("shapes","draw")(_),k.getComponentMethod("annotations","draw")(_),k.getComponentMethod("images","draw")(_),f._replotting=!1,a.previousPromises(_)},D.redrawReglTraces=function(_){var f=_._fullLayout;if(f._has("regl")){var S,w,E=_._fullData,C=[],O=[];for(f._hasOnlyLargeSploms&&f._splomGrid.draw(),S=0;S<E.length;S++){var P=E[S];!0===P.visible&&0!==P._length&&("splom"===P.type?f._splomScenes[P.uid].draw():"scattergl"===P.type?T.pushUnique(C,P.xaxis+P.yaxis):"scatterpolargl"===P.type&&T.pushUnique(O,P.subplot))}for(S=0;S<C.length;S++)(w=f._plots[C[S]])._scene&&w._scene.draw();for(S=0;S<O.length;S++)(w=f[O[S]]._subplot)._scene&&w._scene.draw()}},D.doAutoRangeAndConstraints=function(_){for(var f,S=r.list(_,"",!0),w={},E=0;E<S.length;E++)if(!w[(f=S[E])._id]){w[f._id]=1,d(_,f),c(_,f);var C=f._matchGroup;if(C)for(var O in C){var P=r.getFromId(_,O);c(_,P,f.range),w[O]=1}}u(_)},D.finalDraw=function(_){k.getComponentMethod("rangeslider","draw")(_),k.getComponentMethod("rangeselector","draw")(_)},D.drawMarginPushers=function(_){k.getComponentMethod("legend","draw")(_),k.getComponentMethod("rangeselector","draw")(_),k.getComponentMethod("sliders","draw")(_),k.getComponentMethod("updatemenus","draw")(_),k.getComponentMethod("colorbar","draw")(_)}},96318:function(ee,D,e){"use strict";var M=e(71828),k=M.isPlainObject,a=e(86281),T=e(74875),b=e(9012),p=e(44467),s=e(72075).dfltConfig;function t(c,x){c=M.extendDeep({},c);var g,h,m=Object.keys(c).sort();function y(w,E,C){if(k(E)&&k(w))t(w,E);else if(Array.isArray(E)&&Array.isArray(w)){var O=p.arrayTemplater({_template:c},C);for(h=0;h<E.length;h++){var P=E[h],R=O.newItem(P)._template;R&&t(R,P)}var j=O.defaultItems();for(h=0;h<j.length;h++)E.push(j[h]._template);for(h=0;h<E.length;h++)delete E[h].templateitemname}}for(g=0;g<m.length;g++){var v=m[g],_=c[v];if(v in x?y(_,x[v],v):x[v]=_,i(v)===v)for(var f in x){var S=i(f);f===S||S!==v||f in c||y(_,x[f],v)}}}function i(c){return c.replace(/[0-9]+$/,"")}function n(c,x,g,h,m){var y=m&&g(m);for(var v in c){var _=c[v],f=l(c,v,h),S=l(c,v,m),w=g(S);if(!w){var E=i(v);E!==v&&(w=g(S=l(c,E,m)))}if(!(y&&y===w||!w||w._noTemplating||"data_array"===w.valType||w.arrayOk&&Array.isArray(_)))if(!w.valType&&k(_))n(_,x,g,f,S);else if(w._isLinkedToArray&&Array.isArray(_))for(var C=!1,O=0,P={},R=0;R<_.length;R++){var j=_[R];if(k(j)){var z=j.name;if(z)P[z]||(n(j,x,g,l(_,O,f),l(_,O,S)),O++,P[z]=1);else if(!C){var N=l(c,p.arrayDefaultKey(v),h),Y=l(_,O,f);n(j,x,g,Y,l(_,O,S));var F=M.nestedProperty(x,Y);M.nestedProperty(x,N).set(F.get()),F.set(null),C=!0}}}else M.nestedProperty(x,f).set(_)}}function r(c,x){return a.getLayoutValObject(c,M.nestedProperty({},x).parts)}function o(c,x){return a.getTraceValObject(c,M.nestedProperty({},x).parts)}function l(c,x,g){return g?Array.isArray(c)?g+"["+x+"]":g+"."+x:x}function u(c){for(var x=0;x<c.length;x++)if(k(c[x]))return!0}function d(c){var x;switch(c.code){case"data":x="The template has no key data.";break;case"layout":x="The template has no key layout.";break;case"missing":x=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":x=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":x="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=x,c}D.makeTemplate=function(c){c=M.isPlainObject(c)?c:M.getGraphDiv(c),c=M.extendDeep({_context:s},{data:c.data,layout:c.layout}),T.supplyDefaults(c);var x=c.data||[],g=c.layout||{};g._basePlotModules=c._fullLayout._basePlotModules,g._modules=c._fullLayout._modules;var h={data:{},layout:{}};x.forEach(function(O){var P={};n(O,P,o.bind(null,O));var R=M.coerce(O,{},b,"type"),j=h.data[R];j||(j=h.data[R]=[]),j.push(P)}),n(g,h.layout,r.bind(null,g)),delete h.layout.template;var m=g.template;if(k(m)){var y,v,_,f,S,w,E=m.layout;k(E)&&t(E,h.layout);var C=m.data;if(k(C)){for(v in h.data)if(_=C[v],Array.isArray(_)){for(w=(S=h.data[v]).length,f=_.length,y=0;y<w;y++)t(_[y%f],S[y]);for(y=w;y<f;y++)S.push(M.extendDeep({},_[y]))}for(v in C)v in h.data||(h.data[v]=M.extendDeep([],C[v]))}}return h},D.validateTemplate=function(c,x){var g=M.extendDeep({},{_context:s,data:c.data,layout:c.layout}),h=g.layout||{};k(x)||(x=h.template||{});var m=x.layout,y=x.data,v=[];g.layout=h,g.layout.template=x,T.supplyDefaults(g);var _=g._fullLayout,f=g._fullData,S={};if(k(m)?(function j(z,N){for(var Y in z)if("_"!==Y.charAt(0)&&k(z[Y])){var F,U=i(Y),V=[];for(F=0;F<N.length;F++)V.push(l(z,Y,N[F])),U!==Y&&V.push(l(z,U,N[F]));for(F=0;F<V.length;F++)S[V[F]]=1;j(z[Y],V)}}(_,["layout"]),function j(z,N){for(var Y in z)if(-1===Y.indexOf("defaults")&&k(z[Y])){var F=l(z,Y,N);S[F]?j(z[Y],F):v.push({code:"unused",path:F})}}(m,"layout")):v.push({code:"layout"}),k(y)){for(var w,E={},C=0;C<f.length;C++){var O=f[C];E[w=O.type]=(E[w]||0)+1,O._fullInput._template||v.push({code:"missing",index:O._fullInput.index,traceType:w})}for(w in y){var P=y[w].length,R=E[w]||0;P>R?v.push({code:"unused",traceType:w,templateCount:P,dataCount:R}):R>P&&v.push({code:"reused",traceType:w,templateCount:P,dataCount:R})}}else v.push({code:"data"});if(function j(z,N){for(var Y in z)if("_"!==Y.charAt(0)){var F=z[Y],U=l(z,Y,N);k(F)?(Array.isArray(z)&&!1===F._template&&F.templateitemname&&v.push({code:"missing",path:U,templateitemname:F.templateitemname}),j(F,U)):Array.isArray(F)&&u(F)&&j(F,U)}}({data:f,layout:_},""),v.length)return v.map(d)}},403:function(ee,D,e){"use strict";var M=e(92770),k=e(72391),a=e(74875),T=e(71828),b=e(25095),p=e(5900),s=e(70942),t=e(11506).version,i={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};ee.exports=function(n,r){var o,l,u,d;function c(R){return!(R in r)||T.validate(r[R],i[R])}if(r=r||{},T.isPlainObject(n)?(o=n.data||[],l=n.layout||{},u=n.config||{},d={}):(n=T.getGraphDiv(n),o=T.extendDeep([],n.data),l=T.extendDeep({},n.layout),u=n._context,d=n._fullLayout||{}),!c("width")&&null!==r.width||!c("height")&&null!==r.height)throw new Error("Height and width should be pixel values.");if(!c("format"))throw new Error("Export format is not "+T.join2(i.format.values,", "," or ")+".");var x={};function g(R,j){return T.coerce(r,x,i,R,j)}var h=g("format"),m=g("width"),y=g("height"),v=g("scale"),_=g("setBackground"),f=g("imageDataOnly"),S=document.createElement("div");S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);var w=T.extendFlat({},l);m?w.width=m:null===r.width&&M(d.width)&&(w.width=d.width),y?w.height=y:null===r.height&&M(d.height)&&(w.height=d.height);var E=T.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:_}),C=b.getRedrawFunc(S);function O(){return new Promise(function(R){setTimeout(R,b.getDelay(S._fullLayout))})}function P(){return new Promise(function(R,j){var z=p(S,h,v),N=S._fullLayout.width,Y=S._fullLayout.height;function F(){k.purge(S),document.body.removeChild(S)}if("full-json"===h){var U=a.graphJson(S,!1,"keepdata","object",!0,!0);return U.version=t,U=JSON.stringify(U),F(),R(f?U:b.encodeJSON(U))}if(F(),"svg"===h)return R(f?z:b.encodeSVG(z));var V=document.createElement("canvas");V.id=T.randstr(),s({format:h,width:N,height:Y,scale:v,canvas:V,svg:z,promise:!0}).then(R).catch(j)})}return new Promise(function(R,j){k.newPlot(S,o,w,E).then(C).then(O).then(P).then(function(z){var N;R((N=z,f?N.replace(b.IMAGE_URL_PREFIX,""):N))}).catch(function(z){j(z)})})}},84936:function(ee,D,e){"use strict";var M=e(71828),k=e(74875),a=e(86281),T=e(72075).dfltConfig,b=M.isPlainObject,p=Array.isArray,s=M.isArrayOrTypedArray;function t(c,x,g,h,m,y){y=y||[];for(var v=Object.keys(c),_=0;_<v.length;_++){var f=v[_];if("transforms"!==f){var S=y.slice();S.push(f);var w=c[f],E=x[f],C=l(g,f),O=(C||{}).valType,P="info_array"===O,R="colorscale"===O,j=(C||{}).items;if(o(g,f))if(b(w)&&b(E)&&"any"!==O)t(w,E,C,h,m,S);else if(P&&p(w)){w.length>E.length&&h.push(r("unused",m,S.concat(E.length)));var z,N,Y,F,U,V=E.length,te=Array.isArray(j);if(te&&(V=Math.min(V,j.length)),2===C.dimensions)for(N=0;N<V;N++)if(p(w[N])){w[N].length>E[N].length&&h.push(r("unused",m,S.concat(N,E[N].length)));var $=E[N].length;for(z=0;z<(te?Math.min($,j[N].length):$);z++)Y=te?j[N][z]:j,F=w[N][z],U=E[N][z],M.validate(F,Y)?U!==F&&U!==+F&&h.push(r("dynamic",m,S.concat(N,z),F,U)):h.push(r("value",m,S.concat(N,z),F))}else h.push(r("array",m,S.concat(N),w[N]));else for(N=0;N<V;N++)Y=te?j[N]:j,F=w[N],U=E[N],M.validate(F,Y)?U!==F&&U!==+F&&h.push(r("dynamic",m,S.concat(N),F,U)):h.push(r("value",m,S.concat(N),F))}else if(C.items&&!P&&p(w)){var X,W,J=j[Object.keys(j)[0]],Q=[];for(X=0;X<E.length;X++){var re=E[X]._index||X;if((W=S.slice()).push(re),b(w[re])&&b(E[X])){Q.push(re);var ae=w[re],oe=E[X];b(ae)&&!1!==ae.visible&&!1===oe.visible?h.push(r("invisible",m,W)):t(ae,oe,J,h,m,W)}}for(X=0;X<w.length;X++)(W=S.slice()).push(X),b(w[X])?-1===Q.indexOf(X)&&h.push(r("unused",m,W)):h.push(r("object",m,W,w[X]))}else!b(w)&&b(E)?h.push(r("object",m,S,w)):s(w)||!s(E)||P||R?f in x?M.validate(w,C)?"enumerated"===C.valType&&(C.coerceNumber&&w!==+E||w!==E)&&h.push(r("dynamic",m,S,w,E)):h.push(r("value",m,S,w)):h.push(r("unused",m,S,w)):h.push(r("array",m,S,w));else h.push(r("schema",m,S))}}return h}ee.exports=function(c,x){void 0===c&&(c=[]),void 0===x&&(x={});var g,h,m=a.get(),y=[],v={_context:M.extendFlat({},T)};p(c)?(v.data=M.extendDeep([],c),g=c):(v.data=[],g=[],y.push(r("array","data"))),b(x)?(v.layout=M.extendDeep({},x),h=x):(v.layout={},h={},arguments.length>1&&y.push(r("object","layout"))),k.supplyDefaults(v);for(var _=v._fullData,f=g.length,S=0;S<f;S++){var w=g[S],E=["data",S];if(b(w)){var C=_[S],O=C.type,P=m.traces[O].attributes;P.type={valType:"enumerated",values:[O]},!1===C.visible&&!1!==w.visible&&y.push(r("invisible",E)),t(w,C,P,y,E);var R=w.transforms,j=C.transforms;if(R){p(R)||y.push(r("array",E,["transforms"])),E.push("transforms");for(var z=0;z<R.length;z++){var N=["transforms",z],Y=R[z].type;if(b(R[z])){var F=m.transforms[Y]?m.transforms[Y].attributes:{};F.type={valType:"enumerated",values:Object.keys(m.transforms)},t(R[z],j[z],F,y,E,N)}else y.push(r("object",E,N))}}}else y.push(r("object",E))}return t(h,v._fullLayout,function(te,$){for(var X=te.layout.layoutAttributes,W=0;W<$.length;W++){var J=$[W],Q=te.traces[J.type],re=Q.layoutAttributes;re&&(J.subplot?M.extendFlat(X[Q.attributes.subplot.dflt],re):M.extendFlat(X,re))}return X}(m,_),y,"layout"),0===y.length?void 0:y};var i={object:function(c,x){return("layout"===c&&""===x?"The layout argument":"data"===c[0]&&""===x?"Trace "+c[1]+" in the data argument":n(c)+"key "+x)+" must be linked to an object container"},array:function(c,x){return("data"===c?"The data argument":n(c)+"key "+x)+" must be linked to an array container"},schema:function(c,x){return n(c)+"key "+x+" is not part of the schema"},unused:function(c,x,g){var h=b(g)?"container":"key";return n(c)+h+" "+x+" did not get coerced"},dynamic:function(c,x,g,h){return[n(c)+"key",x,"(set to '"+g+"')","got reset to","'"+h+"'","during defaults."].join(" ")},invisible:function(c,x){return(x?n(c)+"item "+x:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,x,g){return[n(c)+"key "+x,"is set to an invalid value ("+g+")"].join(" ")}};function n(c){return p(c)?"In data trace "+c[1]+", ":"In "+c+", "}function r(c,x,g,h,m){var y,v;g=g||"",p(x)?(y=x[0],v=x[1]):(y=x,v=null);var _=function(S){if(!p(S))return String(S);for(var w="",E=0;E<S.length;E++){var C=S[E];"number"==typeof C?w=w.substr(0,w.length-1)+"["+C+"]":w+=C,E<S.length-1&&(w+=".")}return w}(g),f=i[c](x,_,h,m);return M.log(f),{code:c,container:y,trace:v,path:g,astr:_,msg:f}}function o(c,x){var g=d(x),h=g.keyMinusId,m=g.id;return!!(h in c&&c[h]._isSubplotObj&&m)||x in c}function l(c,x){return x in c?c[x]:c[d(x).keyMinusId]}var u=M.counterRegex("([a-z]+)");function d(c){var x=c.match(u);return{keyMinusId:x&&x[1],id:x&&x[2]}}},85594:function(ee){"use strict";ee.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(ee,D,e){"use strict";var M=e(71828),k=e(44467);ee.exports=function(a,T,b){var p,s,t=b.name,i=b.inclusionAttr||"visible",n=T[t],r=M.isArrayOrTypedArray(a[t])?a[t]:[],o=T[t]=[],l=k.arrayTemplater(T,t,i);for(p=0;p<r.length;p++){var u=r[p];M.isPlainObject(u)?s=l.newItem(u):(s=l.newItem({}))[i]=!1,s._index=p,!1!==s[i]&&b.handleItemDefaults(u,s,T,b),o.push(s)}var d=l.defaultItems();for(p=0;p<d.length;p++)(s=d[p])._index=o.length,b.handleItemDefaults({},s,T,b,{}),o.push(s);if(M.isArrayOrTypedArray(n)){var c=Math.min(n.length,o.length);for(p=0;p<c;p++)M.relinkPrivateKeys(o[p],n[p])}return o}},9012:function(ee,D,e){"use strict";var M=e(41940),k=e(77914);ee.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:M({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:k.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=k.dateTime2ms,T=k.incrementMonth,b=e(50606).ONEAVGMONTH;ee.exports=function(p,s,t,i){if("date"!==s.type)return{vals:i};var n=p[t+"periodalignment"];if(!n)return{vals:i};var r,o=p[t+"period"];if(M(o)){if((o=+o)<=0)return{vals:i}}else if("string"==typeof o&&"M"===o.charAt(0)){var l=+o.substring(1);if(!(l>0&&Math.round(l)===l))return{vals:i};r=l}for(var u=s.calendar,d="start"===n,c="end"===n,x=p[t+"period0"],g=a(x,u)||0,h=[],m=[],y=[],v=i.length,_=0;_<v;_++){var f,S,w,E=i[_];if(r){for(f=Math.round((E-g)/(r*b)),w=T(g,r*f,u);w>E;)w=T(w,-r,u);for(;w<=E;)w=T(w,r,u);S=T(w,-r,u)}else{for(w=g+(f=Math.round((E-g)/o))*o;w>E;)w-=o;for(;w<=E;)w+=o;S=w-o}h[_]=d?S:c?w:(S+w)/2,m[_]=S,y[_]=w}return{vals:h,starts:m,ends:y}}},89502:function(ee){"use strict";ee.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(ee,D,e){"use strict";var M=e(39898),k=e(92770),a=e(71828),T=e(50606).FP_SAFE,b=e(73972),p=e(91424),s=e(41675),t=s.getFromId,i=s.isLinked;function n(_,f){var S,w,E=[],C=_._fullLayout,O=o(C,f,0),P=o(C,f,1),R=u(_,f),j=R.min,z=R.max;if(0===j.length||0===z.length)return a.simpleMap(f.range,f.r2l);var N=j[0].val,Y=z[0].val;for(S=1;S<j.length&&N===Y;S++)N=Math.min(N,j[S].val);for(S=1;S<z.length&&N===Y;S++)Y=Math.max(Y,z[S].val);var F=f.autorange,U="reversed"===F||"min reversed"===F||"max reversed"===F;if(!U&&f.range){var V=a.simpleMap(f.range,f.r2l);U=V[1]<V[0]}"reversed"===f.autorange&&(f.autorange=!0);var te,$,X,W,J,Q,re=f.rangemode,ae="tozero"===re,oe="nonnegative"===re,ue=f._length,ve=ue/10,be=0;for(S=0;S<j.length;S++)for(te=j[S],w=0;w<z.length;w++)(Q=($=z[w]).val-te.val-r(f,te.val,$.val))>0&&((J=ue-O(te)-P($))>ve?Q/J>be&&(X=te,W=$,be=Q/J):Q/ue>be&&(X={val:te.val,nopad:1},W={val:$.val,nopad:1},be=Q/ue));if(N===Y){var de=N-1,pe=N+1;if(ae)if(0===N)E=[0,1];else{var ge=(N>0?z:j).reduce(function(ye,we){return Math.max(ye,P(we))},0),Ae=N/(1-Math.min(.5,ge/ue));E=N>0?[0,Ae]:[Ae,0]}else E=oe?[Math.max(0,de),Math.max(1,pe)]:[de,pe]}else ae?(X.val>=0&&(X={val:0,nopad:1}),W.val<=0&&(W={val:0,nopad:1})):oe&&(X.val-be*O(X)<0&&(X={val:0,nopad:1}),W.val<=0&&(W={val:1,nopad:1})),be=(W.val-X.val-r(f,te.val,$.val))/(ue-O(X)-P(W)),E=[X.val-be*O(X),W.val+be*P(W)];return E=v(E,f),f.limitRange&&f.limitRange(),U&&E.reverse(),a.simpleMap(E,f.l2r||Number)}function r(_,f,S){var w=0;if(_.rangebreaks)for(var E=_.locateBreaks(f,S),C=0;C<E.length;C++){var O=E[C];w+=O.max-O.min}return w}function o(_,f,S){var w=.05*f._length,E=f._anchorAxis||{};if(-1!==(f.ticklabelposition||"").indexOf("inside")||-1!==(E.ticklabelposition||"").indexOf("inside")){var C=f.isReversed();if(!C){var O=a.simpleMap(f.range,f.r2l);C=O[1]<O[0]}C&&(S=!S)}var P=0;return i(_,f._id)||(P=function(R,j,z){var N=0,Y="x"===j._id.charAt(0);for(var F in R._plots){var U=R._plots[F];if(j._id===U.xaxis._id||j._id===U.yaxis._id){var V=(Y?U.yaxis:U.xaxis)||{};if(-1!==(V.ticklabelposition||"").indexOf("inside")&&(!z&&("left"===V.side||"bottom"===V.side)||z&&("top"===V.side||"right"===V.side))){if(V._vals){var te=a.deg2rad(V._tickAngles[V._id+"tick"]||0),$=Math.abs(Math.cos(te)),X=Math.abs(Math.sin(te));if(!V._vals[0].bb){var W=V._id+"tick";V._selections[W].each(function(oe){var ue=M.select(this);ue.select(".text-math-group").empty()&&(oe.bb=p.bBox(ue.node()))})}for(var J=0;J<V._vals.length;J++){var Q=V._vals[J].bb;if(Q){var re=2*l+Q.width,ae=2*l+Q.height;N=Math.max(N,Y?Math.max(re*$,ae*X):Math.max(ae*$,re*X))}}}"inside"===V.ticks&&"inside"===V.ticklabelposition&&(N+=V.ticklen||0)}}}return N}(_,f,S)),w=Math.max(P,w),"domain"===f.constrain&&f._inputDomain&&(w*=(f._inputDomain[1]-f._inputDomain[0])/(f.domain[1]-f.domain[0])),function(R){return R.nopad?0:R.pad+(R.extrapad?w:P)}}ee.exports={applyAutorangeOptions:v,getAutoRange:n,makePadFn:o,doAutoRange:function(_,f,S){if(f.setScale(),f.autorange){f.range=S?S.slice():n(_,f),f._r=f.range.slice(),f._rl=a.simpleMap(f._r,f.r2l);var w=f._input,E={};E[f._attr+".range"]=f.range,E[f._attr+".autorange"]=f.autorange,b.call("_storeDirectGUIEdit",_.layout,_._fullLayout._preGUI,E),w.range=f.range.slice(),w.autorange=f.autorange}var C=f._anchorAxis;if(C&&C.rangeslider){var O=C.rangeslider[f._name];O&&"auto"===O.rangemode&&(O.range=n(_,f)),C._input.rangeslider[f._name]=a.extendFlat({},O)}},findExtremes:function(_,f,S){S||(S={}),_._m||_.setScale();var w,E,C,O,P,R,j,z,N,Y=[],F=[],U=f.length,V=S.padded||!1,te=S.tozero&&("linear"===_.type||"-"===_.type),$="log"===_.type,X=!1,W=S.vpadLinearized||!1;function J(de){if(Array.isArray(de))return X=!0,function(ge){return Math.max(Number(de[ge]||0),0)};var pe=Math.max(Number(de||0),0);return function(){return pe}}var Q=J((_._m>0?S.ppadplus:S.ppadminus)||S.ppad||0),re=J((_._m>0?S.ppadminus:S.ppadplus)||S.ppad||0),ae=J(S.vpadplus||S.vpad),oe=J(S.vpadminus||S.vpad);if(!X){if(z=1/0,N=-1/0,$)for(w=0;w<U;w++)(E=f[w])<z&&E>0&&(z=E),E>N&&E<T&&(N=E);else for(w=0;w<U;w++)(E=f[w])<z&&E>-T&&(z=E),E>N&&E<T&&(N=E);f=[z,N],U=2}var ue={tozero:te,extrapad:V};function ve(de){C=f[de],k(C)&&(R=Q(de),j=re(de),W?(O=_.c2l(C)-oe(de),P=_.c2l(C)+ae(de)):(z=C-oe(de),N=C+ae(de),$&&z<N/10&&(z=N/10),O=_.c2l(z),P=_.c2l(N)),te&&(O=Math.min(0,O),P=Math.max(0,P)),g(O)&&d(Y,O,j,ue),g(P)&&c(F,P,R,ue))}var be=Math.min(6,U);for(w=0;w<be;w++)ve(w);for(w=U-1;w>=be;w--)ve(w);return{min:Y,max:F,opts:S}},concatExtremes:u};var l=3;function u(_,f,S){var w,E,C,O=f._id,P=_._fullData,R=_._fullLayout,j=[],z=[];function N(te,$){for(w=0;w<$.length;w++){var X=te[$[w]],W=(X._extremes||{})[O];if(!0===X.visible&&W){for(E=0;E<W.min.length;E++)C=W.min[E],d(j,C.val,C.pad,{extrapad:C.extrapad});for(E=0;E<W.max.length;E++)C=W.max[E],c(z,C.val,C.pad,{extrapad:C.extrapad})}}}if(N(P,f._traceIndices),N(R.annotations||[],f._annIndices||[]),N(R.shapes||[],f._shapeIndices||[]),f._matchGroup&&!S)for(var Y in f._matchGroup)if(Y!==f._id){var F=t(_,Y),U=u(_,F,!0),V=f._length/F._length;for(E=0;E<U.min.length;E++)C=U.min[E],d(j,C.val,C.pad*V,{extrapad:C.extrapad});for(E=0;E<U.max.length;E++)C=U.max[E],c(z,C.val,C.pad*V,{extrapad:C.extrapad})}return{min:j,max:z}}function d(_,f,S,w){x(_,f,S,w,h)}function c(_,f,S,w){x(_,f,S,w,m)}function x(_,f,S,w,E){for(var C=w.tozero,O=w.extrapad,P=!0,R=0;R<_.length&&P;R++){var j=_[R];if(E(j.val,f)&&j.pad>=S&&(j.extrapad||!O)){P=!1;break}E(f,j.val)&&j.pad<=S&&(O||!j.extrapad)&&(_.splice(R,1),R--)}if(P){var z=C&&0===f;_.push({val:f,pad:z?0:S,extrapad:!z&&O})}}function g(_){return k(_)&&Math.abs(_)<T}function h(_,f){return _<=f}function m(_,f){return _>=f}function y(_,f,S){return void 0===f||void 0===S||(f=_.d2l(f))<_.d2l(S)}function v(_,f){if(!f||!f.autorangeoptions)return _;var j,z,N,S=_[0],w=_[1],E=f.autorangeoptions.include;if(void 0!==E){var C=f.d2l(S),O=f.d2l(w);a.isArrayOrTypedArray(E)||(E=[E]);for(var P=0;P<E.length;P++){var R=f.d2l(E[P]);C>=R&&(C=R,S=R),O<=R&&(O=R,w=R)}}return j=S,S=(N=(z=f).autorangeoptions)&&void 0!==N.minallowed&&y(z,N.minallowed,N.maxallowed)?N.minallowed:N&&void 0!==N.clipmin&&y(z,N.clipmin,N.clipmax)?Math.max(j,z.d2l(N.clipmin)):j,w=function(j,z){var N=z.autorangeoptions;return N&&void 0!==N.maxallowed&&y(z,N.minallowed,N.maxallowed)?N.maxallowed:N&&void 0!==N.clipmax&&y(z,N.clipmin,N.clipmax)?Math.min(j,z.d2l(N.clipmax)):j}(w,f),[S,w]}},23074:function(ee){"use strict";ee.exports=function(D,e,M){var k,a;if(M){var T="reversed"===e||"min reversed"===e||"max reversed"===e;k=M[T?1:0],a=M[T?0:1]}var b=D("autorangeoptions.minallowed",null===a?k:void 0),p=D("autorangeoptions.maxallowed",null===k?a:void 0);void 0===b&&D("autorangeoptions.clipmin"),void 0===p&&D("autorangeoptions.clipmax"),D("autorangeoptions.include")}},89298:function(ee,D,e){"use strict";var M=e(39898),k=e(92770),a=e(74875),T=e(73972),b=e(71828),p=b.strTranslate,s=e(63893),t=e(92998),i=e(7901),n=e(91424),r=e(13838),o=e(66287),l=e(50606),u=l.ONEMAXYEAR,d=l.ONEAVGYEAR,c=l.ONEMINYEAR,x=l.ONEMAXQUARTER,g=l.ONEAVGQUARTER,h=l.ONEMINQUARTER,m=l.ONEMAXMONTH,y=l.ONEAVGMONTH,v=l.ONEMINMONTH,_=l.ONEWEEK,f=l.ONEDAY,S=f/2,w=l.ONEHOUR,E=l.ONEMIN,C=l.ONESEC,O=l.MINUS_SIGN,P=l.BADNUM,R={K:"zeroline"},j={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},N={K:"tick",L:"path"},Y={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},U=e(18783),V=U.MID_SHIFT,te=U.CAP_SHIFT,$=U.LINE_SPACING,X=U.OPPOSITE_SIDE,W=ee.exports={};W.setConvert=e(21994);var J=e(4322),Q=e(41675),re=Q.idSort,ae=Q.isLinked;W.id2name=Q.id2name,W.name2id=Q.name2id,W.cleanId=Q.cleanId,W.list=Q.list,W.listIds=Q.listIds,W.getFromId=Q.getFromId,W.getFromTrace=Q.getFromTrace;var oe=e(71739);W.getAutoRange=oe.getAutoRange,W.findExtremes=oe.findExtremes;var ue=1e-4;function ve(Re){var Fe=(Re[1]-Re[0])*ue;return[Re[0]-Fe,Re[1]+Fe]}W.coerceRef=function(Re,Fe,et,We,ct,pt){var dt=We.charAt(We.length-1),ut=et._fullLayout._subplots[dt+"axis"],kt=We+"ref",yt={};return ct||(ct=ut[0]||("string"==typeof pt?pt:pt[0])),pt||(pt=ct),ut=ut.concat(ut.map(function(gt){return gt+" domain"})),yt[kt]={valType:"enumerated",values:ut.concat(pt?"string"==typeof pt?[pt]:pt:[]),dflt:ct},b.coerce(Re,Fe,yt,kt)},W.getRefType=function(Re){return void 0===Re?Re:"paper"===Re?"paper":"pixel"===Re?"pixel":/( domain)$/.test(Re)?"domain":"range"},W.coercePosition=function(Re,Fe,et,We,ct,pt){var dt,ut;if("range"!==W.getRefType(We))dt=b.ensureNumber,ut=et(ct,pt);else{var kt=W.getFromId(Fe,We);ut=et(ct,pt=kt.fraction2r(pt)),dt=kt.cleanPos}Re[ct]=dt(ut)},W.cleanPosition=function(Re,Fe,et){return("paper"===et||"pixel"===et?b.ensureNumber:W.getFromId(Fe,et).cleanPos)(Re)},W.redrawComponents=function(Re,Fe){Fe=Fe||W.listIds(Re);var et=Re._fullLayout;function We(ct,pt,dt,ut){for(var kt=T.getComponentMethod(ct,pt),yt={},gt=0;gt<Fe.length;gt++)for(var At=et[W.id2name(Fe[gt])][dt],Lt=0;Lt<At.length;Lt++){var It=At[Lt];if(!yt[It]&&(kt(Re,It),yt[It]=1,ut))return}}We("annotations","drawOne","_annIndices"),We("shapes","drawOne","_shapeIndices"),We("images","draw","_imgIndices",!0),We("selections","drawOne","_selectionIndices")};var be=W.getDataConversions=function(Re,Fe,et,We){var ct,pt="x"===et||"y"===et||"z"===et?et:We;if(b.isArrayOrTypedArray(pt)){if(ct={type:J(We,void 0,{autotypenumbers:Re._fullLayout.autotypenumbers}),_categories:[]},W.setConvert(ct),"category"===ct.type)for(var dt=0;dt<We.length;dt++)ct.d2c(We[dt])}else ct=W.getFromTrace(Re,Fe,pt);return ct?{d2c:ct.d2c,c2d:ct.c2d}:"ids"===pt?{d2c:pe,c2d:pe}:{d2c:de,c2d:de}};function de(Re){return+Re}function pe(Re){return String(Re)}function ge(Re,Fe){return Math.abs((Re/Fe+.5)%1-.5)<.001}function Ae(Re,Fe){return Math.abs(Re/Fe-1)<.001}function ye(Re){return+Re.substring(1)}function we(Re,Fe){return Re.rangebreaks&&(Fe=Fe.filter(function(et){return Re.maskBreaks(et.x)!==P})),Fe}function se(Re){var Fe=Re._mainAxis,et=[];if(Fe._vals)for(var We=0;We<Fe._vals.length;We++)if(!Fe._vals[We].noTick){var ct=Fe.l2p(Fe._vals[We].x),pt=Re.p2l(ct),dt=W.tickText(Re,pt);Fe._vals[We].minor&&(dt.minor=!0,dt.text=""),et.push(dt)}return we(Re,et)}function ie(Re,Fe){var et=ve(b.simpleMap(Re.range,Re.r2l)),We=Math.min(et[0],et[1]),ct=Math.max(et[0],et[1]),pt="category"===Re.type?Re.d2l_noadd:Re.d2l;"log"===Re.type&&"L"!==String(Re.dtick).charAt(0)&&(Re.dtick="L"+Math.pow(10,Math.floor(Math.min(Re.range[0],Re.range[1]))-1));for(var dt=[],ut=0;ut<=1;ut++)if((void 0===Fe||!(Fe&&ut||!1===Fe&&!ut))&&(!ut||Re.minor)){var kt=ut?Re.minor.tickvals:Re.tickvals,yt=ut?[]:Re.ticktext;if(kt){b.isArrayOrTypedArray(yt)||(yt=[]);for(var gt=0;gt<kt.length;gt++){var At=pt(kt[gt]);if(At>We&&At<ct){var Lt=void 0===yt[gt]?W.tickText(Re,At):Ce(Re,At,String(yt[gt]));ut&&(Lt.minor=!0,Lt.text=""),dt.push(Lt)}}}}return we(Re,dt)}W.getDataToCoordFunc=function(Re,Fe,et,We){return be(Re,Fe,et,We).d2c},W.counterLetter=function(Re){var Fe=Re.charAt(0);return"x"===Fe?"y":"y"===Fe?"x":void 0},W.minDtick=function(Re,Fe,et,We){-1===["log","category","multicategory"].indexOf(Re.type)&&We?void 0===Re._minDtick?(Re._minDtick=Fe,Re._forceTick0=et):Re._minDtick&&((Re._minDtick/Fe+1e-6)%1<2e-6&&((et-Re._forceTick0)/Fe%1+1.000001)%1<2e-6?(Re._minDtick=Fe,Re._forceTick0=et):((Fe/Re._minDtick+1e-6)%1>2e-6||((et-Re._forceTick0)/Re._minDtick%1+1.000001)%1>2e-6)&&(Re._minDtick=0)):Re._minDtick=0},W.saveRangeInitial=function(Re,Fe){for(var et=W.list(Re,"",!0),We=!1,ct=0;ct<et.length;ct++){var pt=et[ct],dt=void 0===pt._rangeInitial0&&void 0===pt._rangeInitial1,ut=dt||pt.range[0]!==pt._rangeInitial0||pt.range[1]!==pt._rangeInitial1,kt=pt.autorange;(dt&&!0!==kt||Fe&&ut)&&(pt._rangeInitial0="min"===kt||"max reversed"===kt?void 0:pt.range[0],pt._rangeInitial1="max"===kt||"min reversed"===kt?void 0:pt.range[1],pt._autorangeInitial=kt,We=!0)}return We},W.saveShowSpikeInitial=function(Re,Fe){for(var et=W.list(Re,"",!0),We=!1,ct="on",pt=0;pt<et.length;pt++){var dt=et[pt],ut=void 0===dt._showSpikeInitial,kt=ut||dt.showspikes!==dt._showspikes;(ut||Fe&&kt)&&(dt._showSpikeInitial=dt.showspikes,We=!0),"on"!==ct||dt.showspikes||(ct="off")}return Re._fullLayout._cartesianSpikesEnabled=ct,We},W.autoBin=function(Re,Fe,et,We,ct,pt){var dt,ut=b.aggNums(Math.min,null,Re),kt=b.aggNums(Math.max,null,Re);if("category"===Fe.type||"multicategory"===Fe.type)return{start:ut-.5,end:kt+.5,size:Math.max(1,Math.round(pt)||1),_dataSpan:kt-ut};if(ct||(ct=Fe.calendar),dt="log"===Fe.type?{type:"linear",range:[ut,kt]}:{type:Fe.type,range:b.simpleMap([ut,kt],Fe.c2r,0,ct),calendar:ct},W.setConvert(dt),pt=pt&&o.dtick(pt,dt.type))dt.dtick=pt,dt.tick0=o.tick0(void 0,dt.type,ct);else{var yt;if(et)yt=(kt-ut)/et;else{var gt=b.distinctVals(Re),At=Math.pow(10,Math.floor(Math.log(gt.minDiff)/Math.LN10)),Lt=At*b.roundUp(gt.minDiff/At,[.9,1.9,4.9,9.9],!0);yt=Math.max(Lt,2*b.stdev(Re)/Math.pow(Re.length,We?.25:.4)),k(yt)||(yt=1)}W.autoTicks(dt,yt)}var It,qt=dt.dtick,Qt=W.tickIncrement(W.tickFirst(dt),qt,"reverse",ct);if("number"==typeof qt)It=(Qt=function(Vt,Ft,en,wn,kn){var on=0,Ht=0,nn=0,Kt=0;function an(An){return(1+100*(An-Vt)/en.dtick)%100<2}for(var xn=0;xn<Ft.length;xn++)Ft[xn]%1==0?nn++:k(Ft[xn])||Kt++,an(Ft[xn])&&on++,an(Ft[xn]+en.dtick/2)&&Ht++;var _n=Ft.length-Kt;if(nn===_n&&"date"!==en.type)en.dtick<1?Vt=wn-.5*en.dtick:(Vt-=.5)+en.dtick<wn&&(Vt+=en.dtick);else if(Ht<.1*_n&&(on>.3*_n||an(wn)||an(kn))){var mn=en.dtick/2;Vt+=Vt+mn<wn?mn:-mn}return Vt}(Qt,Re,dt,ut,kt))+(1+Math.floor((kt-Qt)/qt))*qt;else for("M"===dt.dtick.charAt(0)&&(Qt=function(Vt,Ft,en,wn,kn){var on=b.findExactDates(Ft,kn);if(on.exactDays>.8){var Ht=Number(en.substr(1));on.exactYears>.8&&Ht%12==0?Vt=W.tickIncrement(Vt,"M6","reverse")+1.5*f:on.exactMonths>.8?Vt=W.tickIncrement(Vt,"M1","reverse")+15.5*f:Vt-=S;var nn=W.tickIncrement(Vt,en);if(nn<=wn)return nn}return Vt}(Qt,Re,qt,ut,ct)),It=Qt;It<=kt;)It=W.tickIncrement(It,qt,!1,ct);return{start:Fe.c2r(Qt,0,ct),end:Fe.c2r(It,0,ct),size:qt,_dataSpan:kt-ut}},W.prepMinorTicks=function(Re,Fe,et){if(!Fe.minor.dtick){delete Re.dtick;var We,ct=Fe.dtick&&k(Fe._tmin);if(ct){var pt=W.tickIncrement(Fe._tmin,Fe.dtick,!0);We=[Fe._tmin,.99*pt+.01*Fe._tmin]}else{var dt=b.simpleMap(Fe.range,Fe.r2l);We=[dt[0],.8*dt[0]+.2*dt[1]]}if(Re.range=b.simpleMap(We,Fe.l2r),Re._isMinor=!0,W.prepTicks(Re,et),ct){var ut=k(Fe.dtick),kt=k(Re.dtick),yt=ut?Fe.dtick:+Fe.dtick.substring(1),gt=kt?Re.dtick:+Re.dtick.substring(1);ut&&kt?ge(yt,gt)?yt===2*_&&gt===2*f&&(Re.dtick=_):yt===2*_&&gt===3*f?Re.dtick=_:yt!==_||(Fe._input.minor||{}).nticks?Ae(yt/gt,2.5)?Re.dtick=yt/2:Re.dtick=yt:Re.dtick=f:"M"===String(Fe.dtick).charAt(0)?kt?Re.dtick="M1":ge(yt,gt)?yt>=12&&2===gt&&(Re.dtick="M3"):Re.dtick=Fe.dtick:"L"===String(Re.dtick).charAt(0)?"L"===String(Fe.dtick).charAt(0)?ge(yt,gt)||(Re.dtick=Ae(yt/gt,2.5)?Fe.dtick/2:Fe.dtick):Re.dtick="D1":"D2"===Re.dtick&&+Fe.dtick>1&&(Re.dtick=1)}Re.range=Fe.range}void 0===Fe.minor._tick0Init&&(Re.tick0=Fe.tick0)},W.prepTicks=function(Re,Fe){var et=b.simpleMap(Re.range,Re.r2l,void 0,void 0,Fe);if("auto"===Re.tickmode||!Re.dtick){var We,ct=Re.nticks;ct||("category"===Re.type||"multicategory"===Re.type?(We=Re.tickfont?b.bigFont(Re.tickfont.size||12):15,ct=Re._length/We):(We="y"===Re._id.charAt(0)?40:80,ct=b.constrain(Re._length/We,4,9)+1),"radialaxis"===Re._name&&(ct*=2)),Re.minor&&"array"!==Re.minor.tickmode||"array"===Re.tickmode&&(ct*=100),Re._roughDTick=Math.abs(et[1]-et[0])/ct,W.autoTicks(Re,Re._roughDTick),Re._minDtick>0&&Re.dtick<2*Re._minDtick&&(Re.dtick=Re._minDtick,Re.tick0=Re.l2r(Re._forceTick0))}"period"===Re.ticklabelmode&&function(pt){var dt;function ut(){return!(k(pt.dtick)||"M"!==pt.dtick.charAt(0))}var kt=ut(),yt=W.getTickFormat(pt);if(yt){var gt=pt._dtickInit!==pt.dtick;/%[fLQsSMX]/.test(yt)||(/%[HI]/.test(yt)?(dt=w,gt&&!kt&&pt.dtick<w&&(pt.dtick=w)):/%p/.test(yt)?(dt=S,gt&&!kt&&pt.dtick<S&&(pt.dtick=S)):/%[Aadejuwx]/.test(yt)?(dt=f,gt&&!kt&&pt.dtick<f&&(pt.dtick=f)):/%[UVW]/.test(yt)?(dt=_,gt&&!kt&&pt.dtick<_&&(pt.dtick=_)):/%[Bbm]/.test(yt)?(dt=y,gt&&(kt?ye(pt.dtick)<1:pt.dtick<v)&&(pt.dtick="M1")):/%[q]/.test(yt)?(dt=g,gt&&(kt?ye(pt.dtick)<3:pt.dtick<h)&&(pt.dtick="M3")):/%[Yy]/.test(yt)&&(dt=d,gt&&(kt?ye(pt.dtick)<12:pt.dtick<c)&&(pt.dtick="M12")))}(kt=ut())&&pt.tick0===pt._dowTick0&&(pt.tick0=pt._rawTick0),pt._definedDelta=dt}(Re),Re.tick0||(Re.tick0="date"===Re.type?"2000-01-01":0),"date"===Re.type&&Re.dtick<.1&&(Re.dtick=.1),Te(Re)},W.calcTicks=function(Re,Fe){for(var et,We,ct=Re.type,pt=Re.calendar,dt=Re.ticklabelstep,ut="period"===Re.ticklabelmode,kt=b.simpleMap(Re.range,Re.r2l,void 0,void 0,Fe),yt=kt[1]<kt[0],gt=Math.min(kt[0],kt[1]),At=Math.max(kt[0],kt[1]),Lt=Math.max(1e3,Re._length||0),It=[],qt=[],Qt=[],Vt=[],Ft=Re.minor&&(Re.minor.ticks||Re.minor.showgrid),en=1;en>=(Ft?0:1);en--){var wn=!en;en?(Re._dtickInit=Re.dtick,Re._tick0Init=Re.tick0):(Re.minor._dtickInit=Re.minor.dtick,Re.minor._tick0Init=Re.minor.tick0);var kn=en?Re:b.extendFlat({},Re,Re.minor);if(wn?W.prepMinorTicks(kn,Re,Fe):W.prepTicks(kn,Fe),"array"!==kn.tickmode)if("sync"!==kn.tickmode){var on=ve(kt),Ht=on[0],nn=on[1],Kt=k(kn.dtick),an="log"===ct&&!(Kt||"L"===kn.dtick.charAt(0)),xn=W.tickFirst(kn,Fe);if(en){if(Re._tmin=xn,xn<Ht!==yt)break;"category"!==ct&&"multicategory"!==ct||(nn=yt?Math.max(-.5,nn):Math.min(Re._categories.length-.5,nn))}var _n,mn,An=null,vn=xn;en&&(Kt?mn=Re.dtick:"date"===ct?"string"==typeof Re.dtick&&"M"===Re.dtick.charAt(0)&&(mn=y*Re.dtick.substring(1)):mn=Re._roughDTick,_n=Math.round((Re.r2l(vn)-Re.r2l(Re.tick0))/mn)-1);var On=kn.dtick;for(kn.rangebreaks&&kn._tick0Init!==kn.tick0&&(vn=Ne(vn,Re),yt||(vn=W.tickIncrement(vn,On,!yt,pt))),en&&ut&&(vn=W.tickIncrement(vn,On,!yt,pt),_n--);yt?vn>=nn:vn<=nn;vn=W.tickIncrement(vn,On,yt,pt)){if(en&&_n++,kn.rangebreaks&&!yt){if(vn<Ht)continue;if(kn.maskBreaks(vn)===P&&Ne(vn,kn)>=At)break}if(Qt.length>Lt||vn===An)break;An=vn;var Bn={value:vn};en?(an&&vn!==(0|vn)&&(Bn.simpleLabel=!0),dt>1&&_n%dt&&(Bn.skipLabel=!0),Qt.push(Bn)):(Bn.minor=!0,Vt.push(Bn))}}else Qt=[],It=se(Re);else en?(Qt=[],It=ie(Re,!wn)):(Vt=[],qt=ie(Re,!wn))}if(Ft&&!("inside"===Re.minor.ticks&&"outside"===Re.ticks||"outside"===Re.minor.ticks&&"inside"===Re.ticks)){for(var er=Qt.map(function(Ct){return Ct.value}),or=[],$n=0;$n<Vt.length;$n++){var qn=Vt[$n],cr=qn.value;if(-1===er.indexOf(cr)){for(var Nt=!1,Jt=0;!Nt&&Jt<Qt.length;Jt++)1e7+Qt[Jt].value===1e7+cr&&(Nt=!0);Nt||or.push(qn)}}Vt=or}if(ut&&function(Ct,Zt,$t){for(var dn=0;dn<Ct.length;dn++){var yn=Ct[dn].value,Sn=dn,ln=dn+1;dn<Ct.length-1?(Sn=dn,ln=dn+1):dn>0?(Sn=dn-1,ln=dn):(Sn=dn,ln=dn);var Wt,Xt=Ct[Sn].value,sn=Ct[ln].value,cn=Math.abs(sn-Xt),Ln=$t||cn,Pn=0;Ln>=c?Pn=cn>=c&&cn<=u?cn:d:$t===g&&Ln>=h?Pn=cn>=h&&cn<=x?cn:g:Ln>=v?Pn=cn>=v&&cn<=m?cn:y:$t===_&&Ln>=_?Pn=_:Ln>=f?Pn=f:$t===S&&Ln>=S?Pn=S:$t===w&&Ln>=w&&(Pn=w),Pn>=cn&&(Pn=cn,Wt=!0);var Vn=yn+Pn;if(Zt.rangebreaks&&Pn>0){for(var Un=0,Xn=0;Xn<84;Xn++){var Zn=(Xn+.5)/84;Zt.maskBreaks(yn*(1-Zn)+Zn*Vn)!==P&&Un++}(Pn*=Un/84)||(Ct[dn].drop=!0),Wt&&cn>_&&(Pn=cn)}(Pn>0||0===dn)&&(Ct[dn].periodX=yn+Pn/2)}}(Qt,Re,Re._definedDelta),Re.rangebreaks){var un="y"===Re._id.charAt(0),fn=1;"auto"===Re.tickmode&&(fn=Re.tickfont?Re.tickfont.size:12);var Mn=NaN;for(et=Qt.length-1;et>-1;et--)if(Qt[et].drop)Qt.splice(et,1);else{Qt[et].value=Ne(Qt[et].value,Re);var Fn=Re.c2p(Qt[et].value);(un?Mn>Fn-fn:Mn<Fn+fn)?Qt.splice(yt?et+1:et,1):Mn=Fn}}Ze(Re)&&360===Math.abs(kt[1]-kt[0])&&Qt.pop(),Re._tmax=(Qt[Qt.length-1]||{}).value,Re._prevDateHead="",Re._inCalcTicks=!0;var In,Rn,Jn=function(Ct){Ct.text="",Re._prevDateHead=We};for(Qt=Qt.concat(Vt),et=0;et<Qt.length;et++){var Yt=Qt[et].minor,gn=Qt[et].value;Yt?qt.push({x:gn,minor:!0}):(We=Re._prevDateHead,In=W.tickText(Re,gn,!1,Qt[et].simpleLabel),void 0!==(Rn=Qt[et].periodX)&&(In.periodX=Rn,(Rn>At||Rn<gt)&&(Rn>At&&(In.periodX=At),Rn<gt&&(In.periodX=gt),Jn(In))),Qt[et].skipLabel&&Jn(In),It.push(In))}return It=It.concat(qt),Re._inCalcTicks=!1,ut&&It.length&&(It[0].noTick=!0),It};var he=[2,5,10],Se=[1,2,3,6,12],_e=[1,2,5,10,15,30],Me=[1,2,3,7,14],Ee=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Ie=[-.301,0,.301,.699,1],fe=[15,30,45,90,180];function xe(Re,Fe,et){return Fe*b.roundUp(Re/Fe,et)}function Te(Re){var Fe=Re.dtick;if(Re._tickexponent=0,k(Fe)||"string"==typeof Fe||(Fe=1),"category"!==Re.type&&"multicategory"!==Re.type||(Re._tickround=null),"date"===Re.type){var et=Re.r2l(Re.tick0),We=Re.l2r(et).replace(/(^-|i)/g,""),ct=We.length;if("M"===String(Fe).charAt(0))ct>10||"01-01"!==We.substr(5)?Re._tickround="d":Re._tickround=+Fe.substr(1)%12==0?"y":"m";else if(Fe>=f&&ct<=10||Fe>=15*f)Re._tickround="d";else if(Fe>=E&&ct<=16||Fe>=w)Re._tickround="M";else if(Fe>=C&&ct<=19||Fe>=E)Re._tickround="S";else{var pt=Re.l2r(et+Fe).replace(/^-/,"").length;Re._tickround=Math.max(ct,pt)-20,Re._tickround<0&&(Re._tickround=4)}}else if(k(Fe)||"L"===Fe.charAt(0)){var dt=Re.range.map(Re.r2d||Number);k(Fe)||(Fe=Number(Fe.substr(1))),Re._tickround=2-Math.floor(Math.log(Fe)/Math.LN10+.01);var ut=Math.max(Math.abs(dt[0]),Math.abs(dt[1])),kt=Math.floor(Math.log(ut)/Math.LN10+.01),yt=void 0===Re.minexponent?3:Re.minexponent;Math.abs(kt)>yt&&(ze(Re.exponentformat)&&!Ue(kt)?Re._tickexponent=3*Math.round((kt-1)/3):Re._tickexponent=kt)}else Re._tickround=null}function Ce(Re,Fe,et){var We=Re.tickfont||{};return{x:Fe,dx:0,dy:0,text:et||"",fontSize:We.size,font:We.family,fontColor:We.color}}W.autoTicks=function(Re,Fe,et){var We;function ct(At){return Math.pow(At,Math.floor(Math.log(Fe)/Math.LN10))}if("date"===Re.type){Re.tick0=b.dateTick0(Re.calendar,0);var pt=2*Fe;if(pt>d)Fe/=d,We=ct(10),Re.dtick="M"+12*xe(Fe,We,he);else if(pt>y)Fe/=y,Re.dtick="M"+xe(Fe,1,Se);else if(pt>f){if(Re.dtick=xe(Fe,f,Re._hasDayOfWeekBreaks?[1,2,7,14]:Me),!et){var dt=W.getTickFormat(Re),ut="period"===Re.ticklabelmode;ut&&(Re._rawTick0=Re.tick0),/%[uVW]/.test(dt)?Re.tick0=b.dateTick0(Re.calendar,2):Re.tick0=b.dateTick0(Re.calendar,1),ut&&(Re._dowTick0=Re.tick0)}}else pt>w?Re.dtick=xe(Fe,w,Se):pt>E?Re.dtick=xe(Fe,E,_e):pt>C?Re.dtick=xe(Fe,C,_e):(We=ct(10),Re.dtick=xe(Fe,We,he))}else if("log"===Re.type){Re.tick0=0;var kt=b.simpleMap(Re.range,Re.r2l);if(Re._isMinor&&(Fe*=1.5),Fe>.7)Re.dtick=Math.ceil(Fe);else if(Math.abs(kt[1]-kt[0])<1){var yt=1.5*Math.abs((kt[1]-kt[0])/Fe);Fe=Math.abs(Math.pow(10,kt[1])-Math.pow(10,kt[0]))/yt,We=ct(10),Re.dtick="L"+xe(Fe,We,he)}else Re.dtick=Fe>.3?"D2":"D1"}else"category"===Re.type||"multicategory"===Re.type?(Re.tick0=0,Re.dtick=Math.ceil(Math.max(Fe,1))):Ze(Re)?(Re.tick0=0,We=1,Re.dtick=xe(Fe,We,fe)):(Re.tick0=0,We=ct(10),Re.dtick=xe(Fe,We,he));if(0===Re.dtick&&(Re.dtick=1),!k(Re.dtick)&&"string"!=typeof Re.dtick){var gt=Re.dtick;throw Re.dtick=1,"ax.dtick error: "+String(gt)}},W.tickIncrement=function(Re,Fe,et,We){var ct=et?-1:1;if(k(Fe))return b.increment(Re,ct*Fe);var pt=Fe.charAt(0),dt=ct*Number(Fe.substr(1));if("M"===pt)return b.incrementMonth(Re,dt,We);if("L"===pt)return Math.log(Math.pow(10,Re)+dt)/Math.LN10;if("D"===pt){var ut="D2"===Fe?Ie:Ee,kt=Re+.01*ct,yt=b.roundUp(b.mod(kt,1),ut,et);return Math.floor(kt)+Math.log(M.round(Math.pow(10,yt),1))/Math.LN10}throw"unrecognized dtick "+String(Fe)},W.tickFirst=function(Re,Fe){var et=Re.r2l||Number,We=b.simpleMap(Re.range,et,void 0,void 0,Fe),ct=We[1]<We[0],pt=ct?Math.floor:Math.ceil,dt=ve(We)[0],ut=Re.dtick,kt=et(Re.tick0);if(k(ut)){var yt=pt((dt-kt)/ut)*ut+kt;return"category"!==Re.type&&"multicategory"!==Re.type||(yt=b.constrain(yt,0,Re._categories.length-1)),yt}var gt=ut.charAt(0),At=Number(ut.substr(1));if("M"===gt){for(var Lt,It,qt,Qt=0,Vt=kt;Qt<10;){if(((Lt=W.tickIncrement(Vt,ut,ct,Re.calendar))-dt)*(Vt-dt)<=0)return ct?Math.min(Vt,Lt):Math.max(Vt,Lt);It=(dt-(Vt+Lt)/2)/(Lt-Vt),qt=gt+(Math.abs(Math.round(It))||1)*At,Vt=W.tickIncrement(Vt,qt,It<0?!ct:ct,Re.calendar),Qt++}return b.error("tickFirst did not converge",Re),Vt}if("L"===gt)return Math.log(pt((Math.pow(10,dt)-kt)/At)*At+kt)/Math.LN10;if("D"===gt){var Ft="D2"===ut?Ie:Ee,en=b.roundUp(b.mod(dt,1),Ft,ct);return Math.floor(dt)+Math.log(M.round(Math.pow(10,en),1))/Math.LN10}throw"unrecognized dtick "+String(ut)},W.tickText=function(Re,Fe,et,We){var ct,pt=Ce(Re,Fe),dt="array"===Re.tickmode,ut=et||dt,kt=Re.type,yt="category"===kt?Re.d2l_noadd:Re.d2l;if(dt&&b.isArrayOrTypedArray(Re.ticktext)){var gt=b.simpleMap(Re.range,Re.r2l),At=(Math.abs(gt[1]-gt[0])-(Re._lBreaks||0))/1e4;for(ct=0;ct<Re.ticktext.length&&!(Math.abs(Fe-yt(Re.tickvals[ct]))<At);ct++);if(ct<Re.ticktext.length)return pt.text=String(Re.ticktext[ct]),pt}function Lt(Vt){if(void 0===Vt)return!0;if(et)return"none"===Vt;var Ft={first:Re._tmin,last:Re._tmax}[Vt];return"all"!==Vt&&Fe!==Ft}var Ft,en,It=et?"never":"none"!==Re.exponentformat&&Lt(Re.showexponent)?"hide":"";if("date"===kt?function(Vt,Ft,en,wn){var kn=Vt._tickround,on=en&&Vt.hoverformat||W.getTickFormat(Vt);(wn=!on&&wn)&&(kn=k(kn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[kn]);var Ht,nn=b.formatDate(Ft.x,on,kn,Vt._dateFormat,Vt.calendar,Vt._extraFormat),Kt=nn.indexOf("\n");if(-1!==Kt&&(Ht=nn.substr(Kt+1),nn=nn.substr(0,Kt)),wn&&(void 0===Ht||"00:00:00"!==nn&&"00:00"!==nn?8===nn.length&&(nn=nn.replace(/:00$/,"")):(nn=Ht,Ht="")),Ht)if(en)"d"===kn?nn+=", "+Ht:nn=Ht+(nn?", "+nn:"");else if(Vt._inCalcTicks&&Vt._prevDateHead===Ht){var an=Ge(Vt),xn=Vt._trueSide||Vt.side;(!an&&"top"===xn||an&&"bottom"===xn)&&(nn+="<br> ")}else Vt._prevDateHead=Ht,nn+="<br>"+Ht;Ft.text=nn}(Re,pt,et,ut):"log"===kt?function(Vt,Ft,en,wn,kn){var on=Vt.dtick,Ht=Ft.x,nn=Vt.tickformat,Kt="string"==typeof on&&on.charAt(0);if("never"===kn&&(kn=""),wn&&"L"!==Kt&&(on="L3",Kt="L"),nn||"L"===Kt)Ft.text=Ve(Math.pow(10,Ht),Vt,kn,wn);else if(k(on)||"D"===Kt&&b.mod(Ht+.01,1)<.1){var an=Math.round(Ht),xn=Math.abs(an),_n=Vt.exponentformat;"power"===_n||ze(_n)&&Ue(an)?(Ft.text=0===an?1:1===an?"10":"10<sup>"+(an>1?"":O)+xn+"</sup>",Ft.fontSize*=1.25):("e"===_n||"E"===_n)&&xn>2?Ft.text="1"+_n+(an>0?"+":O)+xn:(Ft.text=Ve(Math.pow(10,Ht),Vt,"","fakehover"),"D1"===on&&"y"===Vt._id.charAt(0)&&(Ft.dy-=Ft.fontSize/6))}else{if("D"!==Kt)throw"unrecognized dtick "+String(on);Ft.text=String(Math.round(Math.pow(10,b.mod(Ht,1)))),Ft.fontSize*=.75}if("D1"===Vt.dtick){var mn=String(Ft.text).charAt(0);"0"!==mn&&"1"!==mn||("y"===Vt._id.charAt(0)?Ft.dx-=Ft.fontSize/4:(Ft.dy+=Ft.fontSize/2,Ft.dx+=(Vt.range[1]>Vt.range[0]?1:-1)*Ft.fontSize*(Ht<0?.5:.25)))}}(Re,pt,0,ut,It):"category"===kt?(Ft=pt,void 0===(en=Re._categories[Math.round(Ft.x)])&&(en=""),Ft.text=String(en)):"multicategory"===kt?function(Vt,Ft,en){var wn=Math.round(Ft.x),kn=Vt._categories[wn]||[],on=void 0===kn[1]?"":String(kn[1]),Ht=void 0===kn[0]?"":String(kn[0]);en?Ft.text=Ht+" - "+on:(Ft.text=on,Ft.text2=Ht)}(Re,pt,et):Ze(Re)?function(Vt,Ft,en,wn,kn){if("radians"!==Vt.thetaunit||en)Ft.text=Ve(Ft.x,Vt,kn,wn);else{var on=Ft.x/180;if(0===on)Ft.text="0";else{var Ht=function(Kt){function an(An,vn){return Math.abs(An-vn)<=1e-6}var xn=function(An){for(var vn=1;!an(Math.round(An*vn)/vn,An);)vn*=10;return vn}(Kt),_n=Kt*xn,mn=Math.abs(function An(vn,On){return an(On,0)?vn:An(On,vn%On)}(_n,xn));return[Math.round(_n/mn),Math.round(xn/mn)]}(on);if(Ht[1]>=100)Ft.text=Ve(b.deg2rad(Ft.x),Vt,kn,wn);else{var nn=Ft.x<0;1===Ht[1]?1===Ht[0]?Ft.text="\u03c0":Ft.text=Ht[0]+"\u03c0":Ft.text=["<sup>",Ht[0],"</sup>","\u2044","<sub>",Ht[1],"</sub>","\u03c0"].join(""),nn&&(Ft.text=O+Ft.text)}}}}(Re,pt,et,ut,It):function(Vt,Ft,en,wn,kn){"never"===kn?kn="":"all"===Vt.showexponent&&Math.abs(Ft.x/Vt.dtick)<1e-6&&(kn="hide"),Ft.text=Ve(Ft.x,Vt,kn,wn)}(Re,pt,0,ut,It),We||(Re.tickprefix&&!Lt(Re.showtickprefix)&&(pt.text=Re.tickprefix+pt.text),Re.ticksuffix&&!Lt(Re.showticksuffix)&&(pt.text+=Re.ticksuffix)),Re.labelalias&&Re.labelalias.hasOwnProperty(pt.text)){var qt=Re.labelalias[pt.text];"string"==typeof qt&&(pt.text=qt)}if("boundaries"===Re.tickson||Re.showdividers){var Qt=function(Vt){var Ft=Re.l2p(Vt);return Ft>=0&&Ft<=Re._length?Vt:null};pt.xbnd=[Qt(pt.x-.5),Qt(pt.x+Re.dtick-.5)]}return pt},W.hoverLabelText=function(Re,Fe,et){et&&(Re=b.extendFlat({},Re,{hoverformat:et}));var We=b.isArrayOrTypedArray(Fe)?Fe[0]:Fe,ct=b.isArrayOrTypedArray(Fe)?Fe[1]:void 0;if(void 0!==ct&&ct!==We)return W.hoverLabelText(Re,We,et)+" - "+W.hoverLabelText(Re,ct,et);var pt="log"===Re.type&&We<=0,dt=W.tickText(Re,Re.c2l(pt?-We:We),"hover").text;return pt?0===We?"0":O+dt:dt};var De=["f","p","n","\u03bc","m","","k","M","G","T"];function ze(Re){return"SI"===Re||"B"===Re}function Ue(Re){return Re>14||Re<-15}function Ve(Re,Fe,et,We){var ct=Re<0,pt=Fe._tickround,dt=et||Fe.exponentformat||"B",ut=Fe._tickexponent,kt=W.getTickFormat(Fe),yt=Fe.separatethousands;if(We){var gt={exponentformat:dt,minexponent:Fe.minexponent,dtick:"none"===Fe.showexponent?Fe.dtick:k(Re)&&Math.abs(Re)||1,range:"none"===Fe.showexponent?Fe.range.map(Fe.r2d):[0,Re||1]};Te(gt),pt=(Number(gt._tickround)||0)+4,ut=gt._tickexponent,Fe.hoverformat&&(kt=Fe.hoverformat)}if(kt)return Fe._numFormat(kt)(Re).replace(/-/g,O);var At,Lt=Math.pow(10,-pt)/2;if("none"===dt&&(ut=0),(Re=Math.abs(Re))<Lt)Re="0",ct=!1;else{if(Re+=Lt,ut&&(Re*=Math.pow(10,-ut),pt+=ut),0===pt)Re=String(Math.floor(Re));else if(pt<0){Re=(Re=String(Math.round(Re))).substr(0,Re.length+pt);for(var It=pt;It<0;It++)Re+="0"}else{var qt=(Re=String(Re)).indexOf(".")+1;qt&&(Re=Re.substr(0,qt+pt).replace(/\.?0+$/,""))}Re=b.numSeparate(Re,Fe._separators,yt)}return ut&&"hide"!==dt&&(ze(dt)&&Ue(ut)&&(dt="power"),At=ut<0?O+-ut:"power"!==dt?"+"+ut:String(ut),"e"===dt||"E"===dt?Re+=dt+At:"power"===dt?Re+="\xd710<sup>"+At+"</sup>":"B"===dt&&9===ut?Re+="B":ze(dt)&&(Re+=De[ut/3+5])),ct?O+Re:Re}function Xe(Re,Fe){if(Re){var et=Object.keys(F).reduce(function(We,ct){return-1!==Fe.indexOf(ct)&&F[ct].forEach(function(pt){We[pt]=1}),We},{});Object.keys(Re).forEach(function(We){et[We]||(1===We.length?Re[We]=0:delete Re[We])})}}function at(Re,Fe){for(var et=[],We={},ct=0;ct<Fe.length;ct++){var pt=Fe[ct];We[pt.text2]?We[pt.text2].push(pt.x):We[pt.text2]=[pt.x]}for(var dt in We)et.push(Ce(Re,b.interp(We[dt],.5),dt));return et}function st(Re){return void 0!==Re.periodX?Re.periodX:Re.x}function ht(Re){return[Re.text,Re.x,Re.axInfo,Re.font,Re.fontSize,Re.fontColor].join("_")}function bt(Re){var Fe=Re.title.font.size,et=(Re.title.text.match(s.BR_TAG_ALL)||[]).length;return Re.title.hasOwnProperty("standoff")?et?Fe*(te+et*$):Fe*te:et?Fe*(et+1)*$:Fe}function vt(Re,Fe){var et=Re.l2p(Fe);return et>1&&et<Re._length-1}function Qe(Re){var Fe=M.select(Re),et=Fe.select(".text-math-group");return et.empty()?Fe.select("text"):et}function nt(Re){return Re._id+".automargin"}function wt(Re){return nt(Re)+".mirror"}function Ot(Re){return Re._id+".rangeslider"}function Pt(Re,Fe){for(var et=0;et<Fe.length;et++)-1===Re.indexOf(Fe[et])&&Re.push(Fe[et])}function St(Re,Fe,et){var We,ct,pt=[],dt=[],ut=Re.layout;for(We=0;We<Fe.length;We++)pt.push(W.getFromId(Re,Fe[We]));for(We=0;We<et.length;We++)dt.push(W.getFromId(Re,et[We]));var kt=Object.keys(r),yt=["anchor","domain","overlaying","position","side","tickangle","editType"],gt=["linear","log"];for(We=0;We<kt.length;We++){var At=kt[We],Lt=pt[0][At],It=dt[0][At],qt=!0,Qt=!1,Vt=!1;if("_"!==At.charAt(0)&&"function"!=typeof Lt&&-1===yt.indexOf(At)){for(ct=1;ct<pt.length&&qt;ct++){var Ft=pt[ct][At];"type"===At&&-1!==gt.indexOf(Lt)&&-1!==gt.indexOf(Ft)&&Lt!==Ft?Qt=!0:Ft!==Lt&&(qt=!1)}for(ct=1;ct<dt.length&&qt;ct++){var en=dt[ct][At];"type"===At&&-1!==gt.indexOf(It)&&-1!==gt.indexOf(en)&&It!==en?Vt=!0:dt[ct][At]!==It&&(qt=!1)}qt&&(Qt&&(ut[pt[0]._name].type="linear"),Vt&&(ut[dt[0]._name].type="linear"),qe(ut,At,pt,dt,Re._fullLayout._dfltTitle))}}for(We=0;We<Re._fullLayout.annotations.length;We++){var wn=Re._fullLayout.annotations[We];-1!==Fe.indexOf(wn.xref)&&-1!==et.indexOf(wn.yref)&&b.swapAttrs(ut.annotations[We],["?"])}}function qe(Re,Fe,et,We,ct){var pt,dt=b.nestedProperty,ut=dt(Re[et[0]._name],Fe).get(),kt=dt(Re[We[0]._name],Fe).get();for("title"===Fe&&(ut&&ut.text===ct.x&&(ut.text=ct.y),kt&&kt.text===ct.y&&(kt.text=ct.x)),pt=0;pt<et.length;pt++)dt(Re,et[pt]._name+"."+Fe).set(kt);for(pt=0;pt<We.length;pt++)dt(Re,We[pt]._name+"."+Fe).set(ut)}function Ze(Re){return"angularaxis"===Re._id}function Ne(Re,Fe){for(var et=Fe._rangebreaks.length,We=0;We<et;We++){var ct=Fe._rangebreaks[We];if(Re>=ct.min&&Re<ct.max)return ct.max}return Re}function Ge(Re){return-1!==(Re.ticklabelposition||"").indexOf("inside")}function rt(Re,Fe){Ge(Re._anchorAxis||{})&&Re._hideCounterAxisInsideTickLabels&&Re._hideCounterAxisInsideTickLabels(Fe)}function tt(Re,Fe,et,We){var ct,pt="free"===Re.anchor||void 0!==Re.overlaying&&!1!==Re.overlaying?Re.overlaying:Re._id;ct=We?"right"===Re.side?Fe:-Fe:Fe,pt in et||(et[pt]={}),Re.side in et[pt]||(et[pt][Re.side]=0),et[pt][Re.side]+=ct}W.getTickFormat=function(Re){var Fe,et,We,ct,pt,dt,ut,kt;function yt(Lt){return"string"!=typeof Lt?Lt:Number(Lt.replace("M",""))*y}function gt(Lt,It){var qt=["L","D"];if(typeof Lt==typeof It){if("number"==typeof Lt)return Lt-It;var Qt=qt.indexOf(Lt.charAt(0)),Vt=qt.indexOf(It.charAt(0));return Qt===Vt?Number(Lt.replace(/(L|D)/g,""))-Number(It.replace(/(L|D)/g,"")):Qt-Vt}return"number"==typeof Lt?1:-1}function At(Lt,It){var qt=null===It[0],Qt=null===It[1],Vt=gt(Lt,It[0])>=0,Ft=gt(Lt,It[1])<=0;return(qt||Vt)&&(Qt||Ft)}if(Re.tickformatstops&&Re.tickformatstops.length>0)switch(Re.type){case"date":case"linear":for(Fe=0;Fe<Re.tickformatstops.length;Fe++)if((We=Re.tickformatstops[Fe]).enabled&&(ct=Re.dtick,dt=void 0,ut=void 0,kt=void 0,dt=yt||function(Lt){return Lt},ut=(pt=We.dtickrange)[0],kt=pt[1],(!ut&&"number"!=typeof ut||dt(ut)<=dt(ct))&&(!kt&&"number"!=typeof kt||dt(kt)>=dt(ct)))){et=We;break}break;case"log":for(Fe=0;Fe<Re.tickformatstops.length;Fe++)if((We=Re.tickformatstops[Fe]).enabled&&At(Re.dtick,We.dtickrange)){et=We;break}}return et?et.value:Re.tickformat},W.getSubplots=function(Re,Fe){var et=Re._fullLayout._subplots,We=et.cartesian.concat(et.gl2d||[]),ct=Fe?W.findSubplotsWithAxis(We,Fe):We;return ct.sort(function(pt,dt){var ut=pt.substr(1).split("y"),kt=dt.substr(1).split("y");return ut[0]===kt[0]?+ut[1]-+kt[1]:+ut[0]-+kt[0]}),ct},W.findSubplotsWithAxis=function(Re,Fe){for(var et=new RegExp("x"===Fe._id.charAt(0)?"^"+Fe._id+"y":Fe._id+"$"),We=[],ct=0;ct<Re.length;ct++){var pt=Re[ct];et.test(pt)&&We.push(pt)}return We},W.makeClipPaths=function(Re){var Fe=Re._fullLayout;if(!Fe._hasOnlyLargeSploms){var et,We,ct={_offset:0,_length:Fe.width,_id:""},pt={_offset:0,_length:Fe.height,_id:""},dt=W.list(Re,"x",!0),ut=W.list(Re,"y",!0),kt=[];for(et=0;et<dt.length;et++)for(kt.push({x:dt[et],y:pt}),We=0;We<ut.length;We++)0===et&&kt.push({x:ct,y:ut[We]}),kt.push({x:dt[et],y:ut[We]});var yt=Fe._clips.selectAll(".axesclip").data(kt,function(gt){return gt.x._id+gt.y._id});yt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(gt){return"clip"+Fe._uid+gt.x._id+gt.y._id}).append("rect"),yt.exit().remove(),yt.each(function(gt){M.select(this).select("rect").attr({x:gt.x._offset||0,y:gt.y._offset||0,width:gt.x._length||1,height:gt.y._length||1})})}},W.draw=function(Re,Fe,et){var We=Re._fullLayout;"redraw"===Fe&&We._paper.selectAll("g.subplot").each(function(ut){var kt=ut[0],yt=We._plots[kt];if(yt){var gt=yt.xaxis,At=yt.yaxis;yt.xaxislayer.selectAll("."+gt._id+"tick").remove(),yt.yaxislayer.selectAll("."+At._id+"tick").remove(),yt.xaxislayer.selectAll("."+gt._id+"tick2").remove(),yt.yaxislayer.selectAll("."+At._id+"tick2").remove(),yt.xaxislayer.selectAll("."+gt._id+"divider").remove(),yt.yaxislayer.selectAll("."+At._id+"divider").remove(),yt.minorGridlayer&&yt.minorGridlayer.selectAll("path").remove(),yt.gridlayer&&yt.gridlayer.selectAll("path").remove(),yt.zerolinelayer&&yt.zerolinelayer.selectAll("path").remove(),We._infolayer.select(".g-"+gt._id+"title").remove(),We._infolayer.select(".g-"+At._id+"title").remove()}});var ct=Fe&&"redraw"!==Fe?Fe:W.listIds(Re),pt=W.list(Re).filter(function(ut){return ut.autoshift}).map(function(ut){return ut.overlaying});ct.map(function(ut){var kt=W.getFromId(Re,ut);if("sync"===kt.tickmode&&kt.overlaying){var yt=ct.findIndex(function(gt){return gt===kt.overlaying});yt>=0&&ct.unshift(ct.splice(yt,1).shift())}});var dt={false:{left:0,right:0}};return b.syncOrAsync(ct.map(function(ut){return function(){if(ut){var kt=W.getFromId(Re,ut);et||(et={}),et.axShifts=dt,et.overlayingShiftedAx=pt;var yt=W.drawOne(Re,kt,et);return kt._shiftPusher&&tt(kt,kt._fullDepth||0,dt,!0),kt._r=kt.range.slice(),kt._rl=b.simpleMap(kt._r,kt.r2l),yt}}}))},W.drawOne=function(Re,Fe,et){var We,ct,pt,dt=(et=et||{}).axShifts||{},ut=et.overlayingShiftedAx||[];Fe.setScale();var ln,Wt,kt=Re._fullLayout,yt=Fe._id,gt=yt.charAt(0),At=W.counterLetter(yt),Lt=kt._plots[Fe._mainSubplot];if(Lt){if(Fe._shiftPusher=Fe.autoshift||-1!==ut.indexOf(Fe._id)||-1!==ut.indexOf(Fe.overlaying),Fe._shiftPusher&"free"===Fe.anchor){var It=Fe.linewidth/2||0;"inside"===Fe.ticks&&(It+=Fe.ticklen),tt(Fe,It,dt,!0),tt(Fe,Fe.shift||0,dt,!1)}!0===et.skipTitle&&void 0!==Fe._shift||(Fe._shift=(Wt=dt,(ln=Fe).autoshift?Wt[ln.overlaying][ln.side]:ln.shift||0));var qt=Lt[gt+"axislayer"],Qt=Fe._mainLinePosition,Vt=Qt+=Fe._shift,Ft=Fe._mainMirrorPosition,en=Fe._vals=W.calcTicks(Fe),wn=[Fe.mirror,Vt,Ft].join("_");for(We=0;We<en.length;We++)en[We].axInfo=wn;Fe._selections={},Fe._tickAngles&&(Fe._prevTickAngles=Fe._tickAngles),Fe._tickAngles={},Fe._depth=null;var kn={};if(Fe.visible){var on,Ht,nn=W.makeTransTickFn(Fe),Kt=W.makeTransTickLabelFn(Fe),an="inside"===Fe.ticks,xn="outside"===Fe.ticks;if("boundaries"===Fe.tickson){var _n=function(ln,Wt){var Xt,sn=[],cn=function(Ln,Pn){var Vn=Ln.xbnd[Pn];null!==Vn&&sn.push(b.extendFlat({},Ln,{x:Vn}))};if(Wt.length){for(Xt=0;Xt<Wt.length;Xt++)cn(Wt[Xt],0);cn(Wt[Xt-1],1)}return sn}(0,en);Ht=W.clipEnds(Fe,_n),on=an?Ht:_n}else Ht=W.clipEnds(Fe,en),on=an&&"period"!==Fe.ticklabelmode?Ht:en;var mn,An=Fe._gridVals=Ht,vn=function(ln,Wt){var Xt,sn,cn=[],Ln=Wt.length&&Wt[Wt.length-1].x<Wt[0].x,Pn=function(Un,Xn){var Zn=Un.xbnd[Xn];null!==Zn&&cn.push(b.extendFlat({},Un,{x:Zn}))};if(ln.showdividers&&Wt.length){for(Xt=0;Xt<Wt.length;Xt++){var Vn=Wt[Xt];Vn.text2!==sn&&Pn(Vn,Ln?1:0),sn=Vn.text2}Pn(Wt[Xt-1],Ln?0:1)}return cn}(Fe,en);if(!kt._hasOnlyLargeSploms){var On=Fe._subplotsWith,Bn={};for(We=0;We<On.length;We++){ct=On[We];var er=(pt=kt._plots[ct])[At+"axis"],or=er._mainAxis._id;if(!Bn[or]){Bn[or]=1;var $n="x"===gt?"M0,"+er._offset+"v"+er._length:"M"+er._offset+",0h"+er._length;W.drawGrid(Re,Fe,{vals:An,counterAxis:er,layer:pt.gridlayer.select("."+yt),minorLayer:pt.minorGridlayer.select("."+yt),path:$n,transFn:nn}),W.drawZeroLine(Re,Fe,{counterAxis:er,layer:pt.zerolinelayer,path:$n,transFn:nn})}}}var qn=W.getTickSigns(Fe),cr=W.getTickSigns(Fe,"minor");if(Fe.ticks||Fe.minor&&Fe.minor.ticks){var Nt,Jt,un,fn,Mn=W.makeTickPath(Fe,Vt,qn[2]),Fn=W.makeTickPath(Fe,Vt,cr[2],{minor:!0});if(Fe._anchorAxis&&Fe.mirror&&!0!==Fe.mirror?(Nt=W.makeTickPath(Fe,Ft,qn[3]),Jt=W.makeTickPath(Fe,Ft,cr[3],{minor:!0}),un=Mn+Nt,fn=Fn+Jt):(Nt="",Jt="",un=Mn,fn=Fn),Fe.showdividers&&xn&&"boundaries"===Fe.tickson){var In={};for(We=0;We<vn.length;We++)In[vn[We].x]=1;mn=function(ln){return In[ln.x]?Nt:un}}else mn=function(ln){return ln.minor?fn:un}}if(W.drawTicks(Re,Fe,{vals:on,layer:qt,path:mn,transFn:nn}),"allticks"===Fe.mirror){var Rn=Object.keys(Fe._linepositions||{});for(We=0;We<Rn.length;We++){ct=Rn[We],pt=kt._plots[ct];var Jn=Fe._linepositions[ct]||[],Yt=Jn[0],gn=Jn[1],Ct=Jn[2],Zt=W.makeTickPath(Fe,Yt,Ct?qn[0]:cr[0],{minor:Ct})+W.makeTickPath(Fe,gn,Ct?qn[1]:cr[1],{minor:Ct});W.drawTicks(Re,Fe,{vals:on,layer:pt[gt+"axislayer"],path:Zt,transFn:nn})}}var $t=[];if($t.push(function(){return W.drawLabels(Re,Fe,{vals:en,layer:qt,plotinfo:pt,transFn:Kt,labelFns:W.makeLabelFns(Fe,Vt)})}),"multicategory"===Fe.type){var dn={x:2,y:10}[gt];$t.push(function(){var ln={x:"height",y:"width"}[gt],Wt=Sn()[ln]+dn+(Fe._tickAngles[yt+"tick"]?Fe.tickfont.size*$:0);return W.drawLabels(Re,Fe,{vals:at(Fe,en),layer:qt,cls:yt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:nn,labelFns:W.makeLabelFns(Fe,Vt+Wt*qn[4])})}),$t.push(function(){return Fe._depth=qn[4]*(Sn("tick2")[Fe.side]-Vt),function(ln,Wt,Xt){var sn=Wt._id+"divider",cn=Xt.vals,Ln=Xt.layer.selectAll("path."+sn).data(cn,ht);Ln.exit().remove(),Ln.enter().insert("path",":first-child").classed(sn,1).classed("crisp",1).call(i.stroke,Wt.dividercolor).style("stroke-width",n.crispRound(ln,Wt.dividerwidth,1)+"px"),Ln.attr("transform",Xt.transFn).attr("d",Xt.path)}(Re,Fe,{vals:vn,layer:qt,path:W.makeTickPath(Fe,Vt,qn[4],{len:Fe._depth}),transFn:nn})})}else Fe.title.hasOwnProperty("standoff")&&$t.push(function(){Fe._depth=qn[4]*(Sn()[Fe.side]-Vt)});var yn=T.getComponentMethod("rangeslider","isVisible")(Fe);return et.skipTitle||yn&&"bottom"===Fe.side||$t.push(function(){return function(ln,Wt){var Xt,sn=ln._fullLayout,cn=Wt._id,Ln=cn.charAt(0),Pn=Wt.title.font.size;if(Wt.title.hasOwnProperty("standoff"))Xt=Wt._depth+Wt.title.standoff+bt(Wt);else{var Vn=Ge(Wt);if("multicategory"===Wt.type)Xt=Wt._depth;else{var Un=1.5*Pn;Vn&&(Un=.5*Pn,"outside"===Wt.ticks&&(Un+=Wt.ticklen)),Xt=10+Un+(Wt.linewidth?Wt.linewidth-1:0)}Vn||(Xt+="x"===Ln?"top"===Wt.side?Pn*(Wt.showticklabels?1:0):Pn*(Wt.showticklabels?1.5:.5):"right"===Wt.side?Pn*(Wt.showticklabels?1:.5):Pn*(Wt.showticklabels?.5:0))}var Xn,Zn,Qn,ar,ir=W.getPxPosition(ln,Wt);if("x"===Ln?(Zn=Wt._offset+Wt._length/2,Qn="top"===Wt.side?ir-Xt:ir+Xt):(Qn=Wt._offset+Wt._length/2,Zn="right"===Wt.side?ir+Xt:ir-Xt,Xn={rotate:"-90",offset:0}),"multicategory"!==Wt.type){var hr=Wt._selections[Wt._id+"tick"];if(ar={selection:hr,side:Wt.side},hr&&hr.node()&&hr.node().parentNode){var fr=n.getTranslate(hr.node().parentNode);ar.offsetLeft=fr.x,ar.offsetTop=fr.y}Wt.title.hasOwnProperty("standoff")&&(ar.pad=0)}return Wt._titleStandoff=Xt,t.draw(ln,cn+"title",{propContainer:Wt,propName:Wt._name+".title.text",placeholder:sn._dfltTitle[Ln],avoid:ar,transform:Xn,attributes:{x:Zn,y:Qn,"text-anchor":"middle"}})}(Re,Fe)}),$t.push(function(){var ln,Wt,Xt,sn,cn=Fe.side.charAt(0),Ln=X[Fe.side].charAt(0),Pn=W.getPxPosition(Re,Fe),Vn=xn?Fe.ticklen:0;(Fe.automargin||yn||Fe._shiftPusher)&&("multicategory"===Fe.type?ln=Sn("tick2"):(ln=Sn(),"x"===gt&&"b"===cn&&(Fe._depth=Math.max(ln.width>0?ln.bottom-Pn:0,Vn))));var Un=0,Xn=0;if(Fe._shiftPusher&&(Un=Math.max(Vn,ln.height>0?"l"===cn?Pn-ln.left:ln.right-Pn:0),Fe.title.text!==kt._dfltTitle[gt]&&(Xn=(Fe._titleStandoff||0)+(Fe._titleScoot||0),"l"===cn&&(Xn+=bt(Fe))),Fe._fullDepth=Math.max(Un,Xn)),Fe.automargin){Wt={x:0,y:0,r:0,l:0,t:0,b:0};var Zn=[0,1],Qn="number"==typeof Fe._shift?Fe._shift:0;if("x"===gt){if("b"===cn?Wt[cn]=Fe._depth:(Wt[cn]=Fe._depth=Math.max(ln.width>0?Pn-ln.top:0,Vn),Zn.reverse()),ln.width>0){var ar=ln.right-(Fe._offset+Fe._length);ar>0&&(Wt.xr=1,Wt.r=ar);var ir=Fe._offset-ln.left;ir>0&&(Wt.xl=0,Wt.l=ir)}}else if("l"===cn?(Fe._depth=Math.max(ln.height>0?Pn-ln.left:0,Vn),Wt[cn]=Fe._depth-Qn):(Fe._depth=Math.max(ln.height>0?ln.right-Pn:0,Vn),Wt[cn]=Fe._depth+Qn,Zn.reverse()),ln.height>0){var hr=ln.bottom-(Fe._offset+Fe._length);hr>0&&(Wt.yb=0,Wt.b=hr);var fr=Fe._offset-ln.top;fr>0&&(Wt.yt=1,Wt.t=fr)}Wt[At]="free"===Fe.anchor?Fe.position:Fe._anchorAxis.domain[Zn[0]],Fe.title.text!==kt._dfltTitle[gt]&&(Wt[cn]+=bt(Fe)+(Fe.title.standoff||0)),Fe.mirror&&"free"!==Fe.anchor&&((Xt={x:0,y:0,r:0,l:0,t:0,b:0})[Ln]=Fe.linewidth,Fe.mirror&&!0!==Fe.mirror&&(Xt[Ln]+=Vn),!0===Fe.mirror||"ticks"===Fe.mirror?Xt[At]=Fe._anchorAxis.domain[Zn[1]]:"all"!==Fe.mirror&&"allticks"!==Fe.mirror||(Xt[At]=[Fe._counterDomainMin,Fe._counterDomainMax][Zn[1]]))}yn&&(sn=T.getComponentMethod("rangeslider","autoMarginOpts")(Re,Fe)),"string"==typeof Fe.automargin&&(Xe(Wt,Fe.automargin),Xe(Xt,Fe.automargin)),a.autoMargin(Re,nt(Fe),Wt),a.autoMargin(Re,wt(Fe),Xt),a.autoMargin(Re,Ot(Fe),sn)}),b.syncOrAsync($t)}}function Sn(ln){var Xt,sn,cn,Ln,Pn,Vn,Wt=yt+(ln||"tick");return kn[Wt]||(kn[Wt]=(sn=Wt,(Xt=Fe)._selections[sn].size()?(cn=1/0,Ln=-1/0,Pn=1/0,Vn=-1/0,Xt._selections[sn].each(function(){var Un=Qe(this),Xn=n.bBox(Un.node().parentNode);cn=Math.min(cn,Xn.top),Ln=Math.max(Ln,Xn.bottom),Pn=Math.min(Pn,Xn.left),Vn=Math.max(Vn,Xn.right)})):(cn=0,Ln=0,Pn=0,Vn=0),{top:cn,bottom:Ln,left:Pn,right:Vn,height:Ln-cn,width:Vn-Pn})),kn[Wt]}},W.getTickSigns=function(Re,Fe){var et=Re._id.charAt(0),We={x:"top",y:"right"}[et],ct=Re.side===We?1:-1,pt=[-1,1,ct,-ct];return"inside"!==(Fe?(Re.minor||{}).ticks:Re.ticks)==("x"===et)&&(pt=pt.map(function(dt){return-dt})),Re.side&&pt.push({l:-1,t:-1,r:1,b:1}[Re.side.charAt(0)]),pt},W.makeTransTickFn=function(Re){return"x"===Re._id.charAt(0)?function(Fe){return p(Re._offset+Re.l2p(Fe.x),0)}:function(Fe){return p(0,Re._offset+Re.l2p(Fe.x))}},W.makeTransTickLabelFn=function(Re){var Fe=function(ct){var pt=ct.ticklabelposition||"",dt=function(Ft){return-1!==pt.indexOf(Ft)},ut=dt("top"),kt=dt("left"),yt=dt("right"),gt=dt("bottom"),At=dt("inside"),Lt=gt||kt||ut||yt;if(!Lt&&!At)return[0,0];var It=ct.side,qt=Lt?(ct.tickwidth||0)/2:0,Qt=3,Vt=ct.tickfont?ct.tickfont.size:12;return(gt||ut)&&(qt+=Vt*te,Qt+=(ct.linewidth||0)/2),(kt||yt)&&(qt+=(ct.linewidth||0)/2,Qt+=3),At&&"top"===It&&(Qt-=Vt*(1-te)),(kt||ut)&&(qt=-qt),"bottom"!==It&&"right"!==It||(Qt=-Qt),[Lt?qt:0,At?Qt:0]}(Re),et=Fe[0],We=Fe[1];return"x"===Re._id.charAt(0)?function(ct){return p(et+Re._offset+Re.l2p(st(ct)),We)}:function(ct){return p(We,et+Re._offset+Re.l2p(st(ct)))}},W.makeTickPath=function(Re,Fe,et,We){We||(We={});var ct=We.minor;if(ct&&!Re.minor)return"";var pt=void 0!==We.len?We.len:ct?Re.minor.ticklen:Re.ticklen,dt=Re._id.charAt(0),ut=(Re.linewidth||1)/2;return"x"===dt?"M0,"+(Fe+ut*et)+"v"+pt*et:"M"+(Fe+ut*et)+",0h"+pt*et},W.makeLabelFns=function(Re,Fe,et){var We=Re.ticklabelposition||"",ct=function(_n){return-1!==We.indexOf(_n)},pt=ct("top"),dt=ct("left"),ut=ct("right"),kt=ct("bottom")||dt||pt||ut,yt=ct("inside"),gt="inside"===We&&"inside"===Re.ticks||!yt&&"outside"===Re.ticks&&"boundaries"!==Re.tickson,At=0,Lt=0,It=gt?Re.ticklen:0;if(yt?It*=-1:kt&&(It=0),gt&&(At+=It,et)){var qt=b.deg2rad(et);At=It*Math.cos(qt)+1,Lt=It*Math.sin(qt)}Re.showticklabels&&(gt||Re.showline)&&(At+=.2*Re.tickfont.size);var Qt,Vt,Ft,en,wn,kn={labelStandoff:At+=(Re.linewidth||1)/2*(yt?-1:1),labelShift:Lt},on=0,Ht=Re.side,nn=Re._id.charAt(0),Kt=Re.tickangle;if("x"===nn)en=(wn=!yt&&"bottom"===Ht||yt&&"top"===Ht)?1:-1,yt&&(en*=-1),Qt=Lt*en,Vt=Fe+At*en,Ft=wn?1:-.2,90===Math.abs(Kt)&&(yt?Ft+=V:Ft=-90===Kt&&"bottom"===Ht?te:90===Kt&&"top"===Ht?V:.5,on=V/2*(Kt/90)),kn.xFn=function(_n){return _n.dx+Qt+on*_n.fontSize},kn.yFn=function(_n){return _n.dy+Vt+_n.fontSize*Ft},kn.anchorFn=function(_n,mn){if(kt){if(dt)return"end";if(ut)return"start"}return k(mn)&&0!==mn&&180!==mn?mn*en<0!==yt?"end":"start":"middle"},kn.heightFn=function(_n,mn,An){return mn<-60||mn>60?-.5*An:"top"===Re.side!==yt?-An:0};else if("y"===nn){if(en=(wn=!yt&&"left"===Ht||yt&&"right"===Ht)?1:-1,yt&&(en*=-1),Qt=At,Vt=Lt*en,Ft=0,yt||90!==Math.abs(Kt)||(Ft=-90===Kt&&"left"===Ht||90===Kt&&"right"===Ht?te:.5),yt){var an=k(Kt)?+Kt:0;if(0!==an){var xn=b.deg2rad(an);on=Math.abs(Math.sin(xn))*te*en,Ft=0}}kn.xFn=function(_n){return _n.dx+Fe-(Qt+_n.fontSize*Ft)*en+on*_n.fontSize},kn.yFn=function(_n){return _n.dy+Vt+_n.fontSize*V},kn.anchorFn=function(_n,mn){return k(mn)&&90===Math.abs(mn)?"middle":wn?"end":"start"},kn.heightFn=function(_n,mn,An){return"right"===Re.side&&(mn*=-1),mn<-30?-An:mn<30?-.5*An:0}}return kn},W.drawTicks=function(Re,Fe,et){et=et||{};var We=Fe._id+"tick",ct=[].concat(Fe.minor&&Fe.minor.ticks?et.vals.filter(function(dt){return dt.minor&&!dt.noTick}):[]).concat(Fe.ticks?et.vals.filter(function(dt){return!dt.minor&&!dt.noTick}):[]),pt=et.layer.selectAll("path."+We).data(ct,ht);pt.exit().remove(),pt.enter().append("path").classed(We,1).classed("ticks",1).classed("crisp",!1!==et.crisp).each(function(dt){return i.stroke(M.select(this),dt.minor?Fe.minor.tickcolor:Fe.tickcolor)}).style("stroke-width",function(dt){return n.crispRound(Re,dt.minor?Fe.minor.tickwidth:Fe.tickwidth,1)+"px"}).attr("d",et.path).style("display",null),rt(Fe,[N]),pt.attr("transform",et.transFn)},W.drawGrid=function(Re,Fe,et){if(et=et||{},"sync"!==Fe.tickmode){var We=Fe._id+"grid",ct=Fe.minor&&Fe.minor.showgrid,pt=ct?et.vals.filter(function(Ft){return Ft.minor}):[],dt=Fe.showgrid?et.vals.filter(function(Ft){return!Ft.minor}):[],ut=et.counterAxis;if(ut&&W.shouldShowZeroLine(Re,Fe,ut))for(var kt="array"===Fe.tickmode,yt=0;yt<dt.length;yt++){var gt=dt[yt].x;if(kt?!gt:Math.abs(gt)<Fe.dtick/100){if(dt=dt.slice(0,yt).concat(dt.slice(yt+1)),!kt)break;yt--}}Fe._gw=n.crispRound(Re,Fe.gridwidth,1);for(var At=ct?n.crispRound(Re,Fe.minor.gridwidth,1):0,Lt=et.layer,It=et.minorLayer,qt=1;qt>=0;qt--){var Qt=qt?Lt:It;if(Qt){var Vt=Qt.selectAll("path."+We).data(qt?dt:pt,ht);Vt.exit().remove(),Vt.enter().append("path").classed(We,1).classed("crisp",!1!==et.crisp),Vt.attr("transform",et.transFn).attr("d",et.path).each(function(Ft){return i.stroke(M.select(this),Ft.minor?Fe.minor.gridcolor:Fe.gridcolor||"#ddd")}).style("stroke-dasharray",function(Ft){return n.dashStyle(Ft.minor?Fe.minor.griddash:Fe.griddash,Ft.minor?Fe.minor.gridwidth:Fe.gridwidth)}).style("stroke-width",function(Ft){return(Ft.minor?At:Fe._gw)+"px"}).style("display",null),"function"==typeof et.path&&Vt.attr("d",et.path)}}rt(Fe,[j,z])}},W.drawZeroLine=function(Re,Fe,et){et=et||et;var We=Fe._id+"zl",ct=W.shouldShowZeroLine(Re,Fe,et.counterAxis),pt=et.layer.selectAll("path."+We).data(ct?[{x:0,id:Fe._id}]:[]);pt.exit().remove(),pt.enter().append("path").classed(We,1).classed("zl",1).classed("crisp",!1!==et.crisp).each(function(){et.layer.selectAll("path").sort(function(dt,ut){return re(dt.id,ut.id)})}),pt.attr("transform",et.transFn).attr("d",et.path).call(i.stroke,Fe.zerolinecolor||i.defaultLine).style("stroke-width",n.crispRound(Re,Fe.zerolinewidth,Fe._gw||1)+"px").style("display",null),rt(Fe,[R])},W.drawLabels=function(Re,Fe,et){et=et||{};var We=Re._fullLayout,ct=Fe._id,pt=ct.charAt(0),dt=et.cls||ct+"tick",ut=et.vals.filter(function(mn){return mn.text}),kt=et.labelFns,yt=et.secondary?0:Fe.tickangle,gt=(Fe._prevTickAngles||{})[dt],At=et.layer.selectAll("g."+dt).data(Fe.showticklabels?ut:[],ht),Lt=[];function It(mn,An){mn.each(function(vn){var On=M.select(this),Bn=On.select(".text-math-group"),er=kt.anchorFn(vn,An),or=et.transFn.call(On.node(),vn)+(k(An)&&0!=+An?" rotate("+An+","+kt.xFn(vn)+","+(kt.yFn(vn)-vn.fontSize/2)+")":""),$n=s.lineCount(On),qn=$*vn.fontSize,cr=kt.heightFn(vn,k(An)?+An:0,($n-1)*qn);if(cr&&(or+=p(0,cr)),Bn.empty()){var Nt=On.select("text");Nt.attr({transform:or,"text-anchor":er}),Nt.style("opacity",1),Fe._adjustTickLabelsOverflow&&Fe._adjustTickLabelsOverflow()}else{var Jt=n.bBox(Bn.node()).width*{end:-.5,start:.5}[er];Bn.attr("transform",or+p(Jt,0))}})}At.enter().append("g").classed(dt,1).append("text").attr("text-anchor","middle").each(function(mn){var An=M.select(this),vn=Re._promises.length;An.call(s.positionText,kt.xFn(mn),kt.yFn(mn)).call(n.font,mn.font,mn.fontSize,mn.fontColor).text(mn.text).call(s.convertToTspans,Re),Re._promises[vn]?Lt.push(Re._promises.pop().then(function(){It(An,yt)})):It(An,yt)}),rt(Fe,[Y]),At.exit().remove(),et.repositionOnUpdate&&At.each(function(mn){M.select(this).select("text").call(s.positionText,kt.xFn(mn),kt.yFn(mn))}),Fe._adjustTickLabelsOverflow=function(){var mn=Fe.ticklabeloverflow;if(mn&&"allow"!==mn){var An=-1!==mn.indexOf("hide"),vn="x"===Fe._id.charAt(0),On=0,Bn=vn?Re._fullLayout.width:Re._fullLayout.height;if(-1!==mn.indexOf("domain")){var er=b.simpleMap(Fe.range,Fe.r2l);On=Fe.l2p(er[0])+Fe._offset,Bn=Fe.l2p(er[1])+Fe._offset}var or=Math.min(On,Bn),$n=Math.max(On,Bn),qn=Fe.side,cr=1/0,Nt=-1/0;for(var Jt in At.each(function(Mn){var Fn=M.select(this);if(Fn.select(".text-math-group").empty()){var In=n.bBox(Fn.node()),Rn=0;vn?(In.right>$n||In.left<or)&&(Rn=1):(In.bottom>$n||In.top+(Fe.tickangle?0:Mn.fontSize/4)<or)&&(Rn=1);var Jn=Fn.select("text");Rn?An&&Jn.style("opacity",0):(Jn.style("opacity",1),cr="bottom"===qn||"right"===qn?Math.min(cr,vn?In.top:In.left):-1/0,Nt="top"===qn||"left"===qn?Math.max(Nt,vn?In.bottom:In.right):1/0)}}),We._plots){var un=We._plots[Jt];if(Fe._id===un.xaxis._id||Fe._id===un.yaxis._id){var fn=vn?un.yaxis:un.xaxis;fn&&(fn["_visibleLabelMin_"+Fe._id]=cr,fn["_visibleLabelMax_"+Fe._id]=Nt)}}}},Fe._hideCounterAxisInsideTickLabels=function(mn){var An="x"===Fe._id.charAt(0),vn=[];for(var On in We._plots){var Bn=We._plots[On];Fe._id!==Bn.xaxis._id&&Fe._id!==Bn.yaxis._id||vn.push(An?Bn.yaxis:Bn.xaxis)}vn.forEach(function(er,or){er&&Ge(er)&&(mn||[R,z,j,N,Y]).forEach(function($n){var qn="tick"===$n.K&&"text"===$n.L&&"period"===Fe.ticklabelmode,cr=We._plots[Fe._mainSubplot];($n.K===R.K?cr.zerolinelayer.selectAll("."+Fe._id+"zl"):$n.K===z.K?cr.minorGridlayer.selectAll("."+Fe._id):$n.K===j.K?cr.gridlayer.selectAll("."+Fe._id):cr[Fe._id.charAt(0)+"axislayer"]).each(function(){var Nt=M.select(this);$n.L&&(Nt=Nt.selectAll($n.L)),Nt.each(function(Jt){var un=Fe.l2p(qn?st(Jt):Jt.x)+Fe._offset,fn=M.select(this);un<Fe["_visibleLabelMax_"+er._id]&&un>Fe["_visibleLabelMin_"+er._id]?fn.style("display","none"):"tick"!==$n.K||or||fn.style("display",null)})})})})},It(At,gt+1?gt:yt);var qt=null;Fe._selections&&(Fe._selections[dt]=At);var Qt=[function(){return Lt.length&&Promise.all(Lt)}];Fe.automargin&&We._redrawFromAutoMarginCount&&90===gt?(qt=90,Qt.push(function(){It(At,gt)})):Qt.push(function(){if(It(At,yt),ut.length&&"x"===pt&&!k(yt)&&("log"!==Fe.type||"D"!==String(Fe.dtick).charAt(0))){qt=0;var mn,An=0,vn=[];if(At.each(function(Fn){An=Math.max(An,Fn.fontSize);var In=Fe.l2p(Fn.x),Rn=Qe(this),Jn=n.bBox(Rn.node());vn.push({top:0,bottom:10,height:10,left:In-Jn.width/2,right:In+Jn.width/2+2,width:Jn.width+2})}),"boundaries"!==Fe.tickson&&!Fe.showdividers||et.secondary){var On=ut.length,Bn=Math.abs((ut[On-1].x-ut[0].x)*Fe._m)/(On-1),er=Fe.ticklabelposition||"",or=function(Fn){return-1!==er.indexOf(Fn)},$n=or("top"),qn=or("left"),cr=or("right"),Nt=or("bottom")||qn||$n||cr?(Fe.tickwidth||0)+6:0,Jt=Bn<2.5*An||"multicategory"===Fe.type||"realaxis"===Fe._name;for(mn=0;mn<vn.length-1;mn++)if(b.bBoxIntersect(vn[mn],vn[mn+1],Nt)){qt=Jt?90:30;break}}else{var un=2;for(Fe.ticks&&(un+=Fe.tickwidth/2),mn=0;mn<vn.length;mn++){var fn=ut[mn].xbnd,Mn=vn[mn];if(null!==fn[0]&&Mn.left-Fe.l2p(fn[0])<un||null!==fn[1]&&Fe.l2p(fn[1])-Mn.right<un){qt=90;break}}}qt&&It(At,qt)}}),Fe._tickAngles&&Qt.push(function(){Fe._tickAngles[dt]=null===qt?k(yt)?yt:0:qt});var Vt=function(){var mn=0,An=0;return At.each(function(vn,On){var Bn,er=Qe(this);er.select(".text-math-group").empty()&&(Fe._vals[On]&&(Bn=Fe._vals[On].bb||n.bBox(er.node()),Fe._vals[On].bb=Bn),mn=Math.max(mn,Bn.width),An=Math.max(An,Bn.height))}),{labelsMaxW:mn,labelsMaxH:An}},Ft=Fe._anchorAxis;if(Ft&&(Ft.autorange||Ft.insiderange)&&Ge(Fe)&&!ae(We,Fe._id)&&(We._insideTickLabelsUpdaterange||(We._insideTickLabelsUpdaterange={}),Ft.autorange&&(We._insideTickLabelsUpdaterange[Ft._name+".autorange"]=Ft.autorange,Qt.push(Vt)),Ft.insiderange)){var en=Vt(),wn="y"===Fe._id.charAt(0)?en.labelsMaxW:en.labelsMaxH;wn+=6,"inside"===Fe.ticklabelposition&&(wn+=Fe.ticklen||0);var kn="right"===Fe.side||"top"===Fe.side?1:-1,on=1===kn?1:0,Ht=1===kn?0:1,nn=[];nn[Ht]=Ft.range[Ht];var Kt=Ft.d2p(Ft.range[on]),an=Ft.d2p(Ft.range[Ht]),xn=Math.abs(an-Kt);xn-wn>0?wn*=1+wn/(xn-=wn):wn=0,"y"!==Fe._id.charAt(0)&&(wn=-wn),nn[on]=Ft.p2d(Ft.d2p(Ft.range[on])+kn*wn),"min"===Ft.autorange||"max reversed"===Ft.autorange?(nn[0]=null,Ft._rangeInitial0=void 0,Ft._rangeInitial1=void 0):"max"!==Ft.autorange&&"min reversed"!==Ft.autorange||(nn[1]=null,Ft._rangeInitial0=void 0,Ft._rangeInitial1=void 0),We._insideTickLabelsUpdaterange[Ft._name+".range"]=nn}var _n=b.syncOrAsync(Qt);return _n&&_n.then&&Re._promises.push(_n),_n},W.getPxPosition=function(Re,Fe){var et,We=Re._fullLayout._size,ct=Fe._id.charAt(0),pt=Fe.side;return"free"!==Fe.anchor?et=Fe._anchorAxis:"x"===ct?et={_offset:We.t+(1-(Fe.position||0))*We.h,_length:0}:"y"===ct&&(et={_offset:We.l+(Fe.position||0)*We.w+Fe._shift,_length:0}),"top"===pt||"left"===pt?et._offset:"bottom"===pt||"right"===pt?et._offset+et._length:void 0},W.shouldShowZeroLine=function(Re,Fe,et){var We=b.simpleMap(Fe.range,Fe.r2l);return We[0]*We[1]<=0&&Fe.zeroline&&("linear"===Fe.type||"-"===Fe.type)&&!(Fe.rangebreaks&&Fe.maskBreaks(0)===P)&&(vt(Fe,0)||!function(ct,pt,dt,ut){var kt=dt._mainAxis;if(kt){var yt=ct._fullLayout,gt=pt._id.charAt(0),At=W.counterLetter(pt._id),Lt=pt._offset+(Math.abs(ut[0])<Math.abs(ut[1])==("x"===gt)?0:pt._length),It=yt._plots[dt._mainSubplot];if(!(It.mainplotinfo||It).overlays.length)return Ft(dt);for(var qt=W.list(ct,At),Qt=0;Qt<qt.length;Qt++){var Vt=qt[Qt];if(Vt._mainAxis===kt&&Ft(Vt))return!0}}function Ft(en){if(!en.showline||!en.linewidth)return!1;var wn=Math.max((en.linewidth+pt.zerolinewidth)/2,1);function kn(nn){return"number"==typeof nn&&Math.abs(nn-Lt)<wn}if(kn(en._mainLinePosition)||kn(en._mainMirrorPosition))return!0;var on=en._linepositions||{};for(var Ht in on)if(kn(on[Ht][0])||kn(on[Ht][1]))return!0}}(Re,Fe,et,We)||function(ct,pt){for(var dt=ct._fullData,ut=pt._mainSubplot,kt=pt._id.charAt(0),yt=0;yt<dt.length;yt++){var gt=dt[yt];if(!0===gt.visible&&gt.xaxis+gt.yaxis===ut&&(T.traceIs(gt,"bar-like")&&gt.orientation==={x:"h",y:"v"}[kt]||gt.fill&&gt.fill.charAt(gt.fill.length-1)===kt))return!0}return!1}(Re,Fe))},W.clipEnds=function(Re,Fe){return Fe.filter(function(et){return vt(Re,et.x)})},W.allowAutoMargin=function(Re){for(var Fe=W.list(Re,"",!0),et=0;et<Fe.length;et++){var We=Fe[et];We.automargin&&(a.allowAutoMargin(Re,nt(We)),We.mirror&&a.allowAutoMargin(Re,wt(We))),T.getComponentMethod("rangeslider","isVisible")(We)&&a.allowAutoMargin(Re,Ot(We))}},W.swap=function(Re,Fe){for(var et=function(ct,pt){var dt,ut,kt=[];for(dt=0;dt<pt.length;dt++){var yt=[],gt=ct._fullData[pt[dt]].xaxis,At=ct._fullData[pt[dt]].yaxis;if(gt&&At){for(ut=0;ut<kt.length;ut++)-1===kt[ut].x.indexOf(gt)&&-1===kt[ut].y.indexOf(At)||yt.push(ut);if(yt.length){var Lt,It=kt[yt[0]];if(yt.length>1)for(ut=1;ut<yt.length;ut++)Lt=kt[yt[ut]],Pt(It.x,Lt.x),Pt(It.y,Lt.y);Pt(It.x,[gt]),Pt(It.y,[At])}else kt.push({x:[gt],y:[At]})}}return kt}(Re,Fe),We=0;We<et.length;We++)St(Re,et[We].x,et[We].y)}},4322:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(50606).BADNUM,T=k.isArrayOrTypedArray,b=k.isDateTime,p=k.cleanNumber,s=Math.round;function t(n,r){return r?M(n):"number"==typeof n}function i(n){return Math.max(1,(n-1)/1e3)}ee.exports=function(n,r,o){var h,l=n,u=o.noMultiCategory;if(T(l)&&!l.length)return"-";if(!u&&T((h=l)[0])&&T(h[1]))return"multicategory";if(u&&Array.isArray(l[0])){for(var d=[],c=0;c<l.length;c++)if(T(l[c]))for(var x=0;x<l[c].length;x++)d.push(l[c][x]);l=d}if(function(h,m){for(var y=h.length,v=i(y),_=0,f=0,S={},w=0;w<y;w+=v){var E=h[s(w)],C=String(E);S[C]||(S[C]=1,b(E,m)&&_++,M(E)&&f++)}return _>2*f}(l,r))return"date";var g="strict"!==o.autotypenumbers;return function(h,m){for(var y=h.length,v=i(y),_=0,f=0,S={},w=0;w<y;w+=v){var E=h[s(w)],C=String(E);if(!S[C]){S[C]=1;var O=typeof E;"boolean"===O?f++:(m?p(E)!==a:"number"===O)?_++:"string"===O&&f++}}return f>2*_}(l,g)?"category":function(h,m){for(var y=h.length,v=0;v<y;v++)if(t(h[v],m))return!0;return!1}(l,g)?"linear":"-"}},71453:function(ee,D,e){"use strict";var M=e(92770),k=e(73972),a=e(71828),T=e(44467),b=e(85501),p=e(13838),s=e(26218),t=e(38701),i=e(96115),n=e(89426),r=e(15258),o=e(92128),l=e(23608),u=e(21994),d=e(85555).WEEKDAY_PATTERN,c=e(85555).HOUR_PATTERN;function x(m,y,v){function _(R,j){return a.coerce(m,y,p.rangebreaks,R,j)}if(_("enabled")){var f=_("bounds");if(f&&f.length>=2){var S,w,E="";if(2===f.length)for(S=0;S<2;S++)if(w=h(f[S])){E=d;break}var C=_("pattern",E);if(C===d)for(S=0;S<2;S++)(w=h(f[S]))&&(y.bounds[S]=f[S]=w-1);if(C)for(S=0;S<2;S++)switch(w=f[S],C){case d:if(!M(w)||(w=+w)!==Math.floor(w)||w<0||w>=7)return void(y.enabled=!1);y.bounds[S]=f[S]=w;break;case c:if(!M(w)||(w=+w)<0||w>24)return void(y.enabled=!1);y.bounds[S]=f[S]=w}if(!1===v.autorange){var O=v.range;if(O[0]<O[1]){if(f[0]<O[0]&&f[1]>O[1])return void(y.enabled=!1)}else if(f[0]>O[0]&&f[1]<O[1])return void(y.enabled=!1)}}else{var P=_("values");if(!P||!P.length)return void(y.enabled=!1);_("dvalue")}}}ee.exports=function(m,y,v,_,f){var S,w=_.letter,E=_.font||{},C=_.splomStash||{},O=v("visible",!_.visibleDflt),P=y._template||{},R=y.type||P.type||"-";"date"===R&&(k.getComponentMethod("calendars","handleDefaults")(m,y,"calendar",_.calendar),_.noTicklabelmode||(S=v("ticklabelmode")));var j="";_.noTicklabelposition&&"multicategory"!==R||(j=a.coerce(m,y,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===S?["outside","inside"]:"x"===w?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),_.noTicklabeloverflow||v("ticklabeloverflow",-1!==j.indexOf("inside")?"hide past domain":"category"===R||"multicategory"===R?"allow":"hide past div"),u(y,f),l(m,y,v,_),r(m,y,v,_),"category"===R||_.noHover||v("hoverformat");var z=v("color"),N=z!==p.color.dflt?z:E.color,Y=C.label||f._dfltTitle[w];if(n(m,y,v,R,_),!O)return y;v("title.text",Y),a.coerceFont(v,"title.font",{family:E.family,size:a.bigFont(E.size),color:N}),s(m,y,v,R);var F=_.hasMinor;if(F&&(T.newContainer(y,"minor"),s(m,y,v,R,{isMinor:!0})),i(m,y,v,R,_),t(m,y,v,_),F){var U=_.isMinor;_.isMinor=!0,t(m,y,v,_),_.isMinor=U}o(m,y,v,{dfltColor:z,bgColor:_.bgColor,showGrid:_.showGrid,hasMinor:F,attributes:p}),!F||y.minor.ticks||y.minor.showgrid||delete y.minor,(y.showline||y.ticks)&&v("mirror");var V,te="multicategory"===R;if(_.noTickson||"category"!==R&&!te||!y.ticks&&!y.showgrid||(te&&(V="boundaries"),"boundaries"===v("tickson",V)&&delete y.ticklabelposition),te&&v("showdividers")&&(v("dividercolor"),v("dividerwidth")),"date"===R)if(b(m,y,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:x}),y.rangebreaks.length){for(var $=0;$<y.rangebreaks.length;$++)if(y.rangebreaks[$].pattern===d){y._hasDayOfWeekBreaks=!0;break}if(u(y,f),f._has("scattergl")||f._has("splom"))for(var X=0;X<_.data.length;X++){var W=_.data[X];"scattergl"!==W.type&&"splom"!==W.type||(W.visible=!1,a.warn(W.type+" traces do not work on axes with rangebreaks. Setting trace "+W.index+" to `visible: false`."))}}else delete y.rangebreaks;return y};var g={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function h(m){if("string"==typeof m)return g[m.substr(0,3).toLowerCase()]}},12663:function(ee,D,e){"use strict";var M=e(31562),k=M.FORMAT_LINK,a=M.DATE_FORMAT_LINK;function T(p,s){return["Sets the "+p+" formatting rule"+(s?"for `"+s+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+k+"."].join(" ")}function b(p,s){return T(p,s)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}ee.exports={axisHoverFormat:function(p,s){return{valType:"string",dflt:"",editType:"none",description:(s?T:b)("hover text",p)+["By default the values are formatted using "+(s?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:T,descriptionWithDates:b}},41675:function(ee,D,e){"use strict";var M=e(73972),k=e(85555);function a(T,b){if(b&&b.length)for(var p=0;p<b.length;p++)if(b[p][T])return!0;return!1}D.id2name=function(T){if("string"==typeof T&&T.match(k.AX_ID_PATTERN)){var b=T.split(" ")[0].substr(1);return"1"===b&&(b=""),T.charAt(0)+"axis"+b}},D.name2id=function(T){if(T.match(k.AX_NAME_PATTERN)){var b=T.substr(5);return"1"===b&&(b=""),T.charAt(0)+b}},D.cleanId=function(T,b,p){var s=/( domain)$/.test(T);if("string"==typeof T&&T.match(k.AX_ID_PATTERN)&&(!b||T.charAt(0)===b)&&(!s||p)){var t=T.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===t&&(t=""),T.charAt(0)+t+(s&&p?" domain":"")}},D.list=function(T,b,p){var s=T._fullLayout;if(!s)return[];var t,i=D.listIds(T,b),n=new Array(i.length);for(t=0;t<i.length;t++){var r=i[t];n[t]=s[r.charAt(0)+"axis"+r.substr(1)]}if(!p){var o=s._subplots.gl3d||[];for(t=0;t<o.length;t++){var l=s[o[t]];b?n.push(l[b+"axis"]):n.push(l.xaxis,l.yaxis,l.zaxis)}}return n},D.listIds=function(T,b){var p=T._fullLayout;if(!p)return[];var s=p._subplots;return b?s[b+"axis"]:s.xaxis.concat(s.yaxis)},D.getFromId=function(T,b,p){var s=T._fullLayout;return b=void 0===b||"string"!=typeof b?b:b.replace(" domain",""),"x"===p?b=b.replace(/y[0-9]*/,""):"y"===p&&(b=b.replace(/x[0-9]*/,"")),s[D.id2name(b)]},D.getFromTrace=function(T,b,p){var s=T._fullLayout,t=null;if(M.traceIs(b,"gl3d")){var i=b.scene;"scene"===i.substr(0,5)&&(t=s[i][p+"axis"])}else t=D.getFromId(T,b[p+"axis"]||p);return t},D.idSort=function(T,b){var p=T.charAt(0),s=b.charAt(0);return p!==s?p>s?1:-1:+(T.substr(1)||1)-+(b.substr(1)||1)},D.ref2id=function(T){return!!/^[xyz]/.test(T)&&T.split(" ")[0]},D.isLinked=function(T,b){return a(b,T._axisMatchGroups)||a(b,T._axisConstraintGroups)}},15258:function(ee,D,e){"use strict";var M=e(73627).isTypedArraySpec;ee.exports=function(k,a,T,b){if("category"===a.type){var p,s=k.categoryarray,t=Array.isArray(s)&&s.length>0||M(s);t&&(p="array");var i,n=T("categoryorder",p);"array"===n&&(i=T("categoryarray")),t||"array"!==n||(n=a.categoryorder="trace"),"trace"===n?a._initialCategories=[]:"array"===n?a._initialCategories=i.slice():(i=function(r,o){var l,u,d,c=o.dataAttr||r._id.charAt(0),x={};if(o.axData)l=o.axData;else for(l=[],u=0;u<o.data.length;u++){var g=o.data[u];g[c+"axis"]===r._id&&l.push(g)}for(u=0;u<l.length;u++){var h=l[u][c];for(d=0;d<h.length;d++){var m=h[d];null!=m&&(x[m]=1)}}return Object.keys(x)}(a,b).sort(),"category ascending"===n?a._initialCategories=i:"category descending"===n&&(a._initialCategories=i.reverse()))}}},66287:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(50606),T=a.ONEDAY,b=a.ONEWEEK;D.dtick=function(p,s){var t="log"===s,i="date"===s,n="category"===s,r=i?T:1;if(!p)return r;if(M(p))return(p=Number(p))<=0?r:n?Math.max(1,Math.round(p)):i?Math.max(.1,p):p;if("string"!=typeof p||!i&&!t)return r;var o=p.charAt(0),l=p.substr(1);return(l=M(l)?Number(l):0)<=0||!(i&&"M"===o&&l===Math.round(l)||t&&"L"===o||t&&"D"===o&&(1===l||2===l))?r:p},D.tick0=function(p,s,t,i){return"date"===s?k.cleanDate(p,k.dateTick0(t,i%b==0?1:0)):"D1"!==i&&"D2"!==i?M(p)?Number(p):0:void 0}},85555:function(ee,D,e){"use strict";var M=e(30587).counter;ee.exports={idRegex:{x:M("x","( domain)?"),y:M("y","( domain)?")},attrRegex:M("[xy]axis"),xAxisMatch:M("xaxis"),yAxisMatch:M("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(ee,D,e){"use strict";var M=e(71828),k=e(71739),a=e(41675).id2name,T=e(13838),b=e(42449),p=e(21994),s=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;function i(c,x,g){var h=g.axIds,m=g.layoutOut,y=g.hasImage,v=m._axisConstraintGroups,_=m._axisMatchGroups,f=x._id,S=f.charAt(0),w=((m._splomAxes||{})[S]||{})[f]||{},E=x._id,C="x"===E.charAt(0);function O(J,Q){return M.coerce(c,x,T,J,Q)}x._matchGroup=null,x._constraintGroup=null,O("constrain",y?"domain":"range"),M.coerce(c,x,{constraintoward:{valType:"enumerated",values:C?["left","center","right"]:["bottom","middle","top"],dflt:C?"center":"middle"}},"constraintoward");var P,R,j=x.type,z=[];for(P=0;P<h.length;P++)(R=h[P])!==E&&m[a(R)].type===j&&z.push(R);var N=r(v,E);if(N){var Y=[];for(P=0;P<z.length;P++)N[R=z[P]]||Y.push(R);z=Y}var F,U,V=z.length;V&&(c.matches||w.matches)&&(F=M.coerce(c,x,{matches:{valType:"enumerated",values:z,dflt:-1!==z.indexOf(w.matches)?w.matches:void 0}},"matches"));var te=y&&!C?x.anchor:void 0;if(V&&!F&&(c.scaleanchor||te)&&(U=M.coerce(c,x,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",te)),F){x._matchGroup=o(_,E,F,1);var $=m[a(F)],X=n(m,x)/n(m,$);C!==("x"===F.charAt(0))&&(X=(C?"x":"y")+X),o(v,E,F,X)}else c.matches&&-1!==h.indexOf(c.matches)&&M.warn("ignored "+x._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(U){var W=O("scaleratio");W||(W=x.scaleratio=1),o(v,E,U,W)}else c.scaleanchor&&-1!==h.indexOf(c.scaleanchor)&&M.warn("ignored "+x._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function n(c,x){var g=x.domain;return g||(g=c[a(x.overlaying)].domain),g[1]-g[0]}function r(c,x){for(var g=0;g<c.length;g++)if(c[g][x])return c[g];return null}function o(c,x,g,h){var m,y,v,_,f,S=r(c,x);null===S?((S={})[x]=1,f=c.length,c.push(S)):f=c.indexOf(S);var w=Object.keys(S);for(m=0;m<c.length;m++)if(v=c[m],m!==f&&v[g]){var E=v[g];for(y=0;y<w.length;y++)v[_=w[y]]=l(E,l(h,S[_]));return void c.splice(f,1)}if(1!==h)for(y=0;y<w.length;y++){var C=w[y];S[C]=l(h,S[C])}S[g]=1}function l(c,x){var g,h,m="",y="";"string"==typeof c&&(g=(m=c.match(/^[xy]*/)[0]).length,c=+c.substr(g)),"string"==typeof x&&(h=(y=x.match(/^[xy]*/)[0]).length,x=+x.substr(h));var v=c*x;return g||h?g&&h&&m.charAt(0)!==y.charAt(0)?g===h?v:(g>h?m.substr(h):y.substr(g))+v:m+y+c*x:v}function u(c,x){for(var g=x._size,h=g.h/g.w,m={},y=Object.keys(c),v=0;v<y.length;v++){var _=y[v],f=c[_];if("string"==typeof f){var S=f.match(/^[xy]*/)[0],w=S.length;f=+f.substr(w);for(var E="y"===S.charAt(0)?h:1/h,C=0;C<w;C++)f*=E}m[_]=f}return m}function d(c,x){var g=c._inputDomain,h=t[c.constraintoward],m=g[0]+(g[1]-g[0])*h;c.domain=c._input.domain=[m+(g[0]-m)/x,m+(g[1]-m)/x],c.setScale()}D.handleDefaults=function(c,x,g){var h,m,y,v,_,f,S,w,E=g.axIds,C=g.axHasImage,O=x._axisConstraintGroups=[],P=x._axisMatchGroups=[];for(h=0;h<E.length;h++)i(_=c[v=a(E[h])],f=x[v],{axIds:E,layoutOut:x,hasImage:C[v]});function R($,X){for(h=0;h<$.length;h++)for(y in m=$[h])x[a(y)][X]=m}for(R(P,"_matchGroup"),h=0;h<O.length;h++)for(y in m=O[h])if((f=x[a(y)]).fixedrange){for(var j in m){var z=a(j);!1===(c[z]||{}).fixedrange&&M.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),x[z].fixedrange=!0}break}for(h=0;h<O.length;){for(y in m=O[h]){(f=x[a(y)])._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(m).length&&(O.splice(h,1),h--);break}h++}R(O,"_constraintGroup");var N=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Y=!1,F=!1;function U(){w=f[S],"rangebreaks"===S&&(F=f._hasDayOfWeekBreaks)}for(h=0;h<P.length;h++){m=P[h];for(var V=0;V<N.length;V++){var te;for(y in S=N[V],w=null,m)if(_=c[v=a(y)],f=x[v],S in f){if(!f.matches&&(te=f,S in _)){U();break}null===w&&S in _&&U()}if("range"===S&&w&&_.range&&2===_.range.length&&null!==_.range[0]&&null!==_.range[1]&&(Y=!0),"autorange"===S&&null===w&&Y&&(w=!1),null===w&&S in te&&(w=te[S]),null!==w)for(y in m)(f=x[a(y)])[S]="range"===S?w.slice():w,"rangebreaks"===S&&(f._hasDayOfWeekBreaks=F,p(f,x))}}},D.enforce=function(c){var x,g,h,m,y,v,_,f,S=c._fullLayout,w=S._axisConstraintGroups||[];for(x=0;x<w.length;x++){h=u(w[x],S);var E=Object.keys(h),C=1/0,O=0,P=1/0,R={},j={},z=!1;for(g=0;g<E.length;g++)j[m=E[g]]=y=S[a(m)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),R[m]=v=Math.abs(y._m)/h[m],C=Math.min(C,v),"domain"!==y.constrain&&y._constraintShrinkable||(P=Math.min(P,v)),delete y._constraintShrinkable,O=Math.max(O,v),"domain"===y.constrain&&(z=!0);if(!(C>s*O)||z)for(g=0;g<E.length;g++)if(v=R[m=E[g]],_=(y=j[m]).constrain,v!==P||"domain"===_)if(f=v/P,"range"===_)b(y,f);else{var N=y._inputDomain,Y=(y.domain[1]-y.domain[0])/(N[1]-N[0]),F=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if((f/=Y)*F<1){y.domain=y._input.domain=N.slice(),b(y,f);continue}if(F<1&&(y.range=y._input.range=y._inputRange.slice(),f*=F),y.autorange){var U=y.r2l(y.range[0]),V=y.r2l(y.range[1]),te=(U+V)/2,$=te,X=te,W=Math.abs(V-te),J=te-W*f*1.0001,Q=te+W*f*1.0001,re=k.makePadFn(S,y,0),ae=k.makePadFn(S,y,1);d(y,f);var oe,ue,ve=Math.abs(y._m),be=k.concatExtremes(c,y),de=be.min,pe=be.max;for(ue=0;ue<de.length;ue++)(oe=de[ue].val-re(de[ue])/ve)>J&&oe<$&&($=oe);for(ue=0;ue<pe.length;ue++)(oe=pe[ue].val+ae(pe[ue])/ve)<Q&&oe>X&&(X=oe);f/=(X-$)/(2*W),$=y.l2r($),X=y.l2r(X),y.range=y._input.range=U<V?[$,X]:[X,$]}d(y,f)}}},D.getAxisGroup=function(c,x){for(var g=c._axisMatchGroups,h=0;h<g.length;h++)if(g[h][x])return"g"+h;return x},D.clean=function(c,x){if(x._inputDomain){for(var g=!1,h=x._id,m=c._fullLayout._axisConstraintGroups,y=0;y<m.length;y++)if(m[y][h]){g=!0;break}g&&"domain"===x.constrain||(x._input.domain=x.domain=x._inputDomain,delete x._inputDomain)}}},29323:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=k.numberFormat,T=e(84267),b=e(38520),p=e(73972),s=k.strTranslate,t=e(63893),i=e(7901),n=e(91424),r=e(30211),o=e(89298),l=e(6964),u=e(28569),d=e(64505),c=d.selectingOrDrawing,x=d.freeMode,g=e(18783).FROM_TL,h=e(33306),m=e(61549).redrawReglTraces,y=e(74875),v=e(41675).getFromId,_=e(47322).prepSelect,f=e(47322).clearOutline,S=e(47322).selectOnClick,w=e(42449),E=e(85555),C=E.MINDRAG,O=E.MINZOOM,P=!0;function R(oe,ue,ve,be){var de=k.ensureSingle(oe.draglayer,ue,ve,function(pe){pe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",oe.id)});return de.call(l,be),de.node()}function j(oe,ue,ve,be,de,pe,ge){var Ae=R(oe,"rect",ue,ve);return M.select(Ae).call(n.setRect,be,de,pe,ge),Ae}function z(oe,ue){for(var ve=0;ve<oe.length;ve++)if(!oe[ve].fixedrange)return ue;return""}function N(oe,ue,ve,be,de){for(var pe=0;pe<oe.length;pe++){var ge=oe[pe];if(!ge.fixedrange)if(ge.rangebreaks){var Ae="y"===ge._id.charAt(0),ye=Ae?1-ue:ue,we=Ae?1-ve:ve;be[ge._name+".range[0]"]=ge.l2r(ge.p2l(ye*ge._length)),be[ge._name+".range[1]"]=ge.l2r(ge.p2l(we*ge._length))}else{var se=ge._rl[0],ie=ge._rl[1]-se;be[ge._name+".range[0]"]=ge.l2r(se+ie*ue),be[ge._name+".range[1]"]=ge.l2r(se+ie*ve)}}if(de&&de.length){var he=(ue+(1-ve))/2;N(de,he,1-he,be,[])}}function Y(oe,ue){for(var ve=0;ve<oe.length;ve++){var be=oe[ve];if(!be.fixedrange){if(be.rangebreaks){var de=be._length,pe=(be.p2l(0+ue)-be.p2l(0)+(be.p2l(de+ue)-be.p2l(de)))/2;be.range=[be.l2r(be._rl[0]-pe),be.l2r(be._rl[1]-pe)]}else be.range=[be.l2r(be._rl[0]-ue/be._m),be.l2r(be._rl[1]-ue/be._m)];be.limitRange&&be.limitRange()}}}function F(oe){return 1-(oe>=0?Math.min(oe,.9):1/(1/Math.max(oe,-.3)+3.222))}function U(oe,ue,ve,be,de){return oe.append("path").attr("class","zoombox").style({fill:ue>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(ve,be)).attr("d",de+"Z")}function V(oe,ue,ve){return oe.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(ue,ve)).attr("d","M0,0Z")}function te(oe,ue,ve,be,de,pe){oe.attr("d",be+"M"+ve.l+","+ve.t+"v"+ve.h+"h"+ve.w+"v-"+ve.h+"h-"+ve.w+"Z"),$(oe,ue,de,pe)}function $(oe,ue,ve,be){ve||(oe.transition().style("fill",be>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ue.transition().style("opacity",1).duration(200))}function X(oe){M.select(oe).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function W(oe){P&&oe.data&&oe._context.showTips&&(k.notifier(k._(oe,"Double-click to zoom back out"),"long"),P=!1)}function J(oe){var ue=Math.floor(Math.min(oe.b-oe.t,oe.r-oe.l,O)/2);return"M"+(oe.l-3.5)+","+(oe.t-.5+ue)+"h3v"+-ue+"h"+ue+"v-3h-"+(ue+3)+"ZM"+(oe.r+3.5)+","+(oe.t-.5+ue)+"h-3v"+-ue+"h"+-ue+"v-3h"+(ue+3)+"ZM"+(oe.r+3.5)+","+(oe.b+.5-ue)+"h-3v"+ue+"h"+-ue+"v3h"+(ue+3)+"ZM"+(oe.l-3.5)+","+(oe.b+.5-ue)+"h3v"+ue+"h"+ue+"v3h-"+(ue+3)+"Z"}function Q(oe,ue,ve,be,de){for(var pe,ge,Ae,ye,we=!1,se={},ie={},he=(de||{}).xaHash,Se=(de||{}).yaHash,_e=0;_e<ue.length;_e++){var Me=ue[_e];for(pe in ve)if(Me[pe]){for(Ae in Me)de&&(he[Ae]||Se[Ae])||("x"===Ae.charAt(0)?ve:be)[Ae]||(se[Ae]=pe);for(ge in be)de&&(he[ge]||Se[ge])||!Me[ge]||(we=!0)}for(ge in be)if(Me[ge])for(ye in Me)de&&(he[ye]||Se[ye])||("x"===ye.charAt(0)?ve:be)[ye]||(ie[ye]=ge)}we&&(k.extendFlat(se,ie),ie={});var Ee={},Ie=[];for(Ae in se){var fe=v(oe,Ae);Ie.push(fe),Ee[fe._id]=fe}var xe={},Te=[];for(ye in ie){var Ce=v(oe,ye);Te.push(Ce),xe[Ce._id]=Ce}return{xaHash:Ee,yaHash:xe,xaxes:Ie,yaxes:Te,xLinks:se,yLinks:ie,isSubplotConstrained:we}}function re(oe,ue){if(b){var ve=void 0!==oe.onwheel?"wheel":"mousewheel";oe._onwheel&&oe.removeEventListener(ve,oe._onwheel),oe._onwheel=ue,oe.addEventListener(ve,ue,{passive:!1})}else void 0!==oe.onwheel?oe.onwheel=ue:void 0!==oe.onmousewheel?oe.onmousewheel=ue:oe.isAddedWheelEvent||(oe.isAddedWheelEvent=!0,oe.addEventListener("wheel",ue,{passive:!1}))}function ae(oe){var ue=[];for(var ve in oe)ue.push(oe[ve]);return ue}ee.exports={makeDragBox:function(oe,ue,ve,be,de,pe,ge,Ae){var ye,we,se,ie,he,Se,_e,Me,Ee,Ie,fe,xe,Te,Ce,De,ze,Ue,Ve,Xe,at,st,ht,bt,vt=oe._fullLayout._zoomlayer,Qe=ge+Ae==="nsew",nt=1===(ge+Ae).length;function wt(){if(ye=ue.xaxis,we=ue.yaxis,Ee=ye._length,Ie=we._length,_e=ye._offset,Me=we._offset,(se={})[ye._id]=ye,(ie={})[we._id]=we,ge&&Ae)for(var Ht=ue.overlays,nn=0;nn<Ht.length;nn++){var Kt=Ht[nn].xaxis;se[Kt._id]=Kt;var an=Ht[nn].yaxis;ie[an._id]=an}he=ae(se),Se=ae(ie),Te=z(he,Ae),Ce=z(Se,ge),De=!Ce&&!Te,xe=Q(oe,oe._fullLayout._axisMatchGroups,se,ie);var xn=(fe=Q(oe,oe._fullLayout._axisConstraintGroups,se,ie,xe)).isSubplotConstrained||xe.isSubplotConstrained;ze=Ae||xn,Ue=ge||xn;var _n=oe._fullLayout;Ve=_n._has("scattergl"),Xe=_n._has("splom"),at=_n._has("svg")}ve+=ue.yaxis._shift,wt();var Ht,nn,Kt,Ot=(Ht=Ce+Te,nn=oe._fullLayout.dragmode,Kt=Qe,Ht?"nsew"===Ht?Kt?"":"pan"===nn?"move":"crosshair":Ht.toLowerCase()+"-resize":"pointer"),Pt=j(ue,ge+Ae+"drag",Ot,ve,be,de,pe);if(De&&!Qe)return Pt.onmousedown=null,Pt.style.pointerEvents="none",Pt;var St,qe,Ze,Ne,Ge,rt,tt,Re,Fe,et,We={element:Pt,gd:oe,plotinfo:ue};function ct(){We.plotinfo.selection=!1,f(oe)}function pt(Ht,nn){var Bn,er,or,$n,qn,Kt=We.gd;if(Kt._fullLayout._activeShapeIndex>=0)Kt._fullLayout._deactivateShape(Kt);else{var an=Kt._fullLayout.clickmode;if(X(Kt),2!==Ht||nt||Vt(),Qe)an.indexOf("select")>-1&&S(nn,Kt,he,Se,ue.id,We),an.indexOf("event")>-1&&r.click(Kt,nn,ue.id);else if(1===Ht&&nt){var xn=ge?we:ye,_n="s"===ge||"w"===Ae?0:1,mn=xn._name+".range["+_n+"]",An=(er=_n,$n=(Bn=xn).range[er],qn=Math.abs($n-Bn.range[1-er]),"date"===Bn.type?$n:"log"===Bn.type?(or=Math.ceil(Math.max(0,-Math.log(qn)/Math.LN10))+3,a("."+or+"g")(Math.pow(10,$n))):(or=Math.floor(Math.log(Math.abs($n))/Math.LN10)-Math.floor(Math.log(qn)/Math.LN10)+4,a("."+String(or)+"g")($n))),vn="left",On="middle";if(xn.fixedrange)return;ge?(On="n"===ge?"top":"bottom","right"===xn.side&&(vn="right")):"e"===Ae&&(vn="right"),Kt._context.showAxisRangeEntryBoxes&&M.select(Pt).call(t.makeEditable,{gd:Kt,immediate:!0,background:Kt._fullLayout.paper_bgcolor,text:String(An),fill:xn.tickfont?xn.tickfont.color:"#444",horizontalAlign:vn,verticalAlign:On}).on("edit",function(Bn){var er=xn.d2r(Bn);void 0!==er&&p.call("_guiRelayout",Kt,mn,er)})}}}function dt(Ht,nn){if(oe._transitioningWithDuration)return!1;var On,Bn,Kt=Math.max(0,Math.min(Ee,ht*Ht+St)),an=Math.max(0,Math.min(Ie,bt*nn+qe)),xn=Math.abs(Kt-St),_n=Math.abs(an-qe);function mn(){tt="",Ze.r=Ze.l,Ze.t=Ze.b,Fe.attr("d","M0,0Z")}if(Ze.l=Math.min(St,Kt),Ze.r=Math.max(St,Kt),Ze.t=Math.min(qe,an),Ze.b=Math.max(qe,an),fe.isSubplotConstrained)xn>O||_n>O?(tt="xy",xn/Ee>_n/Ie?(_n=xn*Ie/Ee,qe>an?Ze.t=qe-_n:Ze.b=qe+_n):(xn=_n*Ee/Ie,St>Kt?Ze.l=St-xn:Ze.r=St+xn),Fe.attr("d",J(Ze))):mn();else if(xe.isSubplotConstrained)if(xn>O||_n>O){tt="xy";var An=Math.min(Ze.l/Ee,(Ie-Ze.b)/Ie),vn=Math.max(Ze.r/Ee,(Ie-Ze.t)/Ie);Ze.l=An*Ee,Ze.r=vn*Ee,Ze.b=(1-An)*Ie,Ze.t=(1-vn)*Ie,Fe.attr("d",J(Ze))}else mn();else!Ce||_n<Math.min(Math.max(.6*xn,C),O)?xn<C||!Te?mn():(Ze.t=0,Ze.b=Ie,tt="x",Fe.attr("d",(Bn=qe,"M"+((On=Ze).l-.5)+","+(Bn-O-.5)+"h-3v"+(2*O+1)+"h3ZM"+(On.r+.5)+","+(Bn-O-.5)+"h3v"+(2*O+1)+"h-3Z"))):!Te||xn<Math.min(.6*_n,O)?(Ze.l=0,Ze.r=Ee,tt="y",Fe.attr("d",function(On,Bn){return"M"+(Bn-O-.5)+","+(On.t-.5)+"v-3h"+(2*O+1)+"v3ZM"+(Bn-O-.5)+","+(On.b+.5)+"v3h"+(2*O+1)+"v-3Z"}(Ze,St))):(tt="xy",Fe.attr("d",J(Ze)));Ze.w=Ze.r-Ze.l,Ze.h=Ze.b-Ze.t,tt&&(et=!0),oe._dragged=et,te(Re,Fe,Ze,Ge,rt,Ne),ut(),oe.emit("plotly_relayouting",st),rt=!0}function ut(){st={},"xy"!==tt&&"x"!==tt||(N(he,Ze.l/Ee,Ze.r/Ee,st,fe.xaxes),qt("x",st)),"xy"!==tt&&"y"!==tt||(N(Se,(Ie-Ze.b)/Ie,(Ie-Ze.t)/Ie,st,fe.yaxes),qt("y",st))}function kt(){ut(),X(oe),Ft(),W(oe)}We.prepFn=function(Ht,nn,Kt){var an=We.dragmode,xn=oe._fullLayout.dragmode;xn!==an&&(We.dragmode=xn),wt(),ht=oe._fullLayout._invScaleX,bt=oe._fullLayout._invScaleY,De||(Qe?Ht.shiftKey?"pan"===xn?xn="zoom":c(xn)||(xn="pan"):Ht.ctrlKey&&(xn="pan"):xn="pan"),x(xn)?We.minDrag=1:We.minDrag=void 0,c(xn)?(We.xaxes=he,We.yaxes=Se,_(Ht,nn,Kt,We,xn)):(We.clickFn=pt,c(an)&&ct(),De||("zoom"===xn?(We.moveFn=dt,We.doneFn=kt,We.minDrag=1,function(_n,mn,An){var vn=Pt.getBoundingClientRect();St=mn-vn.left,qe=An-vn.top,oe._fullLayout._calcInverseTransform(oe);var On=k.apply3DTransform(oe._fullLayout._invTransform)(St,qe);St=On[0],qe=On[1],Ze={l:St,r:St,w:0,t:qe,b:qe,h:0},Ne=oe._hmpixcount?oe._hmlumcount/oe._hmpixcount:T(oe._fullLayout.plot_bgcolor).getLuminance(),rt=!1,tt="xy",et=!1,Re=U(vt,Ne,_e,Me,Ge="M0,0H"+Ee+"V"+Ie+"H0V0"),Fe=V(vt,_e,Me)}(0,nn,Kt)):"pan"===xn&&(We.moveFn=It,We.doneFn=Ft))),oe._fullLayout._redrag=function(){var _n=oe._dragdata;if(_n&&_n.element===Pt){var mn=oe._fullLayout.dragmode;c(mn)||(wt(),en([0,0,Ee,Ie]),We.moveFn(_n.dx,_n.dy))}}},u.init(We);var yt=[0,0,Ee,Ie],gt=null,At=E.REDRAWDELAY,Lt=ue.mainplot?oe._fullLayout._plots[ue.mainplot]:ue;function It(Ht,nn){if(Ht*=ht,nn*=bt,!oe._transitioningWithDuration){if(oe._fullLayout._replotting=!0,"ew"===Te||"ns"===Ce){var Kt=Te?-Ht:0,an=Ce?-nn:0;if(xe.isSubplotConstrained){if(Te&&Ce){var xn=(Ht/Ee-nn/Ie)/2;Kt=-(Ht=xn*Ee),an=-(nn=-xn*Ie)}Ce?Kt=-an*Ee/Ie:an=-Kt*Ie/Ee}return Te&&(Y(he,Ht),qt("x")),Ce&&(Y(Se,nn),qt("y")),en([Kt,an,Ee,Ie]),Qt(),void oe.emit("plotly_relayouting",st)}var _n,mn,An="w"===Te==("n"===Ce)?1:-1;if(Te&&Ce&&(fe.isSubplotConstrained||xe.isSubplotConstrained)){var vn=(Ht/Ee+An*nn/Ie)/2;Ht=vn*Ee,nn=An*vn*Ie}if("w"===Te?Ht=or(he,0,Ht):"e"===Te?Ht=or(he,1,-Ht):Te||(Ht=0),"n"===Ce?nn=or(Se,1,nn):"s"===Ce?nn=or(Se,0,-nn):Ce||(nn=0),_n="w"===Te?Ht:0,mn="n"===Ce?nn:0,fe.isSubplotConstrained&&!xe.isSubplotConstrained||xe.isSubplotConstrained&&Te&&Ce&&An>0){var On;if(xe.isSubplotConstrained||!Te&&1===Ce.length){for(On=0;On<he.length;On++)he[On].range=he[On]._r.slice(),w(he[On],1-nn/Ie);_n=(Ht=nn*Ee/Ie)/2}if(xe.isSubplotConstrained||!Ce&&1===Te.length){for(On=0;On<Se.length;On++)Se[On].range=Se[On]._r.slice(),w(Se[On],1-Ht/Ee);mn=(nn=Ht*Ie/Ee)/2}}xe.isSubplotConstrained&&Ce||qt("x"),xe.isSubplotConstrained&&Te||qt("y");var Bn=Ee-Ht,er=Ie-nn;!xe.isSubplotConstrained||Te&&Ce||(Te?(mn=_n?0:Ht*Ie/Ee,er=Bn*Ie/Ee):(_n=mn?0:nn*Ee/Ie,Bn=er*Ee/Ie)),en([_n,mn,Bn,er]),Qt(),oe.emit("plotly_relayouting",st)}function or($n,qn,cr){for(var Nt,Jt,un=1-qn,fn=0;fn<$n.length;fn++){var Mn=$n[fn];if(!Mn.fixedrange){Nt=Mn,Jt=Mn._rl[un]+(Mn._rl[qn]-Mn._rl[un])/F(cr/Mn._length);var Fn=Mn.l2r(Jt);!1!==Fn&&void 0!==Fn&&(Mn.range[qn]=Fn)}}return Nt._length*(Nt._rl[qn]-Jt)/(Nt._rl[qn]-Nt._rl[un])}}function qt(Ht,nn){for(var Kt=xe.isSubplotConstrained?{x:Se,y:he}[Ht]:xe[Ht+"axes"],an=xe.isSubplotConstrained?{x:he,y:Se}[Ht]:[],xn=0;xn<Kt.length;xn++){var _n=Kt[xn],mn=_n._id,An=xe.xLinks[mn]||xe.yLinks[mn],vn=an[0]||se[An]||ie[An];vn&&(nn?(nn[_n._name+".range[0]"]=nn[vn._name+".range[0]"],nn[_n._name+".range[1]"]=nn[vn._name+".range[1]"]):_n.range=vn.range.slice())}}function Qt(){var Ht,nn=[];function Kt(mn){for(Ht=0;Ht<mn.length;Ht++)mn[Ht].fixedrange||nn.push(mn[Ht]._id)}function an(mn,An){for(Ht=0;Ht<mn.length;Ht++){var vn=mn[Ht],On=vn[An];vn.fixedrange||"sync"!==On.tickmode||nn.push(On._id)}}for(ze&&(Kt(he),Kt(fe.xaxes),Kt(xe.xaxes),an(ue.overlays,"xaxis")),Ue&&(Kt(Se),Kt(fe.yaxes),Kt(xe.yaxes),an(ue.overlays,"yaxis")),st={},Ht=0;Ht<nn.length;Ht++){var xn=nn[Ht],_n=v(oe,xn);o.drawOne(oe,_n,{skipTitle:!0}),st[_n._name+".range[0]"]=_n.range[0],st[_n._name+".range[1]"]=_n.range[1]}o.redrawComponents(oe,nn)}function Vt(){if(!oe._transitioningWithDuration){var Ht=oe._context.doubleClick,nn=[];Te&&(nn=nn.concat(he)),Ce&&(nn=nn.concat(Se)),xe.xaxes&&(nn=nn.concat(xe.xaxes)),xe.yaxes&&(nn=nn.concat(xe.yaxes));var Kt,an,xn={};if("reset+autosize"===Ht)for(Ht="autosize",an=0;an<nn.length;an++){var _n=(Kt=nn[an])._rangeInitial0,mn=Kt._rangeInitial1,An=void 0!==_n||void 0!==mn;if(An&&(void 0!==_n&&_n!==Kt.range[0]||void 0!==mn&&mn!==Kt.range[1])||!An&&!0!==Kt.autorange){Ht="reset";break}}if("autosize"===Ht)for(an=0;an<nn.length;an++)(Kt=nn[an]).fixedrange||(xn[Kt._name+".autorange"]=!0);else if("reset"===Ht)for((Te||fe.isSubplotConstrained)&&(nn=nn.concat(fe.xaxes)),Ce&&!fe.isSubplotConstrained&&(nn=nn.concat(fe.yaxes)),fe.isSubplotConstrained&&(Te?Ce||(nn=nn.concat(Se)):nn=nn.concat(he)),an=0;an<nn.length;an++)if(!(Kt=nn[an]).fixedrange){var vn=Kt._name,On=Kt._autorangeInitial;void 0===Kt._rangeInitial0&&void 0===Kt._rangeInitial1?xn[vn+".autorange"]=!0:void 0===Kt._rangeInitial0?(xn[vn+".autorange"]=On,xn[vn+".range"]=[null,Kt._rangeInitial1]):void 0===Kt._rangeInitial1?(xn[vn+".range"]=[Kt._rangeInitial0,null],xn[vn+".autorange"]=On):xn[vn+".range"]=[Kt._rangeInitial0,Kt._rangeInitial1]}oe.emit("plotly_doubleclick",null),p.call("_guiRelayout",oe,xn)}}function Ft(){en([0,0,Ee,Ie]),k.syncOrAsync([y.previousPromises,function(){oe._fullLayout._replotting=!1,p.call("_guiRelayout",oe,st)}],oe)}function en(Ht){var nn,Kt,an,xn,_n=oe._fullLayout,mn=_n._plots,An=_n._subplots.cartesian;if(Xe&&p.subplotsRegistry.splom.drag(oe),Ve)for(nn=0;nn<An.length;nn++)if(an=(Kt=mn[An[nn]]).xaxis,xn=Kt.yaxis,Kt._scene){var vn=k.simpleMap(an.range,an.r2l),On=k.simpleMap(xn.range,xn.r2l);an.limitRange&&an.limitRange(),xn.limitRange&&xn.limitRange(),vn=an.range,On=xn.range,Kt._scene.update({range:[vn[0],On[0],vn[1],On[1]]})}if((Xe||Ve)&&(h(oe),m(oe)),at){var Bn=Ht[2]/ye._length,er=Ht[3]/we._length;for(nn=0;nn<An.length;nn++){an=(Kt=mn[An[nn]]).xaxis,xn=Kt.yaxis;var or,$n,qn,cr,Nt=(ze||xe.isSubplotConstrained)&&!an.fixedrange&&se[an._id],Jt=(Ue||xe.isSubplotConstrained)&&!xn.fixedrange&&ie[xn._id];if(Nt?(or=Bn,qn=Ae||xe.isSubplotConstrained?Ht[0]:on(an,or)):xe.xaHash[an._id]?(or=Bn,qn=Ht[0]*an._length/ye._length):xe.yaHash[an._id]?(or=er,qn="ns"===Ce?-Ht[1]*an._length/we._length:on(an,or,{n:"top",s:"bottom"}[Ce])):qn=kn(an,or=wn(an,Bn,er)),or>1&&(void 0!==an.maxallowed&&ze===(an.range[0]<an.range[1]?"e":"w")||void 0!==an.minallowed&&ze===(an.range[0]<an.range[1]?"w":"e"))&&(or=1,qn=0),Jt?($n=er,cr=ge||xe.isSubplotConstrained?Ht[1]:on(xn,$n)):xe.yaHash[xn._id]?($n=er,cr=Ht[1]*xn._length/we._length):xe.xaHash[xn._id]?($n=Bn,cr="ew"===Te?-Ht[0]*xn._length/ye._length:on(xn,$n,{e:"right",w:"left"}[Te])):cr=kn(xn,$n=wn(xn,Bn,er)),$n>1&&(void 0!==xn.maxallowed&&Ue===(xn.range[0]<xn.range[1]?"n":"s")||void 0!==xn.minallowed&&Ue===(xn.range[0]<xn.range[1]?"s":"n"))&&($n=1,cr=0),or||$n){or||(or=1),$n||($n=1);var un=an._offset-qn/or,fn=xn._offset-cr/$n;Kt.clipRect.call(n.setTranslate,qn,cr).call(n.setScale,or,$n),Kt.plot.call(n.setTranslate,un,fn).call(n.setScale,1/or,1/$n),or===Kt.xScaleFactor&&$n===Kt.yScaleFactor||(n.setPointGroupScale(Kt.zoomScalePts,or,$n),n.setTextPointsScale(Kt.zoomScaleTxt,or,$n)),n.hideOutsideRangePoints(Kt.clipOnAxisFalseTraces,Kt),Kt.xScaleFactor=or,Kt.yScaleFactor=$n}}}}function wn(Ht,nn,Kt){return Ht.fixedrange?0:ze&&fe.xaHash[Ht._id]?nn:Ue&&(fe.isSubplotConstrained?fe.xaHash:fe.yaHash)[Ht._id]?Kt:0}function kn(Ht,nn){return nn?(Ht.range=Ht._r.slice(),w(Ht,nn),on(Ht,nn)):0}function on(Ht,nn,Kt){return Ht._length*(1-nn)*g[Kt||Ht.constraintoward||"middle"]}return ge.length*Ae.length!=1&&re(Pt,function(Ht){if(oe._context._scrollZoom.cartesian||oe._fullLayout._enablescrollzoom){if(ct(),oe._transitioningWithDuration)return Ht.preventDefault(),void Ht.stopPropagation();wt(),clearTimeout(gt);var nn=-Ht.deltaY;if(isFinite(nn)||(nn=Ht.wheelDelta/10),isFinite(nn)){var Kt,an=Math.exp(-Math.min(Math.max(nn,-20),20)/200),xn=Lt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),_n=(Ht.clientX-xn.left)/xn.width,mn=(xn.bottom-Ht.clientY)/xn.height;if(ze){for(Ae||(_n=.5),Kt=0;Kt<he.length;Kt++)An(he[Kt],_n,an);qt("x"),yt[2]*=an,yt[0]+=yt[2]*_n*(1/an-1)}if(Ue){for(ge||(mn=.5),Kt=0;Kt<Se.length;Kt++)An(Se[Kt],mn,an);qt("y"),yt[3]*=an,yt[1]+=yt[3]*(1-mn)*(1/an-1)}en(yt),Qt(),oe.emit("plotly_relayouting",st),gt=setTimeout(function(){oe._fullLayout&&(yt=[0,0,Ee,Ie],Ft())},At),Ht.preventDefault()}else k.log("Did not find wheel motion attributes: ",Ht)}function An(vn,On,Bn){if(!vn.fixedrange){var er=k.simpleMap(vn.range,vn.r2l),or=er[0]+(er[1]-er[0])*On;vn.range=er.map(function($n){return vn.l2r(or+($n-or)*Bn)})}}}),Pt},makeDragger:R,makeRectDragger:j,makeZoombox:U,makeCorners:V,updateZoombox:te,xyCorners:J,transitionZoombox:$,removeZoombox:X,showDoubleClickNotifier:W,attachWheelEventHandler:re}},4305:function(ee,D,e){"use strict";var M=e(39898),k=e(30211),a=e(28569),T=e(6964),b=e(29323).makeDragBox,p=e(85555).DRAGGERSIZE;D.initInteractions=function(s){var t=s._fullLayout;if(s._context.staticPlot)M.select(s).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(n,r){if((t._plots[n].mainplot&&!0)===(t._plots[r].mainplot&&!0)){var o=n.split("y"),l=r.split("y");return o[0]===l[0]?Number(o[1]||1)-Number(l[1]||1):Number(o[0]||1)-Number(l[0]||1)}return t._plots[n].mainplot?1:-1}).forEach(function(n){var r=t._plots[n],o=r.xaxis,l=r.yaxis;if(!r.mainplot){var u=b(s,r,o._offset,l._offset,o._length,l._length,"ns","ew");u.onmousemove=function(x){s._fullLayout._rehover=function(){s._fullLayout._hoversubplot===n&&s._fullLayout._plots[n]&&k.hover(s,x,n)},k.hover(s,x,n),s._fullLayout._lasthover=u,s._fullLayout._hoversubplot=n},u.onmouseout=function(x){s._dragging||(s._fullLayout._hoversubplot=null,a.unhover(s,x))},s._context.showAxisDragHandles&&(b(s,r,o._offset-p,l._offset-p,p,p,"n","w"),b(s,r,o._offset+o._length,l._offset-p,p,p,"n","e"),b(s,r,o._offset-p,l._offset+l._length,p,p,"s","w"),b(s,r,o._offset+o._length,l._offset+l._length,p,p,"s","e"))}if(s._context.showAxisDragHandles){if(n===o._mainSubplot){var d=o._mainLinePosition;"top"===o.side&&(d-=p),b(s,r,o._offset+.1*o._length,d,.8*o._length,p,"","ew"),b(s,r,o._offset,d,.1*o._length,p,"","w"),b(s,r,o._offset+.9*o._length,d,.1*o._length,p,"","e")}if(n===l._mainSubplot){var c=l._mainLinePosition;"right"!==l.side&&(c-=p),b(s,r,c,l._offset+.1*l._length,p,.8*l._length,"ns",""),b(s,r,c,l._offset+.9*l._length,p,.1*l._length,"s",""),b(s,r,c,l._offset,p,.1*l._length,"n","")}}});var i=t._hoverlayer.node();i.onmousemove=function(n){n.target=s._fullLayout._lasthover,k.hover(s,n,t._hoversubplot)},i.onclick=function(n){n.target=s._fullLayout._lasthover,k.click(s,n)},i.onmousedown=function(n){s._fullLayout._lasthover.onmousedown(n)},D.updateFx(s)}},D.updateFx=function(s){var t=s._fullLayout,i="pan"===t.dragmode?"move":"crosshair";T(t._draggers,i)}},76325:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=e(41675);ee.exports=function(T){return function(b,p){var s=b[T];if(Array.isArray(s))for(var t=M.subplotsRegistry.cartesian,i=t.idRegex,n=p._subplots,r=n.xaxis,o=n.yaxis,l=n.cartesian,u=p._has("cartesian")||p._has("gl2d"),d=0;d<s.length;d++){var c=s[d];if(k.isPlainObject(c)){var x=a.cleanId(c.xref,"x",!1),g=a.cleanId(c.yref,"y",!1),h=i.x.test(x),m=i.y.test(g);if(h||m){u||k.pushUnique(p._basePlotModules,t);var y=!1;h&&-1===r.indexOf(x)&&(r.push(x),y=!0),m&&-1===o.indexOf(g)&&(o.push(g),y=!0),y&&h&&m&&l.push(x+g)}}}}}},93612:function(ee,D,e){"use strict";var M=e(39898),k=e(73972),a=e(71828),T=e(74875),b=e(91424),p=e(27659).a0,s=e(41675),t=e(85555),i=e(77922),n=a.ensureSingle;function r(c,x,g){return a.ensureSingle(c,x,g,function(h){h.datum(g)})}function o(c,x,g,h,m){for(var y,v,_,f=t.traceLayerClasses,S=c._fullLayout,w=S._modules,E=[],C=[],O=0;O<w.length;O++){var P=(y=w[O]).name,R=k.modules[P].categories;if(R.svg){var j=y.layerName||P+"layer",z=y.plot;_=(v=p(g,z))[0],g=v[1],_.length&&E.push({i:f.indexOf(j),className:j,plotMethod:z,cdModule:_}),R.zoomScale&&C.push("."+j)}}E.sort(function(F,U){return F.i-U.i});var N=x.plot.selectAll("g.mlayer").data(E,function(F){return F.className});if(N.enter().append("g").attr("class",function(F){return F.className}).classed("mlayer",!0).classed("rangeplot",x.isRangePlot),N.exit().remove(),N.order(),N.each(function(F){var U=M.select(this),V=F.className;F.plotMethod(c,x,F.cdModule,U,h,m),-1===t.clipOnAxisFalseQuery.indexOf("."+V)&&b.setClipUrl(U,x.layerClipId,c)}),S._has("scattergl")&&(y=k.getModule("scattergl"),_=p(g,y)[0],y.plot(c,x,_)),!c._context.staticPlot&&(x._hasClipOnAxisFalse&&(x.clipOnAxisFalseTraces=x.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),C.length)){var Y=x.plot.selectAll(C.join(",")).selectAll(".trace");x.zoomScalePts=Y.selectAll("path.point"),x.zoomScaleTxt=Y.selectAll(".textpoint")}}function l(c,x){var g=x.plotgroup,h=x.id,m=t.layerValue2layerClass[x.xaxis.layer],y=t.layerValue2layerClass[x.yaxis.layer],v=c._fullLayout._hasOnlyLargeSploms;if(x.mainplot){var _=x.mainplotinfo,f=_.plotgroup,S=h+"-x",w=h+"-y";x.minorGridlayer=_.minorGridlayer,x.gridlayer=_.gridlayer,x.zerolinelayer=_.zerolinelayer,n(_.overlinesBelow,"path",S),n(_.overlinesBelow,"path",w),n(_.overaxesBelow,"g",S),n(_.overaxesBelow,"g",w),x.plot=n(_.overplot,"g",h),n(_.overlinesAbove,"path",S),n(_.overlinesAbove,"path",w),n(_.overaxesAbove,"g",S),n(_.overaxesAbove,"g",w),x.xlines=f.select(".overlines-"+m).select("."+S),x.ylines=f.select(".overlines-"+y).select("."+w),x.xaxislayer=f.select(".overaxes-"+m).select("."+S),x.yaxislayer=f.select(".overaxes-"+y).select("."+w)}else if(v)x.xlines=n(g,"path","xlines-above"),x.ylines=n(g,"path","ylines-above"),x.xaxislayer=n(g,"g","xaxislayer-above"),x.yaxislayer=n(g,"g","yaxislayer-above");else{var E=n(g,"g","layer-subplot");x.shapelayer=n(E,"g","shapelayer"),x.imagelayer=n(E,"g","imagelayer"),x.minorGridlayer=n(g,"g","minor-gridlayer"),x.gridlayer=n(g,"g","gridlayer"),x.zerolinelayer=n(g,"g","zerolinelayer"),n(g,"path","xlines-below"),n(g,"path","ylines-below"),x.overlinesBelow=n(g,"g","overlines-below"),n(g,"g","xaxislayer-below"),n(g,"g","yaxislayer-below"),x.overaxesBelow=n(g,"g","overaxes-below"),x.plot=n(g,"g","plot"),x.overplot=n(g,"g","overplot"),x.xlines=n(g,"path","xlines-above"),x.ylines=n(g,"path","ylines-above"),x.overlinesAbove=n(g,"g","overlines-above"),n(g,"g","xaxislayer-above"),n(g,"g","yaxislayer-above"),x.overaxesAbove=n(g,"g","overaxes-above"),x.xlines=g.select(".xlines-"+m),x.ylines=g.select(".ylines-"+y),x.xaxislayer=g.select(".xaxislayer-"+m),x.yaxislayer=g.select(".yaxislayer-"+y)}v||(r(x.minorGridlayer,"g",x.xaxis._id),r(x.minorGridlayer,"g",x.yaxis._id),x.minorGridlayer.selectAll("g").map(function(C){return C[0]}).sort(s.idSort),r(x.gridlayer,"g",x.xaxis._id),r(x.gridlayer,"g",x.yaxis._id),x.gridlayer.selectAll("g").map(function(C){return C[0]}).sort(s.idSort)),x.xlines.style("fill","none").classed("crisp",!0),x.ylines.style("fill","none").classed("crisp",!0)}function u(c,x){if(c){var g={};for(var h in c.each(function(_){var f=_[0];M.select(this).remove(),d(f,x),g[f]=!0}),x._plots)for(var m=x._plots[h].overlays||[],y=0;y<m.length;y++){var v=m[y];g[v.id]&&v.plot.selectAll(".trace").remove()}}}function d(c,x){x._draggers.selectAll("g."+c).remove(),x._defs.select("#clip"+x._uid+c+"plot").remove()}D.name="cartesian",D.attr=["xaxis","yaxis"],D.idRoot=["x","y"],D.idRegex=t.idRegex,D.attrRegex=t.attrRegex,D.attributes=e(89502),D.layoutAttributes=e(13838),D.supplyLayoutDefaults=e(86763),D.transitionAxes=e(66847),D.finalizeSubplots=function(c,x){var g,h,m,y=x._subplots,v=y.xaxis,_=y.yaxis,f=y.cartesian,S=f.concat(y.gl2d||[]),w={},E={};for(g=0;g<S.length;g++){var C=S[g].split("y");w[C[0]]=1,E["y"+C[1]]=1}for(g=0;g<v.length;g++)w[h=v[g]]||(m=(c[s.id2name(h)]||{}).anchor,t.idRegex.y.test(m)||(m="y"),f.push(h+m),S.push(h+m),E[m]||(E[m]=1,a.pushUnique(_,m)));for(g=0;g<_.length;g++)E[m=_[g]]||(h=(c[s.id2name(m)]||{}).anchor,t.idRegex.x.test(h)||(h="x"),f.push(h+m),S.push(h+m),w[h]||(w[h]=1,a.pushUnique(v,h)));if(!S.length){for(var O in h="",m="",c)t.attrRegex.test(O)&&("x"===O.charAt(0)?(!h||+O.substr(5)<+h.substr(5))&&(h=O):(!m||+O.substr(5)<+m.substr(5))&&(m=O));h=h?s.name2id(h):"x",m=m?s.name2id(m):"y",v.push(h),_.push(m),f.push(h+m)}},D.plot=function(c,x,g,h){var m,y=c._fullLayout,v=y._subplots.cartesian,_=c.calcdata;if(!Array.isArray(x))for(x=[],m=0;m<_.length;m++)x.push(m);for(m=0;m<v.length;m++){for(var f,S=v[m],w=y._plots[S],E=[],C=0;C<_.length;C++){var O=_[C],P=O[0].trace;P.xaxis+P.yaxis===S&&((-1!==x.indexOf(P.index)||P.carpet)&&(f&&f[0].trace.xaxis+f[0].trace.yaxis===S&&-1!==["tonextx","tonexty","tonext"].indexOf(P.fill)&&-1===E.indexOf(f)&&E.push(f),E.push(O)),f=O)}o(c,w,E,g,h)}},D.clean=function(c,x,g,h){var m,y,v,_=h._plots||{},f=x._plots||{},S=h._subplots||{};if(h._hasOnlyLargeSploms&&!x._hasOnlyLargeSploms)for(v in _)(m=_[v]).plotgroup&&m.plotgroup.remove();var w=h._has&&h._has("gl"),E=x._has&&x._has("gl");if(w&&!E)for(v in _)(m=_[v])._scene&&m._scene.destroy();if(S.xaxis&&S.yaxis){var C=s.listIds({_fullLayout:h});for(y=0;y<C.length;y++){var O=C[y];x[s.id2name(O)]||h._infolayer.selectAll(".g-"+O+"title").remove()}}var P=h._has&&h._has("cartesian"),R=x._has&&x._has("cartesian");if(P&&!R)u(h._cartesianlayer.selectAll(".subplot"),h),h._defs.selectAll(".axesclip").remove(),delete h._axisConstraintGroups,delete h._axisMatchGroups;else if(S.cartesian)for(y=0;y<S.cartesian.length;y++){var j=S.cartesian[y];if(!f[j]){var z="."+j+",."+j+"-x,."+j+"-y";h._cartesianlayer.selectAll(z).remove(),d(j,h)}}},D.drawFramework=function(c){var x=c._fullLayout,g=function(m){var y,v,_,f,S,w,E=m._fullLayout,C=E._subplots.cartesian,O=C.length,P=[],R=[];for(y=0;y<O;y++){_=C[y],S=(f=E._plots[_]).xaxis,w=f.yaxis;var j=S._mainAxis,z=w._mainAxis,N=j._id+z._id,Y=E._plots[N];f.overlays=[],N!==_&&Y?(f.mainplot=N,f.mainplotinfo=Y,R.push(_)):(f.mainplot=void 0,f.mainplotinfo=void 0,P.push(_))}for(y=0;y<R.length;y++)_=R[y],(f=E._plots[_]).mainplotinfo.overlays.push(f);var F=P.concat(R),U=new Array(O);for(y=0;y<O;y++){_=F[y],S=(f=E._plots[_]).xaxis,w=f.yaxis;var V=[_,S.layer,w.layer,S.overlaying||"",w.overlaying||""];for(v=0;v<f.overlays.length;v++)V.push(f.overlays[v].id);U[y]=V}return U}(c),h=x._cartesianlayer.selectAll(".subplot").data(g,String);h.enter().append("g").attr("class",function(m){return"subplot "+m[0]}),h.order(),h.exit().call(u,x),h.each(function(m){var y=m[0],v=x._plots[y];v.plotgroup=M.select(this),l(c,v),v.draglayer=n(x._draggers,"g",y)})},D.rangePlot=function(c,x,g){l(c,x),o(c,x,g),T.style(c)},D.toSVG=function(c){var x=c._fullLayout._glimages,g=M.select(c).selectAll(".svg-container");g.filter(function(h,m){return m===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var h=this,m=h.toDataURL("image/png");x.append("svg:image").attr({xmlns:i.svg,"xlink:href":m,preserveAspectRatio:"none",x:0,y:0,width:h.style.width,height:h.style.height})})},D.updateFx=e(4305).updateFx},13838:function(ee,D,e){"use strict";var M=e(41940),k=e(22399),a=e(79952).P,T=e(1426).extendFlat,b=e(44467).templatedArray,p=e(12663).descriptionWithDates,s=e(50606).ONEDAY,t=e(85555),i=t.HOUR_PATTERN,n=t.WEEKDAY_PATTERN,r={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},o=T({},r,{values:r.values.slice().concat(["sync"])});function l(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},d={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},x={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function g(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=5),w}function h(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=1),w}var m={valType:"color",dflt:k.defaultLine,editType:"ticks"},y={valType:"color",dflt:k.lightLine,editType:"ticks"};function v(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=1),w}var _=T({},a,{editType:"ticks"}),f={valType:"boolean",editType:"ticks"};ee.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:k.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:M({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:b("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[n,i,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:o,nticks:l(),tick0:u,dtick:d,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:x,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:g(),tickwidth:h(),tickcolor:m,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:T({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:M({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:p("tick label")},tickformatstops:b("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:p("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:f,gridcolor:y,gridwidth:v(),griddash:_,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:r,nticks:l("minor"),tick0:u,dtick:d,tickvals:c,ticks:x,ticklen:g("minor"),tickwidth:h("minor"),tickcolor:m,gridcolor:y,gridwidth:v("minor"),griddash:_,showgrid:f,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:M({editType:"ticks"})}}},86763:function(ee,D,e){"use strict";var M=e(71828),k=e(7901),a=e(23469).isUnifiedHover,T=e(98212),b=e(44467),p=e(10820),s=e(13838),t=e(951),i=e(71453),n=e(99082),r=e(52830),o=e(41675),l=o.id2name,u=o.name2id,d=e(85555).AX_ID_PATTERN,c=e(73972),x=c.traceIs,g=c.getComponentMethod;function h(m,y,v){Array.isArray(m[y])?m[y].push(v):m[y]=[v]}ee.exports=function(m,y,v){var _,f,S=y.autotypenumbers,w={},E={},C={},O={},P={},R={},j={},z={},N={},Y={};for(_=0;_<v.length;_++){var F=v[_];if(x(F,"cartesian")||x(F,"gl2d")){var U,V;if(F.xaxis)U=l(F.xaxis),h(w,U,F);else if(F.xaxes)for(f=0;f<F.xaxes.length;f++)h(w,l(F.xaxes[f]),F);if(F.yaxis)V=l(F.yaxis),h(w,V,F);else if(F.yaxes)for(f=0;f<F.yaxes.length;f++)h(w,l(F.yaxes[f]),F);"funnel"===F.type?"h"===F.orientation?(U&&(E[U]=!0),V&&(j[V]=!0)):V&&(C[V]=!0):"image"===F.type?(V&&(z[V]=!0),U&&(z[U]=!0)):(V&&(P[V]=!0,R[V]=!0),x(F,"carpet")&&("carpet"!==F.type||F._cheater)||U&&(O[U]=!0)),"carpet"===F.type&&F._cheater&&U&&(E[U]=!0),x(F,"2dMap")&&(N[U]=!0,N[V]=!0),x(F,"oriented")&&(Y["h"===F.orientation?V:U]=!0)}}var te=y._subplots,$=te.xaxis,X=te.yaxis,W=M.simpleMap($,l),J=M.simpleMap(X,l),Q=W.concat(J),re=k.background;$.length&&X.length&&(re=M.coerce(m,y,p,"plot_bgcolor"));var ae,oe,ue,ve,be,de=k.combine(re,y.paper_bgcolor);function pe(){var nt=w[ae]||[];be._traceIndices=nt.map(function(wt){return wt._expandedIndex}),be._annIndices=[],be._shapeIndices=[],be._selectionIndices=[],be._imgIndices=[],be._subplotsWith=[],be._counterAxes=[],be._name=be._attr=ae,be._id=oe}function ge(nt,wt){return M.coerce(ve,be,s,nt,wt)}function Ae(nt,wt){return M.coerce2(ve,be,s,nt,wt)}function ye(nt){return"x"===nt?X:$}function we(nt,wt){for(var Ot="x"===nt?W:J,Pt=[],St=0;St<Ot.length;St++){var qe=Ot[St];qe===wt||(m[qe]||{}).overlaying||Pt.push(u(qe))}return Pt}var se={x:ye("x"),y:ye("y")},ie=se.x.concat(se.y),he={},Se=[];function _e(){var nt=ve.matches;d.test(nt)&&-1===ie.indexOf(nt)&&(he[nt]=ve.type,Se=Object.keys(he))}var Me=T(m,y),Ee=a(Me);for(_=0;_<Q.length;_++){ae=Q[_],oe=u(ae),ue=ae.charAt(0),M.isPlainObject(m[ae])||(m[ae]={}),ve=m[ae],be=b.newContainer(y,ae,ue+"axis"),pe();var Ie="x"===ue&&!O[ae]&&E[ae]||"y"===ue&&!P[ae]&&C[ae],fe="y"===ue&&(!R[ae]&&j[ae]||z[ae]),xe={hasMinor:!0,letter:ue,font:y.font,outerTicks:N[ae],showGrid:!Y[ae],data:w[ae]||[],bgColor:de,calendar:y.calendar,automargin:!0,visibleDflt:Ie,reverseDflt:fe,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[ue]||{})[oe]};ge("uirevision",y.uirevision),t(ve,be,ge,xe),i(ve,be,ge,xe,y);var Te=Ee&&ue===Me.charAt(0),Ce=Ae("spikecolor",Ee?be.color:void 0),De=Ae("spikethickness",Ee?1.5:void 0),ze=Ae("spikedash",Ee?"dot":void 0),Ue=Ae("spikemode",Ee?"across":void 0),Ve=Ae("spikesnap");ge("showspikes",!!(Te||Ce||De||ze||Ue||Ve))||(delete be.spikecolor,delete be.spikethickness,delete be.spikedash,delete be.spikemode,delete be.spikesnap);var Xe=l(ve.overlaying),at=[0,1];if(void 0!==y[Xe]){var st=l(y[Xe].anchor);void 0!==y[st]&&(at=y[st].domain)}r(ve,be,ge,{letter:ue,counterAxes:se[ue],overlayableAxes:we(ue,ae),grid:y.grid,overlayingDomain:at}),ge("title.standoff"),_e(),be._input=ve}for(_=0;_<Se.length;){oe=Se[_++],ue=(ae=l(oe)).charAt(0),M.isPlainObject(m[ae])||(m[ae]={}),ve=m[ae],be=b.newContainer(y,ae,ue+"axis"),pe();var ht={letter:ue,font:y.font,outerTicks:N[ae],showGrid:!Y[ae],data:[],bgColor:de,calendar:y.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[ue]||{})[oe]};ge("uirevision",y.uirevision),be.type=he[oe]||"linear",i(ve,be,ge,ht,y),r(ve,be,ge,{letter:ue,counterAxes:se[ue],overlayableAxes:we(ue,ae),grid:y.grid}),ge("fixedrange"),_e(),be._input=ve}var bt=g("rangeslider","handleDefaults"),vt=g("rangeselector","handleDefaults");for(_=0;_<W.length;_++)ae=W[_],ve=m[ae],be=y[ae],bt(m,y,ae),"date"===be.type&&vt(ve,be,y,J,be.calendar),ge("fixedrange");for(_=0;_<J.length;_++){ae=J[_],ve=m[ae],be=y[ae];var Qe=y[l(be.anchor)];ge("fixedrange",g("rangeslider","isVisible")(Qe))}n.handleDefaults(m,y,{axIds:ie.concat(Se).sort(o.idSort),axHasImage:z})}},92128:function(ee,D,e){"use strict";var M=e(84267).mix,k=e(22399),a=e(71828);ee.exports=function(T,b,p,s){var t=(s=s||{}).dfltColor;function i(m,y){return a.coerce2(T,b,s.attributes,m,y)}var n=i("linecolor",t),r=i("linewidth");p("showline",s.showLine||!!n||!!r)||(delete b.linecolor,delete b.linewidth);var o=i("gridcolor",M(t,s.bgColor,s.blend||k.lightFraction).toRgbString()),l=i("gridwidth"),u=i("griddash");if(p("showgrid",s.showGrid||!!o||!!l||!!u)||(delete b.gridcolor,delete b.gridwidth,delete b.griddash),s.hasMinor){var d=i("minor.gridcolor",M(b.gridcolor,s.bgColor,67).toRgbString()),c=i("minor.gridwidth",b.gridwidth||1),x=i("minor.griddash",b.griddash||"solid");p("minor.showgrid",!!d||!!c||!!x)||(delete b.minor.gridcolor,delete b.minor.gridwidth,delete b.minor.griddash)}if(!s.noZeroLine){var g=i("zerolinecolor",t),h=i("zerolinewidth");p("zeroline",s.showGrid||!!g||!!h)||(delete b.zerolinecolor,delete b.zerolinewidth)}}},52830:function(ee,D,e){"use strict";var M=e(92770),k=e(71828);ee.exports=function(a,T,b,p){var s,t,i,n,r,o,l=p.counterAxes||[],u=p.overlayableAxes||[],d=p.letter,c=p.grid,x=p.overlayingDomain;c&&(t=c._domains[d][c._axisMap[T._id]],s=c._anchors[T._id],t&&(i=c[d+"side"].split(" ")[0],n=c.domain[d]["right"===i||"top"===i?1:0])),t=t||[0,1],s=s||(M(a.position)?"free":l[0]||"free"),i=i||("x"===d?"bottom":"left"),n=n||0,r=0,o=!1;var g=k.coerce(a,T,{anchor:{valType:"enumerated",values:["free"].concat(l),dflt:s}},"anchor"),h=k.coerce(a,T,{side:{valType:"enumerated",values:"x"===d?["bottom","top"]:["left","right"],dflt:i}},"side");"free"===g&&("y"===d&&(b("autoshift")&&(n="left"===h?x[0]:x[1],o=!T.automargin||T.automargin,r="left"===h?-3:3),b("shift",r)),b("position",n)),b("automargin",o);var m=!1;if(u.length&&(m=k.coerce(a,T,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!m){var y=b("domain",t);y[0]>y[1]-.000244140625&&(T.domain=t),k.noneOrAll(a.domain,T.domain,t),"sync"===T.tickmode&&(T.tickmode="auto")}return b("layer"),T}},89426:function(ee,D,e){"use strict";var M=e(59652);ee.exports=function(k,a,T,b,p){p||(p={});var s=p.tickSuffixDflt,t=M(k);T("tickprefix")&&T("showtickprefix",t),T("ticksuffix",s)&&T("showticksuffix",t)}},23608:function(ee,D,e){"use strict";var M=e(23074);ee.exports=function(k,a,T,b){var p=a._template||{},s=a.type||p.type||"-";T("minallowed"),T("maxallowed");var t,i=T("range");i||b.noInsiderange||"log"===s||(!(t=T("insiderange"))||null!==t[0]&&null!==t[1]||(a.insiderange=!1,t=void 0),t&&(i=T("range",t)));var n,r=a.getAutorangeDflt(i,b),o=T("autorange",r);!i||(null!==i[0]||null!==i[1])&&(null!==i[0]&&null!==i[1]||"reversed"!==o&&!0!==o)&&(null===i[0]||"min"!==o&&"max reversed"!==o)&&(null===i[1]||"max"!==o&&"min reversed"!==o)||(i=void 0,delete a.range,a.autorange=!0,n=!0),n||(o=T("autorange",r=a.getAutorangeDflt(i,b))),o&&(M(T,o,i),"linear"!==s&&"-"!==s||T("rangemode")),a.cleanRange()}},42449:function(ee,D,e){"use strict";var M=e(18783).FROM_BL;ee.exports=function(k,a,T){void 0===T&&(T=M[k.constraintoward||"center"]);var b=[k.r2l(k.range[0]),k.r2l(k.range[1])],p=b[0]+(b[1]-b[0])*T;k.range=k._input.range=[k.l2r(p+(b[0]-p)*a),k.l2r(p+(b[1]-p)*a)],k.setScale()}},21994:function(ee,D,e){"use strict";var M=e(39898),k=e(84096).g0,a=e(71828),T=a.numberFormat,b=e(92770),p=a.cleanNumber,s=a.ms2DateTime,t=a.dateTime2ms,i=a.ensureNumber,n=a.isArrayOrTypedArray,r=e(50606),o=r.FP_SAFE,l=r.BADNUM,u=r.LOG_CLIP,d=r.ONEWEEK,c=r.ONEDAY,x=r.ONEHOUR,g=r.ONEMIN,h=r.ONESEC,m=e(41675),y=e(85555),v=y.HOUR_PATTERN,_=y.WEEKDAY_PATTERN;function f(w){return Math.pow(10,w)}function S(w){return null!=w}ee.exports=function(w,E){E=E||{};var C=w._id||"x",O=C.charAt(0);function P(Q,re){if(Q>0)return Math.log(Q)/Math.LN10;if(Q<=0&&re&&w.range&&2===w.range.length){var ae=w.range[0],oe=w.range[1];return.5*(ae+oe-2*u*Math.abs(ae-oe))}return l}function R(Q,re,ae,oe){if((oe||{}).msUTC&&b(Q))return+Q;var ue=t(Q,ae||w.calendar);if(ue===l){if(!b(Q))return l;Q=+Q;var ve=Math.floor(10*a.mod(Q+.05,1)),be=Math.round(Q-ve/10);ue=t(new Date(be))+ve/10}return ue}function j(Q,re,ae){return s(Q,re,ae||w.calendar)}function z(Q){return w._categories[Math.round(Q)]}function N(Q){if(S(Q)){if(void 0===w._categoriesMap&&(w._categoriesMap={}),void 0!==w._categoriesMap[Q])return w._categoriesMap[Q];w._categories.push("number"==typeof Q?String(Q):Q);var re=w._categories.length-1;return w._categoriesMap[Q]=re,re}return l}function Y(Q){if(w._categoriesMap)return w._categoriesMap[Q]}function F(Q){var re=Y(Q);return void 0!==re?re:b(Q)?+Q:void 0}function U(Q){return b(Q)?+Q:Y(Q)}function V(Q,re,ae){return M.round(ae+re*Q,2)}function te(Q,re,ae){return(Q-ae)/re}var $=function(Q){return b(Q)?V(Q,w._m,w._b):l},X=function(Q){return te(Q,w._m,w._b)};if(w.rangebreaks){var W="y"===O;$=function(Q){if(!b(Q))return l;var re=w._rangebreaks.length;if(!re)return V(Q,w._m,w._b);var ae=W;w.range[0]>w.range[1]&&(ae=!ae);for(var oe=ae?-1:1,ue=oe*Q,ve=0,be=0;be<re;be++){var de=oe*w._rangebreaks[be].min,pe=oe*w._rangebreaks[be].max;if(ue<de)break;if(!(ue>pe)){ve=ue<(de+pe)/2?be:be+1;break}ve=be+1}var ge=w._B[ve]||0;return isFinite(ge)?V(Q,w._m2,ge):0},X=function(Q){var re=w._rangebreaks.length;if(!re)return te(Q,w._m,w._b);for(var ae=0,oe=0;oe<re&&!(Q<w._rangebreaks[oe].pmin);oe++)Q>w._rangebreaks[oe].pmax&&(ae=oe+1);return te(Q,w._m2,w._B[ae])}}w.c2l="log"===w.type?P:i,w.l2c="log"===w.type?f:i,w.l2p=$,w.p2l=X,w.c2p="log"===w.type?function(Q,re){return $(P(Q,re))}:$,w.p2c="log"===w.type?function(Q){return f(X(Q))}:X,-1!==["linear","-"].indexOf(w.type)?(w.d2r=w.r2d=w.d2c=w.r2c=w.d2l=w.r2l=p,w.c2d=w.c2r=w.l2d=w.l2r=i,w.d2p=w.r2p=function(Q){return w.l2p(p(Q))},w.p2d=w.p2r=X,w.cleanPos=i):"log"===w.type?(w.d2r=w.d2l=function(Q,re){return P(p(Q),re)},w.r2d=w.r2c=function(Q){return f(p(Q))},w.d2c=w.r2l=p,w.c2d=w.l2r=i,w.c2r=P,w.l2d=f,w.d2p=function(Q,re){return w.l2p(w.d2r(Q,re))},w.p2d=function(Q){return f(X(Q))},w.r2p=function(Q){return w.l2p(p(Q))},w.p2r=X,w.cleanPos=i):"date"===w.type?(w.d2r=w.r2d=a.identity,w.d2c=w.r2c=w.d2l=w.r2l=R,w.c2d=w.c2r=w.l2d=w.l2r=j,w.d2p=w.r2p=function(Q,re,ae){return w.l2p(R(Q,0,ae))},w.p2d=w.p2r=function(Q,re,ae){return j(X(Q),re,ae)},w.cleanPos=function(Q){return a.cleanDate(Q,l,w.calendar)}):"category"===w.type?(w.d2c=w.d2l=N,w.r2d=w.c2d=w.l2d=z,w.d2r=w.d2l_noadd=F,w.r2c=function(Q){var re=U(Q);return void 0!==re?re:w.fraction2r(.5)},w.l2r=w.c2r=i,w.r2l=U,w.d2p=function(Q){return w.l2p(w.r2c(Q))},w.p2d=function(Q){return z(X(Q))},w.r2p=w.d2p,w.p2r=X,w.cleanPos=function(Q){return"string"==typeof Q&&""!==Q?Q:i(Q)}):"multicategory"===w.type&&(w.r2d=w.c2d=w.l2d=z,w.d2r=w.d2l_noadd=F,w.r2c=function(Q){var re=F(Q);return void 0!==re?re:w.fraction2r(.5)},w.r2c_just_indices=Y,w.l2r=w.c2r=i,w.r2l=F,w.d2p=function(Q){return w.l2p(w.r2c(Q))},w.p2d=function(Q){return z(X(Q))},w.r2p=w.d2p,w.p2r=X,w.cleanPos=function(Q){return Array.isArray(Q)||"string"==typeof Q&&""!==Q?Q:i(Q)},w.setupMultiCategory=function(Q){var re,ae,oe=w._traceIndices,ue=w._matchGroup;if(ue&&0===w._categories.length)for(var ve in ue)if(ve!==C){var be=E[m.id2name(ve)];oe=oe.concat(be._traceIndices)}var de=[[0,{}],[0,{}]],pe=[];for(re=0;re<oe.length;re++){var ge=Q[oe[re]];if(O in ge){var Ae=ge[O],ye=ge._length||a.minRowLength(Ae);if(n(Ae[0])&&n(Ae[1]))for(ae=0;ae<ye;ae++){var we=Ae[0][ae],se=Ae[1][ae];S(we)&&S(se)&&(pe.push([we,se]),we in de[0][1]||(de[0][1][we]=de[0][0]++),se in de[1][1]||(de[1][1][se]=de[1][0]++))}}}for(pe.sort(function(ie,he){var Se=de[0][1],_e=Se[ie[0]]-Se[he[0]];if(_e)return _e;var Me=de[1][1];return Me[ie[1]]-Me[he[1]]}),re=0;re<pe.length;re++)N(pe[re])}),w.fraction2r=function(Q){var re=w.r2l(w.range[0]),ae=w.r2l(w.range[1]);return w.l2r(re+Q*(ae-re))},w.r2fraction=function(Q){var re=w.r2l(w.range[0]),ae=w.r2l(w.range[1]);return(w.r2l(Q)-re)/(ae-re)},w.limitRange=function(Q){var re=w.minallowed,ae=w.maxallowed;if(void 0!==re||void 0!==ae){Q||(Q="range");var oe=a.nestedProperty(w,Q).get(),ue=a.simpleMap(oe,w.r2l),ve=ue[1]<ue[0];ve&&ue.reverse();var be=a.simpleMap([re,ae],w.r2l);if(void 0!==re&&ue[0]<be[0]&&(oe[ve?1:0]=re),void 0!==ae&&ue[1]>be[1]&&(oe[ve?0:1]=ae),oe[0]===oe[1]){var de=w.l2r(re),pe=w.l2r(ae);if(void 0!==re){var ge=de+1;void 0!==ae&&(ge=Math.min(ge,pe)),oe[ve?1:0]=ge}if(void 0!==ae){var Ae=pe+1;void 0!==re&&(Ae=Math.max(Ae,de)),oe[ve?0:1]=Ae}}}},w.cleanRange=function(Q,re){w._cleanRange(Q,re),w.limitRange(Q)},w._cleanRange=function(Q,re){re||(re={}),Q||(Q="range");var ae,oe,ue=a.nestedProperty(w,Q).get();if(oe=(oe="date"===w.type?a.dfltRange(w.calendar):"y"===O?y.DFLTRANGEY:"realaxis"===w._name?[0,1]:re.dfltRange||y.DFLTRANGEX).slice(),"tozero"!==w.rangemode&&"nonnegative"!==w.rangemode||(oe[0]=0),ue&&2===ue.length){var ve=null===ue[0],be=null===ue[1];for("date"!==w.type||w.autorange||(ue[0]=a.cleanDate(ue[0],l,w.calendar),ue[1]=a.cleanDate(ue[1],l,w.calendar)),ae=0;ae<2;ae++)if("date"===w.type){if(!a.isDateTime(ue[ae],w.calendar)){w[Q]=oe;break}if(w.r2l(ue[0])===w.r2l(ue[1])){var de=a.constrain(w.r2l(ue[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);ue[0]=w.l2r(de-1e3),ue[1]=w.l2r(de+1e3);break}}else{if(!b(ue[ae])){if(ve||be||!b(ue[1-ae])){w[Q]=oe;break}ue[ae]=ue[1-ae]*(ae?10:.1)}if(ue[ae]<-o?ue[ae]=-o:ue[ae]>o&&(ue[ae]=o),ue[0]===ue[1]){var pe=Math.max(1,Math.abs(1e-6*ue[0]));ue[0]-=pe,ue[1]+=pe}}}else a.nestedProperty(w,Q).set(oe)},w.setScale=function(Q){var re=E._size;if(w.overlaying){var ae=m.getFromId({_fullLayout:E},w.overlaying);w.domain=ae.domain}var oe=Q&&w._r?"_r":"range",ue=w.calendar;w.cleanRange(oe);var ve,be,de=w.r2l(w[oe][0],ue),pe=w.r2l(w[oe][1],ue),ge="y"===O;if(ge?(w._offset=re.t+(1-w.domain[1])*re.h,w._length=re.h*(w.domain[1]-w.domain[0]),w._m=w._length/(de-pe),w._b=-w._m*pe):(w._offset=re.l+w.domain[0]*re.w,w._length=re.w*(w.domain[1]-w.domain[0]),w._m=w._length/(pe-de),w._b=-w._m*de),w._rangebreaks=[],w._lBreaks=0,w._m2=0,w._B=[],w.rangebreaks&&(w._rangebreaks=w.locateBreaks(Math.min(de,pe),Math.max(de,pe)),w._rangebreaks.length)){for(ve=0;ve<w._rangebreaks.length;ve++)be=w._rangebreaks[ve],w._lBreaks+=Math.abs(be.max-be.min);var Ae=ge;de>pe&&(Ae=!Ae),Ae&&w._rangebreaks.reverse();var ye=Ae?-1:1;for(w._m2=ye*w._length/(Math.abs(pe-de)-w._lBreaks),w._B.push(-w._m2*(ge?pe:de)),ve=0;ve<w._rangebreaks.length;ve++)be=w._rangebreaks[ve],w._B.push(w._B[w._B.length-1]-ye*w._m2*(be.max-be.min));for(ve=0;ve<w._rangebreaks.length;ve++)(be=w._rangebreaks[ve]).pmin=$(be.min),be.pmax=$(be.max)}if(!isFinite(w._m)||!isFinite(w._b)||w._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},w.maskBreaks=function(Q){var re,ae,oe,ue,ve,be=w.rangebreaks||[];be._cachedPatterns||(be._cachedPatterns=be.map(function(we){return we.enabled&&we.bounds?a.simpleMap(we.bounds,we.pattern?p:w.d2c):null})),be._cachedValues||(be._cachedValues=be.map(function(we){return we.enabled&&we.values?a.simpleMap(we.values,w.d2c).sort(a.sorterAsc):null}));for(var de=0;de<be.length;de++){var pe=be[de];if(pe.enabled)if(pe.bounds){var ge=pe.pattern;switch(ae=(re=be._cachedPatterns[de])[0],oe=re[1],ge){case _:ue=(ve=new Date(Q)).getUTCDay(),ae>oe&&(oe+=7,ue<ae&&(ue+=7));break;case v:ue=(ve=new Date(Q)).getUTCHours()+(ve.getUTCMinutes()/60+ve.getUTCSeconds()/3600+ve.getUTCMilliseconds()/36e5),ae>oe&&(oe+=24,ue<ae&&(ue+=24));break;case"":ue=Q}if(ue>=ae&&ue<oe)return l}else for(var Ae=be._cachedValues[de],ye=0;ye<Ae.length;ye++)if(oe=(ae=Ae[ye])+pe.dvalue,Q>=ae&&Q<oe)return l}return Q},w.locateBreaks=function(Q,re){var ae,oe,ue,ve,be=[];if(!w.rangebreaks)return be;var de=w.rangebreaks.slice().sort(function(Me,Ee){return Me.pattern===_&&Ee.pattern===v?-1:Ee.pattern===_&&Me.pattern===v?1:0}),pe=function(Me,Ee){if((Me=a.constrain(Me,Q,re))!==(Ee=a.constrain(Ee,Q,re))){for(var Ie=!0,fe=0;fe<be.length;fe++){var xe=be[fe];Me<xe.max&&Ee>=xe.min&&(Me<xe.min&&(xe.min=Me),Ee>xe.max&&(xe.max=Ee),Ie=!1)}Ie&&be.push({min:Me,max:Ee})}};for(ae=0;ae<de.length;ae++){var ge=de[ae];if(ge.enabled)if(ge.bounds){var Ae=Q,ye=re;ge.pattern&&(Ae=Math.floor(Ae)),ue=(oe=a.simpleMap(ge.bounds,ge.pattern?p:w.r2l))[0],ve=oe[1];var we,se,ie=new Date(Ae);switch(ge.pattern){case _:se=d,we=(ve-ue+(ve<ue?7:0))*c,Ae+=ue*c-(ie.getUTCDay()*c+ie.getUTCHours()*x+ie.getUTCMinutes()*g+ie.getUTCSeconds()*h+ie.getUTCMilliseconds());break;case v:se=c,we=(ve-ue+(ve<ue?24:0))*x,Ae+=ue*x-(ie.getUTCHours()*x+ie.getUTCMinutes()*g+ie.getUTCSeconds()*h+ie.getUTCMilliseconds());break;default:Ae=Math.min(oe[0],oe[1]),we=se=(ye=Math.max(oe[0],oe[1]))-Ae}for(var he=Ae;he<ye;he+=se)pe(he,he+we)}else for(var Se=a.simpleMap(ge.values,w.d2c),_e=0;_e<Se.length;_e++)pe(ue=Se[_e],ve=ue+ge.dvalue)}return be.sort(function(Me,Ee){return Me.min-Ee.min}),be},w.makeCalcdata=function(Q,re,ae){var oe,ue,ve,be,de=w.type,pe="date"===de&&Q[re+"calendar"];if(re in Q){if(oe=Q[re],be=Q._length||a.minRowLength(oe),a.isTypedArray(oe)&&("linear"===de||"log"===de)){if(be===oe.length)return oe;if(oe.subarray)return oe.subarray(0,be)}if("multicategory"===de)return function(ye,we){for(var se=new Array(we),ie=0;ie<we;ie++){var he=(ye[0]||[])[ie],Se=(ye[1]||[])[ie];se[ie]=Y([he,Se])}return se}(oe,be);for(ue=new Array(be),ve=0;ve<be;ve++)ue[ve]=w.d2c(oe[ve],0,pe,ae)}else{var ge=re+"0"in Q?w.d2c(Q[re+"0"],0,pe):0,Ae=Q["d"+re]?Number(Q["d"+re]):1;for(oe=Q[{x:"y",y:"x"}[re]],be=Q._length||oe.length,ue=new Array(be),ve=0;ve<be;ve++)ue[ve]=ge+ve*Ae}if(w.rangebreaks)for(ve=0;ve<be;ve++)ue[ve]=w.maskBreaks(ue[ve]);return ue},w.isValidRange=function(Q,re){return Array.isArray(Q)&&2===Q.length&&(re&&null===Q[0]||b(w.r2l(Q[0])))&&(re&&null===Q[1]||b(w.r2l(Q[1])))},w.getAutorangeDflt=function(Q,re){var ae=!w.isValidRange(Q,"nullOk");return ae&&re&&re.reverseDflt?ae="reversed":Q&&(null===Q[0]&&null===Q[1]?ae=!0:null===Q[0]&&null!==Q[1]?ae="min":null!==Q[0]&&null===Q[1]&&(ae="max")),ae},w.isReversed=function(){var Q=w.autorange;return"reversed"===Q||"min reversed"===Q||"max reversed"===Q},w.isPtWithinRange=function(Q,re){var ae=w.c2l(Q[O],null,re),oe=w.r2l(w.range[0]),ue=w.r2l(w.range[1]);return oe<ue?oe<=ae&&ae<=ue:ue<=ae&&ae<=oe},w._emptyCategories=function(){w._categories=[],w._categoriesMap={}},w.clearCalc=function(){var Q=w._matchGroup;if(Q){var re=null,ae=null;for(var oe in Q){var ue=E[m.id2name(oe)];if(ue._categories){re=ue._categories,ae=ue._categoriesMap;break}}re&&ae?(w._categories=re,w._categoriesMap=ae):w._emptyCategories()}else w._emptyCategories();if(w._initialCategories)for(var ve=0;ve<w._initialCategories.length;ve++)N(w._initialCategories[ve])},w.sortByInitialCategories=function(){var Q=[];if(w._emptyCategories(),w._initialCategories)for(var re=0;re<w._initialCategories.length;re++)N(w._initialCategories[re]);Q=Q.concat(w._traceIndices);var ae=w._matchGroup;for(var oe in ae)if(C!==oe){var ue=E[m.id2name(oe)];ue._categories=w._categories,ue._categoriesMap=w._categoriesMap,Q=Q.concat(ue._traceIndices)}return Q};var J=E._d3locale;"date"===w.type&&(w._dateFormat=J?J.timeFormat:k,w._extraFormat=E._extraFormat),w._separators=E.separators,w._numFormat=J?J.numberFormat:T,delete w._minDtick,delete w._forceTick0}},59652:function(ee){"use strict";ee.exports=function(D){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(M){return void 0!==D[M]});if(e.every(function(M){return D[M]===D[e[0]]})||1===e.length)return D[e[0]]}},96115:function(ee,D,e){"use strict";var M=e(71828),k=e(7901).contrast,a=e(13838),T=e(59652),b=e(85501);function p(s,t){function i(n,r){return M.coerce(s,t,a.tickformatstops,n,r)}i("enabled")&&(i("dtickrange"),i("value"))}ee.exports=function(s,t,i,n,r){r||(r={});var o=i("labelalias");M.isPlainObject(o)||delete t.labelalias;var l=T(s);if(i("showticklabels")){var u=r.font||{},d=t.color,c=-1!==(t.ticklabelposition||"").indexOf("inside")?k(r.bgColor):d&&d!==a.color.dflt?d:u.color;if(M.coerceFont(i,"tickfont",{family:u.family,size:u.size,color:c}),r.noTicklabelstep||"multicategory"===n||"log"===n||i("ticklabelstep"),r.noAng||i("tickangle"),"category"!==n){var x=i("tickformat");b(s,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:p}),t.tickformatstops.length||delete t.tickformatstops,r.noExp||x||"date"===n||(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}}},38701:function(ee,D,e){"use strict";var M=e(71828),k=e(13838);ee.exports=function(a,T,b,p){var s=p.isMinor,t=s?a.minor||{}:a,i=s?T.minor:T,n=s?k.minor:k,r=s?"minor.":"",o=M.coerce2(t,i,n,"ticklen",s?.6*(T.ticklen||5):void 0),l=M.coerce2(t,i,n,"tickwidth",s?T.tickwidth||1:void 0),u=M.coerce2(t,i,n,"tickcolor",(s?T.tickcolor:void 0)||i.color);b(r+"ticks",!s&&p.outerTicks||o||l||u?"outside":"")||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26218:function(ee,D,e){"use strict";var M=e(66287),k=e(71828).isArrayOrTypedArray,a=e(73627).isTypedArraySpec,T=e(73627).decodeTypedArraySpec;ee.exports=function(b,p,s,t,i){i||(i={});var n=i.isMinor,r=n?b.minor||{}:b,o=n?p.minor:p,l=n?"minor.":"";function u(m){var y=r[m];return a(y)&&(y=T(y)),void 0!==y?y:(o._template||{})[m]}var d=u("tick0"),c=u("dtick"),x=u("tickvals"),g=s(l+"tickmode",k(x)?"array":c?"linear":"auto");if("auto"===g||"sync"===g)s(l+"nticks");else if("linear"===g){var h=o.dtick=M.dtick(c,t);o.tick0=M.tick0(d,t,p.calendar,h)}else"multicategory"!==t&&(void 0===s(l+"tickvals")?o.tickmode="auto":n||s("ticktext"))}},66847:function(ee,D,e){"use strict";var M=e(39898),k=e(73972),a=e(71828),T=e(91424),b=e(89298);ee.exports=function(p,s,t,i){var n=p._fullLayout;if(0!==s.length){var r,o,l,u;i&&(r=i());var d=M.ease(t.easing);return p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var g={},h=0;h<s.length;h++){var m=s[h],y=m.plotinfo.xaxis,v=m.plotinfo.yaxis;m.xr0&&(g[y._name+".range"]=m.xr0.slice()),m.yr0&&(g[v._name+".range"]=m.yr0.slice())}return k.call("relayout",p,g).then(function(){for(var _=0;_<s.length;_++)c(s[_].plotinfo)})}()}),o=Date.now(),u=window.requestAnimationFrame(function g(){l=Date.now();for(var h=Math.min(1,(l-o)/t.duration),m=d(h),y=0;y<s.length;y++)x(s[y],m);l-o>t.duration?(function(){for(var v={},_=0;_<s.length;_++){var f=s[_],S=f.plotinfo.xaxis,w=f.plotinfo.yaxis;f.xr1&&(v[S._name+".range"]=f.xr1.slice()),f.yr1&&(v[w._name+".range"]=f.yr1.slice())}r&&r(),k.call("relayout",p,v).then(function(){for(var E=0;E<s.length;E++)c(s[E].plotinfo)})}(),u=window.cancelAnimationFrame(g)):u=window.requestAnimationFrame(g)}),Promise.resolve()}function c(g){var h=g.xaxis,m=g.yaxis;n._defs.select("#"+g.clipId+"> rect").call(T.setTranslate,0,0).call(T.setScale,1,1),g.plot.call(T.setTranslate,h._offset,m._offset).call(T.setScale,1,1);var y=g.plot.selectAll(".scatterlayer .trace");y.selectAll(".point").call(T.setPointGroupScale,1,1),y.selectAll(".textpoint").call(T.setTextPointsScale,1,1),y.call(T.hideOutsideRangePoints,g)}function x(g,h){var m=g.plotinfo,y=m.xaxis,v=m.yaxis,_=y._length,f=v._length,S=!!g.xr1,w=!!g.yr1,E=[];if(S){var C=a.simpleMap(g.xr0,y.r2l),O=a.simpleMap(g.xr1,y.r2l),P=C[1]-C[0],R=O[1]-O[0];E[0]=(C[0]*(1-h)+h*O[0]-C[0])/(C[1]-C[0])*_,E[2]=_*(1-h+h*R/P),y.range[0]=y.l2r(C[0]*(1-h)+h*O[0]),y.range[1]=y.l2r(C[1]*(1-h)+h*O[1])}else E[0]=0,E[2]=_;if(w){var j=a.simpleMap(g.yr0,v.r2l),z=a.simpleMap(g.yr1,v.r2l),N=j[1]-j[0],Y=z[1]-z[0];E[1]=(j[1]*(1-h)+h*z[1]-j[1])/(j[0]-j[1])*f,E[3]=f*(1-h+h*Y/N),v.range[0]=y.l2r(j[0]*(1-h)+h*z[0]),v.range[1]=v.l2r(j[1]*(1-h)+h*z[1])}else E[1]=0,E[3]=f;b.drawOne(p,y,{skipTitle:!0}),b.drawOne(p,v,{skipTitle:!0}),b.redrawComponents(p,[y._id,v._id]);var F=S?_/E[2]:1,U=w?f/E[3]:1,V=S?E[0]:0,te=w?E[1]:0,$=S?E[0]/E[2]*_:0,X=w?E[1]/E[3]*f:0,W=y._offset-$,J=v._offset-X;m.clipRect.call(T.setTranslate,V,te).call(T.setScale,1/F,1/U),m.plot.call(T.setTranslate,W,J).call(T.setScale,F,U),T.setPointGroupScale(m.zoomScalePts,1/F,1/U),T.setTextPointsScale(m.zoomScaleTxt,1/F,1/U)}b.redrawComponents(p)}},951:function(ee,D,e){"use strict";var M=e(73972).traceIs,k=e(4322);function a(b){return{v:"x",h:"y"}[b.orientation||"v"]}function T(b,p){var s=a(b),t=M(b,"box-violin"),i=M(b._fullInput||{},"candlestick");return t&&!i&&p===s&&void 0===b[s]&&void 0===b[s+"0"]}ee.exports=function(b,p,s,t){s("autotypenumbers",t.autotypenumbersDflt),"-"===s("type",(t.splomStash||{}).type)&&(function(i,n){if("-"===i.type){var r,o=i._id,l=o.charAt(0);-1!==o.indexOf("scene")&&(o=l);var u=function(v,_,f){for(var S=0;S<v.length;S++){var w=v[S];if("splom"===w.type&&w._length>0&&(w["_"+f+"axes"]||{})[_]||(w[f+"axis"]||f)===_&&(T(w,f)||(w[f]||[]).length||w[f+"0"]))return w}}(n,o,l);if(u)if("histogram"!==u.type||l!=={v:"y",h:"x"}[u.orientation||"v"]){var d=l+"calendar",c=u[d],x={noMultiCategory:!M(u,"cartesian")||M(u,"noMultiCategory")};if("box"===u.type&&u._hasPreCompStats&&l==={h:"x",v:"y"}[u.orientation||"v"]&&(x.noMultiCategory=!0),x.autotypenumbers=i.autotypenumbers,T(u,l)){var g=a(u),h=[];for(r=0;r<n.length;r++){var m=n[r];M(m,"box-violin")&&(m[l+"axis"]||l)===o&&(void 0!==m[g]?h.push(m[g][0]):void 0!==m.name?h.push(m.name):h.push("text"),m[d]!==c&&(c=void 0))}i.type=k(h,c,x)}else if("splom"===u.type){var y=u.dimensions[u._axesDim[o]];y.visible&&(i.type=k(y.values,c,x))}else i.type=k(u[l]||[u[l+"0"]],c,x)}else i.type="linear"}}(p,t.data),"-"===p.type?p.type="linear":b.type=p.type)}},31137:function(ee,D,e){"use strict";var M=e(73972),k=e(71828);function a(s,t,i){var n,r,o,l=!1;if("data"===t.type)n=s._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;n=s._fullLayout}return r=k.nestedProperty(n,t.prop).get(),(o=i[t.type]=i[t.type]||{}).hasOwnProperty(t.prop)&&o[t.prop]!==r&&(l=!0),o[t.prop]=r,{changed:l,value:r}}function T(s,t){var i=[],n=t[0],r={};if("string"==typeof n)r[n]=t[1];else{if(!k.isPlainObject(n))return i;r=n}return p(r,function(o,l,u){i.push({type:"layout",prop:o,value:u})},"",0),i}function b(s,t){var i,n,r,o,l=[];if(n=t[0],r=t[1],i=t[2],o={},"string"==typeof n)o[n]=r;else{if(!k.isPlainObject(n))return l;o=n,void 0===i&&(i=r)}return void 0===i&&(i=null),p(o,function(u,d,c){var x,g;if(Array.isArray(c)){g=c.slice();var h=Math.min(g.length,s.data.length);i&&(h=Math.min(h,i.length)),x=[];for(var m=0;m<h;m++)x[m]=i?i[m]:m}else g=c,x=i?i.slice():null;if(null===x)Array.isArray(g)&&(g=g[0]);else if(Array.isArray(x)){if(!Array.isArray(g)){var y=g;g=[];for(var v=0;v<x.length;v++)g[v]=y}g.length=Math.min(x.length,g.length)}l.push({type:"data",prop:u,traces:x,value:g})},"",0),l}function p(s,t,i,n){Object.keys(s).forEach(function(r){var o=s[r];if("_"!==r[0]){var l=i+(n>0?".":"")+r;k.isPlainObject(o)?p(o,t,l,n+1):t(l,r,o)}})}D.manageCommandObserver=function(s,t,i,n){var r={},o=!0;t&&t._commandObserver&&(r=t._commandObserver),r.cache||(r.cache={}),r.lookupTable={};var l=D.hasSimpleAPICommandBindings(s,i,r.lookupTable);if(t&&t._commandObserver){if(l)return r;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,r}if(l){a(s,l,r.cache),r.check=function(){if(o){var c=a(s,l,r.cache);return c.changed&&n&&void 0!==r.lookupTable[c.value]&&(r.disable(),Promise.resolve(n({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:r.lookupTable[c.value]})).then(r.enable,r.enable)),c.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<u.length;d++)s._internalOn(u[d],r.check);r.remove=function(){for(var c=0;c<u.length;c++)s._removeInternalListener(u[c],r.check)}}else k.log("Unable to automatically bind plot updates to API command"),r.lookupTable={},r.remove=function(){};return r.disable=function(){o=!1},r.enable=function(){o=!0},t&&(t._commandObserver=r),r},D.hasSimpleAPICommandBindings=function(s,t,i){var n,r,o=t.length;for(n=0;n<o;n++){var l,u=t[n],d=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!d)return!1;var x=D.computeAPICommandBindings(s,d,c);if(1!==x.length)return!1;if(r){if((l=x[0]).type!==r.type||l.prop!==r.prop)return!1;if(Array.isArray(r.traces)){if(!Array.isArray(l.traces))return!1;l.traces.sort();for(var g=0;g<r.traces.length;g++)if(r.traces[g]!==l.traces[g])return!1}else if(l.prop!==r.prop)return!1}else r=x[0],Array.isArray(r.traces)&&r.traces.sort();var h=(l=x[0]).value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}i&&(i[h]=n)}return r},D.executeAPICommand=function(s,t,i){if("skip"===t)return Promise.resolve();var n=M.apiMethodRegistry[t],r=[s];Array.isArray(i)||(i=[]);for(var o=0;o<i.length;o++)r.push(i[o]);return n.apply(null,r).catch(function(l){return k.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},D.computeAPICommandBindings=function(s,t,i){var n,o;switch(Array.isArray(i)||(i=[]),t){case"restyle":n=b(s,i);break;case"relayout":n=T(0,i);break;case"update":n=b(s,[i[0],i[2]]).concat(T(0,[i[1]]));break;case"animate":o=i,n=Array.isArray(o[0])&&1===o[0].length&&-1!==["string","number"].indexOf(typeof o[0][0])?[{type:"layout",prop:"_currentFrame",value:o[0][0].toString()}]:[];break;default:n=[]}return n}},27670:function(ee,D,e){"use strict";var M=e(1426).extendFlat;D.Y=function(k,a){a=a||{};var T={valType:"info_array",editType:(k=k||{}).editType,items:[{valType:"number",min:0,max:1,editType:k.editType},{valType:"number",min:0,max:1,editType:k.editType}],dflt:[0,1]},b=(k.name&&k.name,k.trace,a.description&&a.description,{x:M({},T,{}),y:M({},T,{}),editType:k.editType});return k.noGridCell||(b.row={valType:"integer",min:0,dflt:0,editType:k.editType},b.column={valType:"integer",min:0,dflt:0,editType:k.editType}),b},D.c=function(k,a,T,b){var p=b&&b.x||[0,1],s=b&&b.y||[0,1],t=a.grid;if(t){var i=T("domain.column");void 0!==i&&(i<t.columns?p=t._domains.x[i]:delete k.domain.column);var n=T("domain.row");void 0!==n&&(n<t.rows?s=t._domains.y[n]:delete k.domain.row)}var r=T("domain.x",p),o=T("domain.y",s);r[0]<r[1]||(k.domain.x=p.slice()),o[0]<o[1]||(k.domain.y=s.slice())}},41940:function(ee){"use strict";ee.exports=function(D){var e=D.editType,M=D.colorEditType;void 0===M&&(M=e);var k={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:M},editType:e};return D.autoSize&&(k.size.dflt="auto"),D.autoColor&&(k.color.dflt="auto"),D.arrayOk&&(k.family.arrayOk=!0,k.size.arrayOk=!0,k.color.arrayOk=!0),k}},31391:function(ee){"use strict";ee.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(ee,D){"use strict";D.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},D.axesNames=["lonaxis","lataxis"],D.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},D.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},D.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},D.clipPad=.001,D.precision=.1,D.landColor="#F0DC82",D.waterColor="#3399FF",D.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},D.sphereSVG={type:"Sphere"},D.fillLayers={ocean:1,land:1,lakes:1},D.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},D.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],D.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],D.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(ee,D,e){"use strict";var M=e(39898),k=e(27362),a=k.geoPath,T=k.geoDistance,b=e(65704),p=e(73972),s=e(71828),t=s.strTranslate,i=e(7901),n=e(91424),r=e(30211),o=e(74875),l=e(89298),u=e(71739).getAutoRange,d=e(28569),c=e(47322).prepSelect,x=e(47322).clearOutline,g=e(47322).selectOnClick,h=e(74455),m=e(78776),y=e(41327),v=e(90973),_=e(96892).zL;function f(E){this.id=E.id,this.graphDiv=E.graphDiv,this.container=E.container,this.topojsonURL=E.topojsonURL,this.isStatic=E.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=f.prototype;function w(E,C){var O=m.clipPad,P=E[0]+O,R=E[1]-O,j=C[0]+O,z=C[1]-O;P>0&&R<0&&(R+=360);var N=(R-P)/4;return{type:"Polygon",coordinates:[[[P,j],[P,z],[P+N,z],[P+2*N,z],[P+3*N,z],[R,z],[R,j],[R-N,j],[R-2*N,j],[R-3*N,j],[P,j]]]}}ee.exports=function(E){return new f(E)},S.plot=function(E,C,O,P){var R=this;if(P)return R.update(E,C,!0);R._geoCalcData=E,R._fullLayout=C;var j=C[this.id],z=[],N=!1;for(var Y in m.layerNameToAdjective)if("frame"!==Y&&j["show"+Y]){N=!0;break}for(var F=!1,U=0;U<E.length;U++){var V=E[0][0].trace;V._geo=R,V.locationmode&&(N=!0);var te=V.marker;if(te){var $=te.angle,X=te.angleref;($||"north"===X||"previous"===X)&&(F=!0)}}if(this._hasMarkerAngles=F,N){var W=v.getTopojsonName(j);null!==R.topojson&&W===R.topojsonName||(R.topojsonName=W,void 0===PlotlyGeoAssets.topojson[R.topojsonName]&&z.push(R.fetchTopojson()))}z=z.concat(y.fetchTraceGeoData(E)),O.push(new Promise(function(J,Q){Promise.all(z).then(function(){R.topojson=PlotlyGeoAssets.topojson[R.topojsonName],R.update(E,C),J()}).catch(Q)}))},S.fetchTopojson=function(){var E=this,C=v.getTopojsonPath(E.topojsonURL,E.topojsonName);return new Promise(function(O,P){M.json(C,function(R,j){if(R)return 404===R.status?P(new Error(["plotly.js could not find topojson file at",C+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):P(new Error(["unexpected error while fetching topojson file at",C].join(" ")));PlotlyGeoAssets.topojson[E.topojsonName]=j,O()})})},S.update=function(E,C,O){var P=C[this.id];this.hasChoropleth=!1;for(var R=0;R<E.length;R++){var j=E[R],z=j[0].trace;"choropleth"===z.type&&(this.hasChoropleth=!0),!0===z.visible&&z._length>0&&z._module.calcGeoJSON(j,C)}if(!O){if(this.updateProjection(E,C))return;this.viewInitial&&this.scope===P.scope||this.saveViewInitial(P)}this.scope=P.scope,this.updateBaseLayers(C,P),this.updateDims(C,P),this.updateFx(C,P),o.generalUpdatePerTraceModule(this.graphDiv,this,E,P);var N=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=N.selectAll(".point"),this.dataPoints.text=N.selectAll("text"),this.dataPaths.line=N.selectAll(".js-line");var Y=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Y.selectAll("path"),this._render()},S.updateProjection=function(E,C){var O=this.graphDiv,P=C[this.id],R=C._size,j=P.domain,z=P.projection,N=P.lonaxis,Y=P.lataxis,F=N._ax,U=Y._ax,V=this.projection=function(ie){var he=ie.projection,Se=he.type,_e=m.projNames[Se];_e="geo"+s.titleCase(_e);for(var Me=(k[_e]||b[_e])(),Ee=ie._isSatellite?180*Math.acos(1/he.distance)/Math.PI:ie._isClipped?m.lonaxisSpan[Se]/2:null,Ie=["center","rotate","parallels","clipExtent"],fe=function(Ce){return Ce?Me:[]},xe=0;xe<Ie.length;xe++){var Te=Ie[xe];"function"!=typeof Me[Te]&&(Me[Te]=fe)}return Me.isLonLatOverEdges=function(Ce){if(null===Me(Ce))return!0;if(Ee){var De=Me.rotate();return T(Ce,[-De[0],-De[1]])>Ee*Math.PI/180}return!1},Me.getPath=function(){return a().projection(Me)},Me.getBounds=function(Ce){return Me.getPath().bounds(Ce)},Me.precision(m.precision),ie._isSatellite&&Me.tilt(he.tilt).distance(he.distance),Ee&&Me.clipAngle(Ee-m.clipPad),Me}(P),te=[[R.l+R.w*j.x[0],R.t+R.h*(1-j.y[1])],[R.l+R.w*j.x[1],R.t+R.h*(1-j.y[0])]],$=P.center||{},X=z.rotation||{},W=N.range||[],J=Y.range||[];if(P.fitbounds){F._length=te[1][0]-te[0][0],U._length=te[1][1]-te[0][1],F.range=u(O,F),U.range=u(O,U);var Q=(F.range[0]+F.range[1])/2,re=(U.range[0]+U.range[1])/2;if(P._isScoped)$={lon:Q,lat:re};else if(P._isClipped){$={lon:Q,lat:re},X={lon:Q,lat:re,roll:X.roll};var ae=z.type,oe=m.lonaxisSpan[ae]/2||180,ue=m.lataxisSpan[ae]/2||90;W=[Q-oe,Q+oe],J=[re-ue,re+ue]}else $={lon:Q,lat:re},X={lon:Q,lat:X.lat,roll:X.roll}}V.center([$.lon-X.lon,$.lat-X.lat]).rotate([-X.lon,-X.lat,X.roll]).parallels(z.parallels);var ve=w(W,J);V.fitExtent(te,ve);var be=this.bounds=V.getBounds(ve),de=this.fitScale=V.scale(),pe=V.translate();if(P.fitbounds){var ge=V.getBounds(w(F.range,U.range)),Ae=Math.min((be[1][0]-be[0][0])/(ge[1][0]-ge[0][0]),(be[1][1]-be[0][1])/(ge[1][1]-ge[0][1]));isFinite(Ae)?V.scale(Ae*de):s.warn("Something went wrong during"+this.id+"fitbounds computations.")}else V.scale(z.scale*de);var ye=this.midPt=[(be[0][0]+be[1][0])/2,(be[0][1]+be[1][1])/2];if(V.translate([pe[0]+(ye[0]-pe[0]),pe[1]+(ye[1]-pe[1])]).clipExtent(be),P._isAlbersUsa){var we=V([$.lon,$.lat]),se=V.translate();V.translate([se[0]-(we[0]-se[0]),se[1]-(we[1]-se[1])])}},S.updateBaseLayers=function(E,C){var O=this,P=O.topojson,R=O.layers,j=O.basePaths;function z(V){return"lonaxis"===V||"lataxis"===V}function N(V){return Boolean(m.lineLayers[V])}function Y(V){return Boolean(m.fillLayers[V])}var F=(this.hasChoropleth?m.layersForChoropleth:m.layers).filter(function(V){return N(V)||Y(V)?C["show"+V]:!z(V)||C[V].showgrid}),U=O.framework.selectAll(".layer").data(F,String);U.exit().each(function(V){delete R[V],delete j[V],M.select(this).remove()}),U.enter().append("g").attr("class",function(V){return"layer "+V}).each(function(V){var te=R[V]=M.select(this);"bg"===V?O.bgRect=te.append("rect").style("pointer-events","all"):z(V)?j[V]=te.append("path").style("fill","none"):"backplot"===V?te.append("g").classed("choroplethlayer",!0):"frontplot"===V?te.append("g").classed("scatterlayer",!0):N(V)?j[V]=te.append("path").style("fill","none").style("stroke-miterlimit",2):Y(V)&&(j[V]=te.append("path").style("stroke","none"))}),U.order(),U.each(function(V){var te=j[V],$=m.layerNameToAdjective[V];"frame"===V?te.datum(m.sphereSVG):N(V)||Y(V)?te.datum(_(P,P.objects[V])):z(V)&&te.datum(function(X,W,J){var Q,re,ae,oe=W[X],ue=m.scopeDefaults[W.scope];"lonaxis"===X?(Q=ue.lonaxisRange,re=ue.lataxisRange,ae=function(se,ie){return[se,ie]}):"lataxis"===X&&(Q=ue.lataxisRange,re=ue.lonaxisRange,ae=function(se,ie){return[ie,se]});var ve={type:"linear",range:[Q[0],Q[1]-1e-6],tick0:oe.tick0,dtick:oe.dtick};l.setConvert(ve,J);var be=l.calcTicks(ve);W.isScoped||"lonaxis"!==X||be.pop();for(var de=be.length,pe=new Array(de),ge=0;ge<de;ge++)for(var Ae=be[ge].x,ye=pe[ge]=[],we=re[0];we<re[1]+2.5;we+=2.5)ye.push(ae(Ae,we));return{type:"MultiLineString",coordinates:pe}}(V,C,E)).call(i.stroke,C[V].gridcolor).call(n.dashLine,C[V].griddash,C[V].gridwidth),N(V)?te.call(i.stroke,C[$+"color"]).call(n.dashLine,"",C[$+"width"]):Y(V)&&te.call(i.fill,C[$+"color"])})},S.updateDims=function(E,C){var O=this.bounds,P=(C.framewidth||0)/2,R=O[0][0]-P,j=O[0][1]-P,z=O[1][0]-R+P,N=O[1][1]-j+P;n.setRect(this.clipRect,R,j,z,N),this.bgRect.call(n.setRect,R,j,z,N).call(i.fill,C.bgcolor),this.xaxis._offset=R,this.xaxis._length=z,this.yaxis._offset=j,this.yaxis._length=N},S.updateFx=function(E,C){var O=this,P=O.graphDiv,R=O.bgRect,j=E.dragmode,z=E.clickmode;if(!O.isStatic){var N={element:O.bgRect.node(),gd:P,plotinfo:{id:O.id,xaxis:O.xaxis,yaxis:O.yaxis,fillRangeItems:function(F,U){U.isRect?(F.range={})[O.id]=[Y([U.xmin,U.ymin]),Y([U.xmax,U.ymax])]:(F.lassoPoints={})[O.id]=U.map(Y)}},xaxes:[O.xaxis],yaxes:[O.yaxis],subplot:O.id,clickFn:function(F){2===F&&x(P)}};"pan"===j?(R.node().onmousedown=null,R.call(h(O,C)),R.on("dblclick.zoom",function(){var F=O.viewInitial,U={};for(var V in F)U[O.id+"."+V]=F[V];p.call("_guiRelayout",P,U),P.emit("plotly_doubleclick",null)}),P._context._scrollZoom.geo||R.on("wheel.zoom",null)):"select"!==j&&"lasso"!==j||(R.on(".zoom",null),N.prepFn=function(F,U,V){c(F,U,V,N,j)},d.init(N)),R.on("mousemove",function(){var F=O.projection.invert(s.getPositionFromD3Event());if(!F)return d.unhover(P,M.event);O.xaxis.p2c=function(){return F[0]},O.yaxis.p2c=function(){return F[1]},r.hover(P,M.event,O.id)}),R.on("mouseout",function(){P._dragging||d.unhover(P,M.event)}),R.on("click",function(){"select"!==j&&"lasso"!==j&&(z.indexOf("select")>-1&&g(M.event,P,[O.xaxis],[O.yaxis],O.id,N),z.indexOf("event")>-1&&r.click(P,M.event))})}function Y(F){return O.projection.invert([F[0]+O.xaxis._offset,F[1]+O.yaxis._offset])}},S.makeFramework=function(){var E=this,C=E.graphDiv,O=C._fullLayout,P="clip"+O._uid+E.id;E.clipDef=O._clips.append("clipPath").attr("id",P),E.clipRect=E.clipDef.append("rect"),E.framework=M.select(E.container).append("g").attr("class","geo "+E.id).call(n.setClipUrl,P,C),E.project=function(R){var j=E.projection(R);return j?[j[0]-E.xaxis._offset,j[1]-E.yaxis._offset]:[null,null]},E.xaxis={_id:"x",c2p:function(R){return E.project(R)[0]}},E.yaxis={_id:"y",c2p:function(R){return E.project(R)[1]}},E.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},l.setConvert(E.mockAxis,O)},S.saveViewInitial=function(E){var C,O=E.center||{},P=E.projection,R=P.rotation||{};this.viewInitial={fitbounds:E.fitbounds,"projection.scale":P.scale},C=E._isScoped?{"center.lon":O.lon,"center.lat":O.lat}:E._isClipped?{"projection.rotation.lon":R.lon,"projection.rotation.lat":R.lat}:{"center.lon":O.lon,"center.lat":O.lat,"projection.rotation.lon":R.lon},s.extendFlat(this.viewInitial,C)},S.render=function(E){this._hasMarkerAngles&&E?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var E,C=this.projection,O=C.getPath();function P(j){var z=C(j.lonlat);return z?t(z[0],z[1]):null}function R(j){return C.isLonLatOverEdges(j.lonlat)?"none":null}for(E in this.basePaths)this.basePaths[E].attr("d",O);for(E in this.dataPaths)this.dataPaths[E].attr("d",function(j){return O(j.geojson)});for(E in this.dataPoints)this.dataPoints[E].attr("display",R).attr("transform",P)}},44622:function(ee,D,e){"use strict";var M=e(27659).AU,k=e(71828).counterRegex,a=e(69082),T="geo",b=k(T),p={};p[T]={valType:"subplotid",dflt:T,editType:"calc"},ee.exports={attr:T,name:T,idRoot:T,idRegex:b,attrRegex:b,attributes:p,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:function(s){for(var t=s._fullLayout,i=s.calcdata,n=t._subplots[T],r=0;r<n.length;r++){var o=n[r],l=M(i,T,o),u=t[o]._subplot;u||(u=a({id:o,graphDiv:s,container:t._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),t[o]._subplot=u),u.plot(l,t,s._promises)}},updateFx:function(s){for(var t=s._fullLayout,i=t._subplots[T],n=0;n<i.length;n++){var r=t[i[n]];r._subplot.updateFx(t,r)}},clean:function(s,t,i,n){for(var r=n._subplots[T]||[],o=0;o<r.length;o++){var l=r[o],u=n[l]._subplot;!t[l]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},77519:function(ee,D,e){"use strict";var M=e(22399),k=e(27670).Y,a=e(79952).P,T=e(78776),b=e(30962).overrideAll,p=e(78607),s={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:M.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a};(ee.exports=b({domain:k({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:p(T.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:p(T.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:M.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:T.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:T.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:T.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:T.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:M.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:M.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:M.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:M.background},lonaxis:s,lataxis:s},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(ee,D,e){"use strict";var M=e(71828),k=e(49119),a=e(27659).NG,T=e(78776),b=e(77519),p=T.axesNames;function s(t,i,n,r){var o=a(r.fullData,"geo",r.id).map(function(X){return X._expandedIndex}),l=n("resolution"),u=n("scope"),d=T.scopeDefaults[u],c=n("projection.type",d.projType),x=i._isAlbersUsa="albers usa"===c;x&&(u=i.scope="usa");var g=i._isScoped="world"!==u,h=i._isSatellite="satellite"===c,m=i._isConic=-1!==c.indexOf("conic")||"albers"===c,y=i._isClipped=!!T.lonaxisSpan[c];if(!1===t.visible){var v=M.extendDeep({},i._template);v.showcoastlines=!1,v.showcountries=!1,v.showframe=!1,v.showlakes=!1,v.showland=!1,v.showocean=!1,v.showrivers=!1,v.showsubunits=!1,v.lonaxis&&(v.lonaxis.showgrid=!1),v.lataxis&&(v.lataxis.showgrid=!1),i._template=v}for(var _=n("visible"),f=0;f<p.length;f++){var S,w=p[f],E=[30,10][f];if(g)S=d[w+"Range"];else{var C=T[w+"Span"],O=(C[c]||C["*"])/2,P=n("projection.rotation."+w.substr(0,3),d.projRotate[f]);S=[P-O,P+O]}var R=n(w+".range",S);n(w+".tick0"),n(w+".dtick",E),n(w+".showgrid",!!_&&void 0)&&(n(w+".gridcolor"),n(w+".gridwidth"),n(w+".griddash")),i[w]._ax={type:"linear",_id:w.slice(0,3),_traceIndices:o,setScale:M.identity,c2l:M.identity,r2l:M.identity,autorange:!0,range:R.slice(),_m:1,_input:{}}}var j=i.lonaxis.range,z=i.lataxis.range,N=j[0],Y=j[1];N>0&&Y<0&&(Y+=360);var F,U,V,te=(N+Y)/2;if(!x){var $=g?d.projRotate:[te,0,0];F=n("projection.rotation.lon",$[0]),n("projection.rotation.lat",$[1]),n("projection.rotation.roll",$[2]),n("showcoastlines",!g&&_)&&(n("coastlinecolor"),n("coastlinewidth")),n("showocean",!!_&&void 0)&&n("oceancolor")}x?(U=-96.6,V=38.7):(U=g?te:F,V=(z[0]+z[1])/2),n("center.lon",U),n("center.lat",V),h&&(n("projection.tilt"),n("projection.distance")),m&&n("projection.parallels",d.projParallels||[0,60]),n("projection.scale"),n("showland",!!_&&void 0)&&n("landcolor"),n("showlakes",!!_&&void 0)&&n("lakecolor"),n("showrivers",!!_&&void 0)&&(n("rivercolor"),n("riverwidth")),n("showcountries",g&&"usa"!==u&&_)&&(n("countrycolor"),n("countrywidth")),("usa"===u||"north america"===u&&50===l)&&(n("showsubunits",_),n("subunitcolor"),n("subunitwidth")),g||n("showframe",_)&&(n("framecolor"),n("framewidth")),n("bgcolor"),n("fitbounds")&&(delete i.projection.scale,g?(delete i.center.lon,delete i.center.lat):y?(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon,delete i.projection.rotation.lat,delete i.lonaxis.range,delete i.lataxis.range):(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon))}ee.exports=function(t,i,n){k(t,i,n,{type:"geo",attributes:b,handleDefaults:s,fullData:n,partition:"y"})}},74455:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(73972),T=Math.PI/180,b=180/Math.PI,p={cursor:"pointer"},s={cursor:"auto"};function t(g,h){return M.behavior.zoom().translate(h.translate()).scale(h.scale())}function i(g,h,m){var y=g.id,v=g.graphDiv,_=v.layout,f=_[y],S=v._fullLayout,w=S[y],E={},C={};function O(P,R){E[y+"."+P]=k.nestedProperty(f,P).get(),a.call("_storeDirectGUIEdit",_,S._preGUI,E);var j=k.nestedProperty(w,P);j.get()!==R&&(j.set(R),k.nestedProperty(f,P).set(R),C[y+"."+P]=R)}m(O),O("projection.scale",h.scale()/g.fitScale),O("fitbounds",!1),v.emit("plotly_relayout",C)}function n(g,h){var m=t(0,h);function y(v){var _=h.invert(g.midPt);v("center.lon",_[0]),v("center.lat",_[1])}return m.on("zoomstart",function(){M.select(this).style(p)}).on("zoom",function(){h.scale(M.event.scale).translate(M.event.translate),g.render(!0);var v=h.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/g.fitScale,"geo.center.lon":v[0],"geo.center.lat":v[1]})}).on("zoomend",function(){M.select(this).style(s),i(g,h,y)}),m}function r(g,h){var m,y,v,_,f,S,w,E,C,O=t(0,h);function P(j){return h.invert(j)}function R(j){var z=h.rotate(),N=h.invert(g.midPt);j("projection.rotation.lon",-z[0]),j("center.lon",N[0]),j("center.lat",N[1])}return O.on("zoomstart",function(){M.select(this).style(p),m=M.mouse(this),y=h.rotate(),v=h.translate(),_=y,f=P(m)}).on("zoom",function(){if(S=M.mouse(this),function(N){var Y=P(N);if(!Y)return!0;var F=h(Y);return Math.abs(F[0]-N[0])>2||Math.abs(F[1]-N[1])>2}(m))return O.scale(h.scale()),void O.translate(h.translate());h.scale(M.event.scale),h.translate([v[0],M.event.translate[1]]),f?P(S)&&(E=P(S),w=[_[0]+(E[0]-f[0]),y[1],y[2]],h.rotate(w),_=w):f=P(m=S),C=!0,g.render(!0);var j=h.rotate(),z=h.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/g.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1],"geo.projection.rotation.lon":-j[0]})}).on("zoomend",function(){M.select(this).style(s),C&&i(g,h,R)}),O}function o(g,h){var m,y={r:h.rotate(),k:h.scale()},v=t(0,h),_=function(E){for(var C=0,O=arguments.length,P=[];++C<O;)P.push(arguments[C]);var R=M.dispatch.apply(null,P);return R.of=function(j,z){return function(N){var Y;try{Y=N.sourceEvent=M.event,N.target=E,M.event=N,R[N.type].apply(j,z)}finally{M.event=Y}}},R}(v,"zoomstart","zoom","zoomend"),f=0,S=v.on;function w(E){var C=h.rotate();E("projection.rotation.lon",-C[0]),E("projection.rotation.lat",-C[1])}return v.on("zoomstart",function(){M.select(this).style(p);var E,C,O,P,R,j,z,N,Y,F,U,V=M.mouse(this),te=h.rotate(),$=te,X=h.translate(),W=(C=.5*(E=te)[0]*T,O=.5*E[1]*T,P=.5*E[2]*T,R=Math.sin(C),j=Math.cos(C),z=Math.sin(O),N=Math.cos(O),Y=Math.sin(P),[j*N*(F=Math.cos(P))+R*z*Y,R*N*F-j*z*Y,j*z*F+R*N*Y,j*N*Y-R*z*F]);m=l(h,V),S.call(v,"zoom",function(){var J,Q,re,ae,oe,ue,ve,be,de,pe,ie,ge=M.mouse(this);if(h.scale(y.k=M.event.scale),m){if(l(h,ge)){h.rotate(te).translate(X);var Ae=l(h,ge),ye=function(ie,he){if(ie&&he){var Se=(fe=he,[(Ie=ie)[1]*fe[2]-Ie[2]*fe[1],Ie[2]*fe[0]-Ie[0]*fe[2],Ie[0]*fe[1]-Ie[1]*fe[0]]),_e=Math.sqrt(x(Se,Se)),Me=.5*Math.acos(Math.max(-1,Math.min(1,x(ie,he)))),Ee=Math.sin(Me)/_e;return _e&&[Math.cos(Me),Se[2]*Ee,-Se[1]*Ee,Se[0]*Ee]}var Ie,fe}(m,Ae),we=(re=(J=W)[0],ae=J[1],oe=J[2],ue=J[3],ie=[re*(ve=(Q=ye)[0])-ae*(be=Q[1])-oe*(de=Q[2])-ue*(pe=Q[3]),re*be+ae*ve+oe*pe-ue*de,re*de-ae*pe+oe*ve+ue*be,re*pe+ae*de-oe*be+ue*ve],[Math.atan2(2*(ie[0]*ie[1]+ie[2]*ie[3]),1-2*(ie[1]*ie[1]+ie[2]*ie[2]))*b,Math.asin(Math.max(-1,Math.min(1,2*(ie[0]*ie[2]-ie[3]*ie[1]))))*b,Math.atan2(2*(ie[0]*ie[3]+ie[1]*ie[2]),1-2*(ie[2]*ie[2]+ie[3]*ie[3]))*b]),se=y.r=function(ie,he,Se){var _e=c(he,2,ie[0]);_e=c(_e,1,ie[1]),_e=c(_e,0,ie[2]-Se[2]);var Me,Ee,Ie=he[0],fe=he[1],xe=he[2],Te=_e[0],Ce=_e[1],De=_e[2],ze=Math.atan2(fe,Ie)*b,Ue=Math.sqrt(Ie*Ie+fe*fe);Math.abs(Ce)>Ue?(Ee=(Ce>0?90:-90)-ze,Me=0):(Ee=Math.asin(Ce/Ue)*b-ze,Me=Math.sqrt(Ue*Ue-Ce*Ce));var Ve=180-Ee-2*ze,Xe=(Math.atan2(De,Te)-Math.atan2(xe,Me))*b,at=(Math.atan2(De,Te)-Math.atan2(xe,-Me))*b;return u(Se[0],Se[1],Ee,Xe)<=u(Se[0],Se[1],Ve,at)?[Ee,Xe,Se[2]]:[Ve,at,Se[2]]}(we,m,$);isFinite(se[0])&&isFinite(se[1])&&isFinite(se[2])||(se=$),h.rotate(se),$=se}}else m=l(h,V=ge);_.of(this,arguments)({type:"zoom"})}),U=_.of(this,arguments),f++||U({type:"zoomstart"})}).on("zoomend",function(){var E;M.select(this).style(s),S.call(v,"zoom",null),E=_.of(this,arguments),--f||E({type:"zoomend"}),i(g,h,w)}).on("zoom.redraw",function(){g.render(!0);var E=h.rotate();g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/g.fitScale,"geo.projection.rotation.lon":-E[0],"geo.projection.rotation.lat":-E[1]})}),M.rebind(v,_,"on")}function l(g,h){var y,v,_,f,m=g.invert(h);return m&&isFinite(m[0])&&isFinite(m[1])&&(v=(y=m)[0]*T,_=y[1]*T,[(f=Math.cos(_))*Math.cos(v),f*Math.sin(v),Math.sin(_)])}function u(g,h,m,y){var v=d(m-g),_=d(y-h);return Math.sqrt(v*v+_*_)}function d(g){return(g%360+540)%360-180}function c(g,h,m){var y=m*T,v=g.slice(),_=0===h?1:0,f=2===h?1:2,S=Math.cos(y),w=Math.sin(y);return v[_]=g[_]*S-g[f]*w,v[f]=g[f]*S+g[_]*w,v}function x(g,h){for(var m=0,y=0,v=g.length;y<v;++y)m+=g[y]*h[y];return m}ee.exports=function(g,h){var m=g.projection;return(h._isScoped?n:h._isClipped?o:r)(g,m)}},27659:function(ee,D,e){"use strict";var M=e(73972),k=e(85555).SUBPLOT_PATTERN;D.AU=function(a,T,b){var p=M.subplotsRegistry[T];if(!p)return[];for(var s=p.attr,t=[],i=0;i<a.length;i++){var n=a[i];n[0].trace[s]===b&&t.push(n)}return t},D.a0=function(a,T){var b,p=[],s=[];if(!(b="string"==typeof T?M.getModule(T).plot:"function"==typeof T?T:T.plot))return[p,a];for(var t=0;t<a.length;t++){var i=a[t],n=i[0].trace;!0===n.visible&&0!==n._length&&(n._module&&n._module.plot===b?p.push(i):s.push(i))}return[p,s]},D.NG=function(a,T,b){if(!M.subplotsRegistry[T])return[];var p,s,t,i=M.subplotsRegistry[T].attr,n=[];if("gl2d"===T){var r=b.match(k);s="x"+r[1],t="y"+r[2]}for(var o=0;o<a.length;o++)p=a[o],"gl2d"===T&&M.traceIs(p,"gl2d")?p[i[0]]===s&&p[i[1]]===t&&n.push(p):p[i]===b&&n.push(p);return n}},75071:function(ee,D,e){"use strict";var M=e(16825),k=e(1195),a=e(48956),T=e(85555),b=e(38520);function p(s,t){this.element=s,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}ee.exports=function(s){var t=s.mouseContainer,i=s.glplot,n=new p(t,i);function r(){s.xaxis.autorange=!1,s.yaxis.autorange=!1}function o(l,u,d){var c,x,g=s.calcDataBox(),h=i.viewBox,m=n.lastPos[0],y=n.lastPos[1],v=T.MINDRAG*i.pixelRatio,_=T.MINZOOM*i.pixelRatio;function f(P,R,j){var z=Math.min(R,j),N=Math.max(R,j);z!==N?(g[P]=z,g[P+2]=N,n.dataBox=g,s.setRanges(g)):(s.selectBox.selectBox=[0,0,1,1],s.glplot.setDirty())}switch(u*=i.pixelRatio,d*=i.pixelRatio,d=h[3]-h[1]-d,s.fullLayout.dragmode){case"zoom":if(l){var S=u/(h[2]-h[0])*(g[2]-g[0])+g[0],w=d/(h[3]-h[1])*(g[3]-g[1])+g[1];n.boxInited||(n.boxStart[0]=S,n.boxStart[1]=w,n.dragStart[0]=u,n.dragStart[1]=d),n.boxEnd[0]=S,n.boxEnd[1]=w,n.boxInited=!0,n.boxEnabled||n.boxStart[0]===n.boxEnd[0]&&n.boxStart[1]===n.boxEnd[1]||(n.boxEnabled=!0);var E=Math.abs(n.dragStart[0]-u)<_,C=Math.abs(n.dragStart[1]-d)<_;if(!function(){for(var P=s.graphDiv._fullLayout._axisConstraintGroups,R=s.xaxis._id,j=s.yaxis._id,z=0;z<P.length;z++)if(-1!==P[z][R]){if(-1!==P[z][j])return!0;break}return!1}()||E&&C)E&&(n.boxEnd[0]=n.boxStart[0]),C&&(n.boxEnd[1]=n.boxStart[1]);else{c=n.boxEnd[0]-n.boxStart[0],x=n.boxEnd[1]-n.boxStart[1];var O=(g[3]-g[1])/(g[2]-g[0]);Math.abs(c*O)>Math.abs(x)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(c)*O*(x>=0?1:-1),n.boxEnd[1]<g[1]?(n.boxEnd[1]=g[1],n.boxEnd[0]=n.boxStart[0]+(g[1]-n.boxStart[1])/Math.abs(O)):n.boxEnd[1]>g[3]&&(n.boxEnd[1]=g[3],n.boxEnd[0]=n.boxStart[0]+(g[3]-n.boxStart[1])/Math.abs(O))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(x)/O*(c>=0?1:-1),n.boxEnd[0]<g[0]?(n.boxEnd[0]=g[0],n.boxEnd[1]=n.boxStart[1]+(g[0]-n.boxStart[0])*Math.abs(O)):n.boxEnd[0]>g[2]&&(n.boxEnd[0]=g[2],n.boxEnd[1]=n.boxStart[1]+(g[2]-n.boxStart[0])*Math.abs(O)))}}else n.boxEnabled?(c=n.boxStart[0]!==n.boxEnd[0],x=n.boxStart[1]!==n.boxEnd[1],c||x?(c&&(f(0,n.boxStart[0],n.boxEnd[0]),s.xaxis.autorange=!1),x&&(f(1,n.boxStart[1],n.boxEnd[1]),s.yaxis.autorange=!1),s.relayoutCallback()):s.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,l?(n.panning||(n.dragStart[0]=u,n.dragStart[1]=d),Math.abs(n.dragStart[0]-u)<v&&(u=n.dragStart[0]),Math.abs(n.dragStart[1]-d)<v&&(d=n.dragStart[1]),c=(m-u)*(g[2]-g[0])/(i.viewBox[2]-i.viewBox[0]),x=(y-d)*(g[3]-g[1])/(i.viewBox[3]-i.viewBox[1]),g[0]+=c,g[2]+=c,g[1]+=x,g[3]+=x,s.setRanges(g),n.panning=!0,n.lastInputTime=Date.now(),r(),s.cameraChanged(),s.handleAnnotations()):n.panning&&(n.panning=!1,s.relayoutCallback())}n.lastPos[0]=u,n.lastPos[1]=d}return n.mouseListener=M(t,o),t.addEventListener("touchstart",function(l){var u=a(l.changedTouches[0],t);o(0,u[0],u[1]),o(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchmove",function(l){l.preventDefault();var u=a(l.changedTouches[0],t);o(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchend",function(l){o(0,n.lastPos[0],n.lastPos[1]),l.preventDefault()},!!b&&{passive:!1}),n.wheelListener=k(t,function(l,u){if(!s.scrollZoom)return!1;var d=s.calcDataBox(),c=i.viewBox,x=n.lastPos[0],g=n.lastPos[1],h=Math.exp(5*u/(c[3]-c[1])),m=x/(c[2]-c[0])*(d[2]-d[0])+d[0],y=g/(c[3]-c[1])*(d[3]-d[1])+d[1];return d[0]=(d[0]-m)*h+m,d[2]=(d[2]-m)*h+m,d[1]=(d[1]-y)*h+y,d[3]=(d[3]-y)*h+y,s.setRanges(d),n.lastInputTime=Date.now(),r(),s.cameraChanged(),s.handleAnnotations(),s.relayoutCallback(),!0},!0),n}},82961:function(ee,D,e){"use strict";var M=e(89298),k=e(78614);function a(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var T=a.prototype,b=["xaxis","yaxis"];T.merge=function(p){var s,t,i,n,r,o,l,u,d,c,x;for(this.titleEnable=!1,this.backgroundColor=k(p.plot_bgcolor),c=0;c<2;++c){var g=(s=b[c]).charAt(0);for(i=(t=p[this.scene[s]._name]).title.text===this.scene.fullLayout._dfltTitle[g]?"":t.title.text,x=0;x<=2;x+=2)this.labelEnable[c+x]=!1,this.labels[c+x]=i,this.labelColor[c+x]=k(t.title.font.color),this.labelFont[c+x]=t.title.font.family,this.labelSize[c+x]=t.title.font.size,this.labelPad[c+x]=this.getLabelPad(s,t),this.tickEnable[c+x]=!1,this.tickColor[c+x]=k((t.tickfont||{}).color),this.tickAngle[c+x]="auto"===t.tickangle?0:Math.PI*-t.tickangle/180,this.tickPad[c+x]=this.getTickPad(t),this.tickMarkLength[c+x]=0,this.tickMarkWidth[c+x]=t.tickwidth||0,this.tickMarkColor[c+x]=k(t.tickcolor),this.borderLineEnable[c+x]=!1,this.borderLineColor[c+x]=k(t.linecolor),this.borderLineWidth[c+x]=t.linewidth||0;l=this.hasSharedAxis(t),r=this.hasAxisInDfltPos(s,t)&&!l,o=this.hasAxisInAltrPos(s,t)&&!l,n=t.mirror||!1,u=l?-1!==String(n).indexOf("all"):!!n,d=l?"allticks"===n:-1!==String(n).indexOf("ticks"),r?this.labelEnable[c]=!0:o&&(this.labelEnable[c+2]=!0),r?this.tickEnable[c]=t.showticklabels:o&&(this.tickEnable[c+2]=t.showticklabels),(r||u)&&(this.borderLineEnable[c]=t.showline),(o||u)&&(this.borderLineEnable[c+2]=t.showline),(r||d)&&(this.tickMarkLength[c]=this.getTickMarkLength(t)),(o||d)&&(this.tickMarkLength[c+2]=this.getTickMarkLength(t)),this.gridLineEnable[c]=t.showgrid,this.gridLineColor[c]=k(t.gridcolor),this.gridLineWidth[c]=t.gridwidth,this.zeroLineEnable[c]=t.zeroline,this.zeroLineColor[c]=k(t.zerolinecolor),this.zeroLineWidth[c]=t.zerolinewidth}},T.hasSharedAxis=function(p){var s=this.scene,t=s.fullLayout._subplots.gl2d;return 0!==M.findSubplotsWithAxis(t,p).indexOf(s.id)},T.hasAxisInDfltPos=function(p,s){var t=s.side;return"xaxis"===p?"bottom"===t:"yaxis"===p?"left"===t:void 0},T.hasAxisInAltrPos=function(p,s){var t=s.side;return"xaxis"===p?"top"===t:"yaxis"===p?"right"===t:void 0},T.getLabelPad=function(p,s){var t=1.5,i=s.title.font.size,n=s.showticklabels;return"xaxis"===p?"top"===s.side?i*(t+(n?1:0))-10:i*(t+(n?.5:0))-10:"yaxis"===p?"right"===s.side?10+i*(t+(n?1:.5)):10+i*(t+(n?.5:0)):void 0},T.getTickPad=function(p){return"outside"===p.ticks?10+p.ticklen:15},T.getTickMarkLength=function(p){if(!p.ticks)return 0;var s=p.ticklen;return"inside"===p.ticks?-s:s},ee.exports=function(p){return new a(p)}},4796:function(ee,D,e){"use strict";var M=e(30962).overrideAll,k=e(92918),a=e(10820),T=e(77922),b=e(85555),p=e(93612),s=e(528),t=e(27659).NG;D.name="gl2d",D.attr=["xaxis","yaxis"],D.idRoot=["x","y"],D.idRegex=b.idRegex,D.attrRegex=b.attrRegex,D.attributes=e(89502),D.supplyLayoutDefaults=function(i,n,r){n._has("cartesian")||p.supplyLayoutDefaults(i,n,r)},D.layoutAttrOverrides=M(p.layoutAttributes,"plot","from-root"),D.baseLayoutAttrOverrides=M({plot_bgcolor:a.plot_bgcolor,hoverlabel:s.hoverlabel},"plot","nested"),D.plot=function(i){for(var n=i._fullLayout,r=i._fullData,o=n._subplots.gl2d,l=0;l<o.length;l++){var u=o[l],d=n._plots[u],c=t(r,"gl2d",u),x=d._scene2d;void 0===x&&(x=new k({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},n),d._scene2d=x),x.plot(c,i.calcdata,n,i.layout)}},D.clean=function(i,n,r,o){for(var l=o._subplots.gl2d||[],u=0;u<l.length;u++){var d=l[u],c=o._plots[d];c._scene2d&&0===t(i,"gl2d",d).length&&(c._scene2d.destroy(),delete o._plots[d])}p.clean.apply(this,arguments)},D.drawFramework=function(i){i._context.staticPlot||p.drawFramework(i)},D.toSVG=function(i){for(var n=i._fullLayout,r=n._subplots.gl2d,o=0;o<r.length;o++){var l=n._plots[r[o]]._scene2d,u=l.toImage("png");n._glimages.append("svg:image").attr({xmlns:T.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},D.updateFx=function(i){for(var n=i._fullLayout,r=n._subplots.gl2d,o=0;o<r.length;o++)n._plots[r[o]]._scene2d.updateFx(n.dragmode)}},92918:function(ee,D,e){"use strict";var M,k,a=e(73972),T=e(89298),b=e(30211),p=e(9330).gl_plot2d,s=e(9330).gl_spikes2d,t=e(9330).gl_select_box,i=e(40372),n=e(82961),r=e(75071),o=e(58617),l=e(99082),u=l.enforce,d=l.clean,c=e(71739).doAutoRange,x=e(64505),g=x.drawMode,h=x.selectMode,m=["xaxis","yaxis"],y=e(85555).SUBPLOT_PATTERN;function v(f,S){this.container=f.container,this.graphDiv=f.graphDiv,this.pixelRatio=f.plotGlPixelRatio||window.devicePixelRatio,this.id=f.id,this.staticPlot=!!f.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(S),this.makeFramework(),this.stopped||(this.glplotOptions=n(this),this.glplotOptions.merge(S),this.glplot=p(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=s(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}ee.exports=v;var _=v.prototype;_.makeFramework=function(){if(this.staticPlot){if(!(k||(M=document.createElement("canvas"),k=i({canvas:M,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=M,this.gl=k}else{var f=this.container.querySelector(".gl-canvas-focus"),S=i({canvas:f,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!S)return o(this),void(this.stopped=!0);this.canvas=f,this.gl=S}var w=this.canvas;w.style.width="100%",w.style.height="100%",w.style.position="absolute",w.style.top="0px",w.style.left="0px",w.style["pointer-events"]="none",this.updateSize(w);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var C=this.mouseContainer=document.createElement("div");C.style.position="absolute",C.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var O=this.container;O.appendChild(E),O.appendChild(C);var P=this;C.addEventListener("mouseout",function(){P.isMouseOver=!1,P.unhover()}),C.addEventListener("mouseover",function(){P.isMouseOver=!0})},_.toImage=function(f){f||(f="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(M),this.updateSize(this.canvas);var S=this.glplot.gl,w=S.drawingBufferWidth,E=S.drawingBufferHeight;S.clearColor(1,1,1,0),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),S.bindFramebuffer(S.FRAMEBUFFER,null);var C=new Uint8Array(w*E*4);S.readPixels(0,0,w,E,S.RGBA,S.UNSIGNED_BYTE,C);for(var O=0,P=E-1;O<P;++O,--P)for(var R=0;R<w;++R)for(var j=0;j<4;++j){var z=C[4*(w*O+R)+j];C[4*(w*O+R)+j]=C[4*(w*P+R)+j],C[4*(w*P+R)+j]=z}var N=document.createElement("canvas");N.width=w,N.height=E;var Y,F=N.getContext("2d",{willReadFrequently:!0}),U=F.createImageData(w,E);switch(U.data.set(C),F.putImageData(U,0,0),f){case"jpeg":Y=N.toDataURL("image/jpeg");break;case"webp":Y=N.toDataURL("image/webp");break;default:Y=N.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(M),Y},_.updateSize=function(f){f||(f=this.canvas);var S=this.pixelRatio,w=this.fullLayout,E=w.width,C=w.height,O=0|Math.ceil(S*E),P=0|Math.ceil(S*C);return f.width===O&&f.height===P||(f.width=O,f.height=P),f},_.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var f=[T.calcTicks(this.xaxis),T.calcTicks(this.yaxis)],S=0;S<2;++S)for(var w=0;w<f[S].length;++w)f[S][w].text=f[S][w].text+"";return f},_.updateRefs=function(f){this.fullLayout=f;var S=this.id.match(y),w="xaxis"+S[1],E="yaxis"+S[2];this.xaxis=this.fullLayout[w],this.yaxis=this.fullLayout[E]},_.relayoutCallback=function(){var f=this.graphDiv,S=this.xaxis,w=this.yaxis,E=f.layout,C={},O=C[S._name+".range"]=S.range.slice(),P=C[w._name+".range"]=w.range.slice();C[S._name+".autorange"]=S.autorange,C[w._name+".autorange"]=w.autorange,a.call("_storeDirectGUIEdit",f.layout,f._fullLayout._preGUI,C);var R=E[S._name];R.range=O,R.autorange=S.autorange;var j=E[w._name];j.range=P,j.autorange=w.autorange,C.lastInputTime=this.camera.lastInputTime,f.emit("plotly_relayout",C)},_.cameraChanged=function(){var f=this.camera;this.glplot.setDataBox(this.calcDataBox());var S=this.computeTickMarks();(function(w,E){for(var C=0;C<2;++C){var O=w[C],P=E[C];if(O.length!==P.length)return!0;for(var R=0;R<O.length;++R)if(O[R].x!==P[R].x)return!0}return!1})(S,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=S,this.glplotOptions.dataBox=f.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},_.handleAnnotations=function(){for(var f=this.graphDiv,S=this.fullLayout.annotations,w=0;w<S.length;w++){var E=S[w];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&a.getComponentMethod("annotations","drawOne")(f,w)}},_.destroy=function(){if(this.glplot){var f=this.traces;f&&Object.keys(f).map(function(S){f[S].dispose(),delete f[S]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},_.plot=function(f,S,w){var E=this.glplot;this.updateRefs(w),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(f,S),this.updateFx(w.dragmode);var C=w.width,O=w.height;this.updateSize(this.canvas);var P=this.glplotOptions;P.merge(w),P.screenBox=[0,0,C,O];var R={_fullLayout:{_axisConstraintGroups:w._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:w._size}};d(R,this.xaxis),d(R,this.yaxis);var j,z,N=w._size,Y=this.xaxis.domain,F=this.yaxis.domain;for(P.viewBox=[N.l+Y[0]*N.w,N.b+F[0]*N.h,C-N.r-(1-Y[1])*N.w,O-N.t-(1-F[1])*N.h],this.mouseContainer.style.width=N.w*(Y[1]-Y[0])+"px",this.mouseContainer.style.height=N.h*(F[1]-F[0])+"px",this.mouseContainer.height=N.h*(F[1]-F[0]),this.mouseContainer.style.left=N.l+Y[0]*N.w+"px",this.mouseContainer.style.top=N.t+(1-F[1])*N.h+"px",z=0;z<2;++z)(j=this[m[z]])._length=P.viewBox[z+2]-P.viewBox[z],c(this.graphDiv,j),j.setScale();u(R),P.ticks=this.computeTickMarks(),P.dataBox=this.calcDataBox(),P.merge(w),E.update(P),this.glplot.draw()},_.calcDataBox=function(){var f=this.xaxis,S=this.yaxis,w=f.range,E=S.range,C=f.r2l,O=S.r2l;return[C(w[0]),O(E[0]),C(w[1]),O(E[1])]},_.setRanges=function(f){var S=this.xaxis,w=this.yaxis,E=S.l2r,C=w.l2r;S.range=[E(f[0]),E(f[2])],w.range=[C(f[1]),C(f[3])]},_.updateTraces=function(f,S){var w,E,C,O=Object.keys(this.traces);this.fullData=f;e:for(w=0;w<O.length;w++){var P=O[w],R=this.traces[P];for(E=0;E<f.length;E++)if((C=f[E]).uid===P&&C.type===R.type)continue e;R.dispose(),delete this.traces[P]}for(w=0;w<f.length;w++){C=f[w];var j=S[w],z=this.traces[C.uid];z?z.update(C,j):(z=C._module.plot(this,C,j),this.traces[C.uid]=z)}this.glplot.objects.sort(function(N,Y){return N._trace.index-Y._trace.index})},_.updateFx=function(f){h(f)||g(f)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===f?"move":"zoom"===f?"crosshair":null},_.emitPointAction=function(f,S){for(var w,E=f.trace.uid,C=f.pointIndex,O=0;O<this.fullData.length;O++)this.fullData[O].uid===E&&(w=this.fullData[O]);var P={x:f.traceCoord[0],y:f.traceCoord[1],curveNumber:w.index,pointNumber:C,data:w._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};b.appendArrayPointValue(P,w,C),this.graphDiv.emit(S,{points:[P]})},_.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var f=this.glplot,S=this.camera,w=S.mouseListener,E=1===this.lastButtonState&&0===w.buttons,C=this.fullLayout;this.lastButtonState=w.buttons,this.cameraChanged();var O,P=w.x*f.pixelRatio,R=this.canvas.height-f.pixelRatio*w.y;if(S.boxEnabled&&"zoom"===C.dragmode){this.selectBox.enabled=!0;for(var j=this.selectBox.selectBox=[Math.min(S.boxStart[0],S.boxEnd[0]),Math.min(S.boxStart[1],S.boxEnd[1]),Math.max(S.boxStart[0],S.boxEnd[0]),Math.max(S.boxStart[1],S.boxEnd[1])],z=0;z<2;z++)S.boxStart[z]===S.boxEnd[z]&&(j[z]=f.dataBox[z],j[z+2]=f.dataBox[z+2]);f.setDirty()}else if(!S.panning&&this.isMouseOver){this.selectBox.enabled=!1;var N=C._size,Y=this.xaxis.domain,F=this.yaxis.domain,U=(O=f.pick(P/f.pixelRatio+N.l+Y[0]*N.w,R/f.pixelRatio-(N.t+(1-F[1])*N.h)))&&O.object._trace.handlePick(O);if(U&&E&&this.emitPointAction(U,"plotly_click"),O&&"skip"!==O.object._trace.hoverinfo&&C.hovermode&&U&&(!this.lastPickResult||this.lastPickResult.traceUid!==U.trace.uid||this.lastPickResult.dataCoord[0]!==U.dataCoord[0]||this.lastPickResult.dataCoord[1]!==U.dataCoord[1])){var V=U;this.lastPickResult={traceUid:U.trace?U.trace.uid:null,dataCoord:U.dataCoord.slice()},this.spikes.update({center:O.dataCoord}),V.screenCoord=[((f.viewBox[2]-f.viewBox[0])*(O.dataCoord[0]-f.dataBox[0])/(f.dataBox[2]-f.dataBox[0])+f.viewBox[0])/f.pixelRatio,(this.canvas.height-(f.viewBox[3]-f.viewBox[1])*(O.dataCoord[1]-f.dataBox[1])/(f.dataBox[3]-f.dataBox[1])-f.viewBox[1])/f.pixelRatio],this.emitPointAction(U,"plotly_hover");var te=this.fullData[V.trace.index]||{},$=V.pointIndex,X=b.castHoverinfo(te,C,$);if(X&&"all"!==X){var W=X.split("+");-1===W.indexOf("x")&&(V.traceCoord[0]=void 0),-1===W.indexOf("y")&&(V.traceCoord[1]=void 0),-1===W.indexOf("z")&&(V.traceCoord[2]=void 0),-1===W.indexOf("text")&&(V.textLabel=void 0),-1===W.indexOf("name")&&(V.name=void 0)}b.loneHover({x:V.screenCoord[0],y:V.screenCoord[1],xLabel:this.hoverFormatter("xaxis",V.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",V.traceCoord[1]),zLabel:V.traceCoord[2],text:V.textLabel,name:V.name,color:b.castHoverOption(te,$,"bgcolor")||V.color,borderColor:b.castHoverOption(te,$,"bordercolor"),fontFamily:b.castHoverOption(te,$,"font.family"),fontSize:b.castHoverOption(te,$,"font.size"),fontColor:b.castHoverOption(te,$,"font.color"),nameLength:b.castHoverOption(te,$,"namelength"),textAlign:b.castHoverOption(te,$,"align")},{container:this.svgContainer,gd:this.graphDiv})}}O||this.unhover(),f.draw()}},_.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),b.loneUnhover(this.svgContainer))},_.hoverFormatter=function(f,S){if(void 0!==S){var w=this[f];return T.tickText(w,w.c2l(S),"hover").text}}},58547:function(ee,D,e){"use strict";var M=e(30962).overrideAll,k=e(528),a=e(33539),T=e(27659).NG,b=e(71828),p=e(77922),s="gl3d",t="scene";D.name=s,D.attr=t,D.idRoot=t,D.idRegex=D.attrRegex=b.counterRegex("scene"),D.attributes=e(59084),D.layoutAttributes=e(65500),D.baseLayoutAttrOverrides=M({hoverlabel:k.hoverlabel},"plot","nested"),D.supplyLayoutDefaults=e(24682),D.plot=function(i){for(var n=i._fullLayout,r=i._fullData,o=n._subplots[s],l=0;l<o.length;l++){var u=o[l],d=T(r,s,u),c=n[u],x=c.camera,g=c._scene;g||(g=new a({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:x},n),c._scene=g),g.viewInitial||(g.viewInitial={up:{x:x.up.x,y:x.up.y,z:x.up.z},eye:{x:x.eye.x,y:x.eye.y,z:x.eye.z},center:{x:x.center.x,y:x.center.y,z:x.center.z}}),g.plot(d,n,i.layout)}},D.clean=function(i,n,r,o){for(var l=o._subplots[s]||[],u=0;u<l.length;u++){var d=l[u];!n[d]&&o[d]._scene&&(o[d]._scene.destroy(),o._infolayer&&o._infolayer.selectAll(".annotation-"+d).remove())}},D.toSVG=function(i){for(var n=i._fullLayout,r=n._subplots[s],o=n._size,l=0;l<r.length;l++){var u=n[r[l]],d=u.domain,c=u._scene,x=c.toImage("png");n._glimages.append("svg:image").attr({xmlns:p.svg,"xlink:href":x,x:o.l+o.w*d.x[0],y:o.t+o.h*(1-d.y[1]),width:o.w*(d.x[1]-d.x[0]),height:o.h*(d.y[1]-d.y[0]),preserveAspectRatio:"none"}),c.destroy()}},D.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var n=i.substr(5);return"1"===n&&(n=""),t+n}},D.updateFx=function(i){for(var n=i._fullLayout,r=n._subplots[s],o=0;o<r.length;o++)n[r[o]]._scene.updateFx(n.dragmode,n.hovermode)}},59084:function(ee){"use strict";ee.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(ee,D,e){"use strict";var M=e(7901),k=e(13838),a=e(1426).extendFlat,T=e(30962).overrideAll;ee.exports=T({visible:k.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:M.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:k.color,categoryorder:k.categoryorder,categoryarray:k.categoryarray,title:{text:k.title.text,font:k.title.font},type:a({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorange:k.autorange,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},rangemode:k.rangemode,minallowed:k.minallowed,maxallowed:k.maxallowed,range:a({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,mirror:k.mirror,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,tickfont:k.tickfont,tickangle:k.tickangle,tickprefix:k.tickprefix,showtickprefix:k.showtickprefix,ticksuffix:k.ticksuffix,showticksuffix:k.showticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickformat:k.tickformat,tickformatstops:k.tickformatstops,hoverformat:k.hoverformat,showline:k.showline,linecolor:k.linecolor,linewidth:k.linewidth,showgrid:k.showgrid,gridcolor:a({},k.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:k.gridwidth,zeroline:k.zeroline,zerolinecolor:k.zerolinecolor,zerolinewidth:k.zerolinewidth,_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}},"plot","from-root")},3277:function(ee,D,e){"use strict";var M=e(84267).mix,k=e(71828),a=e(44467),T=e(77894),b=e(951),p=e(71453),s=["xaxis","yaxis","zaxis"];ee.exports=function(t,i,n){var r,o;function l(c,x){return k.coerce(r,o,T,c,x)}for(var u=0;u<s.length;u++){var d=s[u];r=t[d]||{},(o=a.newContainer(i,d))._id=d[0]+n.scene,o._name=d,b(r,o,l,n),p(r,o,l,{font:n.font,letter:d[0],data:n.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),l("gridcolor",M(o.color,n.bgColor,72.72727272727273).toRgbString()),l("title.text",d[0]),o.setScale=k.noop,l("showspikes")&&(l("spikesides"),l("spikethickness"),l("spikecolor",o.color)),l("showaxeslabels"),l("showbackground")&&l("backgroundcolor")}}},30422:function(ee,D,e){"use strict";var M=e(78614),k=e(71828),a=["xaxis","yaxis","zaxis"];function T(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}T.prototype.merge=function(b,p){for(var s=this,t=0;t<3;++t){var i=p[a[t]];i.visible?(s.labels[t]=b._meta?k.templateString(i.title.text,b._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(s.labelColor[t]=M(i.title.font.color)),i.title.font.family&&(s.labelFont[t]=i.title.font.family),i.title.font.size&&(s.labelSize[t]=i.title.font.size)),"showline"in i&&(s.lineEnable[t]=i.showline),"linecolor"in i&&(s.lineColor[t]=M(i.linecolor)),"linewidth"in i&&(s.lineWidth[t]=i.linewidth),"showgrid"in i&&(s.gridEnable[t]=i.showgrid),"gridcolor"in i&&(s.gridColor[t]=M(i.gridcolor)),"gridwidth"in i&&(s.gridWidth[t]=i.gridwidth),"log"===i.type?s.zeroEnable[t]=!1:"zeroline"in i&&(s.zeroEnable[t]=i.zeroline),"zerolinecolor"in i&&(s.zeroLineColor[t]=M(i.zerolinecolor)),"zerolinewidth"in i&&(s.zeroLineWidth[t]=i.zerolinewidth),"ticks"in i&&i.ticks?s.lineTickEnable[t]=!0:s.lineTickEnable[t]=!1,"ticklen"in i&&(s.lineTickLength[t]=s._defaultLineTickLength[t]=i.ticklen),"tickcolor"in i&&(s.lineTickColor[t]=M(i.tickcolor)),"tickwidth"in i&&(s.lineTickWidth[t]=i.tickwidth),"tickangle"in i&&(s.tickAngle[t]="auto"===i.tickangle?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(s.tickEnable[t]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(s.tickColor[t]=M(i.tickfont.color)),i.tickfont.family&&(s.tickFont[t]=i.tickfont.family),i.tickfont.size&&(s.tickSize[t]=i.tickfont.size)),"mirror"in i?-1!==["ticks","all","allticks"].indexOf(i.mirror)?(s.lineTickMirror[t]=!0,s.lineMirror[t]=!0):!0===i.mirror?(s.lineTickMirror[t]=!1,s.lineMirror[t]=!0):(s.lineTickMirror[t]=!1,s.lineMirror[t]=!1):s.lineMirror[t]=!1,"showbackground"in i&&!1!==i.showbackground?(s.backgroundEnable[t]=!0,s.backgroundColor[t]=M(i.backgroundcolor)):s.backgroundEnable[t]=!1):(s.tickEnable[t]=!1,s.labelEnable[t]=!1,s.lineEnable[t]=!1,s.lineTickEnable[t]=!1,s.gridEnable[t]=!1,s.zeroEnable[t]=!1,s.backgroundEnable[t]=!1)}},ee.exports=function(b,p){var s=new T;return s.merge(b,p),s}},24682:function(ee,D,e){"use strict";var M=e(71828),k=e(7901),a=e(73972),T=e(49119),b=e(3277),p=e(65500),s=e(27659).NG,t="gl3d";function i(n,r,o,l){for(var u=o("bgcolor"),d=k.combine(u,l.paper_bgcolor),c=["up","center","eye"],x=0;x<c.length;x++)o("camera."+c[x]+".x"),o("camera."+c[x]+".y"),o("camera."+c[x]+".z");o("camera.projection.type");var g=!!o("aspectratio.x")&&!!o("aspectratio.y")&&!!o("aspectratio.z"),h=o("aspectmode",g?"manual":"auto");g||(n.aspectratio=r.aspectratio={x:1,y:1,z:1},"manual"===h&&(r.aspectmode="auto"),n.aspectmode=r.aspectmode);var m=s(l.fullData,t,l.id);b(n,r,{font:l.font,scene:l.id,data:m,bgColor:d,calendar:l.calendar,autotypenumbersDflt:l.autotypenumbersDflt,fullLayout:l.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(n,r,l);var y=l.getDfltFromLayout("dragmode");if(!1!==y&&!y)if(y="orbit",n.camera&&n.camera.up){var v=n.camera.up.x,_=n.camera.up.y,f=n.camera.up.z;0!==f&&(v&&_&&f?f/Math.sqrt(v*v+_*_+f*f)>.999&&(y="turntable"):y="turntable")}else y="turntable";o("dragmode",y),o("hovermode",l.getDfltFromLayout("hovermode"))}ee.exports=function(n,r,o){var l=r._basePlotModules.length>1;T(n,r,o,{type:t,attributes:p,handleDefaults:i,fullLayout:r,font:r.font,fullData:o,getDfltFromLayout:function(u){if(!l)return M.validate(n[u],p[u])?n[u]:void 0},autotypenumbersDflt:r.autotypenumbers,paper_bgcolor:r.paper_bgcolor,calendar:r.calendar})}},65500:function(ee,D,e){"use strict";var M=e(77894),k=e(27670).Y,a=e(1426).extendFlat,T=e(71828).counterRegex;function b(p,s,t){return{x:{valType:"number",dflt:p,editType:"camera"},y:{valType:"number",dflt:s,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}ee.exports={_arrayAttrRegexps:[T("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(b(0,0,1),{}),center:a(b(0,0,0),{}),eye:a(b(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:k({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:M,yaxis:M,zaxis:M,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(ee,D,e){"use strict";var M=e(78614),k=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}a.prototype.merge=function(T){for(var b=0;b<3;++b){var p=T[k[b]];p.visible?(this.enabled[b]=p.showspikes,this.colors[b]=M(p.spikecolor),this.drawSides[b]=p.spikesides,this.lineWidth[b]=p.spikethickness):(this.enabled[b]=!1,this.drawSides[b]=!1)}},ee.exports=function(T){var b=new a;return b.merge(T),b}},96085:function(ee,D,e){"use strict";ee.exports=function(b){for(var p=b.axesOptions,s=b.glplot.axesPixels,t=b.fullSceneLayout,i=[[],[],[]],n=0;n<3;++n){var r=t[a[n]];if(r._length=(s[n].hi-s[n].lo)*s[n].pixelsPerDataUnit/b.dataScale[n],Math.abs(r._length)===1/0||isNaN(r._length))i[n]=[];else{r._input_range=r.range.slice(),r.range[0]=s[n].lo/b.dataScale[n],r.range[1]=s[n].hi/b.dataScale[n],r._m=1/(b.dataScale[n]*s[n].pixelsPerDataUnit),r.range[0]===r.range[1]&&(r.range[0]-=1,r.range[1]+=1);var o=r.tickmode;if("auto"===r.tickmode){r.tickmode="linear";var l=r.nticks||k.constrain(r._length/40,4,9);M.autoTicks(r,Math.abs(r.range[1]-r.range[0])/l)}for(var u=M.calcTicks(r,{msUTC:!0}),d=0;d<u.length;++d)u[d].x=u[d].x*b.dataScale[n],"date"===r.type&&(u[d].text=u[d].text.replace(/\<br\>/g," "));i[n]=u,r.tickmode=o}}for(p.ticks=i,n=0;n<3;++n)for(T[n]=.5*(b.glplot.bounds[0][n]+b.glplot.bounds[1][n]),d=0;d<2;++d)p.bounds[d][n]=b.glplot.bounds[d][n];b.contourLevels=function(c){for(var x=new Array(3),g=0;g<3;++g){for(var h=c[g],m=new Array(h.length),y=0;y<h.length;++y)m[y]=h[y].x;x[g]=m}return x}(i)};var M=e(89298),k=e(71828),a=["xaxis","yaxis","zaxis"],T=[0,0,0]},63538:function(ee){"use strict";function D(e,M){var k,a,T=[0,0,0,0];for(k=0;k<4;++k)for(a=0;a<4;++a)T[a]+=e[4*k+a]*M[k];return T}ee.exports=function(e,M){return D(e.projection,D(e.view,D(e.model,[M[0],M[1],M[2],1])))}},33539:function(ee,D,e){"use strict";var M,k,a=e(9330).gl_plot3d,T=a.createCamera,b=a.createScene,p=e(40372),s=e(38520),t=e(73972),i=e(71828),n=i.preserveDrawingBuffer(),r=e(89298),o=e(30211),l=e(78614),u=e(58617),d=e(63538),c=e(30422),x=e(13133),g=e(96085),h=e(71739).applyAutorangeOptions,m=!1;function y(w,E){var C=document.createElement("div"),O=w.container;this.graphDiv=w.graphDiv;var P=document.createElementNS("http://www.w3.org/2000/svg","svg");P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",P.style["z-index"]=20,P.style["pointer-events"]="none",C.appendChild(P),this.svgContainer=P,C.id=w.id,C.style.position="absolute",C.style.top=C.style.left="0px",C.style.width=C.style.height="100%",O.appendChild(C),this.fullLayout=E,this.id=w.id||"scene",this.fullSceneLayout=E[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(E,E[this.id]),this.spikeOptions=x(E[this.id]),this.container=C,this.staticMode=!!w.staticPlot,this.pixelRatio=this.pixelRatio||w.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var v=y.prototype;v.prepareOptions=function(){var w=this,E={canvas:w.canvas,gl:w.gl,glOptions:{preserveDrawingBuffer:n,premultipliedAlpha:!0,antialias:!0},container:w.container,axes:w.axesOptions,spikes:w.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:w.camera,pixelRatio:w.pixelRatio};if(w.staticMode){if(!(k||(M=document.createElement("canvas"),k=p({canvas:M,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");E.gl=k,E.canvas=M}return E};var _=!0;v.tryCreatePlot=function(){var w=this,E=w.prepareOptions(),C=!0;try{w.glplot=b(E)}catch{if(w.staticMode||!_||n)C=!1;else{i.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{n=E.glOptions.preserveDrawingBuffer=!0,w.glplot=b(E)}catch{n=E.glOptions.preserveDrawingBuffer=!1,C=!1}}}return _=!1,C},v.initializeGLCamera=function(){var w=this,E=w.fullSceneLayout.camera,C="orthographic"===E.projection.type;w.camera=T(w.container,{center:[E.center.x,E.center.y,E.center.z],eye:[E.eye.x,E.eye.y,E.eye.z],up:[E.up.x,E.up.y,E.up.z],_ortho:C,zoomMin:.01,zoomMax:100,mode:"orbit"})},v.initializeGLPlot=function(){var w=this;if(w.initializeGLCamera(),!w.tryCreatePlot())return u(w);w.traces={},w.make4thDimension();var E=w.graphDiv,C=E.layout,O=function(){var R={};return w.isCameraChanged(C)&&(R[w.id+".camera"]=w.getCamera()),w.isAspectChanged(C)&&(R[w.id+".aspectratio"]=w.glplot.getAspectratio(),"manual"!==C[w.id].aspectmode&&(w.fullSceneLayout.aspectmode=C[w.id].aspectmode=R[w.id+".aspectmode"]="manual")),R},P=function(R){if(!1!==R.fullSceneLayout.dragmode){var j=O();R.saveLayout(C),R.graphDiv.emit("plotly_relayout",j)}};return w.glplot.canvas&&(w.glplot.canvas.addEventListener("mouseup",function(){P(w)}),w.glplot.canvas.addEventListener("touchstart",function(){m=!0}),w.glplot.canvas.addEventListener("wheel",function(R){if(E._context._scrollZoom.gl3d){if(w.camera._ortho){var j=R.deltaX>R.deltaY?1.1:.9090909090909091,z=w.glplot.getAspectratio();w.glplot.setAspectratio({x:j*z.x,y:j*z.y,z:j*z.z})}P(w)}},!!s&&{passive:!1}),w.glplot.canvas.addEventListener("mousemove",function(){if(!1!==w.fullSceneLayout.dragmode&&0!==w.camera.mouseListener.buttons){var R=O();w.graphDiv.emit("plotly_relayouting",R)}}),w.staticMode||w.glplot.canvas.addEventListener("webglcontextlost",function(R){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:R,layer:w.id})},!1)),w.glplot.oncontextloss=function(){w.recoverContext()},w.glplot.onrender=function(){w.render()},!0},v.render=function(){var w,E=this,C=E.graphDiv,O=E.svgContainer,P=E.container.getBoundingClientRect();C._fullLayout._calcInverseTransform(C);var R=C._fullLayout._invScaleX,j=C._fullLayout._invScaleY,z=P.width*R,N=P.height*j;O.setAttributeNS(null,"viewBox","0 0 "+z+" "+N),O.setAttributeNS(null,"width",z),O.setAttributeNS(null,"height",N),g(E),E.glplot.axes.update(E.axesOptions);for(var Y=Object.keys(E.traces),F=null,U=E.glplot.selection,V=0;V<Y.length;++V)"skip"!==(w=E.traces[Y[V]]).data.hoverinfo&&w.handlePick(U)&&(F=w),w.setContourLevels&&w.setContourLevels();function te(pe,ge,Ae){var ye=E.fullSceneLayout[pe+"axis"];return"log"!==ye.type&&(ge=ye.d2l(ge)),r.hoverLabelText(ye,ge,Ae)}if(null!==F){var $=d(E.glplot.cameraParams,U.dataCoordinate);w=F.data;var X,W=C._fullData[w.index],J=U.index,Q={xLabel:te("x",U.traceCoordinate[0],w.xhoverformat),yLabel:te("y",U.traceCoordinate[1],w.yhoverformat),zLabel:te("z",U.traceCoordinate[2],w.zhoverformat)},re=o.castHoverinfo(W,E.fullLayout,J),ae=(re||"").split("+"),oe=re&&"all"===re;W.hovertemplate||oe||(-1===ae.indexOf("x")&&(Q.xLabel=void 0),-1===ae.indexOf("y")&&(Q.yLabel=void 0),-1===ae.indexOf("z")&&(Q.zLabel=void 0),-1===ae.indexOf("text")&&(U.textLabel=void 0),-1===ae.indexOf("name")&&(F.name=void 0));var ue=[];"cone"===w.type||"streamtube"===w.type?(Q.uLabel=te("x",U.traceCoordinate[3],w.uhoverformat),(oe||-1!==ae.indexOf("u"))&&ue.push("u: "+Q.uLabel),Q.vLabel=te("y",U.traceCoordinate[4],w.vhoverformat),(oe||-1!==ae.indexOf("v"))&&ue.push("v: "+Q.vLabel),Q.wLabel=te("z",U.traceCoordinate[5],w.whoverformat),(oe||-1!==ae.indexOf("w"))&&ue.push("w: "+Q.wLabel),Q.normLabel=U.traceCoordinate[6].toPrecision(3),(oe||-1!==ae.indexOf("norm"))&&ue.push("norm: "+Q.normLabel),"streamtube"===w.type&&(Q.divergenceLabel=U.traceCoordinate[7].toPrecision(3),(oe||-1!==ae.indexOf("divergence"))&&ue.push("divergence: "+Q.divergenceLabel)),U.textLabel&&ue.push(U.textLabel),X=ue.join("<br>")):"isosurface"===w.type||"volume"===w.type?(Q.valueLabel=r.hoverLabelText(E._mockAxis,E._mockAxis.d2l(U.traceCoordinate[3]),w.valuehoverformat),ue.push("value: "+Q.valueLabel),U.textLabel&&ue.push(U.textLabel),X=ue.join("<br>")):X=U.textLabel;var ve={x:U.traceCoordinate[0],y:U.traceCoordinate[1],z:U.traceCoordinate[2],data:W._input,fullData:W,curveNumber:W.index,pointNumber:J};o.appendArrayPointValue(ve,W,J),w._module.eventData&&(ve=W._module.eventData(ve,U,W,{},J));var be={points:[ve]};if(E.fullSceneLayout.hovermode){var de=[];o.loneHover({trace:W,x:(.5+.5*$[0]/$[3])*z,y:(.5-.5*$[1]/$[3])*N,xLabel:Q.xLabel,yLabel:Q.yLabel,zLabel:Q.zLabel,text:X,name:F.name,color:o.castHoverOption(W,J,"bgcolor")||F.color,borderColor:o.castHoverOption(W,J,"bordercolor"),fontFamily:o.castHoverOption(W,J,"font.family"),fontSize:o.castHoverOption(W,J,"font.size"),fontColor:o.castHoverOption(W,J,"font.color"),nameLength:o.castHoverOption(W,J,"namelength"),textAlign:o.castHoverOption(W,J,"align"),hovertemplate:i.castOption(W,J,"hovertemplate"),hovertemplateLabels:i.extendFlat({},ve,Q),eventData:[ve]},{container:O,gd:C,inOut_bbox:de}),ve.bbox=de[0]}U.distance<5&&(U.buttons||m)?C.emit("plotly_click",be):C.emit("plotly_hover",be),this.oldEventData=be}else o.loneUnhover(O),this.oldEventData&&C.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;E.drawAnnotations(E)},v.recoverContext=function(){var w=this;w.glplot.dispose();var E=function(){w.glplot.gl.isContextLost()?requestAnimationFrame(E):w.initializeGLPlot()?w.plot.apply(w,w.plotArgs):i.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(E)};var f=["xaxis","yaxis","zaxis"];function S(w,E,C){for(var O=w.fullSceneLayout,P=0;P<3;P++){var R=f[P],j=R.charAt(0),z=O[R],N=E[j],Y=E[j+"calendar"],F=E["_"+j+"length"];if(i.isArrayOrTypedArray(N))for(var U,V=0;V<(F||N.length);V++)if(i.isArrayOrTypedArray(N[V]))for(var te=0;te<N[V].length;++te)U=z.d2l(N[V][te],0,Y),!isNaN(U)&&isFinite(U)&&(C[0][P]=Math.min(C[0][P],U),C[1][P]=Math.max(C[1][P],U));else U=z.d2l(N[V],0,Y),!isNaN(U)&&isFinite(U)&&(C[0][P]=Math.min(C[0][P],U),C[1][P]=Math.max(C[1][P],U));else C[0][P]=Math.min(C[0][P],0),C[1][P]=Math.max(C[1][P],F-1)}}v.plot=function(w,E,C){var O=this;if(O.plotArgs=[w,E,C],!O.glplot.contextLost){var P,R,j,z,N,Y,F=E[O.id],U=C[O.id];O.fullLayout=E,O.fullSceneLayout=F,O.axesOptions.merge(E,F),O.spikeOptions.merge(F),O.setViewport(F),O.updateFx(F.dragmode,F.hovermode),O.camera.enableWheel=O.graphDiv._context._scrollZoom.gl3d,O.glplot.setClearColor(l(F.bgcolor)),O.setConvert(N),w?Array.isArray(w)||(w=[w]):w=[];var V=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(j=0;j<w.length;++j)!0===(P=w[j]).visible&&0!==P._length&&S(this,P,V);!function(Ee,Ie){for(var fe=Ee.fullSceneLayout,xe=fe.annotations||[],Te=0;Te<3;Te++)for(var Ce=f[Te],De=Ce.charAt(0),ze=fe[Ce],Ue=0;Ue<xe.length;Ue++){var Ve=xe[Ue];if(Ve.visible){var Xe=ze.r2l(Ve[De]);!isNaN(Xe)&&isFinite(Xe)&&(Ie[0][Te]=Math.min(Ie[0][Te],Xe),Ie[1][Te]=Math.max(Ie[1][Te],Xe))}}}(this,V);var te=[1,1,1];for(z=0;z<3;++z)V[1][z]===V[0][z]?te[z]=1:te[z]=1/(V[1][z]-V[0][z]);for(O.dataScale=te,O.convertAnnotations(this),j=0;j<w.length;++j)!0===(P=w[j]).visible&&0!==P._length&&((R=O.traces[P.uid])?R.data.type===P.type?R.update(P):(R.dispose(),R=P._module.plot(this,P),O.traces[P.uid]=R):(R=P._module.plot(this,P),O.traces[P.uid]=R),R.name=P.name);var $=Object.keys(O.traces);e:for(j=0;j<$.length;++j){for(z=0;z<w.length;++z)if(w[z].uid===$[j]&&!0===w[z].visible&&0!==w[z]._length)continue e;(R=O.traces[$[j]]).dispose(),delete O.traces[$[j]]}O.glplot.objects.sort(function(Ee,Ie){return Ee._trace.data.index-Ie._trace.data.index});var X,W=[[0,0,0],[0,0,0]],J=[],Q={};for(j=0;j<3;++j){var re;if((Y=(N=F[f[j]]).type)in Q?(Q[Y].acc*=te[j],Q[Y].count+=1):Q[Y]={acc:te[j],count:1},N.autorange){W[0][j]=1/0,W[1][j]=-1/0;var ae=O.glplot.objects,oe=O.fullSceneLayout.annotations||[],ue=N._name.charAt(0);for(z=0;z<ae.length;z++){var ve=ae[z],be=ve.bounds,de=ve._trace.data._pad||0;"ErrorBars"===ve.constructor.name&&N._lowerLogErrorBound?W[0][j]=Math.min(W[0][j],N._lowerLogErrorBound):W[0][j]=Math.min(W[0][j],be[0][j]/te[j]-de),W[1][j]=Math.max(W[1][j],be[1][j]/te[j]+de)}for(z=0;z<oe.length;z++){var pe=oe[z];if(pe.visible){var ge=N.r2l(pe[ue]);W[0][j]=Math.min(W[0][j],ge),W[1][j]=Math.max(W[1][j],ge)}}if("rangemode"in N&&"tozero"===N.rangemode&&(W[0][j]=Math.min(W[0][j],0),W[1][j]=Math.max(W[1][j],0)),W[0][j]>W[1][j])W[0][j]=-1,W[1][j]=1;else{var Ae=W[1][j]-W[0][j];W[0][j]-=Ae/32,W[1][j]+=Ae/32}if(re=[W[0][j],W[1][j]],re=h(re,N),W[0][j]=re[0],W[1][j]=re[1],N.isReversed()){var ye=W[0][j];W[0][j]=W[1][j],W[1][j]=ye}}else re=N.range,W[0][j]=N.r2l(re[0]),W[1][j]=N.r2l(re[1]);W[0][j]===W[1][j]&&(W[0][j]-=1,W[1][j]+=1),J[j]=W[1][j]-W[0][j],N.range=[W[0][j],W[1][j]],N.limitRange(),O.glplot.setBounds(j,{min:N.range[0]*te[j],max:N.range[1]*te[j]})}var we=F.aspectmode;if("cube"===we)X=[1,1,1];else if("manual"===we){var se=F.aspectratio;X=[se.x,se.y,se.z]}else{if("auto"!==we&&"data"!==we)throw new Error("scene.js aspectRatio was not one of the enumerated types");var ie=[1,1,1];for(j=0;j<3;++j){var he=Q[Y=(N=F[f[j]]).type];ie[j]=Math.pow(he.acc,1/he.count)/te[j]}X="data"===we||Math.max.apply(null,ie)/Math.min.apply(null,ie)<=4?ie:[1,1,1]}F.aspectratio.x=U.aspectratio.x=X[0],F.aspectratio.y=U.aspectratio.y=X[1],F.aspectratio.z=U.aspectratio.z=X[2],O.glplot.setAspectratio(F.aspectratio),O.viewInitial.aspectratio||(O.viewInitial.aspectratio={x:F.aspectratio.x,y:F.aspectratio.y,z:F.aspectratio.z}),O.viewInitial.aspectmode||(O.viewInitial.aspectmode=F.aspectmode);var Se=F.domain||null,_e=E._size||null;if(Se&&_e){var Me=O.container.style;Me.position="absolute",Me.left=_e.l+Se.x[0]*_e.w+"px",Me.top=_e.t+(1-Se.y[1])*_e.h+"px",Me.width=_e.w*(Se.x[1]-Se.x[0])+"px",Me.height=_e.h*(Se.y[1]-Se.y[0])+"px"}O.glplot.redraw()}},v.destroy=function(){var w=this;w.glplot&&(w.camera.mouseListener.enabled=!1,w.container.removeEventListener("wheel",w.camera.wheelListener),w.camera=null,w.glplot.dispose(),w.container.parentNode.removeChild(w.container),w.glplot=null)},v.getCamera=function(){var w,E=this;return E.camera.view.recalcMatrix(E.camera.view.lastT()),{up:{x:(w=E.camera).up[0],y:w.up[1],z:w.up[2]},center:{x:w.center[0],y:w.center[1],z:w.center[2]},eye:{x:w.eye[0],y:w.eye[1],z:w.eye[2]},projection:{type:!0===w._ortho?"orthographic":"perspective"}}},v.setViewport=function(w){var E,C=this,O=w.camera;C.camera.lookAt.apply(this,[[(E=O).eye.x,E.eye.y,E.eye.z],[E.center.x,E.center.y,E.center.z],[E.up.x,E.up.y,E.up.z]]),C.glplot.setAspectratio(w.aspectratio),"orthographic"===O.projection.type!==C.camera._ortho&&(C.glplot.redraw(),C.glplot.clearRGBA(),C.glplot.dispose(),C.initializeGLPlot())},v.isCameraChanged=function(w){var E=this.getCamera(),C=i.nestedProperty(w,this.id+".camera").get();function O(z,N,Y,F){var U=["up","center","eye"],V=["x","y","z"];return N[U[Y]]&&z[U[Y]][V[F]]===N[U[Y]][V[F]]}var P=!1;if(void 0===C)P=!0;else{for(var R=0;R<3;R++)for(var j=0;j<3;j++)if(!O(E,C,R,j)){P=!0;break}(!C.projection||E.projection&&E.projection.type!==C.projection.type)&&(P=!0)}return P},v.isAspectChanged=function(w){var E=this.glplot.getAspectratio(),C=i.nestedProperty(w,this.id+".aspectratio").get();return void 0===C||C.x!==E.x||C.y!==E.y||C.z!==E.z},v.saveLayout=function(w){var E,C,O,P,R,j,z=this,N=z.fullLayout,Y=z.isCameraChanged(w),F=z.isAspectChanged(w),U=Y||F;if(U){var V={};Y&&(E=z.getCamera(),O=(C=i.nestedProperty(w,z.id+".camera")).get(),V[z.id+".camera"]=O),F&&(P=z.glplot.getAspectratio(),j=(R=i.nestedProperty(w,z.id+".aspectratio")).get(),V[z.id+".aspectratio"]=j),t.call("_storeDirectGUIEdit",w,N._preGUI,V),Y&&(C.set(E),i.nestedProperty(N,z.id+".camera").set(E)),F&&(R.set(P),i.nestedProperty(N,z.id+".aspectratio").set(P),z.glplot.redraw())}return U},v.updateFx=function(w,E){var C=this,O=C.camera;if(O)if("orbit"===w)O.mode="orbit",O.keyBindingMode="rotate";else if("turntable"===w){O.up=[0,0,1],O.mode="turntable",O.keyBindingMode="rotate";var P=C.graphDiv,R=P._fullLayout,j=C.fullSceneLayout.camera,z=j.up.x,N=j.up.y,Y=j.up.z;if(Y/Math.sqrt(z*z+N*N+Y*Y)<.999){var F=C.id+".camera.up",U={x:0,y:0,z:1},V={};V[F]=U;var te=P.layout;t.call("_storeDirectGUIEdit",te,R._preGUI,V),j.up=U,i.nestedProperty(te,F).set(U)}}else O.keyBindingMode=w;C.fullSceneLayout.hovermode=E},v.toImage=function(w){var E=this;w||(w="png"),E.staticMode&&E.container.appendChild(M),E.glplot.redraw();var C=E.glplot.gl,O=C.drawingBufferWidth,P=C.drawingBufferHeight;C.bindFramebuffer(C.FRAMEBUFFER,null);var R=new Uint8Array(O*P*4);C.readPixels(0,0,O,P,C.RGBA,C.UNSIGNED_BYTE,R),function(F,U,V){for(var te=0,$=V-1;te<$;++te,--$)for(var X=0;X<U;++X)for(var W=0;W<4;++W){var J=4*(U*te+X)+W,Q=4*(U*$+X)+W,re=F[J];F[J]=F[Q],F[Q]=re}}(R,O,P),function(F,U,V){for(var te=0;te<V;++te)for(var $=0;$<U;++$){var X=4*(U*te+$),W=F[X+3];if(W>0)for(var J=255/W,Q=0;Q<3;++Q)F[X+Q]=Math.min(J*F[X+Q],255)}}(R,O,P);var j=document.createElement("canvas");j.width=O,j.height=P;var z,N=j.getContext("2d",{willReadFrequently:!0}),Y=N.createImageData(O,P);switch(Y.data.set(R),N.putImageData(Y,0,0),w){case"jpeg":z=j.toDataURL("image/jpeg");break;case"webp":z=j.toDataURL("image/webp");break;default:z=j.toDataURL("image/png")}return E.staticMode&&E.container.removeChild(M),z},v.setConvert=function(){for(var w=0;w<3;w++){var E=this.fullSceneLayout[f[w]];r.setConvert(E,this.fullLayout),E.setScale=i.noop}},v.make4thDimension=function(){var w=this,E=w.graphDiv._fullLayout;w._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(w._mockAxis,E)},ee.exports=y},90060:function(ee){"use strict";ee.exports=function(D,e,M,k){k=k||D.length;for(var a=new Array(k),T=0;T<k;T++)a[T]=[D[T],e[T],M[T]];return a}},10820:function(ee,D,e){"use strict";var M=e(41940),k=e(85594),a=e(22399),T=e(29241),b=e(53777),p=e(35025),s=e(1426).extendFlat,t=M({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,ee.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:M({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(p({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:T.newshape,activeshape:T.activeshape,newselection:b.newselection,activeselection:b.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},k.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:M({editType:"layoutstyle"})}}},77734:function(ee,D,e){"use strict";var M=e(78607),k="1.13.4",a='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',T=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),b=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:T,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:T,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},s=M(p);ee.exports={requiredVersion:k,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:s,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+k+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",s.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},13056:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k,a){var T=k.split(" "),b=T[0],p=T[1],s=M.isArrayOrTypedArray(a)?M.mean(a):a,t=.5+s/100,i=1.5+s/100,n=["",""],r=[0,0];switch(b){case"top":n[0]="top",r[1]=-i;break;case"bottom":n[0]="bottom",r[1]=i}switch(p){case"left":n[1]="right",r[0]=-t;break;case"right":n[1]="left",r[0]=t}return{anchor:n[0]&&n[1]?n.join("-"):n[0]?n[0]:n[1]?n[1]:"center",offset:r}}},50101:function(ee,D,e){"use strict";var M=e(97433),k=e(71828),a=k.strTranslate,T=k.strScale,b=e(27659).AU,p=e(77922),s=e(39898),t=e(91424),i=e(63893),n=e(10481),r="mapbox",o=D.constants=e(77734);function l(u){return"string"==typeof u&&(-1!==o.styleValuesMapbox.indexOf(u)||0===u.indexOf("mapbox://")||0===u.indexOf("stamen"))}D.name=r,D.attr="subplot",D.idRoot=r,D.idRegex=D.attrRegex=k.counterRegex(r),D.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},D.layoutAttributes=e(23585),D.supplyLayoutDefaults=e(77882),D.plot=function(u){var d=u._fullLayout,c=u.calcdata,x=d._subplots[r];if(M.version!==o.requiredVersion)throw new Error(o.wrongVersionErrorMsg);var g=function(f,S){var w=f._fullLayout;if(""===f._context.mapboxAccessToken)return"";for(var E=[],C=[],O=!1,P=!1,R=0;R<S.length;R++){var j=w[S[R]],z=j.accesstoken;l(j.style)&&(z?k.pushUnique(E,z):(l(j._input.style)&&(k.error("Uses Mapbox map style, but did not set an access token."),O=!0),P=!0)),z&&k.pushUnique(C,z)}if(P){var N=O?o.noAccessTokenErrorMsg:o.missingStyleErrorMsg;throw k.error(N),new Error(N)}return E.length?(E.length>1&&k.warn(o.multipleTokensErrorMsg),E[0]):(C.length&&k.log(["Listed mapbox access token(s)",C.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,x);M.accessToken=g;for(var h=0;h<x.length;h++){var m=x[h],y=b(c,r,m),v=d[m],_=v._subplot;_||(_=new n(u,m),d[m]._subplot=_),_.viewInitial||(_.viewInitial={center:k.extendFlat({},v.center),zoom:v.zoom,bearing:v.bearing,pitch:v.pitch}),_.plot(y,d,u._promises)}},D.clean=function(u,d,c,x){for(var g=x._subplots[r]||[],h=0;h<g.length;h++){var m=g[h];!d[m]&&x[m]._subplot&&x[m]._subplot.destroy()}},D.toSVG=function(u){for(var d=u._fullLayout,c=d._subplots[r],x=d._size,g=0;g<c.length;g++){var h=d[c[g]],m=h.domain,y=h._subplot.toImage("png");d._glimages.append("svg:image").attr({xmlns:p.svg,"xlink:href":y,x:x.l+x.w*m.x[0],y:x.t+x.h*(1-m.y[1]),width:x.w*(m.x[1]-m.x[0]),height:x.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"});var v=s.select(h._subplot.div);if(null!==v.select(".mapboxgl-ctrl-logo").node().offsetParent){var _=d._glimages.append("g");_.attr("transform",a(x.l+x.w*m.x[0]+10,x.t+x.h*(1-m.y[0])-31)),_.append("path").attr("d",o.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),_.append("path").attr("d",o.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),_.append("path").attr("d",o.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),_.append("polygon").attr("points",o.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var f=v.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),S=d._glimages.append("g"),w=S.append("text");w.text(f).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":f});var E=t.bBox(w.node()),C=x.w*(m.x[1]-m.x[0]);if(E.width>C/2){var O=f.split("|").join("<br>");w.text(O).attr("data-unformatted",O).call(i.convertToTspans,u),E=t.bBox(w.node())}w.attr("transform",a(-3,8-E.height)),S.insert("rect",".static-attribution").attr({x:-E.width-6,y:-E.height-3,width:E.width+6,height:E.height+3,fill:"rgba(255, 255, 255, 0.75)"});var P=1;E.width+6>C&&(P=C/(E.width+6));var R=[x.l+x.w*m.x[1],x.t+x.h*(1-m.y[0])];S.attr("transform",a(R[0],R[1])+T(P))}},D.updateFx=function(u){for(var d=u._fullLayout,c=d._subplots[r],x=0;x<c.length;x++)d[c[x]]._subplot.updateFx(d)}},67911:function(ee,D,e){"use strict";var M=e(71828),k=e(63893).sanitizeHTML,a=e(13056),T=e(77734);function b(i,n){this.subplot=i,this.uid=i.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=T.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var p=b.prototype;function s(i){if(!i.visible)return!1;var n=i.source;if(Array.isArray(n)&&n.length>0){for(var r=0;r<n.length;r++)if("string"!=typeof n[r]||0===n[r].length)return!1;return!0}return M.isPlainObject(n)||"string"==typeof n&&n.length>0}function t(i){var n={},r={};switch(i.type){case"circle":M.extendFlat(r,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":M.extendFlat(r,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":M.extendFlat(r,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var o=i.symbol,l=a(o.textposition,o.iconsize);M.extendFlat(n,{"icon-image":o.icon+"-15","icon-size":o.iconsize/10,"text-field":o.text,"text-size":o.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":o.placement}),M.extendFlat(r,{"icon-color":i.color,"text-color":o.textfont.color,"text-opacity":i.opacity});break;case"raster":M.extendFlat(r,{"raster-fade-duration":0,"raster-opacity":i.opacity})}return{layout:n,paint:r}}p.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=s(i)},p.needsNewImage=function(i){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===i.sourcetype&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},p.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},p.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},p.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},p.updateImage=function(i){this.subplot.map.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var n=this.findFollowingMapboxLayerId(this.lookupBelow());null!==n&&this.subplot.map.moveLayer(this.idLayer,n)},p.updateSource=function(i){var o,l,u,d,c,n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,s(i)){var r=(u=(o=i).sourcetype,d=o.source,c={type:u},"geojson"===u?l="data":"vector"===u?l="string"==typeof d?"url":"tiles":"raster"===u?(l="tiles",c.tileSize=256):"image"===u&&(l="url",c.coordinates=o.coordinates),c[l]=d,o.sourceattribution&&(c.attribution=k(o.sourceattribution)),c);n.addSource(this.idSource,r)}},p.findFollowingMapboxLayerId=function(i){if("traces"===i)for(var n=this.subplot.getMapLayers(),r=0;r<n.length;r++){var o=n[r].id;if("string"==typeof o&&0===o.indexOf(T.traceLayerPrefix)){i=o;break}}return i},p.updateLayer=function(i){var n=this.subplot,r=t(i),o=this.lookupBelow(),l=this.findFollowingMapboxLayerId(o);this.removeLayer(),s(i)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:r.layout,paint:r.paint},l),this.layerType=i.type,this.below=o},p.updateStyle=function(i){if(s(i)){var n=t(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},p.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},p.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)},ee.exports=function(i,n,r){var o=new b(i,n);return o.update(r),o}},23585:function(ee,D,e){"use strict";var M=e(71828),k=e(7901).defaultLine,a=e(27670).Y,T=e(41940),b=e(82196).textposition,p=e(30962).overrideAll,s=e(44467).templatedArray,t=e(77734),i=T({});i.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(ee.exports=p({_arrayAttrRegexps:[M.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:s("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:k},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:k}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:i,textposition:M.extendFlat({},b,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(ee,D,e){"use strict";var M=e(71828),k=e(49119),a=e(85501),T=e(23585);function b(s,t,i,n){i("accesstoken",n.accessToken),i("style"),i("center.lon"),i("center.lat"),i("zoom"),i("bearing"),i("pitch");var r=i("bounds.west"),o=i("bounds.east"),l=i("bounds.south"),u=i("bounds.north");void 0!==r&&void 0!==o&&void 0!==l&&void 0!==u||delete t.bounds,a(s,t,{name:"layers",handleItemDefaults:p}),t._input=s}function p(s,t){function i(u,d){return M.coerce(s,t,T.layers,u,d)}if(i("visible")){var n,r=i("sourcetype"),o="raster"===r||"image"===r;i("source"),i("sourceattribution"),"vector"===r&&i("sourcelayer"),"image"===r&&i("coordinates"),o&&(n="raster");var l=i("type",n);o&&"raster"!==l&&(l=t.type="raster",M.log("Source types *raster* and *image* must drawn *raster* layer type.")),i("below"),i("color"),i("opacity"),i("minzoom"),i("maxzoom"),"circle"===l&&i("circle.radius"),"line"===l&&(i("line.width"),i("line.dash")),"fill"===l&&i("fill.outlinecolor"),"symbol"===l&&(i("symbol.icon"),i("symbol.iconsize"),i("symbol.text"),M.coerceFont(i,"symbol.textfont"),i("symbol.textposition"),i("symbol.placement"))}}ee.exports=function(s,t,i){k(s,t,i,{type:"mapbox",attributes:T,handleDefaults:b,partition:"y",accessToken:t._mapboxAccessToken})}},10481:function(ee,D,e){"use strict";var M=e(97433),k=e(71828),a=e(41327),T=e(73972),b=e(89298),p=e(28569),s=e(30211),t=e(64505),i=t.drawMode,n=t.selectMode,r=e(47322).prepSelect,o=e(47322).clearOutline,l=e(47322).clearSelectionsCache,u=e(47322).selectOnClick,d=e(77734),c=e(67911);function x(_,f){this.id=f,this.gd=_;var S=_._fullLayout,w=_._context;this.container=S._glcontainer.node(),this.isStatic=w.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var g=x.prototype;g.plot=function(_,f,S){var w,E=this,C=f[E.id];E.map&&C.accesstoken!==E.accessToken&&(E.map.remove(),E.map=null,E.styleObj=null,E.traceHash={},E.layerList=[]),w=E.map?new Promise(function(O,P){E.updateMap(_,f,O,P)}):new Promise(function(O,P){E.createMap(_,f,O,P)}),S.push(w)},g.createMap=function(_,f,S,w){var E=this,C=f[E.id],O=E.styleObj=m(C.style,f);E.accessToken=C.accesstoken;var P=C.bounds,R=P?[[P.west,P.south],[P.east,P.north]]:null,j=E.map=new M.Map({container:E.div,style:O.style,center:v(C.center),zoom:C.zoom,bearing:C.bearing,pitch:C.pitch,maxBounds:R,interactive:!E.isStatic,preserveDrawingBuffer:E.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new M.AttributionControl({compact:!0}));j._canvas.style.left="0px",j._canvas.style.top="0px",E.rejectOnError(w),E.isStatic||E.initFx(_,f);var z=[];z.push(new Promise(function(N){j.once("load",N)})),z=z.concat(a.fetchTraceGeoData(_)),Promise.all(z).then(function(){E.fillBelowLookup(_,f),E.updateData(_),E.updateLayout(f),E.resolveOnRender(S)}).catch(w)},g.updateMap=function(_,f,S,w){var E=this,C=E.map,O=f[this.id];E.rejectOnError(w);var P=[],R=m(O.style,f);JSON.stringify(E.styleObj)!==JSON.stringify(R)&&(E.styleObj=R,C.setStyle(R.style),E.traceHash={},P.push(new Promise(function(j){C.once("styledata",j)}))),P=P.concat(a.fetchTraceGeoData(_)),Promise.all(P).then(function(){E.fillBelowLookup(_,f),E.updateData(_),E.updateLayout(f),E.resolveOnRender(S)}).catch(w)},g.fillBelowLookup=function(_,f){var S,w,E=f[this.id].layers,C=this.belowLookup={},O=!1;for(S=0;S<_.length;S++){var P=_[S][0].trace,R=P._module;"string"==typeof P.below?w=P.below:R.getBelow&&(w=R.getBelow(P,this)),""===w&&(O=!0),C["trace-"+P.uid]=w||""}for(S=0;S<E.length;S++){var j=E[S];w="string"==typeof j.below?j.below:O?"traces":"",C["layout-"+S]=w}var z,N,Y={};for(z in C)Y[w=C[z]]?Y[w].push(z):Y[w]=[z];for(w in Y){var F=Y[w];if(F.length>1)for(S=0;S<F.length;S++)0===(z=F[S]).indexOf("trace-")?(N=z.split("trace-")[1],this.traceHash[N]&&(this.traceHash[N].below=null)):0===z.indexOf("layout-")&&(N=z.split("layout-")[1],this.layerList[N]&&(this.layerList[N].below=null))}};var h={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function m(_,f){var S={};if(k.isPlainObject(_))S.id=_.id,S.style=_;else if("string"==typeof _)if(S.id=_,-1!==d.styleValuesMapbox.indexOf(_))S.style=y(_);else if(d.stylesNonMapbox[_]){S.style=d.stylesNonMapbox[_];var w=S.style.sources["plotly-"+_],E=w?w.tiles:void 0;E&&E[0]&&"?api_key="===E[0].slice(-9)&&(E[0]+=f._mapboxAccessToken)}else S.style=_;else S.id=d.styleValueDflt,S.style=y(d.styleValueDflt);return S.transition={duration:0,delay:0},S}function y(_){return d.styleUrlPrefix+_+"-"+d.styleUrlSuffix}function v(_){return[_.lon,_.lat]}g.updateData=function(_){var f,S,w,E,C=this.traceHash,O=_.slice().sort(function(N,Y){return h[N[0].trace.type]-h[Y[0].trace.type]});for(w=0;w<O.length;w++){var P=O[w],R=!1;(f=C[(S=P[0].trace).uid])&&(f.type===S.type?(f.update(P),R=!0):f.dispose()),!R&&S._module&&(C[S.uid]=S._module.plot(this,P))}var j=Object.keys(C);e:for(w=0;w<j.length;w++){var z=j[w];for(E=0;E<_.length;E++)if(z===(S=_[E][0].trace).uid)continue e;(f=C[z]).dispose(),delete C[z]}},g.updateLayout=function(_){var f=this.map,S=_[this.id];this.dragging||this.wheeling||(f.setCenter(v(S.center)),f.setZoom(S.zoom),f.setBearing(S.bearing),f.setPitch(S.pitch)),this.updateLayers(_),this.updateFramework(_),this.updateFx(_),this.map.resize(),this.gd._context._scrollZoom.mapbox?f.scrollZoom.enable():f.scrollZoom.disable()},g.resolveOnRender=function(_){var f=this.map;f.on("render",function S(){f.loaded()&&(f.off("render",S),setTimeout(_,10))})},g.rejectOnError=function(_){var f=this.map;function S(){_(new Error(d.mapOnErrorMsg))}f.once("error",S),f.once("style.error",S),f.once("source.error",S),f.once("tile.error",S),f.once("layer.error",S)},g.createFramework=function(_){var f=this,S=f.div=document.createElement("div");S.id=f.uid,S.style.position="absolute",f.container.appendChild(S),f.xaxis={_id:"x",c2p:function(w){return f.project(w).x}},f.yaxis={_id:"y",c2p:function(w){return f.project(w).y}},f.updateFramework(_),f.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},b.setConvert(f.mockAxis,_)},g.initFx=function(_,f){var S=this,w=S.gd,E=S.map;function C(){s.loneUnhover(f._hoverlayer)}function O(){var P=S.getView();w.emit("plotly_relayouting",S.getViewEditsWithDerived(P))}E.on("moveend",function(P){if(S.map){var R=w._fullLayout;if(P.originalEvent||S.wheeling){var j=R[S.id];T.call("_storeDirectGUIEdit",w.layout,R._preGUI,S.getViewEdits(j));var z=S.getView();j._input.center=j.center=z.center,j._input.zoom=j.zoom=z.zoom,j._input.bearing=j.bearing=z.bearing,j._input.pitch=j.pitch=z.pitch,w.emit("plotly_relayout",S.getViewEditsWithDerived(z))}P.originalEvent&&"mouseup"===P.originalEvent.type?S.dragging=!1:S.wheeling&&(S.wheeling=!1),R._rehover&&R._rehover()}}),E.on("wheel",function(){S.wheeling=!0}),E.on("mousemove",function(P){var R=S.div.getBoundingClientRect(),j=[P.originalEvent.offsetX,P.originalEvent.offsetY];P.target.getBoundingClientRect=function(){return R},S.xaxis.p2c=function(){return E.unproject(j).lng},S.yaxis.p2c=function(){return E.unproject(j).lat},w._fullLayout._rehover=function(){w._fullLayout._hoversubplot===S.id&&w._fullLayout[S.id]&&s.hover(w,P,S.id)},s.hover(w,P,S.id),w._fullLayout._hoversubplot=S.id}),E.on("dragstart",function(){S.dragging=!0,C()}),E.on("zoomstart",C),E.on("mouseout",function(){w._fullLayout._hoversubplot=null}),E.on("drag",O),E.on("zoom",O),E.on("dblclick",function(){var P=w._fullLayout[S.id];T.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,S.getViewEdits(P));var R=S.viewInitial;E.setCenter(v(R.center)),E.setZoom(R.zoom),E.setBearing(R.bearing),E.setPitch(R.pitch);var j=S.getView();P._input.center=P.center=j.center,P._input.zoom=P.zoom=j.zoom,P._input.bearing=P.bearing=j.bearing,P._input.pitch=P.pitch=j.pitch,w.emit("plotly_doubleclick",null),w.emit("plotly_relayout",S.getViewEditsWithDerived(j))}),S.clearOutline=function(){l(S.dragOptions),o(S.dragOptions.gd)},S.onClickInPanFn=function(P){return function(R){var j=w._fullLayout.clickmode;j.indexOf("select")>-1&&u(R.originalEvent,w,[S.xaxis],[S.yaxis],S.id,P),j.indexOf("event")>-1&&s.click(w,R.originalEvent)}}},g.updateFx=function(_){var f=this,S=f.map,w=f.gd;if(!f.isStatic){var E,C=_.dragmode;E=function(R,j){j.isRect?(R.range={})[f.id]=[P([j.xmin,j.ymin]),P([j.xmax,j.ymax])]:(R.lassoPoints={})[f.id]=j.map(P)};var O=f.dragOptions;f.dragOptions=k.extendDeep(O||{},{dragmode:_.dragmode,element:f.div,gd:w,plotinfo:{id:f.id,domain:_[f.id].domain,xaxis:f.xaxis,yaxis:f.yaxis,fillRangeItems:E},xaxes:[f.xaxis],yaxes:[f.yaxis],subplot:f.id}),S.off("click",f.onClickInPanHandler),n(C)||i(C)?(S.dragPan.disable(),S.on("zoomstart",f.clearOutline),f.dragOptions.prepFn=function(R,j,z){r(R,j,z,f.dragOptions,C)},p.init(f.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",f.clearOutline),f.div.onmousedown=null,f.div.ontouchstart=null,f.div.removeEventListener("touchstart",f.div._ontouchstart),f.onClickInPanHandler=f.onClickInPanFn(f.dragOptions),S.on("click",f.onClickInPanHandler))}function P(R){var j=f.map.unproject(R);return[j.lng,j.lat]}},g.updateFramework=function(_){var f=_[this.id].domain,S=_._size,w=this.div.style;w.width=S.w*(f.x[1]-f.x[0])+"px",w.height=S.h*(f.y[1]-f.y[0])+"px",w.left=S.l+f.x[0]*S.w+"px",w.top=S.t+(1-f.y[1])*S.h+"px",this.xaxis._offset=S.l+f.x[0]*S.w,this.xaxis._length=S.w*(f.x[1]-f.x[0]),this.yaxis._offset=S.t+(1-f.y[1])*S.h,this.yaxis._length=S.h*(f.y[1]-f.y[0])},g.updateLayers=function(_){var f,S=_[this.id].layers,w=this.layerList;if(S.length!==w.length){for(f=0;f<w.length;f++)w[f].dispose();for(w=this.layerList=[],f=0;f<S.length;f++)w.push(c(this,f,S[f]))}else for(f=0;f<S.length;f++)w[f].update(S[f])},g.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},g.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},g.setOptions=function(_,f,S){for(var w in S)this.map[f](_,w,S[w])},g.getMapLayers=function(){return this.map.getStyle().layers},g.addLayer=function(_,f){var S=this.map;if("string"==typeof f){if(""===f)return void S.addLayer(_,f);for(var w=this.getMapLayers(),E=0;E<w.length;E++)if(f===w[E].id)return void S.addLayer(_,f);k.warn(["Trying to add layer with *below* value",f,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(_)},g.project=function(_){return this.map.project(new M.LngLat(_[0],_[1]))},g.getView=function(){var _=this.map,f=_.getCenter(),S={lon:f.lng,lat:f.lat},w=_.getCanvas(),E=parseInt(w.style.width),C=parseInt(w.style.height);return{center:S,zoom:_.getZoom(),bearing:_.getBearing(),pitch:_.getPitch(),_derived:{coordinates:[_.unproject([0,0]).toArray(),_.unproject([E,0]).toArray(),_.unproject([E,C]).toArray(),_.unproject([0,C]).toArray()]}}},g.getViewEdits=function(_){for(var f=this.id,S=["center","zoom","bearing","pitch"],w={},E=0;E<S.length;E++){var C=S[E];w[f+"."+C]=_[C]}return w},g.getViewEditsWithDerived=function(_){var f=this.id,S=this.getViewEdits(_);return S[f+"._derived"]=_._derived,S},ee.exports=x},35025:function(ee){"use strict";ee.exports=function(D){var e=D.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(ee,D,e){"use strict";var M=e(39898),k=e(84096).Dq,a=e(60721).FF,T=e(92770),b=e(11631),p=e(73972),s=e(86281),t=e(44467),i=e(71828),n=e(7901),r=e(50606).BADNUM,o=e(41675),l=e(51873).clearOutline,u=e(21479),d=e(85594),c=e(31391),x=e(27659).a0,g=i.relinkPrivateKeys,h=i._,m=ee.exports={};i.extendFlat(m,p),m.attributes=e(9012),m.attributes.type.values=m.allTypes,m.fontAttrs=e(41940),m.layoutAttributes=e(10820),m.fontWeight="normal";var y=m.transformsRegistry,v=e(31137);m.executeAPICommand=v.executeAPICommand,m.computeAPICommandBindings=v.computeAPICommandBindings,m.manageCommandObserver=v.manageCommandObserver,m.hasSimpleAPICommandBindings=v.hasSimpleAPICommandBindings,m.redrawText=function(F){return F=i.getGraphDiv(F),new Promise(function(U){setTimeout(function(){F._fullLayout&&(p.getComponentMethod("annotations","draw")(F),p.getComponentMethod("legend","draw")(F),p.getComponentMethod("colorbar","draw")(F),U(m.previousPromises(F)))},300)})},m.resize=function(F){var U;F=i.getGraphDiv(F);var V=new Promise(function(te,$){F&&!i.isHidden(F)||$(new Error("Resize must be passed a displayed plot div element.")),F._redrawTimer&&clearTimeout(F._redrawTimer),F._resolveResize&&(U=F._resolveResize),F._resolveResize=te,F._redrawTimer=setTimeout(function(){if(!F.layout||F.layout.width&&F.layout.height||i.isHidden(F))te(F);else{delete F.layout.width,delete F.layout.height;var X=F.changed;F.autoplay=!0,p.call("relayout",F,{autosize:!0}).then(function(){F.changed=X,F._resolveResize===te&&(delete F._resolveResize,te(F))})}},100)});return U&&U(V),V},m.previousPromises=function(F){if((F._promises||[]).length)return Promise.all(F._promises).then(function(){F._promises=[]})},m.addLinks=function(F){if(F._context.showLink||F._context.showSources){var U=F._fullLayout,V=i.ensureSingle(U._paper,"text","js-plot-link-container",function(Q){Q.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:n.defaultLine,"pointer-events":"all"}).each(function(){var re=M.select(this);re.append("tspan").classed("js-link-to-tool",!0),re.append("tspan").classed("js-link-spacer",!0),re.append("tspan").classed("js-sourcelinks",!0)})}),te=V.node(),$={y:U._paper.attr("height")-9};document.body.contains(te)&&te.getComputedTextLength()>=U.width-20?($["text-anchor"]="start",$.x=5):($["text-anchor"]="end",$.x=U._paper.attr("width")-7),V.attr($);var X=V.select(".js-link-to-tool"),W=V.select(".js-link-spacer"),J=V.select(".js-sourcelinks");F._context.showSources&&F._context.showSources(F),F._context.showLink&&function(Q,re){re.text("");var ae=re.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Q._context.linkText+" "+String.fromCharCode(187));if(Q._context.sendData)ae.on("click",function(){m.sendDataToCloud(Q)});else{var oe=window.location.pathname.split("/"),ue=window.location.search;ae.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+oe[2].split(".")[0]+"/"+oe[1]+ue})}}(F,X),W.text(X.text()&&J.text()?" - ":"")}},m.sendDataToCloud=function(F){var U=(window.PLOTLYENV||{}).BASE_URL||F._context.plotlyServerURL;if(U){F.emit("plotly_beforeexport");var V=M.select(F).append("div").attr("id","hiddenform").style("display","none"),te=V.append("form").attr({action:U+"/external",method:"post",target:"_blank"});return te.append("input").attr({type:"text",name:"data"}).node().value=m.graphJson(F,!1,"keepdata"),te.node().submit(),V.remove(),F.emit("plotly_afterexport"),!1}};var _=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],f=["year","month","dayMonth","dayMonthYear"];function S(F,U){var V=F._context.locale;V||(V="en-US");var te=!1,$={};function X(oe){for(var ue=!0,ve=0;ve<U.length;ve++){var be=U[ve];$[be]||(oe[be]?$[be]=oe[be]:ue=!1)}ue&&(te=!0)}for(var W=0;W<2;W++){for(var J=F._context.locales,Q=0;Q<2;Q++){var re=(J[V]||{}).format;if(re&&(X(re),te))break;J=p.localeRegistry}var ae=V.split("-")[0];if(te||ae===V)break;V=ae}return te||X(p.localeRegistry.en.format),$}function w(F,U){var V={_fullLayout:U},te="x"===F._id.charAt(0),$=F._mainAxis._anchorAxis,X="",W="",J="";if($&&(J=$._mainAxis._id,X=te?F._id+J:J+F._id),!X||!U._plots[X]){X="";for(var Q=F._counterAxes,re=0;re<Q.length;re++){var ae=Q[re],oe=te?F._id+ae:ae+F._id;W||(W=oe);var ue=o.getFromId(V,ae);if(J&&ue.overlaying===J){X=oe;break}}}return X||W}function E(F){var U=F.transforms;if(Array.isArray(U)&&U.length)for(var V=0;V<U.length;V++){var te=U[V],$=te._module||y[te.type];if($&&$.makesData)return!0}return!1}function C(F,U,V,te){for(var $=F.transforms,X=[F],W=0;W<$.length;W++){var J=$[W],Q=y[J.type];Q&&Q.transform&&(X=Q.transform(X,{transform:J,fullTrace:F,fullData:U,layout:V,fullLayout:te,transformIndex:W}))}return X}function O(F){return"string"==typeof F&&"px"===F.substr(F.length-2)&&parseFloat(F)}function P(F){var U=F.margin;if(!F._size){var V=F._size={l:Math.round(U.l),r:Math.round(U.r),t:Math.round(U.t),b:Math.round(U.b),p:Math.round(U.pad)};V.w=Math.round(F.width)-V.l-V.r,V.h=Math.round(F.height)-V.t-V.b}F._pushmargin||(F._pushmargin={}),F._pushmarginIds||(F._pushmarginIds={}),F._reservedMargin||(F._reservedMargin={})}m.supplyDefaults=function(F,U){var ze,Ue,V=U&&U.skipUpdateCalc,te=F._fullLayout||{};if(te._skipDefaults)delete te._skipDefaults;else{var $,X=F._fullLayout={},W=F.layout||{},J=F._fullData||[],Q=F._fullData=[],re=F.data||[],ae=F.calcdata||[],oe=F._context||{};F._transitionData||m.createTransitionData(F),X._dfltTitle={plot:h(F,"Click to enter Plot title"),x:h(F,"Click to enter X axis title"),y:h(F,"Click to enter Y axis title"),colorbar:h(F,"Click to enter Colorscale title"),annotation:h(F,"new text")},X._traceWord=h(F,"trace");var ue=S(F,_);if(X._mapboxAccessToken=oe.mapboxAccessToken,te._initialAutoSizeIsDone){var ve=te.width,be=te.height;m.supplyLayoutGlobalDefaults(W,X,ue),W.width||(X.width=ve),W.height||(X.height=be),m.sanitizeMargins(X)}else{m.supplyLayoutGlobalDefaults(W,X,ue);var de=!W.width||!W.height,pe=X.autosize,ge=oe.autosizable;de&&(pe||ge)?m.plotAutoSize(F,W,X):de&&m.sanitizeMargins(X),!pe&&de&&(W.width=X.width,W.height=X.height)}X._d3locale=(ze=ue,Ue=X.separators,ze.decimal=Ue.charAt(0),ze.thousands=Ue.charAt(1),{numberFormat:function(Ve){try{Ve=a(ze).format(i.adjustFormat(Ve))}catch{return i.warnBadFormat(Ve),i.noFormat}return Ve},timeFormat:k(ze).utcFormat}),X._extraFormat=S(F,f),X._initialAutoSizeIsDone=!0,X._dataLength=re.length,X._modules=[],X._visibleModules=[],X._basePlotModules=[];var Ae=X._subplots=function(){var ze,Ue,Ve=p.collectableSubplotTypes,Xe={};if(!Ve){Ve=[];var at=p.subplotsRegistry;for(var st in at){var ht=at[st].attr;if(ht&&(Ve.push(st),Array.isArray(ht)))for(Ue=0;Ue<ht.length;Ue++)i.pushUnique(Ve,ht[Ue])}}for(ze=0;ze<Ve.length;ze++)Xe[Ve[ze]]=[];return Xe}(),ye=X._splomAxes={x:{},y:{}},we=X._splomSubplots={};X._splomGridDflt={},X._scatterStackOpts={},X._firstScatter={},X._alignmentOpts={},X._colorAxes={},X._requestRangeslider={},X._traceUids=function(ze,Ue){var Ve,Xe,at=Ue.length,st=[];for(Ve=0;Ve<ze.length;Ve++){var ht=ze[Ve]._fullInput;ht!==Xe&&st.push(ht),Xe=ht}var bt=st.length,vt=new Array(at),Qe={};function nt(Pt,St){vt[St]=Pt,Qe[Pt]=1}function wt(Pt,St){if(Pt&&"string"==typeof Pt&&!Qe[Pt])return nt(Pt,St),!0}for(Ve=0;Ve<at;Ve++){var Ot=Ue[Ve].uid;"number"==typeof Ot&&(Ot=String(Ot)),wt(Ot,Ve)||Ve<bt&&wt(st[Ve].uid,Ve)||nt(i.randstr(Qe),Ve)}return vt}(J,re),X._globalTransforms=(F._context||{}).globalTransforms,m.supplyDataDefaults(re,Q,W,X);var se=Object.keys(ye.x),ie=Object.keys(ye.y);if(se.length>1&&ie.length>1){for(p.getComponentMethod("grid","sizeDefaults")(W,X),$=0;$<se.length;$++)i.pushUnique(Ae.xaxis,se[$]);for($=0;$<ie.length;$++)i.pushUnique(Ae.yaxis,ie[$]);for(var he in we)i.pushUnique(Ae.cartesian,he)}if(X._has=m._hasPlotType.bind(X),J.length===Q.length)for($=0;$<Q.length;$++)g(Q[$],J[$]);m.supplyLayoutModuleDefaults(W,X,Q,F._transitionData);var Se=X._visibleModules,_e=[];for($=0;$<Se.length;$++){var Me=Se[$].crossTraceDefaults;Me&&i.pushUnique(_e,Me)}for($=0;$<_e.length;$++)_e[$](Q,X);X._hasOnlyLargeSploms=1===X._basePlotModules.length&&"splom"===X._basePlotModules[0].name&&se.length>15&&ie.length>15&&0===X.shapes.length&&0===X.images.length,m.linkSubplots(Q,X,J,te),m.cleanPlot(Q,X,J,te);var Ee=!(!te._has||!te._has("gl2d")),Ie=!(!X._has||!X._has("gl2d")),fe=!(!te._has||!te._has("cartesian"))||Ee,xe=!(!X._has||!X._has("cartesian"))||Ie;fe&&!xe?te._bgLayer.remove():xe&&!fe&&(X._shouldCreateBgLayer=!0),te._zoomlayer&&!F._dragging&&l({_fullLayout:te}),function(ze,Ue){var Ve,Xe=[];Ue.meta&&(Ve=Ue._meta={meta:Ue.meta,layout:{meta:Ue.meta}});for(var at=0;at<ze.length;at++){var st=ze[at];st.meta?Xe[st.index]=st._meta={meta:st.meta}:Ue.meta&&(st._meta={meta:Ue.meta}),Ue.meta&&(st._meta.layout={meta:Ue.meta})}Xe.length&&(Ve||(Ve=Ue._meta={}),Ve.data=Xe)}(Q,X),g(X,te),p.getComponentMethod("colorscale","crossTraceDefaults")(Q,X),X._preGUI||(X._preGUI={}),X._tracePreGUI||(X._tracePreGUI={});var Te,Ce=X._tracePreGUI,De={};for(Te in Ce)De[Te]="old";for($=0;$<Q.length;$++)De[Te=Q[$]._fullInput.uid]||(Ce[Te]={}),De[Te]="new";for(Te in De)"old"===De[Te]&&delete Ce[Te];P(X),p.getComponentMethod("rangeslider","makeData")(X),V||ae.length!==Q.length||m.supplyDefaultsUpdateCalc(ae,Q)}},m.supplyDefaultsUpdateCalc=function(F,U){for(var V=0;V<U.length;V++){var te=U[V],$=(F[V]||[])[0];if($&&$.trace){var X=$.trace;if(X._hasCalcTransform){var W,J,Q,re=X._arrayAttrs;for(W=0;W<re.length;W++)J=re[W],Q=i.nestedProperty(X,J).get().slice(),i.nestedProperty(te,J).set(Q)}$.trace=te}}},m.createTransitionData=function(F){F._transitionData||(F._transitionData={}),F._transitionData._frames||(F._transitionData._frames=[]),F._transitionData._frameHash||(F._transitionData._frameHash={}),F._transitionData._counter||(F._transitionData._counter=0),F._transitionData._interruptCallbacks||(F._transitionData._interruptCallbacks=[])},m._hasPlotType=function(F){var U,V=this._basePlotModules||[];for(U=0;U<V.length;U++)if(V[U].name===F)return!0;var te=this._modules||[];for(U=0;U<te.length;U++){var $=te[U].name;if($===F)return!0;var X=p.modules[$];if(X&&X.categories[F])return!0}return!1},m.cleanPlot=function(F,U,V,te){var $,X,W=te._basePlotModules||[];for($=0;$<W.length;$++){var J=W[$];J.clean&&J.clean(F,U,V,te)}var Q=te._has&&te._has("gl"),re=U._has&&U._has("gl");Q&&!re&&void 0!==te._glcontainer&&(te._glcontainer.selectAll(".gl-canvas").remove(),te._glcontainer.selectAll(".no-webgl").remove(),te._glcanvas=null);var ae=!!te._infolayer;e:for($=0;$<V.length;$++){var oe=V[$].uid;for(X=0;X<F.length;X++)if(oe===F[X].uid)continue e;ae&&te._infolayer.select(".cb"+oe).remove()}},m.linkSubplots=function(F,U,V,te){var $,X,W=te._plots||{},J=U._plots={},Q=U._subplots,re={_fullData:F,_fullLayout:U},ae=Q.cartesian.concat(Q.gl2d||[]);for($=0;$<ae.length;$++){var oe,ue=ae[$],ve=W[ue],be=o.getFromId(re,ue,"x"),de=o.getFromId(re,ue,"y");for(ve?oe=J[ue]=ve:(oe=J[ue]={}).id=ue,be._counterAxes.push(de._id),de._counterAxes.push(be._id),be._subplotsWith.push(ue),de._subplotsWith.push(ue),oe.xaxis=be,oe.yaxis=de,oe._hasClipOnAxisFalse=!1,X=0;X<F.length;X++){var pe=F[X];if(pe.xaxis===oe.xaxis._id&&pe.yaxis===oe.yaxis._id&&!1===pe.cliponaxis){oe._hasClipOnAxisFalse=!0;break}}}var ge,Ae=o.list(re,null,!0);for($=0;$<Ae.length;$++){var ye=null;(ge=Ae[$]).overlaying&&(ye=o.getFromId(re,ge.overlaying))&&ye.overlaying&&(ge.overlaying=!1,ye=null),ge._mainAxis=ye||ge,ye&&(ge.domain=ye.domain.slice()),ge._anchorAxis="free"===ge.anchor?null:o.getFromId(re,ge.anchor)}for($=0;$<Ae.length;$++)if((ge=Ae[$])._counterAxes.sort(o.idSort),ge._subplotsWith.sort(i.subplotSort),ge._mainSubplot=w(ge,U),ge._counterAxes.length&&(ge.spikemode&&-1!==ge.spikemode.indexOf("across")||ge.automargin&&ge.mirror&&"free"!==ge.anchor||p.getComponentMethod("rangeslider","isVisible")(ge))){var we=1,se=0;for(X=0;X<ge._counterAxes.length;X++){var ie=o.getFromId(re,ge._counterAxes[X]);we=Math.min(we,ie.domain[0]),se=Math.max(se,ie.domain[1])}we<se&&(ge._counterDomainMin=we,ge._counterDomainMax=se)}},m.clearExpandedTraceDefaultColors=function(F){var U,V,te;for(V=[],(U=F._module._colorAttrs)||(F._module._colorAttrs=U=[],s.crawl(F._module.attributes,function($,X,W,J){V[J]=X,V.length=J+1,"color"===$.valType&&void 0===$.dflt&&U.push(V.join("."))})),te=0;te<U.length;te++)i.nestedProperty(F,"_input."+U[te]).get()||i.nestedProperty(F,U[te]).set(null)},m.supplyDataDefaults=function(F,U,V,te){var $,X,W,J=te._modules,Q=te._visibleModules,re=te._basePlotModules,ae=0,oe=0;function ue(he){U.push(he);var Se=he._module;Se&&(i.pushUnique(J,Se),!0===he.visible&&i.pushUnique(Q,Se),i.pushUnique(re,he._module.basePlotModule),ae++,!1!==he._input.visible&&oe++)}te._transformModules=[];var ve={},be=[],de=(V.template||{}).data||{},pe=t.traceTemplater(de);for($=0;$<F.length;$++){if(W=F[$],(X=pe.newTrace(W)).uid=te._traceUids[$],m.supplyTraceDefaults(W,X,oe,te,$),X.index=$,X._input=W,X._expandedIndex=ae,X.transforms&&X.transforms.length)for(var ge=!1!==W.visible&&!1===X.visible,Ae=C(X,U,V,te),ye=0;ye<Ae.length;ye++){var we=Ae[ye],se={_template:X._template,type:X.type,uid:X.uid+ye};ge&&!1===we.visible&&delete we.visible,m.supplyTraceDefaults(we,se,ae,te,$),g(se,we),se.index=$,se._input=W,se._fullInput=X,se._expandedIndex=ae,se._expandedInput=we,ue(se)}else X._fullInput=X,X._expandedInput=X,ue(X);p.traceIs(X,"carpetAxis")&&(ve[X.carpet]=X),p.traceIs(X,"carpetDependent")&&be.push($)}for($=0;$<be.length;$++)if((X=U[be[$]]).visible){var ie=ve[X.carpet];X._carpet=ie,ie&&ie.visible?(X.xaxis=ie.xaxis,X.yaxis=ie.yaxis):X.visible=!1}},m.supplyAnimationDefaults=function(F){var U;F=F||{};var V={};function te($,X){return i.coerce(F||{},V,d,$,X)}if(te("mode"),te("direction"),te("fromcurrent"),Array.isArray(F.frame))for(V.frame=[],U=0;U<F.frame.length;U++)V.frame[U]=m.supplyAnimationFrameDefaults(F.frame[U]||{});else V.frame=m.supplyAnimationFrameDefaults(F.frame||{});if(Array.isArray(F.transition))for(V.transition=[],U=0;U<F.transition.length;U++)V.transition[U]=m.supplyAnimationTransitionDefaults(F.transition[U]||{});else V.transition=m.supplyAnimationTransitionDefaults(F.transition||{});return V},m.supplyAnimationFrameDefaults=function(F){var U={};function V(te,$){return i.coerce(F||{},U,d.frame,te,$)}return V("duration"),V("redraw"),U},m.supplyAnimationTransitionDefaults=function(F){var U={};function V(te,$){return i.coerce(F||{},U,d.transition,te,$)}return V("duration"),V("easing"),U},m.supplyFrameDefaults=function(F){var U={};function V(te,$){return i.coerce(F,U,c,te,$)}return V("group"),V("name"),V("traces"),V("baseframe"),V("data"),V("layout"),U},m.supplyTraceDefaults=function(F,U,V,te,$){var X,W=te.colorway||n.defaults,J=W[V%W.length];function Q(ye,we){return i.coerce(F,U,m.attributes,ye,we)}var re=Q("visible");Q("type"),Q("name",te._traceWord+" "+$),Q("uirevision",te.uirevision);var ae=m.getModule(U);if(U._module=ae,ae){var oe=ae.basePlotModule,ue=oe.attr,ve=oe.attributes;if(ue&&ve){var be=te._subplots,de="";if(re||"gl2d"!==oe.name){if(Array.isArray(ue))for(X=0;X<ue.length;X++){var pe=ue[X],ge=i.coerce(F,U,ve,pe);be[pe]&&i.pushUnique(be[pe],ge),de+=ge}else de=i.coerce(F,U,ve,ue);be[oe.name]&&i.pushUnique(be[oe.name],de)}}}if(re){if(Q("customdata"),Q("ids"),Q("meta"),p.traceIs(U,"showLegend")?(i.coerce(F,U,ae.attributes.showlegend?ae.attributes:m.attributes,"showlegend"),Q("legend"),Q("legendwidth"),Q("legendgroup"),Q("legendgrouptitle.text"),Q("legendrank"),U._dfltShowLegend=!0):U._dfltShowLegend=!1,ae&&ae.supplyDefaults(F,U,J,te),p.traceIs(U,"noOpacity")||Q("opacity"),p.traceIs(U,"notLegendIsolatable")&&(U.visible=!!U.visible),p.traceIs(U,"noHover")||(U.hovertemplate||i.coerceHoverinfo(F,U,te),"parcats"!==U.type&&p.getComponentMethod("fx","supplyDefaults")(F,U,J,te)),ae&&ae.selectPoints){var Ae=Q("selectedpoints");i.isTypedArray(Ae)&&(U.selectedpoints=Array.from(Ae))}m.supplyTransformDefaults(F,U,te)}return U},m.hasMakesDataTransform=E,m.supplyTransformDefaults=function(F,U,V){if(U._length||E(F)){var te=V._globalTransforms||[],$=V._transformModules||[];if(Array.isArray(F.transforms)||0!==te.length)for(var X=F.transforms||[],W=te.concat(X),J=U.transforms=[],Q=0;Q<W.length;Q++){var re,ae=W[Q],oe=ae.type,ue=y[oe],ve=!(ae._module&&ae._module===ue),be=ue&&"function"==typeof ue.transform;ue||i.warn("Unrecognized transform type "+oe+"."),ue&&ue.supplyDefaults&&(ve||be)?((re=ue.supplyDefaults(ae,U,V,F)).type=oe,re._module=ue,i.pushUnique($,ue)):re=i.extendFlat({},ae),J.push(re)}}},m.supplyLayoutGlobalDefaults=function(F,U,V){function te(ae,oe){return i.coerce(F,U,m.layoutAttributes,ae,oe)}var $=F.template;i.isPlainObject($)&&(U.template=$,U._template=$.layout,U._dataTemplate=$.data),te("autotypenumbers");var X=i.coerceFont(te,"font"),W=X.size;i.coerceFont(te,"title.font",i.extendFlat({},X,{size:Math.round(1.4*W)})),te("title.text",U._dfltTitle.plot),te("title.xref");var J=te("title.yref");te("title.pad.t"),te("title.pad.r"),te("title.pad.b"),te("title.pad.l");var Q=te("title.automargin");te("title.x"),te("title.xanchor"),te("title.y"),te("title.yanchor"),Q&&("paper"===J&&(0!==U.title.y&&(U.title.y=1),"auto"===U.title.yanchor&&(U.title.yanchor=0===U.title.y?"top":"bottom")),"container"===J&&("auto"===U.title.y&&(U.title.y=1),"auto"===U.title.yanchor&&(U.title.yanchor=U.title.y<.5?"bottom":"top"))),te("uniformtext.mode")&&te("uniformtext.minsize"),te("autosize",!(F.width&&F.height)),te("width"),te("height"),te("minreducedwidth"),te("minreducedheight"),te("margin.l"),te("margin.r"),te("margin.t"),te("margin.b"),te("margin.pad"),te("margin.autoexpand"),F.width&&F.height&&m.sanitizeMargins(U),p.getComponentMethod("grid","sizeDefaults")(F,U),te("paper_bgcolor"),te("separators",V.decimal+V.thousands),te("hidesources"),te("colorway"),te("datarevision");var re=te("uirevision");te("editrevision",re),te("selectionrevision",re),p.getComponentMethod("modebar","supplyLayoutDefaults")(F,U),p.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(F,U,te),p.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(F,U,te),te("meta"),i.isPlainObject(F.transition)&&(te("transition.duration"),te("transition.easing"),te("transition.ordering")),p.getComponentMethod("calendars","handleDefaults")(F,U,"calendar"),p.getComponentMethod("fx","supplyLayoutGlobalDefaults")(F,U,te),i.coerce(F,U,u,"scattermode")},m.plotAutoSize=function(F,U,V){var te,$,X=F._context||{},W=X.frameMargins,J=i.isPlotDiv(F);if(J&&F.emit("plotly_autosize"),X.fillFrame)te=window.innerWidth,$=window.innerHeight,document.body.style.overflow="hidden";else{var Q=J?window.getComputedStyle(F):{};if(te=O(Q.width)||O(Q.maxWidth)||V.width,$=O(Q.height)||O(Q.maxHeight)||V.height,T(W)&&W>0){var re=1-2*W;te=Math.round(re*te),$=Math.round(re*$)}}var ae=m.layoutAttributes.width.min,oe=m.layoutAttributes.height.min;te<ae&&(te=ae),$<oe&&($=oe);var ue=!U.width&&Math.abs(V.width-te)>1,ve=!U.height&&Math.abs(V.height-$)>1;(ve||ue)&&(ue&&(V.width=te),ve&&(V.height=$)),F._initialAutoSize||(F._initialAutoSize={width:te,height:$}),m.sanitizeMargins(V)},m.supplyLayoutModuleDefaults=function(F,U,V,te){var $,X,W,J=p.componentsRegistry,Q=U._basePlotModules,re=p.subplotsRegistry.cartesian;for($ in J)(W=J[$]).includeBasePlot&&W.includeBasePlot(F,U);for(var ae in Q.length||Q.push(re),U._has("cartesian")&&(p.getComponentMethod("grid","contentDefaults")(F,U),re.finalizeSubplots(F,U)),U._subplots)U._subplots[ae].sort(i.subplotSort);for(X=0;X<Q.length;X++)(W=Q[X]).supplyLayoutDefaults&&W.supplyLayoutDefaults(F,U,V);var oe=U._modules;for(X=0;X<oe.length;X++)(W=oe[X]).supplyLayoutDefaults&&W.supplyLayoutDefaults(F,U,V);var ue=U._transformModules;for(X=0;X<ue.length;X++)(W=ue[X]).supplyLayoutDefaults&&W.supplyLayoutDefaults(F,U,V,te);for($ in J)(W=J[$]).supplyLayoutDefaults&&W.supplyLayoutDefaults(F,U,V)},m.purge=function(F){var U=F._fullLayout||{};void 0!==U._glcontainer&&(U._glcontainer.selectAll(".gl-canvas").remove(),U._glcontainer.remove(),U._glcanvas=null),U._modeBar&&U._modeBar.destroy(),F._transitionData&&(F._transitionData._interruptCallbacks&&(F._transitionData._interruptCallbacks.length=0),F._transitionData._animationRaf&&window.cancelAnimationFrame(F._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(F),delete F.data,delete F.layout,delete F._fullData,delete F._fullLayout,delete F.calcdata,delete F.empty,delete F.fid,delete F.undoqueue,delete F.undonum,delete F.autoplay,delete F.changed,delete F._promises,delete F._redrawTimer,delete F._hmlumcount,delete F._hmpixcount,delete F._transitionData,delete F._transitioning,delete F._initialAutoSize,delete F._transitioningWithDuration,delete F._dragging,delete F._dragged,delete F._dragdata,delete F._hoverdata,delete F._snapshotInProgress,delete F._editing,delete F._mouseDownTime,delete F._legendMouseDownTime,F.removeAllListeners&&F.removeAllListeners()},m.style=function(F){var U,V=F._fullLayout._visibleModules,te=[];for(U=0;U<V.length;U++){var $=V[U];$.style&&i.pushUnique(te,$.style)}for(U=0;U<te.length;U++)te[U](F)},m.sanitizeMargins=function(F){if(F&&F.margin){var U,V=F.width,te=F.height,$=F.margin,X=V-($.l+$.r),W=te-($.t+$.b);X<0&&(U=(V-1)/($.l+$.r),$.l=Math.floor(U*$.l),$.r=Math.floor(U*$.r)),W<0&&(U=(te-1)/($.t+$.b),$.t=Math.floor(U*$.t),$.b=Math.floor(U*$.b))}},m.clearAutoMarginIds=function(F){F._fullLayout._pushmarginIds={}},m.allowAutoMargin=function(F,U){F._fullLayout._pushmarginIds[U]=1},m.autoMargin=function(F,U,V){var te=F._fullLayout,$=te.width,X=te.height,W=te.margin,J=te.minreducedwidth,Q=te.minreducedheight,re=i.constrain($-W.l-W.r,2,J),ae=i.constrain(X-W.t-W.b,2,Q),oe=Math.max(0,$-re),ue=Math.max(0,X-ae),ve=te._pushmargin,be=te._pushmarginIds;if(!1!==W.autoexpand){if(V){var de=V.pad;if(void 0===de&&(de=Math.min(12,W.l,W.r,W.t,W.b)),oe){var pe=(V.l+V.r)/oe;pe>1&&(V.l/=pe,V.r/=pe)}if(ue){var ge=(V.t+V.b)/ue;ge>1&&(V.t/=ge,V.b/=ge)}var Ae=void 0!==V.xl?V.xl:V.x,ye=void 0!==V.xr?V.xr:V.x,we=void 0!==V.yt?V.yt:V.y,se=void 0!==V.yb?V.yb:V.y;ve[U]={l:{val:Ae,size:V.l+de},r:{val:ye,size:V.r+de},b:{val:se,size:V.b+de},t:{val:we,size:V.t+de}},be[U]=1}else delete ve[U],delete be[U];if(!te._replotting)return m.doAutoMargin(F)}},m.doAutoMargin=function(F){var U=F._fullLayout,V=U.width,te=U.height;U._size||(U._size={}),P(U);var $=U._size,X=U.margin,W={t:0,b:0,l:0,r:0},J=i.extendFlat({},$),Q=X.l,re=X.r,ae=X.t,oe=X.b,ue=U._pushmargin,ve=U._pushmarginIds,be=U.minreducedwidth,de=U.minreducedheight;if(!1!==X.autoexpand){for(var pe in ue)ve[pe]||delete ue[pe];var ge=F._fullLayout._reservedMargin;for(var Ae in ge)for(var ye in ge[Ae]){var we=ge[Ae][ye];W[ye]=Math.max(W[ye],we)}for(var se in ue.base={l:{val:0,size:Q},r:{val:1,size:re},t:{val:1,size:ae},b:{val:0,size:oe}},W){var ie=0;for(var he in ue)"base"!==he&&T(ue[he][se].size)&&(ie=ue[he][se].size>ie?ue[he][se].size:ie);var Se=Math.max(0,X[se]-ie);W[se]=Math.max(0,W[se]-Se)}for(var _e in ue){var Me=ue[_e].l||{},Ee=ue[_e].b||{},Ie=Me.val,fe=Me.size,xe=Ee.val,Te=Ee.size,Ce=V-W.r-W.l,De=te-W.t-W.b;for(var ze in ue){if(T(fe)&&ue[ze].r){var Ue=ue[ze].r.val,Ve=ue[ze].r.size;if(Ue>Ie){var Xe=(fe*Ue+(Ve-Ce)*Ie)/(Ue-Ie),at=(Ve*(1-Ie)+(fe-Ce)*(1-Ue))/(Ue-Ie);Xe+at>Q+re&&(Q=Xe,re=at)}}if(T(Te)&&ue[ze].t){var st=ue[ze].t.val,ht=ue[ze].t.size;if(st>xe){var bt=(Te*st+(ht-De)*xe)/(st-xe),vt=(ht*(1-xe)+(Te-De)*(1-st))/(st-xe);bt+vt>oe+ae&&(oe=bt,ae=vt)}}}}}var Ze,Ne,Qe=i.constrain(V-X.l-X.r,2,be),nt=i.constrain(te-X.t-X.b,2,de),wt=Math.max(0,V-Qe),Ot=Math.max(0,te-nt);if(wt){var Pt=(Q+re)/wt;Pt>1&&(Q/=Pt,re/=Pt)}if(Ot){var St=(oe+ae)/Ot;St>1&&(oe/=St,ae/=St)}if($.l=Math.round(Q)+W.l,$.r=Math.round(re)+W.r,$.t=Math.round(ae)+W.t,$.b=Math.round(oe)+W.b,$.p=Math.round(X.pad),$.w=Math.round(V)-$.l-$.r,$.h=Math.round(te)-$.t-$.b,!U._replotting&&(m.didMarginChange(J,$)||function(Ze){if("_redrawFromAutoMarginCount"in Ze._fullLayout)return!1;var Ne=o.list(Ze,"",!0);for(var Ge in Ne)if(Ne[Ge].autoshift||Ne[Ge].shift)return!0;return!1}(F))){"_redrawFromAutoMarginCount"in U?U._redrawFromAutoMarginCount++:U._redrawFromAutoMarginCount=1;var qe=3*(1+Object.keys(ve).length);if(U._redrawFromAutoMarginCount<qe)return p.call("_doPlot",F);U._size=J,i.warn("Too many auto-margin redraws.")}Ze=F,Ne=o.list(Ze,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Ge){for(var rt=0;rt<Ne.length;rt++){var tt=Ne[rt][Ge];tt&&tt()}})};var R=["l","r","t","b","p","w","h"];function j(F,U,V){var te=!1,$=[m.previousPromises,function(){if(F._transitionData)return F._transitioning=!1,function(W){var J=Promise.resolve();if(!W)return J;for(;W.length;)J=J.then(W.shift());return J}(F._transitionData._interruptCallbacks)},V.prepareFn,m.rehover,m.reselect,function(){return F.emit("plotly_transitioning",[]),new Promise(function(W){F._transitioning=!0,U.duration>0&&(F._transitioningWithDuration=!0),F._transitionData._interruptCallbacks.push(function(){te=!0}),V.redraw&&F._transitionData._interruptCallbacks.push(function(){return p.call("redraw",F)}),F._transitionData._interruptCallbacks.push(function(){F.emit("plotly_transitioninterrupted",[])});var J=0,Q=0;function re(){return J++,function(){var ae;Q++,te||Q!==J||(ae=W,F._transitionData&&(function(oe){if(oe)for(;oe.length;)oe.shift()}(F._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(V.redraw)return p.call("redraw",F)}).then(function(){F._transitioning=!1,F._transitioningWithDuration=!1,F.emit("plotly_transitioned",[])}).then(ae)))}}V.runFn(re),setTimeout(re())})}],X=i.syncOrAsync($,F);return X&&X.then||(X=Promise.resolve()),X.then(function(){return F})}m.didMarginChange=function(F,U){for(var V=0;V<R.length;V++){var te=R[V],$=F[te],X=U[te];if(!T($)||Math.abs(X-$)>1)return!0}return!1},m.graphJson=function(F,U,V,te,$,X){($&&U&&!F._fullData||$&&!U&&!F._fullLayout)&&m.supplyDefaults(F);var W=$?F._fullData:F.data,J=$?F._fullLayout:F.layout,Q=(F._transitionData||{})._frames;function re(ue,ve){if("function"==typeof ue)return ve?"_function_":null;if(i.isPlainObject(ue)){var be,de={};return Object.keys(ue).sort().forEach(function(ye){if(-1===["_","["].indexOf(ye.charAt(0)))if("function"!=typeof ue[ye]){if("keepdata"===V){if("src"===ye.substr(ye.length-3))return}else if("keepstream"===V){if("string"==typeof(be=ue[ye+"src"])&&be.indexOf(":")>0&&!i.isPlainObject(ue.stream))return}else if("keepall"!==V&&"string"==typeof(be=ue[ye+"src"])&&be.indexOf(":")>0)return;de[ye]=re(ue[ye],ve)}else ve&&(de[ye]="_function")}),de}var pe=Array.isArray(ue),ge=i.isTypedArray(ue);if((pe||ge)&&ue.dtype&&ue.shape){var Ae=ue.bdata;return re({dtype:ue.dtype,shape:ue.shape,bdata:i.isArrayBuffer(Ae)?b.encode(Ae):Ae},ve)}return pe?ue.map(function(ye){return re(ye,ve)}):ge?i.simpleMap(ue,i.identity):i.isJSDate(ue)?i.ms2DateTimeLocal(+ue):ue}var ae={data:(W||[]).map(function(ue){var ve=re(ue);return U&&delete ve.fit,ve})};if(!U&&(ae.layout=re(J),$)){var oe=J._size;ae.layout.computed={margin:{b:oe.b,l:oe.l,r:oe.r,t:oe.t}}}return Q&&(ae.frames=re(Q)),X&&(ae.config=re(F._context,!0)),"object"===te?ae:JSON.stringify(ae)},m.modifyFrames=function(F,U){var V,te,$,X=F._transitionData._frames,W=F._transitionData._frameHash;for(V=0;V<U.length;V++)switch((te=U[V]).type){case"replace":$=te.value;var J=(X[te.index]||{}).name,Q=$.name;X[te.index]=W[Q]=$,Q!==J&&(delete W[J],W[Q]=$);break;case"insert":W[($=te.value).name]=$,X.splice(te.index,0,$);break;case"delete":delete W[($=X[te.index]).name],X.splice(te.index,1)}return Promise.resolve()},m.computeFrame=function(F,U){var V,te,$,X,W=F._transitionData._frameHash;if(!U)throw new Error("computeFrame must be given a string frame name");var J=W[U.toString()];if(!J)return!1;for(var Q=[J],re=[J.name];J.baseframe&&(J=W[J.baseframe.toString()])&&-1===re.indexOf(J.name);)Q.push(J),re.push(J.name);for(var ae={};J=Q.pop();)if(J.layout&&(ae.layout=m.extendLayout(ae.layout,J.layout)),J.data){if(ae.data||(ae.data=[]),!(te=J.traces))for(te=[],V=0;V<J.data.length;V++)te[V]=V;for(ae.traces||(ae.traces=[]),V=0;V<J.data.length;V++)null!=($=te[V])&&(-1===(X=ae.traces.indexOf($))&&(X=ae.data.length,ae.traces[X]=$),ae.data[X]=m.extendTrace(ae.data[X],J.data[V]))}return ae},m.recomputeFrameHash=function(F){for(var U=F._transitionData._frameHash={},V=F._transitionData._frames,te=0;te<V.length;te++){var $=V[te];$&&$.name&&(U[$.name]=$)}},m.extendObjectWithContainers=function(F,U,V){var te,$,X,W,J,Q,re,ae=i.extendDeepNoArrays({},U||{}),oe=i.expandObjectPaths(ae),ue={};if(V&&V.length)for(X=0;X<V.length;X++)void 0===($=(te=i.nestedProperty(oe,V[X])).get())?i.nestedProperty(ue,V[X]).set(null):(te.set(null),i.nestedProperty(ue,V[X]).set($));if(F=i.extendDeepNoArrays(F||{},oe),V&&V.length)for(X=0;X<V.length;X++)if(Q=i.nestedProperty(ue,V[X]).get()){for(re=(J=i.nestedProperty(F,V[X])).get(),Array.isArray(re)||(re=[],J.set(re)),W=0;W<Q.length;W++){var ve=Q[W];re[W]=null===ve?null:m.extendObjectWithContainers(re[W],ve)}J.set(re)}return F},m.dataArrayContainers=["transforms","dimensions"],m.layoutArrayContainers=p.layoutArrayContainers,m.extendTrace=function(F,U){return m.extendObjectWithContainers(F,U,m.dataArrayContainers)},m.extendLayout=function(F,U){return m.extendObjectWithContainers(F,U,m.layoutArrayContainers)},m.transition=function(F,U,V,te,$,X){var W={redraw:$.redraw},J={},Q=[];return W.prepareFn=function(){for(var re=Array.isArray(U)?U.length:0,ae=te.slice(0,re),oe=0;oe<ae.length;oe++){var ue=ae[oe],ve=F._fullData[ue]._module;if(ve){if(ve.animatable){var be=ve.basePlotModule.name;J[be]||(J[be]=[]),J[be].push(ue)}F.data[ae[oe]]=m.extendTrace(F.data[ae[oe]],U[oe])}}var de=i.expandObjectPaths(i.extendDeepNoArrays({},V)),pe=/^[xy]axis[0-9]*$/;for(var ge in de)pe.test(ge)&&delete de[ge].range;m.extendLayout(F.layout,de),delete F.calcdata,m.supplyDefaults(F),m.doCalcdata(F);var Ae=i.expandObjectPaths(V);if(Ae){var ye=F._fullLayout._plots;for(var we in ye){var se=ye[we],ie=se.xaxis,he=se.yaxis,Se=ie.range.slice(),_e=he.range.slice(),Me=null,Ee=null,Ie=null,fe=null;Array.isArray(Ae[ie._name+".range"])?Me=Ae[ie._name+".range"].slice():Array.isArray((Ae[ie._name]||{}).range)&&(Me=Ae[ie._name].range.slice()),Array.isArray(Ae[he._name+".range"])?Ee=Ae[he._name+".range"].slice():Array.isArray((Ae[he._name]||{}).range)&&(Ee=Ae[he._name].range.slice()),Se&&Me&&(ie.r2l(Se[0])!==ie.r2l(Me[0])||ie.r2l(Se[1])!==ie.r2l(Me[1]))&&(Ie={xr0:Se,xr1:Me}),_e&&Ee&&(he.r2l(_e[0])!==he.r2l(Ee[0])||he.r2l(_e[1])!==he.r2l(Ee[1]))&&(fe={yr0:_e,yr1:Ee}),(Ie||fe)&&Q.push(i.extendFlat({plotinfo:se},Ie,fe))}}return Promise.resolve()},W.runFn=function(re){var ae,oe,ue=F._fullLayout._basePlotModules,ve=Q.length;if(V)for(oe=0;oe<ue.length;oe++)ue[oe].transitionAxes&&ue[oe].transitionAxes(F,Q,X,re);for(var be in ve?((ae=i.extendFlat({},X)).duration=0,delete J.cartesian):ae=X,J){var de=J[be];F._fullData[de[0]]._module.basePlotModule.plot(F,de,ae,re)}},j(F,X,W)},m.transitionFromReact=function(F,U,V,te){var $=F._fullLayout,X=$.transition,W={},J=[];return W.prepareFn=function(){var Q=$._plots;for(var re in W.redraw=!1,"some"===U.anim&&(W.redraw=!0),"some"===V.anim&&(W.redraw=!0),Q){var ae=Q[re],oe=ae.xaxis,ue=ae.yaxis,ve=te[oe._name].range.slice(),be=te[ue._name].range.slice(),de=oe.range.slice(),pe=ue.range.slice();oe.setScale(),ue.setScale();var ge=null,Ae=null;oe.r2l(ve[0])===oe.r2l(de[0])&&oe.r2l(ve[1])===oe.r2l(de[1])||(ge={xr0:ve,xr1:de}),ue.r2l(be[0])===ue.r2l(pe[0])&&ue.r2l(be[1])===ue.r2l(pe[1])||(Ae={yr0:be,yr1:pe}),(ge||Ae)&&J.push(i.extendFlat({plotinfo:ae},ge,Ae))}return Promise.resolve()},W.runFn=function(Q){for(var re,ae,oe,ue=F._fullData,ve=F._fullLayout._basePlotModules,be=[],de=0;de<ue.length;de++)be.push(de);function pe(){if(F._fullLayout)for(var Ae=0;Ae<ve.length;Ae++)ve[Ae].transitionAxes&&ve[Ae].transitionAxes(F,J,re,Q)}function ge(){if(F._fullLayout)for(var Ae=0;Ae<ve.length;Ae++)ve[Ae].plot(F,oe,ae,Q)}J.length&&U.anim?"traces first"===X.ordering?(re=i.extendFlat({},X,{duration:0}),oe=be,ae=X,setTimeout(pe,X.duration),ge()):(re=X,oe=null,ae=i.extendFlat({},X,{duration:0}),setTimeout(ge,re.duration),pe()):J.length?(re=X,pe()):U.anim&&(oe=be,ae=X,ge())},j(F,X,W)},m.doCalcdata=function(F,U){var V,te,$,X,W=o.list(F),J=F._fullData,Q=F._fullLayout,re=new Array(J.length),ae=(F.calcdata||[]).slice();for(F.calcdata=re,Q._numBoxes=0,Q._numViolins=0,Q._violinScaleGroupStats={},F._hmpixcount=0,F._hmlumcount=0,Q._piecolormap={},Q._sunburstcolormap={},Q._treemapcolormap={},Q._iciclecolormap={},Q._funnelareacolormap={},$=0;$<J.length;$++)Array.isArray(U)&&-1===U.indexOf($)&&(re[$]=ae[$]);for($=0;$<J.length;$++)(V=J[$])._arrayAttrs=s.findArrayAttributes(V),V._extremes={};var oe=Q._subplots.polar||[];for($=0;$<oe.length;$++)W.push(Q[oe[$]].radialaxis,Q[oe[$]].angularaxis);for(var ue in Q._colorAxes){var ve=Q[ue];!1!==ve.cauto&&(delete ve.cmin,delete ve.cmax)}var be=!1;function de(Ae){if(V=J[Ae],te=V._module,!0===V.visible&&V.transforms){if(te&&te.calc){var ye=te.calc(F,V);ye[0]&&ye[0].t&&ye[0].t._scene&&delete ye[0].t._scene.dirty}for(X=0;X<V.transforms.length;X++){var we=V.transforms[X];(te=y[we.type])&&te.calcTransform&&(V._hasCalcTransform=!0,be=!0,te.calcTransform(F,V,we))}}}function pe(Ae,ye){if(V=J[Ae],!!(te=V._module).isContainer===ye){var we=[];if(!0===V.visible&&0!==V._length){delete V._indexToPoints;var se=V.transforms||[];for(X=se.length-1;X>=0;X--)if(se[X].enabled){V._indexToPoints=se[X]._indexToPoints;break}te&&te.calc&&(we=te.calc(F,V))}Array.isArray(we)&&we[0]||(we=[{x:r,y:r}]),we[0].t||(we[0].t={}),we[0].trace=V,re[Ae]=we}}for(N(W,J,Q),$=0;$<J.length;$++)pe($,!0);for($=0;$<J.length;$++)de($);for(be&&N(W,J,Q),$=0;$<J.length;$++)pe($,!0);for($=0;$<J.length;$++)pe($,!1);Y(F);var ge=function(Ae,ye){var we,se,ie,he,Se,_e=[];function Me(Ge,rt,tt){var Re=rt._id.charAt(0);if("histogram2dcontour"===Ge){var Fe=rt._counterAxes[0],et=o.getFromId(ye,Fe),We="x"===Re||"x"===Fe&&"category"===et.type,ct="y"===Re||"y"===Fe&&"category"===et.type;return function(pt,dt){return 0===pt||0===dt||We&&pt===tt[dt].length-1||ct&&dt===tt.length-1?-1:("y"===Re?dt:pt)-1}}return function(pt,dt){return"y"===Re?dt:pt}}var Ee={min:function(Ge){return i.aggNums(Math.min,null,Ge)},max:function(Ge){return i.aggNums(Math.max,null,Ge)},sum:function(Ge){return i.aggNums(function(rt,tt){return rt+tt},null,Ge)},total:function(Ge){return i.aggNums(function(rt,tt){return rt+tt},null,Ge)},mean:function(Ge){return i.mean(Ge)},median:function(Ge){return i.median(Ge)}};function Ie(Ge,rt){return Ge[1]-rt[1]}function fe(Ge,rt){return rt[1]-Ge[1]}for(we=0;we<Ae.length;we++){var xe=Ae[we];if("category"===xe.type){var Te=xe.categoryorder.match(z);if(Te){var Ce=Te[1],De=Te[2],ze=xe._id.charAt(0),Ue="x"===ze,Ve=[];for(se=0;se<xe._categories.length;se++)Ve.push([xe._categories[se],[]]);for(se=0;se<xe._traceIndices.length;se++){var Xe=xe._traceIndices[se],at=ye._fullData[Xe];if(!0===at.visible){var st=at.type;p.traceIs(at,"histogram")&&(delete at._xautoBinFinished,delete at._yautoBinFinished);var ht="splom"===st,bt="scattergl"===st,vt=ye.calcdata[Xe];for(ie=0;ie<vt.length;ie++){var Qe,nt,wt=vt[ie];if(ht){var Ot=at._axesDim[xe._id];if(!Ue){var Pt=at._diag[Ot][0];Pt&&(xe=ye._fullLayout[o.id2name(Pt)])}var St=wt.trace.dimensions[Ot].values;for(he=0;he<St.length;he++)for(Qe=xe._categoriesMap[St[he]],Se=0;Se<wt.trace.dimensions.length;Se++)if(Se!==Ot){var qe=wt.trace.dimensions[Se];Ve[Qe][1].push(qe.values[he])}}else if(bt){for(he=0;he<wt.t.x.length;he++)Ue?(Qe=wt.t.x[he],nt=wt.t.y[he]):(Qe=wt.t.y[he],nt=wt.t.x[he]),Ve[Qe][1].push(nt);wt.t&&wt.t._scene&&delete wt.t._scene.dirty}else if(wt.hasOwnProperty("z")){nt=wt.z;var Ze=Me(at.type,xe,nt);for(he=0;he<nt.length;he++)for(Se=0;Se<nt[he].length;Se++)(Qe=Ze(Se,he))+1&&Ve[Qe][1].push(nt[he][Se])}else for(void 0===(Qe=wt.p)&&(Qe=wt[ze]),void 0===(nt=wt.s)&&(nt=wt.v),void 0===nt&&(nt=Ue?wt.y:wt.x),Array.isArray(nt)||(nt=void 0===nt?[]:[nt]),he=0;he<nt.length;he++)Ve[Qe][1].push(nt[he])}}}xe._categoriesValue=Ve;var Ne=[];for(se=0;se<Ve.length;se++)Ne.push([Ve[se][0],Ee[Ce](Ve[se][1])]);Ne.sort("descending"===De?fe:Ie),xe._categoriesAggregatedValue=Ne,xe._initialCategories=Ne.map(function(Ge){return Ge[0]}),_e=_e.concat(xe.sortByInitialCategories())}}}return _e}(W,F);if(ge.length){for(Q._numBoxes=0,Q._numViolins=0,$=0;$<ge.length;$++)pe(ge[$],!0);for($=0;$<ge.length;$++)pe(ge[$],!1);Y(F)}p.getComponentMethod("fx","calc")(F),p.getComponentMethod("errorbars","calc")(F)};var z=/(total|sum|min|max|mean|median) (ascending|descending)/;function N(F,U,V){var te={};function $(Q){Q.clearCalc(),"multicategory"===Q.type&&Q.setupMultiCategory(U),te[Q._id]=1}i.simpleMap(F,$);for(var X=V._axisMatchGroups||[],W=0;W<X.length;W++)for(var J in X[W])te[J]||$(V[o.id2name(J)])}function Y(F){var U,V,te,$=F._fullLayout,X=$._visibleModules,W={};for(V=0;V<X.length;V++){var J=X[V],Q=J.crossTraceCalc;if(Q){var re=J.basePlotModule.name;W[re]?i.pushUnique(W[re],Q):W[re]=[Q]}}for(te in W){var ae=W[te],oe=$._subplots[te];if(Array.isArray(oe))for(U=0;U<oe.length;U++){var ue=oe[U],ve="cartesian"===te?$._plots[ue]:$[ue];for(V=0;V<ae.length;V++)ae[V](F,ve,ue)}else for(V=0;V<ae.length;V++)ae[V](F)}}m.rehover=function(F){F._fullLayout._rehover&&F._fullLayout._rehover()},m.redrag=function(F){F._fullLayout._redrag&&F._fullLayout._redrag()},m.reselect=function(F){var U=F._fullLayout,V=(F.layout||{}).selections,te=U._previousSelections;U._previousSelections=V;var $=U._reselect||JSON.stringify(V)!==JSON.stringify(te);p.getComponentMethod("selections","reselect")(F,$)},m.generalUpdatePerTraceModule=function(F,U,V,te){var $,X=U.traceHash,W={};for($=0;$<V.length;$++){var J=V[$],Q=J[0].trace;Q.visible&&(W[Q.type]=W[Q.type]||[],W[Q.type].push(J))}for(var re in X)if(!W[re]){var ae=X[re][0];ae[0].trace.visible=!1,W[re]=[ae]}for(var oe in W){var ue=W[oe];ue[0][0].trace._module.plot(F,U,i.filterVisible(ue),te)}U.traceHash=W},m.plotBasePlot=function(F,U,V,te,$){var X=p.getModule(F),W=x(U.calcdata,X)[0];X.plot(U,W,te,$)},m.cleanBasePlot=function(F,U,V,te,$){var X=$._has&&$._has(F),W=V._has&&V._has(F);X&&!W&&$["_"+F+"layer"].selectAll("g.trace").remove()}},9813:function(ee){"use strict";ee.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(ee,D,e){"use strict";var M=e(71828),k=e(61082).tester,a=M.findIndexOfMin,T=M.isAngleInsideSector,b=M.angleDelta,p=M.angleDist;function s(r,o,l,u){var d,c,x=u[0],g=u[1],h=i(Math.sin(o)-Math.sin(r)),m=i(Math.cos(o)-Math.cos(r)),y=Math.tan(l),v=i(1/y),_=h/m,f=g-_*x;return v?h&&m?c=y*(d=f/(y-_)):m?(d=g*v,c=g):(d=x,c=x*y):h&&m?(d=0,c=f):m?(d=0,c=g):d=c=NaN,[d,c]}function t(r,o,l,u){return M.isFullCircle([o,l])?function(d,c){var x,g=c.length,h=new Array(g+1);for(x=0;x<g;x++){var m=c[x];h[x]=[d*Math.cos(m),d*Math.sin(m)]}return h[x]=h[0].slice(),h}(r,u):function(d,c,x,g){var h,m,y=g.length,v=[];function _(j){return[d*Math.cos(j),d*Math.sin(j)]}function f(j,z,N){return s(j,z,N,_(j))}function S(j){return M.mod(j,y)}function w(j){return T(j,[c,x])}var E=a(g,function(j){return w(j)?p(j,c):1/0}),C=f(g[E],g[S(E-1)],c);for(v.push(C),h=E,m=0;m<y;h++,m++){var O=g[S(h)];if(!w(O))break;v.push(_(O))}var P=a(g,function(j){return w(j)?p(j,x):1/0}),R=f(g[P],g[S(P+1)],x);return v.push(R),v.push([0,0]),v.push(v[0].slice()),v}(r,o,l,u)}function i(r){return Math.abs(r)>1e-10?r:0}function n(r,o,l){o=o||0,l=l||0;for(var u=r.length,d=new Array(u),c=0;c<u;c++){var x=r[c];d[c]=[o+x[0],l-x[1]]}return d}ee.exports={isPtInsidePolygon:function(r,o,l,u,d){if(!T(o,u))return!1;var c,x;l[0]<l[1]?(c=l[0],x=l[1]):(c=l[1],x=l[0]);var g=k(t(c,u[0],u[1],d)),h=k(t(x,u[0],u[1],d)),m=[r*Math.cos(o),r*Math.sin(o)];return h.contains(m)&&!g.contains(m)},findPolygonOffset:function(r,o,l,u){for(var d=1/0,c=1/0,x=t(r,o,l,u),g=0;g<x.length;g++){var h=x[g];d=Math.min(d,h[0]),c=Math.min(c,-h[1])}return[d,c]},findEnclosingVertexAngles:function(r,o){var l=a(o,function(d){var c=b(d,r);return c>0?c:1/0}),u=M.mod(l+1,o.length);return[o[l],o[u]]},findIntersectionXY:s,findXYatLength:function(r,o,l,u){var d=-o*l,c=o*o+1,x=2*(o*d-l),g=d*d+l*l-r*r,h=Math.sqrt(x*x-4*c*g),m=(-x+h)/(2*c),y=(-x-h)/(2*c);return[[m,o*m+d+u],[y,o*y+d+u]]},clampTiny:i,pathPolygon:function(r,o,l,u,d,c){return"M"+n(t(r,o,l,u),d,c).join("L")},pathPolygonAnnulus:function(r,o,l,u,d,c,x){var g,h;r<o?(g=r,h=o):(g=o,h=r);var m=n(t(g,l,u,d),c,x);return"M"+n(t(h,l,u,d),c,x).reverse().join("L")+"M"+m.join("L")}}},23580:function(ee,D,e){"use strict";var M=e(27659).AU,k=e(71828).counterRegex,a=e(77997),T=e(9813),b=T.attr,p=T.name,s=k(p),t={};t[b]={valType:"subplotid",dflt:p,editType:"calc"},ee.exports={attr:b,name:p,idRoot:p,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:function(i){for(var n=i._fullLayout,r=i.calcdata,o=n._subplots[p],l=0;l<o.length;l++){var u=o[l],d=M(r,p,u),c=n[u]._subplot;c||(c=a(i,u),n[u]._subplot=c),c.plot(d,n,i._promises)}},clean:function(i,n,r,o){for(var l=o._subplots[p]||[],u=o._has&&o._has("gl"),d=n._has&&n._has("gl"),c=u&&!d,x=0;x<l.length;x++){var g=l[x],h=o[g]._subplot;if(!n[g]&&h)for(var m in h.framework.remove(),h.layers["radial-axis-title"].remove(),h.clipPaths)h.clipPaths[m].remove();c&&h._scene&&(h._scene.destroy(),h._scene=null)}},toSVG:e(93612).toSVG}},73812:function(ee,D,e){"use strict";var M=e(22399),k=e(13838),a=e(27670).Y,T=e(71828).extendFlat,b=e(30962).overrideAll,p=b({color:k.color,showline:T({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:T({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),s=b({tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,ticklabelstep:k.ticklabelstep,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,tickformatstops:k.tickformatstops,layer:k.layer},"plot","from-root"),t={visible:T({},k.visible,{dflt:!0}),type:T({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},autorange:T({},k.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:T({},k.minallowed,{editType:"plot"}),maxallowed:T({},k.maxallowed,{editType:"plot"}),range:T({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:k.categoryorder,categoryarray:k.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:T({},k.title.text,{editType:"plot",dflt:""}),font:T({},k.title.font,{editType:"plot"}),editType:"plot"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}};T(t,p,s);var i={visible:T({},k.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:k.autotypenumbers,categoryorder:k.categoryorder,categoryarray:k.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};T(i,p,s),ee.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:M.background},radialaxis:t,angularaxis:i,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(ee,D,e){"use strict";var M=e(71828),k=e(7901),a=e(44467),T=e(49119),b=e(27659).NG,p=e(26218),s=e(38701),t=e(96115),i=e(89426),n=e(15258),r=e(92128),o=e(23074),l=e(4322),u=e(73812),d=e(12101),c=e(9813),x=c.axisNames;function g(m,y,v,_){var f=v("bgcolor");_.bgColor=k.combine(f,_.paper_bgcolor);var S=v("sector");v("hole");var w,E=b(_.fullData,c.name,_.id),C=_.layoutOut;function O(oe,ue){return v(w+"."+oe,ue)}for(var P=0;P<x.length;P++){w=x[P],M.isPlainObject(m[w])||(m[w]={});var R=m[w],j=a.newContainer(y,w);j._id=j._name=w,j._attr=_.id+"."+w,j._traceIndices=E.map(function(oe){return oe._expandedIndex});var z=c.axisName2dataArray[w],N=h(R,j,O,E,z,_);n(R,j,O,{axData:E,dataAttr:z});var Y=O("visible");switch(d(j,y,C),O("uirevision",y.uirevision),j._m=1,w){case"radialaxis":O("minallowed"),O("maxallowed");var F,U=O("range"),V=j.getAutorangeDflt(U),te=O("autorange",V);!U||(null!==U[0]||null!==U[1])&&(null!==U[0]&&null!==U[1]||"reversed"!==te&&!0!==te)&&(null===U[0]||"min"!==te&&"max reversed"!==te)&&(null===U[1]||"max"!==te&&"min reversed"!==te)||(U=void 0,delete j.range,j.autorange=!0,F=!0),F||(te=O("autorange",V=j.getAutorangeDflt(U))),R.autorange=te,te&&(o(O,te,U),"linear"!==N&&"-"!==N||O("rangemode"),j.isReversed()&&(j._m=-1)),j.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===N){M.log("Polar plots do not support date angular axes yet.");for(var $=0;$<E.length;$++)E[$].visible=!1;N=R.type=j.type="linear"}O("linear"===N?"thetaunit":"period");var X=O("direction");O("rotation",{counterclockwise:0,clockwise:90}[X])}if(i(R,j,O,j.type,{tickSuffixDflt:"degrees"===j.thetaunit?"\xb0":void 0}),Y){var W,J,Q,re,ae=_.font||{};J=(W=O("color"))===R.color?W:ae.color,Q=ae.size,re=ae.family,p(R,j,O,j.type),t(R,j,O,j.type,{font:{color:J,size:Q,family:re}}),s(R,j,O,{outerTicks:!0}),r(R,j,O,{dfltColor:W,bgColor:_.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[w]}),O("layer"),"radialaxis"===w&&(O("side"),O("angle",S[0]),O("title.text"),M.coerceFont(O,"title.font",{color:J,size:M.bigFont(Q),family:re}))}"category"!==N&&O("hoverformat"),j._input=R}"category"===y.angularaxis.type&&v("gridshape")}function h(m,y,v,_,f,S){var w=v("autotypenumbers",S.autotypenumbersDflt);if("-"===v("type")){for(var E,C=0;C<_.length;C++)if(_[C].visible){E=_[C];break}E&&E[f]&&(y.type=l(E[f],"gregorian",{noMultiCategory:!0,autotypenumbers:w})),"-"===y.type?y.type="linear":m.type=y.type}return y.type}ee.exports=function(m,y,v){T(m,y,v,{type:c.name,attributes:u,handleDefaults:g,font:y.font,autotypenumbersDflt:y.autotypenumbers,paper_bgcolor:y.paper_bgcolor,fullData:v,layoutOut:y})}},77997:function(ee,D,e){"use strict";var M=e(39898),k=e(84267),a=e(73972),T=e(71828),b=T.strRotate,p=T.strTranslate,s=e(7901),t=e(91424),i=e(74875),n=e(89298),r=e(21994),o=e(12101),l=e(71739).doAutoRange,u=e(29323),d=e(28569),c=e(30211),x=e(92998),g=e(47322).prepSelect,h=e(47322).selectOnClick,m=e(47322).clearOutline,y=e(6964),v=e(33306),_=e(61549).redrawReglTraces,f=e(18783).MID_SHIFT,S=e(9813),w=e(10869),E=e(23893),C=E.smith,O=E.reactanceArc,P=E.resistanceArc,R=E.smithTransform,j=T._,z=T.mod,N=T.deg2rad,Y=T.rad2deg;function F(X,W,J){this.isSmith=J||!1,this.id=W,this.gd=X,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var Q=X._fullLayout,re="clip"+Q._uid+W;this.clipIds.forTraces=re+"-for-traces",this.clipPaths.forTraces=Q._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=Q["_"+(J?"smith":"polar")+"layer"].append("g").attr("class",W),this.getHole=function(ae){return this.isSmith?0:ae.hole},this.getSector=function(ae){return this.isSmith?[0,360]:ae.sector},this.getRadial=function(ae){return this.isSmith?ae.realaxis:ae.radialaxis},this.getAngular=function(ae){return this.isSmith?ae.imaginaryaxis:ae.angularaxis},J||(this.radialTickLayout=null,this.angularTickLayout=null)}var U=F.prototype;function V(X){var W=X.ticks+String(X.ticklen)+String(X.showticklabels);return"side"in X&&(W+=X.side),W}function te(X,W){return W[T.findIndexOfMin(W,function(J){return T.angleDist(X,J)})]}function $(X,W,J){return W?(X.attr("display",null),X.attr(J)):X&&X.attr("display","none"),X}ee.exports=function(X,W,J){return new F(X,W,J)},U.plot=function(X,W){for(var J=this,Q=W[J.id],re=!1,ae=0;ae<X.length;ae++)if(!1===X[ae][0].trace.cliponaxis){re=!0;break}J._hasClipOnAxisFalse=re,J.updateLayers(W,Q),J.updateLayout(W,Q),i.generalUpdatePerTraceModule(J.gd,J,X,Q),J.updateFx(W,Q),J.isSmith&&(delete Q.realaxis.range,delete Q.imaginaryaxis.range)},U.updateLayers=function(X,W){var J=this,Q=J.isSmith,re=J.layers,ae=J.getRadial(W),oe=J.getAngular(W),ue=S.layerNames,ve=ue.indexOf("frontplot"),be=ue.slice(0,ve),de="below traces"===oe.layer,pe="below traces"===ae.layer;de&&be.push("angular-line"),pe&&be.push("radial-line"),de&&be.push("angular-axis"),pe&&be.push("radial-axis"),be.push("frontplot"),de||be.push("angular-line"),pe||be.push("radial-line"),de||be.push("angular-axis"),pe||be.push("radial-axis");var ge=(Q?"smith":"polar")+"sublayer",Ae=J.framework.selectAll("."+ge).data(be,String);Ae.enter().append("g").attr("class",function(ye){return ge+" "+ye}).each(function(ye){var we=re[ye]=M.select(this);switch(ye){case"frontplot":Q||we.append("g").classed("barlayer",!0),we.append("g").classed("scatterlayer",!0);break;case"backplot":we.append("g").classed("maplayer",!0);break;case"plotbg":re.bg=we.append("path");break;case"radial-grid":case"angular-grid":we.style("fill","none");break;case"radial-line":we.append("line").style("fill","none");break;case"angular-line":we.append("path").style("fill","none")}}),Ae.order()},U.updateLayout=function(X,W){var J=this,Q=J.layers,re=X._size,ae=J.getRadial(W),oe=J.getAngular(W),ue=W.domain.x,ve=W.domain.y;J.xOffset=re.l+re.w*ue[0],J.yOffset=re.t+re.h*(1-ve[1]);var be=J.xLength=re.w*(ue[1]-ue[0]),de=J.yLength=re.h*(ve[1]-ve[0]),pe=J.getSector(W);J.sectorInRad=pe.map(N);var ge,Ae,ye,we,se,at,st,ht,bt,vt,Qe,nt,wt,Ot,Pt,ie=J.sectorBBox=(ht=(at=pe)[0],bt=at[1]-ht,vt=z(ht,360),Qe=vt+bt,nt=Math.cos(N(vt)),wt=Math.sin(N(vt)),Ot=Math.cos(N(Qe)),Pt=Math.sin(N(Qe)),st=vt<=90&&Qe>=90||vt>90&&Qe>=450?1:wt<=0&&Pt<=0?0:Math.max(wt,Pt),[vt<=180&&Qe>=180||vt>180&&Qe>=540?-1:nt>=0&&Ot>=0?0:Math.min(nt,Ot),vt<=270&&Qe>=270||vt>270&&Qe>=630?-1:wt>=0&&Pt>=0?0:Math.min(wt,Pt),Qe>=360?1:nt<=0&&Ot<=0?0:Math.max(nt,Ot),st]),he=ie[2]-ie[0],Se=ie[3]-ie[1],_e=de/be,Me=Math.abs(Se/he);_e>Me?(ge=be,se=(de-(Ae=be*Me))/re.h/2,ye=[ue[0],ue[1]],we=[ve[0]+se,ve[1]-se]):(Ae=de,se=(be-(ge=de/Me))/re.w/2,ye=[ue[0]+se,ue[1]-se],we=[ve[0],ve[1]]),J.xLength2=ge,J.yLength2=Ae,J.xDomain2=ye,J.yDomain2=we;var Ee,Ie=J.xOffset2=re.l+re.w*ye[0],fe=J.yOffset2=re.t+re.h*(1-we[1]),xe=J.radius=ge/he,Te=J.innerRadius=J.getHole(W)*xe,Ce=J.cx=Ie-xe*ie[0],De=J.cy=fe+xe*ie[3],ze=J.cxx=Ce-Ie,Ue=J.cyy=De-fe,Ve=ae.side;"counterclockwise"===Ve?(Ee=Ve,Ve="top"):"clockwise"===Ve&&(Ee=Ve,Ve="bottom"),J.radialAxis=J.mockAxis(X,W,ae,{_id:"x",side:Ve,_trueSide:Ee,domain:[Te/re.w,xe/re.w]}),J.angularAxis=J.mockAxis(X,W,oe,{side:"right",domain:[0,Math.PI],autorange:!1}),J.doAutoRange(X,W),J.updateAngularAxis(X,W),J.updateRadialAxis(X,W),J.updateRadialAxisTitle(X,W),J.xaxis=J.mockCartesianAxis(X,W,{_id:"x",domain:ye}),J.yaxis=J.mockCartesianAxis(X,W,{_id:"y",domain:we});var Xe=J.pathSubplot();J.clipPaths.forTraces.select("path").attr("d",Xe).attr("transform",p(ze,Ue)),Q.frontplot.attr("transform",p(Ie,fe)).call(t.setClipUrl,J._hasClipOnAxisFalse?null:J.clipIds.forTraces,J.gd),Q.bg.attr("d",Xe).attr("transform",p(Ce,De)).call(s.fill,W.bgcolor)},U.mockAxis=function(X,W,J,Q){var re=T.extendFlat({},J,Q);return o(re,W,X),re},U.mockCartesianAxis=function(X,W,J){var Q=this,re=Q.isSmith,ae=J._id,oe=T.extendFlat({type:"linear"},J);r(oe,X);var ue={x:[0,2],y:[1,3]};return oe.setRange=function(){var ve=Q.sectorBBox,be=ue[ae],de=Q.radialAxis._rl,pe=(de[1]-de[0])/(1-Q.getHole(W));oe.range=[ve[be[0]]*pe,ve[be[1]]*pe]},oe.isPtWithinRange="x"!==ae||re?function(){return!0}:function(ve){return Q.isPtInside(ve)},oe.setRange(),oe.setScale(),oe},U.doAutoRange=function(X,W){var J=this,Q=J.gd,re=J.radialAxis,ae=J.getRadial(W);l(Q,re);var oe=re.range;if(ae.range=oe.slice(),ae._input.range=oe.slice(),re._rl=[re.r2l(oe[0],null,"gregorian"),re.r2l(oe[1],null,"gregorian")],void 0!==re.minallowed){var ue=re.r2l(re.minallowed);re._rl[0]>re._rl[1]?re._rl[1]=Math.max(re._rl[1],ue):re._rl[0]=Math.max(re._rl[0],ue)}if(void 0!==re.maxallowed){var ve=re.r2l(re.maxallowed);re._rl[0]<re._rl[1]?re._rl[1]=Math.min(re._rl[1],ve):re._rl[0]=Math.min(re._rl[0],ve)}},U.updateRadialAxis=function(X,W){var J=this,Q=J.gd,re=J.layers,ae=J.radius,oe=J.innerRadius,ue=J.cx,ve=J.cy,be=J.getRadial(W),de=z(J.getSector(W)[0],360),pe=J.radialAxis,ge=oe<ae,Ae=J.isSmith;Ae||(J.fillViewInitialKey("radialaxis.angle",be.angle),J.fillViewInitialKey("radialaxis.range",pe.range.slice()),pe.setGeometry()),"auto"===pe.tickangle&&de>90&&de<=270&&(pe.tickangle=180);var ye=Ae?function(fe){var xe=R(J,C([fe.x,0]));return p(xe[0]-ue,xe[1]-ve)}:function(fe){return p(pe.l2p(fe.x)+oe,0)},we=Ae?function(fe){return P(J,fe.x,-1/0,1/0)}:function(fe){return J.pathArc(pe.r2p(fe.x)+oe)},se=V(be);if(J.radialTickLayout!==se&&(re["radial-axis"].selectAll(".xtick").remove(),J.radialTickLayout=se),ge){pe.setScale();var ie=0,he=Ae?(pe.tickvals||[]).filter(function(fe){return fe>=0}).map(function(fe){return n.tickText(pe,fe,!0,!1)}):n.calcTicks(pe),Se=Ae?he:n.clipEnds(pe,he),_e=n.getTickSigns(pe)[2];Ae&&(("top"===pe.ticks&&"bottom"===pe.side||"bottom"===pe.ticks&&"top"===pe.side)&&(_e=-_e),"top"===pe.ticks&&"top"===pe.side&&(ie=-pe.ticklen),"bottom"===pe.ticks&&"bottom"===pe.side&&(ie=pe.ticklen)),n.drawTicks(Q,pe,{vals:he,layer:re["radial-axis"],path:n.makeTickPath(pe,0,_e),transFn:ye,crisp:!1}),n.drawGrid(Q,pe,{vals:Se,layer:re["radial-grid"],path:we,transFn:T.noop,crisp:!1}),n.drawLabels(Q,pe,{vals:he,layer:re["radial-axis"],transFn:ye,labelFns:n.makeLabelFns(pe,ie)})}var Me=J.radialAxisAngle=J.vangles?Y(te(N(be.angle),J.vangles)):be.angle,Ee=p(ue,ve),Ie=Ee+b(-Me);$(re["radial-axis"],ge&&(be.showticklabels||be.ticks),{transform:Ie}),$(re["radial-grid"],ge&&be.showgrid,{transform:Ae?"":Ee}),$(re["radial-line"].select("line"),ge&&be.showline,{x1:Ae?-ae:oe,y1:0,x2:ae,y2:0,transform:Ie}).attr("stroke-width",be.linewidth).call(s.stroke,be.linecolor)},U.updateRadialAxisTitle=function(X,W,J){if(!this.isSmith){var Q=this,re=Q.gd,ae=Q.radius,oe=Q.cx,ue=Q.cy,ve=Q.getRadial(W),be=Q.id+"title",de=0;if(ve.title){var pe=t.bBox(Q.layers["radial-axis"].node()).height,ge=ve.title.font.size,Ae=ve.side;de="top"===Ae?ge:"counterclockwise"===Ae?-(pe+.4*ge):pe+.8*ge}var ye=void 0!==J?J:Q.radialAxisAngle,we=N(ye),se=Math.cos(we),ie=Math.sin(we),he=oe+ae/2*se+de*ie,Se=ue-ae/2*ie+de*se;Q.layers["radial-axis-title"]=x.draw(re,be,{propContainer:ve,propName:Q.id+".radialaxis.title",placeholder:j(re,"Click to enter radial axis title"),attributes:{x:he,y:Se,"text-anchor":"middle"},transform:{rotate:-ye}})}},U.updateAngularAxis=function(X,W){var J=this,Q=J.gd,re=J.layers,ae=J.radius,oe=J.innerRadius,ue=J.cx,ve=J.cy,be=J.getAngular(W),de=J.angularAxis,pe=J.isSmith;pe||(J.fillViewInitialKey("angularaxis.rotation",be.rotation),de.setGeometry(),de.setScale());var ge=pe?function(fe){var xe=R(J,C([0,fe.x]));return Math.atan2(xe[0]-ue,xe[1]-ve)-Math.PI/2}:function(fe){return de.t2g(fe.x)};"linear"===de.type&&"radians"===de.thetaunit&&(de.tick0=Y(de.tick0),de.dtick=Y(de.dtick));var Ae=function(fe){return p(ue+ae*Math.cos(fe),ve-ae*Math.sin(fe))},ye=pe?function(fe){var xe=R(J,C([0,fe.x]));return p(xe[0],xe[1])}:function(fe){return Ae(ge(fe))},we=pe?function(fe){var xe=R(J,C([0,fe.x])),Te=Math.atan2(xe[0]-ue,xe[1]-ve)-Math.PI/2;return p(xe[0],xe[1])+b(-Y(Te))}:function(fe){var xe=ge(fe);return Ae(xe)+b(-Y(xe))},se=pe?function(fe){return O(J,fe.x,0,1/0)}:function(fe){var xe=ge(fe),Te=Math.cos(xe),Ce=Math.sin(xe);return"M"+[ue+oe*Te,ve-oe*Ce]+"L"+[ue+ae*Te,ve-ae*Ce]},ie=n.makeLabelFns(de,0).labelStandoff,he={xFn:function(fe){var xe=ge(fe);return Math.cos(xe)*ie},yFn:function(fe){var xe=ge(fe),Te=Math.sin(xe)>0?.2:1;return-Math.sin(xe)*(ie+fe.fontSize*Te)+Math.abs(Math.cos(xe))*(fe.fontSize*f)},anchorFn:function(fe){var xe=ge(fe),Te=Math.cos(xe);return Math.abs(Te)<.1?"middle":Te>0?"start":"end"},heightFn:function(fe,xe,Te){var Ce=ge(fe);return-.5*(1+Math.sin(Ce))*Te}},Se=V(be);J.angularTickLayout!==Se&&(re["angular-axis"].selectAll("."+de._id+"tick").remove(),J.angularTickLayout=Se);var _e,Me=pe?[1/0].concat(de.tickvals||[]).map(function(fe){return n.tickText(de,fe,!0,!1)}):n.calcTicks(de);if(pe&&(Me[0].text="\u221e",Me[0].fontSize*=1.75),"linear"===W.gridshape?(_e=Me.map(ge),T.angleDelta(_e[0],_e[1])<0&&(_e=_e.slice().reverse())):_e=null,J.vangles=_e,"category"===de.type&&(Me=Me.filter(function(fe){return T.isAngleInsideSector(ge(fe),J.sectorInRad)})),de.visible){var Ee="inside"===de.ticks?-1:1,Ie=(de.linewidth||1)/2;n.drawTicks(Q,de,{vals:Me,layer:re["angular-axis"],path:"M"+Ee*Ie+",0h"+Ee*de.ticklen,transFn:we,crisp:!1}),n.drawGrid(Q,de,{vals:Me,layer:re["angular-grid"],path:se,transFn:T.noop,crisp:!1}),n.drawLabels(Q,de,{vals:Me,layer:re["angular-axis"],repositionOnUpdate:!0,transFn:ye,labelFns:he})}$(re["angular-line"].select("path"),be.showline,{d:J.pathSubplot(),transform:p(ue,ve)}).attr("stroke-width",be.linewidth).call(s.stroke,be.linecolor)},U.updateFx=function(X,W){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(X),this.updateRadialDrag(X,W,0),this.updateRadialDrag(X,W,1)),this.updateHoverAndMainDrag(X))},U.updateHoverAndMainDrag=function(X){var W,J,Q=this,re=Q.isSmith,ae=Q.gd,oe=Q.layers,ue=X._zoomlayer,ve=S.MINZOOM,be=S.OFFEDGE,de=Q.radius,pe=Q.innerRadius,ge=Q.cx,Ae=Q.cy,ye=Q.cxx,we=Q.cyy,se=Q.sectorInRad,ie=Q.vangles,he=Q.radialAxis,Se=w.clampTiny,_e=w.findXYatLength,Me=w.findEnclosingVertexAngles,Ee=S.cornerHalfWidth,Ie=S.cornerLen/2,fe=u.makeDragger(oe,"path","maindrag",!1===X.dragmode?"none":"crosshair");M.select(fe).attr("d",Q.pathSubplot()).attr("transform",p(ge,Ae)),fe.onmousemove=function(tt){c.hover(ae,tt,Q.id),ae._fullLayout._lasthover=fe,ae._fullLayout._hoversubplot=Q.id},fe.onmouseout=function(tt){ae._dragging||d.unhover(ae,tt)};var xe,Te,Ce,De,ze,Ue,Ve,Xe,at,st={element:fe,gd:ae,subplot:Q.id,plotinfo:{id:Q.id,xaxis:Q.xaxis,yaxis:Q.yaxis},xaxes:[Q.xaxis],yaxes:[Q.yaxis]};function ht(tt,Re){return Math.sqrt(tt*tt+Re*Re)}function bt(tt,Re){return ht(tt-ye,Re-we)}function vt(tt,Re){return Math.atan2(we-Re,tt-ye)}function Qe(tt,Re){return[tt*Math.cos(Re),tt*Math.sin(-Re)]}function nt(tt,Re){if(0===tt)return Q.pathSector(2*Ee);var Fe=Ie/tt,et=Re-Fe,We=Re+Fe,ct=Math.max(0,Math.min(tt,de)),pt=ct-Ee,dt=ct+Ee;return"M"+Qe(pt,et)+"A"+[pt,pt]+" 0,0,0 "+Qe(pt,We)+"L"+Qe(dt,We)+"A"+[dt,dt]+" 0,0,1 "+Qe(dt,et)+"Z"}function wt(tt,Re,Fe){if(0===tt)return Q.pathSector(2*Ee);var et,We,ct=Qe(tt,Re),pt=Qe(tt,Fe),dt=Se((ct[0]+pt[0])/2),ut=Se((ct[1]+pt[1])/2);if(dt&&ut){var kt=ut/dt,yt=-1/kt,gt=_e(Ee,kt,dt,ut);et=_e(Ie,yt,gt[0][0],gt[0][1]),We=_e(Ie,yt,gt[1][0],gt[1][1])}else{var At,Lt;ut?(At=Ie,Lt=Ee):(At=Ee,Lt=Ie),et=[[dt-At,ut-Lt],[dt+At,ut-Lt]],We=[[dt-At,ut+Lt],[dt+At,ut+Lt]]}return"M"+et.join("L")+"L"+We.reverse().join("L")+"Z"}function Ot(tt,Re){return Re=Math.max(Math.min(Re,de),pe),tt<be?tt=0:de-tt<be?tt=de:Re<be?Re=0:de-Re<be&&(Re=de),Math.abs(Re-tt)>ve?(tt<Re?(Ce=tt,De=Re):(Ce=Re,De=tt),!0):(Ce=null,De=null,!1)}function Pt(tt,Re){tt=tt||ze,Re=Re||"M0,0Z",Xe.attr("d",tt),at.attr("d",Re),u.transitionZoombox(Xe,at,Ue,Ve),Ue=!0;var Fe={};Ge(Fe),ae.emit("plotly_relayouting",Fe)}function St(tt,Re){var Fe,et,We=xe+(tt*=W),ct=Te+(Re*=J),pt=bt(xe,Te),dt=Math.min(bt(We,ct),de),ut=vt(xe,Te);Ot(pt,dt)&&(Fe=ze+Q.pathSector(De),Ce&&(Fe+=Q.pathSector(Ce)),et=nt(Ce,ut)+nt(De,ut)),Pt(Fe,et)}function qe(tt,Re,Fe,et){var We=w.findIntersectionXY(Fe,et,Fe,[tt-ye,we-Re]);return ht(We[0],We[1])}function Ze(tt,Re){var Fe,et,We=xe+tt,ct=Te+Re,pt=vt(xe,Te),dt=vt(We,ct),ut=Me(pt,ie),kt=Me(dt,ie);Ot(qe(xe,Te,ut[0],ut[1]),Math.min(qe(We,ct,kt[0],kt[1]),de))&&(Fe=ze+Q.pathSector(De),Ce&&(Fe+=Q.pathSector(Ce)),et=[wt(Ce,ut[0],ut[1]),wt(De,ut[0],ut[1])].join(" ")),Pt(Fe,et)}function Ne(){if(u.removeZoombox(ae),null!==Ce&&null!==De){var tt={};Ge(tt),u.showDoubleClickNotifier(ae),a.call("_guiRelayout",ae,tt)}}function Ge(tt){var Re=he._rl,Fe=(Re[1]-Re[0])/(1-pe/de)/de,et=[Re[0]+(Ce-pe)*Fe,Re[0]+(De-pe)*Fe];tt[Q.id+".radialaxis.range"]=et}function rt(tt,Re){var Fe=ae._fullLayout.clickmode;if(u.removeZoombox(ae),2===tt){var et={};for(var We in Q.viewInitial)et[Q.id+"."+We]=Q.viewInitial[We];ae.emit("plotly_doubleclick",null),a.call("_guiRelayout",ae,et)}Fe.indexOf("select")>-1&&1===tt&&h(Re,ae,[Q.xaxis],[Q.yaxis],Q.id,st),Fe.indexOf("event")>-1&&c.click(ae,Re,Q.id)}st.prepFn=function(tt,Re,Fe){var et=ae._fullLayout.dragmode,We=fe.getBoundingClientRect();ae._fullLayout._calcInverseTransform(ae);var ct=ae._fullLayout._invTransform;W=ae._fullLayout._invScaleX,J=ae._fullLayout._invScaleY;var pt=T.apply3DTransform(ct)(Re-We.left,Fe-We.top);if(xe=pt[0],Te=pt[1],ie){var dt=w.findPolygonOffset(de,se[0],se[1],ie);xe+=ye+dt[0],Te+=we+dt[1]}switch(et){case"zoom":st.clickFn=rt,re||(st.moveFn=ie?Ze:St,st.doneFn=Ne,function(){Ce=null,De=null,ze=Q.pathSubplot(),Ue=!1;var ut=ae._fullLayout[Q.id];Ve=k(ut.bgcolor).getLuminance(),(Xe=u.makeZoombox(ue,Ve,ge,Ae,ze)).attr("fill-rule","evenodd"),at=u.makeCorners(ue,ge,Ae),m(ae)}());break;case"select":case"lasso":g(tt,Re,Fe,st,et)}},d.init(st)},U.updateRadialDrag=function(X,W,J){var Q=this,re=Q.gd,ae=Q.layers,oe=Q.radius,ue=Q.innerRadius,ve=Q.cx,be=Q.cy,de=Q.radialAxis,pe=S.radialDragBoxSize,ge=pe/2;if(de.visible){var Ae,ye,we,se=N(Q.radialAxisAngle),ie=de._rl,he=ie[0],Se=ie[1],_e=ie[J],Me=.75*(ie[1]-ie[0])/(1-Q.getHole(W))/oe;J?(Ae=ve+(oe+ge)*Math.cos(se),ye=be-(oe+ge)*Math.sin(se),we="radialdrag"):(Ae=ve+(ue-ge)*Math.cos(se),ye=be-(ue-ge)*Math.sin(se),we="radialdrag-inner");var Ee,Ie,fe,xe=u.makeRectDragger(ae,we,"crosshair",-ge,-ge,pe,pe),Te={element:xe,gd:re};!1===X.dragmode&&(Te.dragmode=!1),$(M.select(xe),de.visible&&ue<oe,{transform:p(Ae,ye)}),Te.prepFn=function(){Ee=null,Ie=null,fe=null,Te.moveFn=Ce,Te.doneFn=De,m(re)},Te.clampFn=function(Ve,Xe){return Math.sqrt(Ve*Ve+Xe*Xe)<S.MINDRAG&&(Ve=0,Xe=0),[Ve,Xe]},d.init(Te)}function Ce(Ve,Xe){if(Ee)Ee(Ve,Xe);else{var at=[Ve,-Xe],st=[Math.cos(se),Math.sin(se)],ht=Math.abs(T.dot(at,st)/Math.sqrt(T.dot(at,at)));isNaN(ht)||(Ee=ht<.5?ze:Ue)}var vt,bt={};vt=bt,null!==Ie?vt[Q.id+".radialaxis.angle"]=Ie:null!==fe&&(vt[Q.id+".radialaxis.range["+J+"]"]=fe),re.emit("plotly_relayouting",bt)}function De(){null!==Ie?a.call("_guiRelayout",re,Q.id+".radialaxis.angle",Ie):null!==fe&&a.call("_guiRelayout",re,Q.id+".radialaxis.range["+J+"]",fe)}function ze(Ve,Xe){if(0!==J){var at=Ae+Ve,st=ye+Xe;Ie=Math.atan2(be-st,at-ve),Q.vangles&&(Ie=te(Ie,Q.vangles)),Ie=Y(Ie);var ht=p(ve,be)+b(-Ie);ae["radial-axis"].attr("transform",ht),ae["radial-line"].select("line").attr("transform",ht);var bt=Q.gd._fullLayout,vt=bt[Q.id];Q.updateRadialAxisTitle(bt,vt,Ie)}}function Ue(Ve,Xe){var at=T.dot([Ve,-Xe],[Math.cos(se),Math.sin(se)]);if(fe=_e-Me*at,Me>0==(J?fe>he:fe<Se)){var st=re._fullLayout,ht=st[Q.id];de.range[J]=fe,de._rl[J]=fe,Q.updateRadialAxis(st,ht),Q.xaxis.setRange(),Q.xaxis.setScale(),Q.yaxis.setRange(),Q.yaxis.setScale();var bt=!1;for(var vt in Q.traceHash){var Qe=Q.traceHash[vt],nt=T.filterVisible(Qe);Qe[0][0].trace._module.plot(re,Q,nt,ht),a.traceIs(vt,"gl")&&nt.length&&(bt=!0)}bt&&(v(re),_(re))}else fe=null}},U.updateAngularDrag=function(X){var W=this,J=W.gd,Q=W.layers,re=W.radius,ae=W.angularAxis,oe=W.cx,ue=W.cy,ve=W.cxx,be=W.cyy,de=S.angularDragBoxSize,pe=u.makeDragger(Q,"path","angulardrag",!1===X.dragmode?"none":"move"),ge={element:pe,gd:J};function Ae(Te,Ce){return Math.atan2(be+de-Ce,Te-ve-de)}!1===X.dragmode?ge.dragmode=!1:M.select(pe).attr("d",W.pathAnnulus(re,re+de)).attr("transform",p(oe,ue)).call(y,"move");var ye,we,se,ie,he,Se,_e=Q.frontplot.select(".scatterlayer").selectAll(".trace"),Me=_e.selectAll(".point"),Ee=_e.selectAll(".textpoint");function Ie(Te,Ce){var De=W.gd._fullLayout,ze=De[W.id],Ue=Ae(ye+Te*X._invScaleX,we+Ce*X._invScaleY),Ve=Y(Ue-Se);if(ie=se+Ve,Q.frontplot.attr("transform",p(W.xOffset2,W.yOffset2)+b([-Ve,ve,be])),W.vangles){he=W.radialAxisAngle+Ve;var Xe=p(oe,ue)+b(-Ve),at=p(oe,ue)+b(-he);Q.bg.attr("transform",Xe),Q["radial-grid"].attr("transform",Xe),Q["radial-axis"].attr("transform",at),Q["radial-line"].select("line").attr("transform",at),W.updateRadialAxisTitle(De,ze,he)}else W.clipPaths.forTraces.select("path").attr("transform",p(ve,be)+b(Ve));Me.each(function(){var nt=M.select(this),wt=t.getTranslate(nt);nt.attr("transform",p(wt.x,wt.y)+b([Ve]))}),Ee.each(function(){var nt=M.select(this),wt=nt.select("text"),Ot=t.getTranslate(nt);nt.attr("transform",b([Ve,wt.attr("x"),wt.attr("y")])+p(Ot.x,Ot.y))}),ae.rotation=T.modHalf(ie,360),W.updateAngularAxis(De,ze),W._hasClipOnAxisFalse&&!T.isFullCircle(W.sectorInRad)&&_e.call(t.hideOutsideRangePoints,W);var st=!1;for(var ht in W.traceHash)if(a.traceIs(ht,"gl")){var bt=W.traceHash[ht],vt=T.filterVisible(bt);bt[0][0].trace._module.plot(J,W,vt,ze),vt.length&&(st=!0)}st&&(v(J),_(J));var Qe={};fe(Qe),J.emit("plotly_relayouting",Qe)}function fe(Te){Te[W.id+".angularaxis.rotation"]=ie,W.vangles&&(Te[W.id+".radialaxis.angle"]=he)}function xe(){Ee.select("text").attr("transform",null);var Te={};fe(Te),a.call("_guiRelayout",J,Te)}ge.prepFn=function(Te,Ce,De){var ze=X[W.id];se=ze.angularaxis.rotation;var Ue=pe.getBoundingClientRect();ye=Ce-Ue.left,we=De-Ue.top,J._fullLayout._calcInverseTransform(J);var Ve=T.apply3DTransform(X._invTransform)(ye,we);ye=Ve[0],we=Ve[1],Se=Ae(ye,we),ge.moveFn=Ie,ge.doneFn=xe,m(J)},W.vangles&&!T.isFullCircle(W.sectorInRad)&&(ge.prepFn=T.noop,y(M.select(pe),null)),d.init(ge)},U.isPtInside=function(X){if(this.isSmith)return!0;var W=this.sectorInRad,J=this.vangles,Q=this.angularAxis.c2g(X.theta),re=this.radialAxis,ae=re.c2l(X.r),oe=re._rl;return(J?w.isPtInsidePolygon:T.isPtInsideSector)(ae,Q,oe,W,J)},U.pathArc=function(X){var W=this.sectorInRad,J=this.vangles;return(J?w.pathPolygon:T.pathArc)(X,W[0],W[1],J)},U.pathSector=function(X){var W=this.sectorInRad,J=this.vangles;return(J?w.pathPolygon:T.pathSector)(X,W[0],W[1],J)},U.pathAnnulus=function(X,W){var J=this.sectorInRad,Q=this.vangles;return(Q?w.pathPolygonAnnulus:T.pathAnnulus)(X,W,J[0],J[1],Q)},U.pathSubplot=function(){var X=this.innerRadius,W=this.radius;return X?this.pathAnnulus(X,W):this.pathSector(W)},U.fillViewInitialKey=function(X,W){X in this.viewInitial||(this.viewInitial[X]=W)}},12101:function(ee,D,e){"use strict";var M=e(71828),k=e(21994),a=M.deg2rad,T=M.rad2deg;ee.exports=function(b,p,s){switch(k(b,s),b._id){case"x":case"radialaxis":t=b,n=p._subplot,t.setGeometry=function(){var r=t._rl[0],o=t._rl[1],l=n.innerRadius,u=(n.radius-l)/(o-r),d=l/u,c=r>o?function(x){return x<=0}:function(x){return x>=0};t.c2g=function(x){var g=t.c2l(x)-r;return(c(g)?g:0)+d},t.g2c=function(x){return t.l2c(x+r-d)},t.g2p=function(x){return x*u},t.c2p=function(x){return t.g2p(t.c2g(x))}};break;case"angularaxis":!function(t,i){var n=t.type;if("linear"===n){var r=t.d2c,o=t.c2d;t.d2c=function(l,u){return d=r(l),"degrees"===u?a(d):d;var d},t.c2d=function(l,u){return o((d=l,"degrees"===u?T(d):d));var d}}t.makeCalcdata=function(l,u){var d,c,x=l[u],g=l._length,h=function(f){return t.d2c(f,l.thetaunit)};if(x)for(d=new Array(g),c=0;c<g;c++)d[c]=h(x[c]);else{var m=u+"0",y="d"+u,v=m in l?h(l[m]):0,_=l[y]?h(l[y]):(t.period||2*Math.PI)/g;for(d=new Array(g),c=0;c<g;c++)d[c]=v+c*_}return d},t.setGeometry=function(){var l,u,d,c,x=i.sector,g=x.map(a),h={clockwise:-1,counterclockwise:1}[t.direction],m=a(t.rotation),y=function(S){return h*S+m},v=function(S){return(S-m)/h};switch(n){case"linear":u=l=M.identity,c=a,d=T,t.range=M.isFullCircle(g)?[x[0],x[0]+360]:g.map(v).map(T);break;case"category":var _=t._categories.length,f=t.period?Math.max(t.period,_):_;0===f&&(f=1),u=c=function(S){return 2*S*Math.PI/f},l=d=function(S){return S*f/Math.PI/2},t.range=[0,f]}t.c2g=function(S){return y(u(S))},t.g2c=function(S){return l(v(S))},t.t2g=function(S){return y(c(S))},t.g2t=function(S){return d(v(S))}}}(b,p)}var t,n}},39779:function(ee){"use strict";ee.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(ee){"use strict";function D(a){return a<0?-1:a>0?1:0}function e(a){var T=a[0],b=a[1];if(!isFinite(T)||!isFinite(b))return[1,0];var p=(T+1)*(T+1)+b*b;return[(T*T+b*b-1)/p,2*b/p]}function M(a,T){var b=T[0],p=T[1];return[b*a.radius+a.cx,-p*a.radius+a.cy]}function k(a,T){return T*a.radius}ee.exports={smith:e,reactanceArc:function(a,T,b,p){var s=M(a,e([b,T])),t=s[0],i=s[1],n=M(a,e([p,T])),r=n[0],o=n[1];if(0===T)return["M"+t+","+i,"L"+r+","+o].join(" ");var l=k(a,1/Math.abs(T));return["M"+t+","+i,"A"+l+","+l+" 0 0,"+(T<0?1:0)+" "+r+","+o].join(" ")},resistanceArc:function(a,T,b,p){var s=k(a,1/(T+1)),t=M(a,e([T,b])),i=t[0],n=t[1],r=M(a,e([T,p])),o=r[0],l=r[1];if(D(b)!==D(p)){var u=M(a,e([T,0]));return["M"+i+","+n,"A"+s+","+s+" 0 0,"+(0<b?0:1)+" "+u[0]+","+u[1],"A"+s+","+s+" 0 0,"+(p<0?0:1)+o+","+l].join(" ")}return["M"+i+","+n,"A"+s+","+s+" 0 0,"+(p<b?0:1)+" "+o+","+l].join(" ")},smithTransform:M}},7504:function(ee,D,e){"use strict";var M=e(27659).AU,k=e(71828).counterRegex,a=e(77997),T=e(39779),b=T.attr,p=T.name,s=k(p),t={};t[b]={valType:"subplotid",dflt:p,editType:"calc"},ee.exports={attr:b,name:p,idRoot:p,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:function(i){for(var n=i._fullLayout,r=i.calcdata,o=n._subplots[p],l=0;l<o.length;l++){var u=o[l],d=M(r,p,u),c=n[u]._subplot;c||(c=a(i,u,!0),n[u]._subplot=c),c.plot(d,n,i._promises)}},clean:function(i,n,r,o){for(var l=o._subplots[p]||[],u=0;u<l.length;u++){var d=l[u],c=o[d]._subplot;if(!n[d]&&c)for(var x in c.framework.remove(),c.clipPaths)c.clipPaths[x].remove()}},toSVG:e(93612).toSVG}},33419:function(ee,D,e){"use strict";var M=e(22399),k=e(13838),a=e(27670).Y,T=e(71828).extendFlat,b=e(30962).overrideAll,p=b({color:k.color,showline:T({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:T({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),s=b({ticklen:k.ticklen,tickwidth:T({},k.tickwidth,{dflt:2}),tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,tickfont:k.tickfont,tickformat:k.tickformat,hoverformat:k.hoverformat,layer:k.layer},"plot","from-root"),t=T({visible:T({},k.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:T({},k.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},p,s),i=T({visible:T({},k.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:k.ticks,editType:"calc"},p,s);ee.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:M.background},realaxis:t,imaginaryaxis:i,editType:"calc"}},9558:function(ee,D,e){"use strict";var M,k,a,T=e(71828),b=e(7901),p=e(44467),s=e(49119),t=e(27659).NG,i=e(89426),n=e(96115),r=e(92128),o=e(21994),l=e(33419),u=e(39779),d=u.axisNames,c=(M=function(g){return T.isTypedArray(g)&&(g=Array.from(g)),g.slice().reverse().map(function(h){return-h}).concat([0]).concat(g)},k=String,a={},function(g){var h=k?k(g):g;if(h in a)return a[h];var m=M(g);return a[h]=m,m});function x(g,h,m,y){var v=m("bgcolor");y.bgColor=b.combine(v,y.paper_bgcolor);var _,f=t(y.fullData,u.name,y.id),S=y.layoutOut;function w(U,V){return m(_+"."+U,V)}for(var E=0;E<d.length;E++){_=d[E],T.isPlainObject(g[_])||(g[_]={});var C=g[_],O=p.newContainer(h,_);O._id=O._name=_,O._attr=y.id+"."+_,O._traceIndices=f.map(function(U){return U._expandedIndex});var P=w("visible");if(O.type="linear",o(O,S),i(C,O,w,O.type),P){var R,j,z,N,Y="realaxis"===_;Y&&w("side"),Y?w("tickvals"):w("tickvals",c(h.realaxis.tickvals||l.realaxis.tickvals.dflt)),T.isTypedArray(O.tickvals)&&(O.tickvals=Array.from(O.tickvals));var F=y.font||{};P&&(j=(R=w("color"))===C.color?R:F.color,z=F.size,N=F.family),n(C,O,w,O.type,{noTicklabelstep:!0,noAng:!Y,noExp:!0,font:{color:j,size:z,family:N}}),T.coerce2(g,h,l,_+".ticklen"),T.coerce2(g,h,l,_+".tickwidth"),T.coerce2(g,h,l,_+".tickcolor",h.color),w("ticks")||(delete h[_].ticklen,delete h[_].tickwidth,delete h[_].tickcolor),r(C,O,w,{dfltColor:R,bgColor:y.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[_]}),w("layer")}w("hoverformat"),delete O.type,O._input=C}}ee.exports=function(g,h,m){s(g,h,m,{noUirevision:!0,type:u.name,attributes:l,handleDefaults:x,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:m,layoutOut:h})}},49119:function(ee,D,e){"use strict";var M=e(71828),k=e(44467),a=e(27670).c;ee.exports=function(T,b,p,s){var t,i,n=s.type,r=s.attributes,o=s.handleDefaults,l=s.partition||"x",u=b._subplots[n],d=u.length,c=d&&u[0].replace(/\d+$/,"");function x(y,v){return M.coerce(t,i,r,y,v)}for(var g=0;g<d;g++){var h=u[g];t=T[h]?T[h]:T[h]={},i=k.newContainer(b,h,c),s.noUirevision||x("uirevision",b.uirevision);var m={};m[l]=[g/d,(g+1)/d],a(i,b,x,m),s.id=h,o(t,i,x,s)}}},5386:function(ee,D,e){"use strict";var M=e(31562);function k(a){var T=a.description?" "+a.description:"",b=a.keys||[];if(b.length>0){for(var p=[],s=0;s<b.length;s++)p[s]="`"+b[s]+"`";T+="Finally, the template string has access to ",T=1===b.length?T+"variable "+p[0]:T+"variables "+p.slice(0,-1).join(", ")+" and "+p.slice(-1)+"."}return T}M.FORMAT_LINK,M.DATE_FORMAT_LINK,D.fF=function(a,T){a=a||{},k(T=T||{});var b={valType:"string",dflt:"",editType:a.editType||"none"};return!1!==a.arrayOk&&(b.arrayOk=!0),b},D.si=function(a,T){a=a||{},k(T=T||{});var b={valType:"string",dflt:"",editType:a.editType||"calc"};return!1!==a.arrayOk&&(b.arrayOk=!0),b},D.R=function(a,T){return T=T||{},(a=a||{}).newshape,k(T),{valType:"string",dflt:"",editType:a.editType||"arraydraw"}}},61639:function(ee,D,e){"use strict";var M=e(64380),k=e(27659).AU,a=e(71828).counterRegex,T="ternary";D.name=T;var b=D.attr="subplot";D.idRoot=T,D.idRegex=D.attrRegex=a(T),(D.attributes={})[b]={valType:"subplotid",dflt:"ternary",editType:"calc"},D.layoutAttributes=e(81367),D.supplyLayoutDefaults=e(25369),D.plot=function(p){for(var s=p._fullLayout,t=p.calcdata,i=s._subplots[T],n=0;n<i.length;n++){var r=i[n],o=k(t,T,r),l=s[r]._subplot;l||(l=new M({id:r,graphDiv:p,container:s._ternarylayer.node()},s),s[r]._subplot=l),l.plot(o,s,p._promises)}},D.clean=function(p,s,t,i){for(var n=i._subplots[T]||[],r=0;r<n.length;r++){var o=n[r],l=i[o]._subplot;!s[o]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},81367:function(ee,D,e){"use strict";var M=e(22399),k=e(27670).Y,a=e(13838),T=e(30962).overrideAll,b=e(1426).extendFlat,p={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:b({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:b({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:b({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},s=ee.exports=T({domain:k({name:"ternary"}),bgcolor:{valType:"color",dflt:M.background},sum:{valType:"number",dflt:1,min:0},aaxis:p,baxis:p,caxis:p},"plot","from-root");s.uirevision={valType:"any",editType:"none"},s.aaxis.uirevision=s.baxis.uirevision=s.caxis.uirevision={valType:"any",editType:"none"}},25369:function(ee,D,e){"use strict";var M=e(7901),k=e(44467),a=e(71828),T=e(49119),b=e(96115),p=e(89426),s=e(38701),t=e(26218),i=e(92128),n=e(81367),r=["aaxis","baxis","caxis"];function o(u,d,c,x){var g,h,m,y=c("bgcolor"),v=c("sum");x.bgColor=M.combine(y,x.paper_bgcolor);for(var _=0;_<r.length;_++)h=u[g=r[_]]||{},(m=k.newContainer(d,g))._name=g,l(h,m,x,d);var f=d.aaxis,S=d.baxis,w=d.caxis;f.min+S.min+w.min>=v&&(f.min=0,S.min=0,w.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function l(u,d,c,x){var g=n[d._name];function h(S,w){return a.coerce(u,d,g,S,w)}h("uirevision",x.uirevision),d.type="linear";var m=h("color"),y=m!==g.color.dflt?m:c.font.color,v=d._name.charAt(0).toUpperCase(),_="Component "+v,f=h("title.text",_);d._hovertitle=f===_?f:v,a.coerceFont(h,"title.font",{family:c.font.family,size:a.bigFont(c.font.size),color:y}),h("min"),t(u,d,h,"linear"),p(u,d,h,"linear"),b(u,d,h,"linear"),s(u,d,h,{outerTicks:!0}),h("showticklabels")&&(a.coerceFont(h,"tickfont",{family:c.font.family,size:c.font.size,color:y}),h("tickangle"),h("tickformat")),i(u,d,h,{dfltColor:m,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:g}),h("hoverformat"),h("layer")}ee.exports=function(u,d,c){T(u,d,c,{type:"ternary",attributes:n,handleDefaults:o,font:d.font,paper_bgcolor:d.paper_bgcolor})}},64380:function(ee,D,e){"use strict";var M=e(39898),k=e(84267),a=e(73972),T=e(71828),b=T.strTranslate,p=T._,s=e(7901),t=e(91424),i=e(21994),n=e(1426).extendFlat,r=e(74875),o=e(89298),l=e(28569),u=e(30211),d=e(64505),c=d.freeMode,x=d.rectMode,g=e(92998),h=e(47322).prepSelect,m=e(47322).selectOnClick,y=e(47322).clearOutline,v=e(47322).clearSelectionsCache,_=e(85555);function f(z,N){this.id=z.id,this.graphDiv=z.graphDiv,this.init(N),this.makeFramework(N),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}ee.exports=f;var S=f.prototype;S.init=function(z){this.container=z._ternarylayer,this.defs=z._defs,this.layoutId=z._uid,this.traceHash={},this.layers={}},S.plot=function(z,N){var Y=this,F=N[Y.id],U=N._size;Y._hasClipOnAxisFalse=!1;for(var V=0;V<z.length;V++)if(!1===z[V][0].trace.cliponaxis){Y._hasClipOnAxisFalse=!0;break}Y.updateLayers(F),Y.adjustLayout(F,U),r.generalUpdatePerTraceModule(Y.graphDiv,Y,z,F),Y.layers.plotbg.select("path").call(s.fill,F.bgcolor)},S.makeFramework=function(z){var N=this,Y=N.graphDiv,F=z[N.id],U=N.clipId="clip"+N.layoutId+N.id,V=N.clipIdRelative="clip-relative"+N.layoutId+N.id;N.clipDef=T.ensureSingleById(z._clips,"clipPath",U,function(te){te.append("path").attr("d","M0,0Z")}),N.clipDefRelative=T.ensureSingleById(z._clips,"clipPath",V,function(te){te.append("path").attr("d","M0,0Z")}),N.plotContainer=T.ensureSingle(N.container,"g",N.id),N.updateLayers(F),t.setClipUrl(N.layers.backplot,U,Y),t.setClipUrl(N.layers.grids,U,Y)},S.updateLayers=function(z){var N=this.layers,Y=["draglayer","plotbg","backplot","grids"];"below traces"===z.aaxis.layer&&Y.push("aaxis","aline"),"below traces"===z.baxis.layer&&Y.push("baxis","bline"),"below traces"===z.caxis.layer&&Y.push("caxis","cline"),Y.push("frontplot"),"above traces"===z.aaxis.layer&&Y.push("aaxis","aline"),"above traces"===z.baxis.layer&&Y.push("baxis","bline"),"above traces"===z.caxis.layer&&Y.push("caxis","cline");var F=this.plotContainer.selectAll("g.toplevel").data(Y,String),U=["agrid","bgrid","cgrid"];F.enter().append("g").attr("class",function(V){return"toplevel "+V}).each(function(V){var te=M.select(this);N[V]=te,"frontplot"===V?te.append("g").classed("scatterlayer",!0):"backplot"===V?te.append("g").classed("maplayer",!0):"plotbg"===V?te.append("path").attr("d","M0,0Z"):"aline"===V||"bline"===V||"cline"===V?te.append("path"):"grids"===V&&U.forEach(function($){N[$]=te.append("g").classed("grid "+$,!0)})}),F.order()};var w=Math.sqrt(4/3);S.adjustLayout=function(z,N){var Y,F,U,V,te,$,X=this,W=z.domain,J=(W.x[0]+W.x[1])/2,Q=(W.y[0]+W.y[1])/2,re=W.x[1]-W.x[0],ae=W.y[1]-W.y[0],oe=re*N.w,ue=ae*N.h,ve=z.sum,be=z.aaxis.min,de=z.baxis.min,pe=z.caxis.min;oe>w*ue?U=(V=ue)*w:V=(U=oe)/w,te=re*U/oe,$=ae*V/ue,Y=N.l+N.w*J-U/2,F=N.t+N.h*(1-Q)-V/2,X.x0=Y,X.y0=F,X.w=U,X.h=V,X.sum=ve,X.xaxis={type:"linear",range:[be+2*pe-ve,ve-be-2*de],domain:[J-te/2,J+te/2],_id:"x"},i(X.xaxis,X.graphDiv._fullLayout),X.xaxis.setScale(),X.xaxis.isPtWithinRange=function(Ee){return Ee.a>=X.aaxis.range[0]&&Ee.a<=X.aaxis.range[1]&&Ee.b>=X.baxis.range[1]&&Ee.b<=X.baxis.range[0]&&Ee.c>=X.caxis.range[1]&&Ee.c<=X.caxis.range[0]},X.yaxis={type:"linear",range:[be,ve-de-pe],domain:[Q-$/2,Q+$/2],_id:"y"},i(X.yaxis,X.graphDiv._fullLayout),X.yaxis.setScale(),X.yaxis.isPtWithinRange=function(){return!0};var ge=X.yaxis.domain[0],Ae=X.aaxis=n({},z.aaxis,{range:[be,ve-de-pe],side:"left",tickangle:(+z.aaxis.tickangle||0)-30,domain:[ge,ge+$*w],anchor:"free",position:0,_id:"y",_length:U});i(Ae,X.graphDiv._fullLayout),Ae.setScale();var ye=X.baxis=n({},z.baxis,{range:[ve-be-pe,de],side:"bottom",domain:X.xaxis.domain,anchor:"free",position:0,_id:"x",_length:U});i(ye,X.graphDiv._fullLayout),ye.setScale();var we=X.caxis=n({},z.caxis,{range:[ve-be-de,pe],side:"right",tickangle:(+z.caxis.tickangle||0)+30,domain:[ge,ge+$*w],anchor:"free",position:0,_id:"y",_length:U});i(we,X.graphDiv._fullLayout),we.setScale();var se="M"+Y+","+(F+V)+"h"+U+"l-"+U/2+",-"+V+"Z";X.clipDef.select("path").attr("d",se),X.layers.plotbg.select("path").attr("d",se);var ie="M0,"+V+"h"+U+"l-"+U/2+",-"+V+"Z";X.clipDefRelative.select("path").attr("d",ie);var he=b(Y,F);X.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",he),X.clipDefRelative.select("path").attr("transform",null);var Se=b(Y-ye._offset,F+V);X.layers.baxis.attr("transform",Se),X.layers.bgrid.attr("transform",Se);var _e=b(Y+U/2,F)+"rotate(30)"+b(0,-Ae._offset);X.layers.aaxis.attr("transform",_e),X.layers.agrid.attr("transform",_e);var Me=b(Y+U/2,F)+"rotate(-30)"+b(0,-we._offset);X.layers.caxis.attr("transform",Me),X.layers.cgrid.attr("transform",Me),X.drawAxes(!0),X.layers.aline.select("path").attr("d",Ae.showline?"M"+Y+","+(F+V)+"l"+U/2+",-"+V:"M0,0").call(s.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),X.layers.bline.select("path").attr("d",ye.showline?"M"+Y+","+(F+V)+"h"+U:"M0,0").call(s.stroke,ye.linecolor||"#000").style("stroke-width",(ye.linewidth||0)+"px"),X.layers.cline.select("path").attr("d",we.showline?"M"+(Y+U/2)+","+F+"l"+U/2+","+V:"M0,0").call(s.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),X.graphDiv._context.staticPlot||X.initInteractions(),t.setClipUrl(X.layers.frontplot,X._hasClipOnAxisFalse?null:X.clipId,X.graphDiv)},S.drawAxes=function(z){var N=this,Y=N.graphDiv,F=N.id.substr(7)+"title",U=N.layers,V=N.aaxis,te=N.baxis,$=N.caxis;if(N.drawAx(V),N.drawAx(te),N.drawAx($),z){var X=Math.max(V.showticklabels?V.tickfont.size/2:0,($.showticklabels?.75*$.tickfont.size:0)+("outside"===$.ticks?.87*$.ticklen:0)),W=(te.showticklabels?te.tickfont.size:0)+("outside"===te.ticks?te.ticklen:0)+3;U["a-title"]=g.draw(Y,"a"+F,{propContainer:V,propName:N.id+".aaxis.title",placeholder:p(Y,"Click to enter Component A title"),attributes:{x:N.x0+N.w/2,y:N.y0-V.title.font.size/3-X,"text-anchor":"middle"}}),U["b-title"]=g.draw(Y,"b"+F,{propContainer:te,propName:N.id+".baxis.title",placeholder:p(Y,"Click to enter Component B title"),attributes:{x:N.x0-W,y:N.y0+N.h+.83*te.title.font.size+W,"text-anchor":"middle"}}),U["c-title"]=g.draw(Y,"c"+F,{propContainer:$,propName:N.id+".caxis.title",placeholder:p(Y,"Click to enter Component C title"),attributes:{x:N.x0+N.w+W,y:N.y0+N.h+.83*$.title.font.size+W,"text-anchor":"middle"}})}},S.drawAx=function(z){var N,Y=this,F=Y.graphDiv,U=z._name,V=U.charAt(0),te=z._id,$=Y.layers[U],X=V+"tickLayout",W=(N=z).ticks+String(N.ticklen)+String(N.showticklabels);Y[X]!==W&&($.selectAll("."+te+"tick").remove(),Y[X]=W),z.setScale();var J=o.calcTicks(z),Q=o.clipEnds(z,J),re=o.makeTransTickFn(z),ae=o.getTickSigns(z)[2],oe=T.deg2rad(30),ue=ae*(z.linewidth||1)/2,ve=ae*z.ticklen,be=Y.w,de=Y.h,pe="b"===V?"M0,"+ue+"l"+Math.sin(oe)*ve+","+Math.cos(oe)*ve:"M"+ue+",0l"+Math.cos(oe)*ve+","+-Math.sin(oe)*ve,ge={a:"M0,0l"+de+",-"+be/2,b:"M0,0l-"+be/2+",-"+de,c:"M0,0l-"+de+","+be/2}[V];o.drawTicks(F,z,{vals:"inside"===z.ticks?Q:J,layer:$,path:pe,transFn:re,crisp:!1}),o.drawGrid(F,z,{vals:Q,layer:Y.layers[V+"grid"],path:ge,transFn:re,crisp:!1}),o.drawLabels(F,z,{vals:J,layer:$,transFn:re,labelFns:o.makeLabelFns(z,0,30)})};var E=_.MINZOOM/2+.87,C="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(.87*E+4.5)+"l2.6,1.5l-"+E/2+","+.87*E+"Z",O="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-2.6,1.5l"+E/2+","+.87*E+"Z",P="m0,1l"+E/2+","+.87*E+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-"+(E/2+2.6)+","+(.87*E+4.5)+"l2.6,1.5l"+E/2+",-"+.87*E+"Z",R=!0;function j(z){M.select(z).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}S.clearOutline=function(){v(this.dragOptions),y(this.dragOptions.gd)},S.initInteractions=function(){var z,N,Y,F,U,V,te,$,X,W,J,Q,re=this,ae=re.layers.plotbg.select("path").node(),oe=re.graphDiv,ue=oe._fullLayout._zoomlayer;function ve(ie){var he={};return he[re.id+".aaxis.min"]=ie.a,he[re.id+".baxis.min"]=ie.b,he[re.id+".caxis.min"]=ie.c,he}function be(ie,he){var Se=oe._fullLayout.clickmode;j(oe),2===ie&&(oe.emit("plotly_doubleclick",null),a.call("_guiRelayout",oe,ve({a:0,b:0,c:0}))),Se.indexOf("select")>-1&&1===ie&&m(he,oe,[re.xaxis],[re.yaxis],re.id,re.dragOptions),Se.indexOf("event")>-1&&u.click(oe,he,re.id)}function de(ie,he){return 1-he/re.h}function pe(ie,he){return 1-(ie+(re.h-he)/Math.sqrt(3))/re.w}function ge(ie,he){return(ie-(re.h-he)/Math.sqrt(3))/re.w}function Ae(ie,he){var Se=Y+ie*z,_e=F+he*N,Me=Math.max(0,Math.min(1,de(0,F),de(0,_e))),Ee=Math.max(0,Math.min(1,pe(Y,F),pe(Se,_e))),Ie=Math.max(0,Math.min(1,ge(Y,F),ge(Se,_e))),fe=(Me/2+Ie)*re.w,xe=(1-Me/2-Ee)*re.w,Te=(fe+xe)/2,Ce=xe-fe,De=(1-Me)*re.h,ze=De-Ce/w;Ce<_.MINZOOM?(te=U,J.attr("d",X),Q.attr("d","M0,0Z")):(te={a:U.a+Me*V,b:U.b+Ee*V,c:U.c+Ie*V},J.attr("d",X+"M"+fe+","+De+"H"+xe+"L"+Te+","+ze+"L"+fe+","+De+"Z"),Q.attr("d","M"+Y+","+F+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+fe+","+De+C+"M"+xe+","+De+O+"M"+Te+","+ze+P)),W||(J.transition().style("fill",$>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Q.transition().style("opacity",1).duration(200),W=!0),oe.emit("plotly_relayouting",ve(te))}function ye(){j(oe),te!==U&&(a.call("_guiRelayout",oe,ve(te)),R&&oe.data&&oe._context.showTips&&(T.notifier(p(oe,"Double-click to zoom back out"),"long"),R=!1))}function we(ie,he){var Se=ie/re.xaxis._m,_e=he/re.yaxis._m,Me=[(te={a:U.a-_e,b:U.b+(Se+_e)/2,c:U.c-(Se-_e)/2}).a,te.b,te.c].sort(T.sorterAsc),Ee=Me.indexOf(te.a),Ie=Me.indexOf(te.b),fe=Me.indexOf(te.c);Me[0]<0&&(Me[1]+Me[0]/2<0?(Me[2]+=Me[0]+Me[1],Me[0]=Me[1]=0):(Me[2]+=Me[0]/2,Me[1]+=Me[0]/2,Me[0]=0),te={a:Me[Ee],b:Me[Ie],c:Me[fe]},he=(U.a-te.a)*re.yaxis._m,ie=(U.c-te.c-U.b+te.b)*re.xaxis._m);var xe=b(re.x0+ie,re.y0+he);re.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",xe);var Te=b(-ie,-he);re.clipDefRelative.select("path").attr("transform",Te),re.aaxis.range=[te.a,re.sum-te.b-te.c],re.baxis.range=[re.sum-te.a-te.c,te.b],re.caxis.range=[re.sum-te.a-te.b,te.c],re.drawAxes(!1),re._hasClipOnAxisFalse&&re.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,re),oe.emit("plotly_relayouting",ve(te))}function se(){a.call("_guiRelayout",oe,ve(te))}this.dragOptions={element:ae,gd:oe,plotinfo:{id:re.id,domain:oe._fullLayout[re.id].domain,xaxis:re.xaxis,yaxis:re.yaxis},subplot:re.id,prepFn:function(ie,he,Se){re.dragOptions.xaxes=[re.xaxis],re.dragOptions.yaxes=[re.yaxis],z=oe._fullLayout._invScaleX,N=oe._fullLayout._invScaleY;var _e=re.dragOptions.dragmode=oe._fullLayout.dragmode;c(_e)?re.dragOptions.minDrag=1:re.dragOptions.minDrag=void 0,"zoom"===_e?(re.dragOptions.moveFn=Ae,re.dragOptions.clickFn=be,re.dragOptions.doneFn=ye,function(Me,Ee,Ie){var fe=ae.getBoundingClientRect();Y=Ee-fe.left,F=Ie-fe.top,oe._fullLayout._calcInverseTransform(oe);var xe=oe._fullLayout._invTransform,Te=T.apply3DTransform(xe)(Y,F);Y=Te[0],F=Te[1],U={a:re.aaxis.range[0],b:re.baxis.range[1],c:re.caxis.range[1]},te=U,V=re.aaxis.range[1]-U.a,$=k(re.graphDiv._fullLayout[re.id].bgcolor).getLuminance(),X="M0,"+re.h+"L"+re.w/2+", 0L"+re.w+","+re.h+"Z",W=!1,J=ue.append("path").attr("class","zoombox").attr("transform",b(re.x0,re.y0)).style({fill:$>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",X),Q=ue.append("path").attr("class","zoombox-corners").attr("transform",b(re.x0,re.y0)).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),re.clearOutline(oe)}(0,he,Se)):"pan"===_e?(re.dragOptions.moveFn=we,re.dragOptions.clickFn=be,re.dragOptions.doneFn=se,U={a:re.aaxis.range[0],b:re.baxis.range[1],c:re.caxis.range[1]},te=U,re.clearOutline(oe)):(x(_e)||c(_e))&&h(ie,he,Se,re.dragOptions,_e)}},ae.onmousemove=function(ie){u.hover(oe,ie,re.id),oe._fullLayout._lasthover=ae,oe._fullLayout._hoversubplot=re.id},ae.onmouseout=function(ie){oe._dragging||l.unhover(oe,ie)},l.init(this.dragOptions)}},73972:function(ee,D,e){"use strict";var M=e(47769),k=e(64213),a=e(75138),T=e(41965),b=e(24401).addStyleRule,p=e(1426),s=e(9012),t=e(10820),i=p.extendFlat,n=p.extendDeepAll;function r(m){var y=m.name,v=m.categories,_=m.meta;if(D.modules[y])M.log("Type "+y+" already registered");else{D.subplotsRegistry[m.basePlotModule.name]||function(R){var j=R.name;if(D.subplotsRegistry[j])M.log("Plot type "+j+" already registered.");else for(var z in d(R),D.subplotsRegistry[j]=R,D.componentsRegistry)g(z,R.name)}(m.basePlotModule);for(var f={},S=0;S<v.length;S++)f[v[S]]=!0,D.allCategories[v[S]]=!0;for(var w in D.modules[y]={_module:m,categories:f},_&&Object.keys(_).length&&(D.modules[y].meta=_),D.allTypes.push(y),D.componentsRegistry)c(w,y);m.layoutAttributes&&i(D.traceLayoutAttributes,m.layoutAttributes);var E=m.basePlotModule,C=E.name;if("mapbox"===C){var O=E.constants.styleRules;for(var P in O)b(".js-plotly-plot .plotly .mapboxgl-"+P,O[P])}"geo"!==C&&"mapbox"!==C||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function o(m){if("string"!=typeof m.name)throw new Error("Component module *name* must be a string.");var y=m.name;for(var v in D.componentsRegistry[y]=m,m.layoutAttributes&&(m.layoutAttributes._isLinkedToArray&&a(D.layoutArrayContainers,y),d(m)),D.modules)c(y,v);for(var _ in D.subplotsRegistry)g(y,_);for(var f in D.transformsRegistry)x(y,f);m.schema&&m.schema.layout&&n(t,m.schema.layout)}function l(m){if("string"!=typeof m.name)throw new Error("Transform module *name* must be a string.");var y="Transform module "+m.name,v="function"==typeof m.transform,_="function"==typeof m.calcTransform;if(!v&&!_)throw new Error(y+" is missing a *transform* or *calcTransform* method.");for(var f in v&&_&&M.log([y+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),T(m.attributes)||M.log(y+" registered without an *attributes* object."),"function"!=typeof m.supplyDefaults&&M.log(y+" registered without a *supplyDefaults* method."),D.transformsRegistry[m.name]=m,D.componentsRegistry)x(f,m.name)}function u(m){var y=m.name,v=y.split("-")[0],_=m.dictionary,f=m.format,S=_&&Object.keys(_).length,w=f&&Object.keys(f).length,E=D.localeRegistry,C=E[y];if(C||(E[y]=C={}),v!==y){var O=E[v];O||(E[v]=O={}),S&&O.dictionary===C.dictionary&&(O.dictionary=_),w&&O.format===C.format&&(O.format=f)}S&&(C.dictionary=_),w&&(C.format=f)}function d(m){if(m.layoutAttributes){var y=m.layoutAttributes._arrayAttrRegexps;if(y)for(var v=0;v<y.length;v++)a(D.layoutArrayRegexes,y[v])}}function c(m,y){var v=D.componentsRegistry[m].schema;if(v&&v.traces){var _=v.traces[y];_&&n(D.modules[y]._module.attributes,_)}}function x(m,y){var v=D.componentsRegistry[m].schema;if(v&&v.transforms){var _=v.transforms[y];_&&n(D.transformsRegistry[y].attributes,_)}}function g(m,y){var v=D.componentsRegistry[m].schema;if(v&&v.subplots){var _=D.subplotsRegistry[y],f=_.layoutAttributes,S="subplot"===_.attr?_.name:_.attr;Array.isArray(S)&&(S=S[0]);var w=v.subplots[S];f&&w&&n(f,w)}}function h(m){return"object"==typeof m&&(m=m.type),m}D.modules={},D.allCategories={},D.allTypes=[],D.subplotsRegistry={},D.transformsRegistry={},D.componentsRegistry={},D.layoutArrayContainers=[],D.layoutArrayRegexes=[],D.traceLayoutAttributes={},D.localeRegistry={},D.apiMethodRegistry={},D.collectableSubplotTypes=null,D.register=function(m){if(D.collectableSubplotTypes=null,!m)throw new Error("No argument passed to Plotly.register.");m&&!Array.isArray(m)&&(m=[m]);for(var y=0;y<m.length;y++){var v=m[y];if(!v)throw new Error("Invalid module was attempted to be registered!");switch(v.moduleType){case"trace":r(v);break;case"transform":l(v);break;case"component":o(v);break;case"locale":u(v);break;case"apiMethod":var _=v.name;D.apiMethodRegistry[_]=v.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},D.getModule=function(m){var y=D.modules[h(m)];return!!y&&y._module},D.traceIs=function(m,y){if("various"===(m=h(m)))return!1;var v=D.modules[m];return v||(m&&M.log("Unrecognized trace type "+m+"."),v=D.modules[s.type.dflt]),!!v.categories[y]},D.getTransformIndices=function(m,y){for(var v=[],_=m.transforms||[],f=0;f<_.length;f++)_[f].type===y&&v.push(f);return v},D.hasTransform=function(m,y){for(var v=m.transforms||[],_=0;_<v.length;_++)if(v[_].type===y)return!0;return!1},D.getComponentMethod=function(m,y){var v=D.componentsRegistry[m];return v&&v[y]||k},D.call=function(){var m=arguments[0],y=[].slice.call(arguments,1);return D.apiMethodRegistry[m].apply(null,y)}},61914:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=k.extendFlat,T=k.extendDeep;function b(p){var s;switch(p){case"themes__thumb":s={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":s={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:s={}}return s}ee.exports=function(p,s){var t,i,n=p.data,r=p.layout,o=T([],n),l=T({},r,b(s.tileClass)),u=p._context||{};if(s.width&&(l.width=s.width),s.height&&(l.height=s.height),"thumbnail"===s.tileClass||"themes__thumb"===s.tileClass){l.annotations=[];var d=Object.keys(l);for(t=0;t<d.length;t++)i=d[t],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(l[d[t]].title={text:""});for(t=0;t<o.length;t++){var c=o[t];c.showscale=!1,c.marker&&(c.marker.showscale=!1),M.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(s.annotations))for(t=0;t<s.annotations.length;t++)l.annotations.push(s.annotations[t]);var x=Object.keys(l).filter(function(v){return v.match(/^scene\d*$/)});if(x.length){var g={};for("thumbnail"===s.tileClass&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<x.length;t++){var h=l[x[t]];h.xaxis||(h.xaxis={}),h.yaxis||(h.yaxis={}),h.zaxis||(h.zaxis={}),a(h.xaxis,g),a(h.yaxis,g),a(h.zaxis,g),h._scene=null}}var m=document.createElement("div");s.tileClass&&(m.className=s.tileClass);var y={gd:m,td:m,layout:l,data:o,config:{staticPlot:void 0===s.staticPlot||s.staticPlot,plotGlPixelRatio:void 0===s.plotGlPixelRatio?2:s.plotGlPixelRatio,displaylogo:s.displaylogo||!1,showLink:s.showLink||!1,showTips:s.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return"transparent"!==s.setBackground&&(y.config.setBackground=s.setBackground||"opaque"),y.gd.defaultLayout=b(s.tileClass),y}},7239:function(ee,D,e){"use strict";var M=e(71828),k=e(403),a=e(22435),T=e(25095);ee.exports=function(b,p){var s;return M.isPlainObject(b)||(s=M.getGraphDiv(b)),(p=p||{}).format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,i){s&&s._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),M.isIE()&&"svg"!==p.format&&i(new Error(T.MSG_IE_BAD_FORMAT)),s&&(s._snapshotInProgress=!0);var n=k(b,p),r=p.filename||b.fn||"newplot";r+="."+p.format.replace("-","."),n.then(function(o){return s&&(s._snapshotInProgress=!1),a(o,r,p.format)}).then(function(o){t(o)}).catch(function(o){s&&(s._snapshotInProgress=!1),i(o)})})}},22435:function(ee,D,e){"use strict";var M=e(71828),k=e(25095);ee.exports=function(a,T,b){var p=document.createElement("a"),s="download"in p;return new Promise(function(t,i){var n,r;if(M.isIE())return n=k.createBlob(a,"svg"),window.navigator.msSaveBlob(n,T),n=null,t(T);if(s)return n=k.createBlob(a,b),r=k.createObjectURL(n),p.href=r,p.download=T,document.body.appendChild(p),p.click(),document.body.removeChild(p),k.revokeObjectURL(r),n=null,t(T);if(M.isSafari()){var o="svg"===b?",":";base64,";return k.octetStream(o+encodeURIComponent(a)),t(T)}i(new Error("download error"))})}},25095:function(ee,D,e){"use strict";var M=e(73972);D.getDelay=function(a){return a._has&&(a._has("gl3d")||a._has("gl2d")||a._has("mapbox"))?500:0},D.getRedrawFunc=function(a){return function(){M.getComponentMethod("colorbar","draw")(a)}},D.encodeSVG=function(a){return"data:image/svg+xml,"+encodeURIComponent(a)},D.encodeJSON=function(a){return"data:application/json,"+encodeURIComponent(a)};var k=window.URL||window.webkitURL;D.createObjectURL=function(a){return k.createObjectURL(a)},D.revokeObjectURL=function(a){return k.revokeObjectURL(a)},D.createBlob=function(a,T){if("svg"===T)return new window.Blob([a],{type:"image/svg+xml;charset=utf-8"});if("full-json"===T)return new window.Blob([a],{type:"application/json;charset=utf-8"});var b=function(p){for(var s=p.length,t=new ArrayBuffer(s),i=new Uint8Array(t),n=0;n<s;n++)i[n]=p.charCodeAt(n);return t}(window.atob(a));return new window.Blob([b],{type:"image/"+T})},D.octetStream=function(a){document.location.href="data:application/octet-stream"+a},D.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,D.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(ee,D,e){"use strict";var M=e(25095),k={getDelay:M.getDelay,getRedrawFunc:M.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};ee.exports=k},70942:function(ee,D,e){"use strict";var M=e(71828),k=e(15398).EventEmitter,a=e(25095);ee.exports=function(T){var b=T.emitter||new k,p=new Promise(function(s,t){var i=window.Image,n=T.svg,r=T.format||"png";if(M.isIE()&&"svg"!==r){var o=new Error(a.MSG_IE_BAD_FORMAT);return t(o),T.promise?p:b.emit("error",o)}var l,u,d=T.canvas,c=T.scale||1,x=T.width||300,g=T.height||150,h=c*x,m=c*g,y=d.getContext("2d",{willReadFrequently:!0}),v=new i;"svg"===r||M.isSafari()?u=a.encodeSVG(n):(l=a.createBlob(n,"svg"),u=a.createObjectURL(l)),d.width=h,d.height=m,v.onload=function(){var _;switch(l=null,a.revokeObjectURL(u),"svg"!==r&&y.drawImage(v,0,0,h,m),r){case"jpeg":_=d.toDataURL("image/jpeg");break;case"png":_=d.toDataURL("image/png");break;case"webp":_=d.toDataURL("image/webp");break;case"svg":_=u;break;default:var f="Image format is not jpeg, png, svg or webp.";if(t(new Error(f)),!T.promise)return b.emit("error",f)}s(_),T.promise||b.emit("success",_)},v.onerror=function(_){if(l=null,a.revokeObjectURL(u),t(_),!T.promise)return b.emit("error",_)},v.src=u});return T.promise?p:b}},56395:function(ee,D,e){"use strict";var M=e(15398).EventEmitter,k=e(73972),a=e(71828),T=e(25095),b=e(61914),p=e(5900),s=e(70942);ee.exports=function(t,i){var n=new M,r=b(t,{format:"png"}),o=r.gd;o.style.position="absolute",o.style.left="-5000px",document.body.appendChild(o);var l=T.getRedrawFunc(o);return k.call("_doPlot",o,r.data,r.layout,r.config).then(l).then(function(){var u=T.getDelay(o._fullLayout);setTimeout(function(){var d=p(o),c=document.createElement("canvas");c.id=a.randstr(),(n=s({format:i.format,width:o._fullLayout.width,height:o._fullLayout.height,canvas:c,emitter:n,svg:d})).clean=function(){o&&document.body.removeChild(o)}},u)}).catch(function(u){n.emit("error",u)}),n}},5900:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(91424),T=e(7901),b=e(77922),p=/"/g,s="TOBESTRIPPED",t=new RegExp('("'+s+")|("+s+'")',"g");ee.exports=function(i,n,r){var o,l=i._fullLayout,u=l._paper,d=l._toppaper,c=l.width,x=l.height;u.insert("rect",":first-child").call(a.setRect,0,0,c,x).call(T.fill,l.paper_bgcolor);var g=l._basePlotModules||[];for(o=0;o<g.length;o++){var h=g[o];h.toSVG&&h.toSVG(i)}if(d){var m=d.node().childNodes,y=Array.prototype.slice.call(m);for(o=0;o<y.length;o++){var v=y[o];v.childNodes.length&&u.node().appendChild(v)}}l._draggers&&l._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var f=M.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){f.style({visibility:null,display:null});var S=this.style.fontFamily;S&&-1!==S.indexOf('"')&&f.style("font-family",S.replace(p,s))}else f.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var f=M.select(this),S=this.style.fill;S&&-1!==S.indexOf("url(")&&f.style("fill",S.replace(p,s));var w=this.style.stroke;w&&-1!==w.indexOf("url(")&&f.style("stroke",w.replace(p,s))}),"pdf"!==n&&"eps"!==n||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(b.xmlns,"xmlns",b.svg),u.node().setAttributeNS(b.xmlns,"xmlns:xlink",b.xlink),"svg"===n&&r&&(u.attr("width",r*c),u.attr("height",r*x),u.attr("viewBox","0 0 "+c+" "+x));var f,S,w,_=(new window.XMLSerializer).serializeToString(u.node());return _=(_=(f=_,S=M.select("body").append("div").style({display:"none"}).html(""),w=f.replace(/(&[^;]*;)/gi,function(E){return"&lt;"===E?"&#60;":"&rt;"===E?"&#62;":-1!==E.indexOf("<")||-1!==E.indexOf(">")?"":S.html(E).text()}),S.remove(),_=w).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),k.isIE()&&(_=(_=(_=_.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),_}},75341:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k,a){for(var T=0;T<k.length;T++)k[T].i=T;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.hovertext,k,"htx");var b=a.marker;if(b){M.mergeArray(b.opacity,k,"mo",!0),M.mergeArray(b.color,k,"mc");var p=b.line;p&&(M.mergeArray(p.color,k,"mlc"),M.mergeArrayCastPositive(p.width,k,"mlw"))}}},1486:function(ee,D,e){"use strict";var M=e(82196),k=e(12663).axisHoverFormat,a=e(5386).fF,T=e(5386).si,b=e(50693),p=e(41940),s=e(97313),t=e(79952).u,i=e(1426).extendFlat,n=p({editType:"calc",arrayOk:!0,colorEditType:"style"}),r=i({},M.marker.line.width,{dflt:0}),o=i({width:r,editType:"calc"},b("marker.line")),l=i({line:o,editType:"calc"},b("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});ee.exports={x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),text:M.text,texttemplate:T({editType:"plot"},{keys:s.eventDataKeys}),hovertext:M.hovertext,hovertemplate:a({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:i({},n,{}),insidetextfont:i({},n,{}),outsidetextfont:i({},n,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:i({},M.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:l,offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:{marker:{opacity:M.selected.marker.opacity,color:M.selected.marker.color,editType:"style"},textfont:M.selected.textfont,editType:"style"},unselected:{marker:{opacity:M.unselected.marker.opacity,color:M.unselected.marker.color,editType:"style"},textfont:M.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(ee,D,e){"use strict";var M=e(89298),k=e(42973),a=e(52075).hasColorscale,T=e(78803),b=e(75341),p=e(66279);ee.exports=function(s,t){var i,n,r,o,l,u,d=M.getFromId(s,t.xaxis||"x"),c=M.getFromId(s,t.yaxis||"y"),x={msUTC:!(!t.base&&0!==t.base)};"h"===t.orientation?(i=d.makeCalcdata(t,"x",x),r=c.makeCalcdata(t,"y"),o=k(t,c,"y",r),l=!!t.yperiodalignment,u="y"):(i=c.makeCalcdata(t,"y",x),r=d.makeCalcdata(t,"x"),o=k(t,d,"x",r),l=!!t.xperiodalignment,u="x"),n=o.vals;for(var g=Math.min(n.length,i.length),h=new Array(g),m=0;m<g;m++)h[m]={p:n[m],s:i[m]},l&&(h[m].orig_p=r[m],h[m][u+"End"]=o.ends[m],h[m][u+"Start"]=o.starts[m]),t.ids&&(h[m].id=String(t.ids[m]));return a(t,"marker")&&T(s,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&T(s,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),b(h,t),p(h,t),h}},97313:function(ee){"use strict";ee.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(ee,D,e){"use strict";var M=e(92770),k=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,T=e(73972),b=e(89298),p=e(99082).getAxisGroup,s=e(61546);function t(g,h,m,y,v){if(y.length){var _,f,S,w;switch(function(E,C){var O,P;for(O=0;O<C.length;O++){var R,j=C[O],z=j[0].trace,N="funnel"===z.type?z._base:z.base,Y="h"===z.orientation?z.xcalendar:z.ycalendar,F="category"===E.type||"multicategory"===E.type?function(){return null}:E.d2c;if(k(N)){for(P=0;P<Math.min(N.length,j.length);P++)R=F(N[P],0,Y),M(R)?(j[P].b=+R,j[P].hasB=1):j[P].b=0;for(;P<j.length;P++)j[P].b=0}else{R=F(N,0,Y);var U=M(R);for(R=U?R:0,P=0;P<j.length;P++)j[P].b=R,U&&(j[P].hasB=1)}}}(m,y),v.mode){case"overlay":i(h,m,y,v);break;case"group":for(_=[],f=[],S=0;S<y.length;S++)void 0===(w=y[S])[0].trace.offset?f.push(w):_.push(w);f.length&&(E=g,O=m,j=new s(f,{posAxis:C=h,sepNegVal:!1,overlapNoMerge:!(R=v).norm}),function(z,N,Y,F){for(var U=z._fullLayout,V=Y.positions,te=Y.distinctPositions,$=Y.minDiff,X=Y.traces,W=X.length,J=V.length!==te.length,Q=$*(1-F.gap),re=p(U,N._id)+X[0][0].trace.orientation,ae=U._alignmentOpts[re]||{},oe=0;oe<W;oe++){var ue,ve,be=X[oe],de=be[0].trace,pe=ae[de.alignmentgroup]||{},ge=Object.keys(pe.offsetGroups||{}).length,Ae=(ue=ge?Q/ge:J?Q/W:Q)*(1-(F.groupgap||0));ve=ge?((2*de._offsetIndex+1-ge)*ue-Ae)/2:J?((2*oe+1-W)*ue-Ae)/2:-Ae/2;var ye=be[0].t;ye.barwidth=Ae,ye.poffset=ve,ye.bargroupwidth=Q,ye.bardelta=$}Y.binWidth=X[0][0].t.barwidth/100,r(Y),o(N,Y),l(N,Y,J)}(E,C,j,R),function(z,N){for(var Y=z.traces,F=0;F<Y.length;F++){var U=Y[F];if(void 0===U[0].trace.base)for(var V=new s([U],{posAxis:N,sepNegVal:!0,overlapNoMerge:!0}),te=0;te<U.length;te++){var $=U[te];if($.p!==a){var X=V.put($.p,$.b+$.s);X&&($.b=X)}}}}(j,C),R.norm?(d(j),c(O,j,R)):u(O,j)),_.length&&i(h,m,_,v);break;case"stack":case"relative":for(_=[],f=[],S=0;S<y.length;S++)void 0===(w=y[S])[0].trace.base?f.push(w):_.push(w);f.length&&function(E,C,O,P,R){var j=new s(P,{posAxis:C,sepNegVal:"relative"===R.mode,overlapNoMerge:!(R.norm||"stack"===R.mode||"relative"===R.mode)});n(C,j,R),function(U,V,te){var $,X,W,J,Q,re,ae=x(U),oe=V.traces;for(J=0;J<oe.length;J++)if("funnel"===(X=($=oe[J])[0].trace).type)for(Q=0;Q<$.length;Q++)(re=$[Q]).s!==a&&V.put(re.p,-.5*re.s);for(J=0;J<oe.length;J++){W="funnel"===(X=($=oe[J])[0].trace).type;var ue=[];for(Q=0;Q<$.length;Q++)if((re=$[Q]).s!==a){var ve;ve=W?re.s:re.s+re.b;var be=V.put(re.p,ve),de=be+ve;re.b=be,re[ae]=de,te.norm||(ue.push(de),re.hasB&&ue.push(be))}te.norm||(X._extremes[U._id]=b.findExtremes(U,ue,{tozero:!0,padded:!0}))}}(O,j,R);for(var z=0;z<P.length;z++)for(var N=P[z],Y=0;Y<N.length;Y++){var F=N[Y];F.s!==a&&F.b+F.s===j.get(F.p,F.s)&&(F._outmost=!0)}R.norm&&c(O,j,R)}(0,h,m,f,v),_.length&&i(h,m,_,v)}!function(E,C){var O,P,R,j=x(C),z={},N=1/0,Y=-1/0;for(O=0;O<E.length;O++)for(R=E[O],P=0;P<R.length;P++){var F=R[P].p;M(F)&&(N=Math.min(N,F),Y=Math.max(Y,F))}var U=1e4/(Y-N),V=z.round=function(re){return String(Math.round(U*(re-N)))};for(O=0;O<E.length;O++){(R=E[O])[0].t.extents=z;var te=R[0].t.poffset,$=k(te);for(P=0;P<R.length;P++){var X=R[P],W=X[j]-X.w/2;if(M(W)){var J=X[j]+X.w/2,Q=V(X.p);z[Q]?z[Q]=[Math.min(W,z[Q][0]),Math.max(J,z[Q][1])]:z[Q]=[W,J]}X.p0=X.p+($?te[P]:te),X.p1=X.p0+X.w,X.s0=X.b,X.s1=X.s0+X.s}}}(y,h)}var E,C,O,R,j}function i(g,h,m,y){for(var v=0;v<m.length;v++){var _=m[v],f=new s([_],{posAxis:g,sepNegVal:!1,overlapNoMerge:!y.norm});n(g,f,y),y.norm?(d(f),c(h,f,y)):u(h,f)}}function n(g,h,m){for(var y=h.minDiff,v=h.traces,_=y*(1-m.gap),f=_*(1-(m.groupgap||0)),S=-f/2,w=0;w<v.length;w++){var E=v[w][0].t;E.barwidth=f,E.poffset=S,E.bargroupwidth=_,E.bardelta=y}h.binWidth=v[0][0].t.barwidth/100,r(h),o(g,h),l(g,h)}function r(g){var h,m,y=g.traces;for(h=0;h<y.length;h++){var v,_=y[h],f=_[0],S=f.trace,w=f.t,E=S._offset||S.offset,C=w.poffset;if(k(E)){for(v=Array.prototype.slice.call(E,0,_.length),m=0;m<v.length;m++)M(v[m])||(v[m]=C);for(m=v.length;m<_.length;m++)v.push(C);w.poffset=v}else void 0!==E&&(w.poffset=E);var O=S._width||S.width,P=w.barwidth;if(k(O)){var R=Array.prototype.slice.call(O,0,_.length);for(m=0;m<R.length;m++)M(R[m])||(R[m]=P);for(m=R.length;m<_.length;m++)R.push(P);if(w.barwidth=R,void 0===E){for(v=[],m=0;m<_.length;m++)v.push(C+(P-R[m])/2);w.poffset=v}}else void 0!==O&&(w.barwidth=O,void 0===E&&(w.poffset=C+(P-O)/2))}}function o(g,h){for(var m=h.traces,y=x(g),v=0;v<m.length;v++)for(var _=m[v],f=_[0].t,S=f.poffset,w=k(S),E=f.barwidth,C=k(E),O=0;O<_.length;O++){var P=_[O],R=P.w=C?E[O]:E;void 0===P.p&&(P.p=P[y],P["orig_"+y]=P[y]);var j=(w?S[O]:S)+R/2;P[y]=P.p+j}}function l(g,h,m){var y=h.traces,v=h.minDiff/2;b.minDtick(g,h.minDiff,h.distinctPositions[0],m);for(var _=0;_<y.length;_++){var f,S,w,E,C=y[_],O=C[0],P=O.trace,R=[];for(E=0;E<C.length;E++)S=(f=C[E]).p-v,w=f.p+v,R.push(S,w);if(P.width||P.offset){var j=O.t,z=j.poffset,N=j.barwidth,Y=k(z),F=k(N);for(E=0;E<C.length;E++){f=C[E];var U=Y?z[E]:z,V=F?N[E]:N;w=(S=f.p+U)+V,R.push(S,w)}}P._extremes[g._id]=b.findExtremes(g,R,{padded:!1})}}function u(g,h){for(var m=h.traces,y=x(g),v=0;v<m.length;v++){for(var _=m[v],f=_[0].trace,S="scatter"===f.type,w="v"===f.orientation,E=[],C=!1,O=0;O<_.length;O++){var P=_[O],R=S?0:P.b,j=S?w?P.y:P.x:R+P.s;P[y]=j,E.push(j),P.hasB&&E.push(R),P.hasB&&P.b||(C=!0)}f._extremes[g._id]=b.findExtremes(g,E,{tozero:C,padded:!0})}}function d(g){for(var h=g.traces,m=0;m<h.length;m++)for(var y=h[m],v=0;v<y.length;v++){var _=y[v];_.s!==a&&g.put(_.p,_.b+_.s)}}function c(g,h,m){var y=h.traces,v=x(g),_="fraction"===m.norm?1:100,f=_/1e9,S=g.l2c(g.c2l(0)),w="stack"===m.mode?_:S;function E(te){return M(g.c2l(te))&&(te<S-f||te>w+f||!M(S))}for(var C=0;C<y.length;C++){for(var O=y[C],P=O[0].trace,R=[],j=!1,z=!1,N=0;N<O.length;N++){var Y=O[N];if(Y.s!==a){var F=Math.abs(_/h.get(Y.p,Y.s));Y.b*=F,Y.s*=F;var U=Y.b,V=U+Y.s;Y[v]=V,R.push(V),z=z||E(V),Y.hasB&&(R.push(U),z=z||E(U)),Y.hasB&&Y.b||(j=!0)}}P._extremes[g._id]=b.findExtremes(g,R,{tozero:j,padded:z})}}function x(g){return g._id.charAt(0)}ee.exports={crossTraceCalc:function(g,h){for(var m=h.xaxis,y=h.yaxis,v=g._fullLayout,_=g._fullData,f=g.calcdata,S=[],w=[],E=0;E<_.length;E++){var C=_[E];if(!0===C.visible&&T.traceIs(C,"bar")&&C.xaxis===m._id&&C.yaxis===y._id&&("h"===C.orientation?S.push(f[E]):w.push(f[E]),C._computePh))for(var O=g.calcdata[E],P=0;P<O.length;P++)"function"==typeof O[P].ph0&&(O[P].ph0=O[P].ph0()),"function"==typeof O[P].ph1&&(O[P].ph1=O[P].ph1())}var R={xCat:"category"===m.type||"multicategory"===m.type,yCat:"category"===y.type||"multicategory"===y.type,mode:v.barmode,norm:v.barnorm,gap:v.bargap,groupgap:v.bargroupgap};t(g,m,y,w,R),t(g,y,m,S,R)},setGroupPositions:t}},90769:function(ee,D,e){"use strict";var M=e(71828),k=e(7901),a=e(73972),T=e(67513),b=e(73927),p=e(98340),s=e(26125),t=e(1486),i=M.coerceFont;function n(r,o,l,u,d,c){var x=!1!==(c=c||{}).moduleHasSelected,g=!1!==c.moduleHasUnselected,h=!1!==c.moduleHasConstrain,m=!1!==c.moduleHasCliponaxis,y=!1!==c.moduleHasTextangle,v=!1!==c.moduleHasInsideanchor,_=!!c.hasPathbar,f=Array.isArray(d)||"auto"===d,S=f||"inside"===d,w=f||"outside"===d;if(S||w){var E=i(u,"textfont",l.font),C=M.extendFlat({},E),O=!(r.textfont&&r.textfont.color);if(O&&delete C.color,i(u,"insidetextfont",C),_){var P=M.extendFlat({},E);O&&delete P.color,i(u,"pathbar.textfont",P)}w&&i(u,"outsidetextfont",E),x&&u("selected.textfont.color"),g&&u("unselected.textfont.color"),h&&u("constraintext"),m&&u("cliponaxis"),y&&u("textangle"),u("texttemplate")}S&&v&&u("insidetextanchor")}ee.exports={supplyDefaults:function(r,o,l,u){function d(h,m){return M.coerce(r,o,t,h,m)}if(T(r,o,u,d)){b(r,o,u,d),d("xhoverformat"),d("yhoverformat"),d("orientation",o.x&&!o.y?"h":"v"),d("base"),d("offset"),d("width"),d("text"),d("hovertext"),d("hovertemplate");var c=d("textposition");n(r,0,u,d,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(r,o,d,l,u);var x=(o.marker.line||{}).color,g=a.getComponentMethod("errorbars","supplyDefaults");g(r,o,x||k.defaultLine,{axis:"y"}),g(r,o,x||k.defaultLine,{axis:"x",inherit:"y"}),M.coerceSelectionMarkerOpacity(o,d)}else o.visible=!1},crossTraceDefaults:function(r,o){var l,u;function d(x){return M.coerce(u._input,u,t,x)}if("group"===o.barmode)for(var c=0;c<r.length;c++)"bar"===(u=r[c]).type&&(l=u._input,s(l,u,o,d))},handleText:n}},58065:function(ee){"use strict";ee.exports=function(D,e,M){return D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),"h"===M.orientation?(D.label=D.y,D.value=D.x):(D.label=D.x,D.value=D.y),D}},69383:function(ee,D,e){"use strict";var M=e(92770),k=e(84267),a=e(71828).isArrayOrTypedArray;D.coerceString=function(T,b,p){if("string"==typeof b){if(b||!T.noBlank)return b}else if(("number"==typeof b||!0===b)&&!T.strict)return String(b);return void 0!==p?p:T.dflt},D.coerceNumber=function(T,b,p){if(M(b)){b=+b;var s=T.min,t=T.max;if(!(void 0!==s&&b<s||void 0!==t&&b>t))return b}return void 0!==p?p:T.dflt},D.coerceColor=function(T,b,p){return k(b).isValid()?b:void 0!==p?p:T.dflt},D.coerceEnumerated=function(T,b,p){return T.coerceNumber&&(b=+b),-1!==T.values.indexOf(b)?b:void 0!==p?p:T.dflt},D.getValue=function(T,b){var p;return a(T)?b<T.length&&(p=T[b]):p=T,p},D.getLineWidth=function(T,b){return 0<b.mlw?b.mlw:a(T.marker.line.width)?0:T.marker.line.width}},95423:function(ee,D,e){"use strict";var M=e(30211),k=e(73972),a=e(7901),T=e(71828).fillText,b=e(69383).getLineWidth,p=e(89298).hoverLabelText,s=e(50606).BADNUM;function t(n,r,o,l,u){var d,c,x,g,h,m,y,v=n.cd,_=v[0].trace,f=v[0].t,S="closest"===l,w="waterfall"===_.type,E=n.maxHoverDistance,C=n.maxSpikeDistance;"h"===_.orientation?(d=o,c=r,x="y",g="x",h=$,m=V):(d=r,c=o,x="x",g="y",m=$,h=V);var O=_[x+"period"],P=S||O;function R(ue){return z(ue,-1)}function j(ue){return z(ue,1)}function z(ue,ve){var be=ue.w;return ue[x]+ve*be/2}function N(ue){return ue[x+"End"]-ue[x+"Start"]}var Y=S?R:O?function(ue){return ue.p-N(ue)/2}:function(ue){return Math.min(R(ue),ue.p-f.bardelta/2)},F=S?j:O?function(ue){return ue.p+N(ue)/2}:function(ue){return Math.max(j(ue),ue.p+f.bardelta/2)};function U(ue,ve,be){return u.finiteRange&&(be=0),M.inbox(ue-d,ve-d,be+Math.min(1,Math.abs(ve-ue)/y)-1)}function V(ue){return U(Y(ue),F(ue),E)}function te(ue){var ve=ue[g];if(w){var be=Math.abs(ue.rawS)||0;c>0?ve+=be:c<0&&(ve-=be)}return ve}function $(ue){var ve=c,be=ue.b,de=te(ue);return M.inbox(be-ve,de-ve,E+(de-ve)/(de-be)-1)}var X=n[x+"a"],W=n[g+"a"];y=Math.abs(X.r2c(X.range[1])-X.r2c(X.range[0]));var ue,ve,be,de,J=M.getDistanceFunction(l,h,m,function(ue){return(h(ue)+m(ue))/2});if(M.getClosest(v,J,n),!1!==n.index&&v[n.index].p!==s){P||(Y=function(ue){return Math.min(R(ue),ue.p-f.bargroupwidth/2)},F=function(ue){return Math.max(j(ue),ue.p+f.bargroupwidth/2)});var Q=v[n.index],re=_.base?Q.b+Q.s:Q.s;n[g+"0"]=n[g+"1"]=W.c2p(Q[g],!0),n[g+"LabelVal"]=re;var ae=f.extents[f.extents.round(Q.p)];n[x+"0"]=X.c2p(S?Y(Q):ae[0],!0),n[x+"1"]=X.c2p(S?F(Q):ae[1],!0);var oe=void 0!==Q.orig_p;return n[x+"LabelVal"]=oe?Q.orig_p:Q.p,n.labelLabel=p(X,n[x+"LabelVal"],_[x+"hoverformat"]),n.valueLabel=p(W,n[g+"LabelVal"],_[g+"hoverformat"]),n.baseLabel=p(W,Q.b,_[g+"hoverformat"]),n.spikeDistance=(ve=c,be=(ue=Q).b,de=te(ue),(M.inbox(be-ve,de-ve,C+(de-ve)/(de-be)-1)+function(ue){return U(R(ue),j(ue),C)}(Q))/2),n[x+"Spike"]=X.c2p(Q.p,!0),T(Q,_,n),n.hovertemplate=_.hovertemplate,n}}function i(n,r){var o=r.mcc||n.marker.color,l=r.mlcc||n.marker.line.color,u=b(n,r);return a.opacity(o)?o:a.opacity(l)&&u?l:void 0}ee.exports={hoverPoints:function(n,r,o,l,u){var d=t(n,r,o,l,u);if(d){var c=d.cd,x=c[0].trace,g=c[d.index];return d.color=i(x,g),k.getComponentMethod("errorbars","hoverInfo")(g,x,d),[d]}},hoverOnBars:t,getTraceColor:i}},60822:function(ee,D,e){"use strict";ee.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(ee){"use strict";ee.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(ee,D,e){"use strict";var M=e(73972),k=e(89298),a=e(71828),T=e(43641);ee.exports=function(b,p,s){function t(x,g){return a.coerce(b,p,T,x,g)}for(var i=!1,n=!1,r=!1,o={},l=t("barmode"),u=0;u<s.length;u++){var d=s[u];if(M.traceIs(d,"bar")&&d.visible){if(i=!0,"group"===l){var c=d.xaxis+d.yaxis;o[c]&&(r=!0),o[c]=!0}d.visible&&"histogram"===d.type&&"category"!==k.getFromId({_fullLayout:p},d["v"===d.orientation?"xaxis":"yaxis"]).type&&(n=!0)}}i?("overlay"!==l&&t("barnorm"),t("bargap",n&&!r?0:.2),t("bargroupgap")):delete p.barmode}},17295:function(ee,D,e){"use strict";var M=e(39898),k=e(92770),a=e(71828),T=e(63893),b=e(7901),p=e(91424),s=e(73972),t=e(89298).tickText,i=e(72597),n=i.recordMinTextSize,r=i.clearMinTextSize,o=e(16688),l=e(69383),u=e(97313),d=e(1486),c=d.text,x=d.textposition,g=e(23469).appendArrayPointValue,h=u.TEXTPAD;function m(C){return C.id}function y(C){if(C.ids)return m}function v(C,O){return C<O?1:-1}function _(C,O,P,R){var j;return!O.uniformtext.mode&&f(P)?(R&&(j=R()),C.transition().duration(P.duration).ease(P.easing).each("end",function(){j&&j()}).each("interrupt",function(){j&&j()})):C}function f(C){return C&&C.duration>0}function S(C){return"auto"===C?0:C}function w(C,O){var P=Math.PI/180*O,R=Math.abs(Math.sin(P)),j=Math.abs(Math.cos(P));return{x:C.width*j+C.height*R,y:C.width*R+C.height*j}}function E(C,O,P,R,j,z){var N=!!z.isHorizontal,Y=!!z.constrained,F=z.angle||0,U=z.anchor||"end",V="end"===U,te="start"===U,$=((z.leftToRight||0)+1)/2,X=1-$,W=j.width,J=j.height,Q=Math.abs(O-C),re=Math.abs(R-P),ae=Q>2*h&&re>2*h?h:0;Q-=2*ae,re-=2*ae;var oe=S(F);"auto"!==F||W<=Q&&J<=re||!(W>Q||J>re)||(W>re||J>Q)&&W<J==Q<re||(oe+=90);var ue=w(j,oe),ve=1;Y&&(ve=Math.min(1,Q/ue.x,re/ue.y));var be=j.left*X+j.right*$,de=(j.top+j.bottom)/2,pe=(C+h)*X+(O-h)*$,ge=(P+R)/2,Ae=0,ye=0;if(te||V){var we=(N?ue.x:ue.y)/2,se=N?v(C,O):v(P,R);N?te?(pe=C+se*ae,Ae=-se*we):(pe=O-se*ae,Ae=se*we):te?(ge=P+se*ae,ye=-se*we):(ge=R-se*ae,ye=se*we)}return{textX:be,textY:de,targetX:pe,targetY:ge,anchorX:Ae,anchorY:ye,scale:ve,rotate:oe}}ee.exports={plot:function(C,O,P,R,j,z){var N=O.xaxis,Y=O.yaxis,F=C._fullLayout,U=C._context.staticPlot;j||(j={mode:F.barmode,norm:F.barmode,gap:F.bargap,groupgap:F.bargroupgap},r("bar",F));var V=a.makeTraceGroups(R,P,"trace bars").each(function(te){var $=M.select(this),X=te[0].trace,W="waterfall"===X.type,J="funnel"===X.type,Q="bar"===X.type||J,re=0;W&&X.connector.visible&&"between"===X.connector.mode&&(re=X.connector.line.width/2);var ae="h"===X.orientation,oe=f(j),ue=a.ensureSingle($,"g","points"),ve=y(X),be=ue.selectAll("g.point").data(a.identity,ve);be.enter().append("g").classed("point",!0),be.exit().remove(),be.each(function(pe,ge){var Ae,ye,Ce,De,ze,Ue,Ve,Xe,at,st,we=M.select(this),se=(Ce=pe,De=N,ze=Y,Xe=[],at=(Ue=ae)?De:ze,st=Ue?ze:De,(Ve=[])[0]=at.c2p(Ce.s0,!0),Xe[0]=st.c2p(Ce.p0,!0),Ve[1]=at.c2p(Ce.s1,!0),Xe[1]=st.c2p(Ce.p1,!0),Ue?[Ve,Xe]:[Xe,Ve]),ie=se[0][0],he=se[0][1],Se=se[1][0],_e=se[1][1],Me=0==(ae?he-ie:_e-Se);if(Me&&Q&&l.getLineWidth(X,pe)&&(Me=!1),Me||(Me=!(k(ie)&&k(he)&&k(Se)&&k(_e))),pe.isBlank=Me,Me&&(ae?he=ie:_e=Se),re&&!Me&&(ae?(ie-=v(ie,he)*re,he+=v(ie,he)*re):(Se-=v(Se,_e)*re,_e+=v(Se,_e)*re)),"waterfall"===X.type){if(!Me){var Ee=X[pe.dir].marker;Ae=Ee.line.width,ye=Ee.color}}else Ae=l.getLineWidth(X,pe),ye=pe.mc||X.marker.color;function Ie(Ce){var De=M.round(Ae/2%1,2);return 0===j.gap&&0===j.groupgap?M.round(Math.round(Ce)-De,2):Ce}if(!C._context.staticPlot){var fe=b.opacity(ye)<1||Ae>.01?Ie:function(Ce,De,ze){return ze&&Ce===De?Ce:Math.abs(Ce-De)>=2?Ie(Ce):Ce>De?Math.ceil(Ce):Math.floor(Ce)};ie=fe(ie,he,ae),he=fe(he,ie,ae),Se=fe(Se,_e,!ae),_e=fe(_e,Se,!ae)}var xe=_(a.ensureSingle(we,"path"),F,j,z);if(xe.style("vector-effect",U?"none":"non-scaling-stroke").attr("d",isNaN((he-ie)*(_e-Se))||Me&&C._context.staticPlot?"M0,0Z":"M"+ie+","+Se+"V"+_e+"H"+he+"V"+Se+"Z").call(p.setClipUrl,O.layerClipId,C),!F.uniformtext.mode&&oe){var Te=p.makePointStyleFns(X);p.singlePointStyle(pe,xe,X,Te,C)}(function(Ce,De,ze,Ue,Ve,Xe,at,st,ht,bt,vt){var Qe,nt=De.xaxis,wt=De.yaxis,Ot=Ce._fullLayout;function Pt(Qt,Vt,Ft){return a.ensureSingle(Qt,"text").text(Vt).attr({class:"bartext bartext-"+Qe,"text-anchor":"middle","data-notex":1}).call(p.font,Ft).call(T.convertToTspans,Ce)}var Qt,Vt,Ft,en,wn,kn,on,St=Ue[0].trace,qe="h"===St.orientation,Ze=(Qt=Ot,Ft=Ve,en=nt,wn=wt,on=(Vt=Ue)[0].trace,kn=on.texttemplate?function(Ht,nn,Kt,an,xn){var _n=nn[0].trace,mn=a.castOption(_n,Kt,"texttemplate");if(!mn)return"";var An,vn,On,Bn,er="histogram"===_n.type,or="waterfall"===_n.type,$n="funnel"===_n.type,qn="h"===_n.orientation;function cr(In){return t(Bn,Bn.c2l(In),!0).text}qn?(An="y",vn=xn,On="x",Bn=an):(An="x",vn=an,On="y",Bn=xn);var Nt,Jt=nn[Kt],un={};un.label=Jt.p,un.labelLabel=un[An+"Label"]=(Nt=Jt.p,t(vn,vn.c2l(Nt),!0).text);var fn=a.castOption(_n,Jt.i,"text");(0===fn||fn)&&(un.text=fn),un.value=Jt.s,un.valueLabel=un[On+"Label"]=cr(Jt.s);var Mn={};g(Mn,_n,Jt.i),(er||void 0===Mn.x)&&(Mn.x=qn?un.value:un.label),(er||void 0===Mn.y)&&(Mn.y=qn?un.label:un.value),(er||void 0===Mn.xLabel)&&(Mn.xLabel=qn?un.valueLabel:un.labelLabel),(er||void 0===Mn.yLabel)&&(Mn.yLabel=qn?un.labelLabel:un.valueLabel),or&&(un.delta=+Jt.rawS||Jt.s,un.deltaLabel=cr(un.delta),un.final=Jt.v,un.finalLabel=cr(un.final),un.initial=un.final-un.delta,un.initialLabel=cr(un.initial)),$n&&(un.value=Jt.s,un.valueLabel=cr(un.value),un.percentInitial=Jt.begR,un.percentInitialLabel=a.formatPercent(Jt.begR),un.percentPrevious=Jt.difR,un.percentPreviousLabel=a.formatPercent(Jt.difR),un.percentTotal=Jt.sumR,un.percenTotalLabel=a.formatPercent(Jt.sumR));var Fn=a.castOption(_n,Jt.i,"customdata");return Fn&&(un.customdata=Fn),a.texttemplateString(mn,un,Ht._d3locale,Mn,un,_n._meta||{})}(Qt,Vt,Ft,en,wn):on.textinfo?function(Ht,nn,Kt,an){var xn=Ht[0].trace,_n="h"===xn.orientation,mn="waterfall"===xn.type,An="funnel"===xn.type;function vn(Fn){return t(_n?Kt:an,+Fn,!0).text}var On,Bn,er=xn.textinfo,or=Ht[nn],$n=er.split("+"),qn=[],cr=function(Fn){return-1!==$n.indexOf(Fn)};if(cr("label")&&qn.push((Bn=Ht[nn].p,t(_n?an:Kt,Bn,!0).text)),cr("text")&&(0===(On=a.castOption(xn,or.i,"text"))||On)&&qn.push(On),mn){var Nt=+or.rawS||or.s,Jt=or.v,un=Jt-Nt;cr("initial")&&qn.push(vn(un)),cr("delta")&&qn.push(vn(Nt)),cr("final")&&qn.push(vn(Jt))}if(An){cr("value")&&qn.push(vn(or.s));var fn=0;cr("percent initial")&&fn++,cr("percent previous")&&fn++,cr("percent total")&&fn++;var Mn=fn>1;cr("percent initial")&&(On=a.formatPercent(or.begR),Mn&&(On+=" of initial"),qn.push(On)),cr("percent previous")&&(On=a.formatPercent(or.difR),Mn&&(On+=" of previous"),qn.push(On)),cr("percent total")&&(On=a.formatPercent(or.sumR),Mn&&(On+=" of total"),qn.push(On))}return qn.join("<br>")}(Vt,Ft,en,wn):l.getValue(on.text,Ft),l.coerceString(c,kn));Qe=function(Qt,Vt){var Ft=l.getValue(Qt.textposition,Vt);return l.coerceEnumerated(x,Ft)}(St,Ve);var Ne="stack"===bt.mode||"relative"===bt.mode,Ge=Ue[Ve],rt=!Ne||Ge._outmost;if(Ze&&"none"!==Qe&&(!Ge.isBlank&&Xe!==at&&st!==ht||"auto"!==Qe&&"inside"!==Qe)){var tt=Ot.font,Re=o.getBarColor(Ue[Ve],St),Fe=o.getInsideTextFont(St,Ve,tt,Re),et=o.getOutsideTextFont(St,Ve,tt),We=ze.datum();qe?"log"===nt.type&&We.s0<=0&&(Xe=nt.range[0]<nt.range[1]?0:nt._length):"log"===wt.type&&We.s0<=0&&(st=wt.range[0]<wt.range[1]?wt._length:0);var ct,pt,dt,ut,kt,yt=Math.abs(at-Xe)-2*h,gt=Math.abs(ht-st)-2*h;if("outside"===Qe&&(rt||Ge.hasB||(Qe="inside")),"auto"===Qe&&(rt?(Qe="inside",ct=Pt(ze,Ze,kt=a.ensureUniformFontSize(Ce,Fe)),dt=(pt=p.bBox(ct.node())).width,ut=pt.height,dt>0&&ut>0&&(dt<=yt&&ut<=gt||dt<=gt&&ut<=yt||(qe?yt>=dt*(gt/ut):gt>=ut*(yt/dt)))?Qe="inside":(Qe="outside",ct.remove(),ct=null)):Qe="inside"),!ct){var At=(ct=Pt(ze,Ze,kt=a.ensureUniformFontSize(Ce,"outside"===Qe?et:Fe))).attr("transform");if(ct.attr("transform",""),dt=(pt=p.bBox(ct.node())).width,ut=pt.height,ct.attr("transform",At),dt<=0||ut<=0)return void ct.remove()}var Lt,It=St.textangle;Lt="outside"===Qe?function(Qt,Vt,Ft,en,wn,kn){var on,Ht=!!kn.isHorizontal,nn=!!kn.constrained,Kt=kn.angle||0,an=wn.width,xn=wn.height,_n=Math.abs(Vt-Qt),mn=Math.abs(en-Ft);on=Ht?mn>2*h?h:0:_n>2*h?h:0;var An=1;nn&&(An=Ht?Math.min(1,mn/xn):Math.min(1,_n/an));var vn=S(Kt),On=w(wn,vn),Bn=(Ht?On.x:On.y)/2,er=(wn.left+wn.right)/2,or=(wn.top+wn.bottom)/2,$n=(Qt+Vt)/2,qn=(Ft+en)/2,cr=0,Nt=0,Jt=Ht?v(Vt,Qt):v(Ft,en);return Ht?($n=Vt-Jt*on,cr=Jt*Bn):(qn=en+Jt*on,Nt=-Jt*Bn),{textX:er,textY:or,targetX:$n,targetY:qn,anchorX:cr,anchorY:Nt,scale:An,rotate:vn}}(Xe,at,st,ht,pt,{isHorizontal:qe,constrained:"both"===St.constraintext||"outside"===St.constraintext,angle:It}):E(Xe,at,st,ht,pt,{isHorizontal:qe,constrained:"both"===St.constraintext||"inside"===St.constraintext,angle:It,anchor:St.insidetextanchor}),Lt.fontSize=kt.size,n("histogram"===St.type?"bar":St.type,Lt,Ot),Ge.transform=Lt;var qt=_(ct,Ot,bt,vt);a.setTransormAndDisplay(qt,Lt)}else ze.select("text").remove()})(C,O,we,te,ge,ie,he,Se,_e,j,z),O.layerClipId&&p.hideOutsideRangePoint(pe,we.select("text"),N,Y,X.xcalendar,X.ycalendar)});var de=!1===X.cliponaxis;p.setClipUrl($,de?null:O.layerClipId,C)});s.getComponentMethod("errorbars","plot")(C,V,O,j)},toMoveInsideBar:E}},81974:function(ee){"use strict";function D(e,M,k,a,T){var b=M.c2p(a?e.s0:e.p0,!0),p=M.c2p(a?e.s1:e.p1,!0),s=k.c2p(a?e.p0:e.s0,!0),t=k.c2p(a?e.p1:e.s1,!0);return T?[(b+p)/2,(s+t)/2]:a?[p,(s+t)/2]:[(b+p)/2,t]}ee.exports=function(e,M){var k,a=e.cd,T=e.xaxis,b=e.yaxis,p=a[0].trace,s="funnel"===p.type,t="h"===p.orientation,i=[];if(!1===M)for(k=0;k<a.length;k++)a[k].selected=0;else for(k=0;k<a.length;k++){var n=a[k],r="ct"in n?n.ct:D(n,T,b,t,s);M.contains(r,!1,k,e)?(i.push({pointNumber:k,x:T.c2d(n.x),y:b.c2d(n.y)}),n.selected=1):n.selected=0}return i}},61546:function(ee,D,e){"use strict";ee.exports=k;var M=e(71828).distinctVals;function k(a,T){this.traces=a,this.sepNegVal=T.sepNegVal,this.overlapNoMerge=T.overlapNoMerge;for(var b=1/0,p=T.posAxis._id.charAt(0),s=[],t=0;t<a.length;t++){for(var i=a[t],n=0;n<i.length;n++){var r=i[n],o=r.p;void 0===o&&(o=r[p]),void 0!==o&&s.push(o)}i[0]&&i[0].width1&&(b=Math.min(i[0].width1,b))}this.positions=s;var l=M(s);this.distinctPositions=l.vals,1===l.vals.length&&b!==1/0?this.minDiff=b:this.minDiff=Math.min(l.minDiff,b);var u=(T.posAxis||{}).type;"category"!==u&&"multicategory"!==u||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}k.prototype.put=function(a,T){var b=this.getLabel(a,T),p=this.bins[b]||0;return this.bins[b]=p+T,p},k.prototype.get=function(a,T){var b=this.getLabel(a,T);return this.bins[b]||0},k.prototype.getLabel=function(a,T){return(T<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?a:Math.round(a/this.binWidth))}},16688:function(ee,D,e){"use strict";var M=e(39898),k=e(7901),a=e(91424),T=e(71828),b=e(73972),p=e(72597).resizeText,s=e(1486),t=s.textfont,i=s.insidetextfont,n=s.outsidetextfont,r=e(69383);function o(m,y,v){a.pointStyle(m.selectAll("path"),y,v),l(m,y,v)}function l(m,y,v){m.selectAll("text").each(function(_){var f=M.select(this),S=T.ensureUniformFontSize(v,u(f,_,y,v));a.font(f,S)})}function u(m,y,v,_){var f=_._fullLayout.font,S=v.textfont;if(m.classed("bartext-inside")){var w=h(y,v);S=c(v,y.i,f,w)}else m.classed("bartext-outside")&&(S=x(v,y.i,f));return S}function d(m,y,v){return g(t,m.textfont,y,v)}function c(m,y,v,_){var f=d(m,y,v);return(void 0===m._input.textfont||void 0===m._input.textfont.color||Array.isArray(m.textfont.color)&&void 0===m.textfont.color[y])&&(f={color:k.contrast(_),family:f.family,size:f.size}),g(i,m.insidetextfont,y,f)}function x(m,y,v){var _=d(m,y,v);return g(n,m.outsidetextfont,y,_)}function g(m,y,v,_){y=y||{};var f=r.getValue(y.family,v),S=r.getValue(y.size,v),w=r.getValue(y.color,v);return{family:r.coerceString(m.family,f,_.family),size:r.coerceNumber(m.size,S,_.size),color:r.coerceColor(m.color,w,_.color)}}function h(m,y){return"waterfall"===y.type?y[m.dir].marker.color:m.mcc||m.mc||y.marker.color}ee.exports={style:function(m){var y=M.select(m).selectAll("g.barlayer").selectAll("g.trace");p(m,y,"bar");var v=y.size(),_=m._fullLayout;y.style("opacity",function(f){return f[0].trace.opacity}).each(function(f){("stack"===_.barmode&&v>1||0===_.bargap&&0===_.bargroupgap&&!f[0].trace.marker.line.width)&&M.select(this).attr("shape-rendering","crispEdges")}),y.selectAll("g.points").each(function(f){o(M.select(this),f[0].trace,m)}),b.getComponentMethod("errorbars","style")(y)},styleTextPoints:l,styleOnSelect:function(m,y,v){var f,S,w,E,C,O,_=y[0].trace;_.selectedpoints?(f=v,S=_,w=m,a.selectedPointStyle(f.selectAll("path"),S),E=f.selectAll("text"),C=S,O=w,E.each(function(P){var R,j=M.select(this);if(P.selected){R=T.ensureUniformFontSize(O,u(j,P,C,O));var z=C.selected.textfont&&C.selected.textfont.color;z&&(R.color=z),a.font(j,R)}else a.selectedTextStyle(j,C)})):(o(v,_,m),b.getComponentMethod("errorbars","style")(v))},getInsideTextFont:c,getOutsideTextFont:x,getBarColor:h,resizeText:p}},98340:function(ee,D,e){"use strict";var M=e(7901),k=e(52075).hasColorscale,a=e(1586),T=e(71828).coercePattern;ee.exports=function(b,p,s,t,i){var n=s("marker.color",t),r=k(b,"marker");r&&a(b,p,i,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",M.defaultLine),k(b,"marker.line")&&a(b,p,i,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),T(s,"marker.pattern",n,r),s("selected.marker.color"),s("unselected.marker.color")}},72597:function(ee,D,e){"use strict";var M=e(39898),k=e(71828);function a(T){return"_"+T+"Text_minsize"}ee.exports={recordMinTextSize:function(T,b,p){if(p.uniformtext.mode){var s=a(T),t=p.uniformtext.minsize,i=b.scale*b.fontSize;b.hide=i<t,p[s]=p[s]||1/0,b.hide||(p[s]=Math.min(p[s],Math.max(i,t)))}},clearMinTextSize:function(T,b){b[a(T)]=void 0},resizeText:function(T,b,p){var s=T._fullLayout,t=s["_"+p+"Text_minsize"];if(t){var i,n="hide"===s.uniformtext.mode;switch(p){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":case"icicle":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}b.selectAll(i).each(function(r){var o=r.transform;if(o){o.scale=n&&o.hide?0:t/o.fontSize;var l=M.select(this).select("text");k.setTransormAndDisplay(l,o)}})}}}},55023:function(ee,D,e){"use strict";var M=e(5386).fF,k=e(1426).extendFlat,a=e(81245),T=e(1486);ee.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:k({},T.base,{}),offset:k({},T.offset,{}),width:k({},T.width,{}),text:k({},T.text,{}),hovertext:k({},T.hovertext,{}),marker:T.marker,hoverinfo:a.hoverinfo,hovertemplate:M(),selected:T.selected,unselected:T.unselected}},74692:function(ee,D,e){"use strict";var M=e(52075).hasColorscale,k=e(78803),a=e(71828).isArrayOrTypedArray,T=e(75341),b=e(11661).setGroupPositions,p=e(66279),s=e(73972).traceIs,t=e(71828).extendFlat;ee.exports={calc:function(i,n){for(var r=i._fullLayout,o=n.subplot,l=r[o].radialaxis,u=r[o].angularaxis,d=l.makeCalcdata(n,"r"),c=u.makeCalcdata(n,"theta"),x=n._length,g=new Array(x),h=d,m=c,y=0;y<x;y++)g[y]={p:m[y],s:h[y]};function v(_){var f=n[_];void 0!==f&&(n["_"+_]=a(f)?u.makeCalcdata(n,_):u.d2c(f,n.thetaunit))}return"linear"===u.type&&(v("width"),v("offset")),M(n,"marker")&&k(i,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),M(n,"marker.line")&&k(i,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),T(g,n),p(g,n),g},crossTraceCalc:function(i,n,r){for(var o=i.calcdata,l=[],u=0;u<o.length;u++){var d=o[u],c=d[0].trace;!0===c.visible&&s(c,"bar")&&c.subplot===r&&l.push(d)}var x=t({},n.radialaxis,{_id:"x"}),g=n.angularaxis;b(i,g,x,l,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}}},6135:function(ee,D,e){"use strict";var M=e(71828),k=e(22184).handleRThetaDefaults,a=e(98340),T=e(55023);ee.exports=function(b,p,s,t){function i(n,r){return M.coerce(b,p,T,n,r)}k(b,p,t,i)?(i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),a(b,p,i,s,t),M.coerceSelectionMarkerOpacity(p,i)):p.visible=!1}},27379:function(ee,D,e){"use strict";var M=e(30211),k=e(71828),a=e(95423).getTraceColor,T=k.fillText,b=e(59150).makeHoverPointText,p=e(10869).isPtInsidePolygon;ee.exports=function(s,t,i){var n=s.cd,r=n[0].trace,o=s.subplot,l=o.radialAxis,u=o.angularAxis,d=o.vangles,c=d?p:k.isPtInsideSector,x=s.maxHoverDistance,g=u._period||2*Math.PI,h=Math.abs(l.g2p(Math.sqrt(t*t+i*i))),m=Math.atan2(i,t);if(l.range[0]>l.range[1]&&(m+=Math.PI),M.getClosest(n,function(_){return c(h,m,[_.rp0,_.rp1],[_.thetag0,_.thetag1],d)?x+Math.min(1,Math.abs(_.thetag1-_.thetag0)/g)-1+(_.rp1-h)/(_.rp1-_.rp0)-1:1/0},s),!1!==s.index){var y=n[s.index];s.x0=s.x1=y.ct[0],s.y0=s.y1=y.ct[1];var v=k.extendFlat({},y,{r:y.s,theta:y.p});return T(y,r,s),b(v,r,o,s),s.hovertemplate=r.hovertemplate,s.color=a(r,y),s.xLabelVal=s.yLabelVal=void 0,y.s<0&&(s.idealAlign="left"),[s]}}},23381:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(ee){"use strict";ee.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(ee,D,e){"use strict";var M=e(71828),k=e(40151);ee.exports=function(a,T,b){var p,s={};function t(r,o){return M.coerce(a[p]||{},T[p],k,r,o)}for(var i=0;i<b.length;i++){var n=b[i];"barpolar"===n.type&&!0===n.visible&&(s[p=n.subplot]||(t("barmode"),t("bargap"),s[p]=1))}}},60173:function(ee,D,e){"use strict";var M=e(39898),k=e(92770),a=e(71828),T=e(91424),b=e(10869);ee.exports=function(p,s,t){var c,x,g,i=p._context.staticPlot,n=s.xaxis,r=s.yaxis,o=s.radialAxis,l=s.angularAxis,u=(x=(c=s).cxx,g=c.cyy,c.vangles?function(h,m,y,v){var _,f;a.angleDelta(y,v)>0?(_=y,f=v):(_=v,f=y);var S=[b.findEnclosingVertexAngles(_,c.vangles)[0],(_+f)/2,b.findEnclosingVertexAngles(f,c.vangles)[1]];return b.pathPolygonAnnulus(h,m,_,f,S,x,g)}:function(h,m,y,v){return a.pathAnnulus(h,m,y,v,x,g)}),d=s.layers.frontplot.select("g.barlayer");a.makeTraceGroups(d,t,"trace bars").each(function(){var c=M.select(this),x=a.ensureSingle(c,"g","points").selectAll("g.point").data(a.identity);x.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),x.exit().remove(),x.each(function(g){var h,m=M.select(this),y=g.rp0=o.c2p(g.s0),v=g.rp1=o.c2p(g.s1),_=g.thetag0=l.c2g(g.p0),f=g.thetag1=l.c2g(g.p1);if(k(y)&&k(v)&&k(_)&&k(f)&&y!==v&&_!==f){var S=o.c2g(g.s1),w=(_+f)/2;g.ct=[n.c2p(S*Math.cos(w)),r.c2p(S*Math.sin(w))],h=u(y,v,_,f)}else h="M0,0Z";a.ensureSingle(m,"path").attr("d",h)}),T.setClipUrl(c,s._hasClipOnAxisFalse?s.clipIds.forTraces:null,p)})}},53522:function(ee,D,e){"use strict";var M=e(82196),k=e(1486),a=e(22399),T=e(12663).axisHoverFormat,b=e(5386).fF,p=e(1426).extendFlat,s=M.marker,t=s.line;ee.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},s.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},s.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},s.angle,{arrayOk:!1,editType:"calc"}),size:p({},s.size,{arrayOk:!1,editType:"calc"}),color:p({},s.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:M.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:{marker:M.selected.marker,editType:"style"},unselected:{marker:M.unselected.marker,editType:"style"},text:p({},M.text,{}),hovertext:p({},M.hovertext,{}),hovertemplate:b({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(ee,D,e){"use strict";var M=e(92770),k=e(89298),a=e(42973),T=e(71828),b=e(50606).BADNUM,p=T._;ee.exports=function(c,x){var g,h,m,y,v,_,f,S=c._fullLayout,w=k.getFromId(c,x.xaxis||"x"),E=k.getFromId(c,x.yaxis||"y"),C=[],O="violin"===x.type?"_numViolins":"_numBoxes";"h"===x.orientation?(m=w,y="x",v=E,_="y",f=!!x.yperiodalignment):(m=E,y="y",v=w,_="x",f=!!x.xperiodalignment);var P,R,j,z,N,Y,F=function(De,ze,Ue,Ve){var Xe,at=ze+"0"in De;if(ze in De||at&&"d"+ze in De){var st=Ue.makeCalcdata(De,ze);return[a(De,Ue,ze,st).vals,st]}Xe=at?De[ze+"0"]:"name"in De&&("category"===Ue.type||M(De.name)&&-1!==["linear","log"].indexOf(Ue.type)||T.isDateTime(De.name)&&"date"===Ue.type)?De.name:Ve;for(var ht="multicategory"===Ue.type?Ue.r2c_just_indices(Xe):Ue.d2c(Xe,0,De[ze+"calendar"]),bt=De._length,vt=new Array(bt),Qe=0;Qe<bt;Qe++)vt[Qe]=ht;return[vt]}(x,_,v,S[O]),U=F[0],V=F[1],te=T.distinctVals(U,v),$=te.vals,X=te.minDiff/2,W="all"===(x.boxpoints||x.points)?T.identity:function(De){return De.v<P.lf||De.v>P.uf};if(x._hasPreCompStats){var J=x[y],Q=function(De){return m.d2c((x[De]||[])[g])},re=1/0,ae=-1/0;for(g=0;g<x._length;g++){var oe=U[g];if(M(oe)){if((P={}).pos=P[_]=oe,f&&V&&(P.orig_p=V[g]),P.q1=Q("q1"),P.med=Q("median"),P.q3=Q("q3"),R=[],J&&T.isArrayOrTypedArray(J[g]))for(h=0;h<J[g].length;h++)(Y=m.d2c(J[g][h]))!==b&&(t(N={v:Y,i:[g,h]},x,[g,h]),R.push(N));if(P.pts=R.sort(i),z=(j=P[y]=R.map(n)).length,P.med!==b&&P.q1!==b&&P.q3!==b&&P.med>=P.q1&&P.q3>=P.med){var ue=Q("lowerfence");P.lf=ue!==b&&ue<=P.q1?ue:r(P,j,z);var ve=Q("upperfence");P.uf=ve!==b&&ve>=P.q3?ve:o(P,j,z);var be=Q("mean");P.mean=be!==b?be:z?T.mean(j,z):(P.q1+P.q3)/2;var de=Q("sd");P.sd=be!==b&&de>=0?de:z?T.stdev(j,z,P.mean):P.q3-P.q1,P.lo=l(P),P.uo=u(P);var pe=Q("notchspan");pe=pe!==b&&pe>0?pe:d(P,z),P.ln=P.med-pe,P.un=P.med+pe;var ge=P.lf,Ae=P.uf;x.boxpoints&&j.length&&(ge=Math.min(ge,j[0]),Ae=Math.max(Ae,j[z-1])),x.notched&&(ge=Math.min(ge,P.ln),Ae=Math.max(Ae,P.un)),P.min=ge,P.max=Ae}else{var ye;T.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+P.q1,"median = "+P.med,"q3 = "+P.q3].join("\n")),ye=P.med!==b?P.med:P.q1!==b?P.q3!==b?(P.q1+P.q3)/2:P.q1:P.q3!==b?P.q3:0,P.med=ye,P.q1=P.q3=ye,P.lf=P.uf=ye,P.mean=P.sd=ye,P.ln=P.un=ye,P.min=P.max=ye}re=Math.min(re,P.min),ae=Math.max(ae,P.max),P.pts2=R.filter(W),C.push(P)}}x._extremes[m._id]=k.findExtremes(m,[re,ae],{padded:!0})}else{var we=m.makeCalcdata(x,y),se=function(De,ze){for(var Ue=De.length,Ve=new Array(Ue+1),Xe=0;Xe<Ue;Xe++)Ve[Xe]=De[Xe]-ze;return Ve[Ue]=De[Ue-1]+ze,Ve}($,X),ie=$.length,he=function(De){for(var ze=new Array(De),Ue=0;Ue<De;Ue++)ze[Ue]=[];return ze}(ie);for(g=0;g<x._length;g++)if(Y=we[g],M(Y)){var Se=T.findBin(U[g],se);Se>=0&&Se<ie&&(t(N={v:Y,i:g},x,g),he[Se].push(N))}var _e=1/0,Me=-1/0,Ee=x.quartilemethod,Ie="exclusive"===Ee,fe="inclusive"===Ee;for(g=0;g<ie;g++)if(he[g].length>0){var xe,Te;(P={}).pos=P[_]=$[g],R=P.pts=he[g].sort(i),z=(j=P[y]=R.map(n)).length,P.min=j[0],P.max=j[z-1],P.mean=T.mean(j,z),P.sd=T.stdev(j,z,P.mean)*x.sdmultiple,P.med=T.interp(j,.5),z%2&&(Ie||fe)?(Ie?(xe=j.slice(0,z/2),Te=j.slice(z/2+1)):fe&&(xe=j.slice(0,z/2+1),Te=j.slice(z/2)),P.q1=T.interp(xe,.5),P.q3=T.interp(Te,.5)):(P.q1=T.interp(j,.25),P.q3=T.interp(j,.75)),P.lf=r(P,j,z),P.uf=o(P,j,z),P.lo=l(P),P.uo=u(P);var Ce=d(P,z);P.ln=P.med-Ce,P.un=P.med+Ce,_e=Math.min(_e,P.ln),Me=Math.max(Me,P.un),P.pts2=R.filter(W),C.push(P)}x.notched&&T.isTypedArray(we)&&(we=Array.from(we)),x._extremes[m._id]=k.findExtremes(m,x.notched?we.concat([_e,Me]):we,{padded:!0})}return function(De,ze){if(T.isArrayOrTypedArray(ze.selectedpoints))for(var Ue=0;Ue<De.length;Ue++){for(var Ve=De[Ue].pts||[],Xe={},at=0;at<Ve.length;at++)Xe[Ve[at].i]=at;T.tagSelected(Ve,ze,Xe)}}(C,x),C.length>0?(C[0].t={num:S[O],dPos:X,posLetter:_,valLetter:y,labels:{med:p(c,"median:"),min:p(c,"min:"),q1:p(c,"q1:"),q3:p(c,"q3:"),max:p(c,"max:"),mean:"sd"===x.boxmean||"sd"===x.sizemode?p(c,"mean \xb1 \u03c3:").replace("\u03c3",1===x.sdmultiple?"\u03c3":x.sdmultiple+"\u03c3"):p(c,"mean:"),lf:p(c,"lower fence:"),uf:p(c,"upper fence:")}},S[O]++,C):[{t:{empty:!0}}]};var s={text:"tx",hovertext:"htx"};function t(c,x,g){for(var h in s)T.isArrayOrTypedArray(x[h])&&(Array.isArray(g)?T.isArrayOrTypedArray(x[h][g[0]])&&(c[s[h]]=x[h][g[0]][g[1]]):c[s[h]]=x[h][g])}function i(c,x){return c.v-x.v}function n(c){return c.v}function r(c,x,g){return 0===g?c.q1:Math.min(c.q1,x[Math.min(T.findBin(2.5*c.q1-1.5*c.q3,x,!0)+1,g-1)])}function o(c,x,g){return 0===g?c.q3:Math.max(c.q3,x[Math.max(T.findBin(2.5*c.q3-1.5*c.q1,x),0)])}function l(c){return 4*c.q1-3*c.q3}function u(c){return 4*c.q3-3*c.q1}function d(c,x){return 0===x?0:1.57*(c.q3-c.q1)/Math.sqrt(x)}},37188:function(ee,D,e){"use strict";var M=e(89298),k=e(71828),a=e(99082).getAxisGroup,T=["v","h"];function b(p,s,t,i){var n,r,o,l=s.calcdata,u=s._fullLayout,d=i._id,c=d.charAt(0),x=[],g=0;for(n=0;n<t.length;n++)for(o=l[t[n]],r=0;r<o.length;r++)x.push(i.c2l(o[r].pos,!0)),g+=(o[r].pts2||[]).length;if(x.length){var h=k.distinctVals(x);"category"!==i.type&&"multicategory"!==i.type||(h.minDiff=1);var m=h.minDiff/2;M.minDtick(i,h.minDiff,h.vals[0],!0);var y=u["violin"===p?"_numViolins":"_numBoxes"],v="group"===u[p+"mode"]&&y>1,_=1-u[p+"gap"],f=1-u[p+"groupgap"];for(n=0;n<t.length;n++){var S,w,E,C,O,P,R=(o=l[t[n]])[0].trace,j=o[0].t,z=R.width,N=R.side;if(z)S=w=C=z/2,E=0;else if(S=m,v){var Y=a(u,i._id)+R.orientation,F=(u._alignmentOpts[Y]||{})[R.alignmentgroup]||{},U=Object.keys(F.offsetGroups||{}).length,V=U||y;w=S*_*f/V,E=2*S*(((U?R._offsetIndex:j.num)+.5)/V-.5)*_,C=S*_/V}else w=S*_*f,E=0,C=S;j.dPos=S,j.bPos=E,j.bdPos=w,j.wHover=C;var te,$,X,W,J,Q,re=E+w,ae=Boolean(z);if("positive"===N?(O=S*(z?1:.5),te=re,P=te=E):"negative"===N?(O=te=E,P=S*(z?1:.5),$=re):(O=P=S,te=$=re),(R.boxpoints||R.points)&&g>0){var oe=R.pointpos,ue=R.jitter,ve=R.marker.size/2,be=0;oe+ue>=0&&((be=re*(oe+ue))>O?(ae=!0,J=ve,X=be):be>te&&(J=ve,X=O)),be<=O&&(X=O);var de=0;oe-ue<=0&&((de=-re*(oe-ue))>P?(ae=!0,Q=ve,W=de):de>$&&(Q=ve,W=P)),de<=P&&(W=P)}else X=O,W=P;var pe=new Array(o.length);for(r=0;r<o.length;r++)pe[r]=o[r].pos;R._extremes[d]=M.findExtremes(i,pe,{padded:ae,vpadminus:W,vpadplus:X,vpadLinearized:!0,ppadminus:{x:Q,y:J}[c],ppadplus:{x:J,y:Q}[c]})}}}ee.exports={crossTraceCalc:function(p,s){for(var t=p.calcdata,i=s.xaxis,n=s.yaxis,r=0;r<T.length;r++){for(var o=T[r],l="h"===o?n:i,u=[],d=0;d<t.length;d++){var c=t[d],x=c[0].t,g=c[0].trace;!0!==g.visible||"box"!==g.type&&"candlestick"!==g.type||x.empty||(g.orientation||"v")!==o||g.xaxis!==i._id||g.yaxis!==n._id||u.push(d)}b("box",p,u,l)}},setPositionOffset:b}},36411:function(ee,D,e){"use strict";var M=e(71828),k=e(73972),a=e(7901),T=e(73927),b=e(26125),p=e(4322),s=e(53522);function t(n,r,o,l){function u(N){var Y=0;return N&&N.length&&(Y+=1,M.isArrayOrTypedArray(N[0])&&N[0].length&&(Y+=1)),Y}function d(N){return M.validate(n[N],s[N])}var c,x=o("y"),g=o("x");if("box"===r.type){var h=o("q1"),m=o("median"),y=o("q3");r._hasPreCompStats=h&&h.length&&m&&m.length&&y&&y.length,c=Math.min(M.minRowLength(h),M.minRowLength(m),M.minRowLength(y))}var v,_,f=u(x),S=u(g),w=f&&M.minRowLength(x),E=S&&M.minRowLength(g),C=l.calendar,O={autotypenumbers:l.autotypenumbers};if(r._hasPreCompStats)switch(String(S)+String(f)){case"00":var P=d("x0")||d("dx");v=!d("y0")&&!d("dy")||P?"v":"h",_=c;break;case"10":v="v",_=Math.min(c,E);break;case"20":v="h",_=Math.min(c,g.length);break;case"01":v="h",_=Math.min(c,w);break;case"02":v="v",_=Math.min(c,x.length);break;case"12":v="v",_=Math.min(c,E,x.length);break;case"21":v="h",_=Math.min(c,g.length,w);break;case"11":_=0;break;case"22":var R,j=!1;for(R=0;R<g.length;R++)if("category"===p(g[R],C,O)){j=!0;break}if(j)v="v",_=Math.min(c,E,x.length);else{for(R=0;R<x.length;R++)if("category"===p(x[R],C,O)){j=!0;break}j?(v="h",_=Math.min(c,g.length,w)):(v="v",_=Math.min(c,E,x.length))}}else f>0?(v="v",_=S>0?Math.min(E,w):Math.min(w)):S>0?(v="h",_=Math.min(E)):_=0;if(_){r._length=_;var z=o("orientation",v);r._hasPreCompStats?"v"===z&&0===S?(o("x0",0),o("dx",1)):"h"===z&&0===f&&(o("y0",0),o("dy",1)):"v"===z&&0===S?o("x0"):"h"===z&&0===f&&o("y0"),k.getComponentMethod("calendars","handleTraceDefaults")(n,r,["x","y"],l)}else r.visible=!1}function i(n,r,o,l){var u=l.prefix,d=M.coerce2(n,r,s,"marker.outliercolor"),c=o("marker.line.outliercolor"),x="outliers";r._hasPreCompStats?x="all":(d||c)&&(x="suspectedoutliers");var g=o(u+"points",x);g?(o("jitter","all"===g?.3:0),o("pointpos","all"===g?-1.5:0),o("marker.symbol"),o("marker.opacity"),o("marker.size"),o("marker.angle"),o("marker.color",r.line.color),o("marker.line.color"),o("marker.line.width"),"suspectedoutliers"===g&&(o("marker.line.outliercolor",r.marker.color),o("marker.line.outlierwidth")),o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size"),o("text"),o("hovertext")):delete r.marker;var h=o("hoveron");"all"!==h&&-1===h.indexOf("points")||o("hovertemplate"),M.coerceSelectionMarkerOpacity(r,o)}ee.exports={supplyDefaults:function(n,r,o,l){function u(_,f){return M.coerce(n,r,s,_,f)}if(t(n,r,u,l),!1!==r.visible){T(n,r,l,u),u("xhoverformat"),u("yhoverformat");var d=r._hasPreCompStats;d&&(u("lowerfence"),u("upperfence")),u("line.color",(n.marker||{}).color||o),u("line.width"),u("fillcolor",a.addOpacity(r.line.color,.5));var c=!1;if(d){var x=u("mean"),g=u("sd");x&&x.length&&(c=!0,g&&g.length&&(c="sd"))}u("whiskerwidth");var h,m=u("sizemode");"quartiles"===m&&(h=u("boxmean",c)),u("showwhiskers","quartiles"===m),"sd"!==m&&"sd"!==h||u("sdmultiple"),u("width"),u("quartilemethod");var y=!1;if(d){var v=u("notchspan");v&&v.length&&(y=!0)}else M.validate(n.notchwidth,s.notchwidth)&&(y=!0);u("notched",y)&&u("notchwidth"),i(n,r,u,{prefix:"box"})}},crossTraceDefaults:function(n,r){var o,l;function u(x){return M.coerce(l._input,l,s,x)}for(var d=0;d<n.length;d++){var c=(l=n[d]).type;"box"!==c&&"violin"!==c||(o=l._input,"group"===r[c+"mode"]&&b(o,l,r,u))}},handleSampleDefaults:t,handlePointsDefaults:i}},74907:function(ee){"use strict";ee.exports=function(D,e){return e.hoverOnBox&&(D.hoverOnBox=e.hoverOnBox),"xVal"in e&&(D.x=e.xVal),"yVal"in e&&(D.y=e.yVal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D}},41868:function(ee,D,e){"use strict";var M=e(89298),k=e(71828),a=e(30211),T=e(7901),b=k.fillText;function p(t,i,n,r){var o,l,u,d,c,x,g,h,m,y,v,_,f,S,w=t.cd,E=t.xa,C=t.ya,O=w[0].trace,P=w[0].t,R="violin"===O.type,j=P.bdPos,z=P.wHover,N=function(ye){return u.c2l(ye.pos)+P.bPos-u.c2l(x)};R&&"both"!==O.side?("positive"===O.side&&(m=function(ye){var we=N(ye);return a.inbox(we,we+z,y)},_=j,f=0),"negative"===O.side&&(m=function(ye){var we=N(ye);return a.inbox(we-z,we,y)},_=0,f=j)):(m=function(ye){var we=N(ye);return a.inbox(we-z,we+z,y)},_=f=j),S=R?function(ye){return a.inbox(ye.span[0]-c,ye.span[1]-c,y)}:function(ye){return a.inbox(ye.min-c,ye.max-c,y)},"h"===O.orientation?(c=i,x=n,g=S,h=m,o="y",u=C,l="x",d=E):(c=n,x=i,g=m,h=S,o="x",u=E,l="y",d=C);var Y=Math.min(1,j/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function F(ye){return(g(ye)+h(ye))/2}y=t.maxHoverDistance-Y,v=t.maxSpikeDistance-Y;var U=a.getDistanceFunction(r,g,h,F);if(a.getClosest(w,U,t),!1===t.index)return[];var V=w[t.index],te=O.line.color,$=(O.marker||{}).color;T.opacity(te)&&O.line.width?t.color=te:T.opacity($)&&O.boxpoints?t.color=$:t.color=O.fillcolor,t[o+"0"]=u.c2p(V.pos+P.bPos-f,!0),t[o+"1"]=u.c2p(V.pos+P.bPos+_,!0),t[o+"LabelVal"]=void 0!==V.orig_p?V.orig_p:V.pos;var X=o+"Spike";t.spikeDistance=F(V)*v/y,t[X]=u.c2p(V.pos,!0);var W=O.boxmean||"sd"===O.sizemode||(O.meanline||{}).visible,J=O.boxpoints||O.points,Q=J&&W?["max","uf","q3","med","mean","q1","lf","min"]:J&&!W?["max","uf","q3","med","q1","lf","min"]:!J&&W?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],re=d.range[1]<d.range[0];O.orientation===(re?"v":"h")&&Q.reverse();for(var ae=t.spikeDistance,oe=t[X],ue=[],ve=0;ve<Q.length;ve++){var be=Q[ve];if(be in V){var de=V[be],pe=d.c2p(de,!0),ge=k.extendFlat({},t);ge.attr=be,ge[l+"0"]=ge[l+"1"]=pe,ge[l+"LabelVal"]=de,ge[l+"Label"]=(P.labels?P.labels[be]+" ":"")+M.hoverLabelText(d,de,O[l+"hoverformat"]),ge.hoverOnBox=!0,"mean"!==be||!("sd"in V)||"sd"!==O.boxmean&&"sd"!==O.sizemode||(ge[l+"err"]=V.sd),ge.hovertemplate=!1,ue.push(ge)}}t.name="",t.spikeDistance=void 0,t[X]=void 0;for(var Ae=0;Ae<ue.length;Ae++)"med"!==ue[Ae].attr?(ue[Ae].name="",ue[Ae].spikeDistance=void 0,ue[Ae][X]=void 0):(ue[Ae].spikeDistance=ae,ue[Ae][X]=oe);return ue}function s(t,i,n){for(var r,o,l,u=t.cd,d=t.xa,c=t.ya,x=u[0].trace,g=d.c2p(i),h=c.c2p(n),m=a.quadrature(function(R){var j=Math.max(3,R.mrc||0);return Math.max(Math.abs(d.c2p(R.x)-g)-j,1-3/j)},function(R){var j=Math.max(3,R.mrc||0);return Math.max(Math.abs(c.c2p(R.y)-h)-j,1-3/j)}),y=!1,v=0;v<u.length;v++){o=u[v];for(var _=0;_<(o.pts||[]).length;_++){var f=m(l=o.pts[_]);f<=t.distance&&(t.distance=f,y=[v,_])}}if(!y)return!1;l=(o=u[y[0]]).pts[y[1]];var S=d.c2p(l.x,!0),w=c.c2p(l.y,!0),E=l.mrc||1;r=k.extendFlat({},t,{index:l.i,color:(x.marker||{}).color,name:x.name,x0:S-E,x1:S+E,y0:w-E,y1:w+E,spikeDistance:t.distance,hovertemplate:x.hovertemplate});var C,O=o.orig_p,P=void 0!==O?O:o.pos;return"h"===x.orientation?(C=c,r.xLabelVal=l.x,r.yLabelVal=P):(C=d,r.xLabelVal=P,r.yLabelVal=l.y),r[C._id.charAt(0)+"Spike"]=C.c2p(o.pos,!0),b(l,x,r),r}ee.exports={hoverPoints:function(t,i,n,r){var o,l=t.cd[0].trace.hoveron,u=[];return-1!==l.indexOf("boxes")&&(u=u.concat(p(t,i,n,r))),-1!==l.indexOf("points")&&(o=s(t,i,n)),"closest"===r?o?[o]:u:(o&&u.push(o),u)},hoverOnBoxes:p,hoverOnPoints:s}},83832:function(ee,D,e){"use strict";ee.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(ee){"use strict";ee.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=e(40094);function T(b,p,s,t,i){for(var n=i+"Layout",r=!1,o=0;o<s.length;o++){var l=s[o];if(M.traceIs(l,n)){r=!0;break}}r&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}ee.exports={supplyLayoutDefaults:function(b,p,s){T(0,0,s,function(t,i){return k.coerce(b,p,a,t,i)},"box")},_supply:T}},86047:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(91424);function T(s,t,i,n,r){var o,l,u="h"===i.orientation,d=t.val,c=t.pos,x=!!c.rangebreaks,g=n.bPos,h=n.wdPos||0,m=n.bPosPxOffset||0,y=i.whiskerwidth||0,v=!1!==i.showwhiskers,_=i.notched||!1,f=_?1-2*i.notchwidth:1;Array.isArray(n.bdPos)?(o=n.bdPos[0],l=n.bdPos[1]):(o=n.bdPos,l=n.bdPos);var S=s.selectAll("path.box").data("violin"!==i.type||i.box.visible?k.identity:[]);S.enter().append("path").style("vector-effect",r?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(w){if(w.empty)return M.select(this).attr("d","M0,0Z");var E=c.c2l(w.pos+g,!0),C=c.l2p(E-o)+m,O=c.l2p(E+l)+m,P=x?(C+O)/2:c.l2p(E)+m,R=i.whiskerwidth,j=x?C*R+(1-R)*P:c.l2p(E-h)+m,z=x?O*R+(1-R)*P:c.l2p(E+h)+m,N=c.l2p(E-o*f)+m,Y=c.l2p(E+l*f)+m,F="sd"===i.sizemode,U=d.c2p(F?w.mean-w.sd:w.q1,!0),V=F?d.c2p(w.mean+w.sd,!0):d.c2p(w.q3,!0),te=k.constrain(F?d.c2p(w.mean,!0):d.c2p(w.med,!0),Math.min(U,V)+1,Math.max(U,V)-1),$=void 0===w.lf||!1===i.boxpoints||F,X=d.c2p($?w.min:w.lf,!0),W=d.c2p($?w.max:w.uf,!0),J=d.c2p(w.ln,!0),Q=d.c2p(w.un,!0);u?M.select(this).attr("d","M"+te+","+N+"V"+Y+"M"+U+","+C+"V"+O+(_?"H"+J+"L"+te+","+Y+"L"+Q+","+O:"")+"H"+V+"V"+C+(_?"H"+Q+"L"+te+","+N+"L"+J+","+C:"")+"Z"+(v?"M"+U+","+P+"H"+X+"M"+V+","+P+"H"+W+(0===y?"":"M"+X+","+j+"V"+z+"M"+W+","+j+"V"+z):"")):M.select(this).attr("d","M"+N+","+te+"H"+Y+"M"+C+","+U+"H"+O+(_?"V"+J+"L"+Y+","+te+"L"+O+","+Q:"")+"V"+V+"H"+C+(_?"V"+Q+"L"+N+","+te+"L"+C+","+J:"")+"Z"+(v?"M"+P+","+U+"V"+X+"M"+P+","+V+"V"+W+(0===y?"":"M"+j+","+X+"H"+z+"M"+j+","+W+"H"+z):""))})}function b(s,t,i,n){var r=t.x,o=t.y,l=n.bdPos,u=n.bPos,d=i.boxpoints||i.points;k.seedPseudoRandom();var c=s.selectAll("g.points").data(d?function(g){return g.forEach(function(h){h.t=n,h.trace=i}),g}:[]);c.enter().append("g").attr("class","points"),c.exit().remove();var x=c.selectAll("path").data(function(g){var h,m,y=g.pts2,v=Math.max((g.max-g.min)/10,g.q3-g.q1),_=1e-9*v,f=.01*v,S=[],w=0;if(i.jitter){if(0===v)for(w=1,S=new Array(y.length),h=0;h<y.length;h++)S[h]=1;else for(h=0;h<y.length;h++){var E=Math.max(0,h-5),C=y[E].v,O=Math.min(y.length-1,h+5),P=y[O].v;"all"!==d&&(y[h].v<g.lf?P=Math.min(P,g.lf):C=Math.max(C,g.uf));var R=Math.sqrt(f*(O-E)/(P-C+_))||0;R=k.constrain(Math.abs(R),0,1),S.push(R),w=Math.max(R,w)}m=2*i.jitter/(w||1)}for(h=0;h<y.length;h++){var j=y[h],z=j.v,N=i.jitter?m*S[h]*(k.pseudoRandom()-.5):0,Y=g.pos+u+l*(i.pointpos+N);"h"===i.orientation?(j.y=Y,j.x=z):(j.x=Y,j.y=z),"suspectedoutliers"===d&&z<g.uo&&z>g.lo&&(j.so=!0)}return y});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(a.translatePoints,r,o)}function p(s,t,i,n){var r,o,l=t.val,u=t.pos,d=!!u.rangebreaks,c=n.bPos,x=n.bPosPxOffset||0,g=i.boxmean||(i.meanline||{}).visible;Array.isArray(n.bdPos)?(r=n.bdPos[0],o=n.bdPos[1]):(r=n.bdPos,o=n.bdPos);var h=s.selectAll("path.mean").data("box"===i.type&&i.boxmean||"violin"===i.type&&i.box.visible&&i.meanline.visible?k.identity:[]);h.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),h.exit().remove(),h.each(function(m){var y=u.c2l(m.pos+c,!0),v=u.l2p(y-r)+x,_=u.l2p(y+o)+x,f=d?(v+_)/2:u.l2p(y)+x,S=l.c2p(m.mean,!0),w=l.c2p(m.mean-m.sd,!0),E=l.c2p(m.mean+m.sd,!0);"h"===i.orientation?M.select(this).attr("d","M"+S+","+v+"V"+_+("sd"===g?"m0,0L"+w+","+f+"L"+S+","+v+"L"+E+","+f+"Z":"")):M.select(this).attr("d","M"+v+","+S+"H"+_+("sd"===g?"m0,0L"+f+","+w+"L"+v+","+S+"L"+f+","+E+"Z":""))})}ee.exports={plot:function(s,t,i,n){var r=s._context.staticPlot,o=t.xaxis,l=t.yaxis;k.makeTraceGroups(n,i,"trace boxes").each(function(u){var d,c,x=M.select(this),g=u[0],h=g.t,m=g.trace;h.wdPos=h.bdPos*m.whiskerwidth,!0!==m.visible||h.empty?x.remove():("h"===m.orientation?(d=l,c=o):(d=o,c=l),T(x,{pos:d,val:c},m,h,r),b(x,{x:o,y:l},m,h),p(x,{pos:d,val:c},m,h))})},plotBoxAndWhiskers:T,plotPoints:b,plotBoxMean:p}},24626:function(ee){"use strict";ee.exports=function(D,e){var M,k,a=D.cd,T=D.xaxis,b=D.yaxis,p=[];if(!1===e)for(M=0;M<a.length;M++)for(k=0;k<(a[M].pts||[]).length;k++)a[M].pts[k].selected=0;else for(M=0;M<a.length;M++)for(k=0;k<(a[M].pts||[]).length;k++){var s=a[M].pts[k],t=T.c2p(s.x),i=b.c2p(s.y);e.contains([t,i],null,s.i,D)?(p.push({pointNumber:s.i,x:T.c2d(s.x),y:b.c2d(s.y)}),s.selected=1):s.selected=0}return p}},58063:function(ee,D,e){"use strict";var M=e(39898),k=e(7901),a=e(91424);ee.exports={style:function(T,b,p){var s=p||M.select(T).selectAll("g.trace.boxes");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var i=M.select(this),n=t[0].trace,r=n.line.width;function o(d,c,x,g){d.style("stroke-width",c+"px").call(k.stroke,x).call(k.fill,g)}var l=i.selectAll("path.box");if("candlestick"===n.type)l.each(function(d){if(!d.empty){var c=M.select(this),x=n[d.dir];o(c,x.line.width,x.line.color,x.fillcolor),c.style("opacity",n.selectedpoints&&!d.selected?.3:1)}});else{o(l,r,n.line.color,n.fillcolor),i.selectAll("path.mean").style({"stroke-width":r,"stroke-dasharray":2*r+"px,"+r+"px"}).call(k.stroke,n.line.color);var u=i.selectAll("path.point");a.pointStyle(u,n,T)}})},styleOnSelect:function(T,b,p){var s=b[0].trace,t=p.selectAll("path.point");s.selectedpoints?a.selectedPointStyle(t,s):a.pointStyle(t,s,T)}}},75343:function(ee,D,e){"use strict";var M=e(71828).extendFlat,k=e(12663).axisHoverFormat,a=e(2522),T=e(53522);function b(p){return{line:{color:M({},T.line.color,{dflt:p}),width:T.line.width,editType:"style"},fillcolor:T.fillcolor,editType:"style"}}ee.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:M({},T.line.width,{}),editType:"style"},increasing:b(a.increasing.line.color.dflt),decreasing:b(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:M({},T.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},41197:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(42973),T=e(3485).calcCommon;function b(p,s,t,i){return{min:t,q1:Math.min(p,i),med:i,q3:Math.max(p,i),max:s}}ee.exports=function(p,s){var t=p._fullLayout,i=k.getFromId(p,s.xaxis),n=k.getFromId(p,s.yaxis),r=i.makeCalcdata(s,"x"),o=a(s,i,"x",r).vals,l=T(p,s,r,o,n,b);return l.length?(M.extendFlat(l[0].t,{num:t._numBoxes,dPos:M.distinctVals(o).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,l):[{t:{empty:!0}}]}},1026:function(ee,D,e){"use strict";var M=e(71828),k=e(7901),a=e(14555),T=e(73927),b=e(75343);function p(s,t,i,n){var r=i(n+".line.color");i(n+".line.width",t.line.width),i(n+".fillcolor",k.addOpacity(r,.5))}ee.exports=function(s,t,i,n){function r(o,l){return M.coerce(s,t,b,o,l)}a(s,t,r,n)?(T(s,t,n,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),p(0,t,r,"increasing"),p(0,t,r,"decreasing"),r("text"),r("hovertext"),r("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0):t.visible=!1}},91815:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(ee,D,e){"use strict";var M=e(11500),k=e(44467);ee.exports=function(a,T,b,p,s){var t,i,n,r;p("a")||(p("da"),p("a0")),p("b")||(p("db"),p("b0")),t=a,i=T,n=b,r=s,["aaxis","baxis"].forEach(function(o){var l=o.charAt(0),u=t[o]||{},d=k.newContainer(i,o),c={noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:i.font,name:o,data:t[l],calendar:i.calendar,dfltColor:r,bgColor:n.paper_bgcolor,autotypenumbersDflt:n.autotypenumbers,fullLayout:n};M(u,d,c),d._categories=d._categories||[],t[o]||"-"===u.type||(t[o]={type:u.type})})}},402:function(ee,D,e){"use strict";var M=e(71828).isArrayOrTypedArray;function k(a,T){if(!M(a)||T>=10)return null;for(var b=1/0,p=-1/0,s=a.length,t=0;t<s;t++){var i=a[t];if(M(i)){var n=k(i,T+1);n&&(b=Math.min(n[0],b),p=Math.max(n[1],p))}else b=Math.min(i,b),p=Math.max(i,p)}return[b,p]}ee.exports=function(a){return k(a,0)}},99798:function(ee,D,e){"use strict";var M=e(41940),k=e(1928),a=e(22399),T=M({editType:"calc"});T.family.dflt='"Open Sans", verdana, arial, sans-serif',T.size.dflt=12,T.color.dflt=a.defaultLine,ee.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:k,baxis:k,font:T,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},4536:function(ee,D,e){"use strict";var M=e(71828).isArrayOrTypedArray;ee.exports=function(k,a,T,b){var p,s,t,i,n,r,o,l,u,d,c,x,g,h=M(T)?"a":"b",m=("a"===h?k.aaxis:k.baxis).smoothing,y="a"===h?k.a2i:k.b2j,v="a"===h?T:b,_="a"===h?b:T,f="a"===h?a.a.length:a.b.length,S="a"===h?a.b.length:a.a.length,w=Math.floor("a"===h?k.b2j(_):k.a2i(_)),E="a"===h?function(te){return k.evalxy([],te,w)}:function(te){return k.evalxy([],w,te)};m&&(t=Math.max(0,Math.min(S-2,w)),i=w-t,s="a"===h?function(te,$){return k.dxydi([],te,t,$,i)}:function(te,$){return k.dxydj([],t,te,i,$)});var C=y(v[0]),O=y(v[1]),P=C<O?1:-1,R=1e-8*(O-C),j=P>0?Math.floor:Math.ceil,z=P>0?Math.ceil:Math.floor,N=P>0?Math.min:Math.max,Y=P>0?Math.max:Math.min,F=j(C+R),U=z(O-R),V=[[o=E(C)]];for(p=F;p*P<U*P;p+=P)n=[],c=Y(C,p),g=(x=N(O,p+P))-c,r=Math.max(0,Math.min(f-2,Math.floor(.5*(c+x)))),l=E(x),m&&(u=s(r,c-r),d=s(r,x-r),n.push([o[0]+u[0]/3*g,o[1]+u[1]/3*g]),n.push([l[0]-d[0]/3*g,l[1]-d[1]/3*g])),n.push(l),V.push(n),o=l;return V}},1928:function(ee,D,e){"use strict";var M=e(41940),k=e(22399),a=e(13838),T=e(12663).descriptionWithDates,b=e(30962).overrideAll,p=e(79952).P,s=e(1426).extendFlat;ee.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:M({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:s({},a.labelalias,{editType:"calc"}),tickfont:M({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:T("tick label")},tickformatstops:b(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:s({},p,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:s({},p,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:k.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:M({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(ee,D,e){"use strict";var M=e(99798),k=e(7901).addOpacity,a=e(73972),T=e(71828),b=e(26218),p=e(96115),s=e(89426),t=e(15258),i=e(21994),n=e(4322);ee.exports=function(r,o,l){var u=l.letter,d=l.font||{},c=M[u+"axis"];function x(P,R){return T.coerce(r,o,c,P,R)}function g(P,R){return T.coerce2(r,o,c,P,R)}l.name&&(o._name=l.name,o._id=l.name),x("autotypenumbers",l.autotypenumbersDflt);var h=x("type");"-"===h&&(l.data&&function(P,R){if("-"===P.type){var j=P._id.charAt(0),z=P[j+"calendar"];P.type=n(R,z,{autotypenumbers:P.autotypenumbers})}}(o,l.data),"-"===o.type?o.type="linear":h=r.type=o.type),x("smoothing"),x("cheatertype"),x("showticklabels"),x("labelprefix",u+" = "),x("labelsuffix"),x("showtickprefix"),x("showticksuffix"),x("separatethousands"),x("tickformat"),x("exponentformat"),x("minexponent"),x("showexponent"),x("categoryorder"),x("tickmode"),x("tickvals"),x("ticktext"),x("tick0"),x("dtick"),"array"===o.tickmode&&(x("arraytick0"),x("arraydtick")),x("labelpadding"),o._hovertitle=u,"date"===h&&a.getComponentMethod("calendars","handleDefaults")(r,o,"calendar",l.calendar),i(o,l.fullLayout),o.c2p=T.identity;var m=x("color",l.dfltColor),y=m===r.color?m:d.color;x("title.text")&&(T.coerceFont(x,"title.font",{family:d.family,size:T.bigFont(d.size),color:y}),x("title.offset")),x("tickangle"),x("autorange",!o.isValidRange(r.range))&&x("rangemode"),x("range"),o.cleanRange(),x("fixedrange"),b(r,o,x,h),s(r,o,x,h,l),p(r,o,x,h,l),t(r,o,x,{data:l.data,dataAttr:u});var v=g("gridcolor",k(m,.3)),_=g("gridwidth"),f=g("griddash"),S=x("showgrid");S||(delete o.gridcolor,delete o.gridwidth,delete o.griddash);var w=g("startlinecolor",m),E=g("startlinewidth",_);x("startline",o.showgrid||!!w||!!E)||(delete o.startlinecolor,delete o.startlinewidth);var C=g("endlinecolor",m),O=g("endlinewidth",_);return x("endline",o.showgrid||!!C||!!O)||(delete o.endlinecolor,delete o.endlinewidth),S?(x("minorgridcount"),x("minorgridwidth",_),x("minorgriddash",f),x("minorgridcolor",k(v,.06)),o.minorgridcount||(delete o.minorgridwidth,delete o.minorgriddash,delete o.minorgridcolor)):(delete o.gridcolor,delete o.gridwidth,delete o.griddash),"none"===o.showticklabels&&(delete o.tickfont,delete o.tickangle,delete o.showexponent,delete o.exponentformat,delete o.minexponent,delete o.tickformat,delete o.showticksuffix,delete o.showtickprefix),o.showticksuffix||delete o.ticksuffix,o.showtickprefix||delete o.tickprefix,x("tickmode"),o}},25281:function(ee,D,e){"use strict";var M=e(89298),k=e(71828).isArray1D,a=e(53824),T=e(402),b=e(20347),p=e(83311),s=e(44807),t=e(4742),i=e(72505),n=e(68296),r=e(11435);ee.exports=function(o,l){var u=M.getFromId(o,l.xaxis),d=M.getFromId(o,l.yaxis),c=l.aaxis,x=l.baxis,g=l.x,h=l.y,m=[];g&&k(g)&&m.push("x"),h&&k(h)&&m.push("y"),m.length&&n(l,c,x,"a","b",m);var y=l._a=l._a||l.a,v=l._b=l._b||l.b;g=l._x||l.x,h=l._y||l.y;var _={};if(l._cheater){var f="index"===c.cheatertype?y.length:y,S="index"===x.cheatertype?v.length:v;g=a(f,S,l.cheaterslope)}l._x=g=t(g),l._y=h=t(h),i(g,y,v),i(h,y,v),r(l),l.setScale();var w=T(g),E=T(h),C=.5*(w[1]-w[0]),O=.5*(w[1]+w[0]),P=.5*(E[1]-E[0]),R=.5*(E[1]+E[0]),j=1.3;return w=[O-C*j,O+C*j],E=[R-P*j,R+P*j],l._extremes[u._id]=M.findExtremes(u,w,{padded:!0}),l._extremes[d._id]=M.findExtremes(d,E,{padded:!0}),b(l,"a","b"),b(l,"b","a"),p(l,c),p(l,x),_.clipsegments=s(l._xctrl,l._yctrl,c,x),_.x=g,_.y=h,_.a=y,_.b=v,[_]}},44807:function(ee){"use strict";ee.exports=function(D,e,M,k){var a,T,b,p=[],s=!!M.smoothing,t=!!k.smoothing,i=D[0].length-1,n=D.length-1;for(a=0,T=[],b=[];a<=i;a++)T[a]=D[0][a],b[a]=e[0][a];for(p.push({x:T,y:b,bicubic:s}),a=0,T=[],b=[];a<=n;a++)T[a]=D[a][i],b[a]=e[a][i];for(p.push({x:T,y:b,bicubic:t}),a=i,T=[],b=[];a>=0;a--)T[i-a]=D[n][a],b[i-a]=e[n][a];for(p.push({x:T,y:b,bicubic:s}),a=n,T=[],b=[];a>=0;a--)T[n-a]=D[a][0],b[n-a]=e[a][0];return p.push({x:T,y:b,bicubic:t}),p}},20347:function(ee,D,e){"use strict";var M=e(89298),k=e(1426).extendFlat;ee.exports=function(a,T,b){var p,s,t,i,n,r,o,l,u,d,c,x,g,h,m=a["_"+T],y=a[T+"axis"],v=y._gridlines=[],_=y._minorgridlines=[],f=y._boundarylines=[],S=a["_"+b],w=a[b+"axis"];"array"===y.tickmode&&(y.tickvals=m.slice());var E=a._xctrl,C=a._yctrl,O=E[0].length,P=E.length,R=a._a.length,j=a._b.length;M.prepTicks(y),"array"===y.tickmode&&delete y.tickvals;var z=y.smoothing?3:1;function N(F){var U,V,te,$,X,W,J,Q,re,ae,oe,ue,ve=[],be=[],de={};if("b"===T)for(V=a.b2j(F),te=Math.floor(Math.max(0,Math.min(j-2,V))),$=V-te,de.length=j,de.crossLength=R,de.xy=function(pe){return a.evalxy([],pe,V)},de.dxy=function(pe,ge){return a.dxydi([],pe,te,ge,$)},U=0;U<R;U++)W=Math.min(R-2,U),J=U-W,Q=a.evalxy([],U,V),w.smoothing&&U>0&&(re=a.dxydi([],U-1,te,0,$),ve.push(X[0]+re[0]/3),be.push(X[1]+re[1]/3),ae=a.dxydi([],U-1,te,1,$),ve.push(Q[0]-ae[0]/3),be.push(Q[1]-ae[1]/3)),ve.push(Q[0]),be.push(Q[1]),X=Q;else for(U=a.a2i(F),W=Math.floor(Math.max(0,Math.min(R-2,U))),J=U-W,de.length=R,de.crossLength=j,de.xy=function(pe){return a.evalxy([],U,pe)},de.dxy=function(pe,ge){return a.dxydj([],W,pe,J,ge)},V=0;V<j;V++)te=Math.min(j-2,V),$=V-te,Q=a.evalxy([],U,V),w.smoothing&&V>0&&(oe=a.dxydj([],W,V-1,J,0),ve.push(X[0]+oe[0]/3),be.push(X[1]+oe[1]/3),ue=a.dxydj([],W,V-1,J,1),ve.push(Q[0]-ue[0]/3),be.push(Q[1]-ue[1]/3)),ve.push(Q[0]),be.push(Q[1]),X=Q;return de.axisLetter=T,de.axis=y,de.crossAxis=w,de.value=F,de.constvar=b,de.index=l,de.x=ve,de.y=be,de.smoothing=w.smoothing,de}function Y(F){var U,V,te,$,X,W=[],J=[],Q={};if(Q.length=m.length,Q.crossLength=S.length,"b"===T)for(te=Math.max(0,Math.min(j-2,F)),X=Math.min(1,Math.max(0,F-te)),Q.xy=function(re){return a.evalxy([],re,F)},Q.dxy=function(re,ae){return a.dxydi([],re,te,ae,X)},U=0;U<O;U++)W[U]=E[F*z][U],J[U]=C[F*z][U];else for(V=Math.max(0,Math.min(R-2,F)),$=Math.min(1,Math.max(0,F-V)),Q.xy=function(re){return a.evalxy([],F,re)},Q.dxy=function(re,ae){return a.dxydj([],V,re,$,ae)},U=0;U<P;U++)W[U]=E[U][F*z],J[U]=C[U][F*z];return Q.axisLetter=T,Q.axis=y,Q.crossAxis=w,Q.value=m[F],Q.constvar=b,Q.index=F,Q.x=W,Q.y=J,Q.smoothing=w.smoothing,Q}if("array"===y.tickmode){for(i=5e-15,r=(n=[Math.floor((m.length-1-y.arraytick0)/y.arraydtick*(1+i)),Math.ceil(-y.arraytick0/y.arraydtick/(1+i))].sort(function(F,U){return F-U}))[0]-1,o=n[1]+1,l=r;l<o;l++)(s=y.arraytick0+y.arraydtick*l)<0||s>m.length-1||v.push(k(Y(s),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(l=r;l<o;l++)if(t=y.arraytick0+y.arraydtick*l,c=Math.min(t+y.arraydtick,m.length-1),!(t<0||t>m.length-1||c<0||c>m.length-1))for(x=m[t],g=m[c],p=0;p<y.minorgridcount;p++)(h=c-t)<=0||(d=x+(g-x)*(p+1)/(y.minorgridcount+1)*(y.arraydtick/h))<m[0]||d>m[m.length-1]||_.push(k(N(d),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&f.push(k(Y(0),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&f.push(k(Y(m.length-1),{color:y.endlinecolor,width:y.endlinewidth}))}else{for(i=5e-15,r=(n=[Math.floor((m[m.length-1]-y.tick0)/y.dtick*(1+i)),Math.ceil((m[0]-y.tick0)/y.dtick/(1+i))].sort(function(F,U){return F-U}))[0],o=n[1],l=r;l<=o;l++)u=y.tick0+y.dtick*l,v.push(k(N(u),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(l=r-1;l<o+1;l++)for(u=y.tick0+y.dtick*l,p=0;p<y.minorgridcount;p++)(d=u+y.dtick*(p+1)/(y.minorgridcount+1))<m[0]||d>m[m.length-1]||_.push(k(N(d),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&f.push(k(N(m[0]),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&f.push(k(N(m[m.length-1]),{color:y.endlinecolor,width:y.endlinewidth}))}}},83311:function(ee,D,e){"use strict";var M=e(89298),k=e(1426).extendFlat;ee.exports=function(a,T){var b,p,s,t=T._labels=[],i=T._gridlines;for(b=0;b<i.length;b++)s=i[b],-1!==["start","both"].indexOf(T.showticklabels)&&(p=M.tickText(T,s.value),k(p,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:0===b,isLast:b===i.length-1}),t.push(p)),-1!==["end","both"].indexOf(T.showticklabels)&&(p=M.tickText(T,s.value),k(p,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:0===b,isLast:b===i.length-1}),t.push(p))}},42048:function(ee){"use strict";ee.exports=function(D,e,M,k){var a=D[0]-e[0],T=D[1]-e[1],b=M[0]-e[0],p=M[1]-e[1],s=Math.pow(a*a+T*T,.25),t=Math.pow(b*b+p*p,.25),i=(t*t*a-s*s*b)*k,n=(t*t*T-s*s*p)*k,r=t*(s+t)*3,o=s*(s+t)*3;return[[e[0]+(r&&i/r),e[1]+(r&&n/r)],[e[0]-(o&&i/o),e[1]-(o&&n/o)]]}},53824:function(ee,D,e){"use strict";var M=e(71828).isArrayOrTypedArray;ee.exports=function(k,a,T){var b,p,s,t,i,n,r=[],o=M(k)?k.length:k,l=M(a)?a.length:a,u=M(k)?k:null,d=M(a)?a:null;u&&(s=(u.length-1)/(u[u.length-1]-u[0])/(o-1)),d&&(t=(d.length-1)/(d[d.length-1]-d[0])/(l-1));var c=1/0,x=-1/0;for(p=0;p<l;p++)for(r[p]=[],i=d?(d[p]-d[0])*t:p/(l-1),b=0;b<o;b++)n=(u?(u[b]-u[0])*s:b/(o-1))-i*T,c=Math.min(n,c),x=Math.max(n,x),r[p][b]=n;var g=1/(x-c),h=-c*g;for(p=0;p<l;p++)for(b=0;b<o;b++)r[p][b]=g*r[p][b]+h;return r}},45664:function(ee,D,e){"use strict";var M=e(42048),k=e(71828).ensureArray;function a(T,b,p){var s=-.5*p[0]+1.5*b[0],t=-.5*p[1]+1.5*b[1];return[(2*s+T[0])/3,(2*t+T[1])/3]}ee.exports=function(T,b,p,s,t,i){var n,r,o,l,u,d,c,x,g,h,m=p[0].length,y=p.length,v=t?3*m-2:m,_=i?3*y-2:y;for(T=k(T,_),b=k(b,_),o=0;o<_;o++)T[o]=k(T[o],v),b[o]=k(b[o],v);for(r=0,l=0;r<y;r++,l+=i?3:1)for(u=T[l],d=b[l],c=p[r],x=s[r],n=0,o=0;n<m;n++,o+=t?3:1)u[o]=c[n],d[o]=x[n];if(t)for(r=0,l=0;r<y;r++,l+=i?3:1){for(n=1,o=3;n<m-1;n++,o+=3)g=M([p[r][n-1],s[r][n-1]],[p[r][n],s[r][n]],[p[r][n+1],s[r][n+1]],t),T[l][o-1]=g[0][0],b[l][o-1]=g[0][1],T[l][o+1]=g[1][0],b[l][o+1]=g[1][1];h=a([T[l][0],b[l][0]],[T[l][2],b[l][2]],[T[l][3],b[l][3]]),T[l][1]=h[0],b[l][1]=h[1],h=a([T[l][v-1],b[l][v-1]],[T[l][v-3],b[l][v-3]],[T[l][v-4],b[l][v-4]]),T[l][v-2]=h[0],b[l][v-2]=h[1]}if(i)for(o=0;o<v;o++){for(l=3;l<_-3;l+=3)g=M([T[l-3][o],b[l-3][o]],[T[l][o],b[l][o]],[T[l+3][o],b[l+3][o]],i),T[l-1][o]=g[0][0],b[l-1][o]=g[0][1],T[l+1][o]=g[1][0],b[l+1][o]=g[1][1];h=a([T[0][o],b[0][o]],[T[2][o],b[2][o]],[T[3][o],b[3][o]]),T[1][o]=h[0],b[1][o]=h[1],h=a([T[_-1][o],b[_-1][o]],[T[_-3][o],b[_-3][o]],[T[_-4][o],b[_-4][o]]),T[_-2][o]=h[0],b[_-2][o]=h[1]}if(t&&i)for(l=1;l<_;l+=(l+1)%3==0?2:1){for(o=3;o<v-3;o+=3)g=M([T[l][o-3],b[l][o-3]],[T[l][o],b[l][o]],[T[l][o+3],b[l][o+3]],t),T[l][o-1]=.5*(T[l][o-1]+g[0][0]),b[l][o-1]=.5*(b[l][o-1]+g[0][1]),T[l][o+1]=.5*(T[l][o+1]+g[1][0]),b[l][o+1]=.5*(b[l][o+1]+g[1][1]);h=a([T[l][0],b[l][0]],[T[l][2],b[l][2]],[T[l][3],b[l][3]]),T[l][1]=.5*(T[l][1]+h[0]),b[l][1]=.5*(b[l][1]+h[1]),h=a([T[l][v-1],b[l][v-1]],[T[l][v-3],b[l][v-3]],[T[l][v-4],b[l][v-4]]),T[l][v-2]=.5*(T[l][v-2]+h[0]),b[l][v-2]=.5*(b[l][v-2]+h[1])}return[T,b]}},35509:function(ee){"use strict";ee.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(ee){"use strict";ee.exports=function(D,e,M){return e&&M?function(k,a,T,b,p){var s,t,i,n,r,o;k||(k=[]),a*=3,T*=3;var l=b*b,u=1-b,d=u*u,c=u*b*2,x=-3*d,g=3*(d-c),h=3*(c-l),m=3*l,y=p*p,v=y*p,_=1-p,f=_*_,S=f*_;for(o=0;o<D.length;o++)s=x*(r=D[o])[T][a]+g*r[T][a+1]+h*r[T][a+2]+m*r[T][a+3],t=x*r[T+1][a]+g*r[T+1][a+1]+h*r[T+1][a+2]+m*r[T+1][a+3],i=x*r[T+2][a]+g*r[T+2][a+1]+h*r[T+2][a+2]+m*r[T+2][a+3],n=x*r[T+3][a]+g*r[T+3][a+1]+h*r[T+3][a+2]+m*r[T+3][a+3],k[o]=S*s+3*(f*p*t+_*y*i)+v*n;return k}:e?function(k,a,T,b,p){var s,t,i,n;k||(k=[]),a*=3;var r=b*b,o=1-b,l=o*o,u=o*b*2,d=-3*l,c=3*(l-u),x=3*(u-r),g=3*r,h=1-p;for(i=0;i<D.length;i++)s=d*(n=D[i])[T][a]+c*n[T][a+1]+x*n[T][a+2]+g*n[T][a+3],t=d*n[T+1][a]+c*n[T+1][a+1]+x*n[T+1][a+2]+g*n[T+1][a+3],k[i]=h*s+p*t;return k}:M?function(k,a,T,b,p){var s,t,i,n,r,o;k||(k=[]),T*=3;var l=p*p,u=l*p,d=1-p,c=d*d,x=c*d;for(r=0;r<D.length;r++)s=(o=D[r])[T][a+1]-o[T][a],t=o[T+1][a+1]-o[T+1][a],i=o[T+2][a+1]-o[T+2][a],n=o[T+3][a+1]-o[T+3][a],k[r]=x*s+3*(c*p*t+d*l*i)+u*n;return k}:function(k,a,T,b,p){var s,t,i,n;k||(k=[]);var r=1-p;for(i=0;i<D.length;i++)s=(n=D[i])[T][a+1]-n[T][a],t=n[T+1][a+1]-n[T+1][a],k[i]=r*s+p*t;return k}}},73057:function(ee){"use strict";ee.exports=function(D,e,M){return e&&M?function(k,a,T,b,p){var s,t,i,n,r,o;k||(k=[]),a*=3,T*=3;var l=b*b,u=l*b,d=1-b,c=d*d,x=c*d,g=p*p,h=1-p,m=h*h,y=h*p*2,v=-3*m,_=3*(m-y),f=3*(y-g),S=3*g;for(o=0;o<D.length;o++)s=v*(r=D[o])[T][a]+_*r[T+1][a]+f*r[T+2][a]+S*r[T+3][a],t=v*r[T][a+1]+_*r[T+1][a+1]+f*r[T+2][a+1]+S*r[T+3][a+1],i=v*r[T][a+2]+_*r[T+1][a+2]+f*r[T+2][a+2]+S*r[T+3][a+2],n=v*r[T][a+3]+_*r[T+1][a+3]+f*r[T+2][a+3]+S*r[T+3][a+3],k[o]=x*s+3*(c*b*t+d*l*i)+u*n;return k}:e?function(k,a,T,b,p){var s,t,i,n,r,o;k||(k=[]),a*=3;var l=p*p,u=l*p,d=1-p,c=d*d,x=c*d;for(r=0;r<D.length;r++)s=(o=D[r])[T+1][a]-o[T][a],t=o[T+1][a+1]-o[T][a+1],i=o[T+1][a+2]-o[T][a+2],n=o[T+1][a+3]-o[T][a+3],k[r]=x*s+3*(c*p*t+d*l*i)+u*n;return k}:M?function(k,a,T,b,p){var s,t,i,n;k||(k=[]),T*=3;var r=1-b,o=p*p,l=1-p,u=l*l,d=l*p*2,c=-3*u,x=3*(u-d),g=3*(d-o),h=3*o;for(i=0;i<D.length;i++)s=c*(n=D[i])[T][a]+x*n[T+1][a]+g*n[T+2][a]+h*n[T+3][a],t=c*n[T][a+1]+x*n[T+1][a+1]+g*n[T+2][a+1]+h*n[T+3][a+1],k[i]=r*s+b*t;return k}:function(k,a,T,b,p){var s,t,i,n;k||(k=[]);var r=1-b;for(i=0;i<D.length;i++)s=(n=D[i])[T+1][a]-n[T][a],t=n[T+1][a+1]-n[T][a+1],k[i]=r*s+b*t;return k}}},20349:function(ee){"use strict";ee.exports=function(D,e,M,k,a){var T=e-2,b=M-2;return k&&a?function(p,s,t){var i,n,r,o,l,u;p||(p=[]);var d=Math.max(0,Math.min(Math.floor(s),T)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,s-d)),g=Math.max(0,Math.min(1,t-c));d*=3,c*=3;var h=x*x,m=h*x,y=1-x,v=y*y,_=v*y,f=g*g,S=f*g,w=1-g,E=w*w,C=E*w;for(u=0;u<D.length;u++)i=_*(l=D[u])[c][d]+3*(v*x*l[c][d+1]+y*h*l[c][d+2])+m*l[c][d+3],n=_*l[c+1][d]+3*(v*x*l[c+1][d+1]+y*h*l[c+1][d+2])+m*l[c+1][d+3],r=_*l[c+2][d]+3*(v*x*l[c+2][d+1]+y*h*l[c+2][d+2])+m*l[c+2][d+3],o=_*l[c+3][d]+3*(v*x*l[c+3][d+1]+y*h*l[c+3][d+2])+m*l[c+3][d+3],p[u]=C*i+3*(E*g*n+w*f*r)+S*o;return p}:k?function(p,s,t){p||(p=[]);var i,n,r,o,l,u,d=Math.max(0,Math.min(Math.floor(s),T)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,s-d)),g=Math.max(0,Math.min(1,t-c));d*=3;var h=x*x,m=h*x,y=1-x,v=y*y,_=v*y,f=1-g;for(l=0;l<D.length;l++)i=f*(u=D[l])[c][d]+g*u[c+1][d],n=f*u[c][d+1]+g*u[c+1][d+1],r=f*u[c][d+2]+g*u[c+1][d+1],o=f*u[c][d+3]+g*u[c+1][d+1],p[l]=_*i+3*(v*x*n+y*h*r)+m*o;return p}:a?function(p,s,t){p||(p=[]);var i,n,r,o,l,u,d=Math.max(0,Math.min(Math.floor(s),T)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,s-d)),g=Math.max(0,Math.min(1,t-c));c*=3;var h=g*g,m=h*g,y=1-g,v=y*y,_=v*y,f=1-x;for(l=0;l<D.length;l++)i=f*(u=D[l])[c][d]+x*u[c][d+1],n=f*u[c+1][d]+x*u[c+1][d+1],r=f*u[c+2][d]+x*u[c+2][d+1],o=f*u[c+3][d]+x*u[c+3][d+1],p[l]=_*i+3*(v*g*n+y*h*r)+m*o;return p}:function(p,s,t){p||(p=[]);var i,n,r,o,l=Math.max(0,Math.min(Math.floor(s),T)),u=Math.max(0,Math.min(Math.floor(t),b)),d=Math.max(0,Math.min(1,s-l)),c=Math.max(0,Math.min(1,t-u)),x=1-c,g=1-d;for(r=0;r<D.length;r++)i=g*(o=D[r])[u][l]+d*o[u][l+1],n=g*o[u+1][l]+d*o[u+1][l+1],p[r]=x*i+c*n;return p}}},92087:function(ee,D,e){"use strict";var M=e(71828),k=e(19237),a=e(13145),T=e(99798),b=e(22399);ee.exports=function(p,s,t,i){function n(o,l){return M.coerce(p,s,T,o,l)}s._clipPathId="clip"+s.uid+"carpet";var r=n("color",b.defaultLine);M.coerceFont(n,"font"),n("carpet"),a(p,s,i,n,r),s.a&&s.b?(s.a.length<3&&(s.aaxis.smoothing=0),s.b.length<3&&(s.baxis.smoothing=0),k(p,s,n)||(s.visible=!1),s._cheater&&n("cheaterslope")):s.visible=!1}},21462:function(ee,D,e){"use strict";ee.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(ee){"use strict";ee.exports=function(D,e){for(var M,k=D._fullData.length,a=0;a<k;a++){var T=D._fullData[a];if(T.index!==e.index&&"carpet"===T.type&&(M||(M=T),T.carpet===e.carpet))return T}return M}},67961:function(ee){"use strict";ee.exports=function(D,e,M){if(0===D.length)return"";var k,a=[],T=M?3:1;for(k=0;k<D.length;k+=T)a.push(D[k]+","+e[k]),M&&k<D.length-T&&(a.push("C"),a.push([D[k+1]+","+e[k+1],D[k+2]+","+e[k+2]+" "].join(" ")));return a.join(M?"":"L")}},27669:function(ee,D,e){"use strict";var M=e(71828).isArrayOrTypedArray;ee.exports=function(k,a,T){var b;for(M(k)?k.length>a.length&&(k=k.slice(0,a.length)):k=[],b=0;b<a.length;b++)k[b]=T(a[b]);return k}},11651:function(ee){"use strict";ee.exports=function(D,e,M,k,a,T){var b=a[0]*D.dpdx(e),p=a[1]*D.dpdy(M),s=1,t=1;if(T){var i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),n=Math.sqrt(T[0]*T[0]+T[1]*T[1]),r=(a[0]*T[0]+a[1]*T[1])/i/n;t=Math.max(0,r)}var o=180*Math.atan2(p,b)/Math.PI;return o<-90?(o+=180,s=-s):o>90&&(o-=180,s=-s),{angle:o,flip:s,p:D.c2p(k,e,M),offsetMultplier:t}}},89740:function(ee,D,e){"use strict";var M=e(39898),k=e(91424),a=e(27669),T=e(67961),b=e(11651),p=e(63893),s=e(71828),t=s.strRotate,i=s.strTranslate,n=e(18783);function r(c,x,g,h,m,y,v){var _="const-"+m+"-lines",f=g.selectAll("."+_).data(y);f.enter().append("path").classed(_,!0).style("vector-effect",v?"none":"non-scaling-stroke"),f.each(function(S){var w=S,E=w.x,C=w.y,O=a([],E,c.c2p),P=a([],C,x.c2p),R="M"+T(O,P,w.smoothing);M.select(this).attr("d",R).style("stroke-width",w.width).style("stroke",w.color).style("stroke-dasharray",k.dashStyle(w.dash,w.width)).style("fill","none")}),f.exit().remove()}function o(c,x,g,h,m,y,v,_){var f=y.selectAll("text."+_).data(v);f.enter().append("text").classed(_,!0);var S=0,w={};return f.each(function(E,C){var O;if("auto"===E.axis.tickangle)O=b(h,x,g,E.xy,E.dxy);else{var P=(E.axis.tickangle+180)*Math.PI/180;O=b(h,x,g,E.xy,[Math.cos(P),Math.sin(P)])}C||(w={angle:O.angle,flip:O.flip});var R=(E.endAnchor?-1:1)*O.flip,j=M.select(this).attr({"text-anchor":R>0?"start":"end","data-notex":1}).call(k.font,E.font).text(E.text).call(p.convertToTspans,c),z=k.bBox(this);j.attr("transform",i(O.p[0],O.p[1])+t(O.angle)+i(E.axis.labelpadding*R,.3*z.height)),S=Math.max(S,z.width+E.axis.labelpadding)}),f.exit().remove(),w.maxExtent=S,w}ee.exports=function(c,x,g,h){var m=c._context.staticPlot,y=x.xaxis,v=x.yaxis,_=c._fullLayout._clips;s.makeTraceGroups(h,g,"trace").each(function(f){var S=M.select(this),w=f[0],E=w.trace,C=E.aaxis,O=E.baxis,P=s.ensureSingle(S,"g","minorlayer"),R=s.ensureSingle(S,"g","majorlayer"),j=s.ensureSingle(S,"g","boundarylayer"),z=s.ensureSingle(S,"g","labellayer");S.style("opacity",E.opacity),r(y,v,R,0,"a",C._gridlines,!0),r(y,v,R,0,"b",O._gridlines,!0),r(y,v,P,0,"a",C._minorgridlines,!0),r(y,v,P,0,"b",O._minorgridlines,!0),r(y,v,j,0,"a-boundary",C._boundarylines,m),r(y,v,j,0,"b-boundary",O._boundarylines,m);var F,U,V,$,X,W,J,Q,re,ae,oe,ue,ve,be,de,N=o(c,y,v,E,0,z,C._labels,"a-label"),Y=o(c,y,v,E,0,z,O._labels,"b-label");F=c,U=z,V=E,$=y,X=v,W=N,J=Y,ue=s.aggNums(Math.min,null,V.a),ve=s.aggNums(Math.max,null,V.a),be=s.aggNums(Math.min,null,V.b),de=s.aggNums(Math.max,null,V.b),Q=.5*(ue+ve),re=be,ae=V.ab2xy(Q,re,!0),oe=V.dxyda_rough(Q,re),void 0===W.angle&&s.extendFlat(W,b(V,$,X,ae,V.dxydb_rough(Q,re))),d(F,U,V,0,ae,oe,V.aaxis,$,X,W,"a-title"),Q=ue,re=.5*(be+de),ae=V.ab2xy(Q,re,!0),oe=V.dxydb_rough(Q,re),void 0===J.angle&&s.extendFlat(J,b(V,$,X,ae,V.dxyda_rough(Q,re))),d(F,U,V,0,ae,oe,V.baxis,$,X,J,"b-title"),function(F,U,V,te,$){var X,W,J,Q,re=V.select("#"+F._clipPathId);re.size()||(re=V.append("clipPath").classed("carpetclip",!0));var ae=s.ensureSingle(re,"path","carpetboundary"),oe=U.clipsegments,ue=[];for(Q=0;Q<oe.length;Q++)X=oe[Q],W=a([],X.x,te.c2p),J=a([],X.y,$.c2p),ue.push(T(W,J,X.bicubic));var ve="M"+ue.join("L")+"Z";re.attr("id",F._clipPathId),ae.attr("d",ve)}(E,w,_,y,v)})};var l=n.LINE_SPACING,u=(1-n.MID_SHIFT)/l+1;function d(c,x,g,h,m,y,v,_,f,S,w){var E=[];v.title.text&&E.push(v.title.text);var C=x.selectAll("text."+w).data(E),O=S.maxExtent;C.enter().append("text").classed(w,!0),C.each(function(){var P=b(g,_,f,m,y);-1===["start","both"].indexOf(v.showticklabels)&&(O=0);var R=v.title.font.size;O+=R+v.title.offset;var j=(S.angle+(S.flip<0?180:0)-P.angle+450)%360,z=j>90&&j<270,N=M.select(this);N.text(v.title.text).call(p.convertToTspans,c),z&&(O=(-p.lineCount(N)+u)*l*R-O),N.attr("transform",i(P.p[0],P.p[1])+t(P.angle)+i(0,O)).attr("text-anchor","middle").call(k.font,v.title.font)}),C.exit().remove()}},11435:function(ee,D,e){"use strict";var M=e(35509),k=e(65888).findBin,a=e(45664),T=e(20349),b=e(54495),p=e(73057);ee.exports=function(s){var t=s._a,i=s._b,n=t.length,r=i.length,o=s.aaxis,l=s.baxis,u=t[0],d=t[n-1],c=i[0],x=i[r-1],g=t[t.length-1]-t[0],h=i[i.length-1]-i[0],m=g*M.RELATIVE_CULL_TOLERANCE,y=h*M.RELATIVE_CULL_TOLERANCE;u-=m,d+=m,c-=y,x+=y,s.isVisible=function(v,_){return v>u&&v<d&&_>c&&_<x},s.isOccluded=function(v,_){return v<u||v>d||_<c||_>x},s.setScale=function(){var v=s._x,_=s._y,f=a(s._xctrl,s._yctrl,v,_,o.smoothing,l.smoothing);s._xctrl=f[0],s._yctrl=f[1],s.evalxy=T([s._xctrl,s._yctrl],n,r,o.smoothing,l.smoothing),s.dxydi=b([s._xctrl,s._yctrl],o.smoothing,l.smoothing),s.dxydj=p([s._xctrl,s._yctrl],o.smoothing,l.smoothing)},s.i2a=function(v){var _=Math.max(0,Math.floor(v[0]),n-2),f=v[0]-_;return(1-f)*t[_]+f*t[_+1]},s.j2b=function(v){var _=Math.max(0,Math.floor(v[1]),n-2),f=v[1]-_;return(1-f)*i[_]+f*i[_+1]},s.ij2ab=function(v){return[s.i2a(v[0]),s.j2b(v[1])]},s.a2i=function(v){var _=Math.max(0,Math.min(k(v,t),n-2)),f=t[_],S=t[_+1];return Math.max(0,Math.min(n-1,_+(v-f)/(S-f)))},s.b2j=function(v){var _=Math.max(0,Math.min(k(v,i),r-2)),f=i[_],S=i[_+1];return Math.max(0,Math.min(r-1,_+(v-f)/(S-f)))},s.ab2ij=function(v){return[s.a2i(v[0]),s.b2j(v[1])]},s.i2c=function(v,_){return s.evalxy([],v,_)},s.ab2xy=function(v,_,f){if(!f&&(v<t[0]||v>t[n-1]|_<i[0]||_>i[r-1]))return[!1,!1];var S=s.a2i(v),w=s.b2j(_),E=s.evalxy([],S,w);if(f){var C,O,P,R,j=0,z=0,N=[];v<t[0]?(C=0,O=0,j=(v-t[0])/(t[1]-t[0])):v>t[n-1]?(C=n-2,O=1,j=(v-t[n-1])/(t[n-1]-t[n-2])):O=S-(C=Math.max(0,Math.min(n-2,Math.floor(S)))),_<i[0]?(P=0,R=0,z=(_-i[0])/(i[1]-i[0])):_>i[r-1]?(P=r-2,R=1,z=(_-i[r-1])/(i[r-1]-i[r-2])):R=w-(P=Math.max(0,Math.min(r-2,Math.floor(w)))),j&&(s.dxydi(N,C,P,O,R),E[0]+=N[0]*j,E[1]+=N[1]*j),z&&(s.dxydj(N,C,P,O,R),E[0]+=N[0]*z,E[1]+=N[1]*z)}return E},s.c2p=function(v,_,f){return[_.c2p(v[0]),f.c2p(v[1])]},s.p2x=function(v,_,f){return[_.p2c(v[0]),f.p2c(v[1])]},s.dadi=function(v){var _=Math.max(0,Math.min(t.length-2,v));return t[_+1]-t[_]},s.dbdj=function(v){var _=Math.max(0,Math.min(i.length-2,v));return i[_+1]-i[_]},s.dxyda=function(v,_,f,S){var w=s.dxydi(null,v,_,f,S),E=s.dadi(v,f);return[w[0]/E,w[1]/E]},s.dxydb=function(v,_,f,S){var w=s.dxydj(null,v,_,f,S),E=s.dbdj(_,S);return[w[0]/E,w[1]/E]},s.dxyda_rough=function(v,_,f){var S=g*(f||.1),w=s.ab2xy(v+S,_,!0),E=s.ab2xy(v-S,_,!0);return[.5*(w[0]-E[0])/S,.5*(w[1]-E[1])/S]},s.dxydb_rough=function(v,_,f){var S=h*(f||.1),w=s.ab2xy(v,_+S,!0),E=s.ab2xy(v,_-S,!0);return[.5*(w[0]-E[0])/S,.5*(w[1]-E[1])/S]},s.dpdx=function(v){return v._m},s.dpdy=function(v){return v._m}}},72505:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k,a,T){var b,p,s,t=[],i=[],n=k[0].length,r=k.length;function o(F,U){var V,te=0,$=0;return F>0&&void 0!==(V=k[U][F-1])&&($++,te+=V),F<n-1&&void 0!==(V=k[U][F+1])&&($++,te+=V),U>0&&void 0!==(V=k[U-1][F])&&($++,te+=V),U<r-1&&void 0!==(V=k[U+1][F])&&($++,te+=V),te/Math.max(1,$)}var l,u,d,c,x,g,h,m,y,v,_,f=0;for(b=0;b<n;b++)for(p=0;p<r;p++)void 0===k[p][b]&&(t.push(b),i.push(p),k[p][b]=o(b,p)),f=Math.max(f,Math.abs(k[p][b]));if(!t.length)return k;var S=0,w=0,E=t.length;do{for(S=0,s=0;s<E;s++){b=t[s],p=i[s];var C,O,P,R,j,z,N=0,Y=0;0===b?(P=a[j=Math.min(n-1,2)],R=a[1],C=k[p][j],Y+=(O=k[p][1])+(O-C)*(a[0]-R)/(R-P),N++):b===n-1&&(P=a[j=Math.max(0,n-3)],R=a[n-2],C=k[p][j],Y+=(O=k[p][n-2])+(O-C)*(a[n-1]-R)/(R-P),N++),(0===b||b===n-1)&&p>0&&p<r-1&&(l=T[p+1]-T[p],Y+=((u=T[p]-T[p-1])*k[p+1][b]+l*k[p-1][b])/(u+l),N++),0===p?(P=T[z=Math.min(r-1,2)],R=T[1],C=k[z][b],Y+=(O=k[1][b])+(O-C)*(T[0]-R)/(R-P),N++):p===r-1&&(P=T[z=Math.max(0,r-3)],R=T[r-2],C=k[z][b],Y+=(O=k[r-2][b])+(O-C)*(T[r-1]-R)/(R-P),N++),(0===p||p===r-1)&&b>0&&b<n-1&&(l=a[b+1]-a[b],Y+=((u=a[b]-a[b-1])*k[p][b+1]+l*k[p][b-1])/(u+l),N++),N?Y/=N:(d=a[b+1]-a[b],c=a[b]-a[b-1],m=(x=T[p+1]-T[p])*(g=T[p]-T[p-1])*(x+g),Y=((h=d*c*(d+c))*(g*k[p+1][b]+x*k[p-1][b])+m*(c*k[p][b+1]+d*k[p][b-1]))/(m*(c+d)+h*(g+x))),S+=(v=(y=Y-k[p][b])/f)*v,_=N?0:.85,k[p][b]+=y*(1+_)}S=Math.sqrt(S)}while(w++<100&&S>1e-5);return M.log("Smoother converged to",S,"after",w,"iterations"),k}},19237:function(ee,D,e){"use strict";var M=e(71828).isArray1D;ee.exports=function(k,a,T){var b=T("x"),p=b&&b.length,s=T("y"),t=s&&s.length;if(!p&&!t)return!1;if(a._cheater=!b,p&&!M(b)||t&&!M(s))a._length=null;else{var i=p?b.length:1/0;t&&(i=Math.min(i,s.length)),a.a&&a.a.length&&(i=Math.min(i,a.a.length)),a.b&&a.b.length&&(i=Math.min(i,a.b.length)),a._length=i}return!0}},69568:function(ee,D,e){"use strict";var M=e(5386).fF,k=e(19316),a=e(50693),T=e(9012),b=e(22399).defaultLine,p=e(1426).extendFlat,s=k.marker.line;ee.exports=p({locations:{valType:"data_array",editType:"calc"},locationmode:k.locationmode,z:{valType:"data_array",editType:"calc"},geojson:p({},k.geojson,{}),featureidkey:k.featureidkey,text:p({},k.text,{}),hovertext:p({},k.hovertext,{}),marker:{line:{color:p({},s.color,{dflt:b}),width:p({},s.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:k.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:k.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:p({},T.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:M(),showlegend:p({},T.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(ee,D,e){"use strict";var M=e(92770),k=e(50606).BADNUM,a=e(78803),T=e(75225),b=e(66279);function p(s){return s&&"string"==typeof s}ee.exports=function(s,t){var i,n=t._length,r=new Array(n);i=t.geojson?function(c){return p(c)||M(c)}:p;for(var o=0;o<n;o++){var l=r[o]={},u=t.locations[o],d=t.z[o];i(u)&&M(d)?(l.loc=u,l.z=d):(l.loc=null,l.z=k),l.index=o}return T(r,t),a(s,t,{vals:t.z,containerStr:"",cLetter:"z"}),b(r,t),r}},61869:function(ee,D,e){"use strict";var M=e(71828),k=e(1586),a=e(69568);ee.exports=function(T,b,p,s){function t(l,u){return M.coerce(T,b,a,l,u)}var i=t("locations"),n=t("z");if(i&&i.length&&M.isArrayOrTypedArray(n)&&n.length){b._length=Math.min(i.length,n.length);var r,o=t("geojson");("string"==typeof o&&""!==o||M.isPlainObject(o))&&(r="geojson-id"),"geojson-id"===t("locationmode",r)&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(T,b,s,t,{prefix:"",cLetter:"z"}),M.coerceSelectionMarkerOpacity(b,t)}else b.visible=!1}},92069:function(ee){"use strict";ee.exports=function(D,e,M,k,a){D.location=e.location,D.z=e.z;var T=k[a];return T.fIn&&T.fIn.properties&&(D.properties=T.fIn.properties),D.ct=T.ct,D}},42300:function(ee,D,e){"use strict";var M=e(89298),k=e(69568),a=e(71828).fillText;ee.exports=function(T,b,p){var s,t,i,n,r=T.cd,o=r[0].trace,l=T.subplot,u=[b,p],d=[b+360,p];for(t=0;t<r.length;t++)if(n=!1,(s=r[t])._polygons){for(i=0;i<s._polygons.length;i++)s._polygons[i].contains(u)&&(n=!n),s._polygons[i].contains(d)&&(n=!n);if(n)break}if(n&&s)return T.x0=T.x1=T.xa.c2p(s.ct),T.y0=T.y1=T.ya.c2p(s.ct),T.index=s.index,T.location=s.loc,T.z=s.z,T.zLabel=M.tickText(l.mockAxis,l.mockAxis.c2l(s.z),"hover").text,T.hovertemplate=s.hovertemplate,function(c,x,g){if(!x.hovertemplate){var h=g.hi||x.hoverinfo,m=String(g.loc),y="all"===h?k.hoverinfo.flags:h.split("+"),v=-1!==y.indexOf("name"),_=-1!==y.indexOf("location"),f=-1!==y.indexOf("z"),S=-1!==y.indexOf("text"),w=[];!v&&_?c.nameOverride=m:(v&&(c.nameOverride=x.name),_&&w.push(m)),f&&w.push(c.zLabel),S&&a(g,x,w),c.extraText=w.join("<br>")}}(T,o,s),[T]}},51319:function(ee,D,e){"use strict";ee.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(41327),T=e(90973).getTopojsonFeatures,b=e(71739).findExtremes,p=e(99636).style;ee.exports={calcGeoJSON:function(s,t){for(var i=s[0].trace,n=t[i.geo],r=n._subplot,o=i.locationmode,l=i._length,u="geojson-id"===o?a.extractTraceFeature(s):T(i,r.topojson),d=[],c=[],x=0;x<l;x++){var g=s[x],h="geojson-id"===o?g.fOut:a.locationToFeature(o,g.loc,u);if(h){g.geojson=h,g.ct=h.properties.ct,g._polygons=a.feature2polygons(h);var m=a.computeBbox(h);d.push(m[0],m[2]),c.push(m[1],m[3])}else g.geojson=null}if("geojson"===n.fitbounds&&"geojson-id"===o){var y=a.computeBbox(a.getTraceGeojson(i));d=[y[0],y[2]],c=[y[1],y[3]]}var v={padded:!0};i._extremes.lon=b(n.lonaxis._ax,d,v),i._extremes.lat=b(n.lataxis._ax,c,v)},plot:function(s,t,i){var n=t.layers.backplot.select(".choroplethlayer");k.makeTraceGroups(n,i,"trace choropleth").each(function(r){var o=M.select(this).selectAll("path.choroplethlocation").data(k.identity);o.enter().append("path").classed("choroplethlocation",!0),o.exit().remove(),p(s,r)})}}},81253:function(ee){"use strict";ee.exports=function(D,e){var M,k,a,T,b,p=D.cd,s=D.xaxis,t=D.yaxis,i=[];if(!1===e)for(M=0;M<p.length;M++)p[M].selected=0;else for(M=0;M<p.length;M++)(a=(k=p[M]).ct)&&(T=s.c2p(a),b=t.c2p(a),e.contains([T,b],null,M,D)?(i.push({pointNumber:M,lon:a[0],lat:a[1]}),k.selected=1):k.selected=0);return i}},99636:function(ee,D,e){"use strict";var M=e(39898),k=e(7901),a=e(91424),T=e(21081);function b(p,s){var t=s[0].trace,i=s[0].node3.selectAll(".choroplethlocation"),n=t.marker||{},r=n.line||{},o=T.makeColorScaleFuncFromTrace(t);i.each(function(l){M.select(this).attr("fill",o(l.z)).call(k.stroke,l.mlc||r.color).call(a.dashLine,"",l.mlw||r.width||0).style("opacity",n.opacity)}),a.selectedPointStyle(i,t)}ee.exports={style:function(p,s){s&&b(0,s)},styleOnSelect:function(p,s){var t=s[0].node3,i=s[0].trace;i.selectedpoints?a.selectedPointStyle(t.selectAll(".choroplethlocation"),i):b(0,s)}}},64496:function(ee,D,e){"use strict";var M=e(69568),k=e(50693),a=e(5386).fF,T=e(9012),b=e(1426).extendFlat;ee.exports=b({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:b({},M.featureidkey,{}),below:{valType:"string",editType:"plot"},text:M.text,hovertext:M.hovertext,marker:{line:{color:b({},M.marker.line.color,{editType:"plot"}),width:b({},M.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:b({},M.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:b({},M.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:b({},M.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:M.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:b({},T.showlegend,{dflt:!1})},k("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(21081),T=e(91424),b=e(18214).makeBlank,p=e(41327);function s(t){var i,n=t[0].trace,r=n._opts;if(n.selectedpoints){for(var o=T.makeSelectedPointStyleFns(n),l=0;l<t.length;l++){var u=t[l];u.fOut&&(u.fOut.properties.mo2=o.selectedOpacityFn(u))}i={type:"identity",property:"mo2"}}else i=k.isArrayOrTypedArray(n.marker.opacity)?{type:"identity",property:"mo"}:n.marker.opacity;return k.extendFlat(r.fill.paint,{"fill-opacity":i}),k.extendFlat(r.line.paint,{"line-opacity":i}),r}ee.exports={convert:function(t){var i=t[0].trace,n=!0===i.visible&&0!==i._length,r={layout:{visibility:"none"},paint:{}},o={layout:{visibility:"none"},paint:{}},l=i._opts={fill:r,line:o,geojson:b()};if(!n)return l;var u=p.extractTraceFeature(t);if(!u)return l;var d,c,x,g=a.makeColorScaleFuncFromTrace(i),h=i.marker,m=h.line||{};k.isArrayOrTypedArray(h.opacity)&&(d=function(w){var E=w.mo;return M(E)?+k.constrain(E,0,1):0}),k.isArrayOrTypedArray(m.color)&&(c=function(w){return w.mlc}),k.isArrayOrTypedArray(m.width)&&(x=function(w){return w.mlw});for(var y=0;y<t.length;y++){var v=t[y],_=v.fOut;if(_){var f=_.properties;f.fc=g(v.z),d&&(f.mo=d(v)),c&&(f.mlc=c(v)),x&&(f.mlw=x(v)),v.ct=f.ct,v._polygons=p.feature2polygons(_)}}var S=d?{type:"identity",property:"mo"}:h.opacity;return k.extendFlat(r.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":S}),k.extendFlat(o.paint,{"line-color":c?{type:"identity",property:"mlc"}:m.color,"line-width":x?{type:"identity",property:"mlw"}:m.width,"line-opacity":S}),r.layout.visibility="visible",o.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:u},s(t),l},convertOnSelect:s}},22654:function(ee,D,e){"use strict";var M=e(71828),k=e(1586),a=e(64496);ee.exports=function(T,b,p,s){function t(o,l){return M.coerce(T,b,a,o,l)}var i=t("locations"),n=t("z"),r=t("geojson");M.isArrayOrTypedArray(i)&&i.length&&M.isArrayOrTypedArray(n)&&n.length&&("string"==typeof r&&""!==r||M.isPlainObject(r))?(t("featureidkey"),b._length=Math.min(i.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(T,b,s,t,{prefix:"",cLetter:"z"}),M.coerceSelectionMarkerOpacity(b,t)):b.visible=!1}},57516:function(ee,D,e){"use strict";ee.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(M,k){k&&k[0].trace._glTrace.updateOnSelect(k)},getBelow:function(M,k){for(var a=k.getMapLayers(),T=a.length-2;T>=0;T--){var b=a[T].id;if("string"==typeof b&&0===b.indexOf("water"))for(var p=T+1;p<a.length;p++)if("string"==typeof(b=a[p].id)&&-1===b.indexOf("plotly-"))return b}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(ee,D,e){"use strict";var M=e(82004).convert,k=e(82004).convertOnSelect,a=e(77734).traceLayerPrefix;function T(p,s){this.type="choroplethmapbox",this.subplot=p,this.uid=s,this.sourceId="source-"+s,this.layerList=[["fill",a+s+"-fill"],["line",a+s+"-line"]],this.below=null}var b=T.prototype;b.update=function(p){this._update(M(p)),p[0].trace._glTrace=this},b.updateOnSelect=function(p){this._update(k(p))},b._update=function(p){var s=this.subplot,t=this.layerList,i=s.belowLookup["trace-"+this.uid];s.map.getSource(this.sourceId).setData(p.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(p,i),this.below=i);for(var n=0;n<t.length;n++){var r=t[n],o=r[0],l=r[1],u=p[o];s.setOptions(l,"setLayoutProperty",u.layout),"visible"===u.layout.visibility&&s.setOptions(l,"setPaintProperty",u.paint)}},b._addLayers=function(p,s){for(var t=this.subplot,i=this.layerList,n=this.sourceId,r=0;r<i.length;r++){var o=i[r],l=o[0],u=p[l];t.addLayer({type:l,id:o[1],source:n,layout:u.layout,paint:u.paint},s)}},b._removeLayers=function(){for(var p=this.subplot.map,s=this.layerList,t=s.length-1;t>=0;t--)p.removeLayer(s[t][1])},b.dispose=function(){var p=this.subplot.map;this._removeLayers(),p.removeSource(this.sourceId)},ee.exports=function(p,s){var t=s[0].trace,i=new T(p,t.uid),n=i.sourceId,r=M(s),o=i.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:r.geojson}),i._addLayers(r,o),s[0].trace._glTrace=i,i}},12674:function(ee,D,e){"use strict";var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,T=e(2418),b=e(9012),p=e(1426).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:p({},b.showlegend,{dflt:!1})};p(s,M("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=T[t]}),s.hoverinfo=p({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,ee.exports=s},31371:function(ee,D,e){"use strict";var M=e(78803);ee.exports=function(k,a){for(var T=a.u,b=a.v,p=a.w,s=Math.min(a.x.length,a.y.length,a.z.length,T.length,b.length,p.length),t=-1/0,i=1/0,n=0;n<s;n++){var r=T[n],o=b[n],l=p[n],u=Math.sqrt(r*r+o*o+l*l);t=Math.max(t,u),i=Math.min(i,u)}a._len=s,a._normMax=t,M(k,a,{vals:[i,t],containerStr:"",cLetter:"c"})}},5453:function(ee,D,e){"use strict";var M=e(9330).gl_cone3d,k=e(9330).gl_cone3d.createConeMesh,a=e(71828).simpleMap,T=e(81697).parseColorScale,b=e(21081).extractOpts,p=e(71828).isArrayOrTypedArray,s=e(90060);function t(u,d){this.scene=u,this.uid=d,this.mesh=null,this.data=null}var i=t.prototype;i.handlePick=function(u){if(u.object===this.mesh){var d=u.index=u.data.index,c=this.data.x[d],x=this.data.y[d],g=this.data.z[d],h=this.data.u[d],m=this.data.v[d],y=this.data.w[d];u.traceCoordinate=[c,x,g,h,m,y,Math.sqrt(h*h+m*m+y*y)];var v=this.data.hovertext||this.data.text;return p(v)&&void 0!==v[d]?u.textLabel=v[d]:v&&(u.textLabel=v),!0}};var n={xaxis:0,yaxis:1,zaxis:2},r={tip:1,tail:0,cm:.25,center:.5},o={tip:1,tail:1,cm:.75,center:.5};function l(u,d){var c=u.fullSceneLayout,x=u.dataScale,g={};function h(_,f){var S=c[f],w=x[n[f]];return a(_,function(E){return S.d2l(E)*w})}g.vectors=s(h(d.u,"xaxis"),h(d.v,"yaxis"),h(d.w,"zaxis"),d._len),g.positions=s(h(d.x,"xaxis"),h(d.y,"yaxis"),h(d.z,"zaxis"),d._len);var m=b(d);g.colormap=T(d),g.vertexIntensityBounds=[m.min/d._normMax,m.max/d._normMax],g.coneOffset=r[d.anchor],"scaled"===d.sizemode?g.coneSize=d.sizeref||.5:g.coneSize=d.sizeref&&d._normMax?d.sizeref/d._normMax:.5;var y=M(g),v=d.lightposition;return y.lightPosition=[v.x,v.y,v.z],y.ambient=d.lighting.ambient,y.diffuse=d.lighting.diffuse,y.specular=d.lighting.specular,y.roughness=d.lighting.roughness,y.fresnel=d.lighting.fresnel,y.opacity=d.opacity,d._pad=o[d.anchor]*y.vectorScale*y.coneScale*d._normMax,y}i.update=function(u){this.data=u;var d=l(this.scene,u);this.mesh.update(d)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(u,d){var c=u.glplot.gl,x=l(u,d),g=k(c,x),h=new t(u,d.uid);return h.mesh=g,h.data=d,g._trace=h,u.glplot.add(g),h}},91750:function(ee,D,e){"use strict";var M=e(71828),k=e(1586),a=e(12674);ee.exports=function(T,b,p,s){function t(d,c){return M.coerce(T,b,a,d,c)}var i=t("u"),n=t("v"),r=t("w"),o=t("x"),l=t("y"),u=t("z");i&&i.length&&n&&n.length&&r&&r.length&&o&&o.length&&l&&l.length&&u&&u.length?(t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(T,b,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},98128:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(M,k){return M.norm=k.traceCoordinate[6],M},meta:{}}},70600:function(ee,D,e){"use strict";var M=e(21606),k=e(82196),a=e(12663),T=a.axisHoverFormat,b=a.descriptionOnlyNumbers,p=e(50693),s=e(79952).P,t=e(41940),i=e(1426).extendFlat,n=e(74808),r=n.COMPARISON_OPS2,o=n.INTERVAL_OPS,l=k.line;ee.exports=i({z:M.z,x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,text:M.text,hovertext:M.hovertext,transpose:M.transpose,xtype:M.xtype,ytype:M.ytype,xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:M.hovertemplate,texttemplate:i({},M.texttemplate,{}),textfont:i({},M.textfont,{}),hoverongaps:M.hoverongaps,connectgaps:i({},M.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:b("contour label")},operation:{valType:"enumerated",values:[].concat(r).concat(o),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:i({},l.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:s,smoothing:i({},l.smoothing,{}),editType:"plot"}},p("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(ee,D,e){"use strict";var M=e(21081),k=e(90757),a=e(18670),T=e(53572);ee.exports=function(b,p){var s=k(b,p),t=s[0].z;a(p,t);var i,n=p.contours,r=M.extractOpts(p);if("heatmap"===n.coloring&&r.auto&&!1===p.autocontour){var o=n.start,l=T(n),u=n.size||1,d=Math.floor((l-o)/u)+1;isFinite(u)||(u=1,d=1);var c=o-u/2;i=[c,c+d*u]}else i=t;return M.calc(b,p,{vals:i,cLetter:"z"}),s}},20083:function(ee){"use strict";ee.exports=function(D,e){var M,k=D[0],a=k.z;switch(e.type){case"levels":var T=Math.min(a[0][0],a[0][1]);for(M=0;M<D.length;M++){var b=D[M];b.prefixBoundary=!b.edgepaths.length&&(T>b.level||b.starts.length&&T===b.level)}break;case"constraint":if(k.prefixBoundary=!1,k.edgepaths.length)return;var p=k.x.length,s=k.y.length,t=-1/0,i=1/0;for(M=0;M<s;M++)i=Math.min(i,a[M][0]),i=Math.min(i,a[M][p-1]),t=Math.max(t,a[M][0]),t=Math.max(t,a[M][p-1]);for(M=1;M<p-1;M++)i=Math.min(i,a[0][M]),i=Math.min(i,a[s-1][M]),t=Math.max(t,a[0][M]),t=Math.max(t,a[s-1][M]);var n,r,o=e.value;switch(e._operation){case">":o>t&&(k.prefixBoundary=!0);break;case"<":(o<i||k.starts.length&&o===i)&&(k.prefixBoundary=!0);break;case"[]":n=Math.min(o[0],o[1]),((r=Math.max(o[0],o[1]))<i||n>t||k.starts.length&&r===i)&&(k.prefixBoundary=!0);break;case"][":n=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]),n<i&&r>t&&(k.prefixBoundary=!0)}}}},90654:function(ee,D,e){"use strict";var M=e(21081),k=e(86068),a=e(53572);ee.exports={min:"zmin",max:"zmax",calc:function(T,b,p){var s=b.contours,t=b.line,i=s.size||1,n=s.coloring,r=k(b,{isColorbar:!0});if("heatmap"===n){var o=M.extractOpts(b);p._fillgradient=o.reversescale?M.flipScale(o.colorscale):o.colorscale,p._zrange=[o.min,o.max]}else"fill"===n&&(p._fillcolor=r);p._line={color:"lines"===n?r:t.color,width:!1!==s.showlines?t.width:0,dash:t.dash},p._levels={start:s.start,end:a(s),size:i}}}},36914:function(ee){"use strict";ee.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(ee,D,e){"use strict";var M=e(92770),k=e(14523),a=e(7901),T=a.addOpacity,b=a.opacity,p=e(74808),s=e(71828).isArrayOrTypedArray,t=p.CONSTRAINT_REDUCTION,i=p.COMPARISON_OPS2;ee.exports=function(n,r,o,l,u,d){var c,x,g,y,v,_,h=r.contours,m=o("contours.operation");h._operation=t[m],y=o,v=h,-1===i.indexOf(v.operation)?(y("contours.value",[0,1]),s(v.value)?v.value.length>2?v.value=v.value.slice(2):0===v.length?v.value=[0,1]:v.length<2?(_=parseFloat(v.value[0]),v.value=[_,_+1]):v.value=[parseFloat(v.value[0]),parseFloat(v.value[1])]:M(v.value)&&(_=parseFloat(v.value),v.value=[_,_+1])):(y("contours.value",0),M(v.value)||(s(v.value)?v.value=parseFloat(v.value[0]):v.value=0)),"="===m?c=h.showlines=!0:(c=o("contours.showlines"),g=o("fillcolor",T((n.line||{}).color||u,.5))),c&&(x=o("line.color",g&&b(g)?T(r.fillcolor,1):u),o("line.width",2),o("line.dash")),o("line.smoothing"),k(o,l,x,d)}},64237:function(ee,D,e){"use strict";var M=e(74808),k=e(92770);function a(p,s){var t,i=Array.isArray(s);function n(r){return k(r)?+r:null}return-1!==M.COMPARISON_OPS2.indexOf(p)?t=n(i?s[0]:s):-1!==M.INTERVAL_OPS.indexOf(p)?t=i?[n(s[0]),n(s[1])]:[n(s),n(s)]:-1!==M.SET_OPS.indexOf(p)&&(t=i?s.map(n):[n(s)]),t}function T(p){return function(s){s=a(p,s);var t=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return{start:t,end:i,size:i-t}}}function b(p){return function(s){return{start:s=a(p,s),end:1/0,size:1/0}}}ee.exports={"[]":T("[]"),"][":T("]["),">":b(">"),"<":b("<"),"=":b("=")}},67217:function(ee){"use strict";ee.exports=function(D,e,M,k){var a=k("contours.start"),T=k("contours.end"),b=!1===a||!1===T,p=M("contours.size");!(b?e.autocontour=!0:M("autocontour",!1))&&p||M("ncontours")}},84857:function(ee,D,e){"use strict";var M=e(71828);function k(a){return M.extendFlat({},a,{edgepaths:M.extendDeep([],a.edgepaths),paths:M.extendDeep([],a.paths),starts:M.extendDeep([],a.starts)})}ee.exports=function(a,T){var b,p,s,t=function(r){return r.reverse()},i=function(r){return r};switch(T){case"=":case"<":return a;case">":for(1!==a.length&&M.warn("Contour data invalid for the specified inequality operation."),p=a[0],b=0;b<p.edgepaths.length;b++)p.edgepaths[b]=t(p.edgepaths[b]);for(b=0;b<p.paths.length;b++)p.paths[b]=t(p.paths[b]);for(b=0;b<p.starts.length;b++)p.starts[b]=t(p.starts[b]);return a;case"][":var n=t;t=i,i=n;case"[]":for(2!==a.length&&M.warn("Contour data invalid for the specified inequality range operation."),p=k(a[0]),s=k(a[1]),b=0;b<p.edgepaths.length;b++)p.edgepaths[b]=t(p.edgepaths[b]);for(b=0;b<p.paths.length;b++)p.paths[b]=t(p.paths[b]);for(b=0;b<p.starts.length;b++)p.starts[b]=t(p.starts[b]);for(;s.edgepaths.length;)p.edgepaths.push(i(s.edgepaths.shift()));for(;s.paths.length;)p.paths.push(i(s.paths.shift()));for(;s.starts.length;)p.starts.push(i(s.starts.shift()));return[p]}}},13031:function(ee,D,e){"use strict";var M=e(71828),k=e(67684),a=e(73927),T=e(83179),b=e(67217),p=e(8724),s=e(58623),t=e(70600);ee.exports=function(i,n,r,o){function l(d,c){return M.coerce(i,n,t,d,c)}if(k(i,n,l,o)){a(i,n,o,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var u="constraint"===l("contours.type");l("connectgaps",M.isArray1D(n.z)),u?T(i,n,l,o,r):(b(i,n,l,function(d){return M.coerce2(i,n,t,d)}),p(i,n,l,o)),n.contours&&"heatmap"===n.contours.coloring&&s(l,o)}else n.visible=!1}},87558:function(ee,D,e){"use strict";var M=e(71828),k=e(64237),a=e(53572);ee.exports=function(T,b,p){for(var s="constraint"===T.type?k[T._operation](T.value):T,t=s.size,i=[],n=a(s),r=p.trace._carpetTrace,o=r?{xaxis:r.aaxis,yaxis:r.baxis,x:p.a,y:p.b}:{xaxis:b.xaxis,yaxis:b.yaxis,x:p.x,y:p.y},l=s.start;l<n;l+=t)if(i.push(M.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},o)),i.length>1e3){M.warn("Too many contours, clipping at 1000",T);break}return i}},53572:function(ee){"use strict";ee.exports=function(D){return D.end+D.size/1e6}},81696:function(ee,D,e){"use strict";var M=e(71828),k=e(36914);function a(p,s,t,i){return Math.abs(p[0]-s[0])<t&&Math.abs(p[1]-s[1])<i}function T(p,s,t,i,n){var r,re,ae,oe,ue,ve,o=s.join(","),l=p.crossings[o],u=(ae=t,oe=s,ue=0,ve=0,(re=l)>20&&ae?208===re||1114===re?ue=0===oe[0]?1:-1:ve=0===oe[1]?1:-1:-1!==k.BOTTOMSTART.indexOf(re)?ve=1:-1!==k.LEFTSTART.indexOf(re)?ue=1:-1!==k.TOPSTART.indexOf(re)?ve=-1:ue=-1,[ue,ve]),d=[b(p,s,[-u[0],-u[1]])],c=p.z.length,x=p.z[0].length,g=s.slice(),h=u.slice();for(r=0;r<1e4;r++){if(l>20?(l=k.CHOOSESADDLE[l][(u[0]||u[1])<0?0:1],p.crossings[o]=k.SADDLEREMAINDER[l]):delete p.crossings[o],!(u=k.NEWDELTA[l])){M.log("Found bad marching index:",l,s,p.level);break}d.push(b(p,s,u)),s[0]+=u[0],s[1]+=u[1],o=s.join(","),a(d[d.length-1],d[d.length-2],i,n)&&d.pop();var m=u[0]&&(s[0]<0||s[0]>x-2)||u[1]&&(s[1]<0||s[1]>c-2);if(s[0]===g[0]&&s[1]===g[1]&&u[0]===h[0]&&u[1]===h[1]||t&&m)break;l=p.crossings[o]}1e4===r&&M.log("Infinite loop in contour?");var y,v,_,f,S,w,E,C,O,P,R,j,z,N,Y,F=a(d[0],d[d.length-1],i,n),U=0,V=.2*p.smoothing,te=[],$=0;for(r=1;r<d.length;r++)j=d[r],z=d[r-1],N=j[2]-z[2],Y=j[3]-z[3],U+=E=Math.sqrt(N*N+Y*Y),te.push(E);var X=U/te.length*V;function W(re){return d[re%d.length]}for(r=d.length-2;r>=$;r--)if((y=te[r])<X){for(_=0,v=r-1;v>=$&&y+te[v]<X;v--)y+=te[v];if(F&&r===d.length-2)for(_=0;_<v&&y+te[_]<X;_++)y+=te[_];S=r-v+_+1,w=Math.floor((r+v+_+2)/2),f=F||r!==d.length-2?F||-1!==v?S%2?W(w):[(W(w)[0]+W(w+1)[0])/2,(W(w)[1]+W(w+1)[1])/2]:d[0]:d[d.length-1],d.splice(v+1,r-v+1,f),r=v+1,_&&($=_),F&&(r===d.length-2?d[_]=d[d.length-1]:0===r&&(d[d.length-1]=d[0]))}for(d.splice(0,$),r=0;r<d.length;r++)d[r].length=2;if(!(d.length<2))if(F)d.pop(),p.paths.push(d);else{t||M.log("Unclosed interior contour?",p.level,g.join(","),d.join("L"));var J=!1;for(C=0;C<p.edgepaths.length;C++)if(P=p.edgepaths[C],!J&&a(P[0],d[d.length-1],i,n)){d.pop(),J=!0;var Q=!1;for(O=0;O<p.edgepaths.length;O++)if(a((R=p.edgepaths[O])[R.length-1],d[0],i,n)){Q=!0,d.shift(),p.edgepaths.splice(C,1),O===C?p.paths.push(d.concat(R)):(O>C&&O--,p.edgepaths[O]=R.concat(d,P));break}Q||(p.edgepaths[C]=d.concat(P))}for(C=0;C<p.edgepaths.length&&!J;C++)a((P=p.edgepaths[C])[P.length-1],d[0],i,n)&&(d.shift(),p.edgepaths[C]=P.concat(d),J=!0);J||p.edgepaths.push(d)}}function b(p,s,t){var i=s[0]+Math.max(t[0],0),n=s[1]+Math.max(t[1],0),r=p.z[n][i],o=p.xaxis,l=p.yaxis;if(t[1]){var u=(p.level-r)/(p.z[n][i+1]-r),d=(1!==u?(1-u)*o.c2l(p.x[i]):0)+(0!==u?u*o.c2l(p.x[i+1]):0);return[o.c2p(o.l2c(d),!0),l.c2p(p.y[n],!0),i+u,n]}var c=(p.level-r)/(p.z[n+1][i]-r),x=(1!==c?(1-c)*l.c2l(p.y[n]):0)+(0!==c?c*l.c2l(p.y[n+1]):0);return[o.c2p(p.x[i],!0),l.c2p(l.l2c(x),!0),i,n+c]}ee.exports=function(p,s,t){var i,n,r,o;for(s=s||.01,t=t||.01,n=0;n<p.length;n++){for(r=p[n],o=0;o<r.starts.length;o++)T(r,r.starts[o],"edge",s,t);for(i=0;Object.keys(r.crossings).length&&i<1e4;)i++,T(r,Object.keys(r.crossings)[0].split(",").map(Number),void 0,s,t);1e4===i&&M.log("Infinite loop in contour?")}}},52421:function(ee,D,e){"use strict";var M=e(7901),k=e(46248);ee.exports=function(a,T,b,p,s){s||(s={}),s.isContour=!0;var t=k(a,T,b,p,s);return t&&t.forEach(function(i){var n=i.trace;"constraint"===n.contours.type&&(n.fillcolor&&M.opacity(n.fillcolor)?i.color=M.addOpacity(n.fillcolor,1):n.contours.showlines&&M.opacity(n.line.color)&&(i.color=M.addOpacity(n.line.color,1)))}),t}},99442:function(ee,D,e){"use strict";ee.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k,a,T,b){if(b||(b={}),k("contours.showlabels")){var p=a.font;M.coerceFont(k,"contours.labelfont",{family:p.family,size:p.size,color:T}),k("contours.labelformat")}!1!==b.hasHover&&k("zhoverformat")}},86068:function(ee,D,e){"use strict";var M=e(39898),k=e(21081),a=e(53572);ee.exports=function(T){var b=T.contours,p=b.start,s=a(b),t=b.size||1,i=Math.floor((s-p)/t)+1,n="lines"===b.coloring?0:1,r=k.extractOpts(T);isFinite(t)||(t=1,i=1);var o,l,u=r.reversescale?k.flipScale(r.colorscale):r.colorscale,d=u.length,c=new Array(d),x=new Array(d),g=r.min,h=r.max;if("heatmap"===b.coloring){for(l=0;l<d;l++)o=u[l],c[l]=o[0]*(h-g)+g,x[l]=o[1];var m=M.extent([g,h,b.start,b.start+t*(i-1)]),y=m[g<h?0:1],v=m[g<h?1:0];y!==g&&(c.splice(0,0,y),x.splice(0,0,x[0])),v!==h&&(c.push(v),x.push(x[x.length-1]))}else{var _=T._input&&"number"==typeof T._input.zmin&&"number"==typeof T._input.zmax;for(_&&(p<=g||s>=h)&&(p<=g&&(p=g),s>=h&&(s=h),i=Math.floor((s-p)/t)+1,n=0),l=0;l<d;l++)o=u[l],c[l]=(o[0]*(i+n-1)-n/2)*t+p,x[l]=o[1];(_||T.autocontour)&&(c[0]>g&&(c.unshift(g),x.unshift(x[0])),c[c.length-1]<h&&(c.push(h),x.push(x[x.length-1])))}return k.makeColorScaleFunc({domain:c,range:x},{noNumericCheck:!0})}},87678:function(ee,D,e){"use strict";var M=e(36914);function k(a,T){var b=(T[0][0]>a?0:1)+(T[0][1]>a?0:2)+(T[1][1]>a?0:4)+(T[1][0]>a?0:8);return 5===b||10===b?a>(T[0][0]+T[0][1]+T[1][0]+T[1][1])/4?5===b?713:1114:5===b?104:208:15===b?0:b}ee.exports=function(a){var T,b,p,s,t,i,n,r,o,l=a[0].z,u=l.length,d=l[0].length,c=2===u||2===d;for(b=0;b<u-1;b++)for(s=[],0===b&&(s=s.concat(M.BOTTOMSTART)),b===u-2&&(s=s.concat(M.TOPSTART)),T=0;T<d-1;T++)for(p=s.slice(),0===T&&(p=p.concat(M.LEFTSTART)),T===d-2&&(p=p.concat(M.RIGHTSTART)),t=T+","+b,i=[[l[b][T],l[b][T+1]],[l[b+1][T],l[b+1][T+1]]],o=0;o<a.length;o++)(n=k((r=a[o]).level,i))&&(r.crossings[t]=n,-1!==p.indexOf(n)&&(r.starts.push([T,b]),c&&-1!==p.indexOf(n,p.indexOf(n)+1)&&r.starts.push([T,b])))}},29854:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(91424),T=e(21081),b=e(63893),p=e(89298),s=e(21994),t=e(50347),i=e(87678),n=e(81696),r=e(87558),o=e(84857),l=e(20083),u=e(36914),d=u.LABELOPTIMIZER;function c(h,m){var y,v,_,f,S,w,E,C="",O=0,P=h.edgepaths.map(function(F,U){return U}),R=!0;function j(F){return Math.abs(F[1]-m[2][1])<.01}function z(F){return Math.abs(F[0]-m[0][0])<.01}function N(F){return Math.abs(F[0]-m[2][0])<.01}for(;P.length;){for(w=a.smoothopen(h.edgepaths[O],h.smoothing),C+=R?w:w.replace(/^M/,"L"),P.splice(P.indexOf(O),1),y=h.edgepaths[O][h.edgepaths[O].length-1],f=-1,_=0;_<4;_++){if(!y){k.log("Missing end?",O,h);break}for(E=y,Math.abs(E[1]-m[0][1])<.01&&!N(y)?v=m[1]:z(y)?v=m[0]:j(y)?v=m[3]:N(y)&&(v=m[2]),S=0;S<h.edgepaths.length;S++){var Y=h.edgepaths[S][0];Math.abs(y[0]-v[0])<.01?Math.abs(y[0]-Y[0])<.01&&(Y[1]-y[1])*(v[1]-Y[1])>=0&&(v=Y,f=S):Math.abs(y[1]-v[1])<.01?Math.abs(y[1]-Y[1])<.01&&(Y[0]-y[0])*(v[0]-Y[0])>=0&&(v=Y,f=S):k.log("endpt to newendpt is not vert. or horz.",y,v,Y)}if(y=v,f>=0)break;C+="L"+v}if(f===h.edgepaths.length){k.log("unclosed perimeter path");break}O=f,(R=-1===P.indexOf(O))&&(O=P[0],C+="Z")}for(O=0;O<h.paths.length;O++)C+=a.smoothclosed(h.paths[O],h.smoothing);return C}function x(h,m,y,v){var _=m.width/2,f=m.height/2,S=h.x,w=h.y,E=h.theta,C=Math.cos(E)*_,O=Math.sin(E)*_,P=(S>v.center?v.right-S:S-v.left)/(C+Math.abs(Math.sin(E)*f)),R=(w>v.middle?v.bottom-w:w-v.top)/(Math.abs(O)+Math.cos(E)*f);if(P<1||R<1)return 1/0;var j=d.EDGECOST*(1/(P-1)+1/(R-1));j+=d.ANGLECOST*E*E;for(var z=S-C,N=w-O,Y=S+C,F=w+O,U=0;U<y.length;U++){var V=y[U],te=Math.cos(V.theta)*V.width/2,$=Math.sin(V.theta)*V.width/2,X=2*k.segmentDistance(z,N,Y,F,V.x-te,V.y-$,V.x+te,V.y+$)/(m.height+V.height),W=V.level===m.level,J=W?d.SAMELEVELDISTANCE:1;if(X<=J)return 1/0;j+=d.NEIGHBORCOST*(W?d.SAMELEVELFACTOR:1)/(X-J)}return j}function g(h){var m,y,v=h.trace._emptypoints,_=[],f=h.z.length,S=h.z[0].length,w=[];for(m=0;m<S;m++)w.push(1);for(m=0;m<f;m++)_.push(w.slice());for(m=0;m<v.length;m++)_[(y=v[m])[0]][y[1]]=0;return h.zmask=_,_}D.plot=function(h,m,y,v){var _=m.xaxis,f=m.yaxis;k.makeTraceGroups(v,y,"contour").each(function(S){var w=M.select(this),E=S[0],C=E.trace,O=E.x,P=E.y,R=C.contours,j=r(R,m,E),z=k.ensureSingle(w,"g","heatmapcoloring"),N=[];"heatmap"===R.coloring&&(N=[S]),t(h,m,N,z),i(j),n(j);var X,W,J,Q,Y=_.c2p(O[0],!0),F=_.c2p(O[O.length-1],!0),U=f.c2p(P[0],!0),V=f.c2p(P[P.length-1],!0),te=[[Y,V],[F,V],[F,U],[Y,U]],$=j;"constraint"===R.type&&($=o(j,R._operation)),X=w,W=te,J=R,(Q=k.ensureSingle(X,"g","contourbg").selectAll("path").data("fill"===J.coloring?[0]:[])).enter().append("path"),Q.exit().remove(),Q.attr("d","M"+W.join("L")+"Z").style("stroke","none"),function(X,W,J,Q){var re="fill"===Q.coloring||"constraint"===Q.type&&"="!==Q._operation,ae="M"+J.join("L")+"Z";re&&l(W,Q);var oe=k.ensureSingle(X,"g","contourfill").selectAll("path").data(re?W:[]);oe.enter().append("path"),oe.exit().remove(),oe.each(function(ue){var ve=(ue.prefixBoundary?ae:"")+c(ue,J);ve?M.select(this).attr("d",ve).style("stroke","none"):M.select(this).remove()})}(w,$,te,R),function(X,W,J,Q,re){var ae=J._context.staticPlot,oe=k.ensureSingle(X,"g","contourlines"),ue=!1!==re.showlines,ve=re.showlabels,be=ue&&ve,de=D.createLines(oe,ue||ve,W,ae),pe=D.createLineClip(oe,be,J,Q.trace.uid),ge=X.selectAll("g.contourlabels").data(ve?[0]:[]);if(ge.exit().remove(),ge.enter().append("g").classed("contourlabels",!0),ve){var Ae=[],ye=[];k.clearLocationCache();var we=D.labelFormatter(J,Q),se=a.tester.append("text").attr("data-notex",1).call(a.font,re.labelfont),ie=W[0].xaxis,he=W[0].yaxis,Se=ie._length,_e=he._length,Me=ie.range,Ee=he.range,Ie=k.aggNums(Math.min,null,Q.x),fe=k.aggNums(Math.max,null,Q.x),xe=k.aggNums(Math.min,null,Q.y),Te=k.aggNums(Math.max,null,Q.y),Ce=Math.max(ie.c2p(Ie,!0),0),De=Math.min(ie.c2p(fe,!0),Se),ze=Math.max(he.c2p(Te,!0),0),Ue=Math.min(he.c2p(xe,!0),_e),Ve={};Me[0]<Me[1]?(Ve.left=Ce,Ve.right=De):(Ve.left=De,Ve.right=Ce),Ee[0]<Ee[1]?(Ve.top=ze,Ve.bottom=Ue):(Ve.top=Ue,Ve.bottom=ze),Ve.middle=(Ve.top+Ve.bottom)/2,Ve.center=(Ve.left+Ve.right)/2,Ae.push([[Ve.left,Ve.top],[Ve.right,Ve.top],[Ve.right,Ve.bottom],[Ve.left,Ve.bottom]]);var Xe=Math.sqrt(Se*Se+_e*_e),at=u.LABELDISTANCE*Xe/Math.max(1,W.length/u.LABELINCREASE);de.each(function(st){var ht=D.calcTextOpts(st.level,we,se,J);M.select(this).selectAll("path").each(function(){var bt=k.getVisibleSegment(this,Ve,ht.height/2);if(bt&&!(bt.len<(ht.width+ht.height)*u.LABELMIN))for(var vt=Math.min(Math.ceil(bt.len/at),u.LABELMAX),Qe=0;Qe<vt;Qe++){var nt=D.findBestTextLocation(this,bt,ht,ye,Ve);if(!nt)break;D.addLabelData(nt,ht,ye,Ae)}})}),se.remove(),D.drawLabels(ge,ye,J,pe,be?Ae:null)}ve&&!ue&&de.remove()}(w,j,h,E,R),function(X,W,J,Q,re){var ae=Q.trace,oe=J._fullLayout._clips,ue="clip"+ae.uid,ve=oe.selectAll("#"+ue).data(ae.connectgaps?[]:[0]);if(ve.enter().append("clipPath").classed("contourclip",!0).attr("id",ue),ve.exit().remove(),!1===ae.connectgaps){var be={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:W.xaxis,yaxis:W.yaxis,x:Q.x,y:Q.y,z:g(Q),smoothing:0};i([be]),n([be]),l([be],{type:"levels"}),k.ensureSingle(ve,"path","").attr("d",(be.prefixBoundary?"M"+re.join("L")+"Z":"")+c(be,re))}else ue=null;a.setClipUrl(X,ue,J)}(w,m,h,E,te)})},D.createLines=function(h,m,y,v){var _=y[0].smoothing,f=h.selectAll("g.contourlevel").data(m?y:[]);if(f.exit().remove(),f.enter().append("g").classed("contourlevel",!0),m){var S=f.selectAll("path.openline").data(function(E){return E.pedgepaths||E.edgepaths});S.exit().remove(),S.enter().append("path").classed("openline",!0),S.attr("d",function(E){return a.smoothopen(E,_)}).style("stroke-miterlimit",1).style("vector-effect",v?"none":"non-scaling-stroke");var w=f.selectAll("path.closedline").data(function(E){return E.ppaths||E.paths});w.exit().remove(),w.enter().append("path").classed("closedline",!0),w.attr("d",function(E){return a.smoothclosed(E,_)}).style("stroke-miterlimit",1).style("vector-effect",v?"none":"non-scaling-stroke")}return f},D.createLineClip=function(h,m,y,v){var _=m?"clipline"+v:null,f=y._fullLayout._clips.selectAll("#"+_).data(m?[0]:[]);return f.exit().remove(),f.enter().append("clipPath").classed("contourlineclip",!0).attr("id",_),a.setClipUrl(h,_,y),f},D.labelFormatter=function(h,m){var y=h._fullLayout,v=m.trace,_=v.contours,f={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(_.labelformat)f.tickformat=_.labelformat,s(f,y);else{var S=T.extractOpts(v);if(S&&S.colorbar&&S.colorbar._axis)f=S.colorbar._axis;else{if("constraint"===_.type){var w=_.value;k.isArrayOrTypedArray(w)?f.range=[w[0],w[w.length-1]]:f.range=[w,w]}else f.range=[_.start,_.end],f.nticks=(_.end-_.start)/_.size;f.range[0]===f.range[1]&&(f.range[1]+=f.range[0]||1),f.nticks||(f.nticks=1e3),s(f,y),p.prepTicks(f),f._tmin=null,f._tmax=null}}return function(E){return p.tickText(f,E).text}},D.calcTextOpts=function(h,m,y,v){var _=m(h);y.text(_).call(b.convertToTspans,v);var f=y.node(),S=a.bBox(f,!0);return{text:_,width:S.width,height:S.height,fontSize:+f.style["font-size"].replace("px",""),level:h,dy:(S.top+S.bottom)/2}},D.findBestTextLocation=function(h,m,y,v,_){var f,S,w,E,C,O=y.width;m.isClosed?(S=m.len/d.INITIALSEARCHPOINTS,f=m.min+S/2,w=m.max):(S=(m.len-O)/(d.INITIALSEARCHPOINTS+1),f=m.min+S+O/2,w=m.max-(S+O)/2);for(var P=1/0,R=0;R<d.ITERATIONS;R++){for(var j=f;j<w;j+=S){var z=k.getTextLocation(h,m.total,j,O),N=x(z,y,v,_);N<P&&(P=N,C=z,E=j)}if(P>2*d.MAXCOST)break;R&&(S/=2),w=(f=E-S/2)+1.5*S}if(P<=d.MAXCOST)return C},D.addLabelData=function(h,m,y,v){var _=m.fontSize,f=m.width+_/3,S=Math.max(0,m.height-_/3),w=h.x,E=h.y,C=h.theta,O=Math.sin(C),P=Math.cos(C),R=function(z,N){return[w+z*P-N*O,E+z*O+N*P]},j=[R(-f/2,-S/2),R(-f/2,S/2),R(f/2,S/2),R(f/2,-S/2)];y.push({text:m.text,x:w,y:E,dy:m.dy,theta:C,level:m.level,width:f,height:S}),v.push(j)},D.drawLabels=function(h,m,y,v,_){var f=h.selectAll("text").data(m,function(E){return E.text+","+E.x+","+E.y+","+E.theta});if(f.exit().remove(),f.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(E){var C=E.x+Math.sin(E.theta)*E.dy,O=E.y-Math.cos(E.theta)*E.dy;M.select(this).text(E.text).attr({x:C,y:O,transform:"rotate("+180*E.theta/Math.PI+" "+C+" "+O+")"}).call(b.convertToTspans,y)}),_){for(var S="",w=0;w<_.length;w++)S+="M"+_[w].join("L")+"Z";k.ensureSingle(v,"path","").attr("d",S)}}},18670:function(ee,D,e){"use strict";var M=e(89298),k=e(71828);function a(T,b,p){var s={type:"linear",range:[T,b]};return M.autoTicks(s,(b-T)/(p||15)),s}ee.exports=function(T,b){var p=T.contours;if(T.autocontour){var s=T.zmin,t=T.zmax;(T.zauto||void 0===s)&&(s=k.aggNums(Math.min,null,b)),(T.zauto||void 0===t)&&(t=k.aggNums(Math.max,null,b));var i=a(s,t,T.ncontours);p.size=i.dtick,p.start=M.tickFirst(i),i.range.reverse(),p.end=M.tickFirst(i),p.start===s&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),T._input.contours||(T._input.contours={}),k.extendFlat(T._input.contours,{start:p.start,end:p.end,size:p.size}),T._input.autocontour=!0}else if("constraint"!==p.type){var n,r=p.start,o=p.end,l=T._input.contours;r>o&&(p.start=l.start=o,o=p.end=l.end=r,r=p.start),p.size>0||(n=r===o?1:a(r,o,T.ncontours).dtick,l.size=p.size=n)}}},84426:function(ee,D,e){"use strict";var M=e(39898),k=e(91424),a=e(70035),T=e(86068);ee.exports=function(b){var p=M.select(b).selectAll("g.contour");p.style("opacity",function(s){return s[0].trace.opacity}),p.each(function(s){var t=M.select(this),i=s[0].trace,n=i.contours,r=i.line,o=n.size||1,l=n.start,u="constraint"===n.type,d=!u&&"lines"===n.coloring,c=!u&&"fill"===n.coloring,x=d||c?T(i):null;t.selectAll("g.contourlevel").each(function(m){M.select(this).selectAll("path").call(k.lineGroupStyle,r.width,d?x(m.level):r.color,r.dash)});var g=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(m){k.font(M.select(this),{family:g.family,size:g.size,color:g.color||(d?x(m.level):r.color)})}),u)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(c){var h;t.selectAll("g.contourfill path").style("fill",function(m){return void 0===h&&(h=m.level),x(m.level+.5*o)}),void 0===h&&(h=l),t.selectAll("g.contourbg path").style("fill",x(h-.5*o))}}),a(b)}},8724:function(ee,D,e){"use strict";var M=e(1586),k=e(14523);ee.exports=function(a,T,b,p,s){var t,i=b("contours.coloring"),n="";"fill"===i&&(t=b("contours.showlines")),!1!==t&&("lines"!==i&&(n=b("line.color","#000")),b("line.width",.5),b("line.dash")),"none"!==i&&(!0!==a.showlegend&&(T.showlegend=!1),T._dfltShowLegend=!1,M(a,T,p,b,{prefix:"",cLetter:"z"})),b("line.smoothing"),k(b,p,n,s)}},88085:function(ee,D,e){"use strict";var M=e(21606),k=e(70600),a=e(50693),T=e(1426).extendFlat,b=k.contours;ee.exports=T({carpet:{valType:"string",editType:"calc"},z:M.z,a:M.x,a0:M.x0,da:M.dx,b:M.y,b0:M.y0,db:M.dy,text:M.text,hovertext:M.hovertext,transpose:M.transpose,atype:M.xtype,btype:M.ytype,fillcolor:k.fillcolor,autocontour:k.autocontour,ncontours:k.ncontours,contours:{type:b.type,start:b.start,end:b.end,size:b.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:b.showlines,showlabels:b.showlabels,labelfont:b.labelfont,labelformat:b.labelformat,operation:b.operation,value:b.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:k.line.color,width:k.line.width,dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},59885:function(ee,D,e){"use strict";var M=e(78803),k=e(71828),a=e(68296),T=e(4742),b=e(824),p=e(43907),s=e(70769),t=e(75005),i=e(22882),n=e(18670);ee.exports=function(r,o){var l=o._carpetTrace=i(r,o);if(l&&l.visible&&"legendonly"!==l.visible){if(!o.a||!o.b){var u=r.data[l.index],d=r.data[o.index];d.a||(d.a=u.a),d.b||(d.b=u.b),t(d,o,o._defaultColor,r._fullLayout)}var c=function(x,g){var h,m,y,v,_,f,S,w=g._carpetTrace,E=w.aaxis,C=w.baxis;E._minDtick=0,C._minDtick=0,k.isArray1D(g.z)&&a(g,E,C,"a","b",["z"]),h=g._a=g._a||g.a,v=g._b=g._b||g.b,h=h?E.makeCalcdata(g,"_a"):[],v=v?C.makeCalcdata(g,"_b"):[],m=g.a0||0,y=g.da||1,_=g.b0||0,f=g.db||1,S=g._z=T(g._z||g.z,g.transpose),g._emptypoints=p(S),b(S,g._emptypoints);var O=k.maxRowLength(S),P="scaled"===g.xtype?"":h,R=s(g,P,m,y,O,E),j="scaled"===g.ytype?"":v,z={a:R,b:s(g,j,_,f,S.length,C),z:S};return"levels"===g.contours.type&&"none"!==g.contours.coloring&&M(x,g,{vals:S,containerStr:"",cLetter:"z"}),[z]}(r,o);return n(o,o._z),c}}},75005:function(ee,D,e){"use strict";var M=e(71828),k=e(67684),a=e(88085),T=e(83179),b=e(67217),p=e(8724);ee.exports=function(s,t,i,n){function r(o,l){return M.coerce(s,t,a,o,l)}if(r("carpet"),s.a&&s.b){if(!k(s,t,r,n,"a","b"))return void(t.visible=!1);r("text"),"constraint"===r("contours.type")?T(s,t,r,n,i,{hasHover:!1}):(b(s,t,r,function(o){return M.coerce2(s,t,a,o)}),p(s,t,r,n,{hasHover:!1}))}else t._defaultColor=i,t._length=null}},93740:function(ee,D,e){"use strict";ee.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(ee,D,e){"use strict";var M=e(39898),k=e(27669),a=e(67961),T=e(91424),b=e(71828),p=e(87678),s=e(81696),t=e(29854),i=e(36914),n=e(84857),r=e(87558),o=e(20083),l=e(22882),u=e(4536);function d(g,h,m){var y=g.getPointAtLength(h),v=g.getPointAtLength(m),_=v.x-y.x,f=v.y-y.y,S=Math.sqrt(_*_+f*f);return[_/S,f/S]}function c(g){var h=Math.sqrt(g[0]*g[0]+g[1]*g[1]);return[g[0]/h,g[1]/h]}function x(g,h){var m=Math.abs(g[0]*h[0]+g[1]*h[1]);return Math.sqrt(1-m*m)/m}ee.exports=function(g,h,m,y){var v=h.xaxis,_=h.yaxis;b.makeTraceGroups(y,m,"contour").each(function(f){var S=M.select(this),w=f[0],E=w.trace,C=E._carpetTrace=l(g,E),O=g.calcdata[C.index][0];if(C.visible&&"legendonly"!==C.visible){var P=w.a,R=w.b,j=E.contours,z=r(j,h,w),N="constraint"===j.type,Y=j._operation,F=N?"="===Y?"lines":"fill":j.coloring,U=[[P[0],R[R.length-1]],[P[P.length-1],R[R.length-1]],[P[P.length-1],R[0]],[P[0],R[0]]];p(z);var V=1e-8*(P[P.length-1]-P[0]),te=1e-8*(R[R.length-1]-R[0]);s(z,V,te);var $,X,W,J,Q=z;"constraint"===j.type&&(Q=n(z,Y)),function(ue,ve){var be,de,pe,ge,Ae,ye,we,se,ie;for(be=0;be<ue.length;be++){for(Ae=(ge=ue[be]).pedgepaths=[],ye=ge.ppaths=[],de=0;de<ge.edgepaths.length;de++){for(ie=ge.edgepaths[de],we=[],pe=0;pe<ie.length;pe++)we[pe]=ve(ie[pe]);Ae.push(we)}for(de=0;de<ge.paths.length;de++){for(ie=ge.paths[de],se=[],pe=0;pe<ie.length;pe++)se[pe]=ve(ie[pe]);ye.push(se)}}}(z,oe);var re=[];for(J=O.clipsegments.length-1;J>=0;J--)$=O.clipsegments[J],X=k([],$.x,v.c2p),W=k([],$.y,_.c2p),X.reverse(),W.reverse(),re.push(a(X,W,$.bicubic));var ae="M"+re.join("L")+"Z";(function(ue,ve,be,de,pe,ge){var Ae,ye,we,se,ie=b.ensureSingle(ue,"g","contourbg").selectAll("path").data("fill"!==ge||pe?[]:[0]);ie.enter().append("path"),ie.exit().remove();var he=[];for(se=0;se<ve.length;se++)Ae=ve[se],ye=k([],Ae.x,be.c2p),we=k([],Ae.y,de.c2p),he.push(a(ye,we,Ae.bicubic));ie.attr("d","M"+he.join("L")+"Z").style("stroke","none")})(S,O.clipsegments,v,_,N,F),function(ue,ve,be,de,pe,ge,Ae,ye,we,se,ie){var he="fill"===se;he&&o(pe,ue.contours);var Se=b.ensureSingle(ve,"g","contourfill").selectAll("path").data(he?pe:[]);Se.enter().append("path"),Se.exit().remove(),Se.each(function(_e){var Me=(_e.prefixBoundary?ie:"")+function(Ee,Ie,fe,xe,Te,Ce,De,ze){var Ue,Ve,Xe,at,st,ht,bt,vt="",Qe=Ie.edgepaths.map(function(tt,Re){return Re}),nt=!0,wt=1e-4*Math.abs(fe[0][0]-fe[2][0]),Ot=1e-4*Math.abs(fe[0][1]-fe[2][1]);function Pt(tt){return Math.abs(tt[1]-fe[0][1])<Ot}function St(tt){return Math.abs(tt[1]-fe[2][1])<Ot}function qe(tt){return Math.abs(tt[0]-fe[0][0])<wt}function Ze(tt){return Math.abs(tt[0]-fe[2][0])<wt}function Ne(tt,Re){var Fe,et,We,ct,pt="";for(Pt(tt)&&!Ze(tt)||St(tt)&&!qe(tt)?(ct=Te.aaxis,We=u(Te,Ce,[tt[0],Re[0]],.5*(tt[1]+Re[1]))):(ct=Te.baxis,We=u(Te,Ce,.5*(tt[0]+Re[0]),[tt[1],Re[1]])),Fe=1;Fe<We.length;Fe++)for(pt+=ct.smoothing?"C":"L",et=0;et<We[Fe].length;et++){var dt=We[Fe][et];pt+=[De.c2p(dt[0]),ze.c2p(dt[1])]+" "}return pt}for(Ue=0,Ve=null;Qe.length;){var Ge=Ie.edgepaths[Ue][0];for(Ve&&(vt+=Ne(Ve,Ge)),bt=T.smoothopen(Ie.edgepaths[Ue].map(xe),Ie.smoothing),vt+=nt?bt:bt.replace(/^M/,"L"),Qe.splice(Qe.indexOf(Ue),1),Ve=Ie.edgepaths[Ue][Ie.edgepaths[Ue].length-1],st=-1,at=0;at<4;at++){if(!Ve){b.log("Missing end?",Ue,Ie);break}for(Pt(Ve)&&!Ze(Ve)?Xe=fe[1]:qe(Ve)?Xe=fe[0]:St(Ve)?Xe=fe[3]:Ze(Ve)&&(Xe=fe[2]),ht=0;ht<Ie.edgepaths.length;ht++){var rt=Ie.edgepaths[ht][0];Math.abs(Ve[0]-Xe[0])<wt?Math.abs(Ve[0]-rt[0])<wt&&(rt[1]-Ve[1])*(Xe[1]-rt[1])>=0&&(Xe=rt,st=ht):Math.abs(Ve[1]-Xe[1])<Ot?Math.abs(Ve[1]-rt[1])<Ot&&(rt[0]-Ve[0])*(Xe[0]-rt[0])>=0&&(Xe=rt,st=ht):b.log("endpt to newendpt is not vert. or horz.",Ve,Xe,rt)}if(st>=0)break;vt+=Ne(Ve,Xe),Ve=Xe}if(st===Ie.edgepaths.length){b.log("unclosed perimeter path");break}Ue=st,(nt=-1===Qe.indexOf(Ue))&&(Ue=Qe[0],vt+=Ne(Ve,Xe)+"Z",Ve=null)}for(Ue=0;Ue<Ie.paths.length;Ue++)vt+=T.smoothclosed(Ie.paths[Ue].map(xe),Ie.smoothing);return vt}(0,_e,ge,Ae,ye,we,be,de);Me?M.select(this).attr("d",Me).style("stroke","none"):M.select(this).remove()})}(E,S,v,_,Q,U,oe,C,O,F,ae),function(ue,ve,be,de,pe,ge,Ae){var ye=be._context.staticPlot,we=b.ensureSingle(ue,"g","contourlines"),se=!1!==pe.showlines,ie=pe.showlabels,he=se&&ie,Se=t.createLines(we,se||ie,ve,ye),_e=t.createLineClip(we,he,be,de.trace.uid),Me=ue.selectAll("g.contourlabels").data(ie?[0]:[]);if(Me.exit().remove(),Me.enter().append("g").classed("contourlabels",!0),ie){var Ee=ge.xaxis,Ie=ge.yaxis,fe=Ee._length,xe=Ie._length,Te=[[[0,0],[fe,0],[fe,xe],[0,xe]]],Ce=[];b.clearLocationCache();var De=t.labelFormatter(be,de),ze=T.tester.append("text").attr("data-notex",1).call(T.font,pe.labelfont),Ue={left:0,right:fe,center:fe/2,top:0,bottom:xe,middle:xe/2},Ve=Math.sqrt(fe*fe+xe*xe),Xe=i.LABELDISTANCE*Ve/Math.max(1,ve.length/i.LABELINCREASE);Se.each(function(at){var st=t.calcTextOpts(at.level,De,ze,be);M.select(this).selectAll("path").each(function(ht){var bt=this,vt=b.getVisibleSegment(bt,Ue,st.height/2);if(vt&&(function(Ot,Pt,St,qe,Ze,Ne){for(var Ge,rt=0;rt<St.pedgepaths.length;rt++)Pt===St.pedgepaths[rt]&&(Ge=St.edgepaths[rt]);if(Ge){var tt=Ze.a[0],Re=Ze.a[Ze.a.length-1],Fe=Ze.b[0],et=Ze.b[Ze.b.length-1],We=d(Ot,0,1),ct=d(Ot,qe.total,qe.total-1),pt=ut(Ge[0],We),dt=qe.total-ut(Ge[Ge.length-1],ct);qe.min<pt&&(qe.min=pt),qe.max>dt&&(qe.max=dt),qe.len=qe.max-qe.min}function ut(kt,yt){var gt,At=0,Lt=.1;return(Math.abs(kt[0]-tt)<Lt||Math.abs(kt[0]-Re)<Lt)&&(gt=c(Ze.dxydb_rough(kt[0],kt[1],Lt)),At=Math.max(At,Ne*x(yt,gt)/2)),(Math.abs(kt[1]-Fe)<Lt||Math.abs(kt[1]-et)<Lt)&&(gt=c(Ze.dxyda_rough(kt[0],kt[1],Lt)),At=Math.max(At,Ne*x(yt,gt)/2)),At}}(bt,ht,at,vt,Ae,st.height),!(vt.len<(st.width+st.height)*i.LABELMIN)))for(var Qe=Math.min(Math.ceil(vt.len/Xe),i.LABELMAX),nt=0;nt<Qe;nt++){var wt=t.findBestTextLocation(bt,vt,st,Ce,Ue);if(!wt)break;t.addLabelData(wt,st,Ce,Te)}})}),ze.remove(),t.drawLabels(Me,Ce,be,_e,he?Te:null)}ie&&!se&&Se.remove()}(S,z,g,w,j,h,C),T.setClipUrl(S,C._clipPathId,g)}function oe(ue){var ve=C.ab2xy(ue[0],ue[1],!0);return[v.c2p(ve[0]),_.c2p(ve[1])]}})}},64096:function(ee,D,e){"use strict";var M=e(50693),k=e(5386).fF,a=e(9012),T=e(99181),b=e(1426).extendFlat;ee.exports=b({lon:T.lon,lat:T.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:T.text,hovertext:T.hovertext,hoverinfo:b({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:k(),showlegend:b({},a.showlegend,{dflt:!1})},M("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(ee,D,e){"use strict";var M=e(92770),k=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,T=e(78803),b=e(71828)._;ee.exports=function(p,s){for(var t=s._length,i=new Array(t),n=s.z,r=k(n)&&n.length,o=0;o<t;o++){var l=i[o]={},u=s.lon[o],d=s.lat[o];if(l.lonlat=M(u)&&M(d)?[+u,+d]:[a,a],r){var c=n[o];l.z=M(c)?c:a}}return T(p,s,{vals:r?n:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:b(p,"lat:")+" ",lon:b(p,"lon:")+" "}}),i}},52414:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(7901),T=e(21081),b=e(50606).BADNUM,p=e(18214).makeBlank;ee.exports=function(s){var t=s[0].trace,i=!0===t.visible&&0!==t._length,n=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:p()};if(!i)return n;var r,o=[],l=t.z,u=t.radius,d=k.isArrayOrTypedArray(l)&&l.length,c=k.isArrayOrTypedArray(u);for(r=0;r<s.length;r++){var x=s[r],g=x.lonlat;if(g[0]!==b){var h={};if(d){var m=x.z;h.z=m!==b?m:0}c&&(h.r=M(u[r])&&u[r]>0?+u[r]:0),o.push({type:"Feature",geometry:{type:"Point",coordinates:g},properties:h})}}var y=T.extractOpts(t),v=y.reversescale?T.flipScale(y.colorscale):y.colorscale,_=v[0][1],f=["interpolate",["linear"],["heatmap-density"],0,a.opacity(_)<1?_:a.addOpacity(_,0)];for(r=1;r<v.length;r++)f.push(v[r][0],v[r][1]);var S=["interpolate",["linear"],["get","z"],y.min,0,y.max,1];return k.extendFlat(n.heatmap.paint,{"heatmap-weight":d?S:1/(y.max-y.min),"heatmap-color":f,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),n.geojson={type:"FeatureCollection",features:o},n.heatmap.layout.visibility="visible",n}},79429:function(ee,D,e){"use strict";var M=e(71828),k=e(1586),a=e(64096);ee.exports=function(T,b,p,s){function t(o,l){return M.coerce(T,b,a,o,l)}var i=t("lon")||[],n=t("lat")||[],r=Math.min(i.length,n.length);r?(b._length=r,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),k(T,b,s,t,{prefix:"",cLetter:"z"})):b.visible=!1}},62474:function(ee){"use strict";ee.exports=function(D,e){return D.lon=e.lon,D.lat=e.lat,D.z=e.z,D}},84684:function(ee,D,e){"use strict";var M=e(89298),k=e(28178).hoverPoints,a=e(28178).getExtraText;ee.exports=function(T,b,p){var s=k(T,b,p);if(s){var t=s[0],i=t.cd,n=i[0].trace,r=i[t.index];if(delete t.color,"z"in r){var o=t.subplot.mockAxis;t.z=r.z,t.zLabel=M.tickText(o,o.c2l(r.z),"hover").text}return t.extraText=a(n,r,i[0].t.labels),[t]}}},93814:function(ee,D,e){"use strict";ee.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(M,k){for(var a=k.getMapLayers(),T=0;T<a.length;T++){var b=a[T],p=b.id;if("symbol"===b.type&&"string"==typeof p&&-1===p.indexOf("plotly-"))return p}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(ee,D,e){"use strict";var M=e(52414),k=e(77734).traceLayerPrefix;function a(b,p){this.type="densitymapbox",this.subplot=b,this.uid=p,this.sourceId="source-"+p,this.layerList=[["heatmap",k+p+"-heatmap"]],this.below=null}var T=a.prototype;T.update=function(b){var p=this.subplot,s=this.layerList,t=M(b),i=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(t.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(t,i),this.below=i);for(var n=0;n<s.length;n++){var r=s[n],o=r[0],l=r[1],u=t[o];p.setOptions(l,"setLayoutProperty",u.layout),"visible"===u.layout.visibility&&p.setOptions(l,"setPaintProperty",u.paint)}},T._addLayers=function(b,p){for(var s=this.subplot,t=this.layerList,i=this.sourceId,n=0;n<t.length;n++){var r=t[n],o=r[0],l=b[o];s.addLayer({type:o,id:r[1],source:i,layout:l.layout,paint:l.paint},p)}},T._removeLayers=function(){for(var b=this.subplot.map,p=this.layerList,s=p.length-1;s>=0;s--)b.removeLayer(p[s][1])},T.dispose=function(){var b=this.subplot.map;this._removeLayers(),b.removeSource(this.sourceId)},ee.exports=function(b,p){var s=p[0].trace,t=new a(b,s.uid),i=t.sourceId,n=M(p),r=t.below=b.belowLookup["trace-"+s.uid];return b.map.addSource(i,{type:"geojson",data:n.geojson}),t._addLayers(n,r),t}},49789:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k,a){for(var T=0;T<k.length;T++)k[T].i=T;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.hovertext,k,"htx");var b=a.marker;if(b){M.mergeArray(b.opacity,k,"mo"),M.mergeArray(b.color,k,"mc");var p=b.line;p&&(M.mergeArray(p.color,k,"mlc"),M.mergeArrayCastPositive(p.width,k,"mlw"))}}},1285:function(ee,D,e){"use strict";var M,k=e(1486),a=e(82196).line,T=e(9012),b=e(12663).axisHoverFormat,p=e(5386).fF,s=e(5386).si,t=e(18517),i=e(1426).extendFlat,n=e(7901);ee.exports={x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),hovertext:k.hovertext,hovertemplate:p({},{keys:t.eventDataKeys}),hoverinfo:i({},T.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:s({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:k.text,textposition:k.textposition,insidetextanchor:i({},k.insidetextanchor,{dflt:"middle"}),textangle:i({},k.textangle,{dflt:0}),textfont:k.textfont,insidetextfont:k.insidetextfont,outsidetextfont:k.outsidetextfont,constraintext:k.constraintext,cliponaxis:k.cliponaxis,orientation:i({},k.orientation,{}),offset:i({},k.offset,{arrayOk:!1}),width:i({},k.width,{arrayOk:!1}),marker:(M=i({},k.marker),delete M.pattern,M),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:i({},a.color,{dflt:n.defaultLine}),width:i({},a.width,{dflt:0,editType:"plot"}),dash:a.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup}},9532:function(ee,D,e){"use strict";var M=e(89298),k=e(42973),a=e(49789),T=e(66279),b=e(50606).BADNUM;function p(s){return s===b?0:s}ee.exports=function(s,t){var i,n,r,o,l,u,d,c,x=M.getFromId(s,t.xaxis||"x"),g=M.getFromId(s,t.yaxis||"y");"h"===t.orientation?(i=x.makeCalcdata(t,"x"),r=g.makeCalcdata(t,"y"),o=k(t,g,"y",r),l=!!t.yperiodalignment,u="y"):(i=g.makeCalcdata(t,"y"),r=x.makeCalcdata(t,"x"),o=k(t,x,"x",r),l=!!t.xperiodalignment,u="x"),n=o.vals;var h,m=Math.min(n.length,i.length),y=new Array(m);for(t._base=[],d=0;d<m;d++){i[d]<0&&(i[d]=b);var v=!1;i[d]!==b&&d+1<m&&i[d+1]!==b&&(v=!0),c=y[d]={p:n[d],s:i[d],cNext:v},t._base[d]=-.5*c.s,l&&(y[d].orig_p=r[d],y[d][u+"End"]=o.ends[d],y[d][u+"Start"]=o.starts[d]),t.ids&&(c.id=String(t.ids[d])),0===d&&(y[0].vTotal=0),y[0].vTotal+=p(c.s),c.begR=p(c.s)/p(y[0].s)}for(d=0;d<m;d++)(c=y[d]).s!==b&&(c.sumR=c.s/y[0].vTotal,c.difR=void 0!==h?c.s/h:1,h=c.s);return a(y,t),T(y,t),y}},18517:function(ee){"use strict";ee.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(ee,D,e){"use strict";var M=e(11661).setGroupPositions;ee.exports=function(k,a){var T,b,p=k._fullLayout,s=k._fullData,t=k.calcdata,i=a.xaxis,n=a.yaxis,r=[],o=[],l=[];for(b=0;b<s.length;b++){var u=s[b],d="h"===u.orientation;!0===u.visible&&u.xaxis===i._id&&u.yaxis===n._id&&"funnel"===u.type&&(T=t[b],d?l.push(T):o.push(T),r.push(T))}var c={mode:p.funnelmode,norm:p.funnelnorm,gap:p.funnelgap,groupgap:p.funnelgroupgap};for(M(k,i,n,o,c),M(k,n,i,l,c),b=0;b<r.length;b++){T=r[b];for(var x=0;x<T.length;x++)x+1<T.length&&(T[x].nextP0=T[x+1].p0,T[x].nextS0=T[x+1].s0,T[x].nextP1=T[x+1].p1,T[x].nextS1=T[x+1].s1)}}},26199:function(ee,D,e){"use strict";var M=e(71828),k=e(26125),a=e(90769).handleText,T=e(67513),b=e(73927),p=e(1285),s=e(7901);ee.exports={supplyDefaults:function(t,i,n,r){function o(c,x){return M.coerce(t,i,p,c,x)}if(T(t,i,r,o)){b(t,i,r,o),o("xhoverformat"),o("yhoverformat"),o("orientation",i.y&&!i.x?"v":"h"),o("offset"),o("width");var l=o("text");o("hovertext"),o("hovertemplate");var u=o("textposition");a(t,i,r,o,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"===i.textposition||i.texttemplate||o("textinfo",M.isArrayOrTypedArray(l)?"text+value":"value");var d=o("marker.color",n);o("marker.line.color",s.defaultLine),o("marker.line.width"),o("connector.visible")&&(o("connector.fillcolor",(c=d,x=M.isArrayOrTypedArray(c)?"#000":c,s.addOpacity(x,.5*s.opacity(x)))),o("connector.line.width")&&(o("connector.line.color"),o("connector.line.dash")))}else i.visible=!1;var c,x},crossTraceDefaults:function(t,i){var n,r;function o(u){return M.coerce(r._input,r,p,u)}if("group"===i.funnelmode)for(var l=0;l<t.length;l++)n=(r=t[l])._input,k(n,r,i,o)}}},34598:function(ee){"use strict";ee.exports=function(D,e){return D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(D.percentInitial=e.percentInitial),"percentPrevious"in e&&(D.percentPrevious=e.percentPrevious),"percentTotal"in e&&(D.percentTotal=e.percentTotal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D}},63341:function(ee,D,e){"use strict";var M=e(7901).opacity,k=e(95423).hoverOnBars,a=e(71828).formatPercent;ee.exports=function(T,b,p,s,t){var m,y,v,_,f,i=k(T,b,p,s,t);if(i){var n=i.cd,r=n[0].trace,o="h"===r.orientation,l=n[i.index];i[(o?"x":"y")+"LabelVal"]=l.s,i.percentInitial=l.begR,i.percentInitialLabel=a(l.begR,1),i.percentPrevious=l.difR,i.percentPreviousLabel=a(l.difR,1),i.percentTotal=l.sumR,i.percentTotalLabel=a(l.sumR,1);var u=l.hi||r.hoverinfo,d=[];if(u&&"none"!==u&&"skip"!==u){var c="all"===u,x=u.split("+"),g=function(h){return c||-1!==x.indexOf(h)};g("percent initial")&&d.push(i.percentInitialLabel+" of initial"),g("percent previous")&&d.push(i.percentPreviousLabel+" of previous"),g("percent total")&&d.push(i.percentTotalLabel+" of total")}return i.extraText=d.join("<br>"),i.color=(m=l,y=r.marker,v=m.mc||y.color,_=m.mlc||y.line.color,f=m.mlw||y.line.width,M(v)?v:M(_)&&f?_:void 0),[i]}}},51759:function(ee,D,e){"use strict";ee.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(ee){"use strict";ee.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(ee,D,e){"use strict";var M=e(71828),k=e(10440);ee.exports=function(a,T,b){var p=!1;function s(n,r){return M.coerce(a,T,k,n,r)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&"funnel"===i.type){p=!0;break}}p&&(s("funnelmode"),s("funnelgap",.2),s("funnelgroupgap"))}},80461:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(91424),T=e(50606).BADNUM,b=e(17295),p=e(72597).clearMinTextSize;function s(t,i,n,r){var o=[],l=[],u=r?i:n,d=r?n:i;return o[0]=u.c2p(t.s0,!0),l[0]=d.c2p(t.p0,!0),o[1]=u.c2p(t.s1,!0),l[1]=d.c2p(t.p1,!0),o[2]=u.c2p(t.nextS0,!0),l[2]=d.c2p(t.nextP0,!0),o[3]=u.c2p(t.nextS1,!0),l[3]=d.c2p(t.nextP1,!0),r?[o,l]:[l,o]}ee.exports=function(t,i,n,r){var l,u,d,c,x,g,o=t._fullLayout;p("funnel",o),l=t,d=n,c=r,x=(u=i).xaxis,g=u.yaxis,k.makeTraceGroups(c,d,"trace bars").each(function(h){var m=M.select(this),y=h[0].trace,v=k.ensureSingle(m,"g","regions");if(y.connector&&y.connector.visible){var _="h"===y.orientation,f=v.selectAll("g.region").data(k.identity);f.enter().append("g").classed("region",!0),f.exit().remove();var S=f.size();f.each(function(w,E){if(E===S-1||w.cNext){var C=s(w,x,g,_),O=C[0],P=C[1],R="";O[0]!==T&&P[0]!==T&&O[1]!==T&&P[1]!==T&&O[2]!==T&&P[2]!==T&&O[3]!==T&&P[3]!==T&&(R+=_?"M"+O[0]+","+P[1]+"L"+O[2]+","+P[2]+"H"+O[3]+"L"+O[1]+","+P[1]+"Z":"M"+O[1]+","+P[1]+"L"+O[2]+","+P[3]+"V"+P[2]+"L"+O[1]+","+P[0]+"Z"),""===R&&(R="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",R).call(a.setClipUrl,u.layerClipId,l)}})}else v.remove()}),function(l,u,d,c){var x=u.xaxis,g=u.yaxis;k.makeTraceGroups(c,d,"trace bars").each(function(h){var m=M.select(this),y=h[0].trace,v=k.ensureSingle(m,"g","lines");if(y.connector&&y.connector.visible&&y.connector.line.width){var _="h"===y.orientation,f=v.selectAll("g.line").data(k.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var S=f.size();f.each(function(w,E){if(E===S-1||w.cNext){var C=s(w,x,g,_),O=C[0],P=C[1],R="";void 0!==O[3]&&void 0!==P[3]&&(_?(R+="M"+O[0]+","+P[1]+"L"+O[2]+","+P[2],R+="M"+O[1]+","+P[1]+"L"+O[3]+","+P[2]):(R+="M"+O[1]+","+P[1]+"L"+O[2]+","+P[3],R+="M"+O[1]+","+P[0]+"L"+O[2]+","+P[2])),""===R&&(R="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",R).call(a.setClipUrl,u.layerClipId,l)}})}else v.remove()})}(t,i,n,r),b.plot(t,i,n,r,{mode:o.funnelmode,norm:o.funnelmode,gap:o.funnelgap,groupgap:o.funnelgroupgap})}},68266:function(ee,D,e){"use strict";var M=e(39898),k=e(91424),a=e(7901),T=e(37822).DESELECTDIM,b=e(16688),p=e(72597).resizeText,s=b.styleTextPoints;ee.exports={style:function(t,i,n){var r=n||M.select(t).selectAll("g.funnellayer").selectAll("g.trace");p(t,r,"funnel"),r.style("opacity",function(o){return o[0].trace.opacity}),r.each(function(o){var l=M.select(this),u=o[0].trace;l.selectAll(".point > path").each(function(d){if(!d.isBlank){var c=u.marker;M.select(this).call(a.fill,d.mc||c.color).call(a.stroke,d.mlc||c.line.color).call(k.dashLine,c.line.dash,d.mlw||c.line.width).style("opacity",u.selectedpoints&&!d.selected?T:1)}}),s(l,u,t),l.selectAll(".regions").each(function(){M.select(this).selectAll("path").style("stroke-width",0).call(a.fill,u.connector.fillcolor)}),l.selectAll(".lines").each(function(){var d=u.connector.line;k.lineGroupStyle(M.select(this).selectAll("path"),d.width,d.color,d.dash)})})}}},86807:function(ee,D,e){"use strict";var M=e(34e3),k=e(9012),a=e(27670).Y,T=e(5386).fF,b=e(5386).si,p=e(1426).extendFlat;ee.exports={labels:M.labels,label0:M.label0,dlabel:M.dlabel,values:M.values,marker:{colors:M.marker.colors,line:{color:p({},M.marker.line.color,{dflt:null}),width:p({},M.marker.line.width,{dflt:1}),editType:"calc"},pattern:M.marker.pattern,editType:"calc"},text:M.text,hovertext:M.hovertext,scalegroup:p({},M.scalegroup,{}),textinfo:p({},M.textinfo,{flags:["label","text","value","percent"]}),texttemplate:b({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:p({},k.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:T({},{keys:["label","color","value","text","percent"]}),textposition:p({},M.textposition,{values:["inside","none"],dflt:"inside"}),textfont:M.textfont,insidetextfont:M.insidetextfont,title:{text:M.title.text,font:M.title.font,position:p({},M.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(ee,D,e){"use strict";var M=e(74875);D.name="funnelarea",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},89574:function(ee,D,e){"use strict";var M=e(32354);ee.exports={calc:function(k,a){return M.calc(k,a)},crossTraceCalc:function(k){M.crossTraceCalc(k,{type:"funnelarea"})}}},86282:function(ee,D,e){"use strict";var M=e(71828),k=e(86807),a=e(27670).c,T=e(90769).handleText,b=e(37434).handleLabelsAndValues,p=e(37434).handleMarkerDefaults;ee.exports=function(s,t,i,n){function r(m,y){return M.coerce(s,t,k,m,y)}var o=r("labels"),l=r("values"),u=b(o,l),d=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(r("label0"),r("dlabel")),d){t._length=d,p(s,t,n,r),r("scalegroup");var c,x=r("text"),g=r("texttemplate");if(g||(c=r("textinfo",Array.isArray(x)?"text+percent":"percent")),r("hovertext"),r("hovertemplate"),g||c&&"none"!==c){var h=r("textposition");T(s,t,n,r,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(t,n,r),r("title.text")&&(r("title.position"),M.coerceFont(r,"title.font",n.font)),r("aspectratio"),r("baseratio")}else t.visible=!1}},10421:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(ee,D,e){"use strict";var M=e(92774).hiddenlabels;ee.exports={hiddenlabels:M,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(ee,D,e){"use strict";var M=e(71828),k=e(80097);ee.exports=function(a,T){function b(p,s){return M.coerce(a,T,k,p,s)}b("hiddenlabels"),b("funnelareacolorway",T.colorway),b("extendfunnelareacolors")}},79187:function(ee,D,e){"use strict";var M=e(39898),k=e(91424),a=e(71828),T=a.strScale,b=a.strTranslate,p=e(63893),s=e(17295).toMoveInsideBar,t=e(72597),i=t.recordMinTextSize,n=t.clearMinTextSize,r=e(53581),o=e(14575),l=o.attachFxHandlers,u=o.determineInsideTextFont,d=o.layoutAreas,c=o.prerenderTitles,x=o.positionTitleOutside,g=o.formatSliceLabel;function h(m,y){return"l"+(y[0]-m[0])+","+(y[1]-m[1])}ee.exports=function(m,y){var v=m._context.staticPlot,_=m._fullLayout;n("funnelarea",_),c(y,m),d(y,_._size),a.makeTraceGroups(_._funnelarealayer,y,"trace").each(function(f){var S=M.select(this),w=f[0],E=w.trace;(function(C){if(C.length){var O=C[0],P=O.trace,R=P.aspectratio,j=P.baseratio;j>.999&&(j=.999);var z,N,Y,F=Math.pow(j,2),U=O.vTotal,V=U,te=U*F/(1-F)/U,$=[];for($.push(we()),N=C.length-1;N>-1;N--)if(!(Y=C[N]).hidden){var X=Y.v/V;te+=X,$.push(we())}var W=1/0,J=-1/0;for(N=0;N<$.length;N++)z=$[N],W=Math.min(W,z[1]),J=Math.max(J,z[1]);for(N=0;N<$.length;N++)$[N][1]-=(J+W)/2;var Q=$[$.length-1][0],re=O.r,ae=(J-W)/2,oe=re/Q,ue=re/ae*R;for(O.r=ue*ae,N=0;N<$.length;N++)$[N][0]*=oe,$[N][1]*=ue;var ve,be,de=[-(z=$[0])[0],z[1]],pe=[z[0],z[1]],ge=0;for(N=C.length-1;N>-1;N--)if(!(Y=C[N]).hidden){var Ae=$[ge+=1][0],ye=$[ge][1];Y.TL=[-Ae,ye],Y.TR=[Ae,ye],Y.BL=de,Y.BR=pe,Y.pxmid=(ve=Y.TR,be=Y.BR,[.5*(ve[0]+be[0]),.5*(ve[1]+be[1])]),de=Y.TL,pe=Y.TR}}function we(){var se,ie={x:se=Math.sqrt(te),y:-se};return[ie.x,ie.y]}})(f),S.each(function(){var C=M.select(this).selectAll("g.slice").data(f);C.enter().append("g").classed("slice",!0),C.exit().remove(),C.each(function(P,R){if(P.hidden)M.select(this).selectAll("path,g").remove();else{P.pointNumber=P.i,P.curveNumber=E.index;var j=w.cx,z=w.cy,N=M.select(this),Y=N.selectAll("path.surface").data([P]);Y.enter().append("path").classed("surface",!0).style({"pointer-events":v?"none":"all"}),N.call(l,m,f);var F="M"+(j+P.TR[0])+","+(z+P.TR[1])+h(P.TR,P.BR)+h(P.BR,P.BL)+h(P.BL,P.TL)+"Z";Y.attr("d",F),g(m,P,w);var U=r.castOption(E.textposition,P.pts),V=N.selectAll("g.slicetext").data(P.text&&"none"!==U?[0]:[]);V.enter().append("g").classed("slicetext",!0),V.exit().remove(),V.each(function(){var te=a.ensureSingle(M.select(this),"text","",function(oe){oe.attr("data-notex",1)}),$=a.ensureUniformFontSize(m,u(E,P,_.font));te.text(P.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(k.font,$).call(p.convertToTspans,m);var X,W,J,Q=k.bBox(te.node()),re=Math.min(P.BL[1],P.BR[1])+z,ae=Math.max(P.TL[1],P.TR[1])+z;W=Math.max(P.TL[0],P.BL[0])+j,J=Math.min(P.TR[0],P.BR[0])+j,(X=s(W,J,re,ae,Q,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=$.size,i(E.type,X,_),f[R].transform=X,a.setTransormAndDisplay(te,X)})}});var O=M.select(this).selectAll("g.titletext").data(E.title.text?[0]:[]);O.enter().append("g").classed("titletext",!0),O.exit().remove(),O.each(function(){var P=a.ensureSingle(M.select(this),"text","",function(z){z.attr("data-notex",1)}),R=E.title.text;E._meta&&(R=a.templateString(R,E._meta)),P.text(R).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(k.font,E.title.font).call(p.convertToTspans,m);var j=x(w,_._size);P.attr("transform",b(j.x,j.y)+T(Math.min(1,j.scale))+b(j.tx,j.ty))})})})}},71858:function(ee,D,e){"use strict";var M=e(39898),k=e(63463),a=e(72597).resizeText;ee.exports=function(T){var b=T._fullLayout._funnelarealayer.selectAll(".trace");a(T,b,"funnelarea"),b.each(function(p){var s=p[0].trace,t=M.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(i){M.select(this).call(k,i,s,T)})})}},21606:function(ee,D,e){"use strict";var M=e(82196),k=e(9012),a=e(41940),T=e(12663).axisHoverFormat,b=e(5386).fF,p=e(5386).si,s=e(50693),t=e(1426).extendFlat;ee.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},M.x,{impliedEdits:{xtype:"array"}}),x0:t({},M.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},M.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},M.y,{impliedEdits:{ytype:"array"}}),y0:t({},M.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},M.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},M.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},M.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},M.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},M.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},M.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},M.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:b(),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},k.showlegend,{dflt:!1})},{transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},90757:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=e(89298),T=e(42973),b=e(17562),p=e(78803),s=e(68296),t=e(4742),i=e(824),n=e(43907),r=e(70769),o=e(50606).BADNUM;function l(u){for(var d=[],c=u.length,x=0;x<c;x++){var g=u[x];g!==o&&d.push(g)}return d}ee.exports=function(u,d){var c,x,g,h,m,y,v,_,f,S,w,E=a.getFromId(u,d.xaxis||"x"),C=a.getFromId(u,d.yaxis||"y"),O=M.traceIs(d,"contour"),P=M.traceIs(d,"histogram"),R=M.traceIs(d,"gl2d"),j=O?"best":d.zsmooth;if(E._minDtick=0,C._minDtick=0,P)h=(w=b(u,d)).orig_x,c=w.x,x=w.x0,g=w.dx,_=w.orig_y,m=w.y,y=w.y0,v=w.dy,f=w.z;else{var z=d.z;k.isArray1D(z)?(s(d,E,C,"x","y",["z"]),c=d._x,m=d._y,z=d._z):(h=d.x?E.makeCalcdata(d,"x"):[],_=d.y?C.makeCalcdata(d,"y"):[],c=T(d,E,"x",h).vals,m=T(d,C,"y",_).vals,d._x=c,d._y=m),x=d.x0,g=d.dx,y=d.y0,v=d.dy,f=t(z,d,E,C)}function N(J){j=d._input.zsmooth=d.zsmooth=!1,k.warn('cannot use zsmooth: "fast": '+J)}function Y(J){if(J.length>1){var Q=(J[J.length-1]-J[0])/(J.length-1),re=Math.abs(Q/100);for(S=0;S<J.length-1;S++)if(Math.abs(J[S+1]-J[S]-Q)>re)return!1}return!0}(E.rangebreaks||C.rangebreaks)&&(f=function(J,Q,re){for(var ae=[],oe=-1,ue=0;ue<re.length;ue++)if(Q[ue]!==o){ae[++oe]=[];for(var ve=0;ve<re[ue].length;ve++)J[ve]!==o&&ae[oe].push(re[ue][ve])}return ae}(c,m,f),P||(c=l(c),m=l(m),d._x=c,d._y=m)),P||!O&&!d.connectgaps||(d._emptypoints=n(f),i(f,d._emptypoints)),d._islinear=!1,"log"===E.type||"log"===C.type?"fast"===j&&N("log axis found"):Y(c)?Y(m)?d._islinear=!0:"fast"===j&&N("y scale is not linear"):"fast"===j&&N("x scale is not linear");var F=k.maxRowLength(f),U="scaled"===d.xtype?"":c,V=r(d,U,x,g,F,E),te="scaled"===d.ytype?"":m,$=r(d,te,y,v,f.length,C);R||(d._extremes[E._id]=a.findExtremes(E,V),d._extremes[C._id]=a.findExtremes(C,$));var X={x:V,y:$,z:f,text:d._text||d.text,hovertext:d._hovertext||d.hovertext};if(d.xperiodalignment&&h&&(X.orig_x=h),d.yperiodalignment&&_&&(X.orig_y=_),U&&U.length===V.length-1&&(X.xCenter=U),te&&te.length===$.length-1&&(X.yCenter=te),P&&(X.xRanges=w.xRanges,X.yRanges=w.yRanges,X.pts=w.pts),O||p(u,d,{vals:f,cLetter:"z"}),O&&d.contours&&"heatmap"===d.contours.coloring){var W={type:"contour"===d.type?"heatmap":"histogram2d",xcalendar:d.xcalendar,ycalendar:d.ycalendar};X.xfill=r(W,U,x,g,F,E),X.yfill=r(W,te,y,v,f.length,C)}return[X]}},4742:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(50606).BADNUM;ee.exports=function(T,b,p,s){var t,i,n,r,o,l;function u(m){if(M(m))return+m}if(b&&b.transpose){for(t=0,o=0;o<T.length;o++)t=Math.max(t,T[o].length);if(0===t)return!1;n=function(m){return m.length},r=function(m,y,v){return(m[v]||[])[y]}}else t=T.length,n=function(m,y){return m[y].length},r=function(m,y,v){return(m[y]||[])[v]};var d=function(m,y,v){return y===a||v===a?a:r(m,y,v)};function c(m){if(b&&"carpet"!==b.type&&"contourcarpet"!==b.type&&m&&"category"===m.type&&b["_"+m._id.charAt(0)].length){var y=m._id.charAt(0),v={},_=b["_"+y+"CategoryMap"]||b[y];for(o=0;o<_.length;o++)v[_[o]]=o;return function(f){var S=v[m._categories[f]];return S+1?S:a}}return k.identity}var x=c(p),g=c(s);s&&"category"===s.type&&(t=s._categories.length);var h=new Array(t);for(o=0;o<t;o++)for(i=p&&"category"===p.type?p._categories.length:n(T,o),h[o]=new Array(i),l=0;l<i;l++)h[o][l]=u(d(T,g(o),x(l)));return h}},61243:function(ee){"use strict";ee.exports={min:"zmin",max:"zmax"}},68296:function(ee,D,e){"use strict";var M=e(71828),k=e(50606).BADNUM,a=e(42973);ee.exports=function(T,b,p,s,t,i){var n=T._length,r=b.makeCalcdata(T,s),o=p.makeCalcdata(T,t);r=a(T,b,s,r).vals,o=a(T,p,t,o).vals;var l,u,d,c,x=T.text,g=void 0!==x&&M.isArray1D(x),h=T.hovertext,m=void 0!==h&&M.isArray1D(h),y=M.distinctVals(r),v=y.vals,_=M.distinctVals(o),f=_.vals,S=[],w=f.length,E=v.length;for(l=0;l<i.length;l++)S[l]=M.init2dArray(w,E);g&&(d=M.init2dArray(w,E)),m&&(c=M.init2dArray(w,E));var C=M.init2dArray(w,E);for(l=0;l<n;l++)if(r[l]!==k&&o[l]!==k){var O=M.findBin(r[l]+y.minDiff/2,v),P=M.findBin(o[l]+_.minDiff/2,f);for(u=0;u<i.length;u++){var R=T[i[u]];S[u][P][O]=R[l],C[P][O]=l}g&&(d[P][O]=x[l]),m&&(c[P][O]=h[l])}for(T["_"+s]=v,T["_"+t]=f,u=0;u<i.length;u++)T["_"+i[u]]=S[u];g&&(T._text=d),m&&(T._hovertext=c),b&&"category"===b.type&&(T["_"+s+"CategoryMap"]=v.map(function(j){return b._categories[j]})),p&&"category"===p.type&&(T["_"+t+"CategoryMap"]=f.map(function(j){return p._categories[j]})),T._after2before=C}},76382:function(ee,D,e){"use strict";var M=e(71828),k=e(67684),a=e(58623),T=e(73927),b=e(49901),p=e(1586),s=e(21606);ee.exports=function(t,i,n,r){function o(l,u){return M.coerce(t,i,s,l,u)}k(t,i,o,r)?(T(t,i,r,o),o("xhoverformat"),o("yhoverformat"),o("text"),o("hovertext"),o("hovertemplate"),a(o,r),b(t,i,o,r),o("hoverongaps"),o("connectgaps",M.isArray1D(i.z)&&!1!==i.zsmooth),p(t,i,r,o,{prefix:"",cLetter:"z"})):i.visible=!1}},43907:function(ee,D,e){"use strict";var M=e(71828).maxRowLength;ee.exports=function(k){var a,T,b,p,s,t,i,n,r=[],o={},l=[],u=k[0],d=[],c=[0,0,0],x=M(k);for(T=0;T<k.length;T++)for(a=d,d=u,u=k[T+1]||[],b=0;b<x;b++)void 0===d[b]&&((t=(void 0!==d[b-1]?1:0)+(void 0!==d[b+1]?1:0)+(void 0!==a[b]?1:0)+(void 0!==u[b]?1:0))?(0===T&&t++,0===b&&t++,T===k.length-1&&t++,b===d.length-1&&t++,t<4&&(o[[T,b]]=[T,b,t]),r.push([T,b,t])):l.push([T,b]));for(;l.length;){for(i={},n=!1,s=l.length-1;s>=0;s--)(t=((o[[(T=(p=l[s])[0])-1,b=p[1]]]||c)[2]+(o[[T+1,b]]||c)[2]+(o[[T,b-1]]||c)[2]+(o[[T,b+1]]||c)[2])/20)&&(i[p]=[T,b,t],l.splice(s,1),n=!0);if(!n)throw"findEmpties iterated with no new neighbors";for(p in i)o[p]=i[p],r.push(i[p])}return r.sort(function(g,h){return h[2]-g[2]})}},46248:function(ee,D,e){"use strict";var M=e(30211),k=e(71828),a=k.isArrayOrTypedArray,T=e(89298),b=e(21081).extractOpts;ee.exports=function(p,s,t,i,n){n||(n={});var r,o,l,u,d=n.isContour,c=p.cd[0],x=c.trace,g=p.xa,h=p.ya,m=c.x,y=c.y,v=c.z,_=c.xCenter,f=c.yCenter,S=c.zmask,w=x.zhoverformat,E=m,C=y;if(!1!==p.index){try{l=Math.round(p.index[1]),u=Math.round(p.index[0])}catch{return void k.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index)}if(l<0||l>=v[0].length||u<0||u>v.length)return}else{if(M.inbox(s-m[0],s-m[m.length-1],0)>0||M.inbox(t-y[0],t-y[y.length-1],0)>0)return;if(d){var O;for(E=[2*m[0]-m[1]],O=1;O<m.length;O++)E.push((m[O]+m[O-1])/2);for(E.push([2*m[m.length-1]-m[m.length-2]]),C=[2*y[0]-y[1]],O=1;O<y.length;O++)C.push((y[O]+y[O-1])/2);C.push([2*y[y.length-1]-y[y.length-2]])}l=Math.max(0,Math.min(E.length-2,k.findBin(s,E))),u=Math.max(0,Math.min(C.length-2,k.findBin(t,C)))}var P,R,j=g.c2p(m[l]),z=g.c2p(m[l+1]),N=h.c2p(y[u]),Y=h.c2p(y[u+1]);d?(P=c.orig_x||m,R=c.orig_y||y,z=j,r=P[l],Y=N,o=R[u]):(P=c.orig_x||_||m,R=c.orig_y||f||y,r=_?P[l]:(P[l]+P[l+1])/2,o=f?R[u]:(R[u]+R[u+1])/2,g&&"category"===g.type&&(r=m[l]),h&&"category"===h.type&&(o=y[u]),x.zsmooth&&(j=z=g.c2p(r),N=Y=h.c2p(o)));var F=v[u][l];if(S&&!S[u][l]&&(F=void 0),void 0!==F||x.hoverongaps){var U;a(c.hovertext)&&a(c.hovertext[u])?U=c.hovertext[u][l]:a(c.text)&&a(c.text[u])&&(U=c.text[u][l]);var V=b(x),te={type:"linear",range:[V.min,V.max],hoverformat:w,_separators:g._separators,_numFormat:g._numFormat},$=T.tickText(te,F,"hover").text;return[k.extendFlat(p,{index:x._after2before?x._after2before[u][l]:[u,l],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:j,x1:z,y0:N,y1:Y,xLabelVal:r,yLabelVal:o,zLabelVal:F,zLabel:$,text:U})]}}},92165:function(ee,D,e){"use strict";ee.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(ee,D,e){"use strict";var M=e(71828),k=[[-1,0],[1,0],[0,-1],[0,1]];function a(b){return.5-.25*Math.min(1,.5*b)}function T(b,p,s){var t,i,n,r,o,l,u,d,c,x,g,h,m,y=0;for(r=0;r<p.length;r++){for(i=(t=p[r])[0],n=t[1],g=b[i][n],x=0,c=0,o=0;o<4;o++)(u=b[i+(l=k[o])[0]])&&void 0!==(d=u[n+l[1]])&&(0===x?h=m=d:(h=Math.min(h,d),m=Math.max(m,d)),c++,x+=d);if(0===c)throw"iterateInterp2d order is wrong: no defined neighbors";b[i][n]=x/c,void 0===g?c<4&&(y=1):(b[i][n]=(1+s)*b[i][n]-s*g,m>h&&(y=Math.max(y,Math.abs(b[i][n]-g)/(m-h))))}return y}ee.exports=function(b,p){var s,t=1;for(T(b,p),s=0;s<p.length&&!(p[s][2]<4);s++);for(p=p.slice(s),s=0;s<100&&t>.01;s++)t=T(b,p,a(t));return t>.01&&M.log("interp2d didn't converge quickly",t),b}},58623:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k,a){k("texttemplate");var T=M.extendFlat({},a.font,{color:"auto",size:"auto"});M.coerceFont(k,"textfont",T)}},70769:function(ee,D,e){"use strict";var M=e(73972),k=e(71828).isArrayOrTypedArray;ee.exports=function(a,T,b,p,s,t){var i,n,r,o=[],l=M.traceIs(a,"contour"),u=M.traceIs(a,"histogram"),d=M.traceIs(a,"gl2d");if(k(T)&&T.length>1&&!u&&"category"!==t.type){var c=T.length;if(!(c<=s))return l?T.slice(0,s):T.slice(0,s+1);if(l||d)o=Array.from(T).slice(0,s);else if(1===s)o=[T[0]-.5,T[0]+.5];else{for(o=[1.5*T[0]-.5*T[1]],r=1;r<c;r++)o.push(.5*(T[r-1]+T[r]));o.push(1.5*T[c-1]-.5*T[c-2])}if(c<s){var x=o[o.length-1],g=x-o[o.length-2];for(r=c;r<s;r++)x+=g,o.push(x)}}else{var h=a[t._id.charAt(0)+"calendar"];for(i=u?t.r2c(b,0,h):k(T)&&1===T.length?T[0]:void 0===b?0:("log"===t.type?t.d2c:t.r2c)(b,0,h),n=p||1,r=l||d?0:-.5;r<s;r++)o.push(i+n*r)}return o}},50347:function(ee,D,e){"use strict";var M=e(39898),k=e(84267),a=e(73972),T=e(91424),b=e(89298),p=e(71828),s=e(63893),t=e(8225),i=e(7901),n=e(21081).extractOpts,r=e(21081).makeColorScaleFuncFromTrace,o=e(77922),l=e(18783).LINE_SPACING,u=e(3883),d=e(32396).STYLE,c="heatmap-label";function x(v){return v.selectAll("g."+c)}function g(v){x(v).remove()}function h(v,_){var f=_.length-2,S=p.constrain(p.findBin(v,_),0,f),w=_[S],E=_[S+1],C=p.constrain(S+(v-w)/(E-w)-.5,0,f),O=Math.round(C),P=Math.abs(C-O);return C&&C!==f&&P?{bin0:O,frac:P,bin1:Math.round(O+P/(C-O))}:{bin0:O,bin1:O,frac:0}}function m(v,_){var f=_.length-1,S=p.constrain(p.findBin(v,_),0,f),w=_[S],E=(v-w)/(_[S+1]-w)||0;return E<=0?{bin0:S,bin1:S,frac:0}:E<.5?{bin0:S,bin1:S+1,frac:E}:{bin0:S+1,bin1:S,frac:1-E}}function y(v,_,f){v[_]=f[0],v[_+1]=f[1],v[_+2]=f[2],v[_+3]=Math.round(255*f[3])}ee.exports=function(v,_,f,S){var w=_.xaxis,E=_.yaxis;p.makeTraceGroups(S,f,"hm").each(function(C){var O,P,R,j,z,N,Y,F,U=M.select(this),V=C[0],te=V.trace,$=te.xgap||0,X=te.ygap||0,W=V.z,J=V.x,Q=V.y,re=V.xCenter,ae=V.yCenter,oe=a.traceIs(te,"contour"),ue=oe?"best":te.zsmooth,ve=W.length,be=p.maxRowLength(W),de=!1,pe=!1;for(N=0;void 0===O&&N<J.length-1;)O=w.c2p(J[N]),N++;for(N=J.length-1;void 0===P&&N>0;)P=w.c2p(J[N]),N--;for(P<O&&(R=P,P=O,O=R,de=!0),N=0;void 0===j&&N<Q.length-1;)j=E.c2p(Q[N]),N++;for(N=Q.length-1;void 0===z&&N>0;)z=E.c2p(Q[N]),N--;z<j&&(R=j,j=z,z=R,pe=!0),oe&&(re=J,ae=Q,J=V.xfill,Q=V.yfill);var ge="default";if(ue?ge="best"===ue?"smooth":"fast":te._islinear&&0===$&&0===X&&u()&&(ge="fast"),"fast"!==ge){var Ae="best"===ue?0:.5;O=Math.max(-Ae*w._length,O),P=Math.min((1+Ae)*w._length,P),j=Math.max(-Ae*E._length,j),z=Math.min((1+Ae)*E._length,z)}var ye,we,se=Math.round(P-O),ie=Math.round(z-j);if(O>=w._length||P<=0||j>=E._length||z<=0)return U.selectAll("image").data([]).exit().remove(),void g(U);"fast"===ge?(ye=be,we=ve):(ye=se,we=ie);var he=document.createElement("canvas");he.width=ye,he.height=we;var Se,_e,Me=he.getContext("2d",{willReadFrequently:!0}),Ee=r(te,{noNumericCheck:!0,returnArray:!0});"fast"===ge?(Se=de?function(Nt){return be-1-Nt}:p.identity,_e=pe?function(Nt){return ve-1-Nt}:p.identity):(Se=function(Nt){return p.constrain(Math.round(w.c2p(J[Nt])-O),0,se)},_e=function(Nt){return p.constrain(Math.round(E.c2p(Q[Nt])-j),0,ie)});var Ie,fe,xe,Te,Ce=_e(0),De=[Ce,Ce],ze=de?0:1,Ue=pe?0:1,Ve=0,Xe=0,at=0,st=0;function ht(Nt,Jt){if(void 0!==Nt){var un=Ee(Nt);return un[0]=Math.round(un[0]),un[1]=Math.round(un[1]),un[2]=Math.round(un[2]),Ve+=Jt,Xe+=un[0]*Jt,at+=un[1]*Jt,st+=un[2]*Jt,un}return[0,0,0,0]}function bt(Nt,Jt,un,fn){var Mn=Nt[un.bin0];if(void 0===Mn)return ht(void 0,1);var Fn,In=Nt[un.bin1],Rn=Jt[un.bin0],Jn=Jt[un.bin1],Yt=In-Mn||0,gn=Rn-Mn||0;return Fn=void 0===In?void 0===Jn?0:void 0===Rn?2*(Jn-Mn):2*(2*Jn-Rn-Mn)/3:void 0===Jn?void 0===Rn?0:2*(2*Mn-In-Rn)/3:void 0===Rn?2*(2*Jn-In-Mn)/3:Jn+Mn-In-Rn,ht(Mn+un.frac*Yt+fn.frac*(gn+un.frac*Fn))}if("default"!==ge){var vt,Qe=0;try{vt=new Uint8Array(ye*we*4)}catch{vt=new Array(ye*we*4)}if("smooth"===ge){var nt,wt,Ot,Pt=re||J,St=ae||Q,qe=new Array(Pt.length),Ze=new Array(St.length),Ne=new Array(se),Ge=re?m:h,rt=ae?m:h;for(N=0;N<Pt.length;N++)qe[N]=Math.round(w.c2p(Pt[N])-O);for(N=0;N<St.length;N++)Ze[N]=Math.round(E.c2p(St[N])-j);for(N=0;N<se;N++)Ne[N]=Ge(N,qe);for(Y=0;Y<ie;Y++)for(wt=W[(nt=rt(Y,Ze)).bin0],Ot=W[nt.bin1],N=0;N<se;N++,Qe+=4)y(vt,Qe,Te=bt(wt,Ot,Ne[N],nt))}else for(Y=0;Y<ve;Y++)for(xe=W[Y],De=_e(Y),N=0;N<be;N++)Te=ht(xe[N],1),y(vt,Qe=4*(De*be+Se(N)),Te);var tt=Me.createImageData(ye,we);try{tt.data.set(vt)}catch{var Re=tt.data,Fe=Re.length;for(Y=0;Y<Fe;Y++)Re[Y]=vt[Y]}Me.putImageData(tt,0,0)}else{var et=Math.floor($/2),We=Math.floor(X/2);for(Y=0;Y<ve;Y++)if(xe=W[Y],De.reverse(),De[Ue]=_e(Y+1),De[0]!==De[1]&&void 0!==De[0]&&void 0!==De[1])for(Ie=[fe=Se(0),fe],N=0;N<be;N++)Ie.reverse(),Ie[ze]=Se(N+1),Ie[0]!==Ie[1]&&void 0!==Ie[0]&&void 0!==Ie[1]&&(Te=ht(xe[N],(Ie[1]-Ie[0])*(De[1]-De[0])),Me.fillStyle="rgba("+Te.join(",")+")",Me.fillRect(Ie[0]+et,De[0]+We,Ie[1]-Ie[0]-$,De[1]-De[0]-X))}Xe=Math.round(Xe/Ve),at=Math.round(at/Ve),st=Math.round(st/Ve);var ct=k("rgb("+Xe+","+at+","+st+")");v._hmpixcount=(v._hmpixcount||0)+Ve,v._hmlumcount=(v._hmlumcount||0)+Ve*ct.getLuminance();var pt=U.selectAll("image").data(C);pt.enter().append("svg:image").attr({xmlns:o.svg,preserveAspectRatio:"none"}),pt.attr({height:ie,width:se,x:O,y:j,"xlink:href":he.toDataURL("image/png")}),"fast"!==ge||ue||pt.attr("style",d),g(U);var dt=te.texttemplate;if(dt){var ut=n(te),kt={type:"linear",range:[ut.min,ut.max],_separators:w._separators,_numFormat:w._numFormat},yt="histogram2dcontour"===te.type,gt="contour"===te.type,At=gt?ve-1:ve,Lt=gt?1:0,It=gt?be-1:be,qt=[];for(N=gt?1:0;N<At;N++){var Qt;if(gt)Qt=V.y[N];else if(yt){if(0===N||N===ve-1)continue;Qt=V.y[N]}else if(V.yCenter)Qt=V.yCenter[N];else{if(N+1===ve&&void 0===V.y[N+1])continue;Qt=(V.y[N]+V.y[N+1])/2}var Vt=Math.round(E.c2p(Qt));if(!(0>Vt||Vt>E._length))for(Y=Lt;Y<It;Y++){var Ft;if(gt)Ft=V.x[Y];else if(yt){if(0===Y||Y===be-1)continue;Ft=V.x[Y]}else if(V.xCenter)Ft=V.xCenter[Y];else{if(Y+1===be&&void 0===V.x[Y+1])continue;Ft=(V.x[Y]+V.x[Y+1])/2}var en=Math.round(w.c2p(Ft));if(!(0>en||en>w._length)){var wn=t({x:Ft,y:Qt},te,v._fullLayout);wn.x=Ft,wn.y=Qt;var kn=V.z[N][Y];void 0===kn?(wn.z="",wn.zLabel=""):(wn.z=kn,wn.zLabel=b.tickText(kt,kn,"hover").text);var on=V.text&&V.text[N]&&V.text[N][Y];void 0!==on&&!1!==on||(on=""),wn.text=on;var Ht=p.texttemplateString(dt,wn,v._fullLayout._d3locale,wn,te._meta||{});if(Ht){var nn=Ht.split("<br>"),Kt=nn.length,an=0;for(F=0;F<Kt;F++)an=Math.max(an,nn[F].length);qt.push({l:Kt,c:an,t:Ht,x:en,y:Vt,z:kn})}}}}var xn=te.textfont,_n=xn.family,mn=xn.size,An=v._fullLayout.font.size;if(!mn||"auto"===mn){var vn=1/0,On=1/0,Bn=0,er=0;for(F=0;F<qt.length;F++){var or=qt[F];if(Bn=Math.max(Bn,or.l),er=Math.max(er,or.c),F<qt.length-1){var $n=qt[F+1],qn=Math.abs($n.x-or.x),cr=Math.abs($n.y-or.y);qn&&(vn=Math.min(vn,qn)),cr&&(On=Math.min(On,cr))}}isFinite(vn)&&isFinite(On)?(vn-=$,On-=X,vn/=er,On/=Bn,vn/=l/2,On/=l,mn=Math.min(Math.floor(vn),Math.floor(On),An)):mn=An}if(mn<=0||!isFinite(mn))return;x(U).data(qt).enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each(function(Nt){var fn,Jt=M.select(this),un=xn.color;un&&"auto"!==un||(un=i.contrast("rgba("+Ee(Nt.z).join()+")")),Jt.attr("data-notex",1).call(s.positionText,(fn=Nt,fn.x),function(fn){return fn.y-mn*(fn.l*l/2-1)}(Nt)).call(T.font,_n,mn,un).text(Nt.t).call(s.convertToTspans,v)})}})}},70035:function(ee,D,e){"use strict";var M=e(39898);ee.exports=function(k){M.select(k).selectAll(".hm image").style("opacity",function(a){return a.trace.opacity})}},49901:function(ee){"use strict";ee.exports=function(D,e,M){!1===M("zsmooth")&&(M("xgap"),M("ygap")),M("zhoverformat")}},67684:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(73972);function T(b,p){var s=p(b);return"scaled"===(s?p(b+"type","array"):"scaled")&&(p(b+"0"),p("d"+b)),s}ee.exports=function(b,p,s,t,i,n){var r,o,l=s("z");if(i=i||"x",n=n||"y",void 0===l||!l.length)return 0;if(k.isArray1D(l)){r=s(i),o=s(n);var u=k.minRowLength(r),d=k.minRowLength(o);if(0===u||0===d)return 0;p._length=Math.min(u,d,l.length)}else{if(r=T(i,s),o=T(n,s),!function(c){for(var x,g=!0,h=!1,m=!1,y=0;y<c.length;y++){if(x=c[y],!k.isArrayOrTypedArray(x)){g=!1;break}x.length>0&&(h=!0);for(var v=0;v<x.length;v++)if(M(x[v])){m=!0;break}}return g&&h&&m}(l))return 0;s("transpose"),p._length=null}return"heatmapgl"===b.type||a.getComponentMethod("calendars","handleTraceDefaults")(b,p,[i,n],t),!0}},16063:function(ee,D,e){"use strict";for(var M=e(21606),k=e(50693),a=e(1426).extendFlat,T=e(30962).overrideAll,b=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],p={},s=0;s<b.length;s++){var t=b[s];p[t]=M[t]}p.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(p,k("",{cLetter:"z",autoColorDflt:!1})),ee.exports=T(p,"calc","nested")},59560:function(ee,D,e){"use strict";var M=e(9330).gl_heatmap2d,k=e(89298),a=e(78614);function T(p,s){this.scene=p,this.uid=s,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=M(p.glplot,this.options),this.heatmap._trace=this}var b=T.prototype;b.handlePick=function(p){var s=this.options,t=s.shape,i=p.pointId,n=i%t[0],r=Math.floor(i/t[0]),o=i;return{trace:this,dataCoord:p.dataCoord,traceCoord:[s.x[n],s.y[r],s.z[o]],textLabel:this.textLabels[i],name:this.name,pointIndex:[r,n],hoverinfo:this.hoverinfo}},b.update=function(p,s){var t=s[0];this.index=p.index,this.name=p.name,this.hoverinfo=p.hoverinfo;var i=t.z;this.options.z=[].concat.apply([],i);var n=i[0].length,r=i.length;this.options.shape=[n,r],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=p.zsmooth;var o=function(x){for(var g=x.colorscale,h=x.zmin,m=x.zmax,y=g.length,v=new Array(y),_=new Array(4*y),f=0;f<y;f++){var S=g[f],w=a(S[1]);v[f]=h+S[0]*(m-h);for(var E=0;E<4;E++)_[4*f+E]=w[E]}return{colorLevels:v,colorValues:_}}(p);this.options.colorLevels=o.colorLevels,this.options.colorValues=o.colorValues,this.textLabels=[].concat.apply([],p.text),this.heatmap.update(this.options);var l,u,d=this.scene.xaxis,c=this.scene.yaxis;!1===p.zsmooth&&(l={ppad:t.x[1]-t.x[0]},u={ppad:t.y[1]-t.y[0]}),p._extremes[d._id]=k.findExtremes(d,t.x,l),p._extremes[c._id]=k.findExtremes(c,t.y,u)},b.dispose=function(){this.heatmap.dispose()},ee.exports=function(p,s,t){var i=new T(p,s.uid);return i.update(s,t),i}},19600:function(ee,D,e){"use strict";var M=e(71828),k=e(67684),a=e(1586),T=e(16063);ee.exports=function(b,p,s,t){function i(n,r){return M.coerce(b,p,T,n,r)}k(b,p,i,t)?(i("text"),i("zsmooth"),a(b,p,t,i,{prefix:"",cLetter:"z"})):p.visible=!1}},3325:function(ee,D,e){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),ee.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(ee,D,e){"use strict";var M=e(1486),k=e(12663).axisHoverFormat,a=e(5386).fF,T=e(5386).si,b=e(41940),p=e(17656),s=e(72406),t=e(1426).extendFlat;ee.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:k("x"),yhoverformat:k("y"),text:t({},M.text,{}),hovertext:t({},M.hovertext,{}),orientation:M.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:p("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:p("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:s.eventDataKeys}),texttemplate:T({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},M.textposition,{arrayOk:!1}),textfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:M.insidetextanchor,textangle:M.textangle,cliponaxis:M.cliponaxis,constraintext:M.constraintext,marker:M.marker,offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:M.selected,unselected:M.unselected,_deprecated:{bardir:M._deprecated.bardir}}},42174:function(ee){"use strict";ee.exports=function(D,e){for(var M=D.length,k=0,a=0;a<M;a++)e[a]?(D[a]/=e[a],k+=D[a]):D[a]=null;return k}},17656:function(ee){"use strict";ee.exports=function(D,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(ee,D,e){"use strict";var M=e(92770);ee.exports={count:function(k,a,T){return T[k]++,1},sum:function(k,a,T,b){var p=b[a];return M(p)?(p=Number(p),T[k]+=p,p):0},avg:function(k,a,T,b,p){var s=b[a];return M(s)&&(s=Number(s),T[k]+=s,p[k]++),0},min:function(k,a,T,b){var p=b[a];if(M(p)){if(p=Number(p),!M(T[k]))return T[k]=p,p;if(T[k]>p){var s=p-T[k];return T[k]=p,s}}return 0},max:function(k,a,T,b){var p=b[a];if(M(p)){if(p=Number(p),!M(T[k]))return T[k]=p,p;if(T[k]<p){var s=p-T[k];return T[k]=p,s}}return 0}}},40965:function(ee,D,e){"use strict";var M=e(50606),k=M.ONEAVGYEAR,a=M.ONEAVGMONTH,T=M.ONEDAY,b=M.ONEHOUR,p=M.ONEMIN,s=M.ONESEC,t=e(89298).tickIncrement;function i(l,u,d,c){if(l*u<=0)return 1/0;for(var x=Math.abs(u-l),g="date"===d.type,h=n(x,g),m=0;m<10;m++){var y=n(80*h,g);if(h===y||!r(y,l,u,g,d,c))break;h=y}return h}function n(l,u){return u&&l>s?l>T?l>1.1*k?k:l>1.1*a?a:T:l>b?b:l>p?p:s:Math.pow(10,Math.floor(Math.log(l)/Math.LN10))}function r(l,u,d,c,x,g){if(c&&l>T){var h=o(u,x,g),m=o(d,x,g),y=l===k?0:1;return h[y]!==m[y]}return Math.floor(d/l)-Math.floor(u/l)>.1}function o(l,u,d){var c=u.c2d(l,k,d).split("-");return""===c[0]&&(c.unshift(),c[0]="-"+c[0]),c}ee.exports=function(l,u,d,c,x){var g,h,m=-1.1*u,y=-.1*u,v=l-y,_=d[0],f=d[1],S=Math.min(i(_+y,_+v,c,x),i(f+y,f+v,c,x)),w=Math.min(i(_+m,_+y,c,x),i(f+m,f+y,c,x));if(S>w&&w<Math.abs(f-_)/4e3?(g=S,h=!1):(g=Math.min(S,w),h=!0),"date"===c.type&&g>T){var E=g===k?1:6,C=g===k?"M12":"M1";return function(O,P){var R=c.c2d(O,k,x),j=R.indexOf("-",E);j>0&&(R=R.substr(0,j));var z=c.d2c(R,0,x);if(z<O){var N=t(z,C,!1,x);(z+N)/2<O+l&&(z=N)}return P&&h?t(z,C,!0,x):z}}return function(O,P){var R=g*Math.round(O/g);return R+g/10<O&&R+.9*g<O+l&&(R+=g),P&&h&&(R-=g),R}}},72138:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(73972),T=e(89298),b=e(75341),p=e(59575),s=e(36362),t=e(42174),i=e(40965);function n(r,o,l,u,d){var c,x,g,h,m,y,v,_=u+"bins",f=r._fullLayout,S=o["_"+u+"bingroup"],w=f._histogramBinOpts[S],E="overlay"===f.barmode,C=function(pe){return l.r2c(pe,0,h)},O=function(pe){return l.c2r(pe,0,h)},P="date"===l.type?function(pe){return pe||0===pe?k.cleanDate(pe,null,h):null}:function(pe){return M(pe)?Number(pe):null};function R(pe,ge,Ae){ge[pe+"Found"]?(ge[pe]=P(ge[pe]),null===ge[pe]&&(ge[pe]=Ae[pe])):(y[pe]=ge[pe]=Ae[pe],k.nestedProperty(x[0],_+"."+pe).set(Ae[pe]))}if(o["_"+u+"autoBinFinished"])delete o["_"+u+"autoBinFinished"];else{x=w.traces;var j=[],z=!0,N=!1,Y=!1;for(c=0;c<x.length;c++)if((g=x[c]).visible){var F=w.dirs[c];m=g["_"+F+"pos0"]=l.makeCalcdata(g,F),j=k.concat(j,m),delete g["_"+u+"autoBinFinished"],!0===o.visible&&(z?z=!1:(delete g._autoBin,g["_"+u+"autoBinFinished"]=1),a.traceIs(g,"2dMap")&&(N=!0),"histogram2dcontour"===g.type&&(Y=!0))}h=x[0][u+"calendar"];var U=T.autoBin(j,l,w.nbins,N,h,w.sizeFound&&w.size),V=x[0]._autoBin={};if(y=V[w.dirs[0]]={},Y&&(w.size||(U.start=O(T.tickIncrement(C(U.start),U.size,!0,h))),void 0===w.end&&(U.end=O(T.tickIncrement(C(U.end),U.size,!1,h)))),E&&!a.traceIs(o,"2dMap")&&0===U._dataSpan&&"category"!==l.type&&"multicategory"!==l.type&&""===o.bingroup&&void 0===o.xbins){if(d)return[U,m,!0];U=function(pe,ge,Ae,ye,we){var se,ie,he,Se=pe._fullLayout,_e=function(Xe,at){for(var st=at.xaxis,ht=at.yaxis,bt=at.orientation,vt=[],Qe=Xe._fullData,nt=0;nt<Qe.length;nt++){var wt=Qe[nt];"histogram"===wt.type&&!0===wt.visible&&wt.orientation===bt&&wt.xaxis===st&&wt.yaxis===ht&&vt.push(wt)}return vt}(pe,ge),Me=!1,Ee=1/0,Ie=[ge];for(se=0;se<_e.length;se++)if((ie=_e[se])===ge)Me=!0;else if(Me){var fe=n(pe,ie,Ae,ye,!0),xe=fe[0],Te=fe[2];ie["_"+ye+"autoBinFinished"]=1,ie["_"+ye+"pos0"]=fe[1],Te?Ie.push(ie):Ee=Math.min(Ee,xe.size)}else he=Se._histogramBinOpts[ie["_"+ye+"bingroup"]],Ee=Math.min(Ee,he.size||ie[we].size);var Ce=new Array(Ie.length);for(se=0;se<Ie.length;se++)for(var De=Ie[se]["_"+ye+"pos0"],ze=0;ze<De.length;ze++)if(void 0!==De[ze]){Ce[se]=De[ze];break}for(isFinite(Ee)||(Ee=k.distinctVals(Ce).minDiff),se=0;se<Ie.length;se++){var Ue=(ie=Ie[se])[ye+"calendar"],Ve={start:Ae.c2r(Ce[se]-Ee/2,0,Ue),end:Ae.c2r(Ce[se]+Ee/2,0,Ue),size:Ee};ie._input[we]=ie[we]=Ve,(he=Se._histogramBinOpts[ie["_"+ye+"bingroup"]])&&k.extendFlat(he,Ve)}return ge[we]}(r,o,l,u,_)}(v=g.cumulative||{}).enabled&&"include"!==v.currentbin&&("decreasing"===v.direction?U.start=O(T.tickIncrement(C(U.start),U.size,!0,h)):U.end=O(T.tickIncrement(C(U.end),U.size,!1,h))),w.size=U.size,w.sizeFound||(y.size=U.size,k.nestedProperty(x[0],_+".size").set(U.size)),R("start",w,U),R("end",w,U)}m=o["_"+u+"pos0"],delete o["_"+u+"pos0"];var te=o._input[_]||{},$=k.extendFlat({},w),X=w.start,W=l.r2l(te.start),J=void 0!==W;if((w.startFound||J)&&W!==l.r2l(X)){var Q=J?W:k.aggNums(Math.min,null,m),re={type:"category"===l.type||"multicategory"===l.type?"linear":l.type,r2l:l.r2l,dtick:w.size,tick0:X,calendar:h,range:[Q,T.tickIncrement(Q,w.size,!1,h)].map(l.l2r)},ae=T.tickFirst(re);ae>l.r2l(Q)&&(ae=T.tickIncrement(ae,w.size,!0,h)),$.start=l.l2r(ae),J||k.nestedProperty(o,_+".start").set($.start)}var oe=w.end,ue=l.r2l(te.end),ve=void 0!==ue;if((w.endFound||ve)&&ue!==l.r2l(oe)){var be=ve?ue:k.aggNums(Math.max,null,m);$.end=l.l2r(be),ve||k.nestedProperty(o,_+".start").set($.end)}var de="autobin"+u;return!1===o._input[de]&&(o._input[_]=k.extendFlat({},o[_]||{}),delete o._input[de],delete o[de]),[$,m]}ee.exports={calc:function(r,o){var l,u,d,c,x=[],g=[],h="h"===o.orientation,m=T.getFromId(r,h?o.yaxis:o.xaxis),y=h?"y":"x",v={x:"y",y:"x"}[y],_=o[y+"calendar"],f=o.cumulative,S=n(r,o,m,y),w=S[0],E=S[1],C="string"==typeof w.size,O=[],P=C?O:w,R=[],j=[],z=[],N=0,Y=o.histnorm,F=o.histfunc,U=-1!==Y.indexOf("density");f.enabled&&U&&(Y=Y.replace(/ ?density$/,""),U=!1);var V,te="max"===F||"min"===F?null:0,$=p.count,X=s[Y],W=!1,J=function(ie){return m.r2c(ie,0,_)};for(k.isArrayOrTypedArray(o[v])&&"count"!==F&&(V=o[v],W="avg"===F,$=p[F]),l=J(w.start),d=J(w.end)+(l-T.tickIncrement(l,w.size,!1,_))/1e6;l<d&&x.length<1e6&&(u=T.tickIncrement(l,w.size,!1,_),x.push((l+u)/2),g.push(te),z.push([]),O.push(l),U&&R.push(1/(u-l)),W&&j.push(0),!(u<=l));)l=u;O.push(l),C||"date"!==m.type||(P={start:J(P.start),end:J(P.end),size:P.size}),r._fullLayout._roundFnOpts||(r._fullLayout._roundFnOpts={});var Q=o["_"+y+"bingroup"],re={leftGap:1/0,rightGap:1/0};Q&&(r._fullLayout._roundFnOpts[Q]||(r._fullLayout._roundFnOpts[Q]=re),re=r._fullLayout._roundFnOpts[Q]);var ae,oe=g.length,ue=!0,ve=re.leftGap,be=re.rightGap,de={};for(l=0;l<E.length;l++){var pe=E[l];(c=k.findBin(pe,P))>=0&&c<oe&&(N+=$(c,l,g,V,j),ue&&z[c].length&&pe!==E[z[c][0]]&&(ue=!1),z[c].push(l),de[l]=c,ve=Math.min(ve,pe-O[c]),be=Math.min(be,O[c+1]-pe))}re.leftGap=ve,re.rightGap=be,ue||(ae=function(ie,he){return function(){var Se=r._fullLayout._roundFnOpts[Q];return i(Se.leftGap,Se.rightGap,O,m,_)(ie,he)}}),W&&(N=t(g,j)),X&&X(g,N,R),f.enabled&&function(ie,he,Se){var _e,Me,Ee;function Ie(xe){Ee=ie[xe],ie[xe]/=2}function fe(xe){Me=ie[xe],ie[xe]=Ee+Me/2,Ee+=Me}if("half"===Se)if("increasing"===he)for(Ie(0),_e=1;_e<ie.length;_e++)fe(_e);else for(Ie(ie.length-1),_e=ie.length-2;_e>=0;_e--)fe(_e);else if("increasing"===he){for(_e=1;_e<ie.length;_e++)ie[_e]+=ie[_e-1];"exclude"===Se&&(ie.unshift(0),ie.pop())}else{for(_e=ie.length-2;_e>=0;_e--)ie[_e]+=ie[_e+1];"exclude"===Se&&(ie.push(0),ie.shift())}}(g,f.direction,f.currentbin);var ge=Math.min(x.length,g.length),Ae=[],ye=0,we=ge-1;for(l=0;l<ge;l++)if(g[l]){ye=l;break}for(l=ge-1;l>=ye;l--)if(g[l]){we=l;break}for(l=ye;l<=we;l++)if(M(x[l])&&M(g[l])){var se={p:x[l],s:g[l],b:0};f.enabled||(se.pts=z[l],ue?se.ph0=se.ph1=z[l].length?E[z[l][0]]:x[l]:(o._computePh=!0,se.ph0=ae(O[l]),se.ph1=ae(O[l+1],!0))),Ae.push(se)}return 1===Ae.length&&(Ae[0].width1=T.tickIncrement(Ae[0].p,w.size,!1,_)-Ae[0].p),b(Ae,o),k.isArrayOrTypedArray(o.selectedpoints)&&k.tagSelected(Ae,o,de),Ae},calcAllAutoBins:n}},72406:function(ee){"use strict";ee.exports={eventDataKeys:["binNumber"]}},82222:function(ee,D,e){"use strict";var M=e(71828),k=e(41675),a=e(73972).traceIs,T=e(26125),b=M.nestedProperty,p=e(99082).getAxisGroup,s=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];ee.exports=function(i,n){var r,o,l,u,d,c,x,g=n._histogramBinOpts={},h=[],m={},y=[];function v(U,V){return M.coerce(r._input,r,r._module.attributes,U,V)}function _(U){return"v"===U.orientation?"x":"y"}function f(U,V,te){var $=U.uid+"__"+te;V||(V=$);var re,ae,X=(re=U,ae=te,k.getFromTrace({_fullLayout:n},re,ae).type),W=U[te+"calendar"]||"",J=g[V],Q=!0;J&&(X===J.axType&&W===J.calendar?(Q=!1,J.traces.push(U),J.dirs.push(te)):(V=$,X!==J.axType&&M.warn(["Attempted to group the bins of trace",U.index,"set on a","type:"+X,"axis","with bins on","type:"+J.axType,"axis."].join(" ")),W!==J.calendar&&M.warn(["Attempted to group the bins of trace",U.index,"set with a",W,"calendar","with bins",J.calendar?"on a "+J.calendar+" calendar":"w/o a set calendar"].join(" ")))),Q&&(g[V]={traces:[U],dirs:[te],axType:X,calendar:U[te+"calendar"]||""}),U["_"+te+"bingroup"]=V}for(d=0;d<i.length;d++)r=i[d],a(r,"histogram")&&(h.push(r),delete r._xautoBinFinished,delete r._yautoBinFinished,a(r,"2dMap")||T(r._input,r,n,v));var S=n._alignmentOpts||{};for(d=0;d<h.length;d++){if(r=h[d],l="",!a(r,"2dMap")){if(u=_(r),"group"===n.barmode&&r.alignmentgroup){var w=r[u+"axis"],E=p(n,w)+r.orientation;(S[E]||{})[r.alignmentgroup]&&(l=E)}l||"overlay"===n.barmode||(l=p(n,r.xaxis)+p(n,r.yaxis)+_(r))}l?(m[l]||(m[l]=[]),m[l].push(r)):y.push(r)}for(l in m)if(1!==(o=m[l]).length){var C=!1;for(o.length&&(r=o[0],C=v("bingroup")),l=C||l,d=0;d<o.length;d++){var O=(r=o[d])._input.bingroup;O&&O!==l&&M.warn(["Trace",r.index,"must match","within bingroup",l+".","Ignoring its bingroup:",O,"setting."].join(" ")),r.bingroup=l,f(r,l,_(r))}}else y.push(o[0]);for(d=0;d<y.length;d++){r=y[d];var P=v("bingroup");if(a(r,"2dMap"))for(x=0;x<2;x++){var R=v((u=t[x])+"bingroup",P?P+"__"+u:null);f(r,R,u)}else f(r,P,_(r))}for(l in g){var j=g[l];for(o=j.traces,c=0;c<s.length;c++){var z,N,Y=s[c],F=Y.name;if("nbins"!==F||!j.sizeFound){for(d=0;d<o.length;d++){if(r=o[d],u=j.dirs[d],z=Y.aStr[u],void 0!==b(r._input,z).get()){j[F]=v(z),j[F+"Found"]=!0;break}(N=(r._autoBin||{})[u]||{})[F]&&b(r,z).set(N[F])}if("start"===F||"end"===F)for(;d<o.length;d++)(r=o[d])["_"+u+"bingroup"]&&v(z,(N=(r._autoBin||{})[u]||{})[F]);"nbins"!==F||j.sizeFound||j.nbinsFound||(r=o[0],j[F]=v(z))}}}}},11385:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=e(7901),T=e(90769).handleText,b=e(98340),p=e(7745);ee.exports=function(s,t,i,n){function r(y,v){return k.coerce(s,t,p,y,v)}var o=r("x"),l=r("y");r("cumulative.enabled")&&(r("cumulative.direction"),r("cumulative.currentbin")),r("text");var u=r("textposition");T(s,t,n,r,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),r("hovertext"),r("hovertemplate"),r("xhoverformat"),r("yhoverformat");var d=r("orientation",l&&!o?"h":"v"),c="v"===d?"x":"y",x="v"===d?"y":"x",g=o&&l?Math.min(k.minRowLength(o)&&k.minRowLength(l)):k.minRowLength(t[c]||[]);if(g){t._length=g,M.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y"],n),t[x]&&r("histfunc"),r("histnorm"),r("autobin"+c),b(s,t,r,i,n),k.coerceSelectionMarkerOpacity(t,r);var h=(t.marker.line||{}).color,m=M.getComponentMethod("errorbars","supplyDefaults");m(s,t,h||a.defaultLine,{axis:"y"}),m(s,t,h||a.defaultLine,{axis:"x",inherit:"y"})}else t.visible=!1}},84402:function(ee){"use strict";ee.exports=function(D,e,M,k,a){if(D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(D.z=e.zLabelVal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),!(M.cumulative||{}).enabled){var T,b=Array.isArray(a)?k[0].pts[a[0]][a[1]]:k[a].pts;if(D.pointNumbers=b,D.binNumber=D.pointNumber,delete D.pointNumber,delete D.pointIndex,M._indexToPoints){T=[];for(var p=0;p<b.length;p++)T=T.concat(M._indexToPoints[b[p]])}else T=b;D.pointIndices=T}return D}},76440:function(ee,D,e){"use strict";var M=e(95423).hoverPoints,k=e(89298).hoverLabelText;ee.exports=function(a,T,b,p,s){var t=M(a,T,b,p,s);if(t){var i=(a=t[0]).cd[a.index],n=a.cd[0].trace;if(!n.cumulative.enabled){var r="h"===n.orientation?"y":"x";a[r+"Label"]=k(a[r+"a"],[i.ph0,i.ph1],n[r+"hoverformat"])}return t}}},36071:function(ee,D,e){"use strict";ee.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(ee){"use strict";ee.exports={percent:function(D,e){for(var M=D.length,k=100/e,a=0;a<M;a++)D[a]*=k},probability:function(D,e){for(var M=D.length,k=0;k<M;k++)D[k]/=e},density:function(D,e,M,k){var a=D.length;k=k||1;for(var T=0;T<a;T++)D[T]*=M[T]*k},"probability density":function(D,e,M,k){var a=D.length;k&&(e/=k);for(var T=0;T<a;T++)D[T]*=M[T]/e}}},35361:function(ee,D,e){"use strict";var M=e(7745),k=e(17656),a=e(21606),T=e(9012),b=e(12663).axisHoverFormat,p=e(5386).fF,s=e(5386).si,t=e(50693),i=e(1426).extendFlat;ee.exports=i({x:M.x,y:M.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:M.histnorm,histfunc:M.histfunc,nbinsx:M.nbinsx,xbins:k("x"),nbinsy:M.nbinsy,ybins:k("y"),autobinx:M.autobinx,autobiny:M.autobiny,bingroup:i({},M.bingroup,{}),xbingroup:i({},M.bingroup,{}),ybingroup:i({},M.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:p({},{keys:"z"}),texttemplate:s({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:i({},T.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(59575),T=e(36362),b=e(42174),p=e(40965),s=e(72138).calcAllAutoBins;function t(r,o,l,u){var d,c=new Array(r);if(u)for(d=0;d<r;d++)c[d]=1/(o[d+1]-o[d]);else{var x=1/l;for(d=0;d<r;d++)c[d]=x}return c}function i(r,o){return{start:r(o.start),end:r(o.end),size:o.size}}function n(r,o,l,u,d,c){var x,g=r.length-1,h=new Array(g),m=p(l,u,r,d,c);for(x=0;x<g;x++){var y=(o||[])[x];h[x]=void 0===y?[m(r[x]),m(r[x+1],!0)]:[y,y]}return h}ee.exports=function(r,o){var l,u,d,c,x=k.getFromId(r,o.xaxis),g=k.getFromId(r,o.yaxis),h=o.xcalendar,m=o.ycalendar,y=function(ht){return x.r2c(ht,0,h)},v=function(ht){return g.r2c(ht,0,m)},_=s(r,o,x,"x"),f=_[0],S=_[1],w=s(r,o,g,"y"),E=w[0],C=w[1],O=o._length;S.length>O&&S.splice(O,S.length-O),C.length>O&&C.splice(O,C.length-O);var P=[],R=[],j=[],z="string"==typeof f.size,N="string"==typeof E.size,Y=[],F=[],U=z?Y:f,V=N?F:E,te=0,$=[],X=[],W=o.histnorm,J=o.histfunc,Q=-1!==W.indexOf("density"),re="max"===J||"min"===J?null:0,ae=a.count,oe=T[W],ue=!1,ve=[],be=[],de="z"in o?o.z:"marker"in o&&Array.isArray(o.marker.color)?o.marker.color:"";de&&"count"!==J&&(ue="avg"===J,ae=a[J]);var pe=f.size,ge=y(f.start),Ae=y(f.end)+(ge-k.tickIncrement(ge,pe,!1,h))/1e6;for(l=ge;l<Ae;l=k.tickIncrement(l,pe,!1,h))R.push(re),Y.push(l),ue&&j.push(0);Y.push(l);var ye,we=R.length,se=(l-ge)/we,ie=(ye=ge+se/2,x.c2r(ye,0,h)),he=E.size,Se=v(E.start),_e=v(E.end)+(Se-k.tickIncrement(Se,he,!1,m))/1e6;for(l=Se;l<_e;l=k.tickIncrement(l,he,!1,m)){P.push(R.slice()),F.push(l);var Me=new Array(we);for(u=0;u<we;u++)Me[u]=[];X.push(Me),ue&&$.push(j.slice())}F.push(l);var ht,Ee=P.length,Ie=(l-Se)/Ee,fe=(ht=Se+Ie/2,g.c2r(ht,0,m));Q&&(ve=t(R.length,U,se,z),be=t(P.length,V,Ie,N)),z||"date"!==x.type||(U=i(y,U)),N||"date"!==g.type||(V=i(v,V));var xe=!0,Te=!0,Ce=new Array(we),De=new Array(Ee),ze=1/0,Ue=1/0,Ve=1/0,Xe=1/0;for(l=0;l<O;l++){var at=S[l],st=C[l];d=M.findBin(at,U),c=M.findBin(st,V),d>=0&&d<we&&c>=0&&c<Ee&&(te+=ae(d,l,P[c],de,$[c]),X[c][d].push(l),xe&&(void 0===Ce[d]?Ce[d]=at:Ce[d]!==at&&(xe=!1)),Te&&(void 0===De[c]?De[c]=st:De[c]!==st&&(Te=!1)),ze=Math.min(ze,at-Y[d]),Ue=Math.min(Ue,Y[d+1]-at),Ve=Math.min(Ve,st-F[c]),Xe=Math.min(Xe,F[c+1]-st))}if(ue)for(c=0;c<Ee;c++)te+=b(P[c],$[c]);if(oe)for(c=0;c<Ee;c++)oe(P[c],te,ve,be[c]);return{x:S,xRanges:n(Y,xe&&Ce,ze,Ue,x,h),x0:ie,dx:se,y:C,yRanges:n(F,Te&&De,Ve,Xe,g,m),y0:fe,dy:Ie,z:P,pts:X}}},93888:function(ee,D,e){"use strict";var M=e(71828),k=e(75238),a=e(49901),T=e(1586),b=e(58623),p=e(35361);ee.exports=function(s,t,i,n){function r(o,l){return M.coerce(s,t,p,o,l)}k(s,t,r,n),!1!==t.visible&&(a(s,t,r,n),T(s,t,n,r,{prefix:"",cLetter:"z"}),r("hovertemplate"),b(r,n),r("xhoverformat"),r("yhoverformat"))}},76128:function(ee,D,e){"use strict";var M=e(46248),k=e(89298).hoverLabelText;ee.exports=function(a,T,b,p,s){var t=M(a,T,b,p,s);if(t){var i=(a=t[0]).index,n=i[0],r=i[1],o=a.cd[0],l=o.trace,u=o.xRanges[r],d=o.yRanges[n];return a.xLabel=k(a.xa,[u[0],u[1]],l.xhoverformat),a.yLabel=k(a.ya,[d[0],d[1]],l.yhoverformat),t}}},43905:function(ee,D,e){"use strict";ee.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(ee,D,e){"use strict";var M=e(73972),k=e(71828);ee.exports=function(a,T,b,p){var s=b("x"),t=b("y"),i=k.minRowLength(s),n=k.minRowLength(t);i&&n?(T._length=Math.min(i,n),M.getComponentMethod("calendars","handleTraceDefaults")(a,T,["x","y"],p),(b("z")||b("marker.color"))&&b("histfunc"),b("histnorm"),b("autobinx"),b("autobiny")):T.visible=!1}},99066:function(ee,D,e){"use strict";var M=e(35361),k=e(70600),a=e(50693),T=e(12663).axisHoverFormat,b=e(1426).extendFlat;ee.exports=b({x:M.x,y:M.y,z:M.z,marker:M.marker,histnorm:M.histnorm,histfunc:M.histfunc,nbinsx:M.nbinsx,xbins:M.xbins,nbinsy:M.nbinsy,ybins:M.ybins,autobinx:M.autobinx,autobiny:M.autobiny,bingroup:M.bingroup,xbingroup:M.xbingroup,ybingroup:M.ybingroup,autocontour:k.autocontour,ncontours:k.ncontours,contours:k.contours,line:{color:k.line.color,width:b({},k.line.width,{dflt:.5}),dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:M.hovertemplate,texttemplate:k.texttemplate,textfont:k.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(ee,D,e){"use strict";var M=e(71828),k=e(75238),a=e(67217),T=e(8724),b=e(58623),p=e(99066);ee.exports=function(s,t,i,n){function r(o,l){return M.coerce(s,t,p,o,l)}k(s,t,r,n),!1!==t.visible&&(a(s,t,r,function(o){return M.coerce2(s,t,p,o)}),T(s,t,r,n),r("xhoverformat"),r("yhoverformat"),r("hovertemplate"),t.contours&&"heatmap"===t.contours.coloring&&b(r,n))}},35902:function(ee,D,e){"use strict";ee.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(ee,D,e){"use strict";var M=e(5386).fF,k=e(5386).si,a=e(50693),T=e(27670).Y,b=e(34e3),p=e(57564),s=e(45802),t=e(43473),i=e(1426).extendFlat,n=e(79952).u;ee.exports={labels:p.labels,parents:p.parents,values:p.values,branchvalues:p.branchvalues,count:p.count,level:p.level,maxdepth:p.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:s.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:i({colors:p.marker.colors,line:p.marker.line,pattern:n,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:p.leaf,pathbar:s.pathbar,text:b.text,textinfo:p.textinfo,texttemplate:k({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:p.hoverinfo,hovertemplate:M({},{keys:t.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:s.outsidetextfont,textposition:s.textposition,sort:b.sort,root:p.root,domain:T({name:"icicle",trace:!0,editType:"calc"})}},96346:function(ee,D,e){"use strict";var M=e(74875);D.name="icicle",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},46584:function(ee,D,e){"use strict";var M=e(52147);D.y=function(k,a){return M.calc(k,a)},D.T=function(k){return M._runCrossTraceCalc("icicle",k)}},56524:function(ee,D,e){"use strict";var M=e(71828),k=e(46291),a=e(7901),T=e(27670).c,b=e(90769).handleText,p=e(97313).TEXTPAD,s=e(37434).handleMarkerDefaults,t=e(21081),i=t.hasColorscale,n=t.handleDefaults;ee.exports=function(r,o,l,u){function d(v,_){return M.coerce(r,o,k,v,_)}var c=d("labels"),x=d("parents");if(c&&c.length&&x&&x.length){var g=d("values");g&&g.length?d("branchvalues"):d("count"),d("level"),d("maxdepth"),d("tiling.orientation"),d("tiling.flip"),d("tiling.pad");var h=d("text");d("texttemplate"),o.texttemplate||d("textinfo",M.isArrayOrTypedArray(h)?"text+label":"label"),d("hovertext"),d("hovertemplate");var m=d("pathbar.visible");b(r,o,u,d,"auto",{hasPathbar:m,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),d("textposition"),s(r,o,u,d);var y=o._hasColorscale=i(r,"marker","colors")||(r.marker||{}).coloraxis;y&&n(r,o,u,d,{prefix:"marker.",cLetter:"c"}),d("leaf.opacity",y?1:.7),o._hovered={marker:{line:{width:2,color:a.contrast(u.paper_bgcolor)}}},m&&(d("pathbar.thickness",o.pathbar.textfont.size+2*p),d("pathbar.side"),d("pathbar.edgeshape")),d("sort"),d("root.color"),T(o,u,d),o._length=null}else o.visible=!1}},90666:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(91424),T=e(63893),b=e(21538),p=e(82454).styleOne,s=e(43473),t=e(2791),i=e(83523),n=e(24714).formatSliceLabel,r=!1;ee.exports=function(o,l,u,d,c){var x=c.width,g=c.height,h=c.viewX,m=c.viewY,y=c.pathSlice,v=c.toMoveInsideSlice,_=c.strTransform,f=c.hasTransition,S=c.handleSlicesExit,w=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,C=c.prevEntry,O=o._context.staticPlot,P=o._fullLayout,R=l[0].trace,j=-1!==R.textposition.indexOf("left"),z=-1!==R.textposition.indexOf("right"),N=-1!==R.textposition.indexOf("bottom"),Y=b(u,[x,g],{flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,orientation:R.tiling.orientation,pad:{inner:R.tiling.pad},maxDepth:R._maxDepth}).descendants(),F=1/0,U=-1/0;Y.forEach(function(W){var J=W.depth;J>=R._maxDepth?(W.x0=W.x1=(W.x0+W.x1)/2,W.y0=W.y1=(W.y0+W.y1)/2):(F=Math.min(F,J),U=Math.max(U,J))}),d=d.data(Y,t.getPtId),R._maxVisibleLayers=isFinite(U)?U-F+1:0,d.enter().append("g").classed("slice",!0),S(d,r,{},[x,g],y),d.order();var V=null;if(f&&C){var te=t.getPtId(C);d.each(function(W){null===V&&t.getPtId(W)===te&&(V={x0:W.x0,x1:W.x1,y0:W.y0,y1:W.y1})})}var $=function(){return V||{x0:0,x1:x,y0:0,y1:g}},X=d;return f&&(X=X.transition().each("end",function(){var W=M.select(this);t.setSliceCursor(W,o,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(W){W._x0=h(W.x0),W._x1=h(W.x1),W._y0=m(W.y0),W._y1=m(W.y1),W._hoverX=h(W.x1-R.tiling.pad),W._hoverY=m(N?W.y1-R.tiling.pad/2:W.y0+R.tiling.pad/2);var J=M.select(this),Q=k.ensureSingle(J,"path","surface",function(ue){ue.style("pointer-events",O?"none":"all")});f?Q.transition().attrTween("d",function(ue){var ve=w(ue,r,$(),[x,g],{orientation:R.tiling.orientation,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1});return function(be){return y(ve(be))}}):Q.attr("d",y),J.call(i,u,o,l,{styleOne:p,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,o,{isTransitioning:o._transitioning}),Q.call(p,W,R,o,{hovered:!1}),W.x0===W.x1||W.y0===W.y1?W._text="":W._text=n(W,u,R,l,P)||"";var re=k.ensureSingle(J,"g","slicetext"),ae=k.ensureSingle(re,"text","",function(ue){ue.attr("data-notex",1)}),oe=k.ensureUniformFontSize(o,t.determineTextFont(R,W,P.font));ae.text(W._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":j?"start":"middle").call(a.font,oe).call(T.convertToTspans,o),W.textBB=a.bBox(ae.node()),W.transform=v(W,{fontSize:oe.size}),W.transform.fontSize=oe.size,f?ae.transition().attrTween("transform",function(ue){var ve=E(ue,r,$(),[x,g]);return function(be){return _(ve(be))}}):ae.attr("transform",_(W))}),V}},69816:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(ee){"use strict";ee.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(ee,D,e){"use strict";var M=e(71828),k=e(92894);ee.exports=function(a,T){function b(p,s){return M.coerce(a,T,k,p,s)}b("iciclecolorway",T.colorway),b("extendiciclecolors")}},21538:function(ee,D,e){"use strict";var M=e(674),k=e(14102);ee.exports=function(a,T,b){var p=b.flipX,s=b.flipY,t="h"===b.orientation,i=b.maxDepth,n=T[0],r=T[1];i&&(n=(a.height+1)*T[0]/Math.min(a.height+1,i),r=(a.height+1)*T[1]/Math.min(a.height+1,i));var o=M.partition().padding(b.pad.inner).size(t?[T[1],n]:[T[0],r])(a);return(t||p||s)&&k(o,T,{swapXY:t,flipX:p,flipY:s}),o}},85596:function(ee,D,e){"use strict";var M=e(80694),k=e(90666);ee.exports=function(a,T,b,p){return M(a,T,b,p,{type:"icicle",drawDescendants:k})}},82454:function(ee,D,e){"use strict";var M=e(39898),k=e(7901),a=e(71828),T=e(72597).resizeText,b=e(43467);function p(s,t,i,n){var r=t.data.data,o=!t.children,l=r.i,u=a.castOption(i,l,"marker.line.color")||k.defaultLine,d=a.castOption(i,l,"marker.line.width")||0;s.call(b,t,i,n).style("stroke-width",d).call(k.stroke,u).style("opacity",o?i.leaf.opacity:null)}ee.exports={style:function(s){var t=s._fullLayout._iciclelayer.selectAll(".trace");T(s,t,"icicle"),t.each(function(i){var n=M.select(this),r=i[0].trace;n.style("opacity",r.opacity),n.selectAll("path.surface").each(function(o){M.select(this).call(p,o,r,s)})})},styleOne:p}},17230:function(ee,D,e){"use strict";for(var M=e(9012),k=e(5386).fF,a=e(1426).extendFlat,T=e(51877).colormodel,b=["rgb","rgba","rgba256","hsl","hsla"],p=[],s=[],t=0;t<b.length;t++){var i=T[b[t]];p.push("For the `"+b[t]+"` colormodel, it is ["+(i.zminDflt||i.min).join(", ")+"]."),s.push("For the `"+b[t]+"` colormodel, it is ["+(i.zmaxDflt||i.max).join(", ")+"].")}ee.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:b,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},M.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:k({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(ee,D,e){"use strict";var M=e(71828),k=e(51877),a=e(92770),T=e(89298),b=e(71828).maxRowLength,p=e(67395).A;function s(i,n,r,o){return function(l){return M.constrain((l-i)*n,r,o)}}function t(i,n){return function(r){return M.constrain(r,i,n)}}ee.exports=function(i,n){var r,o;if(n._hasZ)r=n.z.length,o=b(n.z);else if(n._hasSource){var l=p(n.source);r=l.height,o=l.width}var u,d=T.getFromId(i,n.xaxis||"x"),c=T.getFromId(i,n.yaxis||"y"),x=d.d2c(n.x0)-n.dx/2,g=c.d2c(n.y0)-n.dy/2,h=[x,x+o*n.dx],m=[g,g+r*n.dy];if(d&&"log"===d.type)for(u=0;u<o;u++)h.push(x+u*n.dx);if(c&&"log"===c.type)for(u=0;u<r;u++)m.push(g+u*n.dy);return n._extremes[d._id]=T.findExtremes(d,h),n._extremes[c._id]=T.findExtremes(c,m),n._scaler=function(y){var v=k.colormodel[y.colormodel],_=(v.colormodel||y.colormodel).length;y._sArray=[];for(var f=0;f<_;f++)v.min[f]!==y.zmin[f]||v.max[f]!==y.zmax[f]?y._sArray.push(s(y.zmin[f],(v.max[f]-v.min[f])/(y.zmax[f]-y.zmin[f]),v.min[f],v.max[f])):y._sArray.push(t(v.min[f],v.max[f]));return function(S){for(var w=S.slice(0,_),E=0;E<_;E++){var C=w[E];if(!a(C))return!1;w[E]=y._sArray[E](C)}return w}}(n),[{x0:x,y0:g,z:n.z,w:o,h:r}]}},51877:function(ee){"use strict";ee.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(D){return D.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(D){return D.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(D){return D.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(D){var e=D.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(D){var e=D.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xb0","%","%",""]}}}},13245:function(ee,D,e){"use strict";var M=e(71828),k=e(17230),a=e(51877),T=e(25095).IMAGE_URL_PREFIX;ee.exports=function(b,p){function s(n,r){return M.coerce(b,p,k,n,r)}s("source"),p.source&&!p.source.match(T)&&delete p.source,p._hasSource=!!p.source;var t,i=s("z");p._hasZ=!(void 0===i||!i.length||!i[0]||!i[0].length),p._hasZ||p._hasSource?(s("x0"),s("y0"),s("dx"),s("dy"),p._hasZ?(s("colormodel","rgb"),s("zmin",(t=a.colormodel[p.colormodel]).zminDflt||t.min),s("zmax",t.zmaxDflt||t.max)):p._hasSource&&(p.colormodel="rgba256",t=a.colormodel[p.colormodel],p.zmin=t.zminDflt,p.zmax=t.zmaxDflt),s("zsmooth"),s("text"),s("hovertext"),s("hovertemplate"),p._length=null):p.visible=!1}},30835:function(ee){"use strict";ee.exports=function(D,e){return"xVal"in e&&(D.x=e.xVal),"yVal"in e&&(D.y=e.yVal),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D.color=e.color,D.colormodel=e.trace.colormodel,D.z||(D.z=e.color),D}},67395:function(ee,D,e){"use strict";var M=e(33575),k=e(25095).IMAGE_URL_PREFIX,a=e(12856).Buffer;D.A=function(T){var b=T.replace(k,""),p=new a(b,"base64");return M(p)}},28749:function(ee,D,e){"use strict";var M=e(30211),k=e(71828),a=k.isArrayOrTypedArray,T=e(51877);ee.exports=function(b,p,s){var t=b.cd[0],i=t.trace,n=b.xa,r=b.ya;if(!(M.inbox(p-t.x0,p-(t.x0+t.w*i.dx),0)>0||M.inbox(s-t.y0,s-(t.y0+t.h*i.dy),0)>0)){var o,l=Math.floor((p-t.x0)/i.dx),u=Math.floor(Math.abs(s-t.y0)/i.dy);if(i._hasZ?o=t.z[u][l]:i._hasSource&&(o=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,u,1,1).data),o){var d,c=t.hi||i.hoverinfo;if(c){var x=c.split("+");-1!==x.indexOf("all")&&(x=["color"]),-1!==x.indexOf("color")&&(d=!0)}var g,h=T.colormodel[i.colormodel],m=h.colormodel||i.colormodel,y=m.length,v=i._scaler(o),_=h.suffix,f=[];(i.hovertemplate||d)&&(f.push("["+[v[0]+_[0],v[1]+_[1],v[2]+_[2]].join(", ")),4===y&&f.push(", "+v[3]+_[3]),f.push("]"),f=f.join(""),b.extraText=m.toUpperCase()+": "+f),a(i.hovertext)&&a(i.hovertext[u])?g=i.hovertext[u][l]:a(i.text)&&a(i.text[u])&&(g=i.text[u][l]);var S=r.c2p(t.y0+(u+.5)*i.dy),w=t.x0+(l+.5)*i.dx,E=t.y0+(u+.5)*i.dy,C="["+o.slice(0,i.colormodel.length).join(", ")+"]";return[k.extendFlat(b,{index:[u,l],x0:n.c2p(t.x0+l*i.dx),x1:n.c2p(t.x0+(l+1)*i.dx),y0:S,y1:S,color:v,xVal:w,xLabelVal:w,yVal:E,yLabelVal:E,zLabelVal:C,text:g,hovertemplateLabels:{zLabel:C,colorLabel:f,"color[0]Label":v[0]+_[0],"color[1]Label":v[1]+_[1],"color[2]Label":v[2]+_[2],"color[3]Label":v[3]+_[3]}})]}}}},94507:function(ee,D,e){"use strict";ee.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=k.strTranslate,T=e(77922),b=e(51877),p=e(3883),s=e(32396).STYLE;ee.exports=function(t,i,n,r){var o=i.xaxis,l=i.yaxis,u=!t._context._exportedPlot&&p();k.makeTraceGroups(r,n,"im").each(function(d){var c=M.select(this),x=d[0],g=x.trace,h=("fast"===g.zsmooth||!1===g.zsmooth&&u)&&!g._hasZ&&g._hasSource&&"linear"===o.type&&"linear"===l.type;g._realImage=h;var m,y,v,_,f,S,w=x.z,E=x.x0,C=x.y0,O=x.w,P=x.h,R=g.dx,j=g.dy;for(S=0;void 0===m&&S<O;)m=o.c2p(E+S*R),S++;for(S=O;void 0===y&&S>0;)y=o.c2p(E+S*R),S--;for(S=0;void 0===_&&S<P;)_=l.c2p(C+S*j),S++;for(S=P;void 0===f&&S>0;)f=l.c2p(C+S*j),S--;y<m&&(v=y,y=m,m=v),f<_&&(v=_,_=f,f=v),h||(m=Math.max(-.5*o._length,m),y=Math.min(1.5*o._length,y),_=Math.max(-.5*l._length,_),f=Math.min(1.5*l._length,f));var z=Math.round(y-m),N=Math.round(f-_);if(z<=0||N<=0)c.selectAll("image").data([]).exit().remove();else{var Y=c.selectAll("image").data([d]);Y.enter().append("svg:image").attr({xmlns:T.svg,preserveAspectRatio:"none"}),Y.exit().remove();var F=!1===g.zsmooth?s:"";if(h){var U=k.simpleMap(o.range,o.r2l),V=k.simpleMap(l.range,l.r2l),te=U[1]<U[0],$=V[1]>V[0];if(te||$){var X=m+z/2,W=_+N/2;F+="transform:"+a(X+"px",W+"px")+"scale("+(te?-1:1)+","+($?-1:1)+")"+a(-X+"px",-W+"px")+";"}}Y.attr("style",F);var J=new Promise(function(re){if(g._hasZ)re();else if(g._hasSource)if(g._canvas&&g._canvas.el.width===O&&g._canvas.el.height===P&&g._canvas.source===g.source)re();else{var ae=document.createElement("canvas");ae.width=O,ae.height=P;var oe=ae.getContext("2d",{willReadFrequently:!0});g._image=g._image||new Image;var ue=g._image;ue.onload=function(){oe.drawImage(ue,0,0),g._canvas={el:ae,source:g.source},re()},ue.setAttribute("src",g.source)}}).then(function(){var re;if(g._hasZ)re=Q(function(ue,ve){var be=w[ve][ue];return k.isTypedArray(be)&&(be=Array.from(be)),be}).toDataURL("image/png");else if(g._hasSource)if(h)re=g.source;else{var oe=g._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,O,P).data;re=Q(function(ue,ve){var be=4*(ve*O+ue);return[oe[be],oe[be+1],oe[be+2],oe[be+3]]}).toDataURL("image/png")}Y.attr({"xlink:href":re,height:N,width:z,x:m,y:_})});t._promises.push(J)}function Q(re){var ae=document.createElement("canvas");ae.width=z,ae.height=N;var oe,ue=ae.getContext("2d",{willReadFrequently:!0}),ve=function(he){return k.constrain(Math.round(o.c2p(E+he*R)-m),0,z)},be=function(he){return k.constrain(Math.round(l.c2p(C+he*j)-_),0,N)},de=b.colormodel[g.colormodel],pe=de.colormodel||g.colormodel,ge=de.fmt;for(S=0;S<x.w;S++){var Ae=ve(S),ye=ve(S+1);if(ye!==Ae&&!isNaN(ye)&&!isNaN(Ae))for(var we=0;we<x.h;we++){var se=be(we),ie=be(we+1);ie===se||isNaN(ie)||isNaN(se)||!re(S,we)||(oe=g._scaler(re(S,we)),ue.fillStyle=oe?pe+"("+ge(oe).join(",")+")":"rgba(0,0,0,0)",ue.fillRect(Ae,se,ye-Ae,ie-se))}}return ae}})}},12826:function(ee,D,e){"use strict";var M=e(39898);ee.exports=function(k){M.select(k).selectAll(".im image").style("opacity",function(a){return a[0].trace.opacity})}},54846:function(ee,D,e){"use strict";var M=e(1426).extendFlat,k=e(1426).extendDeep,a=e(30962).overrideAll,T=e(41940),b=e(22399),p=e(27670).Y,s=e(13838),t=e(44467).templatedArray,i=e(22372),n=e(12663).descriptionOnlyNumbers,r=T({editType:"plot",colorEditType:"plot"}),o={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:b.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},l={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",k({},o,{range:l}));ee.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:p({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:M({},r,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:n("value")},font:M({},r,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:n("value")},increasing:{symbol:{valType:"string",dflt:i.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:i.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:M({},r,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:k({},o,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:l,visible:M({},s.visible,{dflt:!0}),tickmode:s.minor.tickmode,nticks:s.nticks,tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:M({},s.ticks,{dflt:"outside"}),ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,tickfont:T({}),tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,tickprefix:s.tickprefix,showtickprefix:s.showtickprefix,ticksuffix:s.ticksuffix,showticksuffix:s.showticksuffix,separatethousands:s.separatethousands,exponentformat:s.exponentformat,minexponent:s.minexponent,showexponent:s.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:M({},o.line.color,{}),width:M({},o.line.width,{dflt:1}),editType:"plot"},thickness:M({},o.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(ee,D,e){"use strict";var M=e(74875);D.name="indicator",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},24667:function(ee){"use strict";ee.exports={calc:function(D,e){var M=[],k=e.value;"number"!=typeof e._lastValue&&(e._lastValue=e.value);var a=e._lastValue,T=a;return e._hasDelta&&"number"==typeof e.delta.reference&&(T=e.delta.reference),M[0]={y:k,lastY:a,delta:k-T,relativeDelta:(k-T)/T},M}}},84577:function(ee){"use strict";ee.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(ee,D,e){"use strict";var M=e(71828),k=e(54846),a=e(27670).c,T=e(44467),b=e(85501),p=e(84577),s=e(26218),t=e(38701),i=e(96115),n=e(89426);function r(o,l){function u(d,c){return M.coerce(o,l,k.gauge.steps,d,c)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}ee.exports={supplyDefaults:function(o,l,u,d){function c(C,O){return M.coerce(o,l,k,C,O)}a(l,d,c),c("mode"),l._hasNumber=-1!==l.mode.indexOf("number"),l._hasDelta=-1!==l.mode.indexOf("delta"),l._hasGauge=-1!==l.mode.indexOf("gauge");var x=c("value");l._range=[0,"number"==typeof x?1.5*x:1];var g,h,m,y,v,_,f=new Array(2);function S(C,O){return M.coerce(m,y,k.gauge,C,O)}function w(C,O){return M.coerce(v,_,k.gauge.axis,C,O)}if(l._hasNumber&&(c("number.valueformat"),c("number.font.color",d.font.color),c("number.font.family",d.font.family),c("number.font.size"),void 0===l.number.font.size&&(l.number.font.size=p.defaultNumberFontSize,f[0]=!0),c("number.prefix"),c("number.suffix"),g=l.number.font.size),l._hasDelta&&(c("delta.font.color",d.font.color),c("delta.font.family",d.font.family),c("delta.font.size"),void 0===l.delta.font.size&&(l.delta.font.size=(l._hasNumber?.5:1)*(g||p.defaultNumberFontSize),f[1]=!0),c("delta.reference",l.value),c("delta.relative"),c("delta.valueformat",l.delta.relative?"2%":""),c("delta.increasing.symbol"),c("delta.increasing.color"),c("delta.decreasing.symbol"),c("delta.decreasing.color"),c("delta.position"),c("delta.prefix"),c("delta.suffix"),h=l.delta.font.size),l._scaleNumbers=(!l._hasNumber||f[0])&&(!l._hasDelta||f[1])||!1,c("title.font.color",d.font.color),c("title.font.family",d.font.family),c("title.font.size",.25*(g||h||p.defaultNumberFontSize)),c("title.text"),l._hasGauge){(m=o.gauge)||(m={}),y=T.newContainer(l,"gauge"),S("shape"),(l._isBullet="bullet"===l.gauge.shape)||c("title.align","center"),(l._isAngular="angular"===l.gauge.shape)||c("align","center"),S("bgcolor",d.paper_bgcolor),S("borderwidth"),S("bordercolor"),S("bar.color"),S("bar.line.color"),S("bar.line.width"),S("bar.thickness",p.valueThickness*("bullet"===l.gauge.shape?.5:1)),b(m,y,{name:"steps",handleItemDefaults:r}),S("threshold.value"),S("threshold.thickness"),S("threshold.line.width"),S("threshold.line.color"),v={},m&&(v=m.axis||{}),_=T.newContainer(y,"axis"),w("visible"),l._range=w("range",l._range);var E={outerTicks:!0};s(v,_,w,"linear"),n(v,_,w,"linear",E),i(v,_,w,"linear",E),t(v,_,w,E)}else c("title.align","center"),c("align","center"),l._isAngular=l._isBullet=!1;l._length=null}}},15154:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(ee,D,e){"use strict";var M=e(39898),k=e(81684).sX,a=e(81684).k4,T=e(71828),b=T.strScale,p=T.strTranslate,s=T.rad2deg,t=e(18783).MID_SHIFT,i=e(91424),n=e(84577),r=e(63893),o=e(89298),l=e(71453),u=e(52830),d=e(13838),c=e(7901),x={left:"start",center:"middle",right:"end"},g={left:0,center:.5,right:1},h=/[yzafpn\xb5mkMGTPEZY]/;function m(w){return w&&w.duration>0}function y(w){w.each(function(E){c.stroke(M.select(this),E.line.color)}).each(function(E){c.fill(M.select(this),E.color)}).style("stroke-width",function(E){return E.line.width})}function v(w,E,C){var O=w._fullLayout,P=T.extendFlat({type:"linear",ticks:"outside",range:C,showline:!0},E),R={type:"linear",_id:"x"+E._id},j={letter:"x",font:O.font,noHover:!0,noTickson:!0};function z(N,Y){return T.coerce(P,R,d,N,Y)}return l(P,R,z,j,O),u(P,R,z,j),R}function _(w,E,C){return[Math.min(E/w.width,C/w.height),w,E+"x"+C]}function f(w,E,C,O){var P=document.createElementNS("http://www.w3.org/2000/svg","text"),R=M.select(P);return R.text(w).attr("x",0).attr("y",0).attr("text-anchor",C).attr("data-unformatted",w).call(r.convertToTspans,O).call(i.font,E),i.bBox(R.node())}function S(w,E,C,O,P,R){var j="_cache"+E;w[j]&&w[j].key===P||(w[j]={key:P,value:C});var z=T.aggNums(R,null,[w[j].value,O],2);return w[j].value=z,z}ee.exports=function(w,E,C,O){var P,R=w._fullLayout;m(C)&&O&&(P=O()),T.makeTraceGroups(R._indicatorlayer,E,"trace").each(function(j){var z,N,Y,F,U,V=j[0].trace,te=M.select(this),$=V._hasGauge,X=V._isAngular,W=V._isBullet,J=V.domain,Q={w:R._size.w*(J.x[1]-J.x[0]),h:R._size.h*(J.y[1]-J.y[0]),l:R._size.l+R._size.w*J.x[0],r:R._size.r+R._size.w*(1-J.x[1]),t:R._size.t+R._size.h*(1-J.y[1]),b:R._size.b+R._size.h*J.y[0]},re=Q.l+Q.w/2,ae=Q.t+Q.h/2,oe=Math.min(Q.w/2,Q.h),ue=n.innerRadius*oe,ve=V.align||"center";if(N=ae,$){if(X&&(z=re,N=ae+oe/2,Y=function(se){return ie=se,[(he=.9*ue)/Math.sqrt(ie.width/2*(ie.width/2)+ie.height*ie.height),ie,he];var ie,he}),W){var be=n.bulletPadding,de=1-n.bulletNumberDomainSize+be;z=Q.l+(de+(1-de)*g[ve])*Q.w,Y=function(se){return _(se,(n.bulletNumberDomainSize-be)*Q.w,Q.h)}}}else z=Q.l+g[ve]*Q.w,Y=function(se){return _(se,Q.w,Q.h)};(function(se,ie,he,Se){var _e,Me,Ee,Ie=he[0].trace,fe=Se.numbersX,xe=Se.numbersY,Te=Ie.align||"center",Ce=x[Te],De=Se.transitionOpts,ze=Se.onComplete,Ue=T.ensureSingle(ie,"g","numbers"),Ve=[];Ie._hasNumber&&Ve.push("number"),Ie._hasDelta&&(Ve.push("delta"),"left"===Ie.delta.position&&Ve.reverse());var Xe=Ue.selectAll("text").data(Ve);function at(Ot,Pt,St,qe){if(!Ot.match("s")||St>=0==qe>=0||Pt(St).slice(-1).match(h)||Pt(qe).slice(-1).match(h))return Pt;var Ze=Ot.slice().replace("s","f").replace(/\d+/,function(Ge){return parseInt(Ge)-1}),Ne=v(se,{tickformat:Ze});return function(Ge){return Math.abs(Ge)<1?o.tickText(Ne,Ge).text:Pt(Ge)}}Xe.enter().append("text"),Xe.attr("text-anchor",function(){return Ce}).attr("class",function(Ot){return Ot}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Xe.exit().remove();var st,ht=Ie.mode+Ie.align;if(Ie._hasDelta&&(st=function(){var Ot=v(se,{tickformat:Ie.delta.valueformat},Ie._range);Ot.setScale(),o.prepTicks(Ot);var Pt=function(Re){return o.tickText(Ot,Re).text},St=Ie.delta.suffix,qe=Ie.delta.prefix,Ze=function(Re){return Ie.delta.relative?Re.relativeDelta:Re.delta},Ne=function(Re,Fe){return 0===Re||"number"!=typeof Re||isNaN(Re)?"-":(Re>0?Ie.delta.increasing.symbol:Ie.delta.decreasing.symbol)+qe+Fe(Re)+St},Ge=function(Re){return Re.delta>=0?Ie.delta.increasing.color:Ie.delta.decreasing.color};void 0===Ie._deltaLastValue&&(Ie._deltaLastValue=Ze(he[0]));var rt=Ue.select("text.delta");function tt(){rt.text(Ne(Ze(he[0]),Pt)).call(c.fill,Ge(he[0])).call(r.convertToTspans,se)}return rt.call(i.font,Ie.delta.font).call(c.fill,Ge({delta:Ie._deltaLastValue})),m(De)?rt.transition().duration(De.duration).ease(De.easing).tween("text",function(){var Re=M.select(this),Fe=Ze(he[0]),et=Ie._deltaLastValue,We=at(Ie.delta.valueformat,Pt,et,Fe),ct=a(et,Fe);return Ie._deltaLastValue=Fe,function(pt){Re.text(Ne(ct(pt),We)),Re.call(c.fill,Ge({delta:ct(pt)}))}}).each("end",function(){tt(),ze&&ze()}).each("interrupt",function(){tt(),ze&&ze()}):tt(),Me=f(Ne(Ze(he[0]),Pt),Ie.delta.font,Ce,se),rt}(),ht+=Ie.delta.position+Ie.delta.font.size+Ie.delta.font.family+Ie.delta.valueformat,ht+=Ie.delta.increasing.symbol+Ie.delta.decreasing.symbol,Ee=Me),Ie._hasNumber&&(function(){var Ot=v(se,{tickformat:Ie.number.valueformat},Ie._range);Ot.setScale(),o.prepTicks(Ot);var Pt=function(Ge){return o.tickText(Ot,Ge).text},St=Ie.number.suffix,qe=Ie.number.prefix,Ze=Ue.select("text.number");function Ne(){var Ge="number"==typeof he[0].y?qe+Pt(he[0].y)+St:"-";Ze.text(Ge).call(i.font,Ie.number.font).call(r.convertToTspans,se)}m(De)?Ze.transition().duration(De.duration).ease(De.easing).each("end",function(){Ne(),ze&&ze()}).each("interrupt",function(){Ne(),ze&&ze()}).attrTween("text",function(){var Ge=M.select(this),rt=a(he[0].lastY,he[0].y);Ie._lastValue=he[0].y;var tt=at(Ie.number.valueformat,Pt,he[0].lastY,he[0].y);return function(Re){Ge.text(qe+tt(rt(Re))+St)}}):Ne(),_e=f(qe+Pt(he[0].y)+St,Ie.number.font,Ce,se)}(),ht+=Ie.number.font.size+Ie.number.font.family+Ie.number.valueformat+Ie.number.suffix+Ie.number.prefix,Ee=_e),Ie._hasDelta&&Ie._hasNumber){var bt,vt,Qe=[(_e.left+_e.right)/2,(_e.top+_e.bottom)/2],nt=[(Me.left+Me.right)/2,(Me.top+Me.bottom)/2],wt=.75*Ie.delta.font.size;"left"===Ie.delta.position&&(bt=S(Ie,"deltaPos",0,-1*(_e.width*g[Ie.align]+Me.width*(1-g[Ie.align])+wt),ht,Math.min),vt=Qe[1]-nt[1],Ee={width:_e.width+Me.width+wt,height:Math.max(_e.height,Me.height),left:Me.left+bt,right:_e.right,top:Math.min(_e.top,Me.top+vt),bottom:Math.max(_e.bottom,Me.bottom+vt)}),"right"===Ie.delta.position&&(bt=S(Ie,"deltaPos",0,_e.width*(1-g[Ie.align])+Me.width*g[Ie.align]+wt,ht,Math.max),vt=Qe[1]-nt[1],Ee={width:_e.width+Me.width+wt,height:Math.max(_e.height,Me.height),left:_e.left,right:Me.right+bt,top:Math.min(_e.top,Me.top+vt),bottom:Math.max(_e.bottom,Me.bottom+vt)}),"bottom"===Ie.delta.position&&(bt=null,vt=Me.height,Ee={width:Math.max(_e.width,Me.width),height:_e.height+Me.height,left:Math.min(_e.left,Me.left),right:Math.max(_e.right,Me.right),top:_e.bottom-_e.height,bottom:_e.bottom+Me.height}),"top"===Ie.delta.position&&(bt=null,vt=_e.top,Ee={width:Math.max(_e.width,Me.width),height:_e.height+Me.height,left:Math.min(_e.left,Me.left),right:Math.max(_e.right,Me.right),top:_e.bottom-_e.height-Me.height,bottom:_e.bottom}),st.attr({dx:bt,dy:vt})}(Ie._hasNumber||Ie._hasDelta)&&Ue.attr("transform",function(){var Ot=Se.numbersScaler(Ee);ht+=Ot[2];var Pt,St=S(Ie,"numbersScale",1,Ot[0],ht,Math.min);Ie._scaleNumbers||(St=1),Pt=Ie._isAngular?xe-St*Ee.bottom:xe-St*(Ee.top+Ee.bottom)/2,Ie._numbersTop=St*Ee.top+Pt;var qe=Ee[Te];"center"===Te&&(qe=(Ee.left+Ee.right)/2);var Ze=fe-St*qe;return Ze=S(Ie,"numbersTranslate",0,Ze,ht,Math.max),p(Ze,Pt)+b(St)})})(w,te,j,{numbersX:z,numbersY:N,numbersScaler:Y,transitionOpts:C,onComplete:P}),$&&(F={range:V.gauge.axis.range,color:V.gauge.bgcolor,line:{color:V.gauge.bordercolor,width:0},thickness:1},U={range:V.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:V.gauge.bordercolor,width:V.gauge.borderwidth},thickness:1});var pe=te.selectAll("g.angular").data(X?j:[]);pe.exit().remove();var ge=te.selectAll("g.angularaxis").data(X?j:[]);ge.exit().remove(),X&&function(se,ie,he,Se){var _e,Me,Ee,Ie,fe=he[0].trace,xe=Se.size,Te=Se.radius,Ce=Se.innerRadius,De=Se.gaugeBg,ze=Se.gaugeOutline,Ue=[xe.l+xe.w/2,xe.t+xe.h/2+Te/2],Ve=Se.gauge,Xe=Se.layer,at=Se.transitionOpts,st=Se.onComplete,ht=Math.PI/2;function bt(pt){var dt=fe.gauge.axis.range[0],ut=(pt-dt)/(fe.gauge.axis.range[1]-dt)*Math.PI-ht;return ut<-ht?-ht:ut>ht?ht:ut}function vt(pt){return M.svg.arc().innerRadius((Ce+Te)/2-pt/2*(Te-Ce)).outerRadius((Ce+Te)/2+pt/2*(Te-Ce)).startAngle(-ht)}function Qe(pt){pt.attr("d",function(dt){return vt(dt.thickness).startAngle(bt(dt.range[0])).endAngle(bt(dt.range[1]))()})}Ve.enter().append("g").classed("angular",!0),Ve.attr("transform",p(Ue[0],Ue[1])),Xe.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Xe.selectAll("g.xangularaxistick,path,text").remove(),(_e=v(se,fe.gauge.axis)).type="linear",_e.range=fe.gauge.axis.range,_e._id="xangularaxis",_e.ticklabeloverflow="allow",_e.setScale();var nt=function(pt){return(_e.range[0]-pt.x)/(_e.range[1]-_e.range[0])*Math.PI+Math.PI},wt={},Ot=o.makeLabelFns(_e,0).labelStandoff;wt.xFn=function(pt){var dt=nt(pt);return Math.cos(dt)*Ot},wt.yFn=function(pt){var dt=nt(pt),ut=Math.sin(dt)>0?.2:1;return-Math.sin(dt)*(Ot+pt.fontSize*ut)+Math.abs(Math.cos(dt))*(pt.fontSize*t)},wt.anchorFn=function(pt){var dt=nt(pt),ut=Math.cos(dt);return Math.abs(ut)<.1?"middle":ut>0?"start":"end"},wt.heightFn=function(pt,dt,ut){var kt=nt(pt);return-.5*(1+Math.sin(kt))*ut};var Pt=function(pt){return p(Ue[0]+Te*Math.cos(pt),Ue[1]-Te*Math.sin(pt))};if(Ee=function(pt){return Pt(nt(pt))},Me=o.calcTicks(_e),Ie=o.getTickSigns(_e)[2],_e.visible){Ie="inside"===_e.ticks?-1:1;var St=(_e.linewidth||1)/2;o.drawTicks(se,_e,{vals:Me,layer:Xe,path:"M"+Ie*St+",0h"+Ie*_e.ticklen,transFn:function(pt){var dt=nt(pt);return Pt(dt)+"rotate("+-s(dt)+")"}}),o.drawLabels(se,_e,{vals:Me,layer:Xe,transFn:Ee,labelFns:wt})}var qe=[De].concat(fe.gauge.steps),Ze=Ve.selectAll("g.bg-arc").data(qe);Ze.enter().append("g").classed("bg-arc",!0).append("path"),Ze.select("path").call(Qe).call(y),Ze.exit().remove();var Ne=vt(fe.gauge.bar.thickness),Ge=Ve.selectAll("g.value-arc").data([fe.gauge.bar]);Ge.enter().append("g").classed("value-arc",!0).append("path");var rt,tt,Re,Fe=Ge.select("path");m(at)?(Fe.transition().duration(at.duration).ease(at.easing).each("end",function(){st&&st()}).each("interrupt",function(){st&&st()}).attrTween("d",(rt=Ne,tt=bt(he[0].lastY),Re=bt(he[0].y),function(){var pt=k(tt,Re);return function(dt){return rt.endAngle(pt(dt))()}})),fe._lastValue=he[0].y):Fe.attr("d","number"==typeof he[0].y?Ne.endAngle(bt(he[0].y)):"M0,0Z"),Fe.call(y),Ge.exit().remove(),qe=[];var et=fe.gauge.threshold.value;(et||0===et)&&qe.push({range:[et,et],color:fe.gauge.threshold.color,line:{color:fe.gauge.threshold.line.color,width:fe.gauge.threshold.line.width},thickness:fe.gauge.threshold.thickness});var We=Ve.selectAll("g.threshold-arc").data(qe);We.enter().append("g").classed("threshold-arc",!0).append("path"),We.select("path").call(Qe).call(y),We.exit().remove();var ct=Ve.selectAll("g.gauge-outline").data([ze]);ct.enter().append("g").classed("gauge-outline",!0).append("path"),ct.select("path").call(Qe).call(y),ct.exit().remove()}(w,0,j,{radius:oe,innerRadius:ue,gauge:pe,layer:ge,size:Q,gaugeBg:F,gaugeOutline:U,transitionOpts:C,onComplete:P});var Ae=te.selectAll("g.bullet").data(W?j:[]);Ae.exit().remove();var ye=te.selectAll("g.bulletaxis").data(W?j:[]);ye.exit().remove(),W&&function(se,ie,he,Se){var _e,Me,Ee,Ie,fe,xe=he[0].trace,Te=Se.gauge,Ce=Se.layer,De=Se.gaugeBg,ze=Se.gaugeOutline,Ue=Se.size,Ve=xe.domain,Xe=Se.transitionOpts,at=Se.onComplete;Te.enter().append("g").classed("bullet",!0),Te.attr("transform",p(Ue.l,Ue.t)),Ce.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Ce.selectAll("g.xbulletaxistick,path,text").remove();var st=Ue.h,ht=xe.gauge.bar.thickness*st,bt=Ve.x[0],vt=Ve.x[0]+(Ve.x[1]-Ve.x[0])*(xe._hasNumber||xe._hasDelta?1-n.bulletNumberDomainSize:1);function Qe(Ze){Ze.attr("width",function(Ne){return Math.max(0,_e.c2p(Ne.range[1])-_e.c2p(Ne.range[0]))}).attr("x",function(Ne){return _e.c2p(Ne.range[0])}).attr("y",function(Ne){return.5*(1-Ne.thickness)*st}).attr("height",function(Ne){return Ne.thickness*st})}(_e=v(se,xe.gauge.axis))._id="xbulletaxis",_e.domain=[bt,vt],_e.setScale(),Me=o.calcTicks(_e),Ee=o.makeTransTickFn(_e),Ie=o.getTickSigns(_e)[2],fe=Ue.t+Ue.h,_e.visible&&(o.drawTicks(se,_e,{vals:"inside"===_e.ticks?o.clipEnds(_e,Me):Me,layer:Ce,path:o.makeTickPath(_e,fe,Ie),transFn:Ee}),o.drawLabels(se,_e,{vals:Me,layer:Ce,transFn:Ee,labelFns:o.makeLabelFns(_e,fe)}));var nt=[De].concat(xe.gauge.steps),wt=Te.selectAll("g.bg-bullet").data(nt);wt.enter().append("g").classed("bg-bullet",!0).append("rect"),wt.select("rect").call(Qe).call(y),wt.exit().remove();var Ot=Te.selectAll("g.value-bullet").data([xe.gauge.bar]);Ot.enter().append("g").classed("value-bullet",!0).append("rect"),Ot.select("rect").attr("height",ht).attr("y",(st-ht)/2).call(y),m(Xe)?Ot.select("rect").transition().duration(Xe.duration).ease(Xe.easing).each("end",function(){at&&at()}).each("interrupt",function(){at&&at()}).attr("width",Math.max(0,_e.c2p(Math.min(xe.gauge.axis.range[1],he[0].y)))):Ot.select("rect").attr("width","number"==typeof he[0].y?Math.max(0,_e.c2p(Math.min(xe.gauge.axis.range[1],he[0].y))):0),Ot.exit().remove();var Pt=he.filter(function(){return xe.gauge.threshold.value||0===xe.gauge.threshold.value}),St=Te.selectAll("g.threshold-bullet").data(Pt);St.enter().append("g").classed("threshold-bullet",!0).append("line"),St.select("line").attr("x1",_e.c2p(xe.gauge.threshold.value)).attr("x2",_e.c2p(xe.gauge.threshold.value)).attr("y1",(1-xe.gauge.threshold.thickness)/2*st).attr("y2",(1-(1-xe.gauge.threshold.thickness)/2)*st).call(c.stroke,xe.gauge.threshold.line.color).style("stroke-width",xe.gauge.threshold.line.width),St.exit().remove();var qe=Te.selectAll("g.gauge-outline").data([ze]);qe.enter().append("g").classed("gauge-outline",!0).append("rect"),qe.select("rect").call(Qe).call(y),qe.exit().remove()}(w,0,j,{gauge:Ae,layer:ye,size:Q,gaugeBg:F,gaugeOutline:U,transitionOpts:C,onComplete:P});var we=te.selectAll("text.title").data(j);we.exit().remove(),we.enter().append("text").classed("title",!0),we.attr("text-anchor",function(){return W?x.right:x[V.title.align]}).text(V.title.text).call(i.font,V.title.font).call(r.convertToTspans,w),we.attr("transform",function(){var se,ie=Q.l+Q.w*g[V.title.align],he=n.titlePadding,Se=i.bBox(we.node());return $?(X&&(se=V.gauge.axis.visible?i.bBox(ge.node()).top-he-Se.bottom:Q.t+Q.h/2-oe/2-Se.bottom-he),W&&(se=N-(Se.top+Se.bottom)/2,ie=Q.l-n.bulletPadding*Q.w)):se=V._numbersTop-he-Se.bottom,p(ie,se)})})}},16249:function(ee,D,e){"use strict";var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,T=e(2418),b=e(9012),p=e(1426).extendFlat,s=e(30962).overrideAll,t=ee.exports=s(p({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),valuehoverformat:k("value",1),showlegend:p({},b.showlegend,{dflt:!1})},M("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:T.opacity,lightposition:T.lightposition,lighting:T.lighting,flatshading:T.flatshading,contour:T.contour,hoverinfo:p({},b.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},56959:function(ee,D,e){"use strict";var M=e(78803),k=e(88489).processGrid,a=e(88489).filter;ee.exports=function(T,b){b._len=Math.min(b.x.length,b.y.length,b.z.length,b.value.length),b._x=a(b.x,b._len),b._y=a(b.y,b._len),b._z=a(b.z,b._len),b._value=a(b.value,b._len);var p=k(b);b._gridFill=p.fill,b._Xs=p.Xs,b._Ys=p.Ys,b._Zs=p.Zs,b._len=p.len;for(var s=1/0,t=-1/0,i=0;i<b._len;i++){var n=b._value[i];s=Math.min(s,n),t=Math.max(t,n)}b._minValues=s,b._maxValues=t,b._vMin=void 0===b.isomin||null===b.isomin?s:b.isomin,b._vMax=void 0===b.isomax||null===b.isomin?t:b.isomax,M(T,b,{vals:[b._vMin,b._vMax],containerStr:"",cLetter:"c"})}},22674:function(ee,D,e){"use strict";var M=e(9330).gl_mesh3d,k=e(81697).parseColorScale,a=e(71828).isArrayOrTypedArray,T=e(78614),b=e(21081).extractOpts,p=e(90060),s=function(o,l){for(var u=l.length-1;u>0;u--){var d=Math.min(l[u],l[u-1]),c=Math.max(l[u],l[u-1]);if(c>d&&d<o&&o<=c)return{id:u,distRatio:(c-o)/(c-d)}}return{id:0,distRatio:0}};function t(o,l,u){this.scene=o,this.uid=u,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(o){if(o.object===this.mesh){var l=o.data.index,u=this.data._meshX[l],d=this.data._meshY[l],c=this.data._meshZ[l],x=this.data._Ys.length,g=this.data._Zs.length,h=s(u,this.data._Xs).id,m=s(d,this.data._Ys).id,y=s(c,this.data._Zs).id,v=o.index=y+g*m+g*x*h;o.traceCoordinate=[this.data._meshX[v],this.data._meshY[v],this.data._meshZ[v],this.data._value[v]];var _=this.data.hovertext||this.data.text;return a(_)&&void 0!==_[v]?o.textLabel=_[v]:_&&(o.textLabel=_),!0}},i.update=function(o){var l=this.scene,u=l.fullSceneLayout;function d(g,h,m,y){return h.map(function(v){return g.d2l(v,0,y)*m})}this.data=r(o);var c={positions:p(d(u.xaxis,o._meshX,l.dataScale[0],o.xcalendar),d(u.yaxis,o._meshY,l.dataScale[1],o.ycalendar),d(u.zaxis,o._meshZ,l.dataScale[2],o.zcalendar)),cells:p(o._meshI,o._meshJ,o._meshK),lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:T(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},x=b(o);c.vertexIntensity=o._meshIntensity,c.vertexIntensityBounds=[x.min,x.max],c.colormap=k(o),this.mesh.update(c)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var n=["xyz","xzy","yxz","yzx","zxy","zyx"];function r(o){o._meshI=[],o._meshJ=[],o._meshK=[];var l,u,d,c,x,g,h,m=o.surface.show,y=o.spaceframe.show,v=o.surface.fill,_=o.spaceframe.fill,f=!1,S=!1,w=0,E=o._Xs,C=o._Ys,O=o._Zs,P=E.length,R=C.length,j=O.length,z=n.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),N=function(Ce,De,ze){switch(z){case 5:return ze+j*De+j*R*Ce;case 4:return ze+j*Ce+j*P*De;case 3:return De+R*ze+R*j*Ce;case 2:return De+R*Ce+R*P*ze;case 1:return Ce+P*ze+P*j*De;default:return Ce+P*De+P*R*ze}},Y=o._minValues,F=o._maxValues,U=o._vMin,V=o._vMax;function te(Ce,De,ze){for(var Ue=g.length,Ve=u;Ve<Ue;Ve++)if(Ce===d[Ve]&&De===c[Ve]&&ze===x[Ve])return Ve;return-1}function $(){u=l}function X(){d=[],c=[],x=[],g=[],l=0,$()}function W(Ce,De,ze,Ue){return d.push(Ce),c.push(De),x.push(ze),g.push(Ue),++l-1}function J(Ce,De,ze){for(var Ue=[],Ve=0;Ve<Ce.length;Ve++)Ue[Ve]=Ce[Ve]*(1-ze)+ze*De[Ve];return Ue}function Q(Ce){h=Ce}function re(Ce,De){return"all"===Ce||null===Ce||Ce.indexOf(De)>-1}function ae(Ce,De){return null===Ce?De:Ce}function oe(Ce,De,ze){$();var Ue,Ve,Xe,qe,Ze,Ne,Ge,rt,tt,Re,Fe,et,We,ct,pt,dt,at=[De],st=[ze];if(h>=1)at=[De],st=[ze];else if(h>0){var ht=(Ze=ze,Ne=(qe=De)[0],Ge=qe[1],rt=qe[2],tt=function(ut,kt,yt){for(var gt=[],At=0;At<ut.length;At++)gt[At]=(ut[At]+kt[At]+yt[At])/3;return gt}(Ne,Ge,rt),Re=Math.sqrt(1-h),Fe=J(tt,Ne,Re),et=J(tt,Ge,Re),We=J(tt,rt,Re),ct=Ze[0],pt=Ze[1],dt=Ze[2],{xyzv:[[Ne,Ge,et],[et,Fe,Ne],[Ge,rt,We],[We,et,Ge],[rt,Ne,Fe],[Fe,We,rt]],abc:[[ct,pt,-1],[-1,-1,ct],[pt,dt,-1],[-1,-1,pt],[dt,ct,-1],[-1,-1,dt]]});at=ht.xyzv,st=ht.abc}for(var bt=0;bt<at.length;bt++){De=at[bt],ze=st[bt];for(var vt=[],Qe=0;Qe<3;Qe++){var nt=De[Qe][0],wt=De[Qe][1],Ot=De[Qe][2],Pt=De[Qe][3],St=ze[Qe]>-1?ze[Qe]:te(nt,wt,Ot);vt[Qe]=St>-1?St:W(nt,wt,Ot,ae(Ce,Pt))}Ue=vt[0],Ve=vt[1],Xe=vt[2],o._meshI.push(Ue),o._meshJ.push(Ve),o._meshK.push(Xe),++w}}function ue(Ce,De,ze,Ue){var Ve=Ce[3];Ve<ze&&(Ve=ze),Ve>Ue&&(Ve=Ue);for(var Xe=(Ce[3]-Ve)/(Ce[3]-De[3]+1e-9),at=[],st=0;st<4;st++)at[st]=(1-Xe)*Ce[st]+Xe*De[st];return at}function ve(Ce,De,ze){return Ce>=De&&Ce<=ze}function be(Ce){var De=.001*(V-U);return Ce>=U-De&&Ce<=V+De}function de(Ce){for(var De=[],ze=0;ze<4;ze++){var Ue=Ce[ze];De.push([o._x[Ue],o._y[Ue],o._z[Ue],o._value[Ue]])}return De}var pe=3;function ge(Ce,De,ze,Ue,Ve,Xe){Xe||(Xe=1),ze=[-1,-1,-1];var at=!1,st=[ve(De[0][3],Ue,Ve),ve(De[1][3],Ue,Ve),ve(De[2][3],Ue,Ve)];if(!st[0]&&!st[1]&&!st[2])return!1;var ht=function(vt,Qe,nt){return be(Qe[0][3])&&be(Qe[1][3])&&be(Qe[2][3])?(oe(vt,Qe,nt),!0):Xe<pe&&ge(vt,Qe,nt,U,V,++Xe)};if(st[0]&&st[1]&&st[2])return ht(Ce,De,ze)||at;var bt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(vt){if(st[vt[0]]&&st[vt[1]]&&!st[vt[2]]){var Qe=De[vt[0]],nt=De[vt[1]],wt=De[vt[2]],Ot=ue(wt,Qe,Ue,Ve),Pt=ue(wt,nt,Ue,Ve);at=ht(Ce,[Pt,Ot,Qe],[-1,-1,ze[vt[0]]])||at,at=ht(Ce,[Qe,nt,Pt],[ze[vt[0]],ze[vt[1]],-1])||at,bt=!0}}),bt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(vt){if(st[vt[0]]&&!st[vt[1]]&&!st[vt[2]]){var Qe=De[vt[0]],nt=De[vt[1]],wt=De[vt[2]],Ot=ue(nt,Qe,Ue,Ve),Pt=ue(wt,Qe,Ue,Ve);at=ht(Ce,[Pt,Ot,Qe],[-1,-1,ze[vt[0]]])||at,bt=!0}}),at}function Ae(Ce,De,ze,Ue){var ht,bt,vt,Qe,Ve=!1,Xe=de(De),at=[ve(Xe[0][3],ze,Ue),ve(Xe[1][3],ze,Ue),ve(Xe[2][3],ze,Ue),ve(Xe[3][3],ze,Ue)];if(!(at[0]||at[1]||at[2]||at[3]))return Ve;if(at[0]&&at[1]&&at[2]&&at[3])return S&&(ht=Ce,bt=Xe,vt=De,(Qe=function(nt,wt,Ot){oe(ht,[bt[nt],bt[wt],bt[Ot]],[vt[nt],vt[wt],vt[Ot]])})(0,1,2),Qe(3,0,1),Qe(2,3,0),Ve=void Qe(1,2,3)||Ve),Ve;var st=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(ht){if(at[ht[0]]&&at[ht[1]]&&at[ht[2]]&&!at[ht[3]]){var bt=Xe[ht[0]],vt=Xe[ht[1]],Qe=Xe[ht[2]],nt=Xe[ht[3]];if(S)Ve=oe(Ce,[bt,vt,Qe],[De[ht[0]],De[ht[1]],De[ht[2]]])||Ve;else{var wt=ue(nt,bt,ze,Ue),Ot=ue(nt,vt,ze,Ue),Pt=ue(nt,Qe,ze,Ue);Ve=oe(null,[wt,Ot,Pt],[-1,-1,-1])||Ve}st=!0}}),st||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(ht){if(at[ht[0]]&&at[ht[1]]&&!at[ht[2]]&&!at[ht[3]]){var bt=Xe[ht[0]],vt=Xe[ht[1]],Qe=Xe[ht[2]],nt=Xe[ht[3]],wt=ue(Qe,bt,ze,Ue),Ot=ue(Qe,vt,ze,Ue),Pt=ue(nt,vt,ze,Ue),St=ue(nt,bt,ze,Ue);S?(Ve=oe(Ce,[bt,St,wt],[De[ht[0]],-1,-1])||Ve,Ve=oe(Ce,[vt,Ot,Pt],[De[ht[1]],-1,-1])||Ve):(Ze=[wt,Ot,Pt,St],Ne=[-1,-1,-1,-1],(Ge=function(rt,tt,Re){oe(null,[Ze[rt],Ze[tt],Ze[Re]],[Ne[rt],Ne[tt],Ne[Re]])})(0,1,2),Ve=void Ge(2,3,0)||Ve),st=!0}var Ze,Ne,Ge}),st||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(ht){if(at[ht[0]]&&!at[ht[1]]&&!at[ht[2]]&&!at[ht[3]]){var bt=Xe[ht[0]],vt=Xe[ht[1]],Qe=Xe[ht[2]],nt=Xe[ht[3]],wt=ue(vt,bt,ze,Ue),Ot=ue(Qe,bt,ze,Ue),Pt=ue(nt,bt,ze,Ue);S?(Ve=oe(Ce,[bt,wt,Ot],[De[ht[0]],-1,-1])||Ve,Ve=oe(Ce,[bt,Ot,Pt],[De[ht[0]],-1,-1])||Ve,Ve=oe(Ce,[bt,Pt,wt],[De[ht[0]],-1,-1])||Ve):Ve=oe(null,[wt,Ot,Pt],[-1,-1,-1])||Ve,st=!0}})),Ve}function ye(Ce,De,ze,Ue,Ve,Xe,at,st,ht,bt,vt){var Qe=!1;return f&&(re(Ce,"A")&&(Qe=Ae(null,[De,ze,Ue,Xe],bt,vt)||Qe),re(Ce,"B")&&(Qe=Ae(null,[ze,Ue,Ve,ht],bt,vt)||Qe),re(Ce,"C")&&(Qe=Ae(null,[ze,Xe,at,ht],bt,vt)||Qe),re(Ce,"D")&&(Qe=Ae(null,[Ue,Xe,st,ht],bt,vt)||Qe),re(Ce,"E")&&(Qe=Ae(null,[ze,Ue,Xe,ht],bt,vt)||Qe)),S&&(Qe=Ae(Ce,[ze,Ue,Xe,ht],bt,vt)||Qe),Qe}function we(Ce,De,ze,Ue,Ve,Xe,at,st){return[!0===st[0]||ge(Ce,de([De,ze,Ue]),[De,ze,Ue],Xe,at),!0===st[1]||ge(Ce,de([Ue,Ve,De]),[Ue,Ve,De],Xe,at)]}function se(Ce,De,ze,Ue,Ve,Xe,at,st,ht){return st?we(Ce,De,ze,Ve,Ue,Xe,at,ht):we(Ce,ze,Ve,Ue,De,Xe,at,ht)}function ie(Ce,De,ze,Ue,Ve,Xe,at){var st,ht,bt,vt,Qe=!1,nt=function(){Qe=ge(Ce,[st,ht,bt],[-1,-1,-1],Ve,Xe)||Qe,Qe=ge(Ce,[bt,vt,st],[-1,-1,-1],Ve,Xe)||Qe},wt=at[0],Ot=at[1],Pt=at[2];return wt&&(st=J(de([N(De,ze-0,Ue-0)])[0],de([N(De-1,ze-0,Ue-0)])[0],wt),ht=J(de([N(De,ze-0,Ue-1)])[0],de([N(De-1,ze-0,Ue-1)])[0],wt),bt=J(de([N(De,ze-1,Ue-1)])[0],de([N(De-1,ze-1,Ue-1)])[0],wt),vt=J(de([N(De,ze-1,Ue-0)])[0],de([N(De-1,ze-1,Ue-0)])[0],wt),nt()),Ot&&(st=J(de([N(De-0,ze,Ue-0)])[0],de([N(De-0,ze-1,Ue-0)])[0],Ot),ht=J(de([N(De-0,ze,Ue-1)])[0],de([N(De-0,ze-1,Ue-1)])[0],Ot),bt=J(de([N(De-1,ze,Ue-1)])[0],de([N(De-1,ze-1,Ue-1)])[0],Ot),vt=J(de([N(De-1,ze,Ue-0)])[0],de([N(De-1,ze-1,Ue-0)])[0],Ot),nt()),Pt&&(st=J(de([N(De-0,ze-0,Ue)])[0],de([N(De-0,ze-0,Ue-1)])[0],Pt),ht=J(de([N(De-0,ze-1,Ue)])[0],de([N(De-0,ze-1,Ue-1)])[0],Pt),bt=J(de([N(De-1,ze-1,Ue)])[0],de([N(De-1,ze-1,Ue-1)])[0],Pt),vt=J(de([N(De-1,ze-0,Ue)])[0],de([N(De-1,ze-0,Ue-1)])[0],Pt),nt()),Qe}function he(Ce,De,ze,Ue,Ve,Xe,at,st,ht,bt,vt,Qe){var nt=Ce;return Qe?(f&&"even"===Ce&&(nt=null),ye(nt,De,ze,Ue,Ve,Xe,at,st,ht,bt,vt)):(f&&"odd"===Ce&&(nt=null),ye(nt,ht,st,at,Xe,Ve,Ue,ze,De,bt,vt))}function Se(Ce,De,ze,Ue,Ve){for(var Xe=[],at=0,st=0;st<De.length;st++)for(var ht=De[st],bt=1;bt<j;bt++)for(var vt=1;vt<R;vt++)Xe.push(se(Ce,N(ht,vt-1,bt-1),N(ht,vt-1,bt),N(ht,vt,bt-1),N(ht,vt,bt),ze,Ue,(ht+vt+bt)%2,Ve&&Ve[at]?Ve[at]:[])),at++;return Xe}function _e(Ce,De,ze,Ue,Ve){for(var Xe=[],at=0,st=0;st<De.length;st++)for(var ht=De[st],bt=1;bt<P;bt++)for(var vt=1;vt<j;vt++)Xe.push(se(Ce,N(bt-1,ht,vt-1),N(bt,ht,vt-1),N(bt-1,ht,vt),N(bt,ht,vt),ze,Ue,(bt+ht+vt)%2,Ve&&Ve[at]?Ve[at]:[])),at++;return Xe}function Me(Ce,De,ze,Ue,Ve){for(var Xe=[],at=0,st=0;st<De.length;st++)for(var ht=De[st],bt=1;bt<R;bt++)for(var vt=1;vt<P;vt++)Xe.push(se(Ce,N(vt-1,bt-1,ht),N(vt-1,bt,ht),N(vt,bt-1,ht),N(vt,bt,ht),ze,Ue,(vt+bt+ht)%2,Ve&&Ve[at]?Ve[at]:[])),at++;return Xe}function Ee(Ce,De,ze){for(var Ue=1;Ue<j;Ue++)for(var Ve=1;Ve<R;Ve++)for(var Xe=1;Xe<P;Xe++)he(Ce,N(Xe-1,Ve-1,Ue-1),N(Xe-1,Ve-1,Ue),N(Xe-1,Ve,Ue-1),N(Xe-1,Ve,Ue),N(Xe,Ve-1,Ue-1),N(Xe,Ve-1,Ue),N(Xe,Ve,Ue-1),N(Xe,Ve,Ue),De,ze,(Xe+Ve+Ue)%2)}function Ie(Ce,De,ze,Ue,Ve,Xe){for(var at=[],st=0,ht=0;ht<De.length;ht++)for(var bt=De[ht],vt=1;vt<j;vt++)for(var Qe=1;Qe<R;Qe++)at.push(ie(Ce,bt,Qe,vt,ze,Ue,Ve[ht],Xe&&Xe[st]&&Xe[st])),st++;return at}function fe(Ce,De,ze,Ue,Ve,Xe){for(var at=[],st=0,ht=0;ht<De.length;ht++)for(var bt=De[ht],vt=1;vt<P;vt++)for(var Qe=1;Qe<j;Qe++)at.push(ie(Ce,vt,bt,Qe,ze,Ue,Ve[ht],Xe&&Xe[st]&&Xe[st])),st++;return at}function xe(Ce,De,ze,Ue,Ve,Xe){for(var at=[],st=0,ht=0;ht<De.length;ht++)for(var bt=De[ht],vt=1;vt<R;vt++)for(var Qe=1;Qe<P;Qe++)at.push(ie(Ce,Qe,vt,bt,ze,Ue,Ve[ht],Xe&&Xe[st]&&Xe[st])),st++;return at}function Te(Ce,De){for(var ze=[],Ue=Ce;Ue<De;Ue++)ze.push(Ue);return ze}return function(){X(),function(){for(var ht=0;ht<P;ht++)for(var bt=0;bt<R;bt++)for(var vt=0;vt<j;vt++){var Qe=N(ht,bt,vt);W(o._x[Qe],o._y[Qe],o._z[Qe],o._value[Qe])}}();var Ce=null;if(y&&_&&(Q(_),S=!0,Ee(Ce,U,V),S=!1),m&&v){Q(v);for(var De=o.surface.pattern,ze=o.surface.count,Ue=0;Ue<ze;Ue++){var Ve=1===ze?.5:Ue/(ze-1),Xe=(1-Ve)*U+Ve*V,at=Math.abs(Xe-Y)>Math.abs(Xe-F)?[Y,Xe]:[Xe,F];f=!0,Ee(De,at[0],at[1]),f=!1}}var st=[[Math.min(U,F),Math.max(U,F)],[Math.min(Y,V),Math.max(Y,V)]];["x","y","z"].forEach(function(ht){for(var bt=[],vt=0;vt<st.length;vt++){var Qe=0,nt=st[vt][0],wt=st[vt][1],Ot=o.slices[ht];if(Ot.show&&Ot.fill){Q(Ot.fill);var Pt=[],St=[],qe=[];if(Ot.locations.length)for(var Ze=0;Ze<Ot.locations.length;Ze++){var Ne=s(Ot.locations[Ze],"x"===ht?E:"y"===ht?C:O);0===Ne.distRatio?Pt.push(Ne.id):Ne.id>0&&(St.push(Ne.id),"x"===ht?qe.push([Ne.distRatio,0,0]):"y"===ht?qe.push([0,Ne.distRatio,0]):qe.push([0,0,Ne.distRatio]))}else Pt=Te(1,"x"===ht?P-1:"y"===ht?R-1:j-1);St.length>0&&(bt[Qe]="x"===ht?Ie(Ce,St,nt,wt,qe,bt[Qe]):"y"===ht?fe(Ce,St,nt,wt,qe,bt[Qe]):xe(Ce,St,nt,wt,qe,bt[Qe]),Qe++),Pt.length>0&&(bt[Qe]="x"===ht?Se(Ce,Pt,nt,wt,bt[Qe]):"y"===ht?_e(Ce,Pt,nt,wt,bt[Qe]):Me(Ce,Pt,nt,wt,bt[Qe]),Qe++)}var Ge=o.caps[ht];Ge.show&&Ge.fill&&(Q(Ge.fill),bt[Qe]="x"===ht?Se(Ce,[0,P-1],nt,wt,bt[Qe]):"y"===ht?_e(Ce,[0,R-1],nt,wt,bt[Qe]):Me(Ce,[0,j-1],nt,wt,bt[Qe]),Qe++)}}),0===w&&X(),o._meshX=d,o._meshY=c,o._meshZ=x,o._meshIntensity=g,o._Xs=E,o._Ys=C,o._Zs=O}(),o}ee.exports={findNearestOnAxis:s,generateIsoMeshes:r,createIsosurfaceTrace:function(o,l){var u=o.glplot.gl,d=M({gl:u}),c=new t(o,d,l.uid);return d._trace=c,c.update(l),o.glplot.add(d),c}}},82738:function(ee,D,e){"use strict";var M=e(71828),k=e(73972),a=e(16249),T=e(1586);function b(p,s,t,i,n){var r=n("isomin"),o=n("isomax");null!=o&&null!=r&&r>o&&(s.isomin=null,s.isomax=null);var l=n("x"),u=n("y"),d=n("z"),c=n("value");l&&l.length&&u&&u.length&&d&&d.length&&c&&c.length?(k.getComponentMethod("calendars","handleTraceDefaults")(p,s,["x","y","z"],i),n("valuehoverformat"),["x","y","z"].forEach(function(x){n(x+"hoverformat");var g="caps."+x;n(g+".show")&&n(g+".fill");var h="slices."+x;n(h+".show")&&(n(h+".fill"),n(h+".locations"))}),n("spaceframe.show")&&n("spaceframe.fill"),n("surface.show")&&(n("surface.count"),n("surface.fill"),n("surface.pattern")),n("contour.show")&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(x){n(x)}),T(p,s,i,n,{prefix:"",cLetter:"c"}),s._length=null):s.visible=!1}ee.exports={supplyDefaults:function(p,s,t,i){b(p,s,0,i,function(n,r){return M.coerce(p,s,a,n,r)})},supplyIsoDefaults:b}},64943:function(ee,D,e){"use strict";ee.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(ee,D,e){"use strict";var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,T=e(54532),b=e(9012),p=e(1426).extendFlat;ee.exports=p({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},M("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:T.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:p({},T.contours.x.show,{}),color:T.contours.x.color,width:T.contours.x.width,editType:"calc"},lightposition:{x:p({},T.lightposition.x,{dflt:1e5}),y:p({},T.lightposition.y,{dflt:1e5}),z:p({},T.lightposition.z,{dflt:0}),editType:"calc"},lighting:p({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},T.lighting),hoverinfo:p({},b.hoverinfo,{editType:"calc"}),showlegend:p({},b.showlegend,{dflt:!1})})},82932:function(ee,D,e){"use strict";var M=e(78803);ee.exports=function(k,a){a.intensity&&M(k,a,{vals:a.intensity,containerStr:"",cLetter:"c"})}},91134:function(ee,D,e){"use strict";var M=e(9330).gl_mesh3d,k=e(9330).delaunay_triangulate,a=e(9330).alpha_shape,T=e(9330).convex_hull,b=e(81697).parseColorScale,p=e(71828).isArrayOrTypedArray,s=e(78614),t=e(21081).extractOpts,i=e(90060);function n(c,x,g){this.scene=c,this.uid=g,this.mesh=x,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var r=n.prototype;function o(c){for(var x=[],g=c.length,h=0;h<g;h++)x[h]=s(c[h]);return x}function l(c,x,g,h){for(var m=[],y=x.length,v=0;v<y;v++)m[v]=c.d2l(x[v],0,h)*g;return m}function u(c){for(var x=[],g=c.length,h=0;h<g;h++)x[h]=Math.round(c[h]);return x}function d(c,x){for(var g=c.length,h=0;h<g;h++)if(c[h]<=-.5||c[h]>=x-.5)return!1;return!0}r.handlePick=function(c){if(c.object===this.mesh){var x=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[x],this.data.y[x],this.data.z[x]];var g=this.data.hovertext||this.data.text;return p(g)&&void 0!==g[x]?c.textLabel=g[x]:g&&(c.textLabel=g),!0}},r.update=function(c){var x=this.scene,g=x.fullSceneLayout;this.data=c;var h,m=c.x.length,y=i(l(g.xaxis,c.x,x.dataScale[0],c.xcalendar),l(g.yaxis,c.y,x.dataScale[1],c.ycalendar),l(g.zaxis,c.z,x.dataScale[2],c.zcalendar));if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!d(c.i,m)||!d(c.j,m)||!d(c.k,m))return;h=i(u(c.i),u(c.j),u(c.k))}else h=0===c.alphahull?T(y):c.alphahull>0?a(c.alphahull,y):function(S,w){for(var E=["x","y","z"].indexOf(S),C=[],O=w.length,P=0;P<O;P++)C[P]=[w[P][(E+1)%3],w[P][(E+2)%3]];return k(C)}(c.delaunayaxis,y);var v={positions:y,cells:h,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:s(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var _=t(c);this.color="#fff";var f=c.intensitymode;v[f+"Intensity"]=c.intensity,v[f+"IntensityBounds"]=[_.min,_.max],v.colormap=b(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],v.vertexColors=o(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],v.cellColors=o(c.facecolor)):(this.color=c.color,v.meshColor=s(c.color));this.mesh.update(v)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(c,x){var g=c.glplot.gl,h=M({gl:g}),m=new n(c,h,x.uid);return h._trace=m,m.update(x),c.glplot.add(h),m}},58669:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=e(1586),T=e(2418);ee.exports=function(b,p,s,t){function i(r,o){return k.coerce(b,p,T,r,o)}function n(r){var o=r.map(function(l){var u=i(l);return u&&k.isArrayOrTypedArray(u)?u:null});return o.every(function(l){return l&&l.length===o[0].length})&&o}n(["x","y","z"])?(n(["i","j","k"]),(!p.i||p.j&&p.k)&&(!p.j||p.k&&p.i)&&(!p.k||p.i&&p.j)?(M.getComponentMethod("calendars","handleTraceDefaults")(b,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(r){i(r)}),i("contour.show")&&(i("contour.color"),i("contour.width")),"intensity"in b?(i("intensity"),i("intensitymode"),a(b,p,t,i,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in b?i("facecolor"):"vertexcolor"in b?i("vertexcolor"):i("color",s)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),p._length=null):p.visible=!1):p.visible=!1}},21164:function(ee,D,e){"use strict";ee.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(ee,D,e){"use strict";var M=e(71828).extendFlat,k=e(82196),a=e(12663).axisHoverFormat,T=e(79952).P,b=e(77914),p=e(22372),s=p.INCREASING.COLOR,t=p.DECREASING.COLOR,i=k.line;function n(r){return{line:{color:M({},i.color,{dflt:r}),width:i.width,dash:T,editType:"style"},editType:"style"}}ee.exports={xperiod:k.xperiod,xperiod0:k.xperiod0,xperiodalignment:k.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:M({},i.width,{}),dash:M({},T,{}),editType:"style"},increasing:n(s),decreasing:n(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:M({},b.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(ee,D,e){"use strict";var M=e(71828),k=M._,a=e(89298),T=e(42973),b=e(50606).BADNUM;function p(t,i,n,r){return{o:t,h:i,l:n,c:r}}function s(t,i,n,r,o,l){for(var u=o.makeCalcdata(i,"open"),d=o.makeCalcdata(i,"high"),c=o.makeCalcdata(i,"low"),x=o.makeCalcdata(i,"close"),g=M.isArrayOrTypedArray(i.text),h=M.isArrayOrTypedArray(i.hovertext),m=!0,y=null,v=!!i.xperiodalignment,_=[],f=0;f<r.length;f++){var S=r[f],w=u[f],E=d[f],C=c[f],O=x[f];if(S!==b&&w!==b&&E!==b&&C!==b&&O!==b){O===w?null!==y&&O!==y&&(m=O>y):m=O>w,y=O;var P=l(w,E,C,O);P.pos=S,P.yc=(w+O)/2,P.i=f,P.dir=m?"increasing":"decreasing",P.x=P.pos,P.y=[C,E],v&&(P.orig_p=n[f]),g&&(P.tx=i.text[f]),h&&(P.htx=i.hovertext[f]),_.push(P)}else _.push({pos:S,empty:!0})}return i._extremes[o._id]=a.findExtremes(o,M.concat(c,d),{padded:!0}),_.length&&(_[0].t={labels:{open:k(t,"open:")+" ",high:k(t,"high:")+" ",low:k(t,"low:")+" ",close:k(t,"close:")+" "}}),_}ee.exports={calc:function(t,i){var n=a.getFromId(t,i.xaxis),r=a.getFromId(t,i.yaxis),o=function(x,g,h){var m=h._minDiff;if(!m){var y,v=x._fullData,_=[];for(m=1/0,y=0;y<v.length;y++){var f=v[y];if("ohlc"===f.type&&!0===f.visible&&f.xaxis===g._id){_.push(f);var S=g.makeCalcdata(f,"x");f._origX=S;var w=T(h,g,"x",S).vals;f._xcalc=w;var E=M.distinctVals(w).minDiff;E&&isFinite(E)&&(m=Math.min(m,E))}}for(m===1/0&&(m=1),y=0;y<_.length;y++)_[y]._minDiff=m}return m*h.tickwidth}(t,n,i),l=i._minDiff;i._minDiff=null;var u=i._origX;i._origX=null;var d=i._xcalc;i._xcalc=null;var c=s(t,i,u,d,r,p);return i._extremes[n._id]=a.findExtremes(n,d,{vpad:l/2}),c.length?(M.extendFlat(c[0].t,{wHover:l/2,tickLen:o}),c):[{t:{empty:!0}}]},calcCommon:s}},16169:function(ee,D,e){"use strict";var M=e(71828),k=e(14555),a=e(73927),T=e(2522);function b(p,s,t,i){t(i+".line.color"),t(i+".line.width",s.line.width),t(i+".line.dash",s.line.dash)}ee.exports=function(p,s,t,i){function n(r,o){return M.coerce(p,s,T,r,o)}k(p,s,n,i)?(a(p,s,i,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),b(0,s,n,"increasing"),b(0,s,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),i._requestRangeslider[s.xaxis]=!0):s.visible=!1}},66449:function(ee,D,e){"use strict";var M=e(89298),k=e(71828),a=e(30211),T=e(7901),b=e(71828).fillText,p=e(22372),s={increasing:p.INCREASING.SYMBOL,decreasing:p.DECREASING.SYMBOL};function t(r,o,l,u){var d,c,x=r.cd,g=r.xa,h=x[0].trace,m=x[0].t,y=h.type,v="ohlc"===y?"l":"min",_="ohlc"===y?"h":"max",f=m.bPos||0,S=function(F){return F.pos+f-o},w=m.bdPos||m.tickLen,E=m.wHover,C=Math.min(1,w/Math.abs(g.r2c(g.range[1])-g.r2c(g.range[0])));function O(F){var U=S(F);return a.inbox(U-E,U+E,d)}function P(F){var U=F[v],V=F[_];return U===V||a.inbox(U-l,V-l,d)}function R(F){return(O(F)+P(F))/2}d=r.maxHoverDistance-C,c=r.maxSpikeDistance-C;var j=a.getDistanceFunction(u,O,P,R);if(a.getClosest(x,j,r),!1===r.index)return null;var z=x[r.index];if(z.empty)return null;var N=h[z.dir],Y=N.line.color;return T.opacity(Y)&&N.line.width?r.color=Y:r.color=N.fillcolor,r.x0=g.c2p(z.pos+f-w,!0),r.x1=g.c2p(z.pos+f+w,!0),r.xLabelVal=void 0!==z.orig_p?z.orig_p:z.pos,r.spikeDistance=R(z)*c/d,r.xSpike=g.c2p(z.pos,!0),r}function i(r,o,l,u){var d=r.cd,c=r.ya,x=d[0].trace,g=d[0].t,h=[],m=t(r,o,l,u);if(!m)return[];var y=d[m.index].hi||x.hoverinfo,v=y.split("+");if("all"!==y&&-1===v.indexOf("y"))return[];for(var _=["high","open","close","low"],f={},S=0;S<_.length;S++){var w,E=_[S],C=x[E][m.index],O=c.c2p(C,!0);C in f?(w=f[C]).yLabel+="<br>"+g.labels[E]+M.hoverLabelText(c,C,x.yhoverformat):((w=k.extendFlat({},m)).y0=w.y1=O,w.yLabelVal=C,w.yLabel=g.labels[E]+M.hoverLabelText(c,C,x.yhoverformat),w.name="",h.push(w),f[C]=w)}return h}function n(r,o,l,u){var d=r.cd,c=r.ya,x=d[0].trace,g=d[0].t,h=t(r,o,l,u);if(!h)return[];var m=d[h.index],y=h.index=m.i,v=m.dir;function _(P){return g.labels[P]+M.hoverLabelText(c,x[P][y],x.yhoverformat)}var f=m.hi||x.hoverinfo,S=f.split("+"),w="all"===f,E=w||-1!==S.indexOf("y"),C=w||-1!==S.indexOf("text"),O=E?[_("open"),_("high"),_("low"),_("close")+"  "+s[v]]:[];return C&&b(m,x,O),h.extraText=O.join("<br>"),h.y0=h.y1=c.c2p(m.yc,!0),[h]}ee.exports={hoverPoints:function(r,o,l,u){return r.cd[0].trace.hoverlabel.split?i(r,o,l,u):n(r,o,l,u)},hoverSplit:i,hoverOnPoints:n}},54186:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(ee,D,e){"use strict";var M=e(73972),k=e(71828);ee.exports=function(a,T,b,p){var s=b("x"),t=b("open"),i=b("high"),n=b("low"),r=b("close");if(b("hoverlabel.split"),M.getComponentMethod("calendars","handleTraceDefaults")(a,T,["x"],p),t&&i&&n&&r){var o=Math.min(t.length,i.length,n.length,r.length);return s&&(o=Math.min(o,k.minRowLength(s))),T._length=o,o}}},72314:function(ee,D,e){"use strict";var M=e(39898),k=e(71828);ee.exports=function(a,T,b,p){var s=T.yaxis,t=T.xaxis,i=!!t.rangebreaks;k.makeTraceGroups(p,b,"trace ohlc").each(function(n){var r=M.select(this),o=n[0],l=o.t;if(!0!==o.trace.visible||l.empty)r.remove();else{var u=l.tickLen,d=r.selectAll("path").data(k.identity);d.enter().append("path"),d.exit().remove(),d.attr("d",function(c){if(c.empty)return"M0,0Z";var x=t.c2p(c.pos-u,!0),g=t.c2p(c.pos+u,!0),h=i?(x+g)/2:t.c2p(c.pos,!0);return"M"+x+","+s.c2p(c.o,!0)+"H"+h+"M"+h+","+s.c2p(c.h,!0)+"V"+s.c2p(c.l,!0)+"M"+g+","+s.c2p(c.c,!0)+"H"+h})}})}},67324:function(ee){"use strict";ee.exports=function(D,e){var M,k=D.cd,a=D.xaxis,T=D.yaxis,b=[],p=k[0].t.bPos||0;if(!1===e)for(M=0;M<k.length;M++)k[M].selected=0;else for(M=0;M<k.length;M++){var s=k[M];e.contains([a.c2p(s.pos+p),T.c2p(s.yc)],null,s.i,D)?(b.push({pointNumber:s.i,x:a.c2d(s.pos),y:T.c2d(s.yc)}),s.selected=1):s.selected=0}return b}},53101:function(ee,D,e){"use strict";var M=e(39898),k=e(91424),a=e(7901);ee.exports=function(T,b,p){var s=p||M.select(T).selectAll("g.ohlclayer").selectAll("g.trace");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var i=t[0].trace;M.select(this).selectAll("path").each(function(n){if(!n.empty){var r=i[n.dir].line;M.select(this).style("fill","none").call(a.stroke,r.color).call(k.dashLine,r.dash,r.width).style("opacity",i.selectedpoints&&!n.selected?.3:1)}})})}},99506:function(ee,D,e){"use strict";var M=e(1426).extendFlat,k=e(9012),a=e(41940),T=e(50693),b=e(5386).fF,p=e(27670).Y,s=M({editType:"calc"},T("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});ee.exports={domain:p({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:M({},k.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:s,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(ee,D,e){"use strict";var M=e(27659).a0,k=e(45784),a="parcats";D.name=a,D.plot=function(T,b,p,s){var t=M(T.calcdata,a);if(t.length){var i=t[0];k(T,i,p,s)}},D.clean=function(T,b,p,s){var t=s._has&&s._has("parcats"),i=b._has&&b._has("parcats");t&&!i&&s._paperdiv.selectAll(".parcats").remove()}},28699:function(ee,D,e){"use strict";var M=e(28984).wrap,k=e(52075).hasColorscale,a=e(78803),T=e(75744),b=e(91424),p=e(71828),s=e(92770);function t(r,o,l){r.valueInds.push(o),r.count+=l}function i(r,o,l){return{categoryInds:r,color:o,rawColor:l,valueInds:[],count:0}}function n(r,o,l){r.valueInds.push(o),r.count+=l}ee.exports=function(r,o){var l=p.filterVisible(o.dimensions);if(0===l.length)return[];var u,d,c,x=l.map(function(V){var te;if("trace"===V.categoryorder)te=null;else if("array"===V.categoryorder)te=V.categoryarray;else{te=T(V.values);for(var $=!0,X=0;X<te.length;X++)if(!s(te[X])){$=!1;break}te.sort($?p.sorterAsc:void 0),"category descending"===V.categoryorder&&(te=te.reverse())}return function(W,J){J=null==J?[]:J.map(function(de){return de});var Q={},re={},ae=[];J.forEach(function(de,pe){Q[de]=0,re[de]=pe});for(var oe=0;oe<W.length;oe++){var ue,ve=W[oe];void 0===Q[ve]?(Q[ve]=1,ue=J.push(ve)-1,re[ve]=ue):(Q[ve]++,ue=re[ve]),ae.push(ue)}var be=J.map(function(de){return Q[de]});return{uniqueValues:J,uniqueCounts:be,inds:ae}}(V.values,te)});u=p.isArrayOrTypedArray(o.counts)?o.counts:[o.counts],function(V){var te;if(function(X){for(var W=new Array(X.length),J=0;J<X.length;J++){if(X[J]<0||X[J]>=X.length||void 0!==W[X[J]])return!1;W[X[J]]=!0}return!0}(V.map(function(X){return X.displayindex})))for(te=0;te<V.length;te++)V[te]._displayindex=V[te].displayindex;else for(te=0;te<V.length;te++)V[te]._displayindex=te}(l),l.forEach(function(V,te){!function($,X){$._categoryarray=X.uniqueValues,null===$.ticktext||void 0===$.ticktext?$._ticktext=[]:$._ticktext=$.ticktext.slice();for(var W=$._ticktext.length;W<X.uniqueValues.length;W++)$._ticktext.push(X.uniqueValues[W])}(V,x[te])});var g,h=o.line;h?(k(o,"line")&&a(r,o,{vals:o.line.color,containerStr:"line",cLetter:"c"}),g=b.tryColorscale(h)):g=p.identity;var m,y,v,_,f,S=l[0].values.length,w={},E=x.map(function(V){return V.inds});for(c=0,m=0;m<S;m++){var C=[];for(y=0;y<E.length;y++)C.push(E[y][m]);d=u[m%u.length],c+=d;var O=(v=m,_=void 0,f=void 0,p.isArrayOrTypedArray(h.color)?f=_=h.color[v%h.color.length]:_=h.color,{color:g(_),rawColor:f}),P=C+"-"+O.rawColor;void 0===w[P]&&(w[P]=i(C,O.color,O.rawColor)),n(w[P],m,d)}var R,V,te,$,X,j=l.map(function(V,te){return $=te,X=V._index,W=V._displayindex,J=V.label,{dimensionInd:$,containerInd:X,displayInd:W,dimensionLabel:J,count:c,categories:[],dragX:null};var $,X,W,J});for(m=0;m<S;m++)for(d=u[m%u.length],y=0;y<j.length;y++){var z=j[y].containerInd,N=x[y].inds[m],Y=j[y].categories;if(void 0===Y[N]){var F=o.dimensions[z]._categoryarray[N],U=o.dimensions[z]._ticktext[N];Y[N]={dimensionInd:y,categoryInd:R=N,categoryValue:F,displayInd:R,categoryLabel:U,valueInds:[],count:0,dragY:null}}t(Y[N],m,d)}return M((te=w,$=c,X=(V=j).map(function(W){return W.categories.length}).reduce(function(W,J){return Math.max(W,J)}),{dimensions:V,paths:te,trace:void 0,maxCats:X,count:$}))}},14647:function(ee,D,e){"use strict";var M=e(71828),k=e(52075).hasColorscale,a=e(1586),T=e(27670).c,b=e(85501),p=e(99506),s=e(94397),t=e(73627).isTypedArraySpec;function i(n,r){function o(h,m){return M.coerce(n,r,p.dimensions,h,m)}var l=o("values"),u=o("visible");if(l&&l.length||(u=r.visible=!1),u){o("label"),o("displayindex",r._index);var d,c=n.categoryarray,x=M.isArrayOrTypedArray(c)&&c.length>0||t(c);x&&(d="array");var g=o("categoryorder",d);"array"===g?(o("categoryarray"),o("ticktext")):(delete n.categoryarray,delete n.ticktext),x||"array"!==g||(r.categoryorder="trace")}}ee.exports=function(n,r,o,l){function u(h,m){return M.coerce(n,r,p,h,m)}var d=b(n,r,{name:"dimensions",handleItemDefaults:i}),c=function(h,m,y,v,_){_("line.shape"),_("line.hovertemplate");var f=_("line.color",v.colorway[0]);if(k(h,"line")&&M.isArrayOrTypedArray(f)){if(f.length)return _("line.colorscale"),a(h,m,v,_,{prefix:"line.",cLetter:"c"}),f.length;m.line.color=y}return 1/0}(n,r,o,l,u);T(r,l,u),Array.isArray(d)&&d.length||(r.visible=!1),s(r,d,"values",c),u("hoveron"),u("hovertemplate"),u("arrangement"),u("bundlecolors"),u("sortpaths"),u("counts");var x={family:l.font.family,size:Math.round(l.font.size),color:l.font.color};M.coerceFont(u,"labelfont",x);var g={family:l.font.family,size:Math.round(l.font.size/1.2),color:l.font.color};M.coerceFont(u,"tickfont",g)}},94873:function(ee,D,e){"use strict";ee.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(ee,D,e){"use strict";var M=e(39898),k=e(81684).k4,a=e(72391),T=e(30211),b=e(71828),p=b.strTranslate,s=e(91424),t=e(84267),i=e(63893);function n($,X,W,J){var Q=X._context.staticPlot,re=$.map(Y.bind(0,X,W)),ae=J.selectAll("g.parcatslayer").data([null]);ae.enter().append("g").attr("class","parcatslayer").style("pointer-events",Q?"none":"all");var oe=ae.selectAll("g.trace.parcats").data(re,r),ue=oe.enter().append("g").attr("class","trace parcats");oe.attr("transform",function(se){return p(se.x,se.y)}),ue.append("g").attr("class","paths");var ve=oe.select("g.paths").selectAll("path.path").data(function(se){return se.paths},r);ve.attr("fill",function(se){return se.model.color});var be=ve.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(se){return se.model.color}).attr("fill-opacity",0);h(be),ve.attr("d",function(se){return se.svgD}),be.empty()||ve.sort(l),ve.exit().remove(),ve.on("mouseover",u).on("mouseout",d).on("click",g),ue.append("g").attr("class","dimensions");var de=oe.select("g.dimensions").selectAll("g.dimension").data(function(se){return se.dimensions},r);de.enter().append("g").attr("class","dimension"),de.attr("transform",function(se){return p(se.x,0)}),de.exit().remove();var pe=de.selectAll("g.category").data(function(se){return se.categories},r),ge=pe.enter().append("g").attr("class","category");pe.attr("transform",function(se){return p(0,se.y)}),ge.append("rect").attr("class","catrect").attr("pointer-events","none"),pe.select("rect.catrect").attr("fill","none").attr("width",function(se){return se.width}).attr("height",function(se){return se.height}),y(ge);var Ae=pe.selectAll("rect.bandrect").data(function(se){return se.bands},r);Ae.each(function(){b.raiseToTop(this)}),Ae.attr("fill",function(se){return se.color});var ye=Ae.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(se){return se.color}).attr("fill-opacity",0);Ae.attr("fill",function(se){return se.color}).attr("width",function(se){return se.width}).attr("height",function(se){return se.height}).attr("y",function(se){return se.y}).attr("cursor",function(se){return"fixed"===se.parcatsViewModel.arrangement?"default":"perpendicular"===se.parcatsViewModel.arrangement?"ns-resize":"move"}),v(ye),Ae.exit().remove(),ge.append("text").attr("class","catlabel").attr("pointer-events","none");var we=X._fullLayout.paper_bgcolor;pe.select("text.catlabel").attr("text-anchor",function(se){return o(se)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",i.makeTextShadow(we)).style("fill","rgb(0, 0, 0)").attr("x",function(se){return o(se)?se.width+5:-5}).attr("y",function(se){return se.height/2}).text(function(se){return se.model.categoryLabel}).each(function(se){s.font(M.select(this),se.parcatsViewModel.categorylabelfont),i.convertToTspans(M.select(this),X)}),ge.append("text").attr("class","dimlabel"),pe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(se){return"fixed"===se.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(se){return se.width/2}).attr("y",-5).text(function(se,ie){return 0===ie?se.parcatsViewModel.model.dimensions[se.model.dimensionInd].dimensionLabel:null}).each(function(se){s.font(M.select(this),se.parcatsViewModel.labelfont)}),pe.selectAll("rect.bandrect").on("mouseover",E).on("mouseout",C),pe.exit().remove(),de.call(M.behavior.drag().origin(function(se){return{x:se.x,y:0}}).on("dragstart",O).on("drag",P).on("dragend",R)),oe.each(function(se){se.traceSelection=M.select(this),se.pathSelection=M.select(this).selectAll("g.paths").selectAll("path.path"),se.dimensionSelection=M.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),oe.exit().remove()}function r($){return $.key}function o($){var X=$.parcatsViewModel.dimensions.length,W=$.parcatsViewModel.dimensions[X-1].model.dimensionInd;return $.model.dimensionInd===W}function l($,X){return $.model.rawColor>X.model.rawColor?1:$.model.rawColor<X.model.rawColor?-1:0}function u($){if(!$.parcatsViewModel.dragDimension&&-1===$.parcatsViewModel.hoverinfoItems.indexOf("skip")){b.raiseToTop(this),m(M.select(this));var X=c($),W=x($);if($.parcatsViewModel.graphDiv.emit("plotly_hover",{points:X,event:M.event,constraints:W}),-1===$.parcatsViewModel.hoverinfoItems.indexOf("none")){var J,Q,re,ae=M.mouse(this)[0],oe=$.parcatsViewModel.graphDiv,ue=$.parcatsViewModel.trace,ve=oe._fullLayout,be=ve._paperdiv.node().getBoundingClientRect(),de=$.parcatsViewModel.graphDiv.getBoundingClientRect();for(re=0;re<$.leftXs.length-1;re++)if($.leftXs[re]+$.dimWidths[re]-2<=ae&&ae<=$.leftXs[re+1]+2){var pe=$.parcatsViewModel.dimensions[re],ge=$.parcatsViewModel.dimensions[re+1];J=(pe.x+pe.width+ge.x)/2,Q=($.topYs[re]+$.topYs[re+1]+$.height)/2;break}var Ae=$.parcatsViewModel.x+J,ye=$.parcatsViewModel.y+Q,we=t.mostReadable($.model.color,["black","white"]),se=$.model.count,ie=se/$.parcatsViewModel.model.count,he={countLabel:se,probabilityLabel:ie.toFixed(3)},Se=[];-1!==$.parcatsViewModel.hoverinfoItems.indexOf("count")&&Se.push(["Count:",he.countLabel].join(" ")),-1!==$.parcatsViewModel.hoverinfoItems.indexOf("probability")&&Se.push(["P:",he.probabilityLabel].join(" "));var _e=Se.join("<br>"),Me=M.mouse(oe)[0];T.loneHover({trace:ue,x:Ae-be.left+de.left,y:ye-be.top+de.top,text:_e,color:$.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:we,idealAlign:Me<Ae?"right":"left",hovertemplate:(ue.line||{}).hovertemplate,hovertemplateLabels:he,eventData:[{data:ue._input,fullData:ue,count:se,probability:ie}]},{container:ve._hoverlayer.node(),outerContainer:ve._paper.node(),gd:oe})}}}function d($){if(!$.parcatsViewModel.dragDimension&&(h(M.select(this)),T.loneUnhover($.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),$.parcatsViewModel.pathSelection.sort(l),-1===$.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var X=c($),W=x($);$.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:X,event:M.event,constraints:W})}}function c($){for(var X=[],W=j($.parcatsViewModel),J=0;J<$.model.valueInds.length;J++){var Q=$.model.valueInds[J];X.push({curveNumber:W,pointNumber:Q})}return X}function x($){for(var X={},W=$.parcatsViewModel.model.dimensions,J=0;J<W.length;J++){var Q=W[J],re=Q.categories[$.model.categoryInds[J]];X[Q.containerInd]=re.categoryValue}return void 0!==$.model.rawColor&&(X.color=$.model.rawColor),X}function g($){if(-1===$.parcatsViewModel.hoverinfoItems.indexOf("skip")){var X=c($),W=x($);$.parcatsViewModel.graphDiv.emit("plotly_click",{points:X,event:M.event,constraints:W})}}function h($){$.attr("fill",function(X){return X.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function m($){$.attr("fill-opacity",.8).attr("stroke",function(X){return t.mostReadable(X.model.color,["black","white"])}).attr("stroke-width",.3)}function y($){$.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function v($){$.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function _($){var X=$.parcatsViewModel.pathSelection,W=$.categoryViewModel.model.dimensionInd,J=$.categoryViewModel.model.categoryInd;return X.filter(function(Q){return Q.model.categoryInds[W]===J&&Q.model.color===$.color})}function f($,X,W){var J=M.select($).datum(),Q=J.categoryViewModel.model,re=J.parcatsViewModel.graphDiv,ae=M.select($.parentNode).selectAll("rect.bandrect"),oe=[];ae.each(function(ve){_(ve).each(function(be){Array.prototype.push.apply(oe,c(be))})});var ue={};ue[Q.dimensionInd]=Q.categoryValue,re.emit(X,{points:oe,event:W,constraints:ue})}function S($,X,W){var J=M.select($).datum(),Q=J.categoryViewModel.model,re=J.parcatsViewModel.graphDiv,ae=_(J),oe=[];ae.each(function(ve){Array.prototype.push.apply(oe,c(ve))});var ue={};ue[Q.dimensionInd]=Q.categoryValue,void 0!==J.rawColor&&(ue.color=J.rawColor),re.emit(X,{points:oe,event:W,constraints:ue})}function w($,X,W){$._fullLayout._calcInverseTransform($);var J,Q,re=$._fullLayout._invScaleX,ae=$._fullLayout._invScaleY,oe=M.select(W.parentNode).select("rect.catrect"),ue=oe.node().getBoundingClientRect(),ve=oe.datum(),be=ve.parcatsViewModel,de=be.model.dimensions[ve.model.dimensionInd],pe=be.trace,ge=ue.top+ue.height/2;be.dimensions.length>1&&de.displayInd===be.dimensions.length-1?(J=ue.left,Q="left"):(J=ue.left+ue.width,Q="right");var Ae=ve.model.count,ye=ve.model.categoryLabel,we=Ae/ve.parcatsViewModel.model.count,se={countLabel:Ae,categoryLabel:ye,probabilityLabel:we.toFixed(3)},ie=[];-1!==ve.parcatsViewModel.hoverinfoItems.indexOf("count")&&ie.push(["Count:",se.countLabel].join(" ")),-1!==ve.parcatsViewModel.hoverinfoItems.indexOf("probability")&&ie.push(["P("+se.categoryLabel+"):",se.probabilityLabel].join(" "));var he=ie.join("<br>");return{trace:pe,x:re*(J-X.left),y:ae*(ge-X.top),text:he,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Q,hovertemplate:pe.hovertemplate,hovertemplateLabels:se,eventData:[{data:pe._input,fullData:pe,count:Ae,category:ye,probability:we}]}}function E($){if(!$.parcatsViewModel.dragDimension&&-1===$.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(M.mouse(this)[1]<-1)return;var X,W=$.parcatsViewModel.graphDiv,J=W._fullLayout,Q=J._paperdiv.node().getBoundingClientRect(),re=$.parcatsViewModel.hoveron,ae=this;"color"===re?(oe=ae,ue=M.select(oe).datum(),m(ve=_(ue)),ve.each(function(){b.raiseToTop(this)}),M.select(oe.parentNode).selectAll("rect.bandrect").filter(function(be){return be.color===ue.color}).each(function(){b.raiseToTop(this),M.select(this).attr("stroke","black").attr("stroke-width",1.5)}),S(ae,"plotly_hover",M.event)):(function(oe){M.select(oe.parentNode).selectAll("rect.bandrect").each(function(ue){var ve=_(ue);m(ve),ve.each(function(){b.raiseToTop(this)})}),M.select(oe.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(ae),f(ae,"plotly_hover",M.event)),-1===$.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===re?X=w(W,Q,ae):"color"===re?X=function(oe,ue,ve){oe._fullLayout._calcInverseTransform(oe);var be,de,pe=oe._fullLayout._invScaleX,ge=oe._fullLayout._invScaleY,Ae=ve.getBoundingClientRect(),ye=M.select(ve).datum(),we=ye.categoryViewModel,se=we.parcatsViewModel,ie=se.model.dimensions[we.model.dimensionInd],he=se.trace,Se=Ae.y+Ae.height/2;se.dimensions.length>1&&ie.displayInd===se.dimensions.length-1?(be=Ae.left,de="left"):(be=Ae.left+Ae.width,de="right");var _e=we.model.categoryLabel,Me=ye.parcatsViewModel.model.count,Ee=0;ye.categoryViewModel.bands.forEach(function(Xe){Xe.color===ye.color&&(Ee+=Xe.count)});var Ie=we.model.count,fe=0;se.pathSelection.each(function(Xe){Xe.model.color===ye.color&&(fe+=Xe.model.count)});var xe=Ee/Me,Te=Ee/fe,Ce=Ee/Ie,De={countLabel:Me,categoryLabel:_e,probabilityLabel:xe.toFixed(3)},ze=[];-1!==we.parcatsViewModel.hoverinfoItems.indexOf("count")&&ze.push(["Count:",De.countLabel].join(" ")),-1!==we.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(ze.push("P(color \u2229 "+_e+"): "+De.probabilityLabel),ze.push("P("+_e+" | color): "+Te.toFixed(3)),ze.push("P(color | "+_e+"): "+Ce.toFixed(3)));var Ue=ze.join("<br>"),Ve=t.mostReadable(ye.color,["black","white"]);return{trace:he,x:pe*(be-ue.left),y:ge*(Se-ue.top),text:Ue,color:ye.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:Ve,fontSize:10,idealAlign:de,hovertemplate:he.hovertemplate,hovertemplateLabels:De,eventData:[{data:he._input,fullData:he,category:_e,count:Me,probability:xe,categorycount:Ie,colorcount:fe,bandcolorcount:Ee}]}}(W,Q,ae):"dimension"===re&&(X=function(oe,ue,ve){var be=[];return M.select(ve.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){be.push(w(oe,ue,this))}),be}(W,Q,ae)),X&&T.loneHover(X,{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:W}))}var oe,ue,ve}function C($){var X=$.parcatsViewModel;X.dragDimension||(h(X.pathSelection),y(X.dimensionSelection.selectAll("g.category")),v(X.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),T.loneUnhover(X.graphDiv._fullLayout._hoverlayer.node()),X.pathSelection.sort(l),-1!==X.hoverinfoItems.indexOf("skip"))||("color"===$.parcatsViewModel.hoveron?S(this,"plotly_unhover",M.event):f(this,"plotly_unhover",M.event))}function O($){"fixed"!==$.parcatsViewModel.arrangement&&($.dragDimensionDisplayInd=$.model.displayInd,$.initialDragDimensionDisplayInds=$.parcatsViewModel.model.dimensions.map(function(X){return X.displayInd}),$.dragHasMoved=!1,$.dragCategoryDisplayInd=null,M.select(this).selectAll("g.category").select("rect.catrect").each(function(X){var W=M.mouse(this)[0],J=M.mouse(this)[1];-2<=W&&W<=X.width+2&&-2<=J&&J<=X.height+2&&($.dragCategoryDisplayInd=X.model.displayInd,$.initialDragCategoryDisplayInds=$.model.categories.map(function(Q){return Q.displayInd}),X.model.dragY=X.y,b.raiseToTop(this.parentNode),M.select(this.parentNode).selectAll("rect.bandrect").each(function(Q){Q.y<J&&J<=Q.y+Q.height&&($.potentialClickBand=this)}))}),$.parcatsViewModel.dragDimension=$,T.loneUnhover($.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function P($){if("fixed"!==$.parcatsViewModel.arrangement&&($.dragHasMoved=!0,null!==$.dragDimensionDisplayInd)){var X=$.dragDimensionDisplayInd,W=X-1,J=X+1,Q=$.parcatsViewModel.dimensions[X];if(null!==$.dragCategoryDisplayInd){var re=Q.categories[$.dragCategoryDisplayInd];re.model.dragY+=M.event.dy;var ae=re.model.dragY,oe=re.model.displayInd,ue=Q.categories,ve=ue[oe-1],be=ue[oe+1];void 0!==ve&&ae<ve.y+ve.height/2&&(re.model.displayInd=ve.model.displayInd,ve.model.displayInd=oe),void 0!==be&&ae+re.height>be.y+be.height/2&&(re.model.displayInd=be.model.displayInd,be.model.displayInd=oe),$.dragCategoryDisplayInd=re.model.displayInd}if(null===$.dragCategoryDisplayInd||"freeform"===$.parcatsViewModel.arrangement){Q.model.dragX=M.event.x;var de=$.parcatsViewModel.dimensions[W],pe=$.parcatsViewModel.dimensions[J];void 0!==de&&Q.model.dragX<de.x+de.width&&(Q.model.displayInd=de.model.displayInd,de.model.displayInd=X),void 0!==pe&&Q.model.dragX+Q.width>pe.x&&(Q.model.displayInd=pe.model.displayInd,pe.model.displayInd=$.dragDimensionDisplayInd),$.dragDimensionDisplayInd=Q.model.displayInd}V($.parcatsViewModel),U($.parcatsViewModel),N($.parcatsViewModel),z($.parcatsViewModel)}}function R($){if("fixed"!==$.parcatsViewModel.arrangement&&null!==$.dragDimensionDisplayInd){M.select(this).selectAll("text").attr("font-weight","normal");var X={},W=j($.parcatsViewModel),J=$.parcatsViewModel.model.dimensions.map(function(be){return be.displayInd}),Q=$.initialDragDimensionDisplayInds.some(function(be,de){return be!==J[de]});Q&&J.forEach(function(be,de){var pe=$.parcatsViewModel.model.dimensions[de].containerInd;X["dimensions["+pe+"].displayindex"]=be});var re=!1;if(null!==$.dragCategoryDisplayInd){var ae=$.model.categories.map(function(be){return be.displayInd});if(re=$.initialDragCategoryDisplayInds.some(function(be,de){return be!==ae[de]})){var oe=$.model.categories.slice().sort(function(be,de){return be.displayInd-de.displayInd}),ue=oe.map(function(be){return be.categoryValue}),ve=oe.map(function(be){return be.categoryLabel});X["dimensions["+$.model.containerInd+"].categoryarray"]=[ue],X["dimensions["+$.model.containerInd+"].ticktext"]=[ve],X["dimensions["+$.model.containerInd+"].categoryorder"]="array"}}-1===$.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!$.dragHasMoved&&$.potentialClickBand&&("color"===$.parcatsViewModel.hoveron?S($.potentialClickBand,"plotly_click",M.event.sourceEvent):f($.potentialClickBand,"plotly_click",M.event.sourceEvent)),$.model.dragX=null,null!==$.dragCategoryDisplayInd&&($.parcatsViewModel.dimensions[$.dragDimensionDisplayInd].categories[$.dragCategoryDisplayInd].model.dragY=null,$.dragCategoryDisplayInd=null),$.dragDimensionDisplayInd=null,$.parcatsViewModel.dragDimension=null,$.dragHasMoved=null,$.potentialClickBand=null,V($.parcatsViewModel),U($.parcatsViewModel),M.transition().duration(300).ease("cubic-in-out").each(function(){N($.parcatsViewModel,!0),z($.parcatsViewModel,!0)}).each("end",function(){(Q||re)&&a.restyle($.parcatsViewModel.graphDiv,X,[W])})}}function j($){for(var X,W=$.graphDiv._fullData,J=0;J<W.length;J++)if($.key===W[J].uid){X=J;break}return X}function z($,X){var W;void 0===X&&(X=!1),$.pathSelection.data(function(J){return J.paths},r),(W=$.pathSelection,X?W.transition():W).attr("d",function(J){return J.svgD})}function N($,X){function W(ae){return X?ae.transition():ae}void 0===X&&(X=!1),$.dimensionSelection.data(function(ae){return ae.dimensions},r);var J=$.dimensionSelection.selectAll("g.category").data(function(ae){return ae.categories},r);W($.dimensionSelection).attr("transform",function(ae){return p(ae.x,0)}),W(J).attr("transform",function(ae){return p(0,ae.y)}),J.select(".dimlabel").text(function(ae,oe){return 0===oe?ae.parcatsViewModel.model.dimensions[ae.model.dimensionInd].dimensionLabel:null}),J.select(".catlabel").attr("text-anchor",function(ae){return o(ae)?"start":"end"}).attr("x",function(ae){return o(ae)?ae.width+5:-5}).each(function(ae){var oe,ue;o(ae)?(oe=ae.width+5,ue="start"):(oe=-5,ue="end"),M.select(this).selectAll("tspan").attr("x",oe).attr("text-anchor",ue)});var Q=J.selectAll("rect.bandrect").data(function(ae){return ae.bands},r),re=Q.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ae){return ae.color}).attr("fill-opacity",0);Q.attr("fill",function(ae){return ae.color}).attr("width",function(ae){return ae.width}).attr("height",function(ae){return ae.height}).attr("y",function(ae){return ae.y}),v(re),Q.each(function(){b.raiseToTop(this)}),Q.exit().remove()}function Y($,X,W){var J,Q=W[0],re=X.margin||{l:80,r:80,t:100,b:80},ae=Q.trace,oe=ae.domain,ue=X.width,ve=X.height,be=Math.floor(ue*(oe.x[1]-oe.x[0])),de=Math.floor(ve*(oe.y[1]-oe.y[0])),pe=oe.x[0]*ue+re.l,ge=X.height-oe.y[1]*X.height+re.t,Ae=ae.line.shape;J="all"===ae.hoverinfo?["count","probability"]:(ae.hoverinfo||"").split("+");var ye={trace:ae,key:ae.uid,model:Q,x:pe,y:ge,width:be,height:de,hoveron:ae.hoveron,hoverinfoItems:J,arrangement:ae.arrangement,bundlecolors:ae.bundlecolors,sortpaths:ae.sortpaths,labelfont:ae.labelfont,categorylabelfont:ae.tickfont,pathShape:Ae,dragDimension:null,margin:re,paths:[],dimensions:[],graphDiv:$,traceSelection:null,pathSelection:null,dimensionSelection:null};return Q.dimensions&&(V(ye),U(ye)),ye}function F($,X,W,J,Q){var re,ae,oe=[],ue=[];for(ae=0;ae<W.length-1;ae++)re=k(W[ae]+$[ae],$[ae+1]),oe.push(re(Q)),ue.push(re(1-Q));var ve="M "+$[0]+","+X[0];for(ve+="l"+W[0]+",0 ",ae=1;ae<W.length;ae++)ve+="C"+oe[ae-1]+","+X[ae-1]+" "+ue[ae-1]+","+X[ae]+" "+$[ae]+","+X[ae],ve+="l"+W[ae]+",0 ";for(ve+="l0,"+J+" ",ve+="l -"+W[W.length-1]+",0 ",ae=W.length-2;ae>=0;ae--)ve+="C"+ue[ae]+","+(X[ae+1]+J)+" "+oe[ae]+","+(X[ae]+J)+" "+($[ae]+W[ae])+","+(X[ae]+J),ve+="l-"+W[ae]+",0 ";return ve+"Z"}function U($){var X=$.dimensions,W=$.model,J=X.map(function(De){return De.categories.map(function(ze){return ze.y})}),Q=$.model.dimensions.map(function(De){return De.categories.map(function(ze){return ze.displayInd})}),re=$.model.dimensions.map(function(De){return De.displayInd}),ae=$.dimensions.map(function(De){return De.model.dimensionInd}),oe=X.map(function(De){return De.x}),ue=X.map(function(De){return De.width}),ve=[];for(var be in W.paths)W.paths.hasOwnProperty(be)&&ve.push(W.paths[be]);function de(De){var ze=De.categoryInds.map(function(Ue,Ve){return Q[Ve][Ue]});return ae.map(function(Ue){return ze[Ue]})}ve.sort(function(De,ze){var Ue=de(De),Ve=de(ze);return"backward"===$.sortpaths&&(Ue.reverse(),Ve.reverse()),Ue.push(De.valueInds[0]),Ve.push(ze.valueInds[0]),$.bundlecolors&&(Ue.unshift(De.rawColor),Ve.unshift(ze.rawColor)),Ue<Ve?-1:Ue>Ve?1:0});for(var pe=new Array(ve.length),ge=X[0].model.count,Ae=X[0].categories.map(function(De){return De.height}).reduce(function(De,ze){return De+ze}),ye=0;ye<ve.length;ye++){var we,se=ve[ye];we=ge>0?Ae*(se.count/ge):0;for(var ie,he=new Array(J.length),Se=0;Se<se.categoryInds.length;Se++){var _e=se.categoryInds[Se],Me=Q[Se][_e],Ee=re[Se];he[Ee]=J[Ee][Me],J[Ee][Me]+=we;var Ie=$.dimensions[Ee].categories[Me],fe=Ie.bands.length,xe=Ie.bands[fe-1];if(void 0===xe||se.rawColor!==xe.rawColor){var Te=void 0===xe?0:xe.y+xe.height;Ie.bands.push({key:Te,color:se.color,rawColor:se.rawColor,height:we,width:Ie.width,count:se.count,y:Te,categoryViewModel:Ie,parcatsViewModel:$})}else{var Ce=Ie.bands[fe-1];Ce.height+=we,Ce.count+=se.count}}ie="hspline"===$.pathShape?F(oe,he,ue,we,.5):F(oe,he,ue,we,0),pe[ye]={key:se.valueInds[0],model:se,height:we,leftXs:oe,topYs:he,dimWidths:ue,svgD:ie,parcatsViewModel:$}}$.paths=pe}function V($){var X=$.model.dimensions.map(function(ae){return{displayInd:ae.displayInd,dimensionInd:ae.dimensionInd}});X.sort(function(ae,oe){return ae.displayInd-oe.displayInd});var W=[];for(var J in X){var Q=X[J].dimensionInd,re=$.model.dimensions[Q];W.push(te($,re))}$.dimensions=W}function te($,X){var W,J=$.model.dimensions.length,Q=X.displayInd;W=40+(J>1?($.width-80-16)/(J-1):0)*Q;var re,ae,oe,ue,ve,be=[],de=$.model.maxCats,pe=X.categories.length,ge=X.count,Ae=$.height-8*(de-1),ye=8*(de-pe)/2,we=X.categories.map(function(se){return{displayInd:se.displayInd,categoryInd:se.categoryInd}});for(we.sort(function(se,ie){return se.displayInd-ie.displayInd}),ve=0;ve<pe;ve++)ue=we[ve].categoryInd,ae=X.categories[ue],re=ge>0?ae.count/ge*Ae:0,oe={key:ae.valueInds[0],model:ae,width:16,height:re,y:null!==ae.dragY?ae.dragY:ye,bands:[],parcatsViewModel:$},ye=ye+re+8,be.push(oe);return{key:X.dimensionInd,x:null!==X.dragX?X.dragX:W,y:0,width:16,model:X,categories:be,parcatsViewModel:$,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}ee.exports=function($,X,W,J){n(W,$,J,X)}},45784:function(ee,D,e){"use strict";var M=e(45460);ee.exports=function(k,a,T,b){var p=k._fullLayout,s=p._paper,t=p._size;M(k,s,a,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},T,b)}},73362:function(ee,D,e){"use strict";var M=e(50693),k=e(13838),a=e(41940),T=e(27670).Y,b=e(1426).extendFlat,p=e(44467).templatedArray;ee.exports={domain:T({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:p("dimension",{label:{valType:"string",editType:"plot"},tickvals:b({},k.tickvals,{editType:"plot"}),ticktext:b({},k.ticktext,{editType:"plot"}),tickformat:b({},k.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:b({editType:"calc"},M("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(ee,D,e){"use strict";var M=e(25706),k=e(39898),a=e(28984).keyFun,T=e(28984).repeat,b=e(71828).sorterAsc,p=e(71828).strTranslate,s=M.bar.snapRatio;function t(w,E){return w*(1-s)+E*s}var i=M.bar.snapClose;function n(w,E){return w*(1-i)+E*i}function r(w,E,C,O){if(function(te,$){for(var X=0;X<$.length;X++)if(te>=$[X][0]&&te<=$[X][1])return!0;return!1}(C,O))return C;var P=w?-1:1,R=0,j=E.length-1;if(P<0){var z=R;R=j,j=z}for(var N=E[R],Y=N,F=R;P*F<P*j;F+=P){var U=F+P,V=E[U];if(P*C<P*n(N,V))return t(N,Y);if(P*C<P*V||U===j)return t(V,N);Y=N,N=V}}function o(w){w.attr("x",-M.bar.captureWidth/2).attr("width",M.bar.captureWidth)}function l(w){w.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(w){if(!w.brush.filterSpecified)return"0,"+w.height;for(var E,C,O,P=d(w.brush.filter.getConsolidated(),w.height),R=[0],j=P.length?P[0][0]:null,z=0;z<P.length;z++)C=(E=P[z])[1]-E[0],R.push(j),R.push(C),(O=z+1)<P.length&&(j=P[O][0]-E[1]);return R.push(w.height),R}function d(w,E){return w.map(function(C){return C.map(function(O){return Math.max(0,O*E)}).sort(b)})}function c(){k.select(document.body).style("cursor",null)}function x(w){w.attr("stroke-dasharray",u)}function g(w,E){var C=k.select(w).selectAll(".highlight, .highlight-shadow");x(E?C.transition().duration(M.bar.snapDuration).each("end",E):C)}function h(w,E){var C,O=w.brush,P=NaN,R={};if(O.filterSpecified){var j=w.height,z=O.filter.getConsolidated(),N=d(z,j),Y=NaN,F=NaN,U=NaN;for(C=0;C<=N.length;C++){var V=N[C];if(V&&V[0]<=E&&E<=V[1]){Y=C;break}if(F=C?C-1:NaN,V&&V[0]>E){U=C;break}}if(P=Y,isNaN(P)&&(P=isNaN(F)||isNaN(U)?isNaN(F)?U:F:E-N[F][1]<N[U][0]-E?F:U),!isNaN(P)){var te=N[P],$=function(Q,re){var ae=M.bar.handleHeight;if(!(re>Q[1]+ae||re<Q[0]-ae))return re>=.9*Q[1]+.1*Q[0]?"n":re<=.9*Q[0]+.1*Q[1]?"s":"ns"}(te,E);$&&(R.interval=z[P],R.intervalPix=te,R.region=$)}}if(w.ordinal&&!R.region){var X=w.unitTickvals,W=w.unitToPaddedPx.invert(E);for(C=0;C<X.length;C++){var J=[.25*X[Math.max(C-1,0)]+.75*X[C],.25*X[Math.min(C+1,X.length-1)]+.75*X[C]];if(W>=J[0]&&W<=J[1]){R.clickableOrdinalRange=J;break}}}return R}function m(w,E){k.event.sourceEvent.stopPropagation();var C=E.height-k.mouse(w)[1]-2*M.verticalPadding,O=E.brush.svgBrush;O.wasDragged=!0,O._dragging=!0,O.grabbingBar?O.newExtent=[C-O.grabPoint,C+O.barLength-O.grabPoint].map(E.unitToPaddedPx.invert):O.newExtent=[O.startExtent,E.unitToPaddedPx.invert(C)].sort(b),E.brush.filterSpecified=!0,O.extent=O.stayingIntervals.concat([O.newExtent]),O.brushCallback(E),g(w.parentNode)}function y(w,E){var C=h(E,E.height-k.mouse(w)[1]-2*M.verticalPadding),O="crosshair";C.clickableOrdinalRange?O="pointer":C.region&&(O=C.region+"-resize"),k.select(document.body).style("cursor",O)}function v(w){w.on("mousemove",function(E){k.event.preventDefault(),E.parent.inBrushDrag||y(this,E)}).on("mouseleave",function(E){E.parent.inBrushDrag||c()}).call(k.behavior.drag().on("dragstart",function(E){!function(C,O){k.event.sourceEvent.stopPropagation();var P=O.height-k.mouse(C)[1]-2*M.verticalPadding,R=O.unitToPaddedPx.invert(P),j=O.brush,z=h(O,P),N=z.interval,Y=j.svgBrush;if(Y.wasDragged=!1,Y.grabbingBar="ns"===z.region,Y.grabbingBar){var F=N.map(O.unitToPaddedPx);Y.grabPoint=P-F[0]-M.verticalPadding,Y.barLength=F[1]-F[0]}Y.clickableOrdinalRange=z.clickableOrdinalRange,Y.stayingIntervals=O.multiselect&&j.filterSpecified?j.filter.getConsolidated():[],N&&(Y.stayingIntervals=Y.stayingIntervals.filter(function(U){return U[0]!==N[0]&&U[1]!==N[1]})),Y.startExtent=z.region?N["s"===z.region?1:0]:R,O.parent.inBrushDrag=!0,Y.brushStartCallback()}(this,E)}).on("drag",function(E){m(this,E)}).on("dragend",function(E){!function(C,O){var P=O.brush,R=P.filter,j=P.svgBrush;j._dragging||(y(C,O),m(C,O),O.brush.svgBrush.wasDragged=!1),j._dragging=!1,k.event.sourceEvent.stopPropagation();var z=j.grabbingBar;if(j.grabbingBar=!1,j.grabLocation=void 0,O.parent.inBrushDrag=!1,c(),!j.wasDragged)return j.wasDragged=void 0,j.clickableOrdinalRange?P.filterSpecified&&O.multiselect?j.extent.push(j.clickableOrdinalRange):(j.extent=[j.clickableOrdinalRange],P.filterSpecified=!0):z?(j.extent=j.stayingIntervals,0===j.extent.length&&f(P)):f(P),j.brushCallback(O),g(C.parentNode),void j.brushEndCallback(P.filterSpecified?R.getConsolidated():[]);var N=function(){R.set(R.getConsolidated())};if(O.ordinal){var Y=O.unitTickvals;Y[Y.length-1]<Y[0]&&Y.reverse(),j.newExtent=[r(0,Y,j.newExtent[0],j.stayingIntervals),r(1,Y,j.newExtent[1],j.stayingIntervals)];var F=j.newExtent[1]>j.newExtent[0];j.extent=j.stayingIntervals.concat(F?[j.newExtent]:[]),j.extent.length||f(P),j.brushCallback(O),F?g(C.parentNode,N):(N(),g(C.parentNode))}else N();j.brushEndCallback(P.filterSpecified?R.getConsolidated():[])}(this,E)}))}function _(w,E){return w[0]-E[0]}function f(w){w.filterSpecified=!1,w.svgBrush.extent=[[-1/0,1/0]]}function S(w){for(var E,C=w.slice(),O=[],P=C.shift();P;){for(E=P.slice();(P=C.shift())&&P[0]<=E[1];)E[1]=Math.max(E[1],P[1]);O.push(E)}return 1===O.length&&O[0][0]>O[0][1]&&(O=[]),O}ee.exports={makeBrush:function(w,E,C,O,P,R){var j,N,Y,F,z=(F=[],{set:function(U){1===(F=U.map(function(V){return V.slice().sort(b)}).sort(_)).length&&F[0][0]===-1/0&&F[0][1]===1/0&&(F=[[0,-1]]),N=S(F),Y=F.reduce(function(V,te){return[Math.min(V[0],te[0]),Math.max(V[1],te[1])]},[1/0,-1/0])},get:function(){return F.slice()},getConsolidated:function(){return N},getBounds:function(){return Y}});return z.set(C),{filter:z,filterSpecified:E,svgBrush:{extent:[],brushStartCallback:O,brushCallback:(j=P,function(N){var Y=N.brush,U=Y.svgBrush.extent.map(function(te){return te.slice()}).slice();Y.filter.set(U),j()}),brushEndCallback:R}}},ensureAxisBrush:function(w,E,C){var O=w.selectAll("."+M.cn.axisBrush).data(T,a);O.enter().append("g").classed(M.cn.axisBrush,!0),function(P,R,j){var z=j._context.staticPlot,N=P.selectAll(".background").data(T);N.enter().append("rect").classed("background",!0).call(o).call(l).style("pointer-events",z?"none":"auto").attr("transform",p(0,M.verticalPadding)),N.call(v).attr("height",function(U){return U.height-M.verticalPadding});var Y=P.selectAll(".highlight-shadow").data(T);Y.enter().append("line").classed("highlight-shadow",!0).attr("x",-M.bar.width/2).attr("stroke-width",M.bar.width+M.bar.strokeWidth).attr("stroke",R).attr("opacity",M.bar.strokeOpacity).attr("stroke-linecap","butt"),Y.attr("y1",function(U){return U.height}).call(x);var F=P.selectAll(".highlight").data(T);F.enter().append("line").classed("highlight",!0).attr("x",-M.bar.width/2).attr("stroke-width",M.bar.width-M.bar.strokeWidth).attr("stroke",M.bar.fillColor).attr("opacity",M.bar.fillOpacity).attr("stroke-linecap","butt"),F.attr("y1",function(U){return U.height}).call(x)}(O,E,C)},cleanRanges:function(w,E){if(Array.isArray(w[0])?(w=w.map(function(O){return O.sort(b)}),w=E.multiselect?S(w.sort(_)):[w[0]]):w=[w.sort(b)],E.tickvals){var C=E.tickvals.slice().sort(b);if(!(w=w.map(function(O){var P=[r(0,C,O[0],[]),r(1,C,O[1],[])];if(P[1]>P[0])return P}).filter(function(O){return O})).length)return}return w.length>1?w:w[0]}}},71791:function(ee,D,e){"use strict";ee.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(ee,D,e){"use strict";var M=e(39898),k=e(27659).a0,a=e(21341),T=e(77922);D.name="parcoords",D.plot=function(b){var p=k(b.calcdata,"parcoords")[0];p.length&&a(b,p)},D.clean=function(b,p,s,t){var i=t._has&&t._has("parcoords"),n=p._has&&p._has("parcoords");i&&!n&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},D.toSVG=function(b){var p=b._fullLayout._glimages,s=M.select(b).selectAll(".svg-container");s.filter(function(t,i){return i===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,i=t.toDataURL("image/png");p.append("svg:image").attr({xmlns:T.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){M.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(ee,D,e){"use strict";var M=e(71828).isArrayOrTypedArray,k=e(21081),a=e(28984).wrap;ee.exports=function(T,b){var p,s;return k.hasColorscale(b,"line")&&M(b.line.color)?(p=b.line.color,s=k.extractOpts(b.line).colorscale,k.calc(T,b,{vals:p,containerStr:"line",cLetter:"c"})):(p=function(t){for(var i=new Array(t),n=0;n<t;n++)i[n]=.5;return i}(b._length),s=[[0,b.line.color],[1,b.line.color]]),a({lineColor:p,cscale:s})}},25706:function(ee){"use strict";ee.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(ee,D,e){"use strict";var M=e(71828),k=e(52075).hasColorscale,a=e(1586),T=e(27670).c,b=e(85501),p=e(89298),s=e(73362),t=e(57920),i=e(25706).maxDimensionCount,n=e(94397);function r(o,l,u,d){function c(y,v){return M.coerce(o,l,s.dimensions,y,v)}var x=c("values"),g=c("visible");if(x&&x.length||(g=l.visible=!1),g){c("label"),c("tickvals"),c("ticktext"),c("tickformat");var h=c("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:h},p.setConvert(l._ax,d.layout),c("multiselect");var m=c("constraintrange");m&&(l.constraintrange=t.cleanRanges(m,l))}}ee.exports=function(o,l,u,d){function c(y,v){return M.coerce(o,l,s,y,v)}var x=o.dimensions;Array.isArray(x)&&x.length>i&&(M.log("parcoords traces support up to "+i+" dimensions at the moment"),x.splice(i));var g=b(o,l,{name:"dimensions",layout:d,handleItemDefaults:r}),h=function(y,v,_,f,S){var w=S("line.color",_);if(k(y,"line")&&M.isArrayOrTypedArray(w)){if(w.length)return S("line.colorscale"),a(y,v,f,S,{prefix:"line.",cLetter:"c"}),w.length;v.line.color=_}return 1/0}(o,l,u,d,c);T(l,d,c),Array.isArray(g)&&g.length||(l.visible=!1),n(l,g,"values",h);var m={family:d.font.family,size:Math.round(d.font.size/1.2),color:d.font.color};M.coerceFont(c,"labelfont",m),M.coerceFont(c,"tickfont",m),M.coerceFont(c,"rangefont",m),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},1602:function(ee,D,e){"use strict";var M=e(71828).isTypedArray;D.convertTypedArray=function(k){return M(k)?Array.prototype.slice.call(k):k},D.isOrdinal=function(k){return!!k.tickvals},D.isVisible=function(k){return k.visible||!("visible"in k)}},67618:function(ee,D,e){"use strict";var M=e(71791);M.plot=e(21341),ee.exports=M},83398:function(ee,D,e){"use strict";var M=e(56068),k=M(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),a=M(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),T=e(25706).maxDimensionCount,b=e(71828),p=1e-6,s=new Uint8Array(4),t=new Uint8Array(4),i={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(h,m,y,v,_){var f=h._gl;f.enable(f.SCISSOR_TEST),f.scissor(m,y,v,_),h.clear({color:[0,0,0,0],depth:1})}function r(h,m,y,v,_,f){var S=f.key;y.drawCompleted||(h.read({x:0,y:0,width:1,height:1,data:s}),y.drawCompleted=!0),function w(E){var C=Math.min(v,_-E*v);0===E&&(window.cancelAnimationFrame(y.currentRafs[S]),delete y.currentRafs[S],n(h,f.scissorX,f.scissorY,f.scissorWidth,f.viewBoxSize[1])),y.clearOnly||(f.count=2*C,f.offset=2*E*v,m(f),E*v+C<_&&(y.currentRafs[S]=window.requestAnimationFrame(function(){w(E+1)})),y.drawCompleted=!1)}(0)}function o(h,m){for(var y=new Array(256),v=0;v<256;v++)y[v]=h(v/255).concat(m);return y}function l(h,m){return(h>>>8*m)%256/255}function u(h,m,y){for(var v=new Array(8*m),_=0,f=0;f<m;f++)for(var S=0;S<2;S++)for(var w=0;w<4;w++){var E=4*h+w,C=y[64*f+E];63===E&&0===S&&(C*=-1),v[_++]=C}return v}function d(h){var m="0"+h;return m.substr(m.length-2)}function c(h){return h<T?"p"+d(h+1)+"_"+d(h+4):"colors"}function x(h,m,y,v,_,f,S,w,E,C,O,P,R,j){for(var z=[[],[]],N=0;N<64;N++)z[0][N]=N===_?1:0,z[1][N]=N===f?1:0;S*=j,w*=j,E*=j,C*=j;var Y=h.lines.canvasOverdrag*j,F=h.domain,U=h.canvasWidth*j,V=h.canvasHeight*j,te=h.pad.l*j,$=h.pad.b*j,X=h.layoutHeight*j,W=h.layoutWidth*j,J=h.deselectedLines.color,Q=h.deselectedLines.opacity;return b.extendFlat({key:O,resolution:[U,V],viewBoxPos:[S+Y,w],viewBoxSize:[E,C],i0:_,i1:f,dim0A:z[0].slice(0,16),dim0B:z[0].slice(16,32),dim0C:z[0].slice(32,48),dim0D:z[0].slice(48,64),dim1A:z[1].slice(0,16),dim1B:z[1].slice(16,32),dim1C:z[1].slice(32,48),dim1D:z[1].slice(48,64),drwLayer:P,contextColor:[J[0]/255,J[1]/255,J[2]/255,"auto"!==Q?J[3]*Q:Math.max(.00392156862745098,Math.pow(1/h.lines.color.length,.3333333333333333))],scissorX:(v===m?0:S+Y)+(te-Y)+W*F.x[0],scissorWidth:(v===y?U-S+Y:E+.5)+(v===m?S+Y:0),scissorY:w+$+X*F.y[0],scissorHeight:C,viewportX:te-Y+W*F.x[0],viewportY:$+X*F.y[0],viewportWidth:U,viewportHeight:V},R)}function g(h){var m=2047,y=Math.max(0,Math.floor(h[0]*m),0),v=Math.min(m,Math.ceil(h[1]*m),m);return[Math.min(y,v),Math.max(y,v)]}ee.exports=function(h,m){var y,v,_,f,S,w=m.context,E=m.pick,C=m.regl,O=C._gl,P=O.getParameter(O.ALIASED_LINE_WIDTH_RANGE),R=Math.max(P[0],Math.min(P[1],m.viewModel.plotGlPixelRatio)),j={currentRafs:{},drawCompleted:!0,clearOnly:!1},z=function(V){for(var te={},$=0;$<=T;$+=4)te[c($)]=V.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return te}(C),N=C.texture(i),Y=[];U(m);var F=C({profile:!1,blend:{enable:w,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!w,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:C.prop("scissorX"),y:C.prop("scissorY"),width:C.prop("scissorWidth"),height:C.prop("scissorHeight")}},viewport:{x:C.prop("viewportX"),y:C.prop("viewportY"),width:C.prop("viewportWidth"),height:C.prop("viewportHeight")},dither:!1,vert:k,frag:a,primitive:"lines",lineWidth:R,attributes:z,uniforms:{resolution:C.prop("resolution"),viewBoxPos:C.prop("viewBoxPos"),viewBoxSize:C.prop("viewBoxSize"),dim0A:C.prop("dim0A"),dim1A:C.prop("dim1A"),dim0B:C.prop("dim0B"),dim1B:C.prop("dim1B"),dim0C:C.prop("dim0C"),dim1C:C.prop("dim1C"),dim0D:C.prop("dim0D"),dim1D:C.prop("dim1D"),loA:C.prop("loA"),hiA:C.prop("hiA"),loB:C.prop("loB"),hiB:C.prop("hiB"),loC:C.prop("loC"),hiC:C.prop("hiC"),loD:C.prop("loD"),hiD:C.prop("hiD"),palette:N,contextColor:C.prop("contextColor"),maskTexture:C.prop("maskTexture"),drwLayer:C.prop("drwLayer"),maskHeight:C.prop("maskHeight")},offset:C.prop("offset"),count:C.prop("count")});function U(V){y=V.model,v=V.viewModel,_=v.dimensions.slice(),f=_[0]?_[0].values.length:0;var te=y.lines,$=E?te.color.map(function(W,J){return J/te.color.length}):te.color,X=function(W,J,Q){for(var re,ae=new Array(W*(T+4)),oe=0,ue=0;ue<W;ue++){for(var ve=0;ve<T;ve++)ae[oe++]=ve<J.length?J[ve].paddedUnitValues[ue]:.5;ae[oe++]=l(ue,2),ae[oe++]=l(ue,1),ae[oe++]=l(ue,0),ae[oe++]=(re=Q[ue],Math.max(p,Math.min(.999999,re)))}return ae}(f,_,$);(function(W,J,Q){for(var re=0;re<=T;re+=4)W[c(re)](u(re/4,J,Q))})(z,f,X),w||E||(N=C.texture(b.extendFlat({data:o(y.unitToColor,255)},i)))}return{render:function(V,te,$){var X,W,J,Q=V.length,re=1/0,ae=-1/0;for(X=0;X<Q;X++)V[X].dim0.canvasX<re&&(re=V[X].dim0.canvasX,W=X),V[X].dim1.canvasX>ae&&(ae=V[X].dim1.canvasX,J=X);0===Q&&n(C,0,0,y.canvasWidth,y.canvasHeight);var oe=function(se){var ie,he,Se,_e=[[],[]];for(Se=0;Se<64;Se++){var Me=!se&&Se<_.length?_[Se].brush.filter.getBounds():[-1/0,1/0];_e[0][Se]=Me[0],_e[1][Se]=Me[1]}var Ee=new Array(16384);for(ie=0;ie<16384;ie++)Ee[ie]=255;if(!se)for(ie=0;ie<_.length;ie++){var Ie=ie%8,fe=(ie-Ie)/8,xe=Math.pow(2,Ie),Te=_[ie].brush.filter.get();if(!(Te.length<2)){var Ce=g(Te[0])[1];for(he=1;he<Te.length;he++){var De=g(Te[he]);for(Se=Ce+1;Se<De[0];Se++)Ee[8*Se+fe]&=~xe;Ce=Math.max(Ce,De[1])}}}var ze={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ee};return S?S(ze):S=C.texture(ze),{maskTexture:S,maskHeight:2048,loA:_e[0].slice(0,16),loB:_e[0].slice(16,32),loC:_e[0].slice(32,48),loD:_e[0].slice(48,64),hiA:_e[1].slice(0,16),hiB:_e[1].slice(16,32),hiC:_e[1].slice(32,48),hiD:_e[1].slice(48,64)}}(w);for(X=0;X<Q;X++){var ue=V[X],ve=ue.dim0.crossfilterDimensionIndex,be=ue.dim1.crossfilterDimensionIndex,de=ue.canvasX,pe=ue.canvasY,ge=de+ue.panelSizeX,Ae=ue.plotGlPixelRatio;if(te||!Y[ve]||Y[ve][0]!==de||Y[ve][1]!==ge){Y[ve]=[de,ge];var ye=x(y,W,J,X,ve,be,de,pe,ue.panelSizeX,ue.panelSizeY,ue.dim0.crossfilterDimensionIndex,w?0:E?2:1,oe,Ae);j.clearOnly=$;var we=te?y.lines.blockLineCount:f;r(C,F,j,we,f,ye)}}},readPixel:function(V,te){return C.read({x:V,y:te,width:1,height:1,data:t}),t},readPixels:function(V,te,$,X){var W=new Uint8Array(4*$*X);return C.read({x:V,y:te,width:$,height:X,data:W}),W},destroy:function(){for(var V in h.style["pointer-events"]="none",N.destroy(),S&&S.destroy(),z)z[V].destroy()},update:U}}},94397:function(ee){"use strict";ee.exports=function(D,e,M,k){var a,T;for(k||(k=1/0),a=0;a<e.length;a++)(T=e[a]).visible&&(k=Math.min(k,T[M].length));for(k===1/0&&(k=0),D._length=k,a=0;a<e.length;a++)(T=e[a]).visible&&(T._length=k);return k}},17171:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=k.isArrayOrTypedArray,T=k.numberFormat,b=e(36652),p=e(89298),s=k.strRotate,t=k.strTranslate,i=e(63893),n=e(91424),r=e(21081),o=e(28984),l=o.keyFun,u=o.repeat,d=o.unwrap,c=e(1602),x=e(25706),g=e(57920),h=e(83398);function m(Y,F,U){return k.aggNums(Y,null,F,U)}function y(Y,F){return _(m(Math.min,Y,F),m(Math.max,Y,F))}function v(Y){var F=Y.range;return F?_(F[0],F[1]):y(Y.values,Y._length)}function _(Y,F){return!isNaN(Y)&&isFinite(Y)||(Y=0),!isNaN(F)&&isFinite(F)||(F=0),Y===F&&(0===Y?(Y-=1,F+=1):(Y*=.9,F*=1.1)),[Y,F]}function f(Y,F,U,V,te){var $,X,W=v(U);return V?M.scale.ordinal().domain(V.map(($=T(U.tickformat),X=te,X?function(J,Q){return X[Q]??$(J)}:$))).range(V.map(function(J){var Q=(J-W[0])/(W[1]-W[0]);return Y-F+Q*(2*F-Y)})):M.scale.linear().domain(W).range([Y-F,F])}function S(Y){if(Y.tickvals){var F=v(Y);return M.scale.ordinal().domain(Y.tickvals).range(Y.tickvals.map(function(U){return(U-F[0])/(F[1]-F[0])}))}}function w(Y){var F=Y.map(function(te){return te[0]}),U=Y.map(function(te){var $=b(te[1]);return M.rgb("rgb("+$[0]+","+$[1]+","+$[2]+")")}),V="rgb".split("").map(function(te){return M.scale.linear().clamp(!0).domain(F).range(U.map(($=te,function(X){return X[$]})));var $});return function(te){return V.map(function($){return $(te)})}}function E(Y){return Y.dimensions.some(function(F){return F.brush.filterSpecified})}function C(Y,F,U){var V=d(F),te=V.trace,$=c.convertTypedArray(V.lineColor),X=te.line,W={color:b(te.unselected.line.color),opacity:te.unselected.line.opacity},J=r.extractOpts(X),Q=J.reversescale?r.flipScale(V.cscale):V.cscale,re=te.domain,ae=te.dimensions,oe=Y.width,ue=te.labelangle,ve=te.labelside,be=te.labelfont,de=te.tickfont,pe=te.rangefont,ge=k.extendDeepNoArrays({},X,{color:$.map(M.scale.linear().domain(v({values:$,range:[J.min,J.max],_length:te._length}))),blockLineCount:x.blockLineCount,canvasOverdrag:x.overdrag*x.canvasPixelRatio}),Ae=Math.floor(oe*(re.x[1]-re.x[0])),ye=Math.floor(Y.height*(re.y[1]-re.y[0])),we=Y.margin||{l:80,r:80,t:100,b:80},se=Ae,ie=ye;return{key:U,colCount:ae.filter(c.isVisible).length,dimensions:ae,tickDistance:x.tickDistance,unitToColor:w(Q),lines:ge,deselectedLines:W,labelAngle:ue,labelSide:ve,labelFont:be,tickFont:de,rangeFont:pe,layoutWidth:oe,layoutHeight:Y.height,domain:re,translateX:re.x[0]*oe,translateY:Y.height-re.y[1]*Y.height,pad:we,canvasWidth:se*x.canvasPixelRatio+2*ge.canvasOverdrag,canvasHeight:ie*x.canvasPixelRatio,width:se,height:ie,canvasPixelRatio:x.canvasPixelRatio}}function O(Y,F,U){var oe,ue,V=U.width,te=U.height,$=U.dimensions,X=U.canvasPixelRatio,W=function(oe){return V*oe/Math.max(1,U.colCount-1)},J=x.verticalPadding/te,Q=(oe=te,ue=x.verticalPadding,M.scale.linear().range([ue,oe-ue])),re={key:U.key,xScale:W,model:U,inBrushDrag:!1},ae={};return re.dimensions=$.filter(c.isVisible).map(function(oe,ue){var Ee,Ie,ve=(Ee=oe,Ie=J,M.scale.linear().domain(v(Ee)).range([Ie,1-Ie])),be=ae[oe.label];ae[oe.label]=(be||0)+1;var de=oe.label+(be?"__"+be:""),pe=oe.constraintrange,ge=pe&&pe.length;ge&&!a(pe[0])&&(pe=[pe]);var Ae=ge?pe.map(function(Ee){return Ee.map(ve)}):[[-1/0,1/0]],ye=oe.values;ye.length>oe._length&&(ye=ye.slice(0,oe._length));var we,se=oe.tickvals;function ie(Ee,Ie){return{val:Ee,text:we[Ie]}}function he(Ee,Ie){return Ee.val-Ie.val}if(a(se)&&se.length){k.isTypedArray(se)&&(se=Array.from(se)),we=oe.ticktext,a(we)&&we.length?we.length>se.length?we=we.slice(0,se.length):se.length>we.length&&(se=se.slice(0,we.length)):we=se.map(T(oe.tickformat));for(var Se=1;Se<se.length;Se++)if(se[Se]<se[Se-1]){for(var _e=se.map(ie).sort(he),Me=0;Me<se.length;Me++)se[Me]=_e[Me].val,we[Me]=_e[Me].text;break}}else se=void 0;return ye=c.convertTypedArray(ye),{key:de,label:oe.label,tickFormat:oe.tickformat,tickvals:se,ticktext:we,ordinal:c.isOrdinal(oe),multiselect:oe.multiselect,xIndex:ue,crossfilterDimensionIndex:ue,visibleIndex:oe._index,height:te,values:ye,paddedUnitValues:ye.map(ve),unitTickvals:se&&se.map(ve),xScale:W,x:W(ue),canvasX:W(ue)*X,unitToPaddedPx:Q,domainScale:f(te,x.verticalPadding,oe,se,we),ordinalScale:S(oe),parent:re,model:U,brush:g.makeBrush(Y,ge,Ae,function(){Y.linePickActive(!1)},function(){var Ee=re;Ee.focusLayer&&Ee.focusLayer.render(Ee.panels,!0);var Ie=E(Ee);!Y.contextShown()&&Ie?(Ee.contextLayer&&Ee.contextLayer.render(Ee.panels,!0),Y.contextShown(!0)):Y.contextShown()&&!Ie&&(Ee.contextLayer&&Ee.contextLayer.render(Ee.panels,!0,!0),Y.contextShown(!1))},function(Ee){if(re.focusLayer.render(re.panels,!0),re.pickLayer&&re.pickLayer.render(re.panels,!0),Y.linePickActive(!0),F&&F.filterChanged){var Ie=ve.invert,fe=Ee.map(function(xe){return xe.map(Ie).sort(k.sorterAsc)}).sort(function(xe,Te){return xe[0]-Te[0]});F.filterChanged(re.key,oe._index,fe)}})}}),re}function P(Y){Y.classed(x.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function R(Y,F){var U="top"===F?1:-1,V=Y*Math.PI/180;return{dir:U,dx:Math.sin(V),dy:Math.cos(V),degrees:Y}}function j(Y,F,U){for(var V=F.panels||(F.panels=[]),te=Y.data(),$=0;$<te.length-1;$++){var X=V[$]||(V[$]={}),W=te[$],J=te[$+1];X.dim0=W,X.dim1=J,X.canvasX=W.canvasX,X.panelSizeX=J.canvasX-W.canvasX,X.panelSizeY=F.model.canvasHeight,X.y=0,X.canvasY=0,X.plotGlPixelRatio=U}}function z(Y,F){return p.tickText(Y._ax,F,!1).text}function N(Y,F){if(Y.ordinal)return"";var U=Y.domainScale.domain(),V=U[F?U.length-1:0];return z(Y.model.dimensions[Y.visibleIndex],V)}ee.exports=function(Y,F,U,V){var te=Y._context.staticPlot,$=Y._fullLayout,X=$._toppaper,W=$._glcontainer,J=Y._context.plotGlPixelRatio,Q=Y._fullLayout.paper_bgcolor;!function(Ee){for(var Ie=0;Ie<Ee.length;Ie++)for(var fe=0;fe<Ee[Ie].length;fe++)for(var xe=Ee[Ie][fe].trace,Te=xe.dimensions,Ce=0;Ce<Te.length;Ce++){var De=Te[Ce].values,ze=Te[Ce]._ax;ze&&(ze.range?ze.range=_(ze.range[0],ze.range[1]):ze.range=y(De,xe._length),ze.dtick||(ze.dtick=.01*(Math.abs(ze.range[1]-ze.range[0])||1)),ze.tickformat=Te[Ce].tickformat,p.calcTicks(ze),ze.cleanRange())}}(F);var re,ae,oe=(re=!0,ae=!1,{linePickActive:function(Ee){return arguments.length?re=!!Ee:re},contextShown:function(Ee){return arguments.length?ae=!!Ee:ae}}),ue=F.filter(function(Ee){return d(Ee).trace.visible}).map(C.bind(0,U)).map(O.bind(0,oe,V));W.each(function(Ee,Ie){return k.extendFlat(Ee,ue[Ie])});var ve=W.selectAll(".gl-canvas").each(function(Ee){Ee.viewModel=ue[0],Ee.viewModel.plotGlPixelRatio=J,Ee.viewModel.paperColor=Q,Ee.model=Ee.viewModel?Ee.viewModel.model:null}),be=null;ve.filter(function(Ee){return Ee.pick}).style("pointer-events",te?"none":"auto").on("mousemove",function(Ee){if(oe.linePickActive()&&Ee.lineLayer&&V&&V.hover){var Ie=M.event,fe=this.width,xe=this.height,Te=M.mouse(this),Ce=Te[0],De=Te[1];if(Ce<0||De<0||Ce>=fe||De>=xe)return;var ze=Ee.lineLayer.readPixel(Ce,xe-1-De),Ue=0!==ze[3],Ve=Ue?ze[2]+256*(ze[1]+256*ze[0]):null,Xe={x:Ce,y:De,clientX:Ie.clientX,clientY:Ie.clientY,dataIndex:Ee.model.key,curveNumber:Ve};Ve!==be&&(Ue?V.hover(Xe):V.unhover&&V.unhover(Xe),be=Ve)}}),ve.style("opacity",function(Ee){return Ee.pick?0:1}),X.style("background","rgba(255, 255, 255, 0)");var de=X.selectAll("."+x.cn.parcoords).data(ue,l);de.exit().remove(),de.enter().append("g").classed(x.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),de.attr("transform",function(Ee){return t(Ee.model.translateX,Ee.model.translateY)});var pe=de.selectAll("."+x.cn.parcoordsControlView).data(u,l);pe.enter().append("g").classed(x.cn.parcoordsControlView,!0),pe.attr("transform",function(Ee){return t(Ee.model.pad.l,Ee.model.pad.t)});var ge=pe.selectAll("."+x.cn.yAxis).data(function(Ee){return Ee.dimensions},l);ge.enter().append("g").classed(x.cn.yAxis,!0),pe.each(function(Ee){j(ge,Ee,J)}),ve.each(function(Ee){if(Ee.viewModel){!Ee.lineLayer||V?Ee.lineLayer=h(this,Ee):Ee.lineLayer.update(Ee),(Ee.key||0===Ee.key)&&(Ee.viewModel[Ee.key]=Ee.lineLayer);var Ie=!Ee.context||V;Ee.lineLayer.render(Ee.viewModel.panels,Ie)}}),ge.attr("transform",function(Ee){return t(Ee.xScale(Ee.xIndex),0)}),ge.call(M.behavior.drag().origin(function(Ee){return Ee}).on("drag",function(Ee){var Ie=Ee.parent;oe.linePickActive(!1),Ee.x=Math.max(-x.overdrag,Math.min(Ee.model.width+x.overdrag,M.event.x)),Ee.canvasX=Ee.x*Ee.model.canvasPixelRatio,ge.sort(function(fe,xe){return fe.x-xe.x}).each(function(fe,xe){fe.xIndex=xe,fe.x=Ee===fe?fe.x:fe.xScale(fe.xIndex),fe.canvasX=fe.x*fe.model.canvasPixelRatio}),j(ge,Ie,J),ge.filter(function(fe){return 0!==Math.abs(Ee.xIndex-fe.xIndex)}).attr("transform",function(fe){return t(fe.xScale(fe.xIndex),0)}),M.select(this).attr("transform",t(Ee.x,0)),ge.each(function(fe,xe,Te){Te===Ee.parent.key&&(Ie.dimensions[xe]=fe)}),Ie.contextLayer&&Ie.contextLayer.render(Ie.panels,!1,!E(Ie)),Ie.focusLayer.render&&Ie.focusLayer.render(Ie.panels)}).on("dragend",function(Ee){var Ie=Ee.parent;Ee.x=Ee.xScale(Ee.xIndex),Ee.canvasX=Ee.x*Ee.model.canvasPixelRatio,j(ge,Ie,J),M.select(this).attr("transform",function(fe){return t(fe.x,0)}),Ie.contextLayer&&Ie.contextLayer.render(Ie.panels,!1,!E(Ie)),Ie.focusLayer&&Ie.focusLayer.render(Ie.panels),Ie.pickLayer&&Ie.pickLayer.render(Ie.panels,!0),oe.linePickActive(!0),V&&V.axesMoved&&V.axesMoved(Ie.key,Ie.dimensions.map(function(fe){return fe.crossfilterDimensionIndex}))})),ge.exit().remove();var Ae=ge.selectAll("."+x.cn.axisOverlays).data(u,l);Ae.enter().append("g").classed(x.cn.axisOverlays,!0),Ae.selectAll("."+x.cn.axis).remove();var ye=Ae.selectAll("."+x.cn.axis).data(u,l);ye.enter().append("g").classed(x.cn.axis,!0),ye.each(function(Ee){var Ie=Ee.model.height/Ee.model.tickDistance,fe=Ee.domainScale,xe=fe.domain();M.select(this).call(M.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Ie,Ee.tickFormat).tickValues(Ee.ordinal?xe:null).tickFormat(function(Te){return c.isOrdinal(Ee)?Te:z(Ee.model.dimensions[Ee.visibleIndex],Te)}).scale(fe)),n.font(ye.selectAll("text"),Ee.model.tickFont)}),ye.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),ye.selectAll("text").style("text-shadow",i.makeTextShadow(Q)).style("cursor","default");var we=Ae.selectAll("."+x.cn.axisHeading).data(u,l);we.enter().append("g").classed(x.cn.axisHeading,!0);var se=we.selectAll("."+x.cn.axisTitle).data(u,l);se.enter().append("text").classed(x.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",te?"none":"auto"),se.text(function(Ee){return Ee.label}).each(function(Ee){var Ie=M.select(this);n.font(Ie,Ee.model.labelFont),i.convertToTspans(Ie,Y)}).attr("transform",function(Ee){var Ie=R(Ee.model.labelAngle,Ee.model.labelSide),fe=x.axisTitleOffset;return(Ie.dir>0?"":t(0,2*fe+Ee.model.height))+s(Ie.degrees)+t(-fe*Ie.dx,-fe*Ie.dy)}).attr("text-anchor",function(Ee){var Ie=R(Ee.model.labelAngle,Ee.model.labelSide);return 2*Math.abs(Ie.dx)>Math.abs(Ie.dy)?Ie.dir*Ie.dx<0?"start":"end":"middle"});var ie=Ae.selectAll("."+x.cn.axisExtent).data(u,l);ie.enter().append("g").classed(x.cn.axisExtent,!0);var he=ie.selectAll("."+x.cn.axisExtentTop).data(u,l);he.enter().append("g").classed(x.cn.axisExtentTop,!0),he.attr("transform",t(0,-x.axisExtentOffset));var Se=he.selectAll("."+x.cn.axisExtentTopText).data(u,l);Se.enter().append("text").classed(x.cn.axisExtentTopText,!0).call(P),Se.text(function(Ee){return N(Ee,!0)}).each(function(Ee){n.font(M.select(this),Ee.model.rangeFont)});var _e=ie.selectAll("."+x.cn.axisExtentBottom).data(u,l);_e.enter().append("g").classed(x.cn.axisExtentBottom,!0),_e.attr("transform",function(Ee){return t(0,Ee.model.height+x.axisExtentOffset)});var Me=_e.selectAll("."+x.cn.axisExtentBottomText).data(u,l);Me.enter().append("text").classed(x.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(P),Me.text(function(Ee){return N(Ee,!1)}).each(function(Ee){n.font(M.select(this),Ee.model.rangeFont)}),g.ensureAxisBrush(Ae,Q,Y)}},21341:function(ee,D,e){"use strict";var M=e(17171),k=e(79749),a=e(1602).isVisible,T={};function b(p,s,t){var i=s.indexOf(t),n=p.indexOf(i);return-1===n&&(n+=s.length),n}(ee.exports=function(p,s){var t=p._fullLayout;if(k(p,[],T)){var i={},n={},r={},o={},l=t._size;s.forEach(function(u,d){var c=u[0].trace;r[d]=c.index;var x=o[d]=c._fullInput.index;i[d]=p.data[x].dimensions,n[d]=p.data[x].dimensions.slice()}),M(p,s,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},{filterChanged:function(u,d,c){var x=n[u][d],g=c.map(function(f){return f.slice()}),h="dimensions["+d+"].constraintrange",m=t._tracePreGUI[p._fullData[r[u]]._fullInput.uid];if(void 0===m[h]){var y=x.constraintrange;m[h]=y||null}var v=p._fullData[r[u]].dimensions[d];g.length?(1===g.length&&(g=g[0]),x.constraintrange=g,v.constraintrange=g.slice(),g=[g]):(delete x.constraintrange,delete v.constraintrange,g=null);var _={};_[h]=g,p.emit("plotly_restyle",[_,[o[u]]])},hover:function(u){p.emit("plotly_hover",u)},unhover:function(u){p.emit("plotly_unhover",u)},axesMoved:function(u,d){var x,g,c=(x=d,g=n[u].filter(a),function(h,m){return b(x,g,h)-b(x,g,m)});i[u].sort(c),n[u].filter(function(x){return!a(x)}).sort(function(x){return n[u].indexOf(x)}).forEach(function(x){i[u].splice(i[u].indexOf(x),1),i[u].splice(n[u].indexOf(x),0,x)}),p.emit("plotly_restyle",[{dimensions:[i[u]]},[o[u]]])}})}}).reglPrecompiled=T},34e3:function(ee,D,e){"use strict";var M=e(9012),k=e(27670).Y,a=e(41940),T=e(22399),b=e(5386).fF,p=e(5386).si,s=e(1426).extendFlat,t=e(79952).u,i=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});ee.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:T.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},M.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:b({},{keys:["label","color","value","percent","text"]}),texttemplate:p({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},i,{}),outsidetextfont:s({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:k({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:s({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(ee,D,e){"use strict";var M=e(74875);D.name="pie",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},32354:function(ee,D,e){"use strict";var M=e(92770),k=e(84267),a=e(7901),T={};function b(s){return function(t,i){return!!t&&!!(t=k(t)).isValid()&&(t=a.addOpacity(t,t.getAlpha()),s[i]||(s[i]=t),t)}}function p(s,t){var i,n=JSON.stringify(s),r=t[n];if(!r){for(r=s.slice(),i=0;i<s.length;i++)r.push(k(s[i]).lighten(20).toHexString());for(i=0;i<s.length;i++)r.push(k(s[i]).darken(20).toHexString());t[n]=r}return r}ee.exports={calc:function(s,t){var i,n,r=[],o=s._fullLayout,l=o.hiddenlabels||[],u=t.labels,d=t.marker.colors||[],c=t.values,x=t._length,g=t._hasValues&&x;if(t.dlabel)for(u=new Array(x),i=0;i<x;i++)u[i]=String(t.label0+i*t.dlabel);var h={},m=b(o["_"+t.type+"colormap"]),y=0,v=!1;for(i=0;i<x;i++){var _,f,S;if(g){if(_=c[i],!M(_))continue;_=+_}else _=1;void 0!==(f=u[i])&&""!==f||(f=i);var w=h[f=String(f)];void 0===w?(h[f]=r.length,(S=-1!==l.indexOf(f))||(y+=_),r.push({v:_,label:f,color:m(d[i],f),i,pts:[i],hidden:S})):(v=!0,(n=r[w]).v+=_,n.pts.push(i),n.hidden||(y+=_),!1===n.color&&d[i]&&(n.color=m(d[i],f)))}return r=r.filter(function(E){return E.v>=0}),("funnelarea"===t.type?v:t.sort)&&r.sort(function(E,C){return C.v-E.v}),r[0]&&(r[0].vTotal=y),r},crossTraceCalc:function(s,t){var i=(t||{}).type;i||(i="pie");var n=s._fullLayout,r=s.calcdata,o=n[i+"colorway"],l=n["_"+i+"colormap"];n["extend"+i+"colors"]&&(o=p(o,T));for(var u=0,d=0;d<r.length;d++){var c=r[d];if(c[0].trace.type===i)for(var x=0;x<c.length;x++){var g=c[x];!1===g.color&&(l[g.label]?g.color=l[g.label]:(l[g.label]=g.color=o[u%o.length],u++))}}},makePullColorFn:b,generateExtendedColors:p}},37434:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(34e3),T=e(27670).c,b=e(90769).handleText,p=e(71828).coercePattern;function s(i,n){var r=k.isArrayOrTypedArray(i),o=k.isArrayOrTypedArray(n),l=Math.min(r?i.length:1/0,o?n.length:1/0);if(isFinite(l)||(l=0),l&&o){for(var u,d=0;d<l;d++){var c=n[d];if(M(c)&&c>0){u=!0;break}}u||(l=0)}return{hasLabels:r,hasValues:o,len:l}}function t(i,n,r,o,l){o("marker.line.width")&&o("marker.line.color",l?void 0:r.paper_bgcolor);var u=o("marker.colors");p(o,"marker.pattern",u),i.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=i.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=r.paper_bgcolor)}ee.exports={handleLabelsAndValues:s,handleMarkerDefaults:t,supplyDefaults:function(i,n,r,o){function l(v,_){return k.coerce(i,n,a,v,_)}var u=s(l("labels"),l("values")),d=u.len;if(n._hasLabels=u.hasLabels,n._hasValues=u.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),d){n._length=d,t(i,n,o,l,!0),l("scalegroup");var c,x=l("text"),g=l("texttemplate");if(g||(c=l("textinfo",k.isArrayOrTypedArray(x)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),g||c&&"none"!==c){var h=l("textposition");b(i,n,o,l,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(h)||"auto"===h||"outside"===h)&&l("automargin"),("inside"===h||"auto"===h||Array.isArray(h))&&l("insidetextorientation")}T(n,o,l);var m=l("hole");if(l("title.text")){var y=l("title.position",m?"middle center":"top center");m||"middle center"!==y||(n.title.position="top center"),k.coerceFont(l,"title.font",o.font)}l("sort"),l("direction"),l("rotation"),l("pull")}else n.visible=!1}}},20007:function(ee,D,e){"use strict";var M=e(23469).appendArrayMultiPointValues;ee.exports=function(k,a){var T={curveNumber:a.index,pointNumbers:k.pts,data:a._input,fullData:a,label:k.label,color:k.color,value:k.v,percent:k.percent,text:k.text,bbox:k.bbox,v:k.v};return 1===k.pts.length&&(T.pointNumber=T.i=k.pts[0]),M(T,a,k.pts),"funnelarea"===a.type&&(delete T.v,delete T.i),T}},22209:function(ee,D,e){"use strict";var M=e(91424),k=e(7901);ee.exports=function(a,T,b,p){var s=b.marker.pattern;s&&s.shape?M.pointStyle(a,b,p,T):k.fill(a,T.color)}},53581:function(ee,D,e){"use strict";var M=e(71828);function k(a){return-1!==a.indexOf("e")?a.replace(/[.]?0+e/,"e"):-1!==a.indexOf(".")?a.replace(/[.]?0+$/,""):a}D.formatPiePercent=function(a,T){var b=k((100*a).toPrecision(3));return M.numSeparate(b,T)+"%"},D.formatPieValue=function(a,T){var b=k(a.toPrecision(10));return M.numSeparate(b,T)},D.getFirstFilled=function(a,T){if(M.isArrayOrTypedArray(a))for(var b=0;b<T.length;b++){var p=a[T[b]];if(p||0===p||""===p)return p}},D.castOption=function(a,T){return M.isArrayOrTypedArray(a)?D.getFirstFilled(a,T):a||void 0},D.getRotationAngle=function(a){return("auto"===a?0:a)*Math.PI/180}},58810:function(ee,D,e){"use strict";ee.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(ee){"use strict";ee.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(ee,D,e){"use strict";var M=e(71828),k=e(92774);ee.exports=function(a,T){function b(p,s){return M.coerce(a,T,k,p,s)}b("hiddenlabels"),b("piecolorway",T.colorway),b("extendpiecolors")}},14575:function(ee,D,e){"use strict";var M=e(39898),k=e(74875),a=e(30211),T=e(7901),b=e(91424),p=e(71828),s=p.strScale,t=p.strTranslate,i=e(63893),n=e(72597),r=n.recordMinTextSize,o=n.clearMinTextSize,l=e(97313).TEXTPAD,u=e(53581),d=e(20007),c=e(71828).isValidTextValue;function x(Y,F,U){var V=U[0],te=V.cx,$=V.cy,X=V.trace,W="funnelarea"===X.type;"_hasHoverLabel"in X||(X._hasHoverLabel=!1),"_hasHoverEvent"in X||(X._hasHoverEvent=!1),Y.on("mouseover",function(J){var Q=F._fullLayout,re=F._fullData[X.index];if(!F._dragging&&!1!==Q.hovermode){var ae=re.hoverinfo;if(Array.isArray(ae)&&(ae=a.castHoverinfo({hoverinfo:[u.castOption(ae,J.pts)],_module:X._module},Q,0)),"all"===ae&&(ae="label+text+value+percent+name"),re.hovertemplate||"none"!==ae&&"skip"!==ae&&ae){var oe=J.rInscribed||0,ue=te+J.pxmid[0]*(1-oe),ve=$+J.pxmid[1]*(1-oe),be=Q.separators,de=[];if(ae&&-1!==ae.indexOf("label")&&de.push(J.label),J.text=u.castOption(re.hovertext||re.text,J.pts),ae&&-1!==ae.indexOf("text")){var pe=J.text;p.isValidTextValue(pe)&&de.push(pe)}J.value=J.v,J.valueLabel=u.formatPieValue(J.v,be),ae&&-1!==ae.indexOf("value")&&de.push(J.valueLabel),J.percent=J.v/V.vTotal,J.percentLabel=u.formatPiePercent(J.percent,be),ae&&-1!==ae.indexOf("percent")&&de.push(J.percentLabel);var ge=re.hoverlabel,Ae=ge.font,ye=[];a.loneHover({trace:X,x0:ue-oe*V.r,x1:ue+oe*V.r,y:ve,_x0:W?te+J.TL[0]:ue-oe*V.r,_x1:W?te+J.TR[0]:ue+oe*V.r,_y0:W?$+J.TL[1]:ve-oe*V.r,_y1:W?$+J.BL[1]:ve+oe*V.r,text:de.join("<br>"),name:re.hovertemplate||-1!==ae.indexOf("name")?re.name:void 0,idealAlign:J.pxmid[0]<0?"left":"right",color:u.castOption(ge.bgcolor,J.pts)||J.color,borderColor:u.castOption(ge.bordercolor,J.pts),fontFamily:u.castOption(Ae.family,J.pts),fontSize:u.castOption(Ae.size,J.pts),fontColor:u.castOption(Ae.color,J.pts),nameLength:u.castOption(ge.namelength,J.pts),textAlign:u.castOption(ge.align,J.pts),hovertemplate:u.castOption(re.hovertemplate,J.pts),hovertemplateLabels:J,eventData:[d(J,re)]},{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:F,inOut_bbox:ye}),J.bbox=ye[0],X._hasHoverLabel=!0}X._hasHoverEvent=!0,F.emit("plotly_hover",{points:[d(J,re)],event:M.event})}}),Y.on("mouseout",function(J){var Q=F._fullLayout,re=F._fullData[X.index],ae=M.select(this).datum();X._hasHoverEvent&&(J.originalEvent=M.event,F.emit("plotly_unhover",{points:[d(ae,re)],event:M.event}),X._hasHoverEvent=!1),X._hasHoverLabel&&(a.loneUnhover(Q._hoverlayer.node()),X._hasHoverLabel=!1)}),Y.on("click",function(J){var Q=F._fullLayout,re=F._fullData[X.index];F._dragging||!1===Q.hovermode||(F._hoverdata=[d(J,re)],a.click(F,M.event))})}function g(Y,F,U){var V=u.castOption(Y.insidetextfont.color,F.pts);!V&&Y._input.textfont&&(V=u.castOption(Y._input.textfont.color,F.pts));var te=u.castOption(Y.insidetextfont.family,F.pts)||u.castOption(Y.textfont.family,F.pts)||U.family,$=u.castOption(Y.insidetextfont.size,F.pts)||u.castOption(Y.textfont.size,F.pts)||U.size;return{color:V||T.contrast(F.color),family:te,size:$}}function h(Y,F){for(var U,V,te=0;te<Y.length;te++)if((V=(U=Y[te][0]).trace).title.text){var $=V.title.text;V._meta&&($=p.templateString($,V._meta));var X=b.tester.append("text").attr("data-notex",1).text($).call(b.font,V.title.font).call(i.convertToTspans,F),W=b.bBox(X.node(),!0);U.titleBox={width:W.width,height:W.height},X.remove()}}function m(Y,F,U){var V=U.r||F.rpx1,te=F.rInscribed;if(F.startangle===F.stopangle)return{rCenter:1-te,scale:0,rotate:0,textPosAngle:0};var $,X=F.ring,W=1===X&&Math.abs(F.startangle-F.stopangle)===2*Math.PI,J=F.halfangle,Q=F.midangle,re=U.trace.insidetextorientation,ae="horizontal"===re,oe="tangential"===re,ue="radial"===re,ve="auto"===re,be=[];if(!ve){var de,pe=function(ie,he){if(Ie=ie,fe=(Ee=F).startangle,xe=Ee.stopangle,fe>Ie&&Ie>xe||fe<Ie&&Ie<xe){var Se=Math.abs(ie-F.startangle),_e=Math.abs(ie-F.stopangle),Me=Se<_e?Se:_e;($="tan"===he?v(Y,V,X,Me,0):y(Y,V,X,Me,Math.PI/2)).textPosAngle=ie,be.push($)}var Ee,Ie,fe,xe};if(ae||oe){for(de=4;de>=-4;de-=2)pe(Math.PI*de,"tan");for(de=4;de>=-4;de-=2)pe(Math.PI*(de+1),"tan")}if(ae||ue){for(de=4;de>=-4;de-=2)pe(Math.PI*(de+1.5),"rad");for(de=4;de>=-4;de-=2)pe(Math.PI*(de+.5),"rad")}}if(W||ve||ae){var ge=Math.sqrt(Y.width*Y.width+Y.height*Y.height);if(($={scale:te*V*2/ge,rCenter:1-te,rotate:0}).textPosAngle=(F.startangle+F.stopangle)/2,$.scale>=1)return $;be.push($)}(ve||ue)&&(($=y(Y,V,X,J,Q)).textPosAngle=(F.startangle+F.stopangle)/2,be.push($)),(ve||oe)&&(($=v(Y,V,X,J,Q)).textPosAngle=(F.startangle+F.stopangle)/2,be.push($));for(var Ae=0,ye=0,we=0;we<be.length;we++){var se=be[we].scale;if(ye<se&&(ye=se,Ae=we),!ve&&ye>=1)break}return be[Ae]}function y(Y,F,U,V,te){F=Math.max(0,F-2*l);var $=Y.width/Y.height,X=S($,V,F,U);return{scale:2*X/Y.height,rCenter:_($,X/F),rotate:f(te)}}function v(Y,F,U,V,te){F=Math.max(0,F-2*l);var $=Y.height/Y.width,X=S($,V,F,U);return{scale:2*X/Y.width,rCenter:_($,X/F),rotate:f(te+Math.PI/2)}}function _(Y,F){return Math.cos(F)-Y*F}function f(Y){return(180/Math.PI*Y+720)%180-90}function S(Y,F,U,V){var te=Y+1/(2*Math.tan(F));return U*Math.min(1/(Math.sqrt(te*te+.5)+te),V/(Math.sqrt(Y*Y+V/2)+Y))}function w(Y,F){return Y.v!==F.vTotal||F.trace.hole?Math.min(1/(1+1/Math.sin(Y.halfangle)),Y.ring/2):1}function E(Y,F){var U=F.pxmid[0],V=F.pxmid[1],te=Y.width/2,$=Y.height/2;return U<0&&(te*=-1),V<0&&($*=-1),{scale:1,rCenter:1,rotate:0,x:te+Math.abs($)*(te>0?1:-1)/2,y:$/(1+U*U/(V*V)),outside:!0}}function C(Y,F){var U,V,te,$=Y.trace,X={x:Y.cx,y:Y.cy},W={tx:0,ty:0};W.ty+=$.title.font.size,te=P($),-1!==$.title.position.indexOf("top")?(X.y-=(1+te)*Y.r,W.ty-=Y.titleBox.height):-1!==$.title.position.indexOf("bottom")&&(X.y+=(1+te)*Y.r);var J,Q=Y.r/(void 0===(J=Y.trace.aspectratio)?1:J),re=F.w*($.domain.x[1]-$.domain.x[0])/2;return-1!==$.title.position.indexOf("left")?(re+=Q,X.x-=(1+te)*Q,W.tx+=Y.titleBox.width/2):-1!==$.title.position.indexOf("center")?re*=2:-1!==$.title.position.indexOf("right")&&(re+=Q,X.x+=(1+te)*Q,W.tx-=Y.titleBox.width/2),U=re/Y.titleBox.width,V=O(Y,F)/Y.titleBox.height,{x:X.x,y:X.y,scale:Math.min(U,V),tx:W.tx,ty:W.ty}}function O(Y,F){var U=Y.trace,V=F.h*(U.domain.y[1]-U.domain.y[0]);return Math.min(Y.titleBox.height,V/2)}function P(Y){var F,U=Y.pull;if(!U)return 0;if(p.isArrayOrTypedArray(U))for(U=0,F=0;F<Y.pull.length;F++)Y.pull[F]>U&&(U=Y.pull[F]);return U}function R(Y,F){for(var U=[],V=0;V<Y.length;V++){var te=Y[V][0],$=te.trace,X=$.domain,W=F.w*(X.x[1]-X.x[0]),J=F.h*(X.y[1]-X.y[0]);$.title.text&&"middle center"!==$.title.position&&(J-=O(te,F));var Q=W/2,re=J/2;"funnelarea"!==$.type||$.scalegroup||(re/=$.aspectratio),te.r=Math.min(Q,re)/(1+P($)),te.cx=F.l+F.w*($.domain.x[1]+$.domain.x[0])/2,te.cy=F.t+F.h*(1-$.domain.y[0])-J/2,$.title.text&&-1!==$.title.position.indexOf("bottom")&&(te.cy-=O(te,F)),$.scalegroup&&-1===U.indexOf($.scalegroup)&&U.push($.scalegroup)}!function(ae,oe){for(var ue,ve,be,de=0;de<oe.length;de++){var pe=1/0,ge=oe[de];for(ve=0;ve<ae.length;ve++)if((be=(ue=ae[ve][0]).trace).scalegroup===ge){var Ae;if("pie"===be.type)Ae=ue.r*ue.r;else if("funnelarea"===be.type){var ye,we;be.aspectratio>1?we=(ye=ue.r)/be.aspectratio:ye=(we=ue.r)*be.aspectratio,Ae=(ye*=(1+be.baseratio)/2)*we}pe=Math.min(pe,Ae/ue.vTotal)}for(ve=0;ve<ae.length;ve++)if((be=(ue=ae[ve][0]).trace).scalegroup===ge){var se=pe*ue.vTotal;"funnelarea"===be.type&&(se/=(1+be.baseratio)/2,se/=be.aspectratio),ue.r=Math.sqrt(se)}}}(Y,U)}function j(Y,F){return[Y*Math.sin(F),-Y*Math.cos(F)]}function z(Y,F,U){var Ae,V=Y._fullLayout,te=U.trace,$=te.texttemplate,X=te.textinfo;if(!$&&X&&"none"!==X){var W,J=X.split("+"),Q=function(Ae){return-1!==J.indexOf(Ae)},re=Q("label"),ae=Q("text"),oe=Q("value"),ue=Q("percent"),ve=V.separators;if(W=re?[F.label]:[],ae){var be=u.getFirstFilled(te.text,F.pts);c(be)&&W.push(be)}oe&&W.push(u.formatPieValue(F.v,ve)),ue&&W.push(u.formatPiePercent(F.v/U.vTotal,ve)),F.text=W.join("<br>")}if($){var de=p.castOption(te,F.i,"texttemplate");if(de){var pe={label:(Ae=F).label,value:Ae.v,valueLabel:u.formatPieValue(Ae.v,V.separators),percent:Ae.v/U.vTotal,percentLabel:u.formatPiePercent(Ae.v/U.vTotal,V.separators),color:Ae.color,text:Ae.text,customdata:p.castOption(te,Ae.i,"customdata")},ge=u.getFirstFilled(te.text,F.pts);(c(ge)||""===ge)&&(pe.text=ge),F.text=p.texttemplateString(de,pe,Y._fullLayout._d3locale,pe,te._meta||{})}else F.text=""}}function N(Y,F){var U=Y.rotate*Math.PI/180,V=Math.cos(U),te=Math.sin(U),$=(F.left+F.right)/2,X=(F.top+F.bottom)/2;Y.textX=$*V-X*te,Y.textY=$*te+X*V,Y.noCenter=!0}ee.exports={plot:function(Y,F){var U=Y._context.staticPlot,V=Y._fullLayout,te=V._size;o("pie",V),h(F,Y),R(F,te);var $=p.makeTraceGroups(V._pielayer,F,"trace").each(function(X){var W=M.select(this),J=X[0],Q=J.trace;(function(re){var ae,oe,ue,ve=re[0],be=ve.r,de=ve.trace,pe=u.getRotationAngle(de.rotation),ge=2*Math.PI/ve.vTotal,Ae="px0",ye="px1";if("counterclockwise"===de.direction){for(ae=0;ae<re.length&&re[ae].hidden;ae++);if(ae===re.length)return;pe+=ge*re[ae].v,ge*=-1,Ae="px1",ye="px0"}for(ue=j(be,pe),ae=0;ae<re.length;ae++)(oe=re[ae]).hidden||(oe[Ae]=ue,oe.startangle=pe,pe+=ge*oe.v/2,oe.pxmid=j(be,pe),oe.midangle=pe,ue=j(be,pe+=ge*oe.v/2),oe.stopangle=pe,oe[ye]=ue,oe.largeArc=oe.v>ve.vTotal/2?1:0,oe.halfangle=Math.PI*Math.min(oe.v/ve.vTotal,.5),oe.ring=1-de.hole,oe.rInscribed=w(oe,ve))})(X),W.attr("stroke-linejoin","round"),W.each(function(){var re=M.select(this).selectAll("g.slice").data(X);re.enter().append("g").classed("slice",!0),re.exit().remove();var ae=[[[],[]],[[],[]]],oe=!1;re.each(function(ye,we){if(ye.hidden)M.select(this).selectAll("path,g").remove();else{ye.pointNumber=ye.i,ye.curveNumber=Q.index,ae[ye.pxmid[1]<0?0:1][ye.pxmid[0]<0?0:1].push(ye);var se=J.cx,ie=J.cy,he=M.select(this),Se=he.selectAll("path.surface").data([ye]);if(Se.enter().append("path").classed("surface",!0).style({"pointer-events":U?"none":"all"}),he.call(x,Y,X),Q.pull){var _e=+u.castOption(Q.pull,ye.pts)||0;_e>0&&(se+=_e*ye.pxmid[0],ie+=_e*ye.pxmid[1])}ye.cxFinal=se,ye.cyFinal=ie;var Me=Q.hole;if(ye.v===J.vTotal){var Ee="M"+(se+ye.px0[0])+","+(ie+ye.px0[1])+Ce(ye.px0,ye.pxmid,!0,1)+Ce(ye.pxmid,ye.px0,!0,1)+"Z";Me?Se.attr("d","M"+(se+Me*ye.px0[0])+","+(ie+Me*ye.px0[1])+Ce(ye.px0,ye.pxmid,!1,Me)+Ce(ye.pxmid,ye.px0,!1,Me)+"Z"+Ee):Se.attr("d",Ee)}else{var Ie=Ce(ye.px0,ye.px1,!0,1);if(Me){var fe=1-Me;Se.attr("d","M"+(se+Me*ye.px1[0])+","+(ie+Me*ye.px1[1])+Ce(ye.px1,ye.px0,!1,Me)+"l"+fe*ye.px0[0]+","+fe*ye.px0[1]+Ie+"Z")}else Se.attr("d","M"+se+","+ie+"l"+ye.px0[0]+","+ye.px0[1]+Ie+"Z")}z(Y,ye,J);var xe=u.castOption(Q.textposition,ye.pts),Te=he.selectAll("g.slicetext").data(ye.text&&"none"!==xe?[0]:[]);Te.enter().append("g").classed("slicetext",!0),Te.exit().remove(),Te.each(function(){var bt,vt,Qe,De=p.ensureSingle(M.select(this),"text","",function(bt){bt.attr("data-notex",1)}),ze=p.ensureUniformFontSize(Y,"outside"===xe?(bt=Q,vt=ye,Qe=V.font,{color:u.castOption(bt.outsidetextfont.color,vt.pts)||u.castOption(bt.textfont.color,vt.pts)||Qe.color,family:u.castOption(bt.outsidetextfont.family,vt.pts)||u.castOption(bt.textfont.family,vt.pts)||Qe.family,size:u.castOption(bt.outsidetextfont.size,vt.pts)||u.castOption(bt.textfont.size,vt.pts)||Qe.size}):g(Q,ye,V.font));De.text(ye.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(b.font,ze).call(i.convertToTspans,Y);var Ue,Ve=b.bBox(De.node());if("outside"===xe)Ue=E(Ve,ye);else if(Ue=m(Ve,ye,J),"auto"===xe&&Ue.scale<1){var Xe=p.ensureUniformFontSize(Y,Q.outsidetextfont);De.call(b.font,Xe),Ue=E(Ve=b.bBox(De.node()),ye)}var at=Ue.textPosAngle,st=void 0===at?ye.pxmid:j(J.r,at);if(Ue.targetX=se+st[0]*Ue.rCenter+(Ue.x||0),Ue.targetY=ie+st[1]*Ue.rCenter+(Ue.y||0),N(Ue,Ve),Ue.outside){var ht=Ue.targetY;ye.yLabelMin=ht-Ve.height/2,ye.yLabelMid=ht,ye.yLabelMax=ht+Ve.height/2,ye.labelExtraX=0,ye.labelExtraY=0,oe=!0}Ue.fontSize=ze.size,r(Q.type,Ue,V),X[we].transform=Ue,p.setTransormAndDisplay(De,Ue)})}function Ce(De,ze,Ue,Ve){var Xe=Ve*(ze[0]-De[0]),at=Ve*(ze[1]-De[1]);return"a"+Ve*J.r+","+Ve*J.r+" 0 "+ye.largeArc+(Ue?" 1 ":" 0 ")+Xe+","+at}});var we,ue=M.select(this).selectAll("g.titletext").data(Q.title.text?[0]:[]);if(ue.enter().append("g").classed("titletext",!0),ue.exit().remove(),ue.each(function(){var ye,ie,he,we=p.ensureSingle(M.select(this),"text","",function(ie){ie.attr("data-notex",1)}),se=Q.title.text;Q._meta&&(se=p.templateString(se,Q._meta)),we.text(se).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(b.font,Q.title.font).call(i.convertToTspans,Y),ye="middle center"===Q.title.position?(ie=J,he=Math.sqrt(ie.titleBox.width*ie.titleBox.width+ie.titleBox.height*ie.titleBox.height),{x:ie.cx,y:ie.cy,scale:ie.trace.hole*ie.r*2/he,tx:0,ty:-ie.titleBox.height/2+ie.trace.title.font.size}):C(J,te),we.attr("transform",t(ye.x,ye.y)+s(Math.min(1,ye.scale))+t(ye.tx,ye.ty))}),oe&&function(ye,we){var se,ie,he,Se,_e,Me,Ee,Ie,fe,xe,Te,Ce,De;function ze(at,st){return at.pxmid[1]-st.pxmid[1]}function Ue(at,st){return st.pxmid[1]-at.pxmid[1]}function Ve(at,st){st||(st={});var ht,bt,vt,Qe,nt=st.labelExtraY+(ie?st.yLabelMax:st.yLabelMin),wt=ie?at.yLabelMin:at.yLabelMax,Ot=ie?at.yLabelMax:at.yLabelMin,Pt=at.cyFinal+_e(at.px0[1],at.px1[1]),St=nt-wt;if(St*Ee>0&&(at.labelExtraY=St),p.isArrayOrTypedArray(we.pull))for(bt=0;bt<xe.length;bt++)(vt=xe[bt])===at||(u.castOption(we.pull,at.pts)||0)>=(u.castOption(we.pull,vt.pts)||0)||((at.pxmid[1]-vt.pxmid[1])*Ee>0?(St=vt.cyFinal+_e(vt.px0[1],vt.px1[1])-wt-at.labelExtraY)*Ee>0&&(at.labelExtraY+=St):(Ot+at.labelExtraY-Pt)*Ee>0&&(ht=3*Me*Math.abs(bt-xe.indexOf(at)),(Qe=vt.cxFinal+Se(vt.px0[0],vt.px1[0])+ht-(at.cxFinal+at.pxmid[0])-at.labelExtraX)*Me>0&&(at.labelExtraX+=Qe)))}for(ie=0;ie<2;ie++)for(he=ie?ze:Ue,_e=ie?Math.max:Math.min,Ee=ie?1:-1,se=0;se<2;se++){for(Se=se?Math.max:Math.min,Me=se?1:-1,(Ie=ye[ie][se]).sort(he),fe=ye[1-ie][se],xe=fe.concat(Ie),Ce=[],Te=0;Te<Ie.length;Te++)void 0!==Ie[Te].yLabelMid&&Ce.push(Ie[Te]);for(De=!1,Te=0;ie&&Te<fe.length;Te++)if(void 0!==fe[Te].yLabelMid){De=fe[Te];break}for(Te=0;Te<Ce.length;Te++){var Xe=Te&&Ce[Te-1];De&&!Te&&(Xe=De),Ve(Ce[Te],Xe)}}}(ae,Q),we=Q,re.each(function(se){var ie=M.select(this);if(se.labelExtraX||se.labelExtraY){var he=ie.select("g.slicetext text");se.transform.targetX+=se.labelExtraX,se.transform.targetY+=se.labelExtraY,p.setTransormAndDisplay(he,se.transform);var Se=se.cxFinal+se.pxmid[0],_e="M"+Se+","+(se.cyFinal+se.pxmid[1]),Me=(se.yLabelMax-se.yLabelMin)*(se.pxmid[0]<0?-1:1)/4;if(se.labelExtraX){var Ee=se.labelExtraX*se.pxmid[1]/se.pxmid[0],Ie=se.yLabelMid+se.labelExtraY-(se.cyFinal+se.pxmid[1]);Math.abs(Ee)>Math.abs(Ie)?_e+="l"+Ie*se.pxmid[0]/se.pxmid[1]+","+Ie+"H"+(Se+se.labelExtraX+Me):_e+="l"+se.labelExtraX+","+Ee+"v"+(Ie-Ee)+"h"+Me}else _e+="V"+(se.yLabelMid+se.labelExtraY)+"h"+Me;p.ensureSingle(ie,"path","textline").call(T.stroke,we.outsidetextfont.color).attr({"stroke-width":Math.min(2,we.outsidetextfont.size/8),d:_e,fill:"none"})}else ie.select("path.textline").remove()}),oe&&Q.automargin){var ve=b.bBox(W.node()),be=Q.domain,de=te.w*(be.x[1]-be.x[0]),pe=te.h*(be.y[1]-be.y[0]),ge=(.5*de-J.r)/te.w,Ae=(.5*pe-J.r)/te.h;k.autoMargin(Y,"pie."+Q.uid+".automargin",{xl:be.x[0]-ge,xr:be.x[1]+ge,yb:be.y[0]-Ae,yt:be.y[1]+Ae,l:Math.max(J.cx-J.r-ve.left,0),r:Math.max(ve.right-(J.cx+J.r),0),b:Math.max(ve.bottom-(J.cy+J.r),0),t:Math.max(J.cy-J.r-ve.top,0),pad:5})}})});setTimeout(function(){$.selectAll("tspan").each(function(){var X=M.select(this);X.attr("dy")&&X.attr("dy",X.attr("dy"))})},0)},formatSliceLabel:z,transformInsideText:m,determineInsideTextFont:g,positionTitleOutside:C,prerenderTitles:h,layoutAreas:R,attachFxHandlers:x,computeTransform:N}},68357:function(ee,D,e){"use strict";var M=e(39898),k=e(63463),a=e(72597).resizeText;ee.exports=function(T){var b=T._fullLayout._pielayer.selectAll(".trace");a(T,b,"pie"),b.each(function(p){var s=p[0].trace,t=M.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(i){M.select(this).call(k,i,s,T)})})}},63463:function(ee,D,e){"use strict";var M=e(7901),k=e(53581).castOption,a=e(22209);ee.exports=function(T,b,p,s){var t=p.marker.line,i=k(t.color,b.pts)||M.defaultLine,n=k(t.width,b.pts)||0;T.call(a,b,p,s).style("stroke-width",n).call(M.stroke,i)}},10959:function(ee,D,e){"use strict";var M=e(82196);ee.exports={x:M.x,y:M.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:M.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(ee,D,e){"use strict";var M=e(9330).gl_pointcloud2d,k=e(71828).isArrayOrTypedArray,a=e(78614),T=e(71739).findExtremes,b=e(34603);function p(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=M(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var s=p.prototype;s.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:k(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},s.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=b(t,{})},s.updateFast=function(t){var i,n,r,o,l,u,d=this.xData=this.pickXData=t.x,c=this.yData=this.pickYData=t.y,x=this.pickXYData=t.xy,g=t.xbounds&&t.ybounds,h=t.indices,m=this.bounds;if(x){if(r=x,i=x.length>>>1,g)m[0]=t.xbounds[0],m[2]=t.xbounds[1],m[1]=t.ybounds[0],m[3]=t.ybounds[1];else for(u=0;u<i;u++)o=r[2*u],l=r[2*u+1],o<m[0]&&(m[0]=o),o>m[2]&&(m[2]=o),l<m[1]&&(m[1]=l),l>m[3]&&(m[3]=l);if(h)n=h;else for(n=new Int32Array(i),u=0;u<i;u++)n[u]=u}else for(i=d.length,r=new Float32Array(2*i),n=new Int32Array(i),u=0;u<i;u++)o=d[u],l=c[u],n[u]=u,r[2*u]=o,r[2*u+1]=l,o<m[0]&&(m[0]=o),o>m[2]&&(m[2]=o),l<m[1]&&(m[1]=l),l>m[3]&&(m[3]=l);this.idToIndex=n,this.pointcloudOptions.idToIndex=n,this.pointcloudOptions.positions=r;var y=a(t.marker.color),v=a(t.marker.border.color),_=t.opacity*t.marker.opacity;y[3]*=_,this.pointcloudOptions.color=y;var f=t.marker.blend;null===f&&(f=d.length<100||c.length<100),this.pointcloudOptions.blend=f,v[3]*=_,this.pointcloudOptions.borderColor=v;var S=t.marker.sizemin,w=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=S,this.pointcloudOptions.sizeMax=w,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var E=this.scene.xaxis,C=this.scene.yaxis,O=w/2||.5;t._extremes[E._id]=T(E,[m[0],m[2]],{ppad:O}),t._extremes[C._id]=T(C,[m[1],m[3]],{ppad:O})},s.dispose=function(){this.pointcloud.dispose()},ee.exports=function(t,i){var n=new p(t,i.uid);return n.update(i),n}},33876:function(ee,D,e){"use strict";var M=e(71828),k=e(10959);ee.exports=function(a,T,b){function p(s,t){return M.coerce(a,T,k,s,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),a.xy&&a.xy instanceof Float32Array&&(T.xy=a.xy),a.indices&&a.indices instanceof Int32Array&&(T.indices=a.indices),p("text"),p("marker.color",b),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",b),p("marker.border.arearatio"),T._length=null}},20593:function(ee,D,e){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),ee.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(ee,D,e){"use strict";var M=e(41940),k=e(9012),a=e(22399),T=e(77914),b=e(27670).Y,p=e(5386).fF,s=e(50693),t=e(44467).templatedArray,i=e(12663).descriptionOnlyNumbers,n=e(1426).extendFlat,r=e(30962).overrideAll;(ee.exports=r({hoverinfo:n({},k.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:T.hoverlabel,domain:b({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:i("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:M({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:T.hoverlabel,hovertemplate:p({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:T.hoverlabel,hovertemplate:p({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:n(s().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(ee,D,e){"use strict";var M=e(30962).overrideAll,k=e(27659).a0,a=e(60436),T=e(528),b=e(6964),p=e(28569),s=e(47322).prepSelect,t=e(71828),i=e(73972),n="sankey";function r(o,l){var u=o._fullData[l],d=o._fullLayout,c=d.dragmode,x="pan"===d.dragmode?"move":"crosshair",g=u._bgRect;if(g&&"pan"!==c&&"zoom"!==c){b(g,x);var h={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},m={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},y={gd:o,element:g.node(),plotinfo:{id:l,xaxis:h,yaxis:m,fillRangeItems:t.noop},subplot:l,xaxes:[h],yaxes:[m],doneFnCompleted:function(v){var _,f=o._fullData[l],S=f.node.groups.slice(),w=[];function E(R){for(var j=f._sankey.graph.nodes,z=0;z<j.length;z++)if(j[z].pointNumber===R)return j[z]}for(var C=0;C<v.length;C++){var O=E(v[C].pointNumber);if(O)if(O.group){for(var P=0;P<O.childrenNodes.length;P++)w.push(O.childrenNodes[P].pointNumber);S[O.pointNumber-f.node._count]=!1}else w.push(O.pointNumber)}_=S.filter(Boolean).concat([w]),i.call("_guiRestyle",o,{"node.groups":[_]},l)},prepFn:function(v,_,f){s(v,_,f,y,c)}};p.init(y)}}D.name=n,D.baseLayoutAttrOverrides=M({hoverlabel:T.hoverlabel},"plot","nested"),D.plot=function(o){var l=k(o.calcdata,n)[0];a(o,l),D.updateFx(o)},D.clean=function(o,l,u,d){var c=d._has&&d._has(n),x=l._has&&l._has(n);c&&!x&&(d._paperdiv.selectAll(".sankey").remove(),d._paperdiv.selectAll(".bgsankey").remove())},D.updateFx=function(o){for(var l=0;l<o._fullData.length;l++)r(o,l)}},92930:function(ee,D,e){"use strict";var M=e(68664),k=e(71828),a=e(28984).wrap,T=k.isArrayOrTypedArray,b=k.isIndex,p=e(21081);ee.exports=function(s,t){var i=function(n){var r,o=n.node,l=n.link,u=[],d=T(l.color),c=T(l.customdata),x={},g={},h=l.colorscales.length;for(r=0;r<h;r++){var m=l.colorscales[r],y=p.extractScale(m,{cLetter:"c"}),v=p.makeColorScaleFunc(y);g[m.label]=v}var _=0;for(r=0;r<l.value.length;r++)l.source[r]>_&&(_=l.source[r]),l.target[r]>_&&(_=l.target[r]);var f,S=_+1;n.node._count=S;var w=n.node.groups,E={};for(r=0;r<w.length;r++){var C=w[r];for(f=0;f<C.length;f++){var O=C[f],P=S+r;E.hasOwnProperty(O)?k.warn("Node "+O+" is already part of a group."):E[O]=P}}var R={source:[],target:[]};for(r=0;r<l.value.length;r++){var j=l.value[r],z=l.source[r],N=l.target[r];if(j>0&&b(z,S)&&b(N,S)&&(!E.hasOwnProperty(z)||!E.hasOwnProperty(N)||E[z]!==E[N])){E.hasOwnProperty(N)&&(N=E[N]),E.hasOwnProperty(z)&&(z=E[z]),N=+N,x[z=+z]=x[N]=!0;var Y="";l.label&&l.label[r]&&(Y=l.label[r]);var F=null;Y&&g.hasOwnProperty(Y)&&(F=g[Y]),u.push({pointNumber:r,label:Y,color:d?l.color[r]:l.color,customdata:c?l.customdata[r]:l.customdata,concentrationscale:F,source:z,target:N,value:+j}),R.source.push(z),R.target.push(N)}}var U=S+w.length,V=T(o.color),te=T(o.customdata),$=[];for(r=0;r<U;r++)if(x[r]){var X=o.label[r];$.push({group:r>S-1,childrenNodes:[],pointNumber:r,label:X,color:V?o.color[r]:o.color,customdata:te?o.customdata[r]:o.customdata})}var W=!1;return function(J,Q,re){for(var ae=k.init2dArray(J,0),oe=0;oe<Math.min(Q.length,re.length);oe++)if(k.isIndex(Q[oe],J)&&k.isIndex(re[oe],J)){if(Q[oe]===re[oe])return!0;ae[Q[oe]].push(re[oe])}return M(ae).components.some(function(ue){return ue.length>1})}(U,R.source,R.target)&&(W=!0),{circular:W,links:u,nodes:$,groups:w,groupLookup:E}}(t);return a({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},85247:function(ee){"use strict";ee.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(ee,D,e){"use strict";var M=e(71828),k=e(39953),a=e(7901),T=e(84267),b=e(27670).c,p=e(38048),s=e(44467),t=e(85501);function i(n,r){function o(l,u){return M.coerce(n,r,k.link.colorscales,l,u)}o("label"),o("cmin"),o("cmax"),o("colorscale")}ee.exports=function(n,r,o,l){function u(S,w){return M.coerce(n,r,k,S,w)}var d=M.extendDeep(l.hoverlabel,n.hoverlabel),c=n.node,x=s.newContainer(r,"node");function g(S,w){return M.coerce(c,x,k.node,S,w)}g("label"),g("groups"),g("x"),g("y"),g("pad"),g("thickness"),g("line.color"),g("line.width"),g("hoverinfo",n.hoverinfo),p(c,x,g,d),g("hovertemplate"),g("align");var h=l.colorway;g("color",x.label.map(function(S,w){return a.addOpacity(h[w%h.length],.8)})),g("customdata");var m=n.link||{},y=s.newContainer(r,"link");function v(S,w){return M.coerce(m,y,k.link,S,w)}v("label"),v("arrowlen"),v("source"),v("target"),v("value"),v("line.color"),v("line.width"),v("hoverinfo",n.hoverinfo),p(m,y,v,d),v("hovertemplate");var _,f=T(l.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";v("color",M.repeat(f,y.value.length)),v("customdata"),t(m,y,{name:"colorscales",handleItemDefaults:i}),b(r,l,u),u("orientation"),u("valueformat"),u("valuesuffix"),x.x.length&&x.y.length&&(_="freeform"),u("arrangement",_),M.coerceFont(u,"textfont",M.extendFlat({},l.font)),r._length=null}},29396:function(ee,D,e){"use strict";ee.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=k.numberFormat,T=e(3393),b=e(30211),p=e(7901),s=e(85247).cn,t=k._;function i(m){return""!==m}function n(m,y){return m.filter(function(v){return v.key===y.traceId})}function r(m,y){M.select(m).select("path").style("fill-opacity",y),M.select(m).select("rect").style("fill-opacity",y)}function o(m){M.select(m).select("text.name").style("fill","black")}function l(m){return function(y){return-1!==m.node.sourceLinks.indexOf(y.link)||-1!==m.node.targetLinks.indexOf(y.link)}}function u(m){return function(y){return-1!==y.node.sourceLinks.indexOf(m.link)||-1!==y.node.targetLinks.indexOf(m.link)}}function d(m,y,v){y&&v&&n(v,y).selectAll("."+s.sankeyLink).filter(l(y)).call(x.bind(0,y,v,!1))}function c(m,y,v){y&&v&&n(v,y).selectAll("."+s.sankeyLink).filter(l(y)).call(g.bind(0,y,v,!1))}function x(m,y,v,_){_.style("fill-opacity",function(f){if(!f.link.concentrationscale)return.4}),_.each(function(f){var S=f.link.label;""!==S&&n(y,m).selectAll("."+s.sankeyLink).filter(function(w){return w.link.label===S}).style("fill-opacity",function(w){if(!w.link.concentrationscale)return.4})}),v&&n(y,m).selectAll("."+s.sankeyNode).filter(u(m)).call(d)}function g(m,y,v,_){_.style("fill-opacity",function(f){return f.tinyColorAlpha}),_.each(function(f){var S=f.link.label;""!==S&&n(y,m).selectAll("."+s.sankeyLink).filter(function(w){return w.link.label===S}).style("fill-opacity",function(w){return w.tinyColorAlpha})}),v&&n(y,m).selectAll(s.sankeyNode).filter(u(m)).call(c)}function h(m,y){var v=m.hoverlabel||{},_=k.nestedProperty(v,y).get();return!Array.isArray(_)&&_}ee.exports=function(m,y){for(var v=m._fullLayout,_=v._paper,f=v._size,S=0;S<m._fullData.length;S++)if(m._fullData[S].visible&&m._fullData[S].type===s.sankey&&!m._fullData[S]._viewInitial){var w=m._fullData[S].node;m._fullData[S]._viewInitial={node:{groups:w.groups.slice(),x:w.x.slice(),y:w.y.slice()}}}var E=t(m,"source:")+" ",C=t(m,"target:")+" ",O=t(m,"concentration:")+" ",P=t(m,"incoming flow count:")+" ",R=t(m,"outgoing flow count:")+" ";T(m,_,y,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{linkEvents:{hover:function(j,z,N){!1!==m._fullLayout.hovermode&&(M.select(j).call(x.bind(0,z,N,!0)),"skip"!==z.link.trace.link.hoverinfo&&(z.link.fullData=z.link.trace,m.emit("plotly_hover",{event:M.event,points:[z.link]})))},follow:function(j,z){if(!1!==m._fullLayout.hovermode){var N=z.link.trace.link;if("none"!==N.hoverinfo&&"skip"!==N.hoverinfo){for(var Y=[],F=0,U=0;U<z.flow.links.length;U++){var V=z.flow.links[U];if("closest"!==m._fullLayout.hovermode||z.link.pointNumber===V.pointNumber){z.link.pointNumber===V.pointNumber&&(F=U),V.fullData=V.trace,N=z.link.trace.link;var te=X(V),$={valueLabel:a(z.valueFormat)(V.value)+z.valueSuffix};Y.push({x:te[0],y:te[1],name:$.valueLabel,text:[V.label||"",E+V.source.label,C+V.target.label,V.concentrationscale?O+a("%0.2f")(V.flow.labelConcentration):""].filter(i).join("<br>"),color:h(N,"bgcolor")||p.addOpacity(V.color,1),borderColor:h(N,"bordercolor"),fontFamily:h(N,"font.family"),fontSize:h(N,"font.size"),fontColor:h(N,"font.color"),nameLength:h(N,"namelength"),textAlign:h(N,"align"),idealAlign:M.event.x<te[0]?"right":"left",hovertemplate:N.hovertemplate,hovertemplateLabels:$,eventData:[V]})}}b.loneHover(Y,{container:v._hoverlayer.node(),outerContainer:v._paper.node(),gd:m,anchorIndex:F}).each(function(){z.link.concentrationscale||r(this,.65),o(this)})}}function X(W){var J,Q;W.circular?(J=(W.circularPathData.leftInnerExtent+W.circularPathData.rightInnerExtent)/2,Q=W.circularPathData.verticalFullExtent):(J=(W.source.x1+W.target.x0)/2,Q=(W.y0+W.y1)/2);var re=[J,Q];return"v"===W.trace.orientation&&re.reverse(),re[0]+=z.parent.translateX,re[1]+=z.parent.translateY,re}},unhover:function(j,z,N){!1!==m._fullLayout.hovermode&&(M.select(j).call(g.bind(0,z,N,!0)),"skip"!==z.link.trace.link.hoverinfo&&(z.link.fullData=z.link.trace,m.emit("plotly_unhover",{event:M.event,points:[z.link]})),b.loneUnhover(v._hoverlayer.node()))},select:function(j,z){var N=z.link;N.originalEvent=M.event,m._hoverdata=[N],b.click(m,{target:!0})}},nodeEvents:{hover:function(j,z,N){!1!==m._fullLayout.hovermode&&(M.select(j).call(d,z,N),"skip"!==z.node.trace.node.hoverinfo&&(z.node.fullData=z.node.trace,m.emit("plotly_hover",{event:M.event,points:[z.node]})))},follow:function(j,z){if(!1!==m._fullLayout.hovermode){var N=z.node.trace.node;if("none"!==N.hoverinfo&&"skip"!==N.hoverinfo){var Y=M.select(j).select("."+s.nodeRect),F=m._fullLayout._paperdiv.node().getBoundingClientRect(),U=Y.node().getBoundingClientRect(),V=U.left-2-F.left,te=U.right+2-F.left,$=U.top+U.height/4-F.top,X={valueLabel:a(z.valueFormat)(z.node.value)+z.valueSuffix};z.node.fullData=z.node.trace,m._fullLayout._calcInverseTransform(m);var W=m._fullLayout._invScaleX,J=m._fullLayout._invScaleY,Q=b.loneHover({x0:W*V,x1:W*te,y:J*$,name:a(z.valueFormat)(z.node.value)+z.valueSuffix,text:[z.node.label,P+z.node.targetLinks.length,R+z.node.sourceLinks.length].filter(i).join("<br>"),color:h(N,"bgcolor")||z.tinyColorHue,borderColor:h(N,"bordercolor"),fontFamily:h(N,"font.family"),fontSize:h(N,"font.size"),fontColor:h(N,"font.color"),nameLength:h(N,"namelength"),textAlign:h(N,"align"),idealAlign:"left",hovertemplate:N.hovertemplate,hovertemplateLabels:X,eventData:[z.node]},{container:v._hoverlayer.node(),outerContainer:v._paper.node(),gd:m});r(Q,.85),o(Q)}}},unhover:function(j,z,N){!1!==m._fullLayout.hovermode&&(M.select(j).call(c,z,N),"skip"!==z.node.trace.node.hoverinfo&&(z.node.fullData=z.node.trace,m.emit("plotly_unhover",{event:M.event,points:[z.node]})),b.loneUnhover(v._hoverlayer.node()))},select:function(j,z,N){var Y=z.node;Y.originalEvent=M.event,m._hoverdata=[Y],M.select(j).call(c,z,N),b.click(m,{target:!0})}}})}},3393:function(ee,D,e){"use strict";var M=e(49887),k=e(81684).k4,a=e(39898),T=e(30838),b=e(86781),p=e(85247),s=e(84267),t=e(7901),i=e(91424),n=e(71828),r=n.strTranslate,o=n.strRotate,l=e(28984),u=l.keyFun,d=l.repeat,c=l.unwrap,x=e(63893),g=e(73972),h=e(18783),m=h.CAP_SHIFT,y=h.LINE_SPACING;function v(U,V,te){var $,X=c(V),W=X.trace,J=W.domain,Q="h"===W.orientation,re=W.node.pad,ae=W.node.thickness,oe={justify:T.sankeyJustify,left:T.sankeyLeft,right:T.sankeyRight,center:T.sankeyCenter}[W.node.align],ue=U.width*(J.x[1]-J.x[0]),ve=U.height*(J.y[1]-J.y[0]),be=X._nodes,de=X._links,pe=X.circular;($=pe?b.sankeyCircular().circularLinkGap(0):T.sankey()).iterations(p.sankeyIterations).size(Q?[ue,ve]:[ve,ue]).nodeWidth(ae).nodePadding(re).nodeId(function(Ee){return Ee.pointNumber}).nodeAlign(oe).nodes(be).links(de);var ge,Ae,ye,we=$();for(var se in $.nodePadding()<re&&n.warn("node.pad was reduced to ",$.nodePadding()," to fit within the figure."),X._groupLookup){var ie,he=parseInt(X._groupLookup[se]);for(ge=0;ge<we.nodes.length;ge++)if(we.nodes[ge].pointNumber===he){ie=we.nodes[ge];break}if(ie){var Se={pointNumber:parseInt(se),x0:ie.x0,x1:ie.x1,y0:ie.y0,y1:ie.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};we.nodes.unshift(Se),ie.childrenNodes.unshift(Se)}}if(function(){for(ge=0;ge<we.nodes.length;ge++){var Ee,Ie,fe=we.nodes[ge],xe={};for(Ae=0;Ae<fe.targetLinks.length;Ae++)Ee=(Ie=fe.targetLinks[Ae]).source.pointNumber+":"+Ie.target.pointNumber,xe.hasOwnProperty(Ee)||(xe[Ee]=[]),xe[Ee].push(Ie);var Te=Object.keys(xe);for(Ae=0;Ae<Te.length;Ae++){var Ce=xe[Ee=Te[Ae]],De=0,ze={};for(ye=0;ye<Ce.length;ye++)ze[(Ie=Ce[ye]).label]||(ze[Ie.label]=0),ze[Ie.label]+=Ie.value,De+=Ie.value;for(ye=0;ye<Ce.length;ye++)(Ie=Ce[ye]).flow={value:De,labelConcentration:ze[Ie.label]/De,concentration:Ie.value/De,links:Ce},Ie.concentrationscale&&(Ie.color=s(Ie.concentrationscale(Ie.flow.labelConcentration)))}var Ue=0;for(Ae=0;Ae<fe.sourceLinks.length;Ae++)Ue+=fe.sourceLinks[Ae].value;for(Ae=0;Ae<fe.sourceLinks.length;Ae++)(Ie=fe.sourceLinks[Ae]).concentrationOut=Ie.value/Ue;var Ve=0;for(Ae=0;Ae<fe.targetLinks.length;Ae++)Ve+=fe.targetLinks[Ae].value;for(Ae=0;Ae<fe.targetLinks.length;Ae++)(Ie=fe.targetLinks[Ae]).concenrationIn=Ie.value/Ve}}(),W.node.x.length&&W.node.y.length){for(ge=0;ge<Math.min(W.node.x.length,W.node.y.length,we.nodes.length);ge++)if(W.node.x[ge]&&W.node.y[ge]){var _e=[W.node.x[ge]*ue,W.node.y[ge]*ve];we.nodes[ge].x0=_e[0]-ae/2,we.nodes[ge].x1=_e[0]+ae/2;var Me=we.nodes[ge].y1-we.nodes[ge].y0;we.nodes[ge].y0=_e[1]-Me/2,we.nodes[ge].y1=_e[1]+Me/2}"snap"===W.arrangement&&function(Ee){var Ie,fe,xe=Ee.map(function(Ue,Ve){return{x0:Ue.x0,index:Ve}}).sort(function(Ue,Ve){return Ue.x0-Ve.x0}),Te=[],Ce=-1,De=-1/0;for(ge=0;ge<xe.length;ge++){var ze=Ee[xe[ge].index];ze.x0>De+ae&&(Ce+=1,Ie=ze.x0),De=ze.x0,Te[Ce]||(Te[Ce]=[]),Te[Ce].push(ze),fe=Ie-ze.x0,ze.x0+=fe,ze.x1+=fe}return Te}(be=we.nodes).forEach(function(Ee){var Ie,fe,xe,Te=0,Ce=Ee.length;for(Ee.sort(function(De,ze){return De.y0-ze.y0}),xe=0;xe<Ce;++xe)(Ie=Ee[xe]).y0>=Te||(fe=Te-Ie.y0)>1e-6&&(Ie.y0+=fe,Ie.y1+=fe),Te=Ie.y1+re}),$.update(we)}return{circular:pe,key:te,trace:W,guid:n.randstr(),horizontal:Q,width:ue,height:ve,nodePad:W.node.pad,nodeLineColor:W.node.line.color,nodeLineWidth:W.node.line.width,linkLineColor:W.link.line.color,linkLineWidth:W.link.line.width,linkArrowLength:W.link.arrowlen,valueFormat:W.valueformat,valueSuffix:W.valuesuffix,textFont:W.textfont,translateX:J.x[0]*U.width+U.margin.l,translateY:U.height-J.y[1]*U.height+U.margin.t,dragParallel:Q?ve:ue,dragPerpendicular:Q?ue:ve,arrangement:W.arrangement,sankey:$,graph:we,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function _(U,V,te){var $=s(V.color),X=V.source.label+"|"+V.target.label+"__"+te;return V.trace=U.trace,V.curveNumber=U.trace.index,{circular:U.circular,key:X,traceId:U.key,pointNumber:V.pointNumber,link:V,tinyColorHue:t.tinyRGB($),tinyColorAlpha:$.getAlpha(),linkPath:f,linkLineColor:U.linkLineColor,linkLineWidth:U.linkLineWidth,linkArrowLength:U.linkArrowLength,valueFormat:U.valueFormat,valueSuffix:U.valueSuffix,sankey:U.sankey,parent:U,interactionState:U.interactionState,flow:V.flow}}function f(){return function(U){var ge,Ae,ye,we,V=U.linkArrowLength;if(U.link.circular)return ge=U.link,Ae=V,ye=ge.width/2,we=ge.circularPathData,"top"===ge.circularLinkType?"M "+(we.targetX-Ae)+" "+(we.targetY+ye)+" L"+(we.rightInnerExtent-Ae)+" "+(we.targetY+ye)+"A"+(we.rightLargeArcRadius+ye)+" "+(we.rightSmallArcRadius+ye)+" 0 0 1 "+(we.rightFullExtent-ye-Ae)+" "+(we.targetY-we.rightSmallArcRadius)+"L"+(we.rightFullExtent-ye-Ae)+" "+we.verticalRightInnerExtent+"A"+(we.rightLargeArcRadius+ye)+" "+(we.rightLargeArcRadius+ye)+" 0 0 1 "+(we.rightInnerExtent-Ae)+" "+(we.verticalFullExtent-ye)+"L"+we.leftInnerExtent+" "+(we.verticalFullExtent-ye)+"A"+(we.leftLargeArcRadius+ye)+" "+(we.leftLargeArcRadius+ye)+" 0 0 1 "+(we.leftFullExtent+ye)+" "+we.verticalLeftInnerExtent+"L"+(we.leftFullExtent+ye)+" "+(we.sourceY-we.leftSmallArcRadius)+"A"+(we.leftLargeArcRadius+ye)+" "+(we.leftSmallArcRadius+ye)+" 0 0 1 "+we.leftInnerExtent+" "+(we.sourceY+ye)+"L"+we.sourceX+" "+(we.sourceY+ye)+"L"+we.sourceX+" "+(we.sourceY-ye)+"L"+we.leftInnerExtent+" "+(we.sourceY-ye)+"A"+(we.leftLargeArcRadius-ye)+" "+(we.leftSmallArcRadius-ye)+" 0 0 0 "+(we.leftFullExtent-ye)+" "+(we.sourceY-we.leftSmallArcRadius)+"L"+(we.leftFullExtent-ye)+" "+we.verticalLeftInnerExtent+"A"+(we.leftLargeArcRadius-ye)+" "+(we.leftLargeArcRadius-ye)+" 0 0 0 "+we.leftInnerExtent+" "+(we.verticalFullExtent+ye)+"L"+(we.rightInnerExtent-Ae)+" "+(we.verticalFullExtent+ye)+"A"+(we.rightLargeArcRadius-ye)+" "+(we.rightLargeArcRadius-ye)+" 0 0 0 "+(we.rightFullExtent+ye-Ae)+" "+we.verticalRightInnerExtent+"L"+(we.rightFullExtent+ye-Ae)+" "+(we.targetY-we.rightSmallArcRadius)+"A"+(we.rightLargeArcRadius-ye)+" "+(we.rightSmallArcRadius-ye)+" 0 0 0 "+(we.rightInnerExtent-Ae)+" "+(we.targetY-ye)+"L"+(we.targetX-Ae)+" "+(we.targetY-ye)+(Ae>0?"L"+we.targetX+" "+we.targetY:"")+"Z":"M "+(we.targetX-Ae)+" "+(we.targetY-ye)+" L"+(we.rightInnerExtent-Ae)+" "+(we.targetY-ye)+"A"+(we.rightLargeArcRadius+ye)+" "+(we.rightSmallArcRadius+ye)+" 0 0 0 "+(we.rightFullExtent-ye-Ae)+" "+(we.targetY+we.rightSmallArcRadius)+"L"+(we.rightFullExtent-ye-Ae)+" "+we.verticalRightInnerExtent+"A"+(we.rightLargeArcRadius+ye)+" "+(we.rightLargeArcRadius+ye)+" 0 0 0 "+(we.rightInnerExtent-Ae)+" "+(we.verticalFullExtent+ye)+"L"+we.leftInnerExtent+" "+(we.verticalFullExtent+ye)+"A"+(we.leftLargeArcRadius+ye)+" "+(we.leftLargeArcRadius+ye)+" 0 0 0 "+(we.leftFullExtent+ye)+" "+we.verticalLeftInnerExtent+"L"+(we.leftFullExtent+ye)+" "+(we.sourceY+we.leftSmallArcRadius)+"A"+(we.leftLargeArcRadius+ye)+" "+(we.leftSmallArcRadius+ye)+" 0 0 0 "+we.leftInnerExtent+" "+(we.sourceY-ye)+"L"+we.sourceX+" "+(we.sourceY-ye)+"L"+we.sourceX+" "+(we.sourceY+ye)+"L"+we.leftInnerExtent+" "+(we.sourceY+ye)+"A"+(we.leftLargeArcRadius-ye)+" "+(we.leftSmallArcRadius-ye)+" 0 0 1 "+(we.leftFullExtent-ye)+" "+(we.sourceY+we.leftSmallArcRadius)+"L"+(we.leftFullExtent-ye)+" "+we.verticalLeftInnerExtent+"A"+(we.leftLargeArcRadius-ye)+" "+(we.leftLargeArcRadius-ye)+" 0 0 1 "+we.leftInnerExtent+" "+(we.verticalFullExtent-ye)+"L"+(we.rightInnerExtent-Ae)+" "+(we.verticalFullExtent-ye)+"A"+(we.rightLargeArcRadius-ye)+" "+(we.rightLargeArcRadius-ye)+" 0 0 1 "+(we.rightFullExtent+ye-Ae)+" "+we.verticalRightInnerExtent+"L"+(we.rightFullExtent+ye-Ae)+" "+(we.targetY+we.rightSmallArcRadius)+"A"+(we.rightLargeArcRadius-ye)+" "+(we.rightSmallArcRadius-ye)+" 0 0 1 "+(we.rightInnerExtent-Ae)+" "+(we.targetY+ye)+"L"+(we.targetX-Ae)+" "+(we.targetY+ye)+(Ae>0?"L"+we.targetX+" "+we.targetY:"")+"Z";var te=Math.abs((U.link.target.x0-U.link.source.x1)/2);V>te&&(V=te);var $=U.link.source.x1,X=U.link.target.x0-V,W=k($,X),J=W(.5),Q=W(.5),re=U.link.y0-U.link.width/2,ae=U.link.y0+U.link.width/2,oe=U.link.y1-U.link.width/2,ue=U.link.y1+U.link.width/2,ve="M"+$+","+re,be="C"+J+","+re+" "+Q+","+oe+" "+X+","+oe,de="C"+Q+","+ue+" "+J+","+ae+" "+$+","+ae,pe=V>0?"L"+(X+V)+","+(oe+U.link.width/2):"";return ve+be+(pe+="L"+X+","+ue)+de+"Z"}}function S(U,V){var te=s(V.color),$=p.nodePadAcross,X=U.nodePad/2;V.dx=V.x1-V.x0,V.dy=V.y1-V.y0;var W=V.dx,J=Math.max(.5,V.dy),Q="node_"+V.pointNumber;return V.group&&(Q=n.randstr()),V.trace=U.trace,V.curveNumber=U.trace.index,{index:V.pointNumber,key:Q,partOfGroup:V.partOfGroup||!1,group:V.group,traceId:U.key,trace:U.trace,node:V,nodePad:U.nodePad,nodeLineColor:U.nodeLineColor,nodeLineWidth:U.nodeLineWidth,textFont:U.textFont,size:U.horizontal?U.height:U.width,visibleWidth:Math.ceil(W),visibleHeight:J,zoneX:-$,zoneY:-X,zoneWidth:W+2*$,zoneHeight:J+2*X,labelY:U.horizontal?V.dy/2+1:V.dx/2+1,left:1===V.originalLayer,sizeAcross:U.width,forceLayouts:U.forceLayouts,horizontal:U.horizontal,darkBackground:te.getBrightness()<=128,tinyColorHue:t.tinyRGB(te),tinyColorAlpha:te.getAlpha(),valueFormat:U.valueFormat,valueSuffix:U.valueSuffix,sankey:U.sankey,graph:U.graph,arrangement:U.arrangement,uniqueNodeLabelPathId:[U.guid,U.key,Q].join("_"),interactionState:U.interactionState,figure:U}}function w(U){U.attr("transform",function(V){return r(V.node.x0.toFixed(3),V.node.y0.toFixed(3))})}function E(U){U.call(w)}function C(U,V){U.call(E),V.attr("d",f())}function O(U){U.attr("width",function(V){return V.node.x1-V.node.x0}).attr("height",function(V){return V.visibleHeight})}function P(U){return U.link.width>1||U.linkLineWidth>0}function R(U){return r(U.translateX,U.translateY)+(U.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function j(U,V,te){U.on(".basic",null).on("mouseover.basic",function($){$.interactionState.dragInProgress||$.partOfGroup||(te.hover(this,$,V),$.interactionState.hovered=[this,$])}).on("mousemove.basic",function($){$.interactionState.dragInProgress||$.partOfGroup||(te.follow(this,$),$.interactionState.hovered=[this,$])}).on("mouseout.basic",function($){$.interactionState.dragInProgress||$.partOfGroup||(te.unhover(this,$,V),$.interactionState.hovered=!1)}).on("click.basic",function($){$.interactionState.hovered&&(te.unhover(this,$,V),$.interactionState.hovered=!1),$.interactionState.dragInProgress||$.partOfGroup||te.select(this,$,V)})}function z(U,V,te,$){var X=a.behavior.drag().origin(function(W){return{x:W.node.x0+W.visibleWidth/2,y:W.node.y0+W.visibleHeight/2}}).on("dragstart",function(W){if("fixed"!==W.arrangement&&(n.ensureSingle($._fullLayout._infolayer,"g","dragcover",function(Q){$._fullLayout._dragCover=Q}),n.raiseToTop(this),W.interactionState.dragInProgress=W.node,Y(W.node),W.interactionState.hovered&&(te.nodeEvents.unhover.apply(0,W.interactionState.hovered),W.interactionState.hovered=!1),"snap"===W.arrangement)){var J=W.traceId+"|"+W.key;W.forceLayouts[J]?W.forceLayouts[J].alpha(1):function(Q,re,ae,oe){!function(ve){for(var be=0;be<ve.length;be++)ve[be].y=(ve[be].y0+ve[be].y1)/2,ve[be].x=(ve[be].x0+ve[be].x1)/2}(ae.graph.nodes);var be,de,pe,ue=ae.graph.nodes.filter(function(ve){return ve.originalX===ae.node.originalX}).filter(function(ve){return!ve.partOfGroup});ae.forceLayouts[re]=M.forceSimulation(ue).alphaDecay(0).force("collide",M.forceCollide().radius(function(ve){return ve.dy/2+ae.nodePad/2}).strength(1).iterations(p.forceIterations)).force("constrain",(be=re,de=ue,pe=ae,function(){for(var ge=0,Ae=0;Ae<de.length;Ae++){var ye=de[Ae];ye===pe.interactionState.dragInProgress?(ye.x=ye.lastDraggedX,ye.y=ye.lastDraggedY):(ye.vx=(ye.originalX-ye.x)/p.forceTicksPerFrame,ye.y=Math.min(pe.size-ye.dy/2,Math.max(ye.dy/2,ye.y))),ge=Math.max(ge,Math.abs(ye.vx),Math.abs(ye.vy))}!pe.interactionState.dragInProgress&&ge<.1&&pe.forceLayouts[be].alpha()>0&&pe.forceLayouts[be].alpha(0)})).stop()}(0,J,W),Q=U,re=V,ae=W,oe=J,ue=$,window.requestAnimationFrame(function ve(){var be;for(be=0;be<p.forceTicksPerFrame;be++)ae.forceLayouts[oe].tick();if(function(pe){for(var ge=0;ge<pe.length;ge++)pe[ge].y0=pe[ge].y-pe[ge].dy/2,pe[ge].y1=pe[ge].y0+pe[ge].dy,pe[ge].x0=pe[ge].x-pe[ge].dx/2,pe[ge].x1=pe[ge].x0+pe[ge].dx}(ae.graph.nodes),ae.sankey.update(ae.graph),C(Q.filter(F(ae)),re),ae.forceLayouts[oe].alpha()>0)window.requestAnimationFrame(ve);else{var de=ae.node.originalX;ae.node.x0=de-ae.visibleWidth/2,ae.node.x1=de+ae.visibleWidth/2,N(ae,ue)}})}var Q,re,ae,oe,ue}).on("drag",function(W){if("fixed"!==W.arrangement){var J=a.event.x,Q=a.event.y;"snap"===W.arrangement?(W.node.x0=J-W.visibleWidth/2,W.node.x1=J+W.visibleWidth/2,W.node.y0=Q-W.visibleHeight/2,W.node.y1=Q+W.visibleHeight/2):("freeform"===W.arrangement&&(W.node.x0=J-W.visibleWidth/2,W.node.x1=J+W.visibleWidth/2),Q=Math.max(0,Math.min(W.size-W.visibleHeight/2,Q)),W.node.y0=Q-W.visibleHeight/2,W.node.y1=Q+W.visibleHeight/2),Y(W.node),"snap"!==W.arrangement&&(W.sankey.update(W.graph),C(U.filter(F(W)),V))}}).on("dragend",function(W){if("fixed"!==W.arrangement){W.interactionState.dragInProgress=!1;for(var J=0;J<W.node.childrenNodes.length;J++)W.node.childrenNodes[J].x=W.node.x,W.node.childrenNodes[J].y=W.node.y;"snap"!==W.arrangement&&N(W,$)}});U.on(".drag",null).call(X)}function N(U,V){for(var te=[],$=[],X=0;X<U.graph.nodes.length;X++){var W=(U.graph.nodes[X].x0+U.graph.nodes[X].x1)/2,J=(U.graph.nodes[X].y0+U.graph.nodes[X].y1)/2;te.push(W/U.figure.width),$.push(J/U.figure.height)}g.call("_guiRestyle",V,{"node.x":[te],"node.y":[$]},U.trace.index).then(function(){V._fullLayout._dragCover&&V._fullLayout._dragCover.remove()})}function Y(U){U.lastDraggedX=U.x0+U.dx/2,U.lastDraggedY=U.y0+U.dy/2}function F(U){return function(V){return V.node.originalX===U.node.originalX}}ee.exports=function(U,V,te,$,X){var W=U._context.staticPlot,J=!1;n.ensureSingle(U._fullLayout._infolayer,"g","first-render",function(){J=!0});var Q=U._fullLayout._dragCover,re=te.filter(function(ge){return c(ge).trace.visible}).map(v.bind(null,$)),ae=V.selectAll("."+p.cn.sankey).data(re,u);ae.exit().remove(),ae.enter().append("g").classed(p.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",W?"none":"auto").attr("transform",R),ae.each(function(ge,Ae){U._fullData[Ae]._sankey=ge;var ye="bgsankey-"+ge.trace.uid+"-"+Ae;n.ensureSingle(U._fullLayout._draggers,"rect",ye),U._fullData[Ae]._bgRect=a.select("."+ye),U._fullData[Ae]._bgRect.style("pointer-events",W?"none":"all").attr("width",ge.width).attr("height",ge.height).attr("x",ge.translateX).attr("y",ge.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ae.transition().ease(p.ease).duration(p.duration).attr("transform",R);var oe=ae.selectAll("."+p.cn.sankeyLinks).data(d,u);oe.enter().append("g").classed(p.cn.sankeyLinks,!0).style("fill","none");var ue=oe.selectAll("."+p.cn.sankeyLink).data(function(ge){return ge.graph.links.filter(function(Ae){return Ae.value}).map(_.bind(null,ge))},u);ue.enter().append("path").classed(p.cn.sankeyLink,!0).call(j,ae,X.linkEvents),ue.style("stroke",function(ge){return P(ge)?t.tinyRGB(s(ge.linkLineColor)):ge.tinyColorHue}).style("stroke-opacity",function(ge){return P(ge)?t.opacity(ge.linkLineColor):ge.tinyColorAlpha}).style("fill",function(ge){return ge.tinyColorHue}).style("fill-opacity",function(ge){return ge.tinyColorAlpha}).style("stroke-width",function(ge){return P(ge)?ge.linkLineWidth:1}).attr("d",f()),ue.style("opacity",function(){return U._context.staticPlot||J||Q?1:0}).transition().ease(p.ease).duration(p.duration).style("opacity",1),ue.exit().transition().ease(p.ease).duration(p.duration).style("opacity",0).remove();var ve=ae.selectAll("."+p.cn.sankeyNodeSet).data(d,u);ve.enter().append("g").classed(p.cn.sankeyNodeSet,!0),ve.style("cursor",function(ge){switch(ge.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var be=ve.selectAll("."+p.cn.sankeyNode).data(function(ge){var Ae=ge.graph.nodes;return function(ye){var we,se=[];for(we=0;we<ye.length;we++)ye[we].originalX=(ye[we].x0+ye[we].x1)/2,ye[we].originalY=(ye[we].y0+ye[we].y1)/2,-1===se.indexOf(ye[we].originalX)&&se.push(ye[we].originalX);for(se.sort(function(ie,he){return ie-he}),we=0;we<ye.length;we++)ye[we].originalLayerIndex=se.indexOf(ye[we].originalX),ye[we].originalLayer=ye[we].originalLayerIndex/(se.length-1)}(Ae),Ae.map(S.bind(null,ge))},u);be.enter().append("g").classed(p.cn.sankeyNode,!0).call(w).style("opacity",function(ge){return!U._context.staticPlot&&!J||ge.partOfGroup?0:1}),be.call(j,ae,X.nodeEvents).call(z,ue,X,U),be.transition().ease(p.ease).duration(p.duration).call(w).style("opacity",function(ge){return ge.partOfGroup?0:1}),be.exit().transition().ease(p.ease).duration(p.duration).style("opacity",0).remove();var de=be.selectAll("."+p.cn.nodeRect).data(d);de.enter().append("rect").classed(p.cn.nodeRect,!0).call(O),de.style("stroke-width",function(ge){return ge.nodeLineWidth}).style("stroke",function(ge){return t.tinyRGB(s(ge.nodeLineColor))}).style("stroke-opacity",function(ge){return t.opacity(ge.nodeLineColor)}).style("fill",function(ge){return ge.tinyColorHue}).style("fill-opacity",function(ge){return ge.tinyColorAlpha}),de.transition().ease(p.ease).duration(p.duration).call(O);var pe=be.selectAll("."+p.cn.nodeLabel).data(d);pe.enter().append("text").classed(p.cn.nodeLabel,!0).style("cursor","default"),pe.attr("data-notex",1).text(function(ge){return ge.node.label}).each(function(ge){var Ae=a.select(this);i.font(Ae,ge.textFont),x.convertToTspans(Ae,U)}).style("text-shadow",x.makeTextShadow(U._fullLayout.paper_bgcolor)).attr("text-anchor",function(ge){return ge.horizontal&&ge.left?"end":"start"}).attr("transform",function(ge){var Ae=a.select(this),ye=x.lineCount(Ae),we=ge.textFont.size*((ye-1)*y-m),se=ge.nodeLineWidth/2+3,ie=((ge.horizontal?ge.visibleHeight:ge.visibleWidth)-we)/2;ge.horizontal&&(ge.left?se=-se:se+=ge.visibleWidth);var he=ge.horizontal?"":"scale(-1,1)"+o(90);return r(ge.horizontal?se:ie,ge.horizontal?ie:se)+he}),pe.transition().ease(p.ease).duration(p.duration)}},84564:function(ee){"use strict";ee.exports=function(D,e){for(var M=[],k=D.cd[0].trace,a=k._sankey.graph.nodes,T=0;T<a.length;T++){var b=a[T];if(!b.partOfGroup){var p=[(b.x0+b.x1)/2,(b.y0+b.y1)/2];"v"===k.orientation&&p.reverse(),e&&e.contains(p,!1,T,D)&&M.push({pointNumber:b.pointNumber})}}return M}},75225:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k,a){for(var T=0;T<k.length;T++)k[T].i=T;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.texttemplate,k,"txt"),M.mergeArray(a.hovertext,k,"htx"),M.mergeArray(a.customdata,k,"data"),M.mergeArray(a.textposition,k,"tp"),a.textfont&&(M.mergeArrayCastPositive(a.textfont.size,k,"ts"),M.mergeArray(a.textfont.color,k,"tc"),M.mergeArray(a.textfont.family,k,"tf"));var b=a.marker;if(b){M.mergeArrayCastPositive(b.size,k,"ms"),M.mergeArrayCastPositive(b.opacity,k,"mo"),M.mergeArray(b.symbol,k,"mx"),M.mergeArray(b.angle,k,"ma"),M.mergeArray(b.standoff,k,"mf"),M.mergeArray(b.color,k,"mc");var p=b.line;b.line&&(M.mergeArray(p.color,k,"mlc"),M.mergeArrayCastPositive(p.width,k,"mlw"));var s=b.gradient;s&&"none"!==s.type&&(M.mergeArray(s.type,k,"mgt"),M.mergeArray(s.color,k,"mgc"))}}},82196:function(ee,D,e){"use strict";var M=e(12663).axisHoverFormat,k=e(5386).si,a=e(5386).fF,T=e(50693),b=e(41940),p=e(79952).P,s=e(79952).u,t=e(91424),i=e(47581),n=e(1426).extendFlat;ee.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:M("x"),yhoverformat:M("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:k({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:i.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:n({},p,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:s,marker:n({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:n({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},T("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},T("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:b({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(89298),T=e(42973),b=e(50606).BADNUM,p=e(34098),s=e(36922),t=e(75225),i=e(66279);function n(d,c,x,g,h,m,y){var v=c._length,_=d._fullLayout,f=x._id,S=g._id,w=_._firstScatter[l(c)]===c.uid,E=(u(c,_,x,g)||{}).orientation,C=c.fill;x._minDtick=0,g._minDtick=0;var O={padded:!0},P={padded:!0};y&&(O.ppad=P.ppad=y);var R=v<2||h[0]!==h[v-1]||m[0]!==m[v-1];R&&("tozerox"===C||"tonextx"===C&&(w||"h"===E))?O.tozero=!0:(c.error_y||{}).visible||"tonexty"!==C&&"tozeroy"!==C&&(p.hasMarkers(c)||p.hasText(c))||(O.padded=!1,O.ppad=0),R&&("tozeroy"===C||"tonexty"===C&&(w||"v"===E))?P.tozero=!0:"tonextx"!==C&&"tozerox"!==C||(P.padded=!1),f&&(c._extremes[f]=a.findExtremes(x,h,O)),S&&(c._extremes[S]=a.findExtremes(g,m,P))}function r(d,c){if(p.hasMarkers(d)){var x,g=d.marker,h=1.6*(d.marker.sizeref||1);if(x="area"===d.marker.sizemode?function(f){return Math.max(Math.sqrt((f||0)/h),3)}:function(f){return Math.max((f||0)/h,3)},k.isArrayOrTypedArray(g.size)){var m={type:"linear"};a.setConvert(m);for(var y=m.makeCalcdata(d.marker,"size"),v=new Array(c),_=0;_<c;_++)v[_]=x(y[_]);return v}return x(g.size)}}function o(d,c){var x=l(c),g=d._firstScatter;g[x]||(g[x]=c.uid)}function l(d){var c=d.stackgroup;return d.xaxis+d.yaxis+d.type+(c?"-"+c:"")}function u(d,c,x,g){var h=d.stackgroup;if(h){var m=c._scatterStackOpts[x._id+g._id][h],y="v"===m.orientation?g:x;return"linear"===y.type||"log"===y.type?m:void 0}}ee.exports={calc:function(d,c){var x,g,h,m,y,v,_=d._fullLayout,f=c._xA=a.getFromId(d,c.xaxis||"x","x"),S=c._yA=a.getFromId(d,c.yaxis||"y","y"),w=f.makeCalcdata(c,"x"),E=S.makeCalcdata(c,"y"),C=T(c,f,"x",w),O=T(c,S,"y",E),P=C.vals,R=O.vals,j=c._length,z=new Array(j),N=c.ids,Y=u(c,_,f,S),F=!1;o(_,c);var U,V="x",te="y";Y?(k.pushUnique(Y.traceIndices,c._expandedIndex),(x="v"===Y.orientation)?(te="s",U="x"):(V="s",U="y"),y="interpolate"===Y.stackgaps):n(d,c,f,S,P,R,r(c,j));var $=!!c.xperiodalignment,X=!!c.yperiodalignment;for(g=0;g<j;g++){var W=z[g]={},J=M(P[g]),Q=M(R[g]);J&&Q?(W[V]=P[g],W[te]=R[g],$&&(W.orig_x=w[g],W.xEnd=C.ends[g],W.xStart=C.starts[g]),X&&(W.orig_y=E[g],W.yEnd=O.ends[g],W.yStart=O.starts[g])):Y&&(x?J:Q)?(W[U]=x?P[g]:R[g],W.gap=!0,y?(W.s=b,F=!0):W.s=0):W[V]=W[te]=b,N&&(W.id=String(N[g]))}if(t(z,c),s(d,c),i(z,c),Y){for(g=0;g<z.length;)z[g][U]===b?z.splice(g,1):g++;if(k.sort(z,function(ue,ve){return ue[U]-ve[U]||ue.i-ve.i}),F){for(g=0;g<z.length-1&&z[g].gap;)g++;for((v=z[g].s)||(v=z[g].s=0),h=0;h<g;h++)z[h].s=v;for(m=z.length-1;m>g&&z[m].gap;)m--;for(v=z[m].s,h=z.length-1;h>m;h--)z[h].s=v;for(;g<m;)if(z[++g].gap){for(h=g+1;z[h].gap;)h++;for(var re=z[g-1][U],ae=z[g-1].s,oe=(z[h].s-ae)/(z[h][U]-re);g<h;)z[g].s=ae+(z[g][U]-re)*oe,g++}}}return z},calcMarkerSize:r,calcAxisExpansion:n,setFirstScatter:o,getStackOpts:u}},66279:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k,a){M.isArrayOrTypedArray(a.selectedpoints)&&M.tagSelected(k,a)}},36922:function(ee,D,e){"use strict";var M=e(52075).hasColorscale,k=e(78803),a=e(34098);ee.exports=function(T,b){a.hasLines(b)&&M(b,"line")&&k(T,b,{vals:b.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(b)&&(M(b,"marker")&&k(T,b,{vals:b.marker.color,containerStr:"marker",cLetter:"c"}),M(b,"marker.line")&&k(T,b,{vals:b.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(ee){"use strict";ee.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(ee,D,e){"use strict";var M=e(47761),k=e(11661).setGroupPositions;function a(T,b,p,s,t,i,n){t[s]=!0;var l,u,d,c,x,g,r={i:null,gap:!0,s:0};if(r[n]=p,T.splice(b,0,r),b&&p===T[b-1][n]){var o=T[b-1];r.s=o.s,r.i=o.i,r.gap=o.gap}else i&&(r.s=(d=p,c=n,x=(l=T)[(u=b)-1],(g=l[u+1])?x?x.s+(g.s-x.s)*(d-x[c])/(g[c]-x[c]):g.s:x.s));b||(T[0].t=T[1].t,T[0].trace=T[1].trace,delete T[1].t,delete T[1].trace)}ee.exports=function(T,b){"group"===T._fullLayout.scattermode&&function(U,V){for(var te=V.xaxis,$=V.yaxis,X=U._fullLayout,W=U._fullData,J=U.calcdata,Q=[],re=[],ae=0;ae<W.length;ae++){var oe=W[ae];!0===oe.visible&&"scatter"===oe.type&&oe.xaxis===te._id&&oe.yaxis===$._id&&("h"===oe.orientation?Q.push(J[ae]):"v"===oe.orientation&&re.push(J[ae]))}var ue={mode:X.scattermode,gap:X.scattergap};k(U,te,$,re,ue),k(U,$,te,Q,ue)}(T,b);var p=b.xaxis,s=b.yaxis,t=p._id+s._id,i=T._fullLayout._scatterStackOpts[t];if(i){var n,r,o,l,u,d,c,x,g,h,m,y,v,_,f,S=T.calcdata;for(var w in i){var E=(h=i[w]).traceIndices;if(E.length){for(m="interpolate"===h.stackgaps,y=h.groupnorm,"v"===h.orientation?(v="x",_="y"):(v="y",_="x"),f=new Array(E.length),n=0;n<f.length;n++)f[n]=!1;d=S[E[0]];var C=new Array(d.length);for(n=0;n<d.length;n++)C[n]=d[n][v];for(n=1;n<E.length;n++){for(u=S[E[n]],r=o=0;r<u.length;r++){for(c=u[r][v];c>C[o]&&o<C.length;o++)a(u,r,C[o],n,f,m,v),r++;if(c!==C[o]){for(l=0;l<n;l++)a(S[E[l]],o,c,l,f,m,v);C.splice(o,0,c)}o++}for(;o<C.length;o++)a(u,r,C[o],n,f,m,v),r++}var O=C.length;for(r=0;r<d.length;r++){for(x=d[r][_]=d[r].s,n=1;n<E.length;n++)(u=S[E[n]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=O,x+=u[r].s,u[r][_]=x;if(y)for(g=("fraction"===y?x:x/100)||1,n=0;n<E.length;n++){var P=S[E[n]][r];P[_]/=g,P.sNorm=P.s/g}}for(n=0;n<E.length;n++){var R=(u=S[E[n]])[0].trace,j=M.calcMarkerSize(R,R._rawLength),z=Array.isArray(j);if(j&&f[n]||z){var N=j;for(j=new Array(O),r=0;r<O;r++)j[r]=u[r].gap?0:z?N[u[r].i]:N}var Y=new Array(O),F=new Array(O);for(r=0;r<O;r++)Y[r]=u[r].x,F[r]=u[r].y;M.calcAxisExpansion(T,R,p,s,Y,F,j),u[0].t.orientation=h.orientation}}}}}},34936:function(ee,D,e){"use strict";var M=e(71828),k=e(26125),a=e(82196);ee.exports=function(T,b){var p,s,t;function i(u){return M.coerce(s._input,s,a,u)}if("group"===b.scattermode)for(t=0;t<T.length;t++)"scatter"===(s=T[t]).type&&(p=s._input,k(p,s,b,i));for(t=0;t<T.length;t++){var n=T[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var o=t-1;o>=0;o--){var l=T[o];if("scatter"===l.type&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},17438:function(ee,D,e){"use strict";var M=e(71828),k=e(73972),a=e(82196),T=e(47581),b=e(34098),p=e(67513),s=e(73927),t=e(565),i=e(49508),n=e(11058),r=e(94039),o=e(82410),l=e(28908),u=e(71828).coercePattern;ee.exports=function(d,c,x,g){function h(E,C){return M.coerce(d,c,a,E,C)}var m=p(d,c,g,h);if(m||(c.visible=!1),c.visible){s(d,c,g,h),h("xhoverformat"),h("yhoverformat");var y=t(d,c,g,h);"group"===g.scattermode&&void 0===c.orientation&&h("orientation","v");var v=!y&&m<T.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("mode",v),b.hasMarkers(c)&&i(d,c,x,g,h,{gradient:!0}),b.hasLines(c)&&(n(d,c,x,g,h,{backoff:!0}),r(d,c,h),h("connectgaps"),h("line.simplify")),b.hasText(c)&&(h("texttemplate"),o(d,c,g,h));var _=[];(b.hasMarkers(c)||b.hasText(c))&&(h("cliponaxis"),h("marker.maxdisplayed"),_.push("points")),h("fill",y?y.fillDflt:"none"),"none"!==c.fill&&(l(d,c,x,h),b.hasLines(c)||r(d,c,h),u(h,"fillpattern",c.fillcolor,!1));var f=(c.line||{}).color,S=(c.marker||{}).color;"tonext"!==c.fill&&"toself"!==c.fill||_.push("fills"),h("hoveron",_.join("+")||"points"),"fills"!==c.hoveron&&h("hovertemplate");var w=k.getComponentMethod("errorbars","supplyDefaults");w(d,c,f||S||x,{axis:"y"}),w(d,c,f||S||x,{axis:"x",inherit:"y"}),M.coerceSelectionMarkerOpacity(c,h)}}},28908:function(ee,D,e){"use strict";var M=e(7901),k=e(71828).isArrayOrTypedArray;ee.exports=function(a,T,b,p){var s=!1;if(T.marker){var t=T.marker.color,i=(T.marker.line||{}).color;t&&!k(t)?s=t:i&&!k(i)&&(s=i)}p("fillcolor",M.addOpacity((T.line||{}).color||s||b,.5))}},8225:function(ee,D,e){"use strict";var M=e(89298);ee.exports=function(k,a,T){var b={},p={_fullLayout:T},s=M.getFromTrace(p,a,"x"),t=M.getFromTrace(p,a,"y"),i=k.orig_x;void 0===i&&(i=k.x);var n=k.orig_y;return void 0===n&&(n=k.y),b.xLabel=M.tickText(s,s.c2l(i),!0).text,b.yLabel=M.tickText(t,t.c2l(n),!0).text,b}},34603:function(ee,D,e){"use strict";var M=e(7901),k=e(34098);ee.exports=function(a,T){var b,p;if("lines"===a.mode)return(b=a.line.color)&&M.opacity(b)?b:a.fillcolor;if("none"===a.mode)return a.fill?a.fillcolor:"";var s=T.mcc||(a.marker||{}).color,t=T.mlcc||((a.marker||{}).line||{}).color;return(p=s&&M.opacity(s)?s:t&&M.opacity(t)&&(T.mlw||((a.marker||{}).line||{}).width)?t:"")?M.opacity(p)<.3?M.addOpacity(p,.3):p:(b=(a.line||{}).color)&&M.opacity(b)&&k.hasLines(a)&&a.line.width?b:a.fillcolor}},26125:function(ee,D,e){"use strict";var M=e(99082).getAxisGroup;ee.exports=function(k,a,T,b){var p=a.orientation,s=a[{v:"x",h:"y"}[p]+"axis"],t=M(T,s)+p,i=T._alignmentOpts||{},n=b("alignmentgroup"),r=i[t];r||(r=i[t]={});var o=r[n];o?o.traces.push(a):o=r[n]={traces:[a],alignmentIndex:Object.keys(r).length,offsetGroups:{}};var l=b("offsetgroup"),u=o.offsetGroups,d=u[l];l&&(d||(d=u[l]={offsetIndex:Object.keys(u).length}),a._offsetIndex=d.offsetIndex)}},33720:function(ee,D,e){"use strict";var M=e(71828),k=e(30211),a=e(73972),T=e(34603),b=e(7901),p=M.fillText;ee.exports=function(s,t,i,n){var r=s.cd,o=r[0].trace,l=s.xa,u=s.ya,d=l.c2p(t),c=u.c2p(i),x=[d,c],g=o.hoveron||"",h=-1!==o.mode.indexOf("markers")?3:.5,m=!!o.xperiodalignment,y=!!o.yperiodalignment;if(-1!==g.indexOf("points")){var v=function(be){var de=Math.max(h,be.mrc||0),pe=l.c2p(be.x)-d,ge=u.c2p(be.y)-c;return Math.max(Math.sqrt(pe*pe+ge*ge)-de,1-h/de)},_=k.getDistanceFunction(n,function(be){if(m){var de=l.c2p(be.xStart),pe=l.c2p(be.xEnd);return d>=Math.min(de,pe)&&d<=Math.max(de,pe)?0:1/0}var ge=Math.max(3,be.mrc||0),Ae=1-1/ge,ye=Math.abs(l.c2p(be.x)-d);return ye<ge?Ae*ye/ge:ye-ge+Ae},function(be){if(y){var de=u.c2p(be.yStart),pe=u.c2p(be.yEnd);return c>=Math.min(de,pe)&&c<=Math.max(de,pe)?0:1/0}var ge=Math.max(3,be.mrc||0),Ae=1-1/ge,ye=Math.abs(u.c2p(be.y)-c);return ye<ge?Ae*ye/ge:ye-ge+Ae},v);if(k.getClosest(r,_,s),!1!==s.index){var f=r[s.index],S=l.c2p(f.x,!0),w=u.c2p(f.y,!0),E=f.mrc||1;s.index=f.i;var C=r[0].t.orientation,O=C&&(f.sNorm||f.s),P="h"===C?O:void 0!==f.orig_x?f.orig_x:f.x,R="v"===C?O:void 0!==f.orig_y?f.orig_y:f.y;return M.extendFlat(s,{color:T(o,f),x0:S-E,x1:S+E,xLabelVal:P,y0:w-E,y1:w+E,yLabelVal:R,spikeDistance:v(f),hovertemplate:o.hovertemplate}),p(f,o,s),a.getComponentMethod("errorbars","hoverInfo")(f,o,s),[s]}}if(-1!==g.indexOf("fills")&&o._polygons){var j,z,N,Y,F,U,V,te,$,X=o._polygons,W=[],J=!1,Q=1/0,re=-1/0,ae=1/0,oe=-1/0;for(j=0;j<X.length;j++)(N=X[j]).contains(x)&&(J=!J,W.push(N),ae=Math.min(ae,N.ymin),oe=Math.max(oe,N.ymax));if(J){var ue=((ae=Math.max(ae,0))+(oe=Math.min(oe,u._length)))/2;for(j=0;j<W.length;j++)for(Y=W[j].pts,z=1;z<Y.length;z++)(te=Y[z-1][1])>ue!=($=Y[z][1])>=ue&&(U=Y[z-1][0],V=Y[z][0],$-te&&(F=U+(V-U)*(ue-te)/($-te),Q=Math.min(Q,F),re=Math.max(re,F)));Q=Math.max(Q,0),re=Math.min(re,l._length);var ve=b.defaultLine;return b.opacity(o.fillcolor)?ve=o.fillcolor:b.opacity((o.line||{}).color)&&(ve=o.line.color),M.extendFlat(s,{distance:s.maxHoverDistance,x0:Q,x1:re,y0:ue,y1:ue,color:ve,hovertemplate:!1}),delete s.index,o.text&&!M.isArrayOrTypedArray(o.text)?s.text=String(o.text):s.text=o.name,[s]}}}},67368:function(ee,D,e){"use strict";var M=e(34098);ee.exports={hasLines:M.hasLines,hasMarkers:M.hasMarkers,hasText:M.hasText,isBubble:M.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(ee){"use strict";ee.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(ee,D,e){"use strict";var M=e(71828),k=e(21479);ee.exports=function(a,T){var b,p="group"===T.barmode;"group"===T.scattermode&&(b=p?T.bargap:.2,M.coerce(a,T,k,"scattergap",b))}},11058:function(ee,D,e){"use strict";var M=e(71828).isArrayOrTypedArray,k=e(52075).hasColorscale,a=e(1586);ee.exports=function(T,b,p,s,t,i){i||(i={});var n=(T.marker||{}).color;n&&n._inputArray&&(n=n._inputArray),t("line.color",p),k(T,"line")?a(T,b,s,t,{prefix:"line.",cLetter:"c"}):t("line.color",!M(n)&&n||p),t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},34621:function(ee,D,e){"use strict";var M=e(91424),k=e(50606),a=k.BADNUM,T=k.LOG_CLIP,b=T+.5,p=T-.5,s=e(71828),t=s.segmentsIntersect,i=s.constrain,n=e(47581);ee.exports=function(r,o){var l,u,d,c,x,g,h,m,y,v,_,f,S,w,E,C,O,P,R=o.trace||{},j=o.xaxis,z=o.yaxis,N="log"===j.type,Y="log"===z.type,F=j._length,U=z._length,V=o.backoff,te=R.marker,$=o.connectGaps,X=o.baseTolerance,W=o.shape,J="linear"===W,Q=R.fill&&"none"!==R.fill,re=[],ae=n.minTolerance,oe=r.length,ue=new Array(oe),ve=0;function be(St){var qe=r[St];if(!qe)return!1;var Ze=o.linearized?j.l2p(qe.x):j.c2p(qe.x),Ne=o.linearized?z.l2p(qe.y):z.c2p(qe.y);if(Ze===a){if(N&&(Ze=j.c2p(qe.x,!0)),Ze===a)return!1;Y&&Ne===a&&(Ze*=Math.abs(j._m*U*(j._m>0?b:p)/(z._m*F*(z._m>0?b:p)))),Ze*=1e3}if(Ne===a){if(Y&&(Ne=z.c2p(qe.y,!0)),Ne===a)return!1;Ne*=1e3}return[Ze,Ne]}function de(St,qe,Ze,Ne){var Ge=Ze-St,rt=Ne-qe,tt=.5-St,Re=.5-qe,Fe=Ge*Ge+rt*rt,et=Ge*tt+rt*Re;if(et>0&&et<Fe){var We=tt*rt-Re*Ge;if(We*We<Fe)return!0}}function pe(St,qe){var Ze=St[0]/F,Ne=St[1]/U,Ge=Math.max(0,-Ze,Ze-1,-Ne,Ne-1);return Ge&&void 0!==O&&de(Ze,Ne,O,P)&&(Ge=0),Ge&&qe&&de(Ze,Ne,qe[0]/F,qe[1]/U)&&(Ge=0),(1+n.toleranceGrowth*Ge)*X}function ge(St,qe){var Ze=St[0]-qe[0],Ne=St[1]-qe[1];return Math.sqrt(Ze*Ze+Ne*Ne)}var Ae,ye,we,se,ie,he,Se,_e=n.maxScreensAway,Me=-F*_e,Ee=F*(1+_e),Ie=-U*_e,fe=U*(1+_e),xe=[[Me,Ie,Ee,Ie],[Ee,Ie,Ee,fe],[Ee,fe,Me,fe],[Me,fe,Me,Ie]];function Te(St){if(St[0]<Me||St[0]>Ee||St[1]<Ie||St[1]>fe)return[i(St[0],Me,Ee),i(St[1],Ie,fe)]}function Ce(St,qe){return St[0]===qe[0]&&(St[0]===Me||St[0]===Ee)||St[1]===qe[1]&&(St[1]===Ie||St[1]===fe)||void 0}function De(St,qe,Ze){return function(Ne,Ge){var rt=Te(Ne),tt=Te(Ge),Re=[];if(rt&&tt&&Ce(rt,tt))return Re;rt&&Re.push(rt),tt&&Re.push(tt);var Fe=2*s.constrain((Ne[St]+Ge[St])/2,qe,Ze)-((rt||Ne)[St]+(tt||Ge)[St]);return Fe&&((rt&&tt?Fe>0==rt[St]>tt[St]?rt:tt:rt||tt)[St]+=Fe),Re}}function ze(St){var qe=St[0],Ze=St[1],Ne=qe===ue[ve-1][0],Ge=Ze===ue[ve-1][1];if(!Ne||!Ge)if(ve>1){var rt=qe===ue[ve-2][0],tt=Ze===ue[ve-2][1];Ne&&(qe===Me||qe===Ee)&&rt?tt?ve--:ue[ve-1]=St:Ge&&(Ze===Ie||Ze===fe)&&tt?rt?ve--:ue[ve-1]=St:ue[ve++]=St}else ue[ve++]=St}function Ue(St){ue[ve-1][0]!==St[0]&&ue[ve-1][1]!==St[1]&&ze([we,se]),ze(St),ie=null,we=se=0}"linear"===W||"spline"===W?Se=function(St,qe){for(var Ze=[],Ne=0,Ge=0;Ge<4;Ge++){var rt=xe[Ge],tt=t(St[0],St[1],qe[0],qe[1],rt[0],rt[1],rt[2],rt[3]);tt&&(!Ne||Math.abs(tt.x-Ze[0][0])>1||Math.abs(tt.y-Ze[0][1])>1)&&(tt=[tt.x,tt.y],Ne&&ge(tt,St)<ge(Ze[0],St)?Ze.unshift(tt):Ze.push(tt),Ne++)}return Ze}:"hv"===W||"vh"===W?Se=function(St,qe){var Ze=[],Ne=Te(St),Ge=Te(qe);return Ne&&Ge&&Ce(Ne,Ge)||(Ne&&Ze.push(Ne),Ge&&Ze.push(Ge)),Ze}:"hvh"===W?Se=De(0,Me,Ee):"vhv"===W&&(Se=De(1,Ie,fe));var Ve=s.isArrayOrTypedArray(te);function Xe(St){if(St&&V&&(St.i=l,St.d=r,St.trace=R,St.marker=Ve?te[St.i]:te,St.backoff=V),O=St[0]/F,P=St[1]/U,Ae=St[0]<Me?Me:St[0]>Ee?Ee:0,ye=St[1]<Ie?Ie:St[1]>fe?fe:0,Ae||ye){if(ve)if(ie){var qe=Se(ie,St);qe.length>1&&(Ue(qe[0]),ue[ve++]=qe[1])}else he=Se(ue[ve-1],St)[0],ue[ve++]=he;else ue[ve++]=[Ae||St[0],ye||St[1]];var Ze=ue[ve-1];Ae&&ye&&(Ze[0]!==Ae||Ze[1]!==ye)?(ie&&(we!==Ae&&se!==ye?ze(we&&se?(Ne=ie,rt=(Ge=St)[0]-Ne[0],tt=(Ge[1]-Ne[1])/rt,(Ne[1]*Ge[0]-Ge[1]*Ne[0])/rt>0?[tt>0?Me:Ee,fe]:[tt>0?Ee:Me,Ie]):[we||Ae,se||ye]):we&&se&&ze([we,se])),ze([Ae,ye])):we-Ae&&se-ye&&ze([Ae||we,ye||se]),ie=St,we=Ae,se=ye}else ie&&Ue(Se(ie,St)[0]),ue[ve++]=St;var Ne,Ge,rt,tt}for(l=0;l<oe;l++)if(u=be(l)){for(ve=0,ie=null,Xe(u),l++;l<oe;l++){if(!(c=be(l))){if($)continue;break}if(J&&o.simplify){var at=be(l+1);if(v=ge(c,u),Q&&(0===ve||ve===oe-1)||!(v<pe(c,at)*ae)){for(m=[(c[0]-u[0])/v,(c[1]-u[1])/v],x=u,_=v,f=w=E=0,h=!1,d=c,l++;l<r.length;l++){if(g=at,at=be(l+1),!g){if($)continue;break}if(C=(y=[g[0]-u[0],g[1]-u[1]])[0]*m[1]-y[1]*m[0],w=Math.min(w,C),(E=Math.max(E,C))-w>pe(g,at))break;d=g,(S=y[0]*m[0]+y[1]*m[1])>_?(_=S,c=g,h=!1):S<f&&(f=S,x=g,h=!0)}if(h?(Xe(c),d!==x&&Xe(x)):(x!==u&&Xe(x),d!==c&&Xe(c)),Xe(d),l>=r.length||!g)break;Xe(g),u=g}}else Xe(c)}ie&&ze([we||ie[0],se||ie[1]]),re.push(ue.slice(0,ve))}var st=W.slice(W.length-1);if(V&&"h"!==st&&"v"!==st){for(var ht=!1,bt=-1,vt=[],Qe=0;Qe<re.length;Qe++)for(var nt=0;nt<re[Qe].length-1;nt++){var wt=re[Qe][nt],Ot=re[Qe][nt+1],Pt=M.applyBackoff(Ot,wt);Pt[0]===Ot[0]&&Pt[1]===Ot[1]||(ht=!0),vt[bt+1]||(vt[++bt]=[wt,[Pt[0],Pt[1]]])}return ht?vt:re}return re}},94039:function(ee){"use strict";ee.exports=function(D,e,M){"spline"===M("line.shape")&&M("line.smoothing")}},68687:function(ee){"use strict";var D={tonextx:1,tonexty:1,tonext:1};ee.exports=function(e,M,k){var a,T,b,p,s,t={},i=!1,n=-1,r=0,o=-1;for(T=0;T<k.length;T++)(b=(a=k[T][0].trace).stackgroup||"")?b in t?s=t[b]:(s=t[b]=r,r++):a.fill in D&&o>=0?s=o:(s=o=r,r++),s<n&&(i=!0),a._groupIndex=n=s;var l=k.slice();i&&l.sort(function(d,c){var x=d[0].trace,g=c[0].trace;return x._groupIndex-g._groupIndex||x.index-g.index});var u={};for(T=0;T<l.length;T++)b=(a=l[T][0].trace).stackgroup||"",!0===a.visible?(a._nexttrace=null,a.fill in D&&(p=u[b],a._prevtrace=p||null,p&&(p._nexttrace=a)),a._ownfill=a.fill&&("tozero"===a.fill.substr(0,6)||"toself"===a.fill||"to"===a.fill.substr(0,2)&&!a._prevtrace),u[b]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return l}},39984:function(ee,D,e){"use strict";var M=e(92770);ee.exports=function(k,a){a||(a=2);var T=k.marker,b=T.sizeref||1,p=T.sizemin||0,s="area"===T.sizemode?function(t){return Math.sqrt(t/b)}:function(t){return t/b};return function(t){var i=s(t/a);return M(i)&&i>0?Math.max(i,p):0}}},4898:function(ee){"use strict";ee.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(ee,D,e){"use strict";var M=e(7901),k=e(52075).hasColorscale,a=e(1586),T=e(34098);ee.exports=function(b,p,s,t,i,n){var r=T.isBubble(b),o=(b.line||{}).color;n=n||{},o&&(s=o),i("marker.symbol"),i("marker.opacity",r?.7:1),i("marker.size"),n.noAngle||(i("marker.angle"),n.noAngleRef||i("marker.angleref"),n.noStandOff||i("marker.standoff")),i("marker.color",s),k(b,"marker")&&a(b,p,t,i,{prefix:"marker.",cLetter:"c"}),n.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),n.noLine||(i("marker.line.color",o&&!Array.isArray(o)&&p.marker.color!==o?o:r?M.background:M.defaultLine),k(b,"marker.line")&&a(b,p,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",r?1:0)),r&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),n.gradient&&"none"!==i("marker.gradient.type")&&i("marker.gradient.color")}},73927:function(ee,D,e){"use strict";var M=e(71828).dateTick0,k=e(50606).ONEWEEK;function a(T,b){return M(b,T%k==0?1:0)}ee.exports=function(T,b,p,s,t){if(t||(t={x:!0,y:!0}),t.x){var i=s("xperiod");i&&(s("xperiod0",a(i,b.xcalendar)),s("xperiodalignment"))}if(t.y){var n=s("yperiod");n&&(s("yperiod0",a(n,b.ycalendar)),s("yperiodalignment"))}}},32663:function(ee,D,e){"use strict";var M=e(39898),k=e(73972),a=e(71828),T=a.ensureSingle,b=a.identity,p=e(91424),s=e(34098),t=e(34621),i=e(68687),n=e(61082).tester;function r(o,l,u,d,c,x,g){var h,m=o._context.staticPlot;!function(Se,_e,Me,Ee,Ie){var fe=Me.xaxis,xe=Me.yaxis,Te=M.extent(a.simpleMap(fe.range,fe.r2c)),Ce=M.extent(a.simpleMap(xe.range,xe.r2c)),De=Ee[0].trace;if(s.hasMarkers(De)){var ze=De.marker.maxdisplayed;if(0!==ze){var Ue=Ee.filter(function(st){return st.x>=Te[0]&&st.x<=Te[1]&&st.y>=Ce[0]&&st.y<=Ce[1]}),Ve=Math.ceil(Ue.length/ze),Xe=0;Ie.forEach(function(st,ht){var bt=st[0].trace;s.hasMarkers(bt)&&bt.marker.maxdisplayed>0&&ht<_e&&Xe++});var at=Math.round(Xe*Ve/3+Math.floor(Xe/3)*Ve/7.1);Ee.forEach(function(st){delete st.vis}),Ue.forEach(function(st,ht){0===Math.round((ht+at)%Ve)&&(st.vis=!0)})}}}(0,l,u,d,c);var y=!!g&&g.duration>0;function v(Se){return y?Se.transition():Se}var _=u.xaxis,f=u.yaxis,S=d[0].trace,w=S.line,E=M.select(x),C=T(E,"g","errorbars"),O=T(E,"g","lines"),P=T(E,"g","points"),R=T(E,"g","text");if(k.getComponentMethod("errorbars","plot")(o,C,u,g),!0===S.visible){var j,z;v(E).style("opacity",S.opacity);var N=S.fill.charAt(S.fill.length-1);"x"!==N&&"y"!==N&&(N=""),d[0][u.isRangePlot?"nodeRangePlot3":"node3"]=E;var Y,F,U="",V=[],te=S._prevtrace;te&&(U=te._prevRevpath||"",z=te._nextFill,V=te._polygons);var $,X,W,J,Q,re,ae,oe="",ue="",ve=[],be=a.noop;if(j=S._ownFill,s.hasLines(S)||"none"!==S.fill){for(z&&z.datum(d),-1!==["hv","vh","hvh","vhv"].indexOf(w.shape)?($=p.steps(w.shape),X=p.steps(w.shape.split("").reverse().join(""))):$=X="spline"===w.shape?function(Se){var _e=Se[Se.length-1];return Se.length>1&&Se[0][0]===_e[0]&&Se[0][1]===_e[1]?p.smoothclosed(Se.slice(1),w.smoothing):p.smoothopen(Se,w.smoothing)}:function(Se){return"M"+Se.join("L")},W=function(Se){return X(Se.reverse())},ve=t(d,{xaxis:_,yaxis:f,trace:S,connectGaps:S.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,backoff:w.backoff,simplify:w.simplify,fill:S.fill}),ae=S._polygons=new Array(ve.length),h=0;h<ve.length;h++)S._polygons[h]=n(ve[h]);ve.length&&(J=ve[0][0],re=(Q=ve[ve.length-1])[Q.length-1]),be=function(Se){return function(_e){if(Y=$(_e),F=W(_e),oe?N?(oe+="L"+Y.substr(1),ue=F+"L"+ue.substr(1)):(oe+="Z"+Y,ue=F+"Z"+ue):(oe=Y,ue=F),s.hasLines(S)){var Me=M.select(this);if(Me.datum(d),Se)v(Me.style("opacity",0).attr("d",Y).call(p.lineGroupStyle)).style("opacity",1);else{var Ee=v(Me);Ee.attr("d",Y),p.singleLineStyle(d,Ee)}}}}}var de=O.selectAll(".js-line").data(ve);v(de.exit()).style("opacity",0).remove(),de.each(be(!1)),de.enter().append("path").classed("js-line",!0).style("vector-effect",m?"none":"non-scaling-stroke").call(p.lineGroupStyle).each(be(!0)),p.setClipUrl(de,u.layerClipId,o),ve.length?(j?(j.datum(d),J&&re&&(N?("y"===N?J[1]=re[1]=f.c2p(0,!0):"x"===N&&(J[0]=re[0]=_.c2p(0,!0)),v(j).attr("d","M"+re+"L"+J+"L"+oe.substr(1)).call(p.singleFillStyle,o)):v(j).attr("d",oe+"Z").call(p.singleFillStyle,o))):z&&("tonext"===S.fill.substr(0,6)&&oe&&U?("tonext"===S.fill?v(z).attr("d",oe+"Z"+U+"Z").call(p.singleFillStyle,o):v(z).attr("d",oe+"L"+U.substr(1)+"Z").call(p.singleFillStyle,o),S._polygons=S._polygons.concat(V)):(ge(z),S._polygons=null)),S._prevRevpath=ue,S._prevPolygons=ae):(j?ge(j):z&&ge(z),S._polygons=S._prevRevpath=S._prevPolygons=null),P.datum(d),R.datum(d),function(Se,_e,Me){var Ee,Ie=Me[0].trace,fe=s.hasMarkers(Ie),xe=s.hasText(Ie),Te=ie(Ie),Ce=he,De=he;if(fe||xe){var ze=b,Ue=Ie.stackgroup,Ve=Ue&&"infer zero"===o._fullLayout._scatterStackOpts[_._id+f._id][Ue].stackgaps;Ie.marker.maxdisplayed||Ie._needsCull?ze=Ve?ye:Ae:Ue&&!Ve&&(ze=we),fe&&(Ce=ze),xe&&(De=ze)}var Xe,at=(Ee=Se.selectAll("path.point").data(Ce,Te)).enter().append("path").classed("point",!0);y&&at.call(p.pointStyle,Ie,o).call(p.translatePoints,_,f).style("opacity",0).transition().style("opacity",1),Ee.order(),fe&&(Xe=p.makePointStyleFns(Ie)),Ee.each(function(st){var ht=M.select(this),bt=v(ht);p.translatePoint(st,bt,_,f)?(p.singlePointStyle(st,bt,Ie,Xe,o),u.layerClipId&&p.hideOutsideRangePoint(st,bt,_,f,Ie.xcalendar,Ie.ycalendar),Ie.customdata&&ht.classed("plotly-customdata",null!==st.data&&void 0!==st.data)):bt.remove()}),y?Ee.exit().transition().style("opacity",0).remove():Ee.exit().remove(),(Ee=_e.selectAll("g").data(De,Te)).enter().append("g").classed("textpoint",!0).append("text"),Ee.order(),Ee.each(function(st){var ht=M.select(this),bt=v(ht.select("text"));p.translatePoint(st,bt,_,f)?u.layerClipId&&p.hideOutsideRangePoint(st,ht,_,f,Ie.xcalendar,Ie.ycalendar):ht.remove()}),Ee.selectAll("text").call(p.textPointStyle,Ie,o).each(function(st){var ht=_.c2p(st.x),bt=f.c2p(st.y);M.select(this).selectAll("tspan.line").each(function(){v(M.select(this)).attr({x:ht,y:bt})})}),Ee.exit().remove()}(P,R,d);var pe=!1===S.cliponaxis?null:u.layerClipId;p.setClipUrl(P,pe,o),p.setClipUrl(R,pe,o)}function ge(Se){v(Se).attr("d","M0,0Z")}function Ae(Se){return Se.filter(function(_e){return!_e.gap&&_e.vis})}function ye(Se){return Se.filter(function(_e){return _e.vis})}function we(Se){return Se.filter(function(_e){return!_e.gap})}function se(Se){return Se.id}function ie(Se){if(Se.ids)return se}function he(){return!1}}ee.exports=function(o,l,u,d,c,x){var g,h,_,S,m=!c,y=!!c&&c.duration>0,v=i(o,l,u);(g=d.selectAll("g.trace").data(v,function(_){return _[0].trace.uid})).enter().append("g").attr("class",function(_){return"trace scatter trace"+_[0].trace.uid}).style("stroke-miterlimit",2),g.order(),_=o,S=l,g.each(function(w){var E=T(M.select(this),"g","fills");p.setClipUrl(E,S.layerClipId,_);var C=w[0].trace,O=[];C._ownfill&&O.push("_ownFill"),C._nexttrace&&O.push("_nextFill");var P=E.selectAll("g").data(O,b);P.enter().append("g"),P.exit().each(function(R){C[R]=null}).remove(),P.order().each(function(R){C[R]=T(M.select(this),"path","js-fill")})}),y?(x&&(h=x()),M.transition().duration(c.duration).ease(c.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()}).each(function(){d.selectAll("g.trace").each(function(_,f){r(o,f,l,_,v,this,c)})})):g.each(function(_,f){r(o,f,l,_,v,this,c)}),m&&g.exit().remove(),d.selectAll("path:not([d])").remove()}},98002:function(ee,D,e){"use strict";var M=e(34098);ee.exports=function(k,a){var T,b,p,s,t=k.cd,i=k.xaxis,n=k.yaxis,r=[],o=t[0].trace;if(!M.hasMarkers(o)&&!M.hasText(o))return[];if(!1===a)for(T=0;T<t.length;T++)t[T].selected=0;else for(T=0;T<t.length;T++)b=t[T],p=i.c2p(b.x),s=n.c2p(b.y),null!==b.i&&a.contains([p,s],!1,T,k)?(r.push({pointNumber:b.i,x:i.c2d(b.x),y:n.c2d(b.y)}),b.selected=1):b.selected=0;return r}},565:function(ee){"use strict";var D=["orientation","groupnorm","stackgaps"];ee.exports=function(e,M,k,a){var T=k._scatterStackOpts,b=a("stackgroup");if(b){var p=M.xaxis+M.yaxis,s=T[p];s||(s=T[p]={});var t=s[b],i=!1;t?t.traces.push(M):(t=s[b]={traceIndices:[],traces:[M]},i=!0);for(var n={orientation:M.x&&!M.y?"h":"v"},r=0;r<D.length;r++){var o=D[r],l=o+"Found";if(!t[l]){var u=void 0!==e[o],d="orientation"===o;if((u||i)&&(t[o]=a(o,n[o]),d&&(t.fillDflt="h"===t[o]?"tonextx":"tonexty"),u&&(t[l]=!0,!i&&(delete t.traces[0][o],d))))for(var c=0;c<t.traces.length-1;c++){var x=t.traces[c];x._input.fill!==x.fill&&(x.fill=t.fillDflt)}}}return t}}},16296:function(ee,D,e){"use strict";var M=e(39898),k=e(91424),a=e(73972);function T(p,s,t){k.pointStyle(p.selectAll("path.point"),s,t)}function b(p,s,t){k.textPointStyle(p.selectAll("text"),s,t)}ee.exports={style:function(p){var s=M.select(p).selectAll("g.trace.scatter");s.style("opacity",function(t){return t[0].trace.opacity}),s.selectAll("g.points").each(function(t){T(M.select(this),t.trace||t[0].trace,p)}),s.selectAll("g.text").each(function(t){b(M.select(this),t.trace||t[0].trace,p)}),s.selectAll("g.trace path.js-line").call(k.lineGroupStyle),s.selectAll("g.trace path.js-fill").call(k.fillGroupStyle,p),a.getComponentMethod("errorbars","style")(s)},stylePoints:T,styleText:b,styleOnSelect:function(p,s,t){var i=s[0].trace;i.selectedpoints?(k.selectedPointStyle(t.selectAll("path.point"),i),k.selectedTextStyle(t.selectAll("text"),i)):(T(t,i,p),b(t,i,p))}}},34098:function(ee,D,e){"use strict";var M=e(71828),k=e(73627).isTypedArraySpec;ee.exports={hasLines:function(a){return a.visible&&a.mode&&-1!==a.mode.indexOf("lines")},hasMarkers:function(a){return a.visible&&(a.mode&&-1!==a.mode.indexOf("markers")||"splom"===a.type)},hasText:function(a){return a.visible&&a.mode&&-1!==a.mode.indexOf("text")},isBubble:function(a){var T=a.marker;return M.isPlainObject(T)&&(M.isArrayOrTypedArray(T.size)||k(T.size))}}},82410:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k,a,T,b,p){p=p||{},b("textposition"),M.coerceFont(b,"textfont",p.font||T.font),p.noSelect||(b("selected.textfont.color"),b("unselected.textfont.color"))}},67513:function(ee,D,e){"use strict";var M=e(71828),k=e(73972);ee.exports=function(a,T,b,p){var s,t=p("x"),i=p("y");if(k.getComponentMethod("calendars","handleTraceDefaults")(a,T,["x","y"],b),t){var n=M.minRowLength(t);i?s=Math.min(n,M.minRowLength(i)):(s=n,p("y0"),p("dy"))}else{if(!i)return 0;s=M.minRowLength(i),p("x0"),p("dx")}return T._length=s,s}},44542:function(ee,D,e){"use strict";var M=e(82196),k=e(50693),a=e(12663).axisHoverFormat,T=e(5386).fF,b=e(5386).si,p=e(9012),s=e(29659),t=e(87381),i=e(1426).extendFlat,n=e(30962).overrideAll,r=e(78607),o=M.line,l=M.marker,u=l.line,d=i({width:o.width,dash:{valType:"enumerated",values:r(s),dflt:"solid"}},k("line")),c=ee.exports=n({x:M.x,y:M.y,z:{valType:"data_array"},text:i({},M.text,{}),texttemplate:b({},{}),hovertext:i({},M.hovertext,{}),hovertemplate:T(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:i({},M.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:M.connectgaps,line:d,marker:i({symbol:{valType:"enumerated",values:r(t),dflt:"circle",arrayOk:!0},size:i({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:i({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:i({width:i({},u.width,{arrayOk:!1})},k("marker.line"))},k("marker")),textposition:i({},M.textposition,{dflt:"top center"}),textfont:{color:M.textfont.color,size:M.textfont.size,family:i({},M.textfont.family,{arrayOk:!1})},opacity:p.opacity,hoverinfo:i({},p.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},36563:function(ee,D,e){"use strict";var M=e(75225),k=e(36922);ee.exports=function(a,T){var b=[{x:!1,y:!1,trace:T,t:{}}];return M(b,T),k(a,T),b}},67336:function(ee,D,e){"use strict";var M=e(73972);function k(a,T,b,p){if(!T||!T.visible)return null;for(var s=M.getComponentMethod("errorbars","makeComputeError")(T),t=new Array(a.length),i=0;i<a.length;i++){var n=s(+a[i],i);if("log"===p.type){var r=p.c2l(a[i]),o=a[i]-n[0],l=a[i]+n[1];if(t[i]=[(p.c2l(o,!0)-r)*b,(p.c2l(l,!0)-r)*b],o>0){var u=p.c2l(o);p._lowerLogErrorBound||(p._lowerLogErrorBound=u),p._lowerErrorBound=Math.min(p._lowerLogErrorBound,u)}}else t[i]=[-n[0]*b,n[1]*b]}return t}ee.exports=function(a,T,b){var p=[k(a.x,a.error_x,T[0],b.xaxis),k(a.y,a.error_y,T[1],b.yaxis),k(a.z,a.error_z,T[2],b.zaxis)],s=function(l){for(var u=0;u<l.length;u++)if(l[u])return l[u].length;return 0}(p);if(0===s)return null;for(var t=new Array(s),i=0;i<s;i++){for(var n=[[0,0,0],[0,0,0]],r=0;r<3;r++)if(p[r])for(var o=0;o<2;o++)n[o][r]=p[r][i][o];t[i]=n}return t}},58925:function(ee,D,e){"use strict";var M=e(9330).gl_line3d,k=e(9330).gl_scatter3d,a=e(9330).gl_error3d,T=e(9330).gl_mesh3d,b=e(9330).delaunay_triangulate,p=e(71828),s=e(78614),t=e(81697).formatColor,i=e(39984),n=e(29659),r=e(87381),o=e(89298),l=e(23469).appendArrayPointValue,u=e(67336);function d(f,S){this.scene=f,this.uid=S,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=d.prototype;function x(f){return null==f?0:f.indexOf("left")>-1?-1:f.indexOf("right")>-1?1:0}function g(f){return null==f?0:f.indexOf("top")>-1?-1:f.indexOf("bottom")>-1?1:0}function h(f,S){return S(4*f)}function m(f){return r[f]}function y(f,S,w,E,C){var O=null;if(p.isArrayOrTypedArray(f)){O=[];for(var P=0;P<S;P++)void 0===f[P]?O[P]=E:O[P]=w(f[P],C)}else O=w(f,p.identity);return O}function v(f){if(p.isArrayOrTypedArray(f)){var S=f[0];return p.isArrayOrTypedArray(S)&&(f=S),"rgb("+f.slice(0,3).map(function(w){return Math.round(255*w)})+")"}return null}function _(f){return p.isArrayOrTypedArray(f)?4===f.length&&"number"==typeof f[0]?v(f):f.map(v):null}c.handlePick=function(f){if(f.object&&(f.object===this.linePlot||f.object===this.delaunayMesh||f.object===this.textMarkers||f.object===this.scatterPlot)){var S=f.index=f.data.index;return f.object.highlight&&f.object.highlight(null),this.scatterPlot&&(f.object=this.scatterPlot,this.scatterPlot.highlight(f.data)),f.textLabel="",this.textLabels&&(p.isArrayOrTypedArray(this.textLabels)?(this.textLabels[S]||0===this.textLabels[S])&&(f.textLabel=this.textLabels[S]):f.textLabel=this.textLabels),f.traceCoordinate=[this.data.x[S],this.data.y[S],this.data.z[S]],!0}},c.update=function(f){var S,w,E,C,O=this.scene.glplot.gl,P=n.solid;this.data=f;var R=function(N,Y){var F,U,V,te,$,X,W=[],J=N.fullSceneLayout,Q=N.dataScale,re=J.xaxis,ae=J.yaxis,oe=J.zaxis,ue=Y.marker,ve=Y.line,be=Y.x||[],de=Y.y||[],pe=Y.z||[],ge=be.length,Ae=Y.xcalendar,ye=Y.ycalendar,we=Y.zcalendar;for($=0;$<ge;$++)F=re.d2l(be[$],0,Ae)*Q[0],U=ae.d2l(de[$],0,ye)*Q[1],V=oe.d2l(pe[$],0,we)*Q[2],W[$]=[F,U,V];if(Array.isArray(Y.text))X=Y.text;else if(p.isTypedArray(Y.text))X=Array.from(Y.text);else if(void 0!==Y.text)for(X=new Array(ge),$=0;$<ge;$++)X[$]=Y.text;function se(Ue,Ve){var Xe=J[Ue];return o.tickText(Xe,Xe.d2l(Ve),!0).text}var ie=Y.texttemplate;if(ie){var he=N.fullLayout._d3locale,Se=Array.isArray(ie),_e=Se?Math.min(ie.length,ge):ge,Me=Se?function(Ue){return ie[Ue]}:function(){return ie};for(X=new Array(_e),$=0;$<_e;$++){var Ee={x:be[$],y:de[$],z:pe[$]},Ie={xLabel:se("xaxis",be[$]),yLabel:se("yaxis",de[$]),zLabel:se("zaxis",pe[$])},fe={};l(fe,Y,$);var xe=Y._meta||{};X[$]=p.texttemplateString(Me($),Ie,he,fe,Ee,xe)}}if(te={position:W,mode:Y.mode,text:X},"line"in Y&&(te.lineColor=t(ve,1,ge),te.lineWidth=ve.width,te.lineDashes=ve.dash),"marker"in Y){var Te=i(Y);te.scatterColor=t(ue,1,ge),te.scatterSize=y(ue.size,ge,h,20,Te),te.scatterMarker=y(ue.symbol,ge,m,"\u25cf"),te.scatterLineWidth=ue.line.width,te.scatterLineColor=t(ue.line,1,ge),te.scatterAngle=0}"textposition"in Y&&(te.textOffset=function(Ue){var Ve=[0,0];if(Array.isArray(Ue))for(var Xe=0;Xe<Ue.length;Xe++)Ve[Xe]=[0,0],Ue[Xe]&&(Ve[Xe][0]=x(Ue[Xe]),Ve[Xe][1]=g(Ue[Xe]));else Ve[0]=x(Ue),Ve[1]=g(Ue);return Ve}(Y.textposition),te.textColor=t(Y.textfont,1,ge),te.textSize=y(Y.textfont.size,ge,p.identity,12),te.textFont=Y.textfont.family,te.textAngle=0);var Ce=["x","y","z"];for(te.project=[!1,!1,!1],te.projectScale=[1,1,1],te.projectOpacity=[1,1,1],$=0;$<3;++$){var De=Y.projection[Ce[$]];(te.project[$]=De.show)&&(te.projectOpacity[$]=De.opacity,te.projectScale[$]=De.scale)}te.errorBounds=u(Y,Q,J);var ze=function(Ue){for(var Ve=[0,0,0],Xe=[[0,0,0],[0,0,0],[0,0,0]],at=[1,1,1],st=0;st<3;st++){var ht=Ue[st];ht&&!1!==ht.copy_zstyle&&!1!==Ue[2].visible&&(ht=Ue[2]),ht&&ht.visible&&(Ve[st]=ht.width/2,Xe[st]=s(ht.color),at[st]=ht.thickness)}return{capSize:Ve,color:Xe,lineWidth:at}}([Y.error_x,Y.error_y,Y.error_z]);return te.errorColor=ze.color,te.errorLineWidth=ze.lineWidth,te.errorCapSize=ze.capSize,te.delaunayAxis=Y.surfaceaxis,te.delaunayColor=s(Y.surfacecolor),te}(this.scene,f);"mode"in R&&(this.mode=R.mode),"lineDashes"in R&&R.lineDashes in n&&(P=n[R.lineDashes]),this.color=_(R.scatterColor)||_(R.lineColor),this.dataPoints=R.position,S={gl:this.scene.glplot.gl,position:R.position,color:R.lineColor,lineWidth:R.lineWidth||1,dashes:P[0],dashScale:P[1],opacity:f.opacity,connectGaps:f.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(S):(this.linePlot=M(S),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var j=f.opacity;if(f.marker&&void 0!==f.marker.opacity&&(j*=f.marker.opacity),w={gl:this.scene.glplot.gl,position:R.position,color:R.scatterColor,size:R.scatterSize,glyph:R.scatterMarker,opacity:j,orthographic:!0,lineWidth:R.scatterLineWidth,lineColor:R.scatterLineColor,project:R.project,projectScale:R.projectScale,projectOpacity:R.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(w):(this.scatterPlot=k(w),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),C={gl:this.scene.glplot.gl,position:R.position,glyph:R.text,color:R.textColor,size:R.textSize,angle:R.textAngle,alignment:R.textOffset,font:R.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:f.opacity},this.textLabels=f.hovertext||f.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(C):(this.textMarkers=k(C),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),E={gl:this.scene.glplot.gl,position:R.position,color:R.errorColor,error:R.errorBounds,lineWidth:R.errorLineWidth,capSize:R.errorCapSize,opacity:f.opacity},this.errorBars?R.errorBounds?this.errorBars.update(E):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):R.errorBounds&&(this.errorBars=a(E),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),R.delaunayAxis>=0){var z=function(N,Y,F){var U,V=(F+1)%3,te=(F+2)%3,$=[],X=[];for(U=0;U<N.length;++U){var W=N[U];!isNaN(W[V])&&isFinite(W[V])&&!isNaN(W[te])&&isFinite(W[te])&&($.push([W[V],W[te]]),X.push(U))}var J=b($);for(U=0;U<J.length;++U)for(var Q=J[U],re=0;re<Q.length;++re)Q[re]=X[Q[re]];return{positions:N,cells:J,meshColor:Y}}(R.position,R.delaunayColor,R.delaunayAxis);z.opacity=f.opacity,this.delaunayMesh?this.delaunayMesh.update(z):(z.gl=O,this.delaunayMesh=T(z),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},ee.exports=function(f,S){var w=new d(f,S.uid);return w.update(S),w}},21428:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=e(34098),T=e(49508),b=e(11058),p=e(82410),s=e(44542);ee.exports=function(t,i,n,r){function o(m,y){return k.coerce(t,i,s,m,y)}var m,y,v,_,f,S,w,E;if(m=t,y=i,_=r,f=0,S=(v=o)("x"),w=v("y"),E=v("z"),M.getComponentMethod("calendars","handleTraceDefaults")(m,y,["x","y","z"],_),S&&w&&E&&(f=Math.min(S.length,w.length,E.length),y._length=y._xlength=y._ylength=y._zlength=f),f){o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),a.hasMarkers(i)&&T(t,i,n,r,o,{noSelect:!0,noAngle:!0}),a.hasLines(i)&&(o("connectgaps"),b(t,i,n,r,o)),a.hasText(i)&&(o("texttemplate"),p(t,i,r,o,{noSelect:!0}));var u=(i.line||{}).color,d=(i.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",u||d);for(var c=["x","y","z"],x=0;x<3;++x){var g="projection."+c[x];o(g+".show")&&(o(g+".opacity"),o(g+".scale"))}var h=M.getComponentMethod("errorbars","supplyDefaults");h(t,i,u||d||n,{axis:"z"}),h(t,i,u||d||n,{axis:"y",inherit:"z"}),h(t,i,u||d||n,{axis:"x",inherit:"z"})}else i.visible=!1}},13551:function(ee,D,e){"use strict";ee.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(ee,D,e){"use strict";var M=e(82196),k=e(9012),a=e(5386).fF,T=e(5386).si,b=e(50693),p=e(1426).extendFlat,s=M.marker,t=M.line,i=s.line;ee.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},M.mode,{dflt:"markers"}),text:p({},M.text,{}),texttemplate:T({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},M.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:M.connectgaps,fill:p({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:M.fillcolor,marker:p({symbol:s.symbol,opacity:s.opacity,maxdisplayed:s.maxdisplayed,angle:s.angle,angleref:s.angleref,standoff:s.standoff,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,line:p({width:i.width,editType:"calc"},b("marker.line")),gradient:s.gradient,editType:"calc"},b("marker")),textfont:M.textfont,textposition:M.textposition,selected:M.selected,unselected:M.unselected,hoverinfo:p({},k.hoverinfo,{flags:["a","b","text","name"]}),hoveron:M.hoveron,hovertemplate:a()}},34618:function(ee,D,e){"use strict";var M=e(92770),k=e(36922),a=e(75225),T=e(66279),b=e(47761).calcMarkerSize,p=e(22882);ee.exports=function(s,t){var i=t._carpetTrace=p(s,t);if(i&&i.visible&&"legendonly"!==i.visible){var n;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var r,o,l=t._length,u=new Array(l),d=!1;for(n=0;n<l;n++)if(r=t.a[n],o=t.b[n],M(r)&&M(o)){var c=i.ab2xy(+r,+o,!0),x=i.isVisible(+r,+o);x||(d=!0),u[n]={x:c[0],y:c[1],a:r,b:o,vis:x}}else u[n]={x:!1,y:!1};return t._needsCull=d,u[0].carpet=i,u[0].trace=t,b(t,l),k(s,t),a(u,t),T(u,t),u}}},98965:function(ee,D,e){"use strict";var M=e(71828),k=e(47581),a=e(34098),T=e(49508),b=e(11058),p=e(94039),s=e(82410),t=e(28908),i=e(97001);ee.exports=function(n,r,o,l){function u(h,m){return M.coerce(n,r,i,h,m)}u("carpet"),r.xaxis="x",r.yaxis="y";var d=u("a"),c=u("b"),x=Math.min(d.length,c.length);if(x){r._length=x,u("text"),u("texttemplate"),u("hovertext"),u("mode",x<k.PTS_LINESONLY?"lines+markers":"lines"),a.hasMarkers(r)&&T(n,r,o,l,u,{gradient:!0}),a.hasLines(r)&&(b(n,r,o,l,u,{backoff:!0}),p(n,r,u),u("connectgaps")),a.hasText(r)&&s(n,r,l,u);var g=[];(a.hasMarkers(r)||a.hasText(r))&&(u("marker.maxdisplayed"),g.push("points")),u("fill"),"none"!==r.fill&&(t(n,r,o,u),a.hasLines(r)||p(n,r,u)),"tonext"!==r.fill&&"toself"!==r.fill||g.push("fills"),"fills"!==u("hoveron",g.join("+")||"points")&&u("hovertemplate"),M.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},16165:function(ee){"use strict";ee.exports=function(D,e,M,k,a){var T=k[a];return D.a=T.a,D.b=T.b,D.y=T.y,D}},48953:function(ee){"use strict";ee.exports=function(D,e){var M={},k=e._carpet,a=k.ab2ij([D.a,D.b]),T=Math.floor(a[0]),b=a[0]-T,p=Math.floor(a[1]),s=a[1]-p,t=k.evalxy([],T,p,b,s);return M.yLabel=t[1].toFixed(3),M}},22931:function(ee,D,e){"use strict";var M=e(33720),k=e(71828).fillText;ee.exports=function(a,T,b,p){var s=M(a,T,b,p);if(s&&!1!==s[0].index){var t=s[0];if(void 0===t.index){var i=1-t.y0/a.ya._length,n=a.xa._length,r=n*i/2,o=n-r;return t.x0=Math.max(Math.min(t.x0,o),r),t.x1=Math.max(Math.min(t.x1,o),r),s}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var u=t.trace,d=u._carpet,c=u._module.formatLabels(l,u);t.yLabel=c.yLabel,delete t.text;var x=[];if(!u.hovertemplate){var g=(l.hi||u.hoverinfo).split("+");-1!==g.indexOf("all")&&(g=["a","b","text"]),-1!==g.indexOf("a")&&h(d.aaxis,l.a),-1!==g.indexOf("b")&&h(d.baxis,l.b),x.push("y: "+t.yLabel),-1!==g.indexOf("text")&&k(l,u,x),t.extraText=x.join("<br>")}return s}function h(m,y){var v;v=m.labelprefix&&m.labelprefix.length>0?m.labelprefix.replace(/ = $/,""):m._hovertitle,x.push(v+": "+y.toFixed(3)+m.labelsuffix)}}},46858:function(ee,D,e){"use strict";ee.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(ee,D,e){"use strict";var M=e(32663),k=e(89298),a=e(91424);ee.exports=function(T,b,p,s){var t,i,n,r=p[0][0].carpet,o=k.getFromId(T,r.xaxis||"x"),l=k.getFromId(T,r.yaxis||"y"),u={xaxis:o,yaxis:l,plot:b.plot};for(t=0;t<p.length;t++)(i=p[t][0].trace)._xA=o,i._yA=l;for(M(T,u,p,s),t=0;t<p.length;t++)i=p[t][0].trace,n=s.selectAll("g.trace"+i.uid+" .js-line"),a.setClipUrl(n,p[t][0].carpet._clipPathId,T)}},19316:function(ee,D,e){"use strict";var M=e(5386).fF,k=e(5386).si,a=e(82196),T=e(9012),b=e(50693),p=e(79952).P,s=e(1426).extendFlat,t=e(30962).overrideAll,i=a.marker,n=a.line,r=i.line;ee.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:s({},a.mode,{dflt:"markers"}),text:s({},a.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:s({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:n.color,width:n.width,dash:p},connectgaps:a.connectgaps,marker:s({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:s({},i.angleref,{values:["previous","up","north"]}),standoff:i.standoff,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,colorbar:i.colorbar,line:s({width:r.width},b("marker.line")),gradient:i.gradient},b("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:s({},T.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:M()},"calc","nested")},84622:function(ee,D,e){"use strict";var M=e(92770),k=e(50606).BADNUM,a=e(36922),T=e(75225),b=e(66279),p=e(71828).isArrayOrTypedArray,s=e(71828)._;function t(i){return i&&"string"==typeof i}ee.exports=function(i,n){var r,o=p(n.locations),l=o?n.locations.length:n._length,u=new Array(l);r=n.geojson?function(m){return t(m)||M(m)}:t;for(var d=0;d<l;d++){var c=u[d]={};if(o){var x=n.locations[d];c.loc=r(x)?x:null}else{var g=n.lon[d],h=n.lat[d];M(g)&&M(h)?c.lonlat=[+g,+h]:c.lonlat=[k,k]}}return T(u,n),a(i,n),b(u,n),l&&(u[0].t={labels:{lat:s(i,"lat:")+" ",lon:s(i,"lon:")+" "}}),u}},10659:function(ee,D,e){"use strict";var M=e(71828),k=e(34098),a=e(49508),T=e(11058),b=e(82410),p=e(28908),s=e(19316);ee.exports=function(t,i,n,r){function o(h,m){return M.coerce(t,i,s,h,m)}var l,u=o("locations");if(u&&u.length){var d,c=o("geojson");("string"==typeof c&&""!==c||M.isPlainObject(c))&&(d="geojson-id"),"geojson-id"===o("locationmode",d)&&o("featureidkey"),l=u.length}else{var x=o("lon")||[],g=o("lat")||[];l=Math.min(x.length,g.length)}l?(i._length=l,o("text"),o("hovertext"),o("hovertemplate"),o("mode"),k.hasMarkers(i)&&a(t,i,n,r,o,{gradient:!0}),k.hasLines(i)&&(T(t,i,n,r,o),o("connectgaps")),k.hasText(i)&&(o("texttemplate"),b(t,i,r,o)),o("fill"),"none"!==i.fill&&p(t,i,n,o),M.coerceSelectionMarkerOpacity(i,o)):i.visible=!1}},84084:function(ee){"use strict";ee.exports=function(D,e,M,k,a){D.lon=e.lon,D.lat=e.lat,D.location=e.loc?e.loc:null;var T=k[a];return T.fIn&&T.fIn.properties&&(D.properties=T.fIn.properties),D}},82719:function(ee,D,e){"use strict";var M=e(89298);ee.exports=function(k,a,T){var b={},p=T[a.geo]._subplot.mockAxis,s=k.lonlat;return b.lonLabel=M.tickText(p,p.c2l(s[0]),!0).text,b.latLabel=M.tickText(p,p.c2l(s[1]),!0).text,b}},14977:function(ee,D,e){"use strict";var M=e(30211),k=e(50606).BADNUM,a=e(34603),T=e(71828).fillText,b=e(19316);ee.exports=function(p,s,t){var i=p.cd,n=i[0].trace,r=p.xa,o=p.ya,l=p.subplot,u=l.projection.isLonLatOverEdges,d=l.project;if(M.getClosest(i,function(v){var _=v.lonlat;if(_[0]===k||u(_))return 1/0;var f=d(_),S=d([s,t]),w=Math.abs(f[0]-S[0]),E=Math.abs(f[1]-S[1]),C=Math.max(3,v.mrc||0);return Math.max(Math.sqrt(w*w+E*E)-C,1-3/C)},p),!1!==p.index){var c=i[p.index],x=c.lonlat,g=[r.c2p(x),o.c2p(x)],h=c.mrc||1;p.x0=g[0]-h,p.x1=g[0]+h,p.y0=g[1]-h,p.y1=g[1]+h,p.loc=c.loc,p.lon=x[0],p.lat=x[1];var m={};m[n.geo]={_subplot:l};var y=n._module.formatLabels(c,n,m);return p.lonLabel=y.lonLabel,p.latLabel=y.latLabel,p.color=a(n,c),p.extraText=function(v,_,f,S){if(!v.hovertemplate){var w=_.hi||v.hoverinfo,E="all"===w?b.hoverinfo.flags:w.split("+"),C=-1!==E.indexOf("location")&&Array.isArray(v.locations),O=-1!==E.indexOf("lon"),P=-1!==E.indexOf("lat"),R=-1!==E.indexOf("text"),j=[];return C?j.push(_.loc):O&&P?j.push("("+z(f.latLabel)+", "+z(f.lonLabel)+")"):O?j.push(S.lon+z(f.lonLabel)):P&&j.push(S.lat+z(f.latLabel)),R&&T(_,v,j),j.join("<br>")}function z(N){return N+"\xb0"}}(n,c,p,i[0].t.labels),p.hovertemplate=n.hovertemplate,[p]}}},17988:function(ee,D,e){"use strict";ee.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(90973).getTopojsonFeatures,T=e(18214),b=e(41327),p=e(71739).findExtremes,s=e(50606).BADNUM,t=e(47761).calcMarkerSize,i=e(34098),n=e(33095);ee.exports={calcGeoJSON:function(r,o){var l,u,d=r[0].trace,c=o[d.geo],x=c._subplot,g=d._length;if(k.isArrayOrTypedArray(d.locations)){var h=d.locationmode,m="geojson-id"===h?b.extractTraceFeature(r):a(d,x.topojson);for(l=0;l<g;l++){u=r[l];var y="geojson-id"===h?u.fOut:b.locationToFeature(h,u.loc,m);u.lonlat=y?y.properties.ct:[s,s]}}var v,_,f={padded:!0};if("geojson"===c.fitbounds&&"geojson-id"===d.locationmode){var S=b.computeBbox(b.getTraceGeojson(d));v=[S[0],S[2]],_=[S[1],S[3]]}else{for(v=new Array(g),_=new Array(g),l=0;l<g;l++)u=r[l],v[l]=u.lonlat[0],_[l]=u.lonlat[1];f.ppad=t(d,g)}d._extremes.lon=p(c.lonaxis._ax,v,f),d._extremes.lat=p(c.lataxis._ax,_,f)},plot:function(r,o,l){var u=o.layers.frontplot.select(".scatterlayer"),d=k.makeTraceGroups(u,l,"trace scattergeo");function c(x,g){x.lonlat[0]===s&&M.select(g).remove()}d.selectAll("*").remove(),d.each(function(x){var g=M.select(this),h=x[0].trace;if(i.hasLines(h)||"none"!==h.fill){var m=T.calcTraceToLineCoords(x),y="none"!==h.fill?T.makePolygon(m):T.makeLine(m);g.selectAll("path.js-line").data([{geojson:y,trace:h}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}i.hasMarkers(h)&&g.selectAll("path.point").data(k.identity).enter().append("path").classed("point",!0).each(function(v){c(v,this)}),i.hasText(h)&&g.selectAll("g").data(k.identity).enter().append("g").append("text").each(function(v){c(v,this)}),n(r,x)})}}},20548:function(ee,D,e){"use strict";var M=e(34098),k=e(50606).BADNUM;ee.exports=function(a,T){var b,p,s,t,i,n=a.cd,r=a.xaxis,o=a.yaxis,l=[],u=n[0].trace;if(!M.hasMarkers(u)&&!M.hasText(u))return[];if(!1===T)for(i=0;i<n.length;i++)n[i].selected=0;else for(i=0;i<n.length;i++)(p=(b=n[i]).lonlat)[0]!==k&&(s=r.c2p(p),t=o.c2p(p),T.contains([s,t],null,i,a)?(l.push({pointNumber:i,lon:p[0],lat:p[1]}),b.selected=1):b.selected=0);return l}},33095:function(ee,D,e){"use strict";var M=e(39898),k=e(91424),a=e(7901),T=e(16296),b=T.stylePoints,p=T.styleText;ee.exports=function(s,t){var i,n,r,o;t&&(i=s,r=(n=t)[0].trace,(o=n[0].node3).style("opacity",n[0].trace.opacity),b(o,r,i),p(o,r,i),o.selectAll("path.js-line").style("fill","none").each(function(l){var u=M.select(this),d=l.trace,c=d.line||{};u.call(a.stroke,c.color).call(k.dashLine,c.dash||"",c.width||0),"none"!==d.fill&&u.call(a.fill,d.fillcolor)}))}},42341:function(ee,D,e){"use strict";var M=e(9012),k=e(82196),a=e(12663).axisHoverFormat,T=e(50693),b=e(78607),p=e(1426).extendFlat,s=e(30962).overrideAll,t=e(78232).DASHES,i=k.line,n=k.marker,r=n.line,o=ee.exports=s({x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:k.text,hovertext:k.hovertext,textposition:k.textposition,textfont:k.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:i.color,width:i.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:b(t),dflt:"solid"}},marker:p({},T("marker"),{symbol:n.symbol,angle:n.angle,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,opacity:n.opacity,colorbar:n.colorbar,line:p({},T("marker.line"),{width:r.width})}),connectgaps:k.connectgaps,fill:p({},k.fill,{dflt:"none"}),fillcolor:k.fillcolor,selected:{marker:k.selected.marker,textfont:k.selected.textfont},unselected:{marker:k.unselected.marker,textfont:k.unselected.textfont},opacity:M.opacity},"calc","nested");o.x.editType=o.y.editType=o.x0.editType=o.y0.editType="calc+clearAxisTypes",o.hovertemplate=k.hovertemplate,o.texttemplate=k.texttemplate},72156:function(ee,D,e){"use strict";var M=e(20794);ee.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:M.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(ee,D,e){"use strict";var M=e(88294),k=e(71828),a=e(41675),T=e(71739).findExtremes,b=e(42973),p=e(47761),s=p.calcMarkerSize,t=p.calcAxisExpansion,i=p.setFirstScatter,n=e(36922),r=e(19635),o=e(38967),l=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;function d(c,x,g){var h=c._extremes[x._id],m=T(x,g._bnds,{padded:!0});h.min=h.min.concat(m.min),h.max=h.max.concat(m.max)}ee.exports=function(c,x){var g,h=c._fullLayout,m=x._xA=a.getFromId(c,x.xaxis,"x"),y=x._yA=a.getFromId(c,x.yaxis,"y"),v=h._plots[x.xaxis+x.yaxis],_=x._length,f=_>=u,S=2*_,w={},E=m.makeCalcdata(x,"x"),C=y.makeCalcdata(x,"y"),O=b(x,m,"x",E),P=b(x,y,"y",C),R=O.vals,j=P.vals;x._x=R,x._y=j,x.xperiodalignment&&(x._origX=E,x._xStarts=O.starts,x._xEnds=O.ends),x.yperiodalignment&&(x._origY=C,x._yStarts=P.starts,x._yEnds=P.ends);var z=new Array(S),N=new Array(_);for(g=0;g<_;g++)z[2*g]=R[g]===l?NaN:R[g],z[2*g+1]=j[g]===l?NaN:j[g],N[g]=g;if("log"===m.type)for(g=0;g<S;g+=2)z[g]=m.c2l(z[g]);if("log"===y.type)for(g=1;g<S;g+=2)z[g]=y.c2l(z[g]);f&&"log"!==m.type&&"log"!==y.type?w.tree=M(z):w.ids=N,n(c,x);var Y,F=function(V,te,$,X,W,J){var Q=r.style(V,$);if(Q.marker&&(Q.marker.positions=X),Q.line&&X.length>1&&k.extendFlat(Q.line,r.linePositions(V,$,X)),Q.errorX||Q.errorY){var re=r.errorBarPositions(V,$,X,W,J);Q.errorX&&k.extendFlat(Q.errorX,re.x),Q.errorY&&k.extendFlat(Q.errorY,re.y)}return Q.text&&(k.extendFlat(Q.text,{positions:X},r.textPosition(V,$,Q.text,Q.marker)),k.extendFlat(Q.textSel,{positions:X},r.textPosition(V,$,Q.text,Q.markerSel)),k.extendFlat(Q.textUnsel,{positions:X},r.textPosition(V,$,Q.text,Q.markerUnsel))),Q}(c,0,x,z,R,j),U=o(c,v);return i(h,x),f?F.marker&&(Y=F.marker.sizeAvg||Math.max(F.marker.size,3)):Y=s(x,_),t(c,x,m,y,R,j,Y),F.errorX&&d(x,m,F.errorX),F.errorY&&d(x,y,F.errorY),F.fill&&!U.fill2d&&(U.fill2d=!0),F.marker&&!U.scatter2d&&(U.scatter2d=!0),F.line&&!U.line2d&&(U.line2d=!0),!F.errorX&&!F.errorY||U.error2d||(U.error2d=!0),F.text&&!U.glText&&(U.glText=!0),F.marker&&(F.marker.snap=_),U.lineOptions.push(F.line),U.errorXOptions.push(F.errorX),U.errorYOptions.push(F.errorY),U.fillOptions.push(F.fill),U.markerOptions.push(F.marker),U.markerSelectedOptions.push(F.markerSel),U.markerUnselectedOptions.push(F.markerUnsel),U.textOptions.push(F.text),U.textSelectedOptions.push(F.textSel),U.textUnselectedOptions.push(F.textUnsel),U.selectBatch.push([]),U.unselectBatch.push([]),w._scene=U,w.index=U.count,w.x=R,w.y=j,w.positions=z,U.count++,[{x:!1,y:!1,t:w,trace:x}]}},78232:function(ee){"use strict";ee.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(ee,D,e){"use strict";var M=e(92770),k=e(82019),a=e(25075),T=e(73972),b=e(71828),p=b.isArrayOrTypedArray,s=e(91424),t=e(41675),i=e(81697).formatColor,n=e(34098),r=e(39984),o=e(68645),l=e(78232),u=e(37822).DESELECTDIM,d={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(23469).appendArrayPointValue;function x(C,O){var P,R=C._fullLayout,j=O._length,z=O.textfont,N=O.textposition,Y=p(N)?N:[N],F=z.color,U=z.size,V=z.family,te={},$=C._context.plotGlPixelRatio,X=O.texttemplate;if(X){te.text=[];var W=R._d3locale,J=Array.isArray(X),Q=J?Math.min(X.length,j):j,re=J?function(pe){return X[pe]}:function(){return X};for(P=0;P<Q;P++){var ae={i:P},oe=O._module.formatLabels(ae,O,R),ue={};c(ue,O,P);var ve=O._meta||{};te.text.push(b.texttemplateString(re(P),oe,W,ue,ae,ve))}}else p(O.text)&&O.text.length<j?te.text=O.text.slice():te.text=O.text;if(p(te.text))for(P=te.text.length;P<j;P++)te.text[P]="";for(te.opacity=O.opacity,te.font={},te.align=[],te.baseline=[],P=0;P<Y.length;P++){var be=Y[P].split(/\s+/);switch(be[1]){case"left":te.align.push("right");break;case"right":te.align.push("left");break;default:te.align.push(be[1])}switch(be[0]){case"top":te.baseline.push("bottom");break;case"bottom":te.baseline.push("top");break;default:te.baseline.push(be[0])}}if(p(F))for(te.color=new Array(j),P=0;P<j;P++)te.color[P]=F[P];else te.color=F;if(p(U)||p(V))for(te.font=new Array(j),P=0;P<j;P++){var de=te.font[P]={};de.size=(b.isTypedArray(U)?U[P]:p(U)?M(U[P])?U[P]:0:U)*$,de.family=p(V)?V[P]:V}else te.font={size:U*$,family:V};return te}function g(C,O){var P,R,j=O._length,z=O.marker,N={},Y=p(z.symbol),F=p(z.angle),U=p(z.color),V=p(z.line.color),te=p(z.opacity),$=p(z.size),X=p(z.line.width);if(Y||(R=o.isOpenSymbol(z.symbol)),Y||U||V||te||F){N.symbols=new Array(j),N.angles=new Array(j),N.colors=new Array(j),N.borderColors=new Array(j);var W=z.symbol,J=z.angle,Q=i(z,z.opacity,j),re=i(z.line,z.opacity,j);if(!p(re[0])){var ae=re;for(re=Array(j),P=0;P<j;P++)re[P]=ae}if(!p(Q[0])){var oe=Q;for(Q=Array(j),P=0;P<j;P++)Q[P]=oe}if(!p(W)){var ue=W;for(W=Array(j),P=0;P<j;P++)W[P]=ue}if(!p(J)){var ve=J;for(J=Array(j),P=0;P<j;P++)J[P]=ve}for(N.symbols=W,N.angles=J,N.colors=Q,N.borderColors=re,P=0;P<j;P++)Y&&(R=o.isOpenSymbol(z.symbol[P])),R&&(re[P]=Q[P].slice(),Q[P]=Q[P].slice(),Q[P][3]=0);for(N.opacity=O.opacity,N.markers=new Array(j),P=0;P<j;P++)N.markers[P]=E({mx:N.symbols[P],ma:N.angles[P]},O)}else R?(N.color=a(z.color,"uint8"),N.color[3]=0,N.borderColor=a(z.color,"uint8")):(N.color=a(z.color,"uint8"),N.borderColor=a(z.line.color,"uint8")),N.opacity=O.opacity*z.opacity,N.marker=E({mx:z.symbol,ma:z.angle},O);var be,de=r(O,1);if($||X){var pe,ge=N.sizes=new Array(j),Ae=N.borderSizes=new Array(j),ye=0;if($){for(P=0;P<j;P++)ge[P]=de(z.size[P]),ye+=ge[P];pe=ye/j}else for(be=de(z.size),P=0;P<j;P++)ge[P]=be;if(X)for(P=0;P<j;P++)Ae[P]=z.line.width[P];else for(be=z.line.width,P=0;P<j;P++)Ae[P]=be;N.sizeAvg=pe}else N.size=de(z&&z.size||10),N.borderSizes=de(z.line.width);return N}function h(C,O,P){var R=O.marker,j={};return P&&(P.marker&&P.marker.symbol?j=g(0,b.extendFlat({},R,P.marker)):P.marker&&(P.marker.size&&(j.size=P.marker.size),P.marker.color&&(j.colors=P.marker.color),void 0!==P.marker.opacity&&(j.opacity=P.marker.opacity))),j}function m(C,O,P){var R={};if(!P)return R;if(P.textfont){var j={opacity:1,text:O.text,texttemplate:O.texttemplate,textposition:O.textposition,textfont:b.extendFlat({},O.textfont)};P.textfont&&b.extendFlat(j.textfont,P.textfont),R=x(C,j)}return R}function y(C,O,P){var R={capSize:2*O.width*P,lineWidth:O.thickness*P,color:O.color};return O.copy_ystyle&&(R=C.error_y),R}var v=l.SYMBOL_SDF_SIZE,_=l.SYMBOL_SIZE,f=l.SYMBOL_STROKE,S={},w=s.symbolFuncs[0](.05*_);function E(C,O){var P,R,j=C.mx;if("circle"===j)return null;var z=s.symbolNumber(j),N=s.symbolFuncs[z%100],Y=!!s.symbolNoDot[z%100],F=!!s.symbolNoFill[z%100],U=o.isDotSymbol(j);if(C.ma&&(j+="_"+C.ma),S[j])return S[j];var V=s.getMarkerAngle(C,O);return P=U&&!Y?N(1.1*_,V)+w:N(_,V),R=k(P,{w:v,h:v,viewBox:[-_,-_,_,_],stroke:F?f:-f}),S[j]=R,R||null}ee.exports={style:function(C,O){var P,R={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},j=C._context.plotGlPixelRatio;if(!0!==O.visible)return R;if(n.hasText(O)&&(R.text=x(C,O),R.textSel=m(C,O,O.selected),R.textUnsel=m(C,O,O.unselected)),n.hasMarkers(O)&&(R.marker=g(0,O),R.markerSel=h(0,O,O.selected),R.markerUnsel=h(0,O,O.unselected),!O.unselected&&p(O.marker.opacity))){var z=O.marker.opacity;for(R.markerUnsel.opacity=new Array(z.length),P=0;P<z.length;P++)R.markerUnsel.opacity[P]=u*z[P]}if(n.hasLines(O)){R.line={overlay:!0,thickness:O.line.width*j,color:O.line.color,opacity:O.opacity};var N=(l.DASHES[O.line.dash]||[1]).slice();for(P=0;P<N.length;++P)N[P]*=O.line.width*j;R.line.dashes=N}return O.error_x&&O.error_x.visible&&(R.errorX=y(O,O.error_x,j)),O.error_y&&O.error_y.visible&&(R.errorY=y(O,O.error_y,j)),O.fill&&"none"!==O.fill&&(R.fill={closed:!0,fill:O.fillcolor,thickness:0}),R},markerStyle:g,markerSelection:h,linePositions:function(C,O,P){var R,j,z=P.length,N=z/2;if(n.hasLines(O)&&N)if("hv"===O.line.shape){for(R=[],j=0;j<N-1;j++)isNaN(P[2*j])||isNaN(P[2*j+1])?R.push(NaN,NaN,NaN,NaN):(R.push(P[2*j],P[2*j+1]),isNaN(P[2*j+2])||isNaN(P[2*j+3])?R.push(NaN,NaN):R.push(P[2*j+2],P[2*j+1]));R.push(P[z-2],P[z-1])}else if("hvh"===O.line.shape){for(R=[],j=0;j<N-1;j++)if(isNaN(P[2*j])||isNaN(P[2*j+1])||isNaN(P[2*j+2])||isNaN(P[2*j+3]))isNaN(P[2*j])||isNaN(P[2*j+1])?R.push(NaN,NaN):R.push(P[2*j],P[2*j+1]),R.push(NaN,NaN);else{var Y=(P[2*j]+P[2*j+2])/2;R.push(P[2*j],P[2*j+1],Y,P[2*j+1],Y,P[2*j+3])}R.push(P[z-2],P[z-1])}else if("vhv"===O.line.shape){for(R=[],j=0;j<N-1;j++)if(isNaN(P[2*j])||isNaN(P[2*j+1])||isNaN(P[2*j+2])||isNaN(P[2*j+3]))isNaN(P[2*j])||isNaN(P[2*j+1])?R.push(NaN,NaN):R.push(P[2*j],P[2*j+1]),R.push(NaN,NaN);else{var F=(P[2*j+1]+P[2*j+3])/2;R.push(P[2*j],P[2*j+1],P[2*j],F,P[2*j+2],F)}R.push(P[z-2],P[z-1])}else if("vh"===O.line.shape){for(R=[],j=0;j<N-1;j++)isNaN(P[2*j])||isNaN(P[2*j+1])?R.push(NaN,NaN,NaN,NaN):(R.push(P[2*j],P[2*j+1]),isNaN(P[2*j+2])||isNaN(P[2*j+3])?R.push(NaN,NaN):R.push(P[2*j],P[2*j+3]));R.push(P[z-2],P[z-1])}else R=P;var U=!1;for(j=0;j<R.length;j++)if(isNaN(R[j])){U=!0;break}var V=U||R.length>l.TOO_MANY_POINTS||n.hasMarkers(O)?"rect":"round";if(U&&O.connectgaps){var te=R[0],$=R[1];for(j=0;j<R.length;j+=2)isNaN(R[j])||isNaN(R[j+1])?(R[j]=te,R[j+1]=$):(te=R[j],$=R[j+1])}return{join:V,positions:R}},errorBarPositions:function(C,O,P,R,j){var z=T.getComponentMethod("errorbars","makeComputeError"),N=t.getFromId(C,O.xaxis,"x"),Y=t.getFromId(C,O.yaxis,"y"),F=P.length/2,U={};function V(te,$){var X=$._id.charAt(0),W=O["error_"+X];if(W&&W.visible&&("linear"===$.type||"log"===$.type)){for(var J=z(W),Q={x:0,y:1}[X],re={x:[0,1,2,3],y:[2,3,0,1]}[X],ae=new Float64Array(4*F),oe=1/0,ue=-1/0,ve=0,be=0;ve<F;ve++,be+=4){var de=te[ve];if(M(de)){var pe=P[2*ve+Q],ge=J(de,ve),Ae=ge[0],ye=ge[1];if(M(Ae)&&M(ye)){var we=de-Ae,se=de+ye;ae[be+re[0]]=pe-$.c2l(we),ae[be+re[1]]=$.c2l(se)-pe,ae[be+re[2]]=0,ae[be+re[3]]=0,oe=Math.min(oe,de-Ae),ue=Math.max(ue,de+ye)}}}U[X]={positions:P,errors:ae,_bnds:[oe,ue]}}}return V(R,N),V(j,Y),U},textPosition:function(C,O,P,R){var j,z=O._length,N={};if(n.hasMarkers(O)){var Y=P.font,F=P.align,U=P.baseline;for(N.offset=new Array(z),j=0;j<z;j++){var V=R.sizes?R.sizes[j]:R.size,te=p(Y)?Y[j].size:Y.size,$=p(F)?F.length>1?F[j]:F[0]:F,X=p(U)?U.length>1?U[j]:U[0]:U,W=d[$],J=d[X],Q=V?V/.8+1:0,re=-J*Q-.5*J;N.offset[j]=[W*Q/te,re/te]}}return N}}},47148:function(ee,D,e){"use strict";var M=e(71828),k=e(73972),a=e(68645),T=e(42341),b=e(47581),p=e(34098),s=e(67513),t=e(73927),i=e(49508),n=e(11058),r=e(28908),o=e(82410);ee.exports=function(l,u,d,c){function x(S,w){return M.coerce(l,u,T,S,w)}var g=!!l.marker&&a.isOpenSymbol(l.marker.symbol),h=p.isBubble(l),m=s(l,u,c,x);if(m){t(l,u,c,x),x("xhoverformat"),x("yhoverformat");var y=m<b.PTS_LINESONLY?"lines+markers":"lines";x("text"),x("hovertext"),x("hovertemplate"),x("mode",y),p.hasMarkers(u)&&(i(l,u,d,c,x,{noAngleRef:!0,noStandOff:!0}),x("marker.line.width",g||h?1:0)),p.hasLines(u)&&(x("connectgaps"),n(l,u,d,c,x),x("line.shape")),p.hasText(u)&&(x("texttemplate"),o(l,u,c,x));var v=(u.line||{}).color,_=(u.marker||{}).color;x("fill"),"none"!==u.fill&&r(l,u,d,x);var f=k.getComponentMethod("errorbars","supplyDefaults");f(l,u,v||_||d,{axis:"y"}),f(l,u,v||_||d,{axis:"x",inherit:"y"}),M.coerceSelectionMarkerOpacity(u,x)}else u.visible=!1}},5345:function(ee,D,e){"use strict";var M=e(71828),k=e(7901),a=e(37822).DESELECTDIM;ee.exports={styleTextSelection:function(T){var b,p,s=T[0],t=s.trace,i=s.t,n=i._scene,r=i.index,o=n.selectBatch[r],l=n.unselectBatch[r],u=n.textOptions[r],d=n.textSelectedOptions[r]||{},c=n.textUnselectedOptions[r]||{},x=M.extendFlat({},u);if(o.length||l.length){var g=d.color,h=c.color,m=u.color,y=M.isArrayOrTypedArray(m);for(x.color=new Array(t._length),b=0;b<o.length;b++)p=o[b],x.color[p]=g||(y?m[p]:m);for(b=0;b<l.length;b++){p=l[b];var v=y?m[p]:m;x.color[p]=h||(g?v:k.addOpacity(v,a))}}n.glText[r].update(x)}}},68101:function(ee,D,e){"use strict";var M=e(8225);ee.exports=function(k,a,T){var b=k.i;return"x"in k||(k.x=a._x[b]),"y"in k||(k.y=a._y[b]),M(k,a,T)}},68645:function(ee,D,e){"use strict";var M=e(78232);D.isOpenSymbol=function(k){return"string"==typeof k?M.OPEN_RE.test(k):k%200>100},D.isDotSymbol=function(k){return"string"==typeof k?M.DOT_RE.test(k):k>200}},20794:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=e(34603);function T(b,p,s,t){var i=b.xa,n=b.ya,r=b.distance,o=b.dxy,l=b.index,u={pointNumber:l,x:p[l],y:s[l]};u.tx=k.isArrayOrTypedArray(t.text)?t.text[l]:t.text,u.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,u.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,u.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var d=t.textfont;d&&(u.ts=k.isArrayOrTypedArray(d.size)?d.size[l]:d.size,u.tc=Array.isArray(d.color)?d.color[l]:d.color,u.tf=Array.isArray(d.family)?d.family[l]:d.family);var c=t.marker;c&&(u.ms=k.isArrayOrTypedArray(c.size)?c.size[l]:c.size,u.mo=k.isArrayOrTypedArray(c.opacity)?c.opacity[l]:c.opacity,u.mx=k.isArrayOrTypedArray(c.symbol)?c.symbol[l]:c.symbol,u.ma=k.isArrayOrTypedArray(c.angle)?c.angle[l]:c.angle,u.mc=k.isArrayOrTypedArray(c.color)?c.color[l]:c.color);var x=c&&c.line;x&&(u.mlc=Array.isArray(x.color)?x.color[l]:x.color,u.mlw=k.isArrayOrTypedArray(x.width)?x.width[l]:x.width);var g=c&&c.gradient;g&&"none"!==g.type&&(u.mgt=Array.isArray(g.type)?g.type[l]:g.type,u.mgc=Array.isArray(g.color)?g.color[l]:g.color);var h=i.c2p(u.x,!0),m=n.c2p(u.y,!0),y=u.mrc||1,v=t.hoverlabel;v&&(u.hbg=Array.isArray(v.bgcolor)?v.bgcolor[l]:v.bgcolor,u.hbc=Array.isArray(v.bordercolor)?v.bordercolor[l]:v.bordercolor,u.hts=k.isArrayOrTypedArray(v.font.size)?v.font.size[l]:v.font.size,u.htc=Array.isArray(v.font.color)?v.font.color[l]:v.font.color,u.htf=Array.isArray(v.font.family)?v.font.family[l]:v.font.family,u.hnl=k.isArrayOrTypedArray(v.namelength)?v.namelength[l]:v.namelength);var _=t.hoverinfo;_&&(u.hi=Array.isArray(_)?_[l]:_);var f=t.hovertemplate;f&&(u.ht=Array.isArray(f)?f[l]:f);var S={};S[b.index]=u;var w=t._origX,E=t._origY,C=k.extendFlat({},b,{color:a(t,u),x0:h-y,x1:h+y,xLabelVal:w?w[l]:u.x,y0:m-y,y1:m+y,yLabelVal:E?E[l]:u.y,cd:S,distance:r,spikeDistance:o,hovertemplate:u.ht});return u.htx?C.text=u.htx:u.tx?C.text=u.tx:t.text&&(C.text=t.text),k.fillText(u,t,C),M.getComponentMethod("errorbars","hoverInfo")(u,t,C),C}ee.exports={hoverPoints:function(b,p,s,t){var i,n,r,o,l,u,d,c,x,g,h=b.cd,m=h[0].t,y=h[0].trace,v=b.xa,_=b.ya,f=m.x,S=m.y,w=v.c2p(p),E=_.c2p(s),C=b.distance;if(m.tree){var O=v.p2c(w-C),P=v.p2c(w+C),R=_.p2c(E-C),j=_.p2c(E+C);i="x"===t?m.tree.range(Math.min(O,P),Math.min(_._rl[0],_._rl[1]),Math.max(O,P),Math.max(_._rl[0],_._rl[1])):m.tree.range(Math.min(O,P),Math.min(R,j),Math.max(O,P),Math.max(R,j))}else i=m.ids;var z=C;if("x"===t){var N=!!y.xperiodalignment,Y=!!y.yperiodalignment;for(u=0;u<i.length;u++){if(o=f[n=i[u]],d=Math.abs(v.c2p(o)-w),N){var F=v.c2p(y._xStarts[n]),U=v.c2p(y._xEnds[n]);d=w>=Math.min(F,U)&&w<=Math.max(F,U)?0:1/0}if(d<z){if(z=d,l=S[n],c=_.c2p(l)-E,Y){var V=_.c2p(y._yStarts[n]),te=_.c2p(y._yEnds[n]);c=E>=Math.min(V,te)&&E<=Math.max(V,te)?0:1/0}g=Math.sqrt(d*d+c*c),r=i[u]}}}else for(u=i.length-1;u>-1;u--)o=f[n=i[u]],l=S[n],d=v.c2p(o)-w,c=_.c2p(l)-E,(x=Math.sqrt(d*d+c*c))<z&&(z=g=x,r=n);return b.index=r,b.distance=z,b.dxy=g,void 0===r?[b]:[T(b,f,S,y)]},calcHover:T}},68868:function(ee,D,e){"use strict";var M=e(72156);M.plot=e(26787),ee.exports=M},26787:function(ee,D,e){"use strict";var M=e(11870),k=e(46075),a=e(3593),T=e(42505),b=e(71828),p=e(64505).selectMode,s=e(79749),t=e(34098),i=e(68687),n=e(5345).styleTextSelection,r={};function o(l,u,d,c){var x=l._size,g=l.width*c,h=l.height*c,m=x.l*c,y=x.b*c,v=x.r*c,_=x.t*c,f=x.w*c,S=x.h*c;return[m+u.domain[0]*f,y+d.domain[0]*S,g-v-(1-u.domain[1])*f,h-_-(1-d.domain[1])*S]}(ee.exports=function(l,u,d){if(d.length){var c,x,g=l._fullLayout,h=u._scene,m=u.xaxis,y=u.yaxis;if(h)if(s(l,["ANGLE_instanced_arrays","OES_element_index_uint"],r)){var v=h.count,_=g._glcanvas.data()[0].regl;if(i(l,u,d),h.dirty){if(!h.line2d&&!h.error2d||h.scatter2d||h.fill2d||h.glText||_.clear({}),!0===h.error2d&&(h.error2d=a(_)),!0===h.line2d&&(h.line2d=k(_)),!0===h.scatter2d&&(h.scatter2d=M(_)),!0===h.fill2d&&(h.fill2d=k(_)),!0===h.glText)for(h.glText=new Array(v),c=0;c<v;c++)h.glText[c]=new T(_);if(h.glText){if(v>h.glText.length){var f=v-h.glText.length;for(c=0;c<f;c++)h.glText.push(new T(_))}else if(v<h.glText.length){var S=h.glText.length-v;h.glText.splice(v,S).forEach(function(re){re.destroy()})}for(c=0;c<v;c++)h.glText[c].update(h.textOptions[c])}if(h.line2d&&(h.line2d.update(h.lineOptions),h.lineOptions=h.lineOptions.map(function(re){if(re&&re.positions){for(var ae=re.positions,oe=0;oe<ae.length&&(isNaN(ae[oe])||isNaN(ae[oe+1]));)oe+=2;for(var ue=ae.length-2;ue>oe&&(isNaN(ae[ue])||isNaN(ae[ue+1]));)ue-=2;re.positions=ae.slice(oe,ue+2)}return re}),h.line2d.update(h.lineOptions)),h.error2d){var w=(h.errorXOptions||[]).concat(h.errorYOptions||[]);h.error2d.update(w)}h.scatter2d&&h.scatter2d.update(h.markerOptions),h.fillOrder=b.repeat(null,v),h.fill2d&&(h.fillOptions=h.fillOptions.map(function(re,ae){var oe=d[ae];if(re&&oe&&oe[0]&&oe[0].trace){var ue,ve,be=oe[0],de=be.trace,pe=be.t,ge=h.lineOptions[ae],Ae=[];de._ownfill&&Ae.push(ae),de._nexttrace&&Ae.push(ae+1),Ae.length&&(h.fillOrder[ae]=Ae);var ye,we,se=[],ie=ge&&ge.positions||pe.positions;if("tozeroy"===de.fill){for(ye=0;ye<ie.length&&isNaN(ie[ye+1]);)ye+=2;for(we=ie.length-2;we>ye&&isNaN(ie[we+1]);)we-=2;0!==ie[ye+1]&&(se=[ie[ye],0]),se=se.concat(ie.slice(ye,we+2)),0!==ie[we+1]&&(se=se.concat([ie[we],0]))}else if("tozerox"===de.fill){for(ye=0;ye<ie.length&&isNaN(ie[ye]);)ye+=2;for(we=ie.length-2;we>ye&&isNaN(ie[we]);)we-=2;0!==ie[ye]&&(se=[0,ie[ye+1]]),se=se.concat(ie.slice(ye,we+2)),0!==ie[we]&&(se=se.concat([0,ie[we+1]]))}else if("toself"===de.fill||"tonext"===de.fill){for(se=[],ue=0,re.splitNull=!0,ve=0;ve<ie.length;ve+=2)(isNaN(ie[ve])||isNaN(ie[ve+1]))&&((se=se.concat(ie.slice(ue,ve))).push(ie[ue],ie[ue+1]),se.push(null,null),ue=ve+2);se=se.concat(ie.slice(ue)),ue&&se.push(ie[ue],ie[ue+1])}else{var he=de._nexttrace;if(he){var Se=h.lineOptions[ae+1];if(Se){var _e=Se.positions;if("tonexty"===de.fill){for(se=ie.slice(),ae=Math.floor(_e.length/2);ae--;){var Me=_e[2*ae],Ee=_e[2*ae+1];isNaN(Me)||isNaN(Ee)||se.push(Me,Ee)}re.fill=he.fillcolor}}}}if(de._prevtrace&&"tonext"===de._prevtrace.fill){var Ie=h.lineOptions[ae-1].positions,fe=se.length/2,xe=[ue=fe];for(ve=0;ve<Ie.length;ve+=2)(isNaN(Ie[ve])||isNaN(Ie[ve+1]))&&(xe.push(ve/2+fe+1),ue=ve+2);se=se.concat(Ie),re.hole=xe}return re.fillmode=de.fill,re.opacity=de.opacity,re.positions=se,re}}),h.fill2d.update(h.fillOptions))}var E=g.dragmode,C=p(E),O=g.clickmode.indexOf("select")>-1;for(c=0;c<v;c++){var P=d[c][0],R=P.trace,j=P.t,z=j.index,N=R._length,Y=j.x,F=j.y;if(R.selectedpoints||C||O){if(C||(C=!0),R.selectedpoints){var U=h.selectBatch[z]=b.selIndices2selPoints(R),V={};for(x=0;x<U.length;x++)V[U[x]]=1;var te=[];for(x=0;x<N;x++)V[x]||te.push(x);h.unselectBatch[z]=te}var $=j.xpx=new Array(N),X=j.ypx=new Array(N);for(x=0;x<N;x++)$[x]=m.c2p(Y[x]),X[x]=y.c2p(F[x])}else j.xpx=j.ypx=null}if(C){if(h.select2d||(h.select2d=M(g._glcanvas.data()[1].regl)),h.scatter2d){var W=new Array(v);for(c=0;c<v;c++)W[c]=h.selectBatch[c].length||h.unselectBatch[c].length?h.markerUnselectedOptions[c]:{};h.scatter2d.update(W)}h.select2d&&(h.select2d.update(h.markerOptions),h.select2d.update(h.markerSelectedOptions)),h.glText&&d.forEach(function(re){var ae=((re||[])[0]||{}).trace||{};t.hasText(ae)&&n(re)})}else h.scatter2d&&h.scatter2d.update(h.markerOptions);var J={viewport:o(g,m,y,l._context.plotGlPixelRatio),range:[(m._rl||m.range)[0],(y._rl||y.range)[0],(m._rl||m.range)[1],(y._rl||y.range)[1]]},Q=b.repeat(J,h.count);h.fill2d&&h.fill2d.update(Q),h.line2d&&h.line2d.update(Q),h.error2d&&h.error2d.update(Q.concat(Q)),h.scatter2d&&h.scatter2d.update(Q),h.select2d&&h.select2d.update(Q),h.glText&&h.glText.forEach(function(re){re.update(J)})}else h.init()}}).reglPrecompiled=r},38967:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k,a){var T=a._scene,b={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return a._scene||((T=a._scene={}).init=function(){M.extendFlat(T,p,b)},T.init(),T.update=function(s){var t=M.repeat(s,T.count);if(T.fill2d&&T.fill2d.update(t),T.scatter2d&&T.scatter2d.update(t),T.line2d&&T.line2d.update(t),T.error2d&&T.error2d.update(t.concat(t)),T.select2d&&T.select2d.update(t),T.glText)for(var i=0;i<T.count;i++)T.glText[i].update(s)},T.draw=function(){for(var s=T.count,t=T.fill2d,i=T.error2d,n=T.line2d,r=T.scatter2d,o=T.glText,l=T.select2d,u=T.selectBatch,d=T.unselectBatch,c=0;c<s;c++){if(t&&T.fillOrder[c]&&t.draw(T.fillOrder[c]),n&&T.lineOptions[c]&&n.draw(c),i&&(T.errorXOptions[c]&&i.draw(c),T.errorYOptions[c]&&i.draw(c+s)),r&&T.markerOptions[c])if(d[c].length){var x=M.repeat([],T.count);x[c]=d[c],r.draw(x)}else u[c].length||r.draw(c);o[c]&&T.textOptions[c]&&o[c].render()}l&&l.draw(u),T.dirty=!1},T.destroy=function(){T.fill2d&&T.fill2d.destroy&&T.fill2d.destroy(),T.scatter2d&&T.scatter2d.destroy&&T.scatter2d.destroy(),T.error2d&&T.error2d.destroy&&T.error2d.destroy(),T.line2d&&T.line2d.destroy&&T.line2d.destroy(),T.select2d&&T.select2d.destroy&&T.select2d.destroy(),T.glText&&T.glText.forEach(function(s){s.destroy&&s.destroy()}),T.lineOptions=null,T.fillOptions=null,T.markerOptions=null,T.markerSelectedOptions=null,T.markerUnselectedOptions=null,T.errorXOptions=null,T.errorYOptions=null,T.textOptions=null,T.textSelectedOptions=null,T.textUnselectedOptions=null,T.selectBatch=null,T.unselectBatch=null,a._scene=null}),T.dirty||M.extendFlat(T,b),T}},58147:function(ee,D,e){"use strict";var M=e(34098),k=e(5345).styleTextSelection;ee.exports=function(a,T){var b=a.cd,p=a.xaxis,s=a.yaxis,t=[],i=b[0].trace,n=b[0].t,r=i._length,o=n.x,l=n.y,u=n._scene,d=n.index;if(!u)return t;var c=M.hasText(i),x=M.hasMarkers(i),g=!x&&!c;if(!0!==i.visible||g)return t;var h=[],m=[];if(!1!==T&&!T.degenerate)for(var y=0;y<r;y++)T.contains([n.xpx[y],n.ypx[y]],!1,y,a)?(h.push(y),t.push({pointNumber:y,x:p.c2d(o[y]),y:s.c2d(l[y])})):m.push(y);if(x){var v=u.scatter2d;if(h.length||m.length){if(!u.selectBatch[d].length&&!u.unselectBatch[d].length){var _=new Array(u.count);_[d]=u.markerUnselectedOptions[d],v.update.apply(v,_)}}else{var f=new Array(u.count);f[d]=u.markerOptions[d],v.update.apply(v,f)}}return u.selectBatch[d]=h,u.unselectBatch[d]=m,c&&k(b),t}},99181:function(ee,D,e){"use strict";var M=e(5386).fF,k=e(5386).si,a=e(19316),T=e(82196),b=e(23585),p=e(9012),s=e(50693),t=e(1426).extendFlat,i=e(30962).overrideAll,n=e(23585),r=a.line,o=a.marker;ee.exports=i({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},o.opacity,{dflt:1})},mode:t({},T.mode,{dflt:"markers"}),text:t({},T.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},T.hovertext,{}),line:{color:r.color,width:r.width},connectgaps:T.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:o.opacity,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode},s("marker")),fill:a.fill,fillcolor:T.fillcolor,textfont:b.layers.symbol.textfont,textposition:b.layers.symbol.textposition,below:{valType:"string"},selected:{marker:T.selected.marker},unselected:{marker:T.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:M()},"calc","nested")},15790:function(ee,D,e){"use strict";var M=e(92770),k=e(71828),a=e(50606).BADNUM,T=e(18214),b=e(21081),p=e(91424),s=e(39984),t=e(34098),i=e(13056),n=e(23469).appendArrayPointValue,r=e(63893).NEWLINES,o=e(63893).BR_TAG_ALL;function l(g){return{type:g,geojson:T.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(g,h){return k.isArrayOrTypedArray(g)?h?function(m){return M(g[m])?+g[m]:0}:function(m){return g[m]}:g?function(){return g}:d}function d(){return""}function c(g){return g[0]===a}function x(g,h){var m;if(k.isArrayOrTypedArray(g)&&k.isArrayOrTypedArray(h)){m=["step",["get","point_count"],g[0]];for(var y=1;y<g.length;y++)m.push(h[y-1],g[y])}else m=g;return m}ee.exports=function(g,h){var m,y=h[0].trace,v=!0===y.visible&&0!==y._length,_="none"!==y.fill,f=t.hasLines(y),S=t.hasMarkers(y),w=t.hasText(y),E=S&&"circle"===y.marker.symbol,C=S&&"circle"!==y.marker.symbol,O=y.cluster&&y.cluster.enabled,P=l("fill"),R=l("line"),j=l("circle"),z=l("symbol"),N={fill:P,line:R,circle:j,symbol:z};if(!v)return N;if((_||f)&&(m=T.calcTraceToLineCoords(h)),_&&(P.geojson=T.makePolygon(m),P.layout.visibility="visible",k.extendFlat(P.paint,{"fill-color":y.fillcolor})),f&&(R.geojson=T.makeLine(m),R.layout.visibility="visible",k.extendFlat(R.paint,{"line-width":y.line.width,"line-color":y.line.color,"line-opacity":y.opacity})),E){var Y=function(V){var te,$,X,W,J=V[0].trace,Q=J.marker,re=J.selectedpoints,ae=k.isArrayOrTypedArray(Q.color),oe=k.isArrayOrTypedArray(Q.size),ue=k.isArrayOrTypedArray(Q.opacity);function ve(se){return J.opacity*se}ae&&($=b.hasColorscale(J,"marker")?b.makeColorScaleFuncFromTrace(Q):k.identity),oe&&(X=s(J)),ue&&(W=function(se){return ve(M(se)?+k.constrain(se,0,1):0)});var be,de,pe=[];for(te=0;te<V.length;te++){var ge=V[te],Ae=ge.lonlat;if(!c(Ae)){var ye={};$&&(ye.mcc=ge.mcc=$(ge.mc)),X&&(ye.mrc=ge.mrc=X(ge.ms)),W&&(ye.mo=W(ge.mo)),re&&(ye.selected=ge.selected||0),pe.push({type:"Feature",id:te+1,geometry:{type:"Point",coordinates:Ae},properties:ye})}}if(re)for(be=p.makeSelectedPointStyleFns(J),te=0;te<pe.length;te++){var we=pe[te].properties;be.selectedOpacityFn&&(we.mo=ve(be.selectedOpacityFn(we))),be.selectedColorFn&&(we.mcc=be.selectedColorFn(we)),be.selectedSizeFn&&(we.mrc=be.selectedSizeFn(we))}return{geojson:{type:"FeatureCollection",features:pe},mcc:ae||be&&be.selectedColorFn?{type:"identity",property:"mcc"}:Q.color,mrc:oe||be&&be.selectedSizeFn?{type:"identity",property:"mrc"}:(de=Q.size,de/2),mo:ue||be&&be.selectedOpacityFn?{type:"identity",property:"mo"}:ve(Q.opacity)}}(h);j.geojson=Y.geojson,j.layout.visibility="visible",O&&(j.filter=["!",["has","point_count"]],N.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":x(y.cluster.color,y.cluster.step),"circle-radius":x(y.cluster.size,y.cluster.step),"circle-opacity":x(y.cluster.opacity,y.cluster.step)}},N.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),k.extendFlat(j.paint,{"circle-color":Y.mcc,"circle-radius":Y.mrc,"circle-opacity":Y.mo})}if(E&&O&&(j.filter=["!",["has","point_count"]]),(C||w)&&(z.geojson=function(V,te){for(var $=te._fullLayout,X=V[0].trace,W=X.marker||{},J=W.symbol,Q=W.angle,re="circle"!==J?u(J):d,ae="auto"!==Q?u(Q,!0):d,oe=t.hasText(X)?u(X.text):d,ue=[],ve=0;ve<V.length;ve++){var be=V[ve];if(!c(be.lonlat)){var de,pe=X.texttemplate;if(pe){var ge=Array.isArray(pe)?pe[ve]||"":pe,Ae=X._module.formatLabels(be,X,$),ye={};n(ye,X,be.i);var we=X._meta||{};de=k.texttemplateString(ge,Ae,$._d3locale,ye,be,we)}else de=oe(ve);de&&(de=de.replace(r,"").replace(o,"\n")),ue.push({type:"Feature",geometry:{type:"Point",coordinates:be.lonlat},properties:{symbol:re(ve),angle:ae(ve),text:de}})}}return{type:"FeatureCollection",features:ue}}(h,g),k.extendFlat(z.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),C&&(k.extendFlat(z.layout,{"icon-size":y.marker.size/10}),"angle"in y.marker&&"auto"!==y.marker.angle&&k.extendFlat(z.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),z.layout["icon-allow-overlap"]=y.marker.allowoverlap,k.extendFlat(z.paint,{"icon-opacity":y.opacity*y.marker.opacity,"icon-color":y.marker.color})),w)){var F=(y.marker||{}).size,U=i(y.textposition,F);k.extendFlat(z.layout,{"text-size":y.textfont.size,"text-anchor":U.anchor,"text-offset":U.offset,"text-font":y.textfont.family.split(", ")}),k.extendFlat(z.paint,{"text-color":y.textfont.color,"text-opacity":y.opacity})}return N}},76645:function(ee,D,e){"use strict";var M=e(71828),k=e(34098),a=e(49508),T=e(11058),b=e(82410),p=e(28908),s=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];ee.exports=function(i,n,r,o){function l(v,_){return M.coerce(i,n,s,v,_)}function u(v,_){return M.coerce2(i,n,s,v,_)}var _,f,S,w,E;if(_=n,S=(f=l)("lon")||[],w=f("lat")||[],E=Math.min(S.length,w.length),_._length=E,E){if(l("text"),l("texttemplate"),l("hovertext"),l("hovertemplate"),l("mode"),l("below"),k.hasMarkers(n)){a(i,n,r,o,l,{noLine:!0,noAngle:!0}),l("marker.allowoverlap"),l("marker.angle");var c=n.marker;"circle"!==c.symbol&&(M.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),M.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}k.hasLines(n)&&(T(i,n,r,o,l,{noDash:!0}),l("connectgaps"));var x=u("cluster.maxzoom"),g=u("cluster.step"),h=u("cluster.color",n.marker&&n.marker.color||r),m=u("cluster.size"),y=u("cluster.opacity");l("cluster.enabled",!1!==x||!1!==g||!1!==h||!1!==m||!1!==y),k.hasText(n)&&b(i,n,o,l,{noSelect:!0,font:{family:-1!==t.indexOf(o.font.family)?o.font.family:"Open Sans Regular",size:o.font.size,color:o.font.color}}),l("fill"),"none"!==n.fill&&p(i,n,r,l),M.coerceSelectionMarkerOpacity(n,l)}else n.visible=!1}},53353:function(ee){"use strict";ee.exports=function(D,e){return D.lon=e.lon,D.lat=e.lat,D}},15636:function(ee,D,e){"use strict";var M=e(89298);ee.exports=function(k,a,T){var b={},p=T[a.subplot]._subplot.mockAxis,s=k.lonlat;return b.lonLabel=M.tickText(p,p.c2l(s[0]),!0).text,b.latLabel=M.tickText(p,p.c2l(s[1]),!0).text,b}},28178:function(ee,D,e){"use strict";var M=e(30211),k=e(71828),a=e(34603),T=k.fillText,b=e(50606).BADNUM,p=e(77734).traceLayerPrefix;function s(t,i,n){if(!t.hovertemplate){var r=(i.hi||t.hoverinfo).split("+"),o=-1!==r.indexOf("all"),l=-1!==r.indexOf("lon"),u=-1!==r.indexOf("lat"),d=i.lonlat,c=[];return o||l&&u?c.push("("+x(d[1])+", "+x(d[0])+")"):l?c.push(n.lon+x(d[0])):u&&c.push(n.lat+x(d[1])),(o||-1!==r.indexOf("text"))&&T(i,t,c),c.join("<br>")}function x(g){return g+"\xb0"}}ee.exports={hoverPoints:function(t,i,n){var r=t.cd,o=r[0].trace,l=t.xa,u=t.ya,d=t.subplot,c=[],x=p+o.uid+"-circle",g=o.cluster&&o.cluster.enabled;if(g){var h=d.map.queryRenderedFeatures(null,{layers:[x]});c=h.map(function(P){return P.id})}var m=360*(i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360)),y=i-m;if(M.getClosest(r,function(P){var R=P.lonlat;if(R[0]===b||g&&-1===c.indexOf(P.i+1))return 1/0;var j=k.modHalf(R[0],360),z=R[1],N=d.project([j,z]),Y=N.x-l.c2p([y,z]),F=N.y-u.c2p([j,n]),U=Math.max(3,P.mrc||0);return Math.max(Math.sqrt(Y*Y+F*F)-U,1-3/U)},t),!1!==t.index){var v=r[t.index],_=v.lonlat,f=[k.modHalf(_[0],360)+m,_[1]],S=l.c2p(f),w=u.c2p(f),E=v.mrc||1;t.x0=S-E,t.x1=S+E,t.y0=w-E,t.y1=w+E;var C={};C[o.subplot]={_subplot:d};var O=o._module.formatLabels(v,o,C);return t.lonLabel=O.lonLabel,t.latLabel=O.latLabel,t.color=a(o,v),t.extraText=s(o,v,r[0].t.labels),t.hovertemplate=o.hovertemplate,[t]}},getExtraText:s}},20467:function(ee,D,e){"use strict";ee.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(M,k){k&&k[0].trace._glTrace.update(k)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(ee,D,e){"use strict";var M=e(71828),k=e(15790),a=e(77734).traceLayerPrefix,T={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function b(s,t,i,n){this.type="scattermapbox",this.subplot=s,this.uid=t,this.clusterEnabled=i,this.isHidden=n,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var p=b.prototype;p.addSource=function(s,t,i){var n={type:"geojson",data:t.geojson};i&&i.enabled&&M.extendFlat(n,{cluster:!0,clusterMaxZoom:i.maxzoom});var r=this.subplot.map.getSource(this.sourceIds[s]);r?r.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[s],n)},p.setSourceData=function(s,t){this.subplot.map.getSource(this.sourceIds[s]).setData(t.geojson)},p.addLayer=function(s,t,i){var n={type:t.type,id:this.layerIds[s],source:this.sourceIds[s],layout:t.layout,paint:t.paint};t.filter&&(n.filter=t.filter);for(var r,o=this.layerIds[s],l=this.subplot.getMapLayers(),u=0;u<l.length;u++)if(l[u].id===o){r=!0;break}r?(this.subplot.setOptions(o,"setLayoutProperty",n.layout),"visible"===n.layout.visibility&&this.subplot.setOptions(o,"setPaintProperty",n.paint)):this.subplot.addLayer(n,i)},p.update=function(s){var t=s[0].trace,i=this.subplot,n=i.map,r=k(i.gd,s),o=i.belowLookup["trace-"+this.uid],l=!(!t.cluster||!t.cluster.enabled),u=!!this.clusterEnabled,d=this;function c(y){u?function(v){for(var _=T.cluster,f=_.length-1;f>=0;f--){var S=_[f];n.removeLayer(d.layerIds[S])}v||n.removeSource(d.sourceIds.circle)}(y):function(v){for(var _=T.nonCluster,f=_.length-1;f>=0;f--){var S=_[f];n.removeLayer(d.layerIds[S]),v||n.removeSource(d.sourceIds[S])}}(y)}function x(y){l?function(v){v||d.addSource("circle",r.circle,t.cluster);for(var _=T.cluster,f=0;f<_.length;f++){var S=_[f],w=r[S];d.addLayer(S,w,o)}}(y):function(v){for(var _=T.nonCluster,f=0;f<_.length;f++){var S=_[f],w=r[S];v||d.addSource(S,w),d.addLayer(S,w,o)}}(y)}function g(){for(var y=l?T.cluster:T.nonCluster,v=0;v<y.length;v++){var _=y[v],f=r[_];f&&(i.setOptions(d.layerIds[_],"setLayoutProperty",f.layout),"visible"===f.layout.visibility&&("cluster"!==_&&d.setSourceData(_,f),i.setOptions(d.layerIds[_],"setPaintProperty",f.paint)))}}var h=this.isHidden,m=!0!==t.visible;m?h||c():h?m||x():u!==l?(c(),x()):(this.below!==o&&(c(!0),x(!0)),g()),this.clusterEnabled=l,this.isHidden=m,this.below=o,s[0].trace._glTrace=this},p.dispose=function(){for(var s=this.subplot.map,t=this.clusterEnabled?T.cluster:T.nonCluster,i=t.length-1;i>=0;i--){var n=t[i];s.removeLayer(this.layerIds[n]),s.removeSource(this.sourceIds[n])}},ee.exports=function(s,t){var i,n,r,o=t[0].trace,l=o.cluster&&o.cluster.enabled,u=!0!==o.visible,d=new b(s,o.uid,l,u),c=k(s.gd,t),x=d.below=s.belowLookup["trace-"+o.uid];if(l)for(d.addSource("circle",c.circle,o.cluster),i=0;i<T.cluster.length;i++)r=c[n=T.cluster[i]],d.addLayer(n,r,x);else for(i=0;i<T.nonCluster.length;i++)r=c[n=T.nonCluster[i]],d.addSource(n,r,o.cluster),d.addLayer(n,r,x);return t[0].trace._glTrace=d,d}},86387:function(ee,D,e){"use strict";var M=e(71828),k=e(34098),a=e(50606).BADNUM;ee.exports=function(T,b){var p,s=T.cd,t=T.xaxis,i=T.yaxis,n=[],r=s[0].trace;if(!k.hasMarkers(r))return[];if(!1===b)for(p=0;p<s.length;p++)s[p].selected=0;else for(p=0;p<s.length;p++){var o=s[p],l=o.lonlat;if(l[0]!==a){var u=[M.modHalf(l[0],360),l[1]],d=[t.c2p(u),i.c2p(u)];b.contains(d,null,p,T)?(n.push({pointNumber:p,lon:l[0],lat:l[1]}),o.selected=1):o.selected=0}}return n}},81245:function(ee,D,e){"use strict";var M=e(5386).fF,k=e(5386).si,a=e(1426).extendFlat,T=e(82196),b=e(9012),p=T.line;ee.exports={mode:T.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:T.text,texttemplate:k({editType:"plot"},{keys:["r","theta","text"]}),hovertext:T.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:a({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:T.connectgaps,marker:T.marker,cliponaxis:a({},T.cliponaxis,{dflt:!1}),textposition:T.textposition,textfont:T.textfont,fill:a({},T.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:T.fillcolor,hoverinfo:a({},b.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:T.hoveron,hovertemplate:M(),selected:T.selected,unselected:T.unselected}},26442:function(ee,D,e){"use strict";var M=e(92770),k=e(50606).BADNUM,a=e(89298),T=e(36922),b=e(75225),p=e(66279),s=e(47761).calcMarkerSize;ee.exports=function(t,i){for(var n=t._fullLayout,r=i.subplot,o=n[r].radialaxis,l=n[r].angularaxis,u=o.makeCalcdata(i,"r"),d=l.makeCalcdata(i,"theta"),c=i._length,x=new Array(c),g=0;g<c;g++){var h=u[g],m=d[g],y=x[g]={};M(h)&&M(m)?(y.r=h,y.theta=m):y.r=k}var v=s(i,c);return i._extremes.x=a.findExtremes(o,u,{ppad:v}),T(t,i),b(x,i),p(x,i),x}},22184:function(ee,D,e){"use strict";var M=e(71828),k=e(34098),a=e(49508),T=e(11058),b=e(94039),p=e(82410),s=e(28908),t=e(47581).PTS_LINESONLY,i=e(81245);function n(r,o,l,u){var d,c=u("r"),x=u("theta");if(M.isTypedArray(c)&&(o.r=c=Array.from(c)),M.isTypedArray(x)&&(o.theta=x=Array.from(x)),c)x?d=Math.min(c.length,x.length):(d=c.length,u("theta0"),u("dtheta"));else{if(!x)return 0;d=o.theta.length,u("r0"),u("dr")}return o._length=d,d}ee.exports={handleRThetaDefaults:n,supplyDefaults:function(r,o,l,u){function d(g,h){return M.coerce(r,o,i,g,h)}var c=n(0,o,0,d);if(c){d("thetaunit"),d("mode",c<t?"lines+markers":"lines"),d("text"),d("hovertext"),"fills"!==o.hoveron&&d("hovertemplate"),k.hasMarkers(o)&&a(r,o,l,u,d,{gradient:!0}),k.hasLines(o)&&(T(r,o,l,u,d,{backoff:!0}),b(r,o,d),d("connectgaps")),k.hasText(o)&&(d("texttemplate"),p(r,o,u,d));var x=[];(k.hasMarkers(o)||k.hasText(o))&&(d("cliponaxis"),d("marker.maxdisplayed"),x.push("points")),d("fill"),"none"!==o.fill&&(s(r,o,l,d),k.hasLines(o)||b(r,o,d)),"tonext"!==o.fill&&"toself"!==o.fill||x.push("fills"),d("hoveron",x.join("+")||"points"),M.coerceSelectionMarkerOpacity(o,d)}else o.visible=!1}}},98608:function(ee,D,e){"use strict";var M=e(71828),k=e(89298);ee.exports=function(a,T,b){var p,s,t={},i=b[T.subplot]._subplot;i?(p=i.radialAxis,s=i.angularAxis):(p=(i=b[T.subplot]).radialaxis,s=i.angularaxis);var n=p.c2l(a.r);t.rLabel=k.tickText(p,n,!0).text;var r="degrees"===s.thetaunit?M.rad2deg(a.theta):a.theta;return t.thetaLabel=k.tickText(s,r,!0).text,t}},59150:function(ee,D,e){"use strict";var M=e(33720);function k(a,T,b,p){var s=b.radialAxis,t=b.angularAxis;s._hovertitle="r",t._hovertitle="\u03b8";var i={};i[T.subplot]={_subplot:b};var n=T._module.formatLabels(a,T,i);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var r=a.hi||T.hoverinfo,o=[];function l(d,c){o.push(d._hovertitle+": "+c)}if(!T.hovertemplate){var u=r.split("+");-1!==u.indexOf("all")&&(u=["r","theta","text"]),-1!==u.indexOf("r")&&l(s,p.rLabel),-1!==u.indexOf("theta")&&l(t,p.thetaLabel),-1!==u.indexOf("text")&&p.text&&(o.push(p.text),delete p.text),p.extraText=o.join("<br>")}}ee.exports={hoverPoints:function(a,T,b,p){var s=M(a,T,b,p);if(s&&!1!==s[0].index){var t=s[0];if(void 0===t.index)return s;var i=a.subplot,n=t.cd[t.index],r=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(n,r,i,t),t.hovertemplate=r.hovertemplate,s}},makeHoverPointText:k}},91271:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(ee,D,e){"use strict";var M=e(32663),k=e(50606).BADNUM;ee.exports=function(a,T,b){for(var p=T.layers.frontplot.select("g.scatterlayer"),s=T.xaxis,t=T.yaxis,i={xaxis:s,yaxis:t,plot:T.framework,layerClipId:T._hasClipOnAxisFalse?T.clipIds.forTraces:null},n=T.radialAxis,r=T.angularAxis,o=0;o<b.length;o++)for(var l=b[o],u=0;u<l.length;u++){0===u&&(l[0].trace._xA=s,l[0].trace._yA=t);var d=l[u],c=d.r;if(c===k)d.x=d.y=k;else{var x=n.c2g(c),g=r.c2g(d.theta);d.x=x*Math.cos(g),d.y=x*Math.sin(g)}}M(a,i,b,p)}},53286:function(ee,D,e){"use strict";var M=e(81245),k=e(42341),a=e(5386).si;ee.exports={mode:M.mode,r:M.r,theta:M.theta,r0:M.r0,dr:M.dr,theta0:M.theta0,dtheta:M.dtheta,thetaunit:M.thetaunit,text:M.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:M.hovertext,hovertemplate:M.hovertemplate,line:{color:k.line.color,width:k.line.width,dash:k.line.dash,editType:"calc"},connectgaps:k.connectgaps,marker:k.marker,fill:k.fill,fillcolor:k.fillcolor,textposition:k.textposition,textfont:k.textfont,hoverinfo:M.hoverinfo,selected:M.selected,unselected:M.unselected}},65746:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(ee,D,e){"use strict";var M=e(36922),k=e(47761).calcMarkerSize,a=e(19635),T=e(89298),b=e(78232).TOO_MANY_POINTS;ee.exports=function(p,s){var t=p._fullLayout,i=s.subplot,n=t[i].radialaxis,r=t[i].angularaxis,o=s._r=n.makeCalcdata(s,"r"),l=s._theta=r.makeCalcdata(s,"theta"),u=s._length,d={};u<o.length&&(o=o.slice(0,u)),u<l.length&&(l=l.slice(0,u)),d.r=o,d.theta=l,M(p,s);var c,x=d.opts=a.style(p,s);return u<b?c=k(s,u):x.marker&&(c=2*(x.marker.sizeAvg||Math.max(x.marker.size,3))),s._extremes.x=T.findExtremes(n,o,{ppad:c}),[{x:!1,y:!1,t:d,trace:s}]}},75485:function(ee,D,e){"use strict";var M=e(71828),k=e(34098),a=e(22184).handleRThetaDefaults,T=e(49508),b=e(11058),p=e(82410),s=e(28908),t=e(47581).PTS_LINESONLY,i=e(53286);ee.exports=function(n,r,o,l){function u(c,x){return M.coerce(n,r,i,c,x)}var d=a(n,r,l,u);d?(u("thetaunit"),u("mode",d<t?"lines+markers":"lines"),u("text"),u("hovertext"),"fills"!==r.hoveron&&u("hovertemplate"),k.hasMarkers(r)&&T(n,r,o,l,u,{noAngleRef:!0,noStandOff:!0}),k.hasLines(r)&&(b(n,r,o,l,u),u("connectgaps")),k.hasText(r)&&(u("texttemplate"),p(n,r,l,u)),u("fill"),"none"!==r.fill&&s(n,r,o,u),M.coerceSelectionMarkerOpacity(r,u)):r.visible=!1}},46255:function(ee,D,e){"use strict";var M=e(98608);ee.exports=function(k,a,T){var b=k.i;return"r"in k||(k.r=a._r[b]),"theta"in k||(k.theta=a._theta[b]),M(k,a,T)}},29347:function(ee,D,e){"use strict";var M=e(20794),k=e(59150).makeHoverPointText;ee.exports={hoverPoints:function(a,T,b,p){var s=a.cd[0].t,t=s.r,i=s.theta,n=M.hoverPoints(a,T,b,p);if(n&&!1!==n[0].index){var r=n[0];if(void 0===r.index)return n;var o=a.subplot,l=r.cd[r.index],u=r.trace;if(l.r=t[r.index],l.theta=i[r.index],o.isPtInside(l))return r.xLabelVal=void 0,r.yLabelVal=void 0,k(l,u,o,r),n}}}},21461:function(ee,D,e){"use strict";var M=e(65746);M.plot=e(49741),ee.exports=M},49741:function(ee,D,e){"use strict";var M=e(88294),k=e(92770),a=e(26787),T=e(38967),b=e(19635),p=e(71828),s=e(78232).TOO_MANY_POINTS;ee.exports=function(t,i,n){if(n.length){var r=i.radialAxis,o=i.angularAxis,l=T(t,i);return n.forEach(function(u){if(u&&u[0]&&u[0].trace){var d,c=u[0],x=c.trace,g=c.t,h=x._length,m=g.r,y=g.theta,v=g.opts,_=m.slice(),f=y.slice();for(d=0;d<m.length;d++)i.isPtInside({r:m[d],theta:y[d]})||(_[d]=NaN,f[d]=NaN);var S=new Array(2*h),w=Array(h),E=Array(h);for(d=0;d<h;d++){var C,O,P=_[d];if(k(P)){var R=r.c2g(P),j=o.c2g(f[d],x.thetaunit);C=R*Math.cos(j),O=R*Math.sin(j)}else C=O=NaN;w[d]=S[2*d]=C,E[d]=S[2*d+1]=O}g.tree=M(S),v.marker&&h>=s&&(v.marker.cluster=g.tree),v.marker&&(v.markerSel.positions=v.markerUnsel.positions=v.marker.positions=S),v.line&&S.length>1&&p.extendFlat(v.line,b.linePositions(t,x,S)),v.text&&(p.extendFlat(v.text,{positions:S},b.textPosition(t,x,v.text,v.marker)),p.extendFlat(v.textSel,{positions:S},b.textPosition(t,x,v.text,v.markerSel)),p.extendFlat(v.textUnsel,{positions:S},b.textPosition(t,x,v.text,v.markerUnsel))),v.fill&&!l.fill2d&&(l.fill2d=!0),v.marker&&!l.scatter2d&&(l.scatter2d=!0),v.line&&!l.line2d&&(l.line2d=!0),v.text&&!l.glText&&(l.glText=!0),l.lineOptions.push(v.line),l.fillOptions.push(v.fill),l.markerOptions.push(v.marker),l.markerSelectedOptions.push(v.markerSel),l.markerUnselectedOptions.push(v.markerUnsel),l.textOptions.push(v.text),l.textSelectedOptions.push(v.textSel),l.textUnselectedOptions.push(v.textUnsel),l.selectBatch.push([]),l.unselectBatch.push([]),g.x=w,g.y=E,g.rawx=w,g.rawy=E,g.r=m,g.theta=y,g.positions=S,g._scene=l,g.index=l.count,l.count++}}),a(t,i,n)}},ee.exports.reglPrecompiled={}},48300:function(ee,D,e){"use strict";var M=e(5386).fF,k=e(5386).si,a=e(1426).extendFlat,T=e(82196),b=e(9012),p=T.line;ee.exports={mode:T.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:T.text,texttemplate:k({editType:"plot"},{keys:["real","imag","text"]}),hovertext:T.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:a({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:T.connectgaps,marker:T.marker,cliponaxis:a({},T.cliponaxis,{dflt:!1}),textposition:T.textposition,textfont:T.textfont,fill:a({},T.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:T.fillcolor,hoverinfo:a({},b.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:T.hoveron,hovertemplate:M(),selected:T.selected,unselected:T.unselected}},30621:function(ee,D,e){"use strict";var M=e(92770),k=e(50606).BADNUM,a=e(36922),T=e(75225),b=e(66279),p=e(47761).calcMarkerSize;ee.exports=function(s,t){for(var i=s._fullLayout,n=t.subplot,r=i[n].realaxis,o=i[n].imaginaryaxis,l=r.makeCalcdata(t,"real"),u=o.makeCalcdata(t,"imag"),d=t._length,c=new Array(d),x=0;x<d;x++){var g=l[x],h=u[x],m=c[x]={};M(g)&&M(h)?(m.real=g,m.imag=h):m.real=k}return p(t,d),a(s,t),T(c,t),b(c,t),c}},65269:function(ee,D,e){"use strict";var M=e(71828),k=e(34098),a=e(49508),T=e(11058),b=e(94039),p=e(82410),s=e(28908),t=e(47581).PTS_LINESONLY,i=e(48300);ee.exports=function(n,r,o,l){function u(x,g){return M.coerce(n,r,i,x,g)}var g,m,y,v,_,d=(g=r,v=(m=u)("real"),_=m("imag"),v&&_&&(y=Math.min(v.length,_.length)),M.isTypedArray(v)&&(g.real=v=Array.from(v)),M.isTypedArray(_)&&(g.imag=_=Array.from(_)),g._length=y,y);if(d){u("mode",d<t?"lines+markers":"lines"),u("text"),u("hovertext"),"fills"!==r.hoveron&&u("hovertemplate"),k.hasMarkers(r)&&a(n,r,o,l,u,{gradient:!0}),k.hasLines(r)&&(T(n,r,o,l,u,{backoff:!0}),b(n,r,u),u("connectgaps")),k.hasText(r)&&(u("texttemplate"),p(n,r,l,u));var c=[];(k.hasMarkers(r)||k.hasText(r))&&(u("cliponaxis"),u("marker.maxdisplayed"),c.push("points")),u("fill"),"none"!==r.fill&&(s(n,r,o,u),k.hasLines(r)||b(n,r,u)),"tonext"!==r.fill&&"toself"!==r.fill||c.push("fills"),u("hoveron",c.join("+")||"points"),M.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},62047:function(ee,D,e){"use strict";var M=e(89298);ee.exports=function(k,a,T){var b={},p=T[a.subplot]._subplot;return b.realLabel=M.tickText(p.radialAxis,k.real,!0).text,b.imagLabel=M.tickText(p.angularAxis,k.imag,!0).text,b}},11350:function(ee,D,e){"use strict";var M=e(33720);function k(a,T,b,p){var s=b.radialAxis,t=b.angularAxis;s._hovertitle="real",t._hovertitle="imag";var i={};i[T.subplot]={_subplot:b};var n=T._module.formatLabels(a,T,i);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var r=a.hi||T.hoverinfo,o=[];function l(d,c){o.push(d._hovertitle+": "+c)}if(!T.hovertemplate){var u=r.split("+");-1!==u.indexOf("all")&&(u=["real","imag","text"]),-1!==u.indexOf("real")&&l(s,p.realLabel),-1!==u.indexOf("imag")&&l(t,p.imagLabel),-1!==u.indexOf("text")&&p.text&&(o.push(p.text),delete p.text),p.extraText=o.join("<br>")}}ee.exports={hoverPoints:function(a,T,b,p){var s=M(a,T,b,p);if(s&&!1!==s[0].index){var t=s[0];if(void 0===t.index)return s;var i=a.subplot,n=t.cd[t.index],r=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(n,r,i,t),t.hovertemplate=r.hovertemplate,s}},makeHoverPointText:k}},85956:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(ee,D,e){"use strict";var M=e(32663),k=e(50606).BADNUM,a=e(23893).smith;ee.exports=function(T,b,p){for(var s=b.layers.frontplot.select("g.scatterlayer"),t=b.xaxis,i=b.yaxis,n={xaxis:t,yaxis:i,plot:b.framework,layerClipId:b._hasClipOnAxisFalse?b.clipIds.forTraces:null},r=0;r<p.length;r++)for(var o=p[r],l=0;l<o.length;l++){0===l&&(o[0].trace._xA=t,o[0].trace._yA=i);var u=o[l],d=u.real;if(d===k)u.x=u.y=k;else{var c=a([d,u.imag]);u.x=c[0],u.y=c[1]}}M(T,n,p,s)}},50413:function(ee,D,e){"use strict";var M=e(5386).fF,k=e(5386).si,a=e(82196),T=e(9012),b=e(50693),p=e(79952).P,s=e(1426).extendFlat,t=a.marker,i=a.line,n=t.line;ee.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:s({},a.mode,{dflt:"markers"}),text:s({},a.text,{}),texttemplate:k({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:s({},a.hovertext,{}),line:{color:i.color,width:i.width,dash:p,backoff:i.backoff,shape:s({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:s({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:s({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:s({width:n.width,editType:"calc"},b("marker.line")),gradient:t.gradient,editType:"calc"},b("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:s({},T.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:M()}},54337:function(ee,D,e){"use strict";var M=e(92770),k=e(36922),a=e(75225),T=e(66279),b=e(47761).calcMarkerSize,p=["a","b","c"],s={a:["b","c"],b:["a","c"],c:["a","b"]};ee.exports=function(t,i){var n,r,o,l,u,d,c=t._fullLayout[i.subplot].sum,x=i.sum||c,g={a:i.a,b:i.b,c:i.c};for(n=0;n<p.length;n++)if(!g[o=p[n]]){for(u=g[s[o][0]],d=g[s[o][1]],l=new Array(u.length),r=0;r<u.length;r++)l[r]=x-u[r]-d[r];g[o]=l}var h,m,y,v,_,f,S=i._length,w=new Array(S);for(n=0;n<S;n++)h=g.a[n],m=g.b[n],y=g.c[n],M(h)&&M(m)&&M(y)?(1!=(v=c/((h=+h)+(m=+m)+(y=+y)))&&(h*=v,m*=v,y*=v),f=h,_=y-m,w[n]={x:_,y:f,a:h,b:m,c:y}):w[n]={x:!1,y:!1};return b(i,S),k(t,i),a(w,i),T(w,i),w}},46008:function(ee,D,e){"use strict";var M=e(71828),k=e(47581),a=e(34098),T=e(49508),b=e(11058),p=e(94039),s=e(82410),t=e(28908),i=e(50413);ee.exports=function(n,r,o,l){function u(m,y){return M.coerce(n,r,i,m,y)}var d,c=u("a"),x=u("b"),g=u("c");if(c?(d=c.length,x?(d=Math.min(d,x.length),g&&(d=Math.min(d,g.length))):d=g?Math.min(d,g.length):0):x&&g&&(d=Math.min(x.length,g.length)),d){r._length=d,u("sum"),u("text"),u("hovertext"),"fills"!==r.hoveron&&u("hovertemplate"),u("mode",d<k.PTS_LINESONLY?"lines+markers":"lines"),a.hasMarkers(r)&&T(n,r,o,l,u,{gradient:!0}),a.hasLines(r)&&(b(n,r,o,l,u,{backoff:!0}),p(n,r,u),u("connectgaps")),a.hasText(r)&&(u("texttemplate"),s(n,r,l,u));var h=[];(a.hasMarkers(r)||a.hasText(r))&&(u("cliponaxis"),u("marker.maxdisplayed"),h.push("points")),u("fill"),"none"!==r.fill&&(t(n,r,o,u),a.hasLines(r)||p(n,r,u)),"tonext"!==r.fill&&"toself"!==r.fill||h.push("fills"),u("hoveron",h.join("+")||"points"),M.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},4524:function(ee){"use strict";ee.exports=function(D,e,M,k,a){if(e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),k[a]){var T=k[a];D.a=T.a,D.b=T.b,D.c=T.c}else D.a=e.a,D.b=e.b,D.c=e.c;return D}},93645:function(ee,D,e){"use strict";var M=e(89298);ee.exports=function(k,a,T){var b={},p=T[a.subplot]._subplot;return b.aLabel=M.tickText(p.aaxis,k.a,!0).text,b.bLabel=M.tickText(p.baxis,k.b,!0).text,b.cLabel=M.tickText(p.caxis,k.c,!0).text,b}},47250:function(ee,D,e){"use strict";var M=e(33720);ee.exports=function(k,a,T,b){var p=M(k,a,T,b);if(p&&!1!==p[0].index){var s=p[0];if(void 0===s.index){var t=1-s.y0/k.ya._length,i=k.xa._length,n=i*t/2,r=i-n;return s.x0=Math.max(Math.min(s.x0,r),n),s.x1=Math.max(Math.min(s.x1,r),n),p}var o=s.cd[s.index],l=s.trace,u=s.subplot;s.a=o.a,s.b=o.b,s.c=o.c,s.xLabelVal=void 0,s.yLabelVal=void 0;var d={};d[l.subplot]={_subplot:u};var c=l._module.formatLabels(o,l,d);s.aLabel=c.aLabel,s.bLabel=c.bLabel,s.cLabel=c.cLabel;var x=o.hi||l.hoverinfo,g=[];if(!l.hovertemplate){var h=x.split("+");-1!==h.indexOf("all")&&(h=["a","b","c"]),-1!==h.indexOf("a")&&m(u.aaxis,s.aLabel),-1!==h.indexOf("b")&&m(u.baxis,s.bLabel),-1!==h.indexOf("c")&&m(u.caxis,s.cLabel)}return s.extraText=g.join("<br>"),s.hovertemplate=l.hovertemplate,p}function m(y,v){g.push(y._hovertitle+": "+v)}}},52979:function(ee,D,e){"use strict";ee.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(ee,D,e){"use strict";var M=e(32663);ee.exports=function(k,a,T){var b=a.plotContainer;b.select(".scatterlayer").selectAll("*").remove();for(var p=a.xaxis,s=a.yaxis,t={xaxis:p,yaxis:s,plot:b,layerClipId:a._hasClipOnAxisFalse?a.clipIdRelative:null},i=a.layers.frontplot.select("g.scatterlayer"),n=0;n<T.length;n++){var r=T[n];r.length&&(r[0].trace._xA=p,r[0].trace._yA=s)}M(k,t,T,i)}},46880:function(ee,D,e){"use strict";var M=e(82196),k=e(50693),a=e(12663).axisHoverFormat,T=e(5386).fF,b=e(42341),p=e(85555).idRegex,s=e(44467).templatedArray,t=e(1426).extendFlat,i=M.marker,n=i.line,r=t(k("marker.line",{editTypeOverride:"calc"}),{width:t({},n.width,{editType:"calc"}),editType:"calc"}),o=t(k("marker"),{symbol:i.symbol,angle:i.angle,size:t({},i.size,{editType:"markerSize"}),sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:r,editType:"calc"});function l(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:p[u],editType:"plot"}}}o.color.editType=o.cmin.editType=o.cmax.editType="style",ee.exports={dimensions:s("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},b.text,{}),hovertext:t({},b.hovertext,{}),hovertemplate:T(),xhoverformat:a("x"),yhoverformat:a("y"),marker:o,xaxes:l("x"),yaxes:l("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:b.selected.marker,editType:"calc"},unselected:{marker:b.unselected.marker,editType:"calc"},opacity:b.opacity}},65017:function(ee,D,e){"use strict";var M=e(73972),k=e(83312);ee.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},M.register(k)},16947:function(ee,D,e){"use strict";var M=e(46075),k=e(73972),a=e(79749),T=e(27659).a0,b=e(93612),p=e(41675).getFromId,s=e(89298).shouldShowZeroLine,t="splom",i={};function n(o,l,u){for(var d=u.matrixOptions.data.length,c=l._visibleDims,x=u.viewOpts.ranges=new Array(d),g=0;g<c.length;g++){var h=c[g],m=x[g]=new Array(4),y=p(o,l._diag[h][0]);y&&(m[0]=y.r2l(y.range[0]),m[2]=y.r2l(y.range[1]));var v=p(o,l._diag[h][1]);v&&(m[1]=v.r2l(v.range[0]),m[3]=v.r2l(v.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:x},{ranges:x}):u.matrix.update({ranges:x})}function r(o){var l=o._fullLayout,u=l._glcanvas.data()[0].regl,d=l._splomGrid;d||(d=l._splomGrid=M(u)),d.update(function(c){var x,g=c._context.plotGlPixelRatio,h=c._fullLayout,m=h._size,y=[0,0,h.width*g,h.height*g],v={};function _(V,te,$,X,W,J){$*=g,X*=g,W*=g,J*=g;var Q=te[V+"color"],re=te[V+"width"],ae=String(Q+re);ae in v?v[ae].data.push(NaN,NaN,$,X,W,J):v[ae]={data:[$,X,W,J],join:"rect",thickness:re*g,color:Q,viewport:y,range:y,overlay:!1}}for(x in h._splomSubplots){var f,S,w=h._plots[x],E=w.xaxis,C=w.yaxis,O=E._gridVals,P=C._gridVals,R=E._offset,j=E._length,z=C._length,N=m.b+C.domain[0]*m.h,Y=-C._m,F=-Y*C.r2l(C.range[0],C.calendar);if(E.showgrid)for(x=0;x<O.length;x++)f=R+E.l2p(O[x].x),_("grid",E,f,N,f,N+z);if(C.showgrid)for(x=0;x<P.length;x++)_("grid",C,R,S=N+F+Y*P[x].x,R+j,S);s(c,E,C)&&(f=R+E.l2p(0),_("zeroline",E,f,N,f,N+z)),s(c,C,E)&&_("zeroline",C,R,S=N+F+0,R+j,S)}var U=[];for(x in v)U.push(v[x]);return U}(o))}ee.exports={name:t,attr:b.attr,attrRegex:b.attrRegex,layoutAttributes:b.layoutAttributes,supplyLayoutDefaults:b.supplyLayoutDefaults,drawFramework:b.drawFramework,plot:function(o){var l=o._fullLayout,u=k.getModule(t),d=T(o.calcdata,u)[0];a(o,["ANGLE_instanced_arrays","OES_element_index_uint"],i)&&(l._hasOnlyLargeSploms&&r(o),u.plot(o,{},d))},drag:function(o){var l=o.calcdata,u=o._fullLayout;u._hasOnlyLargeSploms&&r(o);for(var d=0;d<l.length;d++){var c=l[d][0].trace,x=u._splomScenes[c.uid];"splom"===c.type&&x&&x.matrix&&n(o,c,x)}},updateGrid:r,clean:function(o,l,u,d){var c,x={};if(d._splomScenes){for(c=0;c<o.length;c++){var g=o[c];"splom"===g.type&&(x[g.uid]=1)}for(c=0;c<u.length;c++){var h=u[c];if(!x[h.uid]){var m=d._splomScenes[h.uid];m&&m.destroy&&m.destroy(),d._splomScenes[h.uid]=null,delete d._splomScenes[h.uid]}}}0===Object.keys(d._splomScenes||{}).length&&delete d._splomScenes,d._splomGrid&&!l._hasOnlyLargeSploms&&d._hasOnlyLargeSploms&&(d._splomGrid.destroy(),d._splomGrid=null,delete d._splomGrid),b.clean(o,l,u,d)},updateFx:b.updateFx,toSVG:b.toSVG,reglPrecompiled:i}},87625:function(ee,D,e){"use strict";var M=e(71828),k=e(41675),a=e(47761).calcMarkerSize,T=e(47761).calcAxisExpansion,b=e(36922),p=e(19635).markerSelection,s=e(19635).markerStyle,t=e(10164),i=e(50606).BADNUM,n=e(78232).TOO_MANY_POINTS;ee.exports=function(r,o){var l,u,d,c,x,g,h=o.dimensions,m=o._length,y={},v=y.cdata=[],_=y.data=[],f=o._visibleDims=[];function S(E,C){for(var O=E.makeCalcdata({v:C.values,vcalendar:o.calendar},"v"),P=0;P<O.length;P++)O[P]=O[P]===i?NaN:O[P];v.push(O),_.push("log"===E.type?M.simpleMap(O,E.c2l):O)}for(l=0;l<h.length;l++)if((d=h[l]).visible){if(c=k.getFromId(r,o._diag[l][0]),x=k.getFromId(r,o._diag[l][1]),c&&x&&c.type!==x.type){M.log("Skipping splom dimension "+l+" with conflicting axis types");continue}c?(S(c,d),x&&"category"===x.type&&(x._categories=c._categories.slice())):S(x,d),f.push(l)}for(b(r,o),M.extendFlat(y,s(r,o)),g=v.length*m>n?y.sizeAvg||Math.max(y.size,3):a(o,m),u=0;u<f.length;u++)d=h[l=f[u]],c=k.getFromId(r,o._diag[l][0])||{},x=k.getFromId(r,o._diag[l][1])||{},T(r,o,c,x,v[u],v[u],g);var w=t(r,o);return w.matrix||(w.matrix=!0),w.matrixOptions=y,w.selectedOptions=p(r,o,o.selected),w.unselectedOptions=p(r,o,o.unselected),[{x:!1,y:!1,t:{},trace:o}]}},25784:function(ee,D,e){"use strict";var M=e(71828),k=e(85501),a=e(46880),T=e(34098),b=e(49508),p=e(94397),s=e(68645).isOpenSymbol;function t(i,n){function r(l,u){return M.coerce(i,n,a.dimensions,l,u)}r("label");var o=r("values");o&&o.length?r("visible"):n.visible=!1,r("axis.type"),r("axis.matches")}ee.exports=function(i,n,r,o){function l(m,y){return M.coerce(i,n,a,m,y)}var u=k(i,n,{name:"dimensions",handleItemDefaults:t}),d=l("diagonal.visible"),c=l("showupperhalf"),x=l("showlowerhalf");if(p(n,u,"values")&&(d||c||x)){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),b(i,n,r,o,l,{noAngleRef:!0,noStandOff:!0});var g=s(n.marker.symbol),h=T.isBubble(n);l("marker.line.width",g||h?1:0),function(m,y,v,_){var f,S,w=y.dimensions,E=w.length,C=y.showupperhalf,O=y.showlowerhalf,P=y.diagonal.visible,R=new Array(E),j=new Array(E);for(f=0;f<E;f++){var z=f?f+1:"";R[f]="x"+z,j[f]="y"+z}var N=_("xaxes",R),Y=_("yaxes",j),F=y._diag=new Array(E);y._xaxes={},y._yaxes={};var U=[],V=[];function te(ue,ve,be,de){if(ue){var pe=ue.charAt(0),ge=v._splomAxes[pe];if(y["_"+pe+"axes"][ue]=1,de.push(ue),!(ue in ge)){var Ae=ge[ue]={};be&&(Ae.label=be.label||"",be.visible&&be.axis&&(be.axis.type&&(Ae.type=be.axis.type),be.axis.matches&&(Ae.matches=ve)))}}}var $=!P&&!O,X=!P&&!C;for(y._axesDim={},f=0;f<E;f++){var W=w[f],J=0===f,Q=f===E-1,re=J&&$||Q&&X?void 0:N[f],ae=J&&X||Q&&$?void 0:Y[f];te(re,ae,W,U),te(ae,re,W,V),F[f]=[re,ae],y._axesDim[re]=f,y._axesDim[ae]=f}for(f=0;f<U.length;f++)for(S=0;S<V.length;S++){var oe=U[f]+V[S];f>S&&C||f<S&&O?v._splomSubplots[oe]=1:f!==S||!P&&O&&C||(v._splomSubplots[oe]=1)}(!O||!P&&C&&O)&&(v._splomGridDflt.xside="bottom",v._splomGridDflt.yside="left")}(0,n,o,l),M.coerceSelectionMarkerOpacity(n,l)}else n.visible=!1}},28801:function(ee,D,e){"use strict";var M=e(71828),k=e(36922),a=e(19635).markerStyle;ee.exports=function(T,b){var p=b.trace,s=T._fullLayout._splomScenes[p.uid];if(s){k(T,p),M.extendFlat(s.matrixOptions,a(T,p));var t=M.extendFlat({},s.matrixOptions,s.viewOpts);s.matrix.update(t,null)}}},35948:function(ee,D){"use strict";D.getDimIndex=function(e,M){for(var k=M._id,a={x:0,y:1}[k.charAt(0)],T=e._visibleDims,b=0;b<T.length;b++){var p=T[b];if(e._diag[p][a]===k)return b}return!1}},8567:function(ee,D,e){"use strict";var M=e(35948),k=e(20794).calcHover;ee.exports={hoverPoints:function(a,T,b){var p=a.cd[0].trace,s=a.scene.matrixOptions.cdata,t=a.xa,i=a.ya,n=t.c2p(T),r=i.c2p(b),o=a.distance,l=M.getDimIndex(p,t),u=M.getDimIndex(p,i);if(!1===l||!1===u)return[a];for(var d,c,x=s[l],g=s[u],h=o,m=0;m<x.length;m++){var y=x[m],v=g[m],_=t.c2p(y)-n,f=i.c2p(v)-r,S=Math.sqrt(_*_+f*f);S<h&&(h=c=S,d=m)}return a.index=d,a.distance=h,a.dxy=c,void 0===d?[a]:[k(a,x,g,p)]}}},6419:function(ee,D,e){"use strict";var M=e(65017);M.basePlotModule=e(16947),ee.exports=M},79410:function(ee,D,e){"use strict";var M=e(60487),k=e(71828),a=e(41675),T=e(64505).selectMode;function b(p,s){var t,i,n,r,o,l=p._fullLayout,u=l._size,d=s.trace,c=s.t,x=l._splomScenes[d.uid],g=x.matrixOptions,h=g.cdata,m=l._glcanvas.data()[0].regl,y=l.dragmode;if(0!==h.length){g.lower=d.showupperhalf,g.upper=d.showlowerhalf,g.diagonal=d.diagonal.visible;var v=d._visibleDims,_=h.length,f=x.viewOpts={};for(f.ranges=new Array(_),f.domains=new Array(_),o=0;o<v.length;o++){n=v[o];var S=f.ranges[o]=new Array(4),w=f.domains[o]=new Array(4);(t=a.getFromId(p,d._diag[n][0]))&&(S[0]=t._rl[0],S[2]=t._rl[1],w[0]=t.domain[0],w[2]=t.domain[1]),(i=a.getFromId(p,d._diag[n][1]))&&(S[1]=i._rl[0],S[3]=i._rl[1],w[1]=i.domain[0],w[3]=i.domain[1])}var E=p._context.plotGlPixelRatio,C=u.l*E,O=u.b*E,P=u.w*E,R=u.h*E;f.viewport=[C,O,P+C,R+O],!0===x.matrix&&(x.matrix=M(m));var j=l.clickmode.indexOf("select")>-1,z=!0;if(T(y)||d.selectedpoints||j){var N=d._length;if(d.selectedpoints){x.selectBatch=d.selectedpoints;var Y=d.selectedpoints,F={};for(n=0;n<Y.length;n++)F[Y[n]]=!0;var U=[];for(n=0;n<N;n++)F[n]||U.push(n);x.unselectBatch=U}var V=c.xpx=new Array(_),te=c.ypx=new Array(_);for(o=0;o<v.length;o++){if(n=v[o],t=a.getFromId(p,d._diag[n][0]))for(V[o]=new Array(N),r=0;r<N;r++)V[o][r]=t.c2p(h[o][r]);if(i=a.getFromId(p,d._diag[n][1]))for(te[o]=new Array(N),r=0;r<N;r++)te[o][r]=i.c2p(h[o][r])}if(x.selectBatch.length||x.unselectBatch.length){var $=k.extendFlat({},g,x.unselectedOptions,f),X=k.extendFlat({},g,x.selectedOptions,f);x.matrix.update($,X),z=!1}}else c.xpx=c.ypx=null;if(z){var W=k.extendFlat({},g,f);x.matrix.update(W,null)}}}ee.exports=function(p,s,t){if(t.length)for(var i=0;i<t.length;i++)b(p,t[i][0])}},10164:function(ee,D,e){"use strict";var M=e(71828);ee.exports=function(k,a){var T=k._fullLayout,b=a.uid,p=T._splomScenes;p||(p=T._splomScenes={});var s={dirty:!0,selectBatch:[],unselectBatch:[]},t=p[a.uid];return t||((t=p[b]=M.extendFlat({},s,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||M.extendFlat(t,s),t}},8689:function(ee,D,e){"use strict";var M=e(71828),k=M.pushUnique,a=e(34098),T=e(35948);ee.exports=function(b,p){var s=b.cd,t=s[0].trace,i=s[0].t,n=b.scene,r=n.matrixOptions.cdata,o=b.xaxis,l=b.yaxis,u=[];if(!n)return u;var d=!a.hasMarkers(t)&&!a.hasText(t);if(!0!==t.visible||d)return u;var c=T.getDimIndex(t,o),x=T.getDimIndex(t,l);if(!1===c||!1===x)return u;var g=i.xpx[c],h=i.ypx[x],m=r[c],y=r[x],v=(b.scene.selectBatch||[]).slice(),_=[];if(!1!==p&&!p.degenerate)for(var f=0;f<m.length;f++)p.contains([g[f],h[f]],null,f,b)?(u.push({pointNumber:f,x:m[f],y:y[f]}),k(v,f)):-1!==v.indexOf(f)?k(v,f):_.push(f);var S=n.matrixOptions;return v.length||_.length?n.selectBatch.length||n.unselectBatch.length||n.matrix.update(n.unselectedOptions,M.extendFlat({},S,n.selectedOptions,n.viewOpts)):n.matrix.update(S,null),n.selectBatch=v,n.unselectBatch=_,u}},21850:function(ee,D,e){"use strict";var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,T=e(2418),b=e(9012),p=e(1426).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:p({},b.showlegend,{dflt:!1})};p(s,M("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=T[t]}),s.hoverinfo=p({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,ee.exports=s},88489:function(ee,D,e){"use strict";var M=e(71828),k=e(78803);function a(p){var s,t,i,n,r,o,l,u,d,c,x,g,h=p._x,m=p._y,y=p._z,v=p._len,_=-1/0,f=1/0,S=-1/0,w=1/0,E=-1/0,C=1/0,O="";for(v&&(l=h[0],d=m[0],x=y[0]),v>1&&(u=h[v-1],c=m[v-1],g=y[v-1]),s=0;s<v;s++)_=Math.max(_,h[s]),f=Math.min(f,h[s]),S=Math.max(S,m[s]),w=Math.min(w,m[s]),E=Math.max(E,y[s]),C=Math.min(C,y[s]),n||h[s]===l||(n=!0,O+="x"),r||m[s]===d||(r=!0,O+="y"),o||y[s]===x||(o=!0,O+="z");n||(O+="x"),r||(O+="y"),o||(O+="z");var P=T(p._x),R=T(p._y),j=T(p._z);O=(O=(O=O.replace("x",(l>u?"-":"+")+"x")).replace("y",(d>c?"-":"+")+"y")).replace("z",(x>g?"-":"+")+"z");var z=function(){v=0,P=[],R=[],j=[]};(!v||v<P.length*R.length*j.length)&&z();var N=function(pe){return"x"===pe?h:"y"===pe?m:y},Y=function(pe){return"x"===pe?P:"y"===pe?R:j},F=function(pe){return pe[v-1]<pe[0]?-1:1},U=N(O[1]),V=N(O[3]),te=N(O[5]),$=Y(O[1]).length,X=Y(O[3]).length,W=Y(O[5]).length,J=!1,Q=function(pe,ge,Ae){return $*(X*pe+ge)+Ae},re=F(N(O[1])),ae=F(N(O[3])),oe=F(N(O[5]));for(s=0;s<W-1;s++){for(t=0;t<X-1;t++){for(i=0;i<$-1;i++){var ue=Q(s,t,i),ve=Q(s,t,i+1),be=Q(s,t+1,i),de=Q(s+1,t,i);if(U[ue]*re<U[ve]*re&&V[ue]*ae<V[be]*ae&&te[ue]*oe<te[de]*oe||(J=!0),J)break}if(J)break}if(J)break}return J&&(M.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:f,yMin:w,zMin:C,xMax:_,yMax:S,zMax:E,Xs:P,Ys:R,Zs:j,len:v,fill:O}}function T(p){return M.distinctVals(p).vals}function b(p,s){if(void 0===s&&(s=p.length),M.isTypedArray(p))return p.subarray(0,s);for(var t=[],i=0;i<s;i++)t[i]=+p[i];return t}ee.exports={calc:function(p,s){s._len=Math.min(s.u.length,s.v.length,s.w.length,s.x.length,s.y.length,s.z.length),s._u=b(s.u,s._len),s._v=b(s.v,s._len),s._w=b(s.w,s._len),s._x=b(s.x,s._len),s._y=b(s.y,s._len),s._z=b(s.z,s._len);var t=a(s);s._gridFill=t.fill,s._Xs=t.Xs,s._Ys=t.Ys,s._Zs=t.Zs,s._len=t.len;var i,n,r,o=0;s.starts&&(i=b(s.starts.x||[]),n=b(s.starts.y||[]),r=b(s.starts.z||[]),o=Math.min(i.length,n.length,r.length)),s._startsX=i||[],s._startsY=n||[],s._startsZ=r||[];var l,u=0,d=1/0;for(l=0;l<s._len;l++){var c=s._u[l],x=s._v[l],g=s._w[l],h=Math.sqrt(c*c+x*x+g*g);u=Math.max(u,h),d=Math.min(d,h)}for(k(p,s,{vals:[d,u],containerStr:"",cLetter:"c"}),l=0;l<o;l++){var m=i[l];t.xMax=Math.max(t.xMax,m),t.xMin=Math.min(t.xMin,m);var y=n[l];t.yMax=Math.max(t.yMax,y),t.yMin=Math.min(t.yMin,y);var v=r[l];t.zMax=Math.max(t.zMax,v),t.zMin=Math.min(t.zMin,v)}s._slen=o,s._normMax=u,s._xbnds=[t.xMin,t.xMax],s._ybnds=[t.yMin,t.yMax],s._zbnds=[t.zMin,t.zMax]},filter:b,processGrid:a}},90154:function(ee,D,e){"use strict";var M=e(9330).gl_streamtube3d,k=M.createTubeMesh,a=e(71828),T=e(81697).parseColorScale,b=e(21081).extractOpts,p=e(90060),s={xaxis:0,yaxis:1,zaxis:2};function t(l,u){this.scene=l,this.uid=u,this.mesh=null,this.data=null}var i=t.prototype;function n(l){var u=l.length;return u>2?l.slice(1,u-1):2===u?[(l[0]+l[1])/2]:l}function r(l){var u=l.length;return 1===u?[.5,.5]:[l[1]-l[0],l[u-1]-l[u-2]]}function o(l,u){var d=l.fullSceneLayout,c=l.dataScale,x=u._len,g={};function h($,X){var W=d[X],J=c[s[X]];return a.simpleMap($,function(Q){return W.d2l(Q)*J})}if(g.vectors=p(h(u._u,"xaxis"),h(u._v,"yaxis"),h(u._w,"zaxis"),x),!x)return{positions:[],cells:[]};var m=h(u._Xs,"xaxis"),y=h(u._Ys,"yaxis"),v=h(u._Zs,"zaxis");if(g.meshgrid=[m,y,v],g.gridFill=u._gridFill,u._slen)g.startingPositions=p(h(u._startsX,"xaxis"),h(u._startsY,"yaxis"),h(u._startsZ,"zaxis"));else{for(var _=y[0],f=n(m),S=n(v),w=new Array(f.length*S.length),E=0,C=0;C<f.length;C++)for(var O=0;O<S.length;O++)w[E++]=[f[C],_,S[O]];g.startingPositions=w}g.colormap=T(u),g.tubeSize=u.sizeref,g.maxLength=u.maxdisplayed;var P=h(u._xbnds,"xaxis"),R=h(u._ybnds,"yaxis"),j=h(u._zbnds,"zaxis"),z=r(m),N=r(y),Y=r(v),F=[[P[0]-z[0],R[0]-N[0],j[0]-Y[0]],[P[1]+z[1],R[1]+N[1],j[1]+Y[1]]],U=M(g,F),V=b(u);U.vertexIntensityBounds=[V.min/u._normMax,V.max/u._normMax];var te=u.lightposition;return U.lightPosition=[te.x,te.y,te.z],U.ambient=u.lighting.ambient,U.diffuse=u.lighting.diffuse,U.specular=u.lighting.specular,U.roughness=u.lighting.roughness,U.fresnel=u.lighting.fresnel,U.opacity=u.opacity,u._pad=U.tubeScale*u.sizeref*2,U}i.handlePick=function(l){var u=this.scene.fullSceneLayout,d=this.scene.dataScale;function c(h,m){var y=u[m],v=d[s[m]];return y.l2c(h)/v}if(l.object===this.mesh){var x=l.data.position,g=l.data.velocity;return l.traceCoordinate=[c(x[0],"xaxis"),c(x[1],"yaxis"),c(x[2],"zaxis"),c(g[0],"xaxis"),c(g[1],"yaxis"),c(g[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}},i.update=function(l){this.data=l;var u=o(this.scene,l);this.mesh.update(u)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(l,u){var d=l.glplot.gl,c=o(l,u),x=k(d,c),g=new t(l,u.uid);return g.mesh=x,g.data=u,x._trace=g,l.glplot.add(x),g}},22459:function(ee,D,e){"use strict";var M=e(71828),k=e(1586),a=e(21850);ee.exports=function(T,b,p,s){function t(d,c){return M.coerce(T,b,a,d,c)}var i=t("u"),n=t("v"),r=t("w"),o=t("x"),l=t("y"),u=t("z");i&&i.length&&n&&n.length&&r&&r.length&&o&&o.length&&l&&l.length&&u&&u.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(T,b,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},61510:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(M,k){return M.tubex=M.x,M.tubey=M.y,M.tubez=M.z,M.tubeu=k.traceCoordinate[3],M.tubev=k.traceCoordinate[4],M.tubew=k.traceCoordinate[5],M.norm=k.traceCoordinate[6],M.divergence=k.traceCoordinate[7],delete M.x,delete M.y,delete M.z,M},meta:{}}},57564:function(ee,D,e){"use strict";var M=e(9012),k=e(5386).fF,a=e(5386).si,T=e(50693),b=e(27670).Y,p=e(34e3),s=e(7055),t=e(1426).extendFlat,i=e(79952).u;ee.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},p.marker.line.color,{dflt:null}),width:t({},p.marker.line.width,{dflt:1}),editType:"calc"},pattern:i,editType:"calc"},T("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:p.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:p.hovertext,hoverinfo:t({},M.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:k({},{keys:s.eventDataKeys}),textfont:p.textfont,insidetextorientation:p.insidetextorientation,insidetextfont:p.insidetextfont,outsidetextfont:t({},p.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:p.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:b({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(ee,D,e){"use strict";var M=e(74875);D.name="sunburst",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},52147:function(ee,D,e){"use strict";var M=e(674),k=e(92770),a=e(71828),T=e(21081).makeColorScaleFuncFromTrace,b=e(32354).makePullColorFn,p=e(32354).generateExtendedColors,s=e(21081).calc,t=e(50606).ALMOST_EQUAL,i={},n={},r={};function o(l,u,d){var c=0,x=l.children;if(x){for(var g=x.length,h=0;h<g;h++)c+=o(x[h],u,d);d.branches&&c++}else d.leaves&&c++;return l.value=l.data.data.value=c,u._values||(u._values=[]),u._values[l.data.data.i]=c,c}D.calc=function(l,u){var d,c,x,g,h,m,y=l._fullLayout,v=u.ids,_=a.isArrayOrTypedArray(v),f=u.labels,S=u.parents,w=u.values,E=a.isArrayOrTypedArray(w),C=[],O={},P={},R=function(oe){return oe||"number"==typeof oe},j=function(oe){return!E||k(w[oe])&&w[oe]>=0};_?(d=Math.min(v.length,S.length),c=function(oe){return R(v[oe])&&j(oe)},x=function(oe){return String(v[oe])}):(d=Math.min(f.length,S.length),c=function(oe){return R(f[oe])&&j(oe)},x=function(oe){return String(f[oe])}),E&&(d=Math.min(d,w.length));for(var z=0;z<d;z++)if(c(z)){var N=x(z),Y=R(S[z])?String(S[z]):"",F={i:z,id:N,pid:Y,label:R(f[z])?String(f[z]):""};E&&(F.v=+w[z]),C.push(F),h=N,O[g=Y]?O[g].push(h):O[g]=[h],P[h]=1}if(O[""]){if(O[""].length>1){for(var U=a.randstr(),V=0;V<C.length;V++)""===C[V].pid&&(C[V].pid=U);C.unshift({hasMultipleRoots:!0,id:U,pid:"",label:""})}}else{var te,$=[];for(te in O)P[te]||$.push(te);if(1!==$.length)return a.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",$.join(", ")].join(" "));te=$[0],C.unshift({hasImpliedRoot:!0,id:te,pid:"",label:te})}try{m=M.stratify().id(function(oe){return oe.id}).parentId(function(oe){return oe.pid})(C)}catch(oe){return a.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",oe.message].join(" "))}var X=M.hierarchy(m),W=!1;if(E)switch(u.branchvalues){case"remainder":X.sum(function(oe){return oe.data.v});break;case"total":X.each(function(oe){var ue=oe.data.data,ve=ue.v;if(oe.children){var be=oe.children.reduce(function(de,pe){return de+pe.data.data.v},0);if((ue.hasImpliedRoot||ue.hasMultipleRoots)&&(ve=be),ve<be*t)return W=!0,a.warn(["Total value for node",oe.data.data.id,"of",u.name,"is smaller than the sum of its children.","\nparent value =",ve,"\nchildren sum =",be].join(" "))}oe.value=ve})}else o(X,u,{branches:-1!==u.count.indexOf("branches"),leaves:-1!==u.count.indexOf("leaves")});if(!W){var J,Q;u.sort&&X.sort(function(oe,ue){return ue.value-oe.value});var re=u.marker.colors||[],ae=!!re.length;return u._hasColorscale?(ae||(re=E?u.values:u._values),s(l,u,{vals:re,containerStr:"marker",cLetter:"c"}),Q=T(u.marker)):J=b(y["_"+u.type+"colormap"]),X.each(function(oe){var ue=oe.data.data;ue.color=u._hasColorscale?Q(re[ue.i]):J(re[ue.i],ue.id)}),C[0].hierarchy=X,C}},D._runCrossTraceCalc=function(l,u){var d=u._fullLayout,c=u.calcdata,x=d[l+"colorway"],g=d["_"+l+"colormap"];d["extend"+l+"colors"]&&(x=p(x,"icicle"===l?r:"treemap"===l?n:i));var h,m=0;function y(f){var S=f.data.data,w=S.id;!1===S.color&&(g[w]?S.color=g[w]:f.parent?f.parent.parent?S.color=f.parent.data.data.color:(g[w]=S.color=x[m%x.length],m++):S.color=h)}for(var v=0;v<c.length;v++){var _=c[v][0];_.trace.type===l&&_.hierarchy&&(h=_.trace.root.color,_.hierarchy.each(y))}},D.crossTraceCalc=function(l){return D._runCrossTraceCalc("sunburst",l)}},7055:function(ee){"use strict";ee.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(ee,D,e){"use strict";var M=e(71828),k=e(57564),a=e(27670).c,T=e(90769).handleText,b=e(37434).handleMarkerDefaults,p=e(21081),s=p.hasColorscale,t=p.handleDefaults;ee.exports=function(i,n,r,o){function l(h,m){return M.coerce(i,n,k,h,m)}var u=l("labels"),d=l("parents");if(u&&u.length&&d&&d.length){var c=l("values");c&&c.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),b(i,n,o,l);var x=n._hasColorscale=s(i,"marker","colors")||(i.marker||{}).coloraxis;x&&t(i,n,o,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",x?1:.7);var g=l("text");l("texttemplate"),n.texttemplate||l("textinfo",M.isArrayOrTypedArray(g)?"text+label":"label"),l("hovertext"),l("hovertemplate"),T(i,n,o,l,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),a(n,o,l),n._length=null}else n.visible=!1}},43467:function(ee,D,e){"use strict";var M=e(91424),k=e(7901);ee.exports=function(a,T,b,p,s){var t=T.data.data,i=t.i,n=s||t.color;if(i>=0){T.i=t.i;var r=b.marker;r.pattern&&r.colors&&r.pattern.shape||(r.color=n,T.color=n),M.pointStyle(a,b,p,T)}else k.fill(a,n)}},83523:function(ee,D,e){"use strict";var M=e(39898),k=e(73972),a=e(23469).appendArrayPointValue,T=e(30211),b=e(71828),p=e(11086),s=e(2791),t=e(53581).formatPieValue;function i(n,r,o){for(var l=n.data.data,u={curveNumber:r.index,pointNumber:l.i,data:r._input,fullData:r},d=0;d<o.length;d++){var c=o[d];c in n&&(u[c]=n[c])}return"parentString"in n&&!s.isHierarchyRoot(n)&&(u.parent=n.parentString),a(u,r,l.i),u}ee.exports=function(n,r,o,l,u){var d=l[0],c=d.trace,x=d.hierarchy,g="sunburst"===c.type,h="treemap"===c.type||"icicle"===c.type;"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),n.on("mouseover",function(m){var y=o._fullLayout;if(!o._dragging&&!1!==y.hovermode){var v,_=o._fullData[c.index],f=m.data.data,S=f.i,w=s.isHierarchyRoot(m),E=s.getParent(x,m),C=s.getValue(m),O=function(re){return b.castOption(_,S,re)},P=O("hovertemplate"),R=T.castHoverinfo(_,y,S),j=y.separators;if(P||R&&"none"!==R&&"skip"!==R){var z,N;g&&(z=d.cx+m.pxmid[0]*(1-m.rInscribed),N=d.cy+m.pxmid[1]*(1-m.rInscribed)),h&&(z=m._hoverX,N=m._hoverY);var Y,F={},U=[],V=[],te=function(re){return-1!==U.indexOf(re)};R&&(U="all"===R?_._module.attributes.hoverinfo.flags:R.split("+")),F.label=f.label,te("label")&&F.label&&V.push(F.label),f.hasOwnProperty("v")&&(F.value=f.v,F.valueLabel=t(F.value,j),te("value")&&V.push(F.valueLabel)),F.currentPath=m.currentPath=s.getPath(m.data),te("current path")&&!w&&V.push(F.currentPath);var $=[],X=function(){-1===$.indexOf(Y)&&(V.push(Y),$.push(Y))};F.percentParent=m.percentParent=C/s.getValue(E),F.parent=m.parentString=s.getPtLabel(E),te("percent parent")&&(Y=s.formatPercent(F.percentParent,j)+" of "+F.parent,X()),F.percentEntry=m.percentEntry=C/s.getValue(r),F.entry=m.entry=s.getPtLabel(r),!te("percent entry")||w||m.onPathbar||(Y=s.formatPercent(F.percentEntry,j)+" of "+F.entry,X()),F.percentRoot=m.percentRoot=C/s.getValue(x),F.root=m.root=s.getPtLabel(x),te("percent root")&&!w&&(Y=s.formatPercent(F.percentRoot,j)+" of "+F.root,X()),F.text=O("hovertext")||O("text"),te("text")&&(Y=F.text,b.isValidTextValue(Y)&&V.push(Y)),v=[i(m,_,u.eventDataKeys)];var W={trace:_,y:N,_x0:m._x0,_x1:m._x1,_y0:m._y0,_y1:m._y1,text:V.join("<br>"),name:P||te("name")?_.name:void 0,color:O("hoverlabel.bgcolor")||f.color,borderColor:O("hoverlabel.bordercolor"),fontFamily:O("hoverlabel.font.family"),fontSize:O("hoverlabel.font.size"),fontColor:O("hoverlabel.font.color"),nameLength:O("hoverlabel.namelength"),textAlign:O("hoverlabel.align"),hovertemplate:P,hovertemplateLabels:F,eventData:v};g&&(W.x0=z-m.rInscribed*m.rpx1,W.x1=z+m.rInscribed*m.rpx1,W.idealAlign=m.pxmid[0]<0?"left":"right"),h&&(W.x=z,W.idealAlign=z<0?"left":"right");var J=[];T.loneHover(W,{container:y._hoverlayer.node(),outerContainer:y._paper.node(),gd:o,inOut_bbox:J}),v[0].bbox=J[0],c._hasHoverLabel=!0}if(h){var Q=n.select("path.surface");u.styleOne(Q,m,_,o,{hovered:!0})}c._hasHoverEvent=!0,o.emit("plotly_hover",{points:v||[i(m,_,u.eventDataKeys)],event:M.event})}}),n.on("mouseout",function(m){var y=o._fullLayout,v=o._fullData[c.index],_=M.select(this).datum();if(c._hasHoverEvent&&(m.originalEvent=M.event,o.emit("plotly_unhover",{points:[i(_,v,u.eventDataKeys)],event:M.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(T.loneUnhover(y._hoverlayer.node()),c._hasHoverLabel=!1),h){var f=n.select("path.surface");u.styleOne(f,_,v,o,{hovered:!1})}}),n.on("click",function(m){var y=o._fullLayout,v=o._fullData[c.index],_=g&&(s.isHierarchyRoot(m)||s.isLeaf(m)),f=s.getPtId(m),S=s.isEntry(m)?s.findEntryWithChild(x,f):s.findEntryWithLevel(x,f),w=s.getPtId(S),E={points:[i(m,v,u.eventDataKeys)],event:M.event};_||(E.nextLevel=w);var C=p.triggerHandler(o,"plotly_"+c.type+"click",E);if(!1!==C&&y.hovermode&&(o._hoverdata=[i(m,v,u.eventDataKeys)],T.click(o,M.event)),!_&&!1!==C&&!o._dragging&&!o._transitioning){k.call("_storeDirectGUIEdit",v,y._tracePreGUI[v.uid],{level:v.level});var O={data:[{level:w}],traces:[c.index]},P={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};T.loneUnhover(y._hoverlayer.node()),k.call("animate",o,O,P)}})}},2791:function(ee,D,e){"use strict";var M=e(71828),k=e(7901),a=e(6964),T=e(53581);function b(p){return p.data.data.pid}D.findEntryWithLevel=function(p,s){var t;return s&&p.eachAfter(function(i){if(D.getPtId(i)===s)return t=i.copy()}),t||p},D.findEntryWithChild=function(p,s){var t;return p.eachAfter(function(i){for(var n=i.children||[],r=0;r<n.length;r++){var o=n[r];if(D.getPtId(o)===s)return t=i.copy()}}),t||p},D.isEntry=function(p){return!p.parent},D.isLeaf=function(p){return!p.children},D.getPtId=function(p){return p.data.data.id},D.getPtLabel=function(p){return p.data.data.label},D.getValue=function(p){return p.value},D.isHierarchyRoot=function(p){return""===b(p)},D.setSliceCursor=function(p,s,t){var i=t.isTransitioning;if(!i){var n=p.datum();i=t.hideOnRoot&&D.isHierarchyRoot(n)||t.hideOnLeaves&&D.isLeaf(n)}a(p,i?null:"pointer")},D.getInsideTextFontKey=function(p,s,t,i,n){var r=(n||{}).onPathbar?"pathbar.textfont":"insidetextfont",o=t.data.data.i;return M.castOption(s,o,r+"."+p)||M.castOption(s,o,"textfont."+p)||i.size},D.getOutsideTextFontKey=function(p,s,t,i){var n=t.data.data.i;return M.castOption(s,n,"outsidetextfont."+p)||M.castOption(s,n,"textfont."+p)||i.size},D.isOutsideText=function(p,s){return!p._hasColorscale&&D.isHierarchyRoot(s)},D.determineTextFont=function(p,s,t,i){return D.isOutsideText(p,s)?(n=p,r=s,o=t,{color:D.getOutsideTextFontKey("color",n,r,o),family:D.getOutsideTextFontKey("family",n,r,o),size:D.getOutsideTextFontKey("size",n,r,o)}):function(n,r,o,l){var u=(l||{}).onPathbar,d=r.data.data,c=d.i,x=M.castOption(n,c,(u?"pathbar.textfont":"insidetextfont")+".color");return!x&&n._input.textfont&&(x=M.castOption(n._input,c,"textfont.color")),{color:x||k.contrast(d.color),family:D.getInsideTextFontKey("family",n,r,o,l),size:D.getInsideTextFontKey("size",n,r,o,l)}}(p,s,t,i);var n,r,o},D.hasTransition=function(p){return!!(p&&p.duration>0)},D.getMaxDepth=function(p){return p.maxdepth>=0?p.maxdepth:1/0},D.isHeader=function(p,s){return!(D.isLeaf(p)||p.depth===s._maxDepth-1)},D.getParent=function(p,s){return D.findEntryWithLevel(p,b(s))},D.listPath=function(p,s){var t=p.parent;if(!t)return[];var i=s?[t.data[s]]:[t];return D.listPath(t,s).concat(i)},D.getPath=function(p){return D.listPath(p,"label").join("/")+"/"},D.formatValue=T.formatPieValue,D.formatPercent=function(p,s){var t=M.formatPercent(p,0);return"0%"===t&&(t=T.formatPiePercent(p,s)),t}},87619:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(ee){"use strict";ee.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(ee,D,e){"use strict";var M=e(71828),k=e(2654);ee.exports=function(a,T){function b(p,s){return M.coerce(a,T,k,p,s)}b("sunburstcolorway",T.colorway),b("extendsunburstcolors")}},24714:function(ee,D,e){"use strict";var M=e(39898),k=e(674),a=e(81684).sX,T=e(91424),b=e(71828),p=e(63893),s=e(72597),t=s.recordMinTextSize,i=s.clearMinTextSize,n=e(14575),r=e(53581).getRotationAngle,o=n.computeTransform,l=n.transformInsideText,u=e(29969).styleOne,d=e(16688).resizeText,c=e(83523),x=e(7055),g=e(2791);function h(y,v,_,f){var S=y._context.staticPlot,w=y._fullLayout,E=!w.uniformtext.mode&&g.hasTransition(f),C=M.select(_).selectAll("g.slice"),O=v[0],P=O.trace,R=O.hierarchy,j=g.findEntryWithLevel(R,P.level),z=g.getMaxDepth(P),N=w._size,Y=P.domain,F=N.w*(Y.x[1]-Y.x[0]),U=N.h*(Y.y[1]-Y.y[0]),V=.5*Math.min(F,U),te=O.cx=N.l+N.w*(Y.x[1]+Y.x[0])/2,$=O.cy=N.t+N.h*(1-Y.y[0])-U/2;if(!j)return C.remove();var X=null,W={};E&&C.each(function(ie){W[g.getPtId(ie)]={rpx0:ie.rpx0,rpx1:ie.rpx1,x0:ie.x0,x1:ie.x1,transform:ie.transform},!X&&g.isEntry(ie)&&(X=ie)});var ie,J=(ie=j,k.partition().size([2*Math.PI,ie.height+1])(ie)).descendants(),Q=j.height+1,re=0,ae=z;O.hasMultipleRoots&&g.isHierarchyRoot(j)&&(J=J.slice(1),Q-=1,re=1,ae+=1),J=J.filter(function(ie){return ie.y1<=ae});var oe=r(P.rotation);oe&&J.forEach(function(ie){ie.x0+=oe,ie.x1+=oe});var ue=Math.min(Q,z),ve=function(ie){return(ie-re)/ue*V},be=function(ie,he){return[ie*Math.cos(he),-ie*Math.sin(he)]},de=function(ie){return b.pathAnnulus(ie.rpx0,ie.rpx1,ie.x0,ie.x1,te,$)},pe=function(ie){return te+m(ie)[0]*(ie.transform.rCenter||0)+(ie.transform.x||0)},ge=function(ie){return $+m(ie)[1]*(ie.transform.rCenter||0)+(ie.transform.y||0)};(C=C.data(J,g.getPtId)).enter().append("g").classed("slice",!0),E?C.exit().transition().each(function(){var ie=M.select(this);ie.select("path.surface").transition().attrTween("d",function(he){var Se=function(_e){var Me,Ee=g.getPtId(_e),Ie=W[Ee],fe=W[g.getPtId(j)];if(fe){var xe=(_e.x1>fe.x1?2*Math.PI:0)+oe;Me=_e.rpx1<fe.rpx1?{x0:_e.x0,x1:_e.x1,rpx0:0,rpx1:0}:{x0:xe,x1:xe,rpx0:_e.rpx0,rpx1:_e.rpx1}}else{var Te,Ce=g.getPtId(_e.parent);C.each(function(Xe){if(g.getPtId(Xe)===Ce)return Te=Xe});var De,ze=Te.children;ze.forEach(function(Xe,at){if(g.getPtId(Xe)===Ee)return De=at});var Ue=ze.length,Ve=a(Te.x0,Te.x1);Me={rpx0:V,rpx1:V,x0:Ve(De/Ue),x1:Ve((De+1)/Ue)}}return a(Ie,Me)}(he);return function(_e){return de(Se(_e))}}),ie.select("g.slicetext").attr("opacity",0)}).remove():C.exit().remove(),C.order();var Ae=null;if(E&&X){var ye=g.getPtId(X);C.each(function(ie){null===Ae&&g.getPtId(ie)===ye&&(Ae=ie.x1)})}var we=C;function se(ie){var he=ie.parent,Se=W[g.getPtId(he)],_e={};if(Se){var Me=he.children,Ee=Me.indexOf(ie),Ie=Me.length,fe=a(Se.x0,Se.x1);_e.x0=fe(Ee/Ie),_e.x1=fe(Ee/Ie)}else _e.x0=_e.x1=0;return _e}E&&(we=we.transition().each("end",function(){var ie=M.select(this);g.setSliceCursor(ie,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),we.each(function(ie){var xe,he=M.select(this),Se=b.ensureSingle(he,"path","surface",function(xe){xe.style("pointer-events",S?"none":"all")});ie.rpx0=ve(ie.y0),ie.rpx1=ve(ie.y1),ie.xmid=(ie.x0+ie.x1)/2,ie.pxmid=be(ie.rpx1,ie.xmid),ie.midangle=-(ie.xmid-Math.PI/2),ie.startangle=-(ie.x0-Math.PI/2),ie.stopangle=-(ie.x1-Math.PI/2),ie.halfangle=.5*Math.min(b.angleDelta(ie.x0,ie.x1)||Math.PI,Math.PI),ie.ring=1-ie.rpx0/ie.rpx1,ie.rInscribed=0===(xe=ie).rpx0&&b.isFullCircle([xe.x0,xe.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(xe.halfangle)),xe.ring/2)),E?Se.transition().attrTween("d",function(xe){var Te=function(Ce){var De,ze=W[g.getPtId(Ce)],Ue={x0:Ce.x0,x1:Ce.x1,rpx0:Ce.rpx0,rpx1:Ce.rpx1};if(ze)De=ze;else if(X)if(Ce.parent)if(Ae){var Ve=(Ce.x1>Ae?2*Math.PI:0)+oe;De={x0:Ve,x1:Ve}}else De={rpx0:V,rpx1:V},b.extendFlat(De,se(Ce));else De={rpx0:0,rpx1:0};else De={x0:oe,x1:oe};return a(De,Ue)}(xe);return function(Ce){return de(Te(Ce))}}):Se.attr("d",de),he.call(c,j,y,v,{eventDataKeys:x.eventDataKeys,transitionTime:x.CLICK_TRANSITION_TIME,transitionEasing:x.CLICK_TRANSITION_EASING}).call(g.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),Se.call(u,ie,P,y);var _e=b.ensureSingle(he,"g","slicetext"),Me=b.ensureSingle(_e,"text","",function(xe){xe.attr("data-notex",1)}),Ee=b.ensureUniformFontSize(y,g.determineTextFont(P,ie,w.font));Me.text(D.formatSliceLabel(ie,j,P,v,w)).classed("slicetext",!0).attr("text-anchor","middle").call(T.font,Ee).call(p.convertToTspans,y);var Ie=T.bBox(Me.node());ie.transform=l(Ie,ie,O),ie.transform.targetX=pe(ie),ie.transform.targetY=ge(ie);var fe=function(xe,Te){var Ce=xe.transform;return o(Ce,Te),Ce.fontSize=Ee.size,t(P.type,Ce,w),b.getTextTransform(Ce)};E?Me.transition().attrTween("transform",function(xe){var Te=function(Ce){var De,ze=W[g.getPtId(Ce)],Ue=Ce.transform;if(ze)De=ze;else if(De={rpx1:Ce.rpx1,transform:{textPosAngle:Ue.textPosAngle,scale:0,rotate:Ue.rotate,rCenter:Ue.rCenter,x:Ue.x,y:Ue.y}},X)if(Ce.parent)if(Ae){var Ve=Ce.x1>Ae?2*Math.PI:0;De.x0=De.x1=Ve}else b.extendFlat(De,se(Ce));else De.x0=De.x1=oe;else De.x0=De.x1=oe;var Xe=a(De.transform.textPosAngle,Ce.transform.textPosAngle),at=a(De.rpx1,Ce.rpx1),st=a(De.x0,Ce.x0),ht=a(De.x1,Ce.x1),bt=a(De.transform.scale,Ue.scale),vt=a(De.transform.rotate,Ue.rotate),Qe=0===Ue.rCenter?3:0===De.transform.rCenter?1/3:1,nt=a(De.transform.rCenter,Ue.rCenter);return function(wt){var Ne,Ot=at(wt),Pt=st(wt),St=ht(wt),qe=(Ne=wt,nt(Math.pow(Ne,Qe))),Ze={pxmid:be(Ot,(Pt+St)/2),rpx1:Ot,transform:{textPosAngle:Xe(wt),rCenter:qe,x:Ue.x,y:Ue.y}};return t(P.type,Ue,w),{transform:{targetX:pe(Ze),targetY:ge(Ze),scale:bt(wt),rotate:vt(wt),rCenter:qe}}}}(xe);return function(Ce){return fe(Te(Ce),Ie)}}):Me.attr("transform",fe(ie,Ie))})}function m(y){return v=y.rpx1,_=y.transform.textPosAngle,[v*Math.sin(_),-v*Math.cos(_)];var v,_}D.plot=function(y,v,_,f){var S,w,E=y._fullLayout,C=E._sunburstlayer,O=!_,P=!E.uniformtext.mode&&g.hasTransition(_);i("sunburst",E),(S=C.selectAll("g.trace.sunburst").data(v,function(R){return R[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),S.order(),P?(f&&(w=f()),M.transition().duration(_.duration).ease(_.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()}).each(function(){C.selectAll("g.trace").each(function(R){h(y,R,this,_)})})):(S.each(function(R){h(y,R,this,_)}),E.uniformtext.mode&&d(y,E._sunburstlayer.selectAll(".trace"),"sunburst")),O&&S.exit().remove()},D.formatSliceLabel=function(y,v,_,f,S){var w=_.texttemplate,E=_.textinfo;if(!(w||E&&"none"!==E))return"";var C=S.separators,O=f[0],P=y.data.data,R=O.hierarchy,j=g.isHierarchyRoot(y),z=g.getParent(R,y),N=g.getValue(y);if(!w){var Y,F=E.split("+"),U=function(ae){return-1!==F.indexOf(ae)},V=[];if(U("label")&&P.label&&V.push(P.label),P.hasOwnProperty("v")&&U("value")&&V.push(g.formatValue(P.v,C)),!j){U("current path")&&V.push(g.getPath(y.data));var te=0;U("percent parent")&&te++,U("percent entry")&&te++,U("percent root")&&te++;var $=te>1;if(te){var X,W=function(ae){Y=g.formatPercent(X,C),$&&(Y+=" of "+ae),V.push(Y)};U("percent parent")&&!j&&(X=N/g.getValue(z),W("parent")),U("percent entry")&&(X=N/g.getValue(v),W("entry")),U("percent root")&&(X=N/g.getValue(R),W("root"))}}return U("text")&&(Y=b.castOption(_,P.i,"text"),b.isValidTextValue(Y)&&V.push(Y)),V.join("<br>")}var J=b.castOption(_,P.i,"texttemplate");if(!J)return"";var Q={};P.label&&(Q.label=P.label),P.hasOwnProperty("v")&&(Q.value=P.v,Q.valueLabel=g.formatValue(P.v,C)),Q.currentPath=g.getPath(y.data),j||(Q.percentParent=N/g.getValue(z),Q.percentParentLabel=g.formatPercent(Q.percentParent,C),Q.parent=g.getPtLabel(z)),Q.percentEntry=N/g.getValue(v),Q.percentEntryLabel=g.formatPercent(Q.percentEntry,C),Q.entry=g.getPtLabel(v),Q.percentRoot=N/g.getValue(R),Q.percentRootLabel=g.formatPercent(Q.percentRoot,C),Q.root=g.getPtLabel(R),P.hasOwnProperty("color")&&(Q.color=P.color);var re=b.castOption(_,P.i,"text");return(b.isValidTextValue(re)||""===re)&&(Q.text=re),Q.customdata=b.castOption(_,P.i,"customdata"),b.texttemplateString(J,Q,S._d3locale,Q,_._meta||{})}},29969:function(ee,D,e){"use strict";var M=e(39898),k=e(7901),a=e(71828),T=e(72597).resizeText,b=e(43467);function p(s,t,i,n){var r=t.data.data,o=!t.children,l=r.i,u=a.castOption(i,l,"marker.line.color")||k.defaultLine,d=a.castOption(i,l,"marker.line.width")||0;s.call(b,t,i,n).style("stroke-width",d).call(k.stroke,u).style("opacity",o?i.leaf.opacity:null)}ee.exports={style:function(s){var t=s._fullLayout._sunburstlayer.selectAll(".trace");T(s,t,"sunburst"),t.each(function(i){var n=M.select(this),r=i[0].trace;n.style("opacity",r.opacity),n.selectAll("path.surface").each(function(o){M.select(this).call(p,o,r,s)})})},styleOne:p}},54532:function(ee,D,e){"use strict";var M=e(7901),k=e(50693),a=e(12663).axisHoverFormat,T=e(5386).fF,b=e(9012),p=e(1426).extendFlat,s=e(30962).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:M.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:M.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=ee.exports=s(p({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:T(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},k("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:p({},k.zauto,{}),zmin:p({},k.zmin,{}),zmax:p({},k.zmax,{})},hoverinfo:p({},b.hoverinfo),showlegend:p({},b.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},18396:function(ee,D,e){"use strict";var M=e(78803);ee.exports=function(k,a){a.surfacecolor?M(k,a,{vals:a.surfacecolor,containerStr:"",cLetter:"c"}):M(k,a,{vals:a.z,containerStr:"",cLetter:"c"})}},43768:function(ee,D,e){"use strict";var M=e(9330).gl_surface3d,k=e(9330).ndarray,a=e(9330).ndarray_linear_interpolate.d2,T=e(824),b=e(43907),p=e(71828).isArrayOrTypedArray,s=e(81697).parseColorScale,t=e(78614),i=e(21081).extractOpts;function n(_,f,S){this.scene=_,this.uid=S,this.surface=f,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var r=n.prototype;r.getXat=function(_,f,S,w){var E=p(this.data.x)?p(this.data.x[0])?this.data.x[f][_]:this.data.x[_]:_;return void 0===S?E:w.d2l(E,0,S)},r.getYat=function(_,f,S,w){var E=p(this.data.y)?p(this.data.y[0])?this.data.y[f][_]:this.data.y[f]:f;return void 0===S?E:w.d2l(E,0,S)},r.getZat=function(_,f,S,w){var E=this.data.z[f][_];return null===E&&this.data.connectgaps&&this.data._interpolatedZ&&(E=this.data._interpolatedZ[f][_]),void 0===S?E:w.d2l(E,0,S)},r.handlePick=function(_){if(_.object===this.surface){var f=(_.data.index[0]-1)/this.dataScaleX-1,S=(_.data.index[1]-1)/this.dataScaleY-1,w=Math.max(Math.min(Math.round(f),this.data.z[0].length-1),0),E=Math.max(Math.min(Math.round(S),this.data._ylength-1),0);_.index=[w,E],_.traceCoordinate=[this.getXat(w,E),this.getYat(w,E),this.getZat(w,E)],_.dataCoordinate=[this.getXat(w,E,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(w,E,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(w,E,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var C=0;C<3;C++)null!=_.dataCoordinate[C]&&(_.dataCoordinate[C]*=this.scene.dataScale[C]);var O=this.data.hovertext||this.data.text;return p(O)&&O[E]&&void 0!==O[E][w]?_.textLabel=O[E][w]:_.textLabel=O||"",_.data.dataCoordinate=_.dataCoordinate.slice(),this.surface.highlight(_.data),this.scene.glplot.spikes.position=_.dataCoordinate,!0}};var o=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(_,f){if(_<f)return 0;for(var S=0;0===Math.floor(_%f);)_/=f,S++;return S}function u(_){for(var f=[],S=0;S<o.length;S++){var w=o[S];f.push(l(_,w))}return f}function d(_){for(var f=u(_),S=_,w=0;w<o.length;w++)if(f[w]>0){S=o[w];break}return S}function c(_,f){if(!(_<1||f<1)){for(var S=u(_),w=u(f),E=1,C=0;C<o.length;C++)E*=Math.pow(o[C],Math.max(S[C],w[C]));return E}}r.calcXnums=function(_){var f,S=[];for(f=1;f<_;f++){var w=this.getXat(f-1,0),E=this.getXat(f,0);S[f-1]=E!==w&&null!=w&&null!=E?Math.abs(E-w):0}var C=0;for(f=1;f<_;f++)C+=S[f-1];for(f=1;f<_;f++)0===S[f-1]?S[f-1]=1:S[f-1]=Math.round(C/S[f-1]);return S},r.calcYnums=function(_){var f,S=[];for(f=1;f<_;f++){var w=this.getYat(0,f-1),E=this.getYat(0,f);S[f-1]=E!==w&&null!=w&&null!=E?Math.abs(E-w):0}var C=0;for(f=1;f<_;f++)C+=S[f-1];for(f=1;f<_;f++)0===S[f-1]?S[f-1]=1:S[f-1]=Math.round(C/S[f-1]);return S};var x=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],g=x[9],h=x[13];function m(_,f,S){var w=S[8]+S[2]*f[0]+S[5]*f[1];return _[0]=(S[6]+S[0]*f[0]+S[3]*f[1])/w,_[1]=(S[7]+S[1]*f[0]+S[4]*f[1])/w,_}function y(_,f,S){return function(w,E,C,O){for(var P=[0,0],R=w.shape[0],j=w.shape[1],z=0;z<R;z++)for(var N=0;N<j;N++)C(P,[z,N],O),w.set(z,N,a(E,P[0],P[1]))}(_,f,m,S),_}function v(_,f){for(var S=!1,w=0;w<_.length;w++)if(f===_[w]){S=!0;break}!1===S&&_.push(f)}r.estimateScale=function(_,f){for(var S=1+function(E){if(0!==E.length){for(var C=1,O=0;O<E.length;O++)C=c(C,E[O]);return C}}(0===f?this.calcXnums(_):this.calcYnums(_));S<g;)S*=2;for(;S>h;)S--,S/=d(S),++S<g&&(S=h);var w=Math.round(S/_);return w>1?w:1},r.refineCoords=function(_){for(var f=this.dataScaleX,S=this.dataScaleY,w=_[0].shape[0],E=_[0].shape[1],C=0|Math.floor(_[0].shape[0]*f+1),O=0|Math.floor(_[0].shape[1]*S+1),P=1+w+1,R=1+E+1,j=k(new Float32Array(P*R),[P,R]),z=[1/f,0,0,0,1/S,0,0,0,1],N=0;N<_.length;++N){this.surface.padField(j,_[N]);var Y=k(new Float32Array(C*O),[C,O]);y(Y,j,z),_[N]=Y}},r.setContourLevels=function(){var _,f,S,w=[[],[],[]],E=[!1,!1,!1],C=!1;for(_=0;_<3;++_)if(this.showContour[_]&&(C=!0,this.contourSize[_]>0&&null!==this.contourStart[_]&&null!==this.contourEnd[_]&&this.contourEnd[_]>this.contourStart[_]))for(E[_]=!0,f=this.contourStart[_];f<this.contourEnd[_];f+=this.contourSize[_])S=f*this.scene.dataScale[_],v(w[_],S);if(C){var O=[[],[],[]];for(_=0;_<3;++_)this.showContour[_]&&(O[_]=E[_]?w[_]:this.scene.contourLevels[_]);this.surface.update({levels:O})}},r.update=function(_){var f,S,w,E,C=this.scene,O=C.fullSceneLayout,P=this.surface,R=s(_),j=C.dataScale,z=_.z[0].length,N=_._ylength,Y=C.contourLevels;this.data=_;var F=[];for(f=0;f<3;f++)for(F[f]=[],S=0;S<z;S++)F[f][S]=[];for(S=0;S<z;S++)for(w=0;w<N;w++)F[0][S][w]=this.getXat(S,w,_.xcalendar,O.xaxis),F[1][S][w]=this.getYat(S,w,_.ycalendar,O.yaxis),F[2][S][w]=this.getZat(S,w,_.zcalendar,O.zaxis);if(_.connectgaps)for(_._emptypoints=b(F[2]),T(F[2],_._emptypoints),_._interpolatedZ=[],S=0;S<z;S++)for(_._interpolatedZ[S]=[],w=0;w<N;w++)_._interpolatedZ[S][w]=F[2][S][w];for(f=0;f<3;f++)for(S=0;S<z;S++)for(w=0;w<N;w++)null==(E=F[f][S][w])?F[f][S][w]=NaN:E=F[f][S][w]*=j[f];for(f=0;f<3;f++)for(S=0;S<z;S++)for(w=0;w<N;w++)null!=(E=F[f][S][w])&&(this.minValues[f]>E&&(this.minValues[f]=E),this.maxValues[f]<E&&(this.maxValues[f]=E));for(f=0;f<3;f++)this.objectOffset[f]=.5*(this.minValues[f]+this.maxValues[f]);for(f=0;f<3;f++)for(S=0;S<z;S++)for(w=0;w<N;w++)null!=(E=F[f][S][w])&&(F[f][S][w]-=this.objectOffset[f]);var U=[k(new Float32Array(z*N),[z,N]),k(new Float32Array(z*N),[z,N]),k(new Float32Array(z*N),[z,N])];for(f=0;f<3;f++)for(S=0;S<z;S++)for(w=0;w<N;w++)U[f].set(S,w,F[f][S][w]);F=[];var V={colormap:R,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!_.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:_.opacityscale,opacity:_.opacity},te=i(_);if(V.intensityBounds=[te.min,te.max],_.surfacecolor){var $=k(new Float32Array(z*N),[z,N]);for(S=0;S<z;S++)for(w=0;w<N;w++)$.set(S,w,_.surfacecolor[w][S]);U.push($)}else V.intensityBounds[0]*=j[2],V.intensityBounds[1]*=j[2];(h<U[0].shape[0]||h<U[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(U[0].shape[0],0),this.dataScaleY=this.estimateScale(U[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(U)),_.surfacecolor&&(V.intensity=U.pop());var Q,re,ae,X=[!0,!0,!0],W=["x","y","z"];for(f=0;f<3;++f){var J=_.contours[W[f]];X[f]=J.highlight,V.showContour[f]=J.show||J.highlight,V.showContour[f]&&(V.contourProject[f]=[J.project.x,J.project.y,J.project.z],J.show?(this.showContour[f]=!0,V.levels[f]=Y[f],P.highlightColor[f]=V.contourColor[f]=t(J.color),J.usecolormap?P.highlightTint[f]=V.contourTint[f]=0:P.highlightTint[f]=V.contourTint[f]=1,V.contourWidth[f]=J.width,this.contourStart[f]=J.start,this.contourEnd[f]=J.end,this.contourSize[f]=J.size):(this.showContour[f]=!1,this.contourStart[f]=null,this.contourEnd[f]=null,this.contourSize[f]=0),J.highlight&&(V.dynamicColor[f]=t(J.highlightcolor),V.dynamicWidth[f]=J.highlightwidth))}re=(Q=R)[0].rgb,ae=Q[Q.length-1].rgb,re[0]===ae[0]&&re[1]===ae[1]&&re[2]===ae[2]&&re[3]===ae[3]&&(V.vertexColor=!0),V.objectOffset=this.objectOffset,V.coords=U,P.update(V),P.visible=_.visible,P.enableDynamic=X,P.enableHighlight=X,P.snapToData=!0,"lighting"in _&&(P.ambientLight=_.lighting.ambient,P.diffuseLight=_.lighting.diffuse,P.specularLight=_.lighting.specular,P.roughness=_.lighting.roughness,P.fresnel=_.lighting.fresnel),"lightposition"in _&&(P.lightPosition=[_.lightposition.x,_.lightposition.y,_.lightposition.z])},r.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},ee.exports=function(_,f){var S=_.glplot.gl,w=M({gl:S}),E=new n(_,w,f.uid);return w._trace=E,E.update(f),_.glplot.add(w),E}},91831:function(ee,D,e){"use strict";var M=e(73972),k=e(71828),a=e(1586),T=e(54532);function b(s,t,i,n){var r=n("opacityscale");"max"===r?t.opacityscale=[[0,.1],[1,1]]:"min"===r?t.opacityscale=[[0,1],[1,.1]]:"extremes"===r?t.opacityscale=function(o,l){for(var u=[],d=0;d<32;d++){var c=d/31,x=.1+.9*(1-Math.pow(Math.sin(1*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,x))])}return u}():function(o){var l=0;if(!Array.isArray(o)||o.length<2||!o[0]||!o[o.length-1]||0!=+o[0][0]||1!=+o[o.length-1][0])return!1;for(var u=0;u<o.length;u++){var d=o[u];if(2!==d.length||+d[0]<l)return!1;l=+d[0]}return!0}(r)||(t.opacityscale=void 0)}function p(s,t,i){t in s&&!(i in s)&&(s[i]=s[t])}ee.exports={supplyDefaults:function(s,t,i,n){var r,o;function l(v,_){return k.coerce(s,t,T,v,_)}var u=l("x"),d=l("y"),c=l("z");if(!c||!c.length||u&&u.length<1||d&&d.length<1)t.visible=!1;else{t._xlength=Array.isArray(u)&&k.isArrayOrTypedArray(u[0])?c.length:c[0].length,t._ylength=c.length,M.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y","z"],n),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(v){l(v)});var x=l("surfacecolor"),g=["x","y","z"];for(r=0;r<3;++r){var h="contours."+g[r],m=l(h+".show"),y=l(h+".highlight");if(m||y)for(o=0;o<3;++o)l(h+".project."+g[o]);m&&(l(h+".color"),l(h+".width"),l(h+".usecolormap")),y&&(l(h+".highlightcolor"),l(h+".highlightwidth")),l(h+".start"),l(h+".end"),l(h+".size")}x||(p(s,"zmin","cmin"),p(s,"zmax","cmax"),p(s,"zauto","cauto")),a(s,t,n,l,{prefix:"",cLetter:"c"}),b(0,t,0,l),t._length=null}},opacityscaleDefaults:b}},93601:function(ee,D,e){"use strict";ee.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(ee,D,e){"use strict";var M=e(50215),k=e(1426).extendFlat,a=e(30962).overrideAll,T=e(41940),b=e(27670).Y,p=e(12663).descriptionOnlyNumbers;(ee.exports=a({domain:b({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:p("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:k({},M.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},T({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:p("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:k({},M.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},T({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(ee,D,e){"use strict";var M=e(27659).a0,k=e(36736),a="table";D.name=a,D.plot=function(T){var b=M(T.calcdata,a)[0];b.length&&k(T,b)},D.clean=function(T,b,p,s){var t=s._has&&s._has(a),i=b._has&&b._has(a);t&&!i&&s._paperdiv.selectAll(".table").remove()}},76333:function(ee,D,e){"use strict";var M=e(28984).wrap;ee.exports=function(){return M({})}},49850:function(ee){"use strict";ee.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(ee,D,e){"use strict";var M=e(49850),k=e(1426).extendFlat,a=e(92770),T=e(73627).isTypedArray,b=e(73627).isArrayOrTypedArray;function p(l){if(b(l)){for(var u=0,d=0;d<l.length;d++)u=Math.max(u,p(l[d]));return u}return l}function s(l,u){return l+u}function t(l){var u,d=l.slice(),c=1/0,x=0;for(u=0;u<d.length;u++)T(d[u])?d[u]=Array.from(d[u]):b(d[u])||(d[u]=[d[u]]),c=Math.min(c,d[u].length),x=Math.max(x,d[u].length);if(c!==x)for(u=0;u<d.length;u++){var g=x-d[u].length;g&&(d[u]=d[u].concat(i(g)))}return d}function i(l){for(var u=new Array(l),d=0;d<l;d++)u[d]="";return u}function n(l){return l.calcdata.columns.reduce(function(u,d){return d.xIndex<l.xIndex?u+d.columnWidth:u},0)}function r(l,u){return Object.keys(l).map(function(d){return k({},l[d],{auxiliaryBlocks:u})})}function o(l,u){for(var d,c={},x=0,g=0,h={firstRowIndex:null,lastRowIndex:null,rows:[]},m=0,y=0,v=0;v<l.length;v++)d=l[v],h.rows.push({rowIndex:v,rowHeight:d}),((g+=d)>=u||v===l.length-1)&&(c[x]=h,h.key=y++,h.firstRowIndex=m,h.lastRowIndex=v,h={firstRowIndex:null,lastRowIndex:null,rows:[]},x+=g,m=v+1,g=0);return c}ee.exports=function(l,u){var d=t(u.cells.values),c=function(N){return N.slice(u.header.values.length,N.length)},x=t(u.header.values);x.length&&!x[0].length&&(x[0]=[""],x=t(x));var g=x.concat(c(d).map(function(){return i((x[0]||[""]).length)})),h=u.domain,m=Math.floor(l._fullLayout._size.w*(h.x[1]-h.x[0])),y=Math.floor(l._fullLayout._size.h*(h.y[1]-h.y[0])),v=u.header.values.length?g[0].map(function(){return u.header.height}):[M.emptyHeaderHeight],_=d.length?d[0].map(function(){return u.cells.height}):[],f=v.reduce(s,0),S=o(_,y-f+M.uplift),w=r(o(v,f),[]),E=r(S,w),C={},O=u._fullInput.columnorder;b(O)&&(O=Array.from(O)),O=O.concat(c(d.map(function(N,Y){return Y})));var P=g.map(function(N,Y){var F=b(u.columnwidth)?u.columnwidth[Math.min(Y,u.columnwidth.length-1)]:u.columnwidth;return a(F)?Number(F):1}),R=P.reduce(s,0);P=P.map(function(N){return N/R*m});var j=Math.max(p(u.header.line.width),p(u.cells.line.width)),z={key:u.uid+l._context.staticPlot,translateX:h.x[0]*l._fullLayout._size.w,translateY:l._fullLayout._size.h*(1-h.y[1]),size:l._fullLayout._size,width:m,maxLineWidth:j,height:y,columnOrder:O,groupHeight:y,rowBlocks:E,headerRowBlocks:w,scrollY:0,cells:k({},u.cells,{values:d}),headerCells:k({},u.header,{values:g}),gdColumns:g.map(function(N){return N[0]}),gdColumnsOriginalOrder:g.map(function(N){return N[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:g.map(function(N,Y){var F=C[N];return C[N]=(F||0)+1,{key:N+"__"+C[N],label:N,specIndex:Y,xIndex:O[Y],xScale:n,x:void 0,calcdata:void 0,columnWidth:P[Y]}})};return z.columns.forEach(function(N){N.calcdata=z,N.x=n(N)}),z}},56269:function(ee,D,e){"use strict";var M=e(1426).extendFlat;D.splitToPanels=function(k){var a=[0,0],T=M({},k,{key:"header",type:"header",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!0,values:k.calcdata.headerCells.values[k.specIndex],rowBlocks:k.calcdata.headerRowBlocks,calcdata:M({},k.calcdata,{cells:k.calcdata.headerCells})});return[M({},k,{key:"cells1",type:"cells",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),M({},k,{key:"cells2",type:"cells",page:1,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),T]},D.splitToCells=function(k){var T,b,p,a=(b=(T=k).rowBlocks[T.page],[p=b?b.rows[0].rowIndex:0,b?p+b.rows.length:0]);return(k.values||[]).slice(a[0],a[1]).map(function(T,b){return{keyWithinBlock:b+("string"==typeof T&&T.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:a[0]+b,column:k,calcdata:k.calcdata,page:k.page,rowBlocks:k.rowBlocks,value:T}})}},39754:function(ee,D,e){"use strict";var M=e(71828),k=e(44464),a=e(27670).c;ee.exports=function(T,b,p,s){function t(i,n){return M.coerce(T,b,k,i,n)}a(b,s,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),M.coerceFont(t,"header.font",M.extendFlat({},s.font)),function(i,n){for(var r=i.columnorder||[],o=i.header.values.length,l=r.slice(0,o),u=l.slice().sort(function(x,g){return x-g}),d=l.map(function(x){return u.indexOf(x)}),c=d.length;c<o;c++)d.push(c);n("columnorder",d)}(b,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),M.coerceFont(t,"cells.font",M.extendFlat({},s.font)),b._length=null}},96595:function(ee,D,e){"use strict";ee.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(ee,D,e){"use strict";var M=e(49850),k=e(39898),a=e(71828),T=a.numberFormat,b=e(28984),p=e(91424),s=e(63893),t=e(71828).raiseToTop,i=e(71828).strTranslate,n=e(71828).cancelTransition,r=e(51018),o=e(56269),l=e(7901);function u(V){return Math.ceil(V.calcdata.maxLineWidth/2)}function d(V,te){return"clip"+V._fullLayout._uid+"_scrollAreaBottomClip_"+te.key}function c(V,te){return"clip"+V._fullLayout._uid+"_columnBoundaryClippath_"+te.calcdata.key+"_"+te.specIndex}function x(V){return[].concat.apply([],V.map(function(te){return te})).map(function(te){return te.__data__})}function g(V,te,$){var X=V.selectAll("."+M.cn.scrollbarKit).data(b.repeat,b.keyFun);X.enter().append("g").classed(M.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),X.each(function(ae){var ve,oe=ae.scrollbarState;oe.totalHeight=N(ve=ae.rowBlocks,ve.length-1)+(ve.length?Y(ve[ve.length-1],1/0):1),oe.scrollableAreaHeight=ae.groupHeight-w(ae),oe.currentlyVisibleHeight=Math.min(oe.totalHeight,oe.scrollableAreaHeight),oe.ratio=oe.currentlyVisibleHeight/oe.totalHeight,oe.barLength=Math.max(oe.ratio*oe.currentlyVisibleHeight,M.goldenRatio*M.scrollbarWidth),oe.barWiggleRoom=oe.currentlyVisibleHeight-oe.barLength,oe.wiggleRoom=Math.max(0,oe.totalHeight-oe.scrollableAreaHeight),oe.topY=0===oe.barWiggleRoom?0:ae.scrollY/oe.wiggleRoom*oe.barWiggleRoom,oe.bottomY=oe.topY+oe.barLength,oe.dragMultiplier=oe.wiggleRoom/oe.barWiggleRoom}).attr("transform",function(ae){var oe=ae.width+M.scrollbarWidth/2+M.scrollbarOffset;return i(oe,w(ae))});var W=X.selectAll("."+M.cn.scrollbar).data(b.repeat,b.keyFun);W.enter().append("g").classed(M.cn.scrollbar,!0);var J=W.selectAll("."+M.cn.scrollbarSlider).data(b.repeat,b.keyFun);J.enter().append("g").classed(M.cn.scrollbarSlider,!0),J.attr("transform",function(ae){return i(0,ae.scrollbarState.topY||0)});var Q=J.selectAll("."+M.cn.scrollbarGlyph).data(b.repeat,b.keyFun);Q.enter().append("line").classed(M.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",M.scrollbarWidth).attr("stroke-linecap","round").attr("y1",M.scrollbarWidth/2),Q.attr("y2",function(ae){return ae.scrollbarState.barLength-M.scrollbarWidth/2}).attr("stroke-opacity",function(ae){return ae.columnDragInProgress||!ae.scrollbarState.barWiggleRoom||$?0:.4}),Q.transition().delay(0).duration(0),Q.transition().delay(M.scrollbarHideDelay).duration(M.scrollbarHideDuration).attr("stroke-opacity",0);var re=W.selectAll("."+M.cn.scrollbarCaptureZone).data(b.repeat,b.keyFun);re.enter().append("line").classed(M.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",M.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ae){var oe=k.event.y,ue=this.getBoundingClientRect(),ve=ae.scrollbarState,be=oe-ue.top,de=k.scale.linear().domain([0,ve.scrollableAreaHeight]).range([0,ve.totalHeight]).clamp(!0);ve.topY<=be&&be<=ve.bottomY||C(te,V,null,de(be-ve.barLength/2))(ae)}).call(k.behavior.drag().origin(function(ae){return k.event.stopPropagation(),ae.scrollbarState.scrollbarScrollInProgress=!0,ae}).on("drag",C(te,V)).on("dragend",function(){})),re.attr("y2",function(ae){return ae.scrollbarState.scrollableAreaHeight}),te._context.staticPlot&&(Q.remove(),re.remove())}function h(V,te,$,X){var ue,J=function(oe){var ue=oe.selectAll("."+M.cn.columnCell).data(o.splitToCells,function(ve){return ve.keyWithinBlock});return ue.enter().append("g").classed(M.cn.columnCell,!0),ue.exit().remove(),ue}(((ue=$.selectAll("."+M.cn.columnCells).data(b.repeat,b.keyFun)).enter().append("g").classed(M.cn.columnCells,!0),ue.exit().remove(),ue));!function(oe){oe.each(function(ue,ve){var be=ue.calcdata.cells.font,de=ue.column.specIndex,pe={size:v(be.size,de,ve),color:v(be.color,de,ve),family:v(be.family,de,ve)};ue.rowNumber=ue.key,ue.align=v(ue.calcdata.cells.align,de,ve),ue.cellBorderWidth=v(ue.calcdata.cells.line.width,de,ve),ue.font=pe})}(J);var Q=function(oe){var ue=oe.selectAll("."+M.cn.cellRect).data(b.repeat,function(ve){return ve.keyWithinBlock});return ue.enter().append("rect").classed(M.cn.cellRect,!0),ue}(J);!function(oe){oe.attr("width",function(ue){return ue.column.columnWidth}).attr("stroke-width",function(ue){return ue.cellBorderWidth}).each(function(ue){var ve=k.select(this);l.stroke(ve,v(ue.calcdata.cells.line.color,ue.column.specIndex,ue.rowNumber)),l.fill(ve,v(ue.calcdata.cells.fill.color,ue.column.specIndex,ue.rowNumber))})}(Q);var re=function(oe){var ue=oe.selectAll("."+M.cn.cellTextHolder).data(b.repeat,function(ve){return ve.keyWithinBlock});return ue.enter().append("g").classed(M.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ue}(J),ae=function(oe){var ue=oe.selectAll("."+M.cn.cellText).data(b.repeat,function(ve){return ve.keyWithinBlock});return ue.enter().append("text").classed(M.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){k.event.stopPropagation()}),ue}(re);(function(oe){oe.each(function(ue){p.font(k.select(this),ue.font)})})(ae),m(ae,te,X,V),z(J)}function m(V,te,$,X){V.text(function(W){var J=W.column.specIndex,Q=W.rowNumber,re=W.value,ae="string"==typeof re,oe=ae&&re.match(/<br>/i),ue=!ae||oe;W.mayHaveMarkup=ae&&re.match(/[<&>]/);var ve,be="string"==typeof(ve=re)&&ve.match(M.latexCheck);W.latex=be;var de,pe,ge=be?"":v(W.calcdata.cells.prefix,J,Q)||"",Ae=be?"":v(W.calcdata.cells.suffix,J,Q)||"",ye=be?null:v(W.calcdata.cells.format,J,Q)||null,we=ge+(ye?T(ye)(W.value):W.value)+Ae;if(W.wrappingNeeded=!W.wrapped&&!ue&&!be&&(de=y(we)),W.cellHeightMayIncrease=oe||be||W.mayHaveMarkup||(void 0===de?y(we):de),W.needsConvertToTspans=W.mayHaveMarkup||W.wrappingNeeded||W.latex,W.wrappingNeeded){var se=(" "===M.wrapSplitCharacter?we.replace(/<a href=/gi,"<a_href="):we).split(M.wrapSplitCharacter),ie=" "===M.wrapSplitCharacter?se.map(function(he){return he.replace(/<a_href=/gi,"<a href=")}):se;W.fragments=ie.map(function(he){return{text:he,width:null}}),W.fragments.push({fragment:M.wrapSpacer,width:null}),pe=ie.join(M.lineBreaker)+M.lineBreaker+M.wrapSpacer}else delete W.fragments,pe=we;return pe}).attr("dy",function(W){return W.needsConvertToTspans?0:"0.75em"}).each(function(W){var J=this,Q=k.select(J),re=W.wrappingNeeded?P:R;W.needsConvertToTspans?s.convertToTspans(Q,X,re($,J,te,X,W)):k.select(J.parentNode).attr("transform",function(ae){return i(j(ae),M.cellPad)}).attr("text-anchor",function(ae){return{left:"start",center:"middle",right:"end"}[ae.align]})})}function y(V){return-1!==V.indexOf(M.wrapSplitCharacter)}function v(V,te,$){if(a.isArrayOrTypedArray(V)){var X=V[Math.min(te,V.length-1)];return a.isArrayOrTypedArray(X)?X[Math.min($,X.length-1)]:X}return V}function _(V,te,$){V.transition().ease(M.releaseTransitionEase).duration(M.releaseTransitionDuration).attr("transform",i(te.x,$))}function f(V){return"cells"===V.type}function S(V){return"header"===V.type}function w(V){return(V.rowBlocks.length?V.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(te,$){return te+Y($,1/0)},0)}function E(V,te,$){var X=x(te)[0];if(void 0!==X){var W=X.rowBlocks,J=X.calcdata,Q=N(W,W.length),re=X.calcdata.groupHeight-w(X),ae=J.scrollY=Math.max(0,Math.min(Q-re,J.scrollY)),oe=function(ue,ve,be){for(var de=[],pe=0,ge=0;ge<ue.length;ge++){for(var Ae=ue[ge],ye=Ae.rows,we=0,se=0;se<ye.length;se++)we+=ye[se].rowHeight;Ae.allRowsHeight=we,ve<pe+we&&ve+be>pe&&de.push(ge),pe+=we}return de}(W,ae,re);1===oe.length&&(oe[0]===W.length-1?oe.unshift(oe[0]-1):oe.push(oe[0]+1)),oe[0]%2&&oe.reverse(),te.each(function(ue,ve){ue.page=oe[ve],ue.scrollY=ae}),te.attr("transform",function(ue){var ve=N(ue.rowBlocks,ue.page)-ue.scrollY;return i(0,ve)}),V&&(O(V,$,te,oe,X.prevPages,X,0),O(V,$,te,oe,X.prevPages,X,1),g($,V))}}function C(V,te,$,X){return function(W){var J=W.calcdata?W.calcdata:W,Q=te.filter(function(ue){return J.key===ue.key}),re=$||J.scrollbarState.dragMultiplier,ae=J.scrollY;J.scrollY=void 0===X?J.scrollY+re*k.event.dy:X;var oe=Q.selectAll("."+M.cn.yColumn).selectAll("."+M.cn.columnBlock).filter(f);return E(V,oe,Q),J.scrollY===ae}}function O(V,te,$,X,W,J,Q){X[Q]!==W[Q]&&(clearTimeout(J.currentRepaint[Q]),J.currentRepaint[Q]=setTimeout(function(){var re=$.filter(function(ae,oe){return oe===Q&&X[oe]!==W[oe]});h(V,te,re,$),W[Q]=X[Q]}))}function P(V,te,$,X){return function(){var W=k.select(te.parentNode);W.each(function(J){var Q=J.fragments;W.selectAll("tspan.line").each(function(pe,ge){Q[ge].width=this.getComputedTextLength()});var re,ae,oe=Q[Q.length-1].width,ue=Q.slice(0,-1),ve=[],be=0,de=J.column.columnWidth-2*M.cellPad;for(J.value="";ue.length;)be+(ae=(re=ue.shift()).width+oe)>de&&(J.value+=ve.join(M.wrapSpacer)+M.lineBreaker,ve=[],be=0),ve.push(re.text),be+=ae;be&&(J.value+=ve.join(M.wrapSpacer)),J.wrapped=!0}),W.selectAll("tspan.line").remove(),m(W.select("."+M.cn.cellText),$,V,X),k.select(te.parentNode.parentNode).call(z)}}function R(V,te,$,X,W){return function(){if(!W.settledY){var J=k.select(te.parentNode),Q=U(W),re=W.key-Q.firstRowIndex,ae=Q.rows[re].rowHeight,oe=W.cellHeightMayIncrease?te.parentNode.getBoundingClientRect().height+2*M.cellPad:ae,ue=Math.max(oe,ae);ue-Q.rows[re].rowHeight&&(Q.rows[re].rowHeight=ue,V.selectAll("."+M.cn.columnCell).call(z),E(null,V.filter(f),0),g($,X,!0)),J.attr("transform",function(){var ve=this,be=ve.parentNode.getBoundingClientRect(),de=k.select(ve.parentNode).select("."+M.cn.cellRect).node().getBoundingClientRect(),pe=ve.transform.baseVal.consolidate(),ge=de.top-be.top+(pe?pe.matrix.f:M.cellPad);return i(j(W,k.select(ve.parentNode).select("."+M.cn.cellTextHolder).node().getBoundingClientRect().width),ge)}),W.settledY=!0}}}function j(V,te){switch(V.align){case"left":default:return M.cellPad;case"right":return V.column.columnWidth-(te||0)-M.cellPad;case"center":return(V.column.columnWidth-(te||0))/2}}function z(V){V.attr("transform",function(te){var $=te.rowBlocks[0].auxiliaryBlocks.reduce(function(W,J){return W+Y(J,1/0)},0),X=Y(U(te),te.key);return i(0,X+$)}).selectAll("."+M.cn.cellRect).attr("height",function(te){return($=U(te),X=te.key,$.rows[X-$.firstRowIndex]).rowHeight;var $,X})}function N(V,te){for(var $=0,X=te-1;X>=0;X--)$+=F(V[X]);return $}function Y(V,te){for(var $=0,X=0;X<V.rows.length&&V.rows[X].rowIndex<te;X++)$+=V.rows[X].rowHeight;return $}function F(V){var te=V.allRowsHeight;if(void 0!==te)return te;for(var $=0,X=0;X<V.rows.length;X++)$+=V.rows[X].rowHeight;return V.allRowsHeight=$,$}function U(V){return V.rowBlocks[V.page]}ee.exports=function(V,te){var $=!V._context.staticPlot,X=V._fullLayout._paper.selectAll("."+M.cn.table).data(te.map(function(Ae){var ye=b.unwrap(Ae).trace;return r(V,ye)}),b.keyFun);X.exit().remove(),X.enter().append("g").classed(M.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),X.attr("width",function(Ae){return Ae.width+Ae.size.l+Ae.size.r}).attr("height",function(Ae){return Ae.height+Ae.size.t+Ae.size.b}).attr("transform",function(Ae){return i(Ae.translateX,Ae.translateY)});var W=X.selectAll("."+M.cn.tableControlView).data(b.repeat,b.keyFun),J=W.enter().append("g").classed(M.cn.tableControlView,!0).style("box-sizing","content-box");if($){var Q="onwheel"in document?"wheel":"mousewheel";J.on("mousemove",function(Ae){W.filter(function(ye){return Ae===ye}).call(g,V)}).on(Q,function(Ae){if(!Ae.scrollbarState.wheeling){Ae.scrollbarState.wheeling=!0;var ye=Ae.scrollY+k.event.deltaY;C(V,W,null,ye)(Ae)||(k.event.stopPropagation(),k.event.preventDefault()),Ae.scrollbarState.wheeling=!1}}).call(g,V,!0)}W.attr("transform",function(Ae){return i(Ae.size.l,Ae.size.t)});var re=W.selectAll("."+M.cn.scrollBackground).data(b.repeat,b.keyFun);re.enter().append("rect").classed(M.cn.scrollBackground,!0).attr("fill","none"),re.attr("width",function(Ae){return Ae.width}).attr("height",function(Ae){return Ae.height}),W.each(function(Ae){p.setClipUrl(k.select(this),d(V,Ae),V)});var ae=W.selectAll("."+M.cn.yColumn).data(function(Ae){return Ae.columns},b.keyFun);ae.enter().append("g").classed(M.cn.yColumn,!0),ae.exit().remove(),ae.attr("transform",function(Ae){return i(Ae.x,0)}),$&&ae.call(k.behavior.drag().origin(function(Ae){return _(k.select(this),Ae,-M.uplift),t(this),Ae.calcdata.columnDragInProgress=!0,g(W.filter(function(ye){return Ae.calcdata.key===ye.key}),V),Ae}).on("drag",function(Ae){var ye=k.select(this),we=function(se){return(Ae===se?k.event.x:se.x)+se.columnWidth/2};Ae.x=Math.max(-M.overdrag,Math.min(Ae.calcdata.width+M.overdrag-Ae.columnWidth,k.event.x)),x(ae).filter(function(se){return se.calcdata.key===Ae.calcdata.key}).sort(function(se,ie){return we(se)-we(ie)}).forEach(function(se,ie){se.xIndex=ie,se.x=Ae===se?se.x:se.xScale(se)}),ae.filter(function(se){return Ae!==se}).transition().ease(M.transitionEase).duration(M.transitionDuration).attr("transform",function(se){return i(se.x,0)}),ye.call(n).attr("transform",i(Ae.x,-M.uplift))}).on("dragend",function(Ae){var se,ie,he,Se,ye=k.select(this),we=Ae.calcdata;Ae.x=Ae.xScale(Ae),Ae.calcdata.columnDragInProgress=!1,_(ye,Ae,0),se=V,ie=we,he=we.columns.map(function(se){return se.xIndex}),Se=ie.gdColumnsOriginalOrder,ie.gdColumns.sort(function(_e,Me){return he[Se.indexOf(_e)]-he[Se.indexOf(Me)]}),ie.columnorder=he,se.emit("plotly_restyle")})),ae.each(function(Ae){p.setClipUrl(k.select(this),c(V,Ae),V)});var oe=ae.selectAll("."+M.cn.columnBlock).data(o.splitToPanels,b.keyFun);oe.enter().append("g").classed(M.cn.columnBlock,!0).attr("id",function(Ae){return Ae.key}),oe.style("cursor",function(Ae){return Ae.dragHandle?"ew-resize":Ae.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var ue=oe.filter(S),ve=oe.filter(f);$&&ve.call(k.behavior.drag().origin(function(Ae){return k.event.stopPropagation(),Ae}).on("drag",C(V,W,-1)).on("dragend",function(){})),h(V,W,ue,oe),h(V,W,ve,oe);var be=W.selectAll("."+M.cn.scrollAreaClip).data(b.repeat,b.keyFun);be.enter().append("clipPath").classed(M.cn.scrollAreaClip,!0).attr("id",function(Ae){return d(V,Ae)});var de=be.selectAll("."+M.cn.scrollAreaClipRect).data(b.repeat,b.keyFun);de.enter().append("rect").classed(M.cn.scrollAreaClipRect,!0).attr("x",-M.overdrag).attr("y",-M.uplift).attr("fill","none"),de.attr("width",function(Ae){return Ae.width+2*M.overdrag}).attr("height",function(Ae){return Ae.height+M.uplift}),ae.selectAll("."+M.cn.columnBoundary).data(b.repeat,b.keyFun).enter().append("g").classed(M.cn.columnBoundary,!0);var pe=ae.selectAll("."+M.cn.columnBoundaryClippath).data(b.repeat,b.keyFun);pe.enter().append("clipPath").classed(M.cn.columnBoundaryClippath,!0),pe.attr("id",function(Ae){return c(V,Ae)});var ge=pe.selectAll("."+M.cn.columnBoundaryRect).data(b.repeat,b.keyFun);ge.enter().append("rect").classed(M.cn.columnBoundaryRect,!0).attr("fill","none"),ge.attr("width",function(Ae){return Ae.columnWidth+2*u(Ae)}).attr("height",function(Ae){return Ae.calcdata.height+2*u(Ae)+M.uplift}).attr("x",function(Ae){return-u(Ae)}).attr("y",function(Ae){return-u(Ae)}),E(null,ve,W)}},45802:function(ee,D,e){"use strict";var M=e(5386).fF,k=e(5386).si,a=e(50693),T=e(27670).Y,b=e(34e3),p=e(57564),s=e(43473),t=e(1426).extendFlat,i=e(79952).u;ee.exports={labels:p.labels,parents:p.parents,values:p.values,branchvalues:p.branchvalues,count:p.count,level:p.level,maxdepth:p.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:p.marker.colors,pattern:i,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:p.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},b.textfont,{}),editType:"calc"},text:b.text,textinfo:p.textinfo,texttemplate:k({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:p.hoverinfo,hovertemplate:M({},{keys:s.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:t({},b.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:b.sort,root:p.root,domain:T({name:"treemap",trace:!0,editType:"calc"})}},78018:function(ee,D,e){"use strict";var M=e(74875);D.name="treemap",D.plot=function(k,a,T,b){M.plotBasePlot(D.name,k,a,T,b)},D.clean=function(k,a,T,b){M.cleanBasePlot(D.name,k,a,T,b)}},65039:function(ee,D,e){"use strict";var M=e(52147);D.y=function(k,a){return M.calc(k,a)},D.T=function(k){return M._runCrossTraceCalc("treemap",k)}},43473:function(ee){"use strict";ee.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(ee,D,e){"use strict";var M=e(71828),k=e(45802),a=e(7901),T=e(27670).c,b=e(90769).handleText,p=e(97313).TEXTPAD,s=e(37434).handleMarkerDefaults,t=e(21081),i=t.hasColorscale,n=t.handleDefaults;ee.exports=function(r,o,l,u){function d(_,f){return M.coerce(r,o,k,_,f)}var c=d("labels"),x=d("parents");if(c&&c.length&&x&&x.length){var g=d("values");g&&g.length?d("branchvalues"):d("count"),d("level"),d("maxdepth"),"squarify"===d("tiling.packing")&&d("tiling.squarifyratio"),d("tiling.flip"),d("tiling.pad");var h=d("text");d("texttemplate"),o.texttemplate||d("textinfo",M.isArrayOrTypedArray(h)?"text+label":"label"),d("hovertext"),d("hovertemplate");var m=d("pathbar.visible");b(r,o,u,d,"auto",{hasPathbar:m,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),d("textposition");var y=-1!==o.textposition.indexOf("bottom");s(r,o,u,d),(o._hasColorscale=i(r,"marker","colors")||(r.marker||{}).coloraxis)?n(r,o,u,d,{prefix:"marker.",cLetter:"c"}):d("marker.depthfade",!(o.marker.colors||[]).length);var v=2*o.textfont.size;d("marker.pad.t",y?v/4:v),d("marker.pad.l",v/4),d("marker.pad.r",v/4),d("marker.pad.b",y?v:v/4),d("marker.cornerradius"),o._hovered={marker:{line:{width:2,color:a.contrast(u.paper_bgcolor)}}},m&&(d("pathbar.thickness",o.pathbar.textfont.size+2*p),d("pathbar.side"),d("pathbar.edgeshape")),d("sort"),d("root.color"),T(o,u,d),o._length=null}else o.visible=!1}},80694:function(ee,D,e){"use strict";var M=e(39898),k=e(2791),a=e(72597).clearMinTextSize,T=e(16688).resizeText,b=e(46650);ee.exports=function(p,s,t,i,n){var r,o,l=n.type,u=n.drawDescendants,d=p._fullLayout,c=d["_"+l+"layer"],x=!t;a(l,d),(r=c.selectAll("g.trace."+l).data(s,function(g){return g[0].trace.uid})).enter().append("g").classed("trace",!0).classed(l,!0),r.order(),!d.uniformtext.mode&&k.hasTransition(t)?(i&&(o=i()),M.transition().duration(t.duration).ease(t.easing).each("end",function(){o&&o()}).each("interrupt",function(){o&&o()}).each(function(){c.selectAll("g.trace").each(function(g){b(p,g,this,t,u)})})):(r.each(function(g){b(p,g,this,t,u)}),d.uniformtext.mode&&T(p,c.selectAll(".trace"),l)),x&&r.exit().remove()}},66209:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(91424),T=e(63893),b=e(37210),p=e(96362).styleOne,s=e(43473),t=e(2791),i=e(83523),n=!0;ee.exports=function(r,o,l,u,d){var c=d.barDifY,x=d.width,g=d.height,h=d.viewX,m=d.viewY,y=d.pathSlice,v=d.toMoveInsideSlice,_=d.strTransform,f=d.hasTransition,S=d.handleSlicesExit,w=d.makeUpdateSliceInterpolator,E=d.makeUpdateTextInterpolator,C={},O=r._context.staticPlot,P=r._fullLayout,R=o[0],j=R.trace,z=R.hierarchy,N=x/j._entryDepth,Y=t.listPath(l.data,"id"),F=b(z.copy(),[x,g],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(F=F.filter(function(V){var te=Y.indexOf(V.data.id);return-1!==te&&(V.x0=N*te,V.x1=N*(te+1),V.y0=c,V.y1=c+g,V.onPathbar=!0,!0)})).reverse(),(u=u.data(F,t.getPtId)).enter().append("g").classed("pathbar",!0),S(u,n,C,[x,g],y),u.order();var U=u;f&&(U=U.transition().each("end",function(){var V=M.select(this);t.setSliceCursor(V,r,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),U.each(function(V){V._x0=h(V.x0),V._x1=h(V.x1),V._y0=m(V.y0),V._y1=m(V.y1),V._hoverX=h(V.x1-Math.min(x,g)/2),V._hoverY=m(V.y1-g/2);var te=M.select(this),$=k.ensureSingle(te,"path","surface",function(Q){Q.style("pointer-events",O?"none":"all")});f?$.transition().attrTween("d",function(Q){var re=w(Q,n,C,[x,g]);return function(ae){return y(re(ae))}}):$.attr("d",y),te.call(i,l,r,o,{styleOne:p,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,r,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:r._transitioning}),$.call(p,V,j,r,{hovered:!1}),V._text=(t.getPtLabel(V)||"").split("<br>").join(" ")||"";var X=k.ensureSingle(te,"g","slicetext"),W=k.ensureSingle(X,"text","",function(Q){Q.attr("data-notex",1)}),J=k.ensureUniformFontSize(r,t.determineTextFont(j,V,P.font,{onPathbar:!0}));W.text(V._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,J).call(T.convertToTspans,r),V.textBB=a.bBox(W.node()),V.transform=v(V,{fontSize:J.size,onPathbar:!0}),V.transform.fontSize=J.size,f?W.transition().attrTween("transform",function(Q){var re=E(Q,n,C,[x,g]);return function(ae){return _(re(ae))}}):W.attr("transform",_(V))})}},52583:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(91424),T=e(63893),b=e(37210),p=e(96362).styleOne,s=e(43473),t=e(2791),i=e(83523),n=e(24714).formatSliceLabel,r=!1;ee.exports=function(o,l,u,d,c){var x=c.width,g=c.height,h=c.viewX,m=c.viewY,y=c.pathSlice,v=c.toMoveInsideSlice,_=c.strTransform,f=c.hasTransition,S=c.handleSlicesExit,w=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,C=c.prevEntry,O=o._context.staticPlot,P=o._fullLayout,R=l[0].trace,j=-1!==R.textposition.indexOf("left"),z=-1!==R.textposition.indexOf("right"),N=-1!==R.textposition.indexOf("bottom"),Y=!N&&!R.marker.pad.t||N&&!R.marker.pad.b,F=b(u,[x,g],{packing:R.tiling.packing,squarifyratio:R.tiling.squarifyratio,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,pad:{inner:R.tiling.pad,top:R.marker.pad.t,left:R.marker.pad.l,right:R.marker.pad.r,bottom:R.marker.pad.b}}).descendants(),U=1/0,V=-1/0;F.forEach(function(J){var Q=J.depth;Q>=R._maxDepth?(J.x0=J.x1=(J.x0+J.x1)/2,J.y0=J.y1=(J.y0+J.y1)/2):(U=Math.min(U,Q),V=Math.max(V,Q))}),d=d.data(F,t.getPtId),R._maxVisibleLayers=isFinite(V)?V-U+1:0,d.enter().append("g").classed("slice",!0),S(d,r,{},[x,g],y),d.order();var te=null;if(f&&C){var $=t.getPtId(C);d.each(function(J){null===te&&t.getPtId(J)===$&&(te={x0:J.x0,x1:J.x1,y0:J.y0,y1:J.y1})})}var X=function(){return te||{x0:0,x1:x,y0:0,y1:g}},W=d;return f&&(W=W.transition().each("end",function(){var J=M.select(this);t.setSliceCursor(J,o,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(J){var Q=t.isHeader(J,R);J._x0=h(J.x0),J._x1=h(J.x1),J._y0=m(J.y0),J._y1=m(J.y1),J._hoverX=h(J.x1-R.marker.pad.r),J._hoverY=m(N?J.y1-R.marker.pad.b/2:J.y0+R.marker.pad.t/2);var re=M.select(this),ae=k.ensureSingle(re,"path","surface",function(be){be.style("pointer-events",O?"none":"all")});f?ae.transition().attrTween("d",function(be){var de=w(be,r,X(),[x,g]);return function(pe){return y(de(pe))}}):ae.attr("d",y),re.call(i,u,o,l,{styleOne:p,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,o,{isTransitioning:o._transitioning}),ae.call(p,J,R,o,{hovered:!1}),J.x0===J.x1||J.y0===J.y1?J._text="":J._text=Q?Y?"":t.getPtLabel(J)||"":n(J,u,R,l,P)||"";var oe=k.ensureSingle(re,"g","slicetext"),ue=k.ensureSingle(oe,"text","",function(be){be.attr("data-notex",1)}),ve=k.ensureUniformFontSize(o,t.determineTextFont(R,J,P.font));ue.text(J._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":j||Q?"start":"middle").call(a.font,ve).call(T.convertToTspans,o),J.textBB=a.bBox(ue.node()),J.transform=v(J,{fontSize:ve.size,isHeader:Q}),J.transform.fontSize=ve.size,f?ue.transition().attrTween("transform",function(be){var de=E(be,r,X(),[x,g]);return function(pe){return _(de(pe))}}):ue.attr("transform",_(J))}),te}},14102:function(ee){"use strict";ee.exports=function D(e,M,k){var a;k.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),k.flipX&&(a=e.x0,e.x0=M[0]-e.x1,e.x1=M[0]-a),k.flipY&&(a=e.y0,e.y0=M[1]-e.y1,e.y1=M[1]-a);var T=e.children;if(T)for(var b=0;b<T.length;b++)D(T[b],M,k)}},70954:function(ee,D,e){"use strict";ee.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(ee){"use strict";ee.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(ee,D,e){"use strict";var M=e(71828),k=e(55479);ee.exports=function(a,T){function b(p,s){return M.coerce(a,T,k,p,s)}b("treemapcolorway",T.colorway),b("extendtreemapcolors")}},37210:function(ee,D,e){"use strict";var M=e(674),k=e(14102);ee.exports=function(a,T,b){var p,s=b.flipX,t=b.flipY,i="dice-slice"===b.packing,n=b.pad[t?"bottom":"top"],r=b.pad[s?"right":"left"],o=b.pad[s?"left":"right"],l=b.pad[t?"top":"bottom"];i&&(p=r,r=n,n=p,p=o,o=l,l=p);var u=M.treemap().tile(function(d,c){switch(d){case"squarify":return M.treemapSquarify.ratio(c);case"binary":return M.treemapBinary;case"dice":return M.treemapDice;case"slice":return M.treemapSlice;default:return M.treemapSliceDice}}(b.packing,b.squarifyratio)).paddingInner(b.pad.inner).paddingLeft(r).paddingRight(o).paddingTop(n).paddingBottom(l).size(i?[T[1],T[0]]:T)(a);return(i||s||t)&&k(u,T,{swapXY:i,flipX:s,flipY:t}),u}},5893:function(ee,D,e){"use strict";var M=e(80694),k=e(52583);ee.exports=function(a,T,b,p){return M(a,T,b,p,{type:"treemap",drawDescendants:k})}},46650:function(ee,D,e){"use strict";var M=e(39898),k=e(81684).sX,a=e(2791),T=e(71828),b=e(97313).TEXTPAD,p=e(17295).toMoveInsideBar,s=e(72597).recordMinTextSize,t=e(43473),i=e(66209);function n(r){return a.isHierarchyRoot(r)?"":a.getPtId(r)}ee.exports=function(r,o,l,u,d){var c=r._fullLayout,x=o[0],g=x.trace,h="icicle"===g.type,m=x.hierarchy,y=a.findEntryWithLevel(m,g.level),v=M.select(l),_=v.selectAll("g.pathbar"),f=v.selectAll("g.slice");if(!y)return _.remove(),void f.remove();var S=a.isHierarchyRoot(y),w=!c.uniformtext.mode&&a.hasTransition(u),E=a.getMaxDepth(g),C=c._size,O=g.domain,P=C.w*(O.x[1]-O.x[0]),R=C.h*(O.y[1]-O.y[0]),j=P,z=g.pathbar.thickness,N=g.marker.line.width+t.gapWithPathbar,Y=g.pathbar.visible?g.pathbar.side.indexOf("bottom")>-1?R+N:-(z+N):0,F={x0:j,x1:j,y0:Y,y1:Y+z},U=function(Te,Ce,De){var ze=g.tiling.pad,Ue=function(st){return st-ze<=Ce.x0},Ve=function(st){return st+ze>=Ce.x1},Xe=function(st){return st-ze<=Ce.y0},at=function(st){return st+ze>=Ce.y1};return Te.x0===Ce.x0&&Te.x1===Ce.x1&&Te.y0===Ce.y0&&Te.y1===Ce.y1?{x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1}:{x0:Ue(Te.x0-ze)?0:Ve(Te.x0-ze)?De[0]:Te.x0,x1:Ue(Te.x1+ze)?0:Ve(Te.x1+ze)?De[0]:Te.x1,y0:Xe(Te.y0-ze)?0:at(Te.y0-ze)?De[1]:Te.y0,y1:Xe(Te.y1+ze)?0:at(Te.y1+ze)?De[1]:Te.y1}},V=null,te={},$={},X=null,W=function(Te,Ce){return Ce?te[n(Te)]:$[n(Te)]};x.hasMultipleRoots&&S&&E++,g._maxDepth=E,g._backgroundColor=c.paper_bgcolor,g._entryDepth=y.data.depth,g._atRootLevel=S;var J=-P/2+C.l+C.w*(O.x[1]+O.x[0])/2,Q=-R/2+C.t+C.h*(1-(O.y[1]+O.y[0])/2),re=function(Te){return J+Te},ae=function(Te){return Q+Te},oe=ae(0),ue=re(0),ve=function(Te){return ue+Te},be=function(Te){return oe+Te};function de(Te,Ce){return Te+","+Ce}var pe=ve(0),ge=function(Te){Te.x=Math.max(pe,Te.x)},Ae=g.pathbar.edgeshape,ye=g[h?"tiling":"marker"].pad,we=function(Te){return-1!==g.textposition.indexOf(Te)},se=we("top"),ie=we("left"),he=we("right"),Se=we("bottom"),_e=function(Te,Ce){var De=Te.x0,ze=Te.x1,Ue=Te.y0,Ve=Te.y1,Xe=Te.textBB,at=se||Ce.isHeader&&!Se?"start":Se?"end":"middle",st=we("right"),ht=we("left")||Ce.onPathbar?-1:st?1:0;if(Ce.isHeader){if((De+=(h?ye:ye.l)-b)>=(ze-=(h?ye:ye.r)-b)){var bt=(De+ze)/2;De=bt,ze=bt}var vt;Se?Ue<(vt=Ve-(h?ye:ye.b))&&vt<Ve&&(Ue=vt):Ue<(vt=Ue+(h?ye:ye.t))&&vt<Ve&&(Ve=vt)}var Qe=p(De,ze,Ue,Ve,Xe,{isHorizontal:!1,constrained:!0,angle:0,anchor:at,leftToRight:ht});return Qe.fontSize=Ce.fontSize,Qe.targetX=re(Qe.targetX),Qe.targetY=ae(Qe.targetY),isNaN(Qe.targetX)||isNaN(Qe.targetY)?{}:(De!==ze&&Ue!==Ve&&s(g.type,Qe,c),{scale:Qe.scale,rotate:Qe.rotate,textX:Qe.textX,textY:Qe.textY,anchorX:Qe.anchorX,anchorY:Qe.anchorY,targetX:Qe.targetX,targetY:Qe.targetY})},Me=function(Te,Ce){for(var De,ze=0,Ue=Te;!De&&ze<E;)ze++,(Ue=Ue.parent)?De=W(Ue,Ce):ze=E;return De||{}},Ee=function(Te,Ce,De,ze,Ue){var Ve,Xe=W(Te,Ce);if(Xe)Ve=Xe;else if(Ce)Ve=F;else if(V)if(Te.parent){var at=X||De;at&&!Ce?Ve=U(Te,at,ze):(Ve={},T.extendFlat(Ve,Me(Te,Ce)))}else Ve=T.extendFlat({},Te),h&&("h"===Ue.orientation?Ue.flipX?Ve.x0=Te.x1:Ve.x1=0:Ue.flipY?Ve.y0=Te.y1:Ve.y1=0);else Ve={};return k(Ve,{x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1})},Ie=function(Te,Ce,De,ze){var Ue=W(Te,Ce),Ve={},Xe=function(st,ht,bt,vt){if(ht)return te[n(m)]||F;var Qe=$[g.level]||bt;return st.data.depth-y.data.depth<E?U(st,Qe,vt):{}}(Te,Ce,De,ze);T.extendFlat(Ve,{transform:_e({x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1,textBB:Te.textBB,_text:Te._text},{isHeader:a.isHeader(Te,g)})}),Ue?Ve=Ue:Te.parent&&T.extendFlat(Ve,Me(Te,Ce));var at=Te.transform;return Te.x0!==Te.x1&&Te.y0!==Te.y1&&s(g.type,at,c),k(Ve,{transform:{scale:at.scale,rotate:at.rotate,textX:at.textX,textY:at.textY,anchorX:at.anchorX,anchorY:at.anchorY,targetX:at.targetX,targetY:at.targetY}})},fe=function(Te,Ce,De,ze,Ue){var Ve=ze[0],Xe=ze[1];w?Te.exit().transition().each(function(){var at=M.select(this);at.select("path.surface").transition().attrTween("d",function(st){var ht=function(bt,vt,Qe,nt){var wt,Ot=W(bt,vt);if(vt)wt=F;else{var Pt=W(y,vt);wt=Pt?U(bt,Pt,nt):{}}return k(Ot,wt)}(st,Ce,0,[Ve,Xe]);return function(bt){return Ue(ht(bt))}}),at.select("g.slicetext").attr("opacity",0)}).remove():Te.exit().remove()},xe=function(Te){var Ce=Te.transform;return Te.x0!==Te.x1&&Te.y0!==Te.y1&&s(g.type,Ce,c),T.getTextTransform({textX:Ce.textX,textY:Ce.textY,anchorX:Ce.anchorX,anchorY:Ce.anchorY,targetX:Ce.targetX,targetY:Ce.targetY,scale:Ce.scale,rotate:Ce.rotate})};w&&(_.each(function(Te){te[n(Te)]={x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1},Te.transform&&(te[n(Te)].transform={textX:Te.transform.textX,textY:Te.transform.textY,anchorX:Te.transform.anchorX,anchorY:Te.transform.anchorY,targetX:Te.transform.targetX,targetY:Te.transform.targetY,scale:Te.transform.scale,rotate:Te.transform.rotate})}),f.each(function(Te){$[n(Te)]={x0:Te.x0,x1:Te.x1,y0:Te.y0,y1:Te.y1},Te.transform&&($[n(Te)].transform={textX:Te.transform.textX,textY:Te.transform.textY,anchorX:Te.transform.anchorX,anchorY:Te.transform.anchorY,targetX:Te.transform.targetX,targetY:Te.transform.targetY,scale:Te.transform.scale,rotate:Te.transform.rotate}),!V&&a.isEntry(Te)&&(V=Te)})),X=d(r,o,y,f,{width:P,height:R,viewX:re,viewY:ae,pathSlice:function(Te){var Ce=re(Te.x0),De=re(Te.x1),ze=ae(Te.y0),Ue=ae(Te.y1),Ve=De-Ce,Xe=Ue-ze;if(!Ve||!Xe)return"";var at=g.marker.cornerradius||0,st=Math.min(at,Ve/2,Xe/2);st&&Te.data&&Te.data.data&&Te.data.data.label&&(se&&(st=Math.min(st,ye.t)),ie&&(st=Math.min(st,ye.l)),he&&(st=Math.min(st,ye.r)),Se&&(st=Math.min(st,ye.b)));var ht=function(bt,vt){return st?"a"+de(st,st)+" 0 0 1 "+de(bt,vt):""};return"M"+de(Ce,ze+st)+ht(st,-st)+"L"+de(De-st,ze)+ht(st,st)+"L"+de(De,Ue-st)+ht(-st,st)+"L"+de(Ce+st,Ue)+ht(-st,-st)+"Z"},toMoveInsideSlice:_e,prevEntry:V,makeUpdateSliceInterpolator:Ee,makeUpdateTextInterpolator:Ie,handleSlicesExit:fe,hasTransition:w,strTransform:xe}),g.pathbar.visible?i(r,o,y,_,{barDifY:Y,width:j,height:z,viewX:ve,viewY:be,pathSlice:function(Te){var Ce=ve(Math.max(Math.min(Te.x0,Te.x0),0)),De=ve(Math.min(Math.max(Te.x1,Te.x1),j)),ze=be(Te.y0),Ue=be(Te.y1),Ve=z/2,Xe={},at={};Xe.x=Ce,at.x=De,Xe.y=at.y=(ze+Ue)/2;var st={x:Ce,y:ze},ht={x:De,y:ze},bt={x:De,y:Ue},vt={x:Ce,y:Ue};return">"===Ae?(st.x-=Ve,ht.x-=Ve,bt.x-=Ve,vt.x-=Ve):"/"===Ae?(bt.x-=Ve,vt.x-=Ve,Xe.x-=Ve/2,at.x-=Ve/2):"\\"===Ae?(st.x-=Ve,ht.x-=Ve,Xe.x-=Ve/2,at.x-=Ve/2):"<"===Ae&&(Xe.x-=Ve,at.x-=Ve),ge(st),ge(vt),ge(Xe),ge(ht),ge(bt),ge(at),"M"+de(st.x,st.y)+"L"+de(ht.x,ht.y)+"L"+de(at.x,at.y)+"L"+de(bt.x,bt.y)+"L"+de(vt.x,vt.y)+"L"+de(Xe.x,Xe.y)+"Z"},toMoveInsideSlice:_e,makeUpdateSliceInterpolator:Ee,makeUpdateTextInterpolator:Ie,handleSlicesExit:fe,hasTransition:w,strTransform:xe}):_.remove()}},96362:function(ee,D,e){"use strict";var M=e(39898),k=e(7901),a=e(71828),T=e(2791),b=e(72597).resizeText,p=e(43467);function s(t,i,n,r,o){var l,u,d=(o||{}).hovered,c=i.data.data,x=c.i,g=c.color,h=T.isHierarchyRoot(i),m=1;if(d)l=n._hovered.marker.line.color,u=n._hovered.marker.line.width;else if(h&&g===n.root.color)m=100,l="rgba(0,0,0,0)",u=0;else if(l=a.castOption(n,x,"marker.line.color")||k.defaultLine,u=a.castOption(n,x,"marker.line.width")||0,!n._hasColorscale&&!i.onPathbar){var y=n.marker.depthfade;if(y){var v,_=k.combine(k.addOpacity(n._backgroundColor,.75),g);if(!0===y){var f=T.getMaxDepth(n);v=isFinite(f)?T.isLeaf(i)?0:n._maxVisibleLayers-(i.data.depth-n._entryDepth):i.data.height+1}else v=i.data.depth-n._entryDepth,n._atRootLevel||v++;if(v>0)for(var S=0;S<v;S++){var w=.5*S/v;g=k.combine(k.addOpacity(_,w),g)}}}t.call(p,i,n,r,g).style("stroke-width",u).call(k.stroke,l).style("opacity",m)}ee.exports={style:function(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");b(t,i,"treemap"),i.each(function(n){var r=M.select(this),o=n[0].trace;r.style("opacity",o.opacity),r.selectAll("path.surface").each(function(l){M.select(this).call(s,l,o,t,{hovered:!1})})})},styleOne:s}},68875:function(ee,D,e){"use strict";var M=e(53522),k=e(1426).extendFlat,a=e(12663).axisHoverFormat;ee.exports={y:M.y,x:M.x,x0:M.x0,y0:M.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:k({},M.name,{}),orientation:k({},M.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:M.fillcolor,points:k({},M.boxpoints,{}),jitter:k({},M.jitter,{}),pointpos:k({},M.pointpos,{}),width:k({},M.width,{}),marker:M.marker,text:M.text,hovertext:M.hovertext,hovertemplate:M.hovertemplate,quartilemethod:M.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:M.selected,unselected:M.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(48518),T=e(60168),b=e(50606).BADNUM;function p(t,i,n){var r=i.max-i.min;if(!r)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,r/1e4);var u,d,c,o=n.length,l=M.stdev(n,o-1,i.mean);return Math.max((u=o,d=l,c=i.q3-i.q1,1.059*Math.min(d,c/1.349)*Math.pow(u,-.2)),r/100)}function s(t,i,n,r){var o,l=t.spanmode,u=t.span||[],d=[i.min,i.max],c=[i.min-2*r,i.max+2*r];function x(h){var m=u[h],y="multicategory"===n.type?n.r2c(m):n.d2c(m,0,t[i.valLetter+"calendar"]);return y===b?c[h]:y}var g={type:"linear",range:o="soft"===l?c:"hard"===l?d:[x(0),x(1)]};return k.setConvert(g),g.cleanRange(),o}ee.exports=function(t,i){var n=a(t,i);if(n[0].t.empty)return n;for(var r=t._fullLayout,o=k.getFromId(t,i["h"===i.orientation?"xaxis":"yaxis"]),l=1/0,u=-1/0,d=0,c=0,x=0;x<n.length;x++){var g=n[x],h=g.pts.map(T.extractVal),m=g.bandwidth=p(i,g,h),y=g.span=s(i,g,o,m);if(g.min===g.max&&0===m)y=g.span=[g.min,g.max],g.density=[{v:1,t:y[0]}],g.bandwidth=m,d=Math.max(d,1);else{var v=y[1]-y[0],_=Math.ceil(v/(m/3)),f=v/_;if(!isFinite(f)||!isFinite(_))return M.error("Something went wrong with computing the violin span"),n[0].t.empty=!0,n;var S=T.makeKDE(g,i,h);g.density=new Array(_);for(var w=0,E=y[0];E<y[1]+f/2;w++,E+=f){var C=S(E);g.density[w]={v:C,t:E},d=Math.max(d,C)}}c=Math.max(c,h.length),l=Math.min(l,y[0]),u=Math.max(u,y[1])}var O=k.findExtremes(o,[l,u],{padded:!0});if(i._extremes[o._id]=O,i.width)n[0].t.maxKDE=d;else{var P=r._violinScaleGroupStats,R=i.scalegroup,j=P[R];j?(j.maxKDE=Math.max(j.maxKDE,d),j.maxCount=Math.max(j.maxCount,c)):P[R]={maxKDE:d,maxCount:c}}return n[0].t.labels.kde=M._(t,"kde:"),n}},86403:function(ee,D,e){"use strict";var M=e(37188).setPositionOffset,k=["v","h"];ee.exports=function(a,T){for(var b=a.calcdata,p=T.xaxis,s=T.yaxis,t=0;t<k.length;t++){for(var i=k[t],n="h"===i?s:p,r=[],o=0;o<b.length;o++){var l=b[o],u=l[0].t,d=l[0].trace;!0!==d.visible||"violin"!==d.type||u.empty||d.orientation!==i||d.xaxis!==p._id||d.yaxis!==s._id||r.push(o)}M("violin",a,r,n)}}},15899:function(ee,D,e){"use strict";var M=e(71828),k=e(7901),a=e(36411),T=e(68875);ee.exports=function(b,p,s,t){function i(v,_){return M.coerce(b,p,T,v,_)}function n(v,_){return M.coerce2(b,p,T,v,_)}if(a.handleSampleDefaults(b,p,i,t),!1!==p.visible){i("bandwidth"),i("side"),i("width")||(i("scalegroup",p.name),i("scalemode"));var r,o=i("span");Array.isArray(o)&&(r="manual"),i("spanmode",r);var l=i("line.color",(b.marker||{}).color||s),u=i("line.width"),d=i("fillcolor",k.addOpacity(p.line.color,.5));a.handlePointsDefaults(b,p,i,{prefix:""});var c=n("box.width"),x=n("box.fillcolor",d),g=n("box.line.color",l),h=n("box.line.width",u);i("box.visible",Boolean(c||x||g||h))||(p.box={visible:!1});var m=n("meanline.color",l),y=n("meanline.width",u);i("meanline.visible",Boolean(m||y))||(p.meanline={visible:!1}),i("quartilemethod")}}},60168:function(ee,D,e){"use strict";var M=e(71828),k=function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)};D.makeKDE=function(a,T,b){var p=b.length,s=k,t=a.bandwidth,i=1/(p*t);return function(n){for(var r=0,o=0;o<p;o++)r+=s((n-b[o])/t);return i*r}},D.getPositionOnKdePath=function(a,T,b){var p,s;"h"===T.orientation?(p="y",s="x"):(p="x",s="y");var t=M.findPointOnPath(a.path,b,s,{pathLength:a.pathLength}),i=a.posCenterPx,n=t[p];return[n,"both"===T.side?2*i-n:i]},D.getKdeValue=function(a,T,b){var p=a.pts.map(D.extractVal);return D.makeKDE(a,T,p)(b)/a.posDensityScale},D.extractVal=function(a){return a.v}},57634:function(ee,D,e){"use strict";var M=e(7901),k=e(71828),a=e(89298),T=e(41868),b=e(60168);ee.exports=function(p,s,t,i,n){n||(n={});var r,o,l=n.hoverLayer,u=p.cd,d=u[0].trace,c=d.hoveron,x=-1!==c.indexOf("violins"),g=-1!==c.indexOf("kde"),h=[];if(x||g){var m=T.hoverOnBoxes(p,s,t,i);if(g&&m.length>0){var y,v,_,f,S,w=p.xa,E=p.ya;"h"===d.orientation?(S=s,y="y",_=E,v="x",f=w):(S=t,y="x",_=w,v="y",f=E);var C=u[p.index];if(S>=C.span[0]&&S<=C.span[1]){var O=k.extendFlat({},p),P=f.c2p(S,!0),R=b.getKdeValue(C,d,S),j=b.getPositionOnKdePath(C,d,P),z=_._offset,N=_._length;O[y+"0"]=j[0],O[y+"1"]=j[1],O[v+"0"]=O[v+"1"]=P,O[v+"Label"]=v+": "+a.hoverLabelText(f,S,d[v+"hoverformat"])+", "+u[0].t.labels.kde+" "+R.toFixed(3);for(var Y=0,F=0;F<m.length;F++)if("med"===m[F].attr){Y=F;break}O.spikeDistance=m[Y].spikeDistance;var U=y+"Spike";O[U]=m[Y][U],m[Y].spikeDistance=void 0,m[Y][U]=void 0,O.hovertemplate=!1,h.push(O),(o={})[y+"1"]=k.constrain(z+j[0],z,z+N),o[y+"2"]=k.constrain(z+j[1],z,z+N),o[v+"1"]=o[v+"2"]=f._offset+P}}x&&(h=h.concat(m))}-1!==c.indexOf("points")&&(r=T.hoverOnPoints(p,s,t));var V=l.selectAll(".violinline-"+d.uid).data(o?[0]:[]);return V.enter().append("line").classed("violinline-"+d.uid,!0).attr("stroke-width",1.5),V.exit().remove(),V.attr(o).call(M.stroke,p.color),"closest"===i?r?[r]:h:(r&&h.push(r),h)}},47462:function(ee,D,e){"use strict";ee.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(ee,D,e){"use strict";var M=e(40094),k=e(71828).extendFlat;ee.exports={violinmode:k({},M.boxmode,{}),violingap:k({},M.boxgap,{}),violingroupgap:k({},M.boxgroupgap,{})}},33598:function(ee,D,e){"use strict";var M=e(71828),k=e(9228),a=e(4199);ee.exports=function(T,b,p){a._supply(T,b,p,function(s,t){return M.coerce(T,b,k,s,t)},"violin")}},28443:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(91424),T=e(86047),b=e(34621),p=e(60168);ee.exports=function(s,t,i,n){var r=s._context.staticPlot,o=s._fullLayout,l=t.xaxis,u=t.yaxis;function d(c,x){var g=b(c,{xaxis:l,yaxis:u,trace:x,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(g[0],1)}k.makeTraceGroups(n,i,"trace violins").each(function(c){var x=M.select(this),g=c[0],h=g.t,m=g.trace;if(!0!==m.visible||h.empty)x.remove();else{var y=h.bPos,v=h.bdPos,_=t[h.valLetter+"axis"],f=t[h.posLetter+"axis"],S="both"===m.side,w=S||"positive"===m.side,E=S||"negative"===m.side,C=x.selectAll("path.violin").data(k.identity);C.enter().append("path").style("vector-effect",r?"none":"non-scaling-stroke").attr("class","violin"),C.exit().remove(),C.each(function(F){var U,V,te,$,X,W,J,Q,re=M.select(this),ae=F.density,oe=ae.length,ue=f.c2l(F.pos+y,!0),ve=f.l2p(ue);if(m.width)U=h.maxKDE/v;else{var be=o._violinScaleGroupStats[m.scalegroup];U="count"===m.scalemode?be.maxKDE/v*(be.maxCount/F.pts.length):be.maxKDE/v}if(w){for(J=new Array(oe),X=0;X<oe;X++)(Q=J[X]={})[h.posLetter]=ue+ae[X].v/U,Q[h.valLetter]=_.c2l(ae[X].t,!0);V=d(J,m)}if(E){for(J=new Array(oe),W=0,X=oe-1;W<oe;W++,X--)(Q=J[W]={})[h.posLetter]=ue-ae[X].v/U,Q[h.valLetter]=_.c2l(ae[X].t,!0);te=d(J,m)}if(S)$=V+"L"+te.substr(1)+"Z";else{var de=[ve,_.c2p(ae[0].t)],pe=[ve,_.c2p(ae[oe-1].t)];"h"===m.orientation&&(de.reverse(),pe.reverse()),$=w?"M"+de+"L"+V.substr(1)+"L"+pe:"M"+pe+"L"+te.substr(1)+"L"+de}re.attr("d",$),F.posCenterPx=ve,F.posDensityScale=U*v,F.path=re.node(),F.pathLength=F.path.getTotalLength()/(S?2:1)});var O,P,R,j=m.box,z=j.width,N=(j.line||{}).width;S?(O=v*z,P=0):w?(O=[0,v*z/2],P=N*{x:1,y:-1}[h.posLetter]):(O=[v*z/2,0],P=N*{x:-1,y:1}[h.posLetter]),T.plotBoxAndWhiskers(x,{pos:f,val:_},m,{bPos:y,bdPos:O,bPosPxOffset:P}),T.plotBoxMean(x,{pos:f,val:_},m,{bPos:y,bdPos:O,bPosPxOffset:P}),!m.box.visible&&m.meanline.visible&&(R=k.identity);var Y=x.selectAll("path.meanline").data(R||[]);Y.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",r?"none":"non-scaling-stroke"),Y.exit().remove(),Y.each(function(F){var U=_.c2p(F.mean,!0),V=p.getPositionOnKdePath(F,m,U);M.select(this).attr("d","h"===m.orientation?"M"+U+","+V[0]+"V"+V[1]:"M"+V[0]+","+U+"H"+V[1])}),T.plotPoints(x,{x:l,y:u},m,h)}})}},31847:function(ee,D,e){"use strict";var M=e(39898),k=e(7901),a=e(16296).stylePoints;ee.exports=function(T){var b=M.select(T).selectAll("g.trace.violins");b.style("opacity",function(p){return p[0].trace.opacity}),b.each(function(p){var s=p[0].trace,t=M.select(this),i=s.box||{},n=i.line||{},r=s.meanline||{},o=r.width;t.selectAll("path.violin").style("stroke-width",s.line.width+"px").call(k.stroke,s.line.color).call(k.fill,s.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(k.stroke,n.color).call(k.fill,i.fillcolor);var l={"stroke-width":o+"px","stroke-dasharray":2*o+"px,"+o+"px"};t.selectAll("path.mean").style(l).call(k.stroke,r.color),t.selectAll("path.meanline").style(l).call(k.stroke,r.color),a(t,s,T)})}},16336:function(ee,D,e){"use strict";var M=e(50693),k=e(16249),a=e(54532),T=e(9012),b=e(1426).extendFlat,p=e(30962).overrideAll,s=ee.exports=p(b({x:k.x,y:k.y,z:k.z,value:k.value,isomin:k.isomin,isomax:k.isomax,surface:k.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:k.slices,caps:k.caps,text:k.text,hovertext:k.hovertext,xhoverformat:k.xhoverformat,yhoverformat:k.yhoverformat,zhoverformat:k.zhoverformat,valuehoverformat:k.valuehoverformat,hovertemplate:k.hovertemplate},M("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:k.colorbar,opacity:k.opacity,opacityscale:a.opacityscale,lightposition:k.lightposition,lighting:k.lighting,flatshading:k.flatshading,contour:k.contour,hoverinfo:b({},T.hoverinfo),showlegend:b({},T.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},64809:function(ee,D,e){"use strict";var M=e(9330).gl_mesh3d,k=e(81697).parseColorScale,a=e(71828).isArrayOrTypedArray,T=e(78614),b=e(21081).extractOpts,p=e(90060),s=e(22674).findNearestOnAxis,t=e(22674).generateIsoMeshes;function i(r,o,l){this.scene=r,this.uid=l,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var n=i.prototype;n.handlePick=function(r){if(r.object===this.mesh){var o=r.data.index,l=this.data._meshX[o],u=this.data._meshY[o],d=this.data._meshZ[o],c=this.data._Ys.length,x=this.data._Zs.length,g=s(l,this.data._Xs).id,h=s(u,this.data._Ys).id,m=s(d,this.data._Zs).id,y=r.index=m+x*h+x*c*g;r.traceCoordinate=[this.data._meshX[y],this.data._meshY[y],this.data._meshZ[y],this.data._value[y]];var v=this.data.hovertext||this.data.text;return a(v)&&void 0!==v[y]?r.textLabel=v[y]:v&&(r.textLabel=v),!0}},n.update=function(r){var o=this.scene,l=o.fullSceneLayout;function u(x,g,h,m){return g.map(function(y){return x.d2l(y,0,m)*h})}this.data=t(r);var d={positions:p(u(l.xaxis,r._meshX,o.dataScale[0],r.xcalendar),u(l.yaxis,r._meshY,o.dataScale[1],r.ycalendar),u(l.zaxis,r._meshZ,o.dataScale[2],r.zcalendar)),cells:p(r._meshI,r._meshJ,r._meshK),lightPosition:[r.lightposition.x,r.lightposition.y,r.lightposition.z],ambient:r.lighting.ambient,diffuse:r.lighting.diffuse,specular:r.lighting.specular,roughness:r.lighting.roughness,fresnel:r.lighting.fresnel,vertexNormalsEpsilon:r.lighting.vertexnormalsepsilon,faceNormalsEpsilon:r.lighting.facenormalsepsilon,opacity:r.opacity,opacityscale:r.opacityscale,contourEnable:r.contour.show,contourColor:T(r.contour.color).slice(0,3),contourWidth:r.contour.width,useFacetNormals:r.flatshading},c=b(r);d.vertexIntensity=r._meshIntensity,d.vertexIntensityBounds=[c.min,c.max],d.colormap=k(r),this.mesh.update(d)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ee.exports=function(r,o){var l=r.glplot.gl,u=M({gl:l}),d=new i(r,u,o.uid);return u._trace=d,d.update(o),r.glplot.add(u),d}},47651:function(ee,D,e){"use strict";var M=e(71828),k=e(16336),a=e(82738).supplyIsoDefaults,T=e(91831).opacityscaleDefaults;ee.exports=function(b,p,s,t){function i(n,r){return M.coerce(b,p,k,n,r)}a(b,p,s,t,i),T(b,p,t,i)}},17659:function(ee,D,e){"use strict";ee.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(ee,D,e){"use strict";var M=e(1486),k=e(82196).line,a=e(9012),T=e(12663).axisHoverFormat,b=e(5386).fF,p=e(5386).si,s=e(48334),t=e(1426).extendFlat,i=e(7901);function n(r){return{marker:{color:t({},M.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},M.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},M.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}ee.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),hovertext:M.hovertext,hovertemplate:b({},{keys:s.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:p({editType:"plot"},{keys:s.eventDataKeys.concat(["label"])}),text:M.text,textposition:M.textposition,insidetextanchor:M.insidetextanchor,textangle:M.textangle,textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:M.outsidetextfont,constraintext:M.constraintext,cliponaxis:M.cliponaxis,orientation:M.orientation,offset:M.offset,width:M.width,increasing:n(),decreasing:n(),totals:n(),connector:{line:{color:t({},k.color,{dflt:i.defaultLine}),width:t({},k.width,{editType:"plot"}),dash:k.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup}},52752:function(ee,D,e){"use strict";var M=e(89298),k=e(42973),a=e(71828).mergeArray,T=e(66279),b=e(50606).BADNUM;function p(t){return"a"===t||"absolute"===t}function s(t){return"t"===t||"total"===t}ee.exports=function(t,i){var n,r,o,l,u,d,c=M.getFromId(t,i.xaxis||"x"),x=M.getFromId(t,i.yaxis||"y");"h"===i.orientation?(n=c.makeCalcdata(i,"x"),o=x.makeCalcdata(i,"y"),l=k(i,x,"y",o),u=!!i.yperiodalignment,d="y"):(n=x.makeCalcdata(i,"y"),o=c.makeCalcdata(i,"x"),l=k(i,c,"x",o),u=!!i.xperiodalignment,d="x"),r=l.vals;for(var g,h=Math.min(r.length,n.length),m=new Array(h),y=0,v=!1,_=0;_<h;_++){var f=n[_]||0,S=!1;(n[_]!==b||s(i.measure[_])||p(i.measure[_]))&&_+1<h&&(n[_+1]!==b||s(i.measure[_+1])||p(i.measure[_+1]))&&(S=!0);var w=m[_]={i:_,p:r[_],s:f,rawS:f,cNext:S};p(i.measure[_])?(y=w.s,w.isSum=!0,w.dir="totals",w.s=y):s(i.measure[_])?(w.isSum=!0,w.dir="totals",w.s=y):(w.isSum=!1,w.dir=w.rawS<0?"decreasing":"increasing",g=w.s,w.s=y+g,y+=g),"totals"===w.dir&&(v=!0),u&&(m[_].orig_p=o[_],m[_][d+"End"]=l.ends[_],m[_][d+"Start"]=l.starts[_]),i.ids&&(w.id=String(i.ids[_])),w.v=(i.base||0)+y}return m.length&&(m[0].hasTotals=v),a(i.text,m,"tx"),a(i.hovertext,m,"htx"),T(m,i),m}},48334:function(ee){"use strict";ee.exports={eventDataKeys:["initial","delta","final"]}},70766:function(ee,D,e){"use strict";var M=e(11661).setGroupPositions;ee.exports=function(k,a){var T,b,p=k._fullLayout,s=k._fullData,t=k.calcdata,i=a.xaxis,n=a.yaxis,r=[],o=[],l=[];for(b=0;b<s.length;b++){var u=s[b];!0===u.visible&&u.xaxis===i._id&&u.yaxis===n._id&&"waterfall"===u.type&&(T=t[b],"h"===u.orientation?l.push(T):o.push(T),r.push(T))}var d={mode:p.waterfallmode,norm:p.waterfallnorm,gap:p.waterfallgap,groupgap:p.waterfallgroupgap};for(M(k,i,n,o,d),M(k,n,i,l,d),b=0;b<r.length;b++){T=r[b];for(var c=0;c<T.length;c++){var x=T[c];!1===x.isSum&&(x.s0+=0===c?0:T[c-1].s),c+1<T.length&&(T[c].nextP0=T[c+1].p0,T[c].nextS0=T[c+1].s0)}}}},83266:function(ee,D,e){"use strict";var M=e(71828),k=e(26125),a=e(90769).handleText,T=e(67513),b=e(73927),p=e(43037),s=e(7901),t=e(22372),i=t.INCREASING.COLOR,n=t.DECREASING.COLOR;function r(o,l,u){o(l+".marker.color",u),o(l+".marker.line.color",s.defaultLine),o(l+".marker.line.width")}ee.exports={supplyDefaults:function(o,l,u,d){function c(g,h){return M.coerce(o,l,p,g,h)}if(T(o,l,d,c)){b(o,l,d,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",l.x&&!l.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var x=c("textposition");a(o,l,d,c,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==l.textposition&&(c("texttemplate"),l.texttemplate||c("textinfo")),r(c,"increasing",i),r(c,"decreasing",n),r(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash")))}else l.visible=!1},crossTraceDefaults:function(o,l){var u,d;function c(g){return M.coerce(d._input,d,p,g)}if("group"===l.waterfallmode)for(var x=0;x<o.length;x++)u=(d=o[x])._input,k(u,d,l,c)}}},58593:function(ee){"use strict";ee.exports=function(D,e){return D.x="xVal"in e?e.xVal:e.x,D.y="yVal"in e?e.yVal:e.y,"initial"in e&&(D.initial=e.initial),"delta"in e&&(D.delta=e.delta),"final"in e&&(D.final=e.final),e.xa&&(D.xaxis=e.xa),e.ya&&(D.yaxis=e.ya),D}},61326:function(ee,D,e){"use strict";var M=e(89298).hoverLabelText,k=e(7901).opacity,a=e(95423).hoverOnBars,T=e(22372),b=T.INCREASING.SYMBOL,p=T.DECREASING.SYMBOL;ee.exports=function(s,t,i,n,r){var O,P,R,j,o=a(s,t,i,n,r);if(o){var l=o.cd,u=l[0].trace,d="h"===u.orientation,c=d?"x":"y",x=d?s.xa:s.ya,g=l[o.index],h=g.isSum?g.b+g.s:g.rawS;o.initial=g.b+g.s-h,o.delta=h,o.final=o.initial+o.delta;var m=w(Math.abs(o.delta));o.deltaLabel=h<0?"("+m+")":m,o.finalLabel=w(o.final),o.initialLabel=w(o.initial);var y=g.hi||u.hoverinfo,v=[];if(y&&"none"!==y&&"skip"!==y){var _="all"===y,f=y.split("+"),S=function(E){return _||-1!==f.indexOf(E)};g.isSum||(!S("final")||S(d?"x":"y")||v.push(o.finalLabel),S("delta")&&(h<0?v.push(o.deltaLabel+" "+p):v.push(o.deltaLabel+" "+b)),S("initial")&&v.push("Initial: "+o.initialLabel))}return v.length&&(o.extraText=v.join("<br>")),o.color=(O=u[g.dir].marker,P=O.color,R=O.line.color,j=O.line.width,k(P)?P:k(R)&&j?R:void 0),[o]}function w(E){return M(x,E,u[c+"hoverformat"])}}},19990:function(ee,D,e){"use strict";ee.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(ee){"use strict";ee.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(ee,D,e){"use strict";var M=e(71828),k=e(13494);ee.exports=function(a,T,b){var p=!1;function s(n,r){return M.coerce(a,T,k,n,r)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&"waterfall"===i.type){p=!0;break}}p&&(s("waterfallmode"),s("waterfallgap",.2),s("waterfallgroupgap"))}},30436:function(ee,D,e){"use strict";var M=e(39898),k=e(71828),a=e(91424),T=e(50606).BADNUM,b=e(17295),p=e(72597).clearMinTextSize;ee.exports=function(s,t,i,n){var o,l,u,d,c,x,r=s._fullLayout;p("waterfall",r),b.plot(s,t,i,n,{mode:r.waterfallmode,norm:r.waterfallmode,gap:r.waterfallgap,groupgap:r.waterfallgroupgap}),o=s,u=i,d=n,c=(l=t).xaxis,x=l.yaxis,k.makeTraceGroups(d,u,"trace bars").each(function(g){var h=M.select(this),m=g[0].trace,y=k.ensureSingle(h,"g","lines");if(m.connector&&m.connector.visible){var v="h"===m.orientation,_=m.connector.mode,f=y.selectAll("g.line").data(k.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var S=f.size();f.each(function(w,E){if(E===S-1||w.cNext){var C=(j=w,z=c,N=x,U=[],V=(Y=v)?z:N,te=Y?N:z,(F=[])[0]=V.c2p(j.s0,!0),U[0]=te.c2p(j.p0,!0),F[1]=V.c2p(j.s1,!0),U[1]=te.c2p(j.p1,!0),F[2]=V.c2p(j.nextS0,!0),U[2]=te.c2p(j.nextP0,!0),Y?[F,U]:[U,F]),O=C[0],P=C[1],R="";O[0]!==T&&P[0]!==T&&O[1]!==T&&P[1]!==T&&("spanning"===_&&!w.isSum&&E>0&&(R+=v?"M"+O[0]+","+P[1]+"V"+P[0]:"M"+O[1]+","+P[0]+"H"+O[0]),"between"!==_&&(w.isSum||E<S-1)&&(R+=v?"M"+O[1]+","+P[0]+"V"+P[1]:"M"+O[0]+","+P[1]+"H"+O[1]),O[2]!==T&&P[2]!==T&&(R+=v?"M"+O[1]+","+P[1]+"V"+P[2]:"M"+O[1]+","+P[1]+"H"+O[2])),""===R&&(R="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",R).call(a.setClipUrl,l.layerClipId,o)}var j,z,N,Y,F,U,V,te})}else y.remove()})}},55750:function(ee,D,e){"use strict";var M=e(39898),k=e(91424),a=e(7901),T=e(37822).DESELECTDIM,b=e(16688),p=e(72597).resizeText,s=b.styleTextPoints;ee.exports={style:function(t,i,n){var r=n||M.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");p(t,r,"waterfall"),r.style("opacity",function(o){return o[0].trace.opacity}),r.each(function(o){var l=M.select(this),u=o[0].trace;l.selectAll(".point > path").each(function(d){if(!d.isBlank){var c=u[d.dir].marker;M.select(this).call(a.fill,c.color).call(a.stroke,c.line.color).call(k.dashLine,c.line.dash,c.line.width).style("opacity",u.selectedpoints&&!d.selected?T:1)}}),s(l,u,t),l.selectAll(".lines").each(function(){var d=u.connector.line;k.lineGroupStyle(M.select(this).selectAll("path"),d.width,d.color,d.dash)})})}}},82887:function(ee,D,e){"use strict";var M=e(89298),k=e(71828),a=e(86281),T=e(79344).p,b=e(50606).BADNUM;D.moduleType="transform",D.name="aggregate";var p=D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},s=p.aggregations;function t(o,l,u,d){if(d.enabled){for(var c=d.target,x=k.nestedProperty(l,c),g=x.get(),h=function(v,_){var f=v.func,S=_.d2c,w=_.c2d;switch(f){case"count":return i;case"first":return n;case"last":return r;case"sum":return function(E,C){for(var O=0,P=0;P<C.length;P++){var R=S(E[C[P]]);R!==b&&(O+=R)}return w(O)};case"avg":return function(E,C){for(var O=0,P=0,R=0;R<C.length;R++){var j=S(E[C[R]]);j!==b&&(O+=j,P++)}return P?w(O/P):b};case"min":return function(E,C){for(var O=1/0,P=0;P<C.length;P++){var R=S(E[C[P]]);R!==b&&(O=Math.min(O,R))}return O===1/0?b:w(O)};case"max":return function(E,C){for(var O=-1/0,P=0;P<C.length;P++){var R=S(E[C[P]]);R!==b&&(O=Math.max(O,R))}return O===-1/0?b:w(O)};case"range":return function(E,C){for(var O=1/0,P=-1/0,R=0;R<C.length;R++){var j=S(E[C[R]]);j!==b&&(O=Math.min(O,j),P=Math.max(P,j))}return P===-1/0||O===1/0?b:w(P-O)};case"change":return function(E,C){var O=S(E[C[0]]),P=S(E[C[C.length-1]]);return O===b||P===b?b:w(P-O)};case"median":return function(E,C){for(var O=[],P=0;P<C.length;P++){var R=S(E[C[P]]);R!==b&&O.push(R)}if(!O.length)return b;O.sort(k.sorterAsc);var j=(O.length-1)/2;return w((O[Math.floor(j)]+O[Math.ceil(j)])/2)};case"mode":return function(E,C){for(var O={},P=0,R=b,j=0;j<C.length;j++){var z=S(E[C[j]]);if(z!==b){var N=O[z]=(O[z]||0)+1;N>P&&(P=N,R=z)}}return P?w(R):b};case"rms":return function(E,C){for(var O=0,P=0,R=0;R<C.length;R++){var j=S(E[C[R]]);j!==b&&(O+=j*j,P++)}return P?w(Math.sqrt(O/P)):b};case"stddev":return function(E,C){var O,P=0,R=0,j=1,z=b;for(O=0;O<C.length&&z===b;O++)z=S(E[C[O]]);if(z===b)return b;for(;O<C.length;O++){var N=S(E[C[O]]);if(N!==b){var Y=N-z;P+=Y,R+=Y*Y,j++}}var F="sample"===v.funcmode?j-1:j;return F?Math.sqrt((R-P*P/j)/F):0}}}(d,M.getDataConversions(o,l,c,g)),m=new Array(u.length),y=0;y<u.length;y++)m[y]=h(g,u[y]);x.set(m),"count"===d.func&&k.pushUnique(l._arrayAttrs,c)}}function i(o,l){return l.length}function n(o,l){return o[l[0]]}function r(o,l){return o[l[l.length-1]]}D.supplyDefaults=function(o,l){var u,d={};function c(w,E){return k.coerce(o,d,p,w,E)}if(!c("enabled"))return d;var x=a.findArrayAttributes(l),g={};for(u=0;u<x.length;u++)g[x[u]]=1;var h=c("groups");if(!Array.isArray(h)){if(!g[h])return d.enabled=!1,d;g[h]=0}var m,y=o.aggregations||[],v=d.aggregations=new Array(y.length);function _(w,E){return k.coerce(y[u],m,s,w,E)}for(u=0;u<y.length;u++){m={_index:u};var f=_("target"),S=_("func");_("enabled")&&f&&(g[f]||"count"===S&&void 0===g[f])?("stddev"===S&&_("funcmode"),g[f]=0,v[u]=m):v[u]={enabled:!1,_index:u}}for(u=0;u<x.length;u++)g[x[u]]&&v.push({target:x[u],func:s.func.dflt,enabled:!0,_index:-1});return d},D.calcTransform=function(o,l,u){if(u.enabled){var d=u.groups,c=k.getTargetArray(l,{target:d});if(c){var x,g,h,m,y={},v={},_=[],f=T(l.transforms,u),S=c.length;for(l._length&&(S=Math.min(S,l._length)),x=0;x<S;x++)void 0===(h=y[g=c[x]])?(y[g]=_.length,m=[x],_.push(m),v[y[g]]=f(x)):(_[h].push(x),v[y[g]]=(v[y[g]]||[]).concat(f(x)));u._indexToPoints=v;var w=u.aggregations;for(x=0;x<w.length;x++)t(o,l,_,w[x]);"string"==typeof d&&t(o,l,_,{target:d,func:"first",enabled:!0}),l._length=_.length}}}},14382:function(ee,D,e){"use strict";var M=e(71828),k=e(73972),a=e(89298),T=e(79344).p,b=e(74808),p=b.COMPARISON_OPS,s=b.INTERVAL_OPS,t=b.SET_OPS;D.moduleType="transform",D.name="filter",D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(p).concat(s).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},D.supplyDefaults=function(i){var n={};function r(u,d){return M.coerce(i,n,D.attributes,u,d)}if(r("enabled")){var o=r("target");if(M.isArrayOrTypedArray(o)&&0===o.length)return n.enabled=!1,n;r("preservegaps"),r("operation"),r("value");var l=k.getComponentMethod("calendars","handleDefaults");l(i,n,"valuecalendar",null),l(i,n,"targetcalendar",null)}return n},D.calcTransform=function(i,n,r){if(r.enabled){var o=M.getTargetArray(n,r);if(o){var l=r.target,u=o.length;n._length&&(u=Math.min(u,n._length));var d=r.targetcalendar,c=n._arrayAttrs,x=r.preservegaps;if("string"==typeof l){var g=M.nestedProperty(n,l+"calendar").get();g&&(d=g)}var h,m,y=function(C,O,P){var R=C.operation,j=C.value,z=M.isArrayOrTypedArray(j);function N(V){return-1!==V.indexOf(R)}var Y,F=function(V){return O(V,0,C.valuecalendar)},U=function(V){return O(V,0,P)};switch(N(p)?Y=F(z?j[0]:j):N(s)?Y=z?[F(j[0]),F(j[1])]:[F(j),F(j)]:N(t)&&(Y=z?j.map(F):[F(j)]),R){case"=":return function(V){return U(V)===Y};case"!=":return function(V){return U(V)!==Y};case"<":return function(V){return U(V)<Y};case"<=":return function(V){return U(V)<=Y};case">":return function(V){return U(V)>Y};case">=":return function(V){return U(V)>=Y};case"[]":return function(V){var te=U(V);return te>=Y[0]&&te<=Y[1]};case"()":return function(V){var te=U(V);return te>Y[0]&&te<Y[1]};case"[)":return function(V){var te=U(V);return te>=Y[0]&&te<Y[1]};case"(]":return function(V){var te=U(V);return te>Y[0]&&te<=Y[1]};case"][":return function(V){var te=U(V);return te<=Y[0]||te>=Y[1]};case")(":return function(V){var te=U(V);return te<Y[0]||te>Y[1]};case"](":return function(V){var te=U(V);return te<=Y[0]||te>Y[1]};case")[":return function(V){var te=U(V);return te<Y[0]||te>=Y[1]};case"{}":return function(V){return-1!==Y.indexOf(U(V))};case"}{":return function(V){return-1===Y.indexOf(U(V))}}}(r,a.getDataToCoordFunc(i,n,l,o),d),v={},_={},f=0;x?(h=function(C){v[C.astr]=M.extendDeep([],C.get()),C.set(new Array(u))},m=function(C,O){var P=v[C.astr][O];C.get()[O]=P}):(h=function(C){v[C.astr]=M.extendDeep([],C.get()),C.set([])},m=function(C,O){var P=v[C.astr][O];C.get().push(P)}),E(h);for(var S=T(n.transforms,r),w=0;w<u;w++)y(o[w])?(E(m,w),_[f++]=S(w)):x&&f++;r._indexToPoints=_,n._length=f}}function E(C,O){for(var P=0;P<c.length;P++)C(M.nestedProperty(n,c[P]),O)}}},43102:function(ee,D,e){"use strict";var M=e(71828),k=e(86281),a=e(74875),T=e(79344).p;function b(p,s){var t,i,n,r,o,l,u,d,c,x,g=s.transform,h=s.transformIndex,m=p.transforms[h].groups,y=T(p.transforms,g);if(!M.isArrayOrTypedArray(m)||0===m.length)return[p];var v=M.filterUnique(m),_=new Array(v.length),f=m.length,S=k.findArrayAttributes(p),w=g.styles||[],E={};for(t=0;t<w.length;t++)E[w[t].target]=w[t].value;g.styles&&(x=M.keyedContainer(g,"styles","target","value.name"));var C={},O={};for(t=0;t<v.length;t++){C[l=v[t]]=t,O[l]=0,(u=_[t]=M.extendDeepNoArrays({},p))._group=l,u.transforms[h]._indexToPoints={};var P=null;for(x&&(P=x.get(l)),u.name=P||""===P?P:M.templateString(g.nameformat,{trace:p.name,group:l}),d=u.transforms,u.transforms=[],i=0;i<d.length;i++)u.transforms[i]=M.extendDeepNoArrays({},d[i]);for(i=0;i<S.length;i++)M.nestedProperty(u,S[i]).set([])}for(n=0;n<S.length;n++){for(r=S[n],i=0,c=[];i<v.length;i++)c[i]=M.nestedProperty(_[i],r).get();for(o=M.nestedProperty(p,r).get(),i=0;i<f;i++)c[C[m[i]]].push(o[i])}for(i=0;i<f;i++)(u=_[C[m[i]]]).transforms[h]._indexToPoints[O[m[i]]]=y(i),O[m[i]]++;for(t=0;t<v.length;t++)l=v[t],u=_[t],a.clearExpandedTraceDefaultColors(u),u=M.extendDeepNoArrays(u,E[l]||{});return _}D.moduleType="transform",D.name="groupby",D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},D.supplyDefaults=function(p,s,t){var i,n={};function r(c,x){return M.coerce(p,n,D.attributes,c,x)}if(!r("enabled"))return n;r("groups"),r("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var o=p.styles,l=n.styles=[];if(o)for(i=0;i<o.length;i++){var u=l[i]={};M.coerce(o[i],l[i],D.attributes.styles,"target");var d=M.coerce(o[i],l[i],D.attributes.styles,"value");M.isPlainObject(d)?u.value=M.extendDeep({},d):d&&delete u.value}return n},D.transform=function(p,s){var t,i,n,r=[];for(i=0;i<p.length;i++)for(t=b(p[i],s),n=0;n<t.length;n++)r.push(t[n]);return r}},79344:function(ee,D){"use strict";D.p=function(e,M){for(var k,a,T=0;T<e.length&&(k=e[T])!==M;T++)k._indexToPoints&&!1!==k.enabled&&(a=k._indexToPoints);return a?function(p){return a[p]}:function(p){return[p]}}},32275:function(ee,D,e){"use strict";var M=e(71828),k=e(89298),a=e(79344).p,T=e(50606).BADNUM;D.moduleType="transform",D.name="sort",D.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},D.supplyDefaults=function(b){var p={};function s(t,i){return M.coerce(b,p,D.attributes,t,i)}return s("enabled")&&(s("target"),s("order")),p},D.calcTransform=function(b,p,s){if(s.enabled){var t=M.getTargetArray(p,s);if(t){var i=s.target,n=t.length;p._length&&(n=Math.min(n,p._length));var r,o,l=p._arrayAttrs,u=function(m,y,v,_){var f,S=new Array(_),w=new Array(_);for(f=0;f<_;f++)S[f]={v:y[f],i:f};for(S.sort(function(E,C){switch(E.order){case"ascending":return function(O,P){var R=C(O.v),j=C(P.v);return R===T?1:j===T?-1:R-j};case"descending":return function(O,P){var R=C(O.v),j=C(P.v);return R===T?1:j===T?-1:j-R}}}(m,v)),f=0;f<_;f++)w[f]=S[f].i;return w}(s,t,k.getDataToCoordFunc(b,p,i,t),n),d=a(p.transforms,s),c={};for(r=0;r<l.length;r++){var x=M.nestedProperty(p,l[r]),g=x.get(),h=new Array(n);for(o=0;o<n;o++)h[o]=g[u[o]];x.set(h)}for(o=0;o<n;o++)c[o]=d(u[o]);s._indexToPoints=c,p._length=n}}}},11506:function(ee,D){"use strict";D.version="2.28.0"},9330:function(ee,D,e){var M,k=e(90386);M=function(){return function(){var a={7386:function(p,s,t){p.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(p,s,t){"use strict";function i(fe,xe){for(var Te=0;Te<xe.length;Te++){var Ce=xe[Te];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(fe,Ce.key,Ce)}}function n(fe,xe){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Te,Ce){return Te.__proto__=Ce,Te})(fe,xe)}function r(fe){if(void 0===fe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}function o(fe){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)})(fe)}function l(fe){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(xe){return typeof xe}:function(xe){return xe&&"function"==typeof Symbol&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe})(fe)}var u=t(3910),d=t(3187),c="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;s.lW=h,s.h2=50;var x=2147483647;function g(fe){if(fe>x)throw new RangeError('The value "'+fe+'" is invalid for option "size"');var xe=new Uint8Array(fe);return Object.setPrototypeOf(xe,h.prototype),xe}function h(fe,xe,Te){if("number"==typeof fe){if("string"==typeof xe)throw new TypeError('The "string" argument must be of type string. Received type number');return v(fe)}return m(fe,xe,Te)}function m(fe,xe,Te){if("string"==typeof fe)return function(ze,Ue){if("string"==typeof Ue&&""!==Ue||(Ue="utf8"),!h.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);var Ve=0|w(ze,Ue),Xe=g(Ve),at=Xe.write(ze,Ue);return at!==Ve&&(Xe=Xe.slice(0,at)),Xe}(fe,xe);if(ArrayBuffer.isView(fe))return function(ze){if(Se(ze,Uint8Array)){var Ue=new Uint8Array(ze);return f(Ue.buffer,Ue.byteOffset,Ue.byteLength)}return _(ze)}(fe);if(null==fe)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(fe));if(Se(fe,ArrayBuffer)||fe&&Se(fe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Se(fe,SharedArrayBuffer)||fe&&Se(fe.buffer,SharedArrayBuffer)))return f(fe,xe,Te);if("number"==typeof fe)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ce=fe.valueOf&&fe.valueOf();if(null!=Ce&&Ce!==fe)return h.from(Ce,xe,Te);var De=function(ze){if(h.isBuffer(ze)){var Ue=0|S(ze.length),Ve=g(Ue);return 0===Ve.length||ze.copy(Ve,0,0,Ue),Ve}return void 0!==ze.length?"number"!=typeof ze.length||_e(ze.length)?g(0):_(ze):"Buffer"===ze.type&&Array.isArray(ze.data)?_(ze.data):void 0}(fe);if(De)return De;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof fe[Symbol.toPrimitive])return h.from(fe[Symbol.toPrimitive]("string"),xe,Te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(fe))}function y(fe){if("number"!=typeof fe)throw new TypeError('"size" argument must be of type number');if(fe<0)throw new RangeError('The value "'+fe+'" is invalid for option "size"')}function v(fe){return y(fe),g(fe<0?0:0|S(fe))}function _(fe){for(var xe=fe.length<0?0:0|S(fe.length),Te=g(xe),Ce=0;Ce<xe;Ce+=1)Te[Ce]=255&fe[Ce];return Te}function f(fe,xe,Te){if(xe<0||fe.byteLength<xe)throw new RangeError('"offset" is outside of buffer bounds');if(fe.byteLength<xe+(Te||0))throw new RangeError('"length" is outside of buffer bounds');var Ce;return Ce=void 0===xe&&void 0===Te?new Uint8Array(fe):void 0===Te?new Uint8Array(fe,xe):new Uint8Array(fe,xe,Te),Object.setPrototypeOf(Ce,h.prototype),Ce}function S(fe){if(fe>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|fe}function w(fe,xe){if(h.isBuffer(fe))return fe.length;if(ArrayBuffer.isView(fe)||Se(fe,ArrayBuffer))return fe.byteLength;if("string"!=typeof fe)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(fe));var Te=fe.length,Ce=arguments.length>2&&!0===arguments[2];if(!Ce&&0===Te)return 0;for(var De=!1;;)switch(xe){case"ascii":case"latin1":case"binary":return Te;case"utf8":case"utf-8":return se(fe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Te;case"hex":return Te>>>1;case"base64":return ie(fe).length;default:if(De)return Ce?-1:se(fe).length;xe=(""+xe).toLowerCase(),De=!0}}function E(fe,xe,Te){var Ce=!1;if((void 0===xe||xe<0)&&(xe=0),xe>this.length||((void 0===Te||Te>this.length)&&(Te=this.length),Te<=0)||(Te>>>=0)<=(xe>>>=0))return"";for(fe||(fe="utf8");;)switch(fe){case"hex":return X(this,xe,Te);case"utf8":case"utf-8":return U(this,xe,Te);case"ascii":return te(this,xe,Te);case"latin1":case"binary":return $(this,xe,Te);case"base64":return F(this,xe,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,xe,Te);default:if(Ce)throw new TypeError("Unknown encoding: "+fe);fe=(fe+"").toLowerCase(),Ce=!0}}function C(fe,xe,Te){var Ce=fe[xe];fe[xe]=fe[Te],fe[Te]=Ce}function O(fe,xe,Te,Ce,De){if(0===fe.length)return-1;if("string"==typeof Te?(Ce=Te,Te=0):Te>2147483647?Te=2147483647:Te<-2147483648&&(Te=-2147483648),_e(Te=+Te)&&(Te=De?0:fe.length-1),Te<0&&(Te=fe.length+Te),Te>=fe.length){if(De)return-1;Te=fe.length-1}else if(Te<0){if(!De)return-1;Te=0}if("string"==typeof xe&&(xe=h.from(xe,Ce)),h.isBuffer(xe))return 0===xe.length?-1:P(fe,xe,Te,Ce,De);if("number"==typeof xe)return xe&=255,"function"==typeof Uint8Array.prototype.indexOf?De?Uint8Array.prototype.indexOf.call(fe,xe,Te):Uint8Array.prototype.lastIndexOf.call(fe,xe,Te):P(fe,[xe],Te,Ce,De);throw new TypeError("val must be string, number or Buffer")}function P(fe,xe,Te,Ce,De){var ze,Ue=1,Ve=fe.length,Xe=xe.length;if(void 0!==Ce&&("ucs2"===(Ce=String(Ce).toLowerCase())||"ucs-2"===Ce||"utf16le"===Ce||"utf-16le"===Ce)){if(fe.length<2||xe.length<2)return-1;Ue=2,Ve/=2,Xe/=2,Te/=2}function at(vt,Qe){return 1===Ue?vt[Qe]:vt.readUInt16BE(Qe*Ue)}if(De){var st=-1;for(ze=Te;ze<Ve;ze++)if(at(fe,ze)===at(xe,-1===st?0:ze-st)){if(-1===st&&(st=ze),ze-st+1===Xe)return st*Ue}else-1!==st&&(ze-=ze-st),st=-1}else for(Te+Xe>Ve&&(Te=Ve-Xe),ze=Te;ze>=0;ze--){for(var ht=!0,bt=0;bt<Xe;bt++)if(at(fe,ze+bt)!==at(xe,bt)){ht=!1;break}if(ht)return ze}return-1}function R(fe,xe,Te,Ce){Te=Number(Te)||0;var De=fe.length-Te;Ce?(Ce=Number(Ce))>De&&(Ce=De):Ce=De;var ze,Ue=xe.length;for(Ce>Ue/2&&(Ce=Ue/2),ze=0;ze<Ce;++ze){var Ve=parseInt(xe.substr(2*ze,2),16);if(_e(Ve))return ze;fe[Te+ze]=Ve}return ze}function j(fe,xe,Te,Ce){return he(se(xe,fe.length-Te),fe,Te,Ce)}function z(fe,xe,Te,Ce){return he(function(De){for(var ze=[],Ue=0;Ue<De.length;++Ue)ze.push(255&De.charCodeAt(Ue));return ze}(xe),fe,Te,Ce)}function N(fe,xe,Te,Ce){return he(ie(xe),fe,Te,Ce)}function Y(fe,xe,Te,Ce){return he(function(De,ze){for(var Ue,Ve,Xe,at=[],st=0;st<De.length&&!((ze-=2)<0);++st)Ve=(Ue=De.charCodeAt(st))>>8,Xe=Ue%256,at.push(Xe),at.push(Ve);return at}(xe,fe.length-Te),fe,Te,Ce)}function F(fe,xe,Te){return 0===xe&&Te===fe.length?u.fromByteArray(fe):u.fromByteArray(fe.slice(xe,Te))}function U(fe,xe,Te){Te=Math.min(fe.length,Te);for(var Ce=[],De=xe;De<Te;){var ze=fe[De],Ue=null,Ve=ze>239?4:ze>223?3:ze>191?2:1;if(De+Ve<=Te){var Xe=void 0,at=void 0,st=void 0,ht=void 0;switch(Ve){case 1:ze<128&&(Ue=ze);break;case 2:128==(192&(Xe=fe[De+1]))&&(ht=(31&ze)<<6|63&Xe)>127&&(Ue=ht);break;case 3:Xe=fe[De+1],at=fe[De+2],128==(192&Xe)&&128==(192&at)&&(ht=(15&ze)<<12|(63&Xe)<<6|63&at)>2047&&(ht<55296||ht>57343)&&(Ue=ht);break;case 4:Xe=fe[De+1],at=fe[De+2],st=fe[De+3],128==(192&Xe)&&128==(192&at)&&128==(192&st)&&(ht=(15&ze)<<18|(63&Xe)<<12|(63&at)<<6|63&st)>65535&&ht<1114112&&(Ue=ht)}}null===Ue?(Ue=65533,Ve=1):Ue>65535&&(Ue-=65536,Ce.push(Ue>>>10&1023|55296),Ue=56320|1023&Ue),Ce.push(Ue),De+=Ve}return function(bt){var vt=bt.length;if(vt<=V)return String.fromCharCode.apply(String,bt);for(var Qe="",nt=0;nt<vt;)Qe+=String.fromCharCode.apply(String,bt.slice(nt,nt+=V));return Qe}(Ce)}h.TYPED_ARRAY_SUPPORT=function(){try{var fe=new Uint8Array(1),xe={foo:function(){return 42}};return Object.setPrototypeOf(xe,Uint8Array.prototype),Object.setPrototypeOf(fe,xe),42===fe.foo()}catch{return!1}}(),h.TYPED_ARRAY_SUPPORT||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(fe,xe,Te){return m(fe,xe,Te)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(fe,xe,Te){return De=xe,ze=Te,y(Ce=fe),Ce<=0?g(Ce):void 0!==De?"string"==typeof ze?g(Ce).fill(De,ze):g(Ce).fill(De):g(Ce);var Ce,De,ze},h.allocUnsafe=function(fe){return v(fe)},h.allocUnsafeSlow=function(fe){return v(fe)},h.isBuffer=function(fe){return null!=fe&&!0===fe._isBuffer&&fe!==h.prototype},h.compare=function(fe,xe){if(Se(fe,Uint8Array)&&(fe=h.from(fe,fe.offset,fe.byteLength)),Se(xe,Uint8Array)&&(xe=h.from(xe,xe.offset,xe.byteLength)),!h.isBuffer(fe)||!h.isBuffer(xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(fe===xe)return 0;for(var Te=fe.length,Ce=xe.length,De=0,ze=Math.min(Te,Ce);De<ze;++De)if(fe[De]!==xe[De]){Te=fe[De],Ce=xe[De];break}return Te<Ce?-1:Ce<Te?1:0},h.isEncoding=function(fe){switch(String(fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(fe,xe){if(!Array.isArray(fe))throw new TypeError('"list" argument must be an Array of Buffers');if(0===fe.length)return h.alloc(0);var Te;if(void 0===xe)for(xe=0,Te=0;Te<fe.length;++Te)xe+=fe[Te].length;var Ce=h.allocUnsafe(xe),De=0;for(Te=0;Te<fe.length;++Te){var ze=fe[Te];if(Se(ze,Uint8Array))De+ze.length>Ce.length?(h.isBuffer(ze)||(ze=h.from(ze)),ze.copy(Ce,De)):Uint8Array.prototype.set.call(Ce,ze,De);else{if(!h.isBuffer(ze))throw new TypeError('"list" argument must be an Array of Buffers');ze.copy(Ce,De)}De+=ze.length}return Ce},h.byteLength=w,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var fe=this.length;if(fe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var xe=0;xe<fe;xe+=2)C(this,xe,xe+1);return this},h.prototype.swap32=function(){var fe=this.length;if(fe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var xe=0;xe<fe;xe+=4)C(this,xe,xe+3),C(this,xe+1,xe+2);return this},h.prototype.swap64=function(){var fe=this.length;if(fe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var xe=0;xe<fe;xe+=8)C(this,xe,xe+7),C(this,xe+1,xe+6),C(this,xe+2,xe+5),C(this,xe+3,xe+4);return this},h.prototype.toString=function(){var fe=this.length;return 0===fe?"":0===arguments.length?U(this,0,fe):E.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(fe){if(!h.isBuffer(fe))throw new TypeError("Argument must be a Buffer");return this===fe||0===h.compare(this,fe)},h.prototype.inspect=function(){var fe="",xe=s.h2;return fe=this.toString("hex",0,xe).replace(/(.{2})/g,"$1 ").trim(),this.length>xe&&(fe+=" ... "),"<Buffer "+fe+">"},c&&(h.prototype[c]=h.prototype.inspect),h.prototype.compare=function(fe,xe,Te,Ce,De){if(Se(fe,Uint8Array)&&(fe=h.from(fe,fe.offset,fe.byteLength)),!h.isBuffer(fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(fe));if(void 0===xe&&(xe=0),void 0===Te&&(Te=fe?fe.length:0),void 0===Ce&&(Ce=0),void 0===De&&(De=this.length),xe<0||Te>fe.length||Ce<0||De>this.length)throw new RangeError("out of range index");if(Ce>=De&&xe>=Te)return 0;if(Ce>=De)return-1;if(xe>=Te)return 1;if(this===fe)return 0;for(var ze=(De>>>=0)-(Ce>>>=0),Ue=(Te>>>=0)-(xe>>>=0),Ve=Math.min(ze,Ue),Xe=this.slice(Ce,De),at=fe.slice(xe,Te),st=0;st<Ve;++st)if(Xe[st]!==at[st]){ze=Xe[st],Ue=at[st];break}return ze<Ue?-1:Ue<ze?1:0},h.prototype.includes=function(fe,xe,Te){return-1!==this.indexOf(fe,xe,Te)},h.prototype.indexOf=function(fe,xe,Te){return O(this,fe,xe,Te,!0)},h.prototype.lastIndexOf=function(fe,xe,Te){return O(this,fe,xe,Te,!1)},h.prototype.write=function(fe,xe,Te,Ce){if(void 0===xe)Ce="utf8",Te=this.length,xe=0;else if(void 0===Te&&"string"==typeof xe)Ce=xe,Te=this.length,xe=0;else{if(!isFinite(xe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");xe>>>=0,isFinite(Te)?(Te>>>=0,void 0===Ce&&(Ce="utf8")):(Ce=Te,Te=void 0)}var De=this.length-xe;if((void 0===Te||Te>De)&&(Te=De),fe.length>0&&(Te<0||xe<0)||xe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");for(var ze=!1;;)switch(Ce){case"hex":return R(this,fe,xe,Te);case"utf8":case"utf-8":return j(this,fe,xe,Te);case"ascii":case"latin1":case"binary":return z(this,fe,xe,Te);case"base64":return N(this,fe,xe,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,fe,xe,Te);default:if(ze)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),ze=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var V=4096;function te(fe,xe,Te){var Ce="";Te=Math.min(fe.length,Te);for(var De=xe;De<Te;++De)Ce+=String.fromCharCode(127&fe[De]);return Ce}function $(fe,xe,Te){var Ce="";Te=Math.min(fe.length,Te);for(var De=xe;De<Te;++De)Ce+=String.fromCharCode(fe[De]);return Ce}function X(fe,xe,Te){var Ce=fe.length;(!xe||xe<0)&&(xe=0),(!Te||Te<0||Te>Ce)&&(Te=Ce);for(var De="",ze=xe;ze<Te;++ze)De+=Me[fe[ze]];return De}function W(fe,xe,Te){for(var Ce=fe.slice(xe,Te),De="",ze=0;ze<Ce.length-1;ze+=2)De+=String.fromCharCode(Ce[ze]+256*Ce[ze+1]);return De}function J(fe,xe,Te){if(fe%1!=0||fe<0)throw new RangeError("offset is not uint");if(fe+xe>Te)throw new RangeError("Trying to access beyond buffer length")}function Q(fe,xe,Te,Ce,De,ze){if(!h.isBuffer(fe))throw new TypeError('"buffer" argument must be a Buffer instance');if(xe>De||xe<ze)throw new RangeError('"value" argument is out of bounds');if(Te+Ce>fe.length)throw new RangeError("Index out of range")}function re(fe,xe,Te,Ce,De){ge(xe,Ce,De,fe,Te,7);var ze=Number(xe&BigInt(4294967295));fe[Te++]=ze,ze>>=8,fe[Te++]=ze,ze>>=8,fe[Te++]=ze,ze>>=8,fe[Te++]=ze;var Ue=Number(xe>>BigInt(32)&BigInt(4294967295));return fe[Te++]=Ue,Ue>>=8,fe[Te++]=Ue,Ue>>=8,fe[Te++]=Ue,Ue>>=8,fe[Te++]=Ue,Te}function ae(fe,xe,Te,Ce,De){ge(xe,Ce,De,fe,Te,7);var ze=Number(xe&BigInt(4294967295));fe[Te+7]=ze,ze>>=8,fe[Te+6]=ze,ze>>=8,fe[Te+5]=ze,ze>>=8,fe[Te+4]=ze;var Ue=Number(xe>>BigInt(32)&BigInt(4294967295));return fe[Te+3]=Ue,Ue>>=8,fe[Te+2]=Ue,Ue>>=8,fe[Te+1]=Ue,Ue>>=8,fe[Te]=Ue,Te+8}function oe(fe,xe,Te,Ce,De,ze){if(Te+Ce>fe.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("Index out of range")}function ue(fe,xe,Te,Ce,De){return xe=+xe,Te>>>=0,De||oe(fe,0,Te,4),d.write(fe,xe,Te,Ce,23,4),Te+4}function ve(fe,xe,Te,Ce,De){return xe=+xe,Te>>>=0,De||oe(fe,0,Te,8),d.write(fe,xe,Te,Ce,52,8),Te+8}h.prototype.slice=function(fe,xe){var Te=this.length;(fe=~~fe)<0?(fe+=Te)<0&&(fe=0):fe>Te&&(fe=Te),(xe=void 0===xe?Te:~~xe)<0?(xe+=Te)<0&&(xe=0):xe>Te&&(xe=Te),xe<fe&&(xe=fe);var Ce=this.subarray(fe,xe);return Object.setPrototypeOf(Ce,h.prototype),Ce},h.prototype.readUintLE=h.prototype.readUIntLE=function(fe,xe,Te){fe>>>=0,xe>>>=0,Te||J(fe,xe,this.length);for(var Ce=this[fe],De=1,ze=0;++ze<xe&&(De*=256);)Ce+=this[fe+ze]*De;return Ce},h.prototype.readUintBE=h.prototype.readUIntBE=function(fe,xe,Te){fe>>>=0,xe>>>=0,Te||J(fe,xe,this.length);for(var Ce=this[fe+--xe],De=1;xe>0&&(De*=256);)Ce+=this[fe+--xe]*De;return Ce},h.prototype.readUint8=h.prototype.readUInt8=function(fe,xe){return fe>>>=0,xe||J(fe,1,this.length),this[fe]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(fe,xe){return fe>>>=0,xe||J(fe,2,this.length),this[fe]|this[fe+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(fe,xe){return fe>>>=0,xe||J(fe,2,this.length),this[fe]<<8|this[fe+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(fe,xe){return fe>>>=0,xe||J(fe,4,this.length),(this[fe]|this[fe+1]<<8|this[fe+2]<<16)+16777216*this[fe+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(fe,xe){return fe>>>=0,xe||J(fe,4,this.length),16777216*this[fe]+(this[fe+1]<<16|this[fe+2]<<8|this[fe+3])},h.prototype.readBigUInt64LE=Ee(function(fe){Ae(fe>>>=0,"offset");var xe=this[fe],Te=this[fe+7];void 0!==xe&&void 0!==Te||ye(fe,this.length-8);var Ce=xe+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24),De=this[++fe]+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+Te*Math.pow(2,24);return BigInt(Ce)+(BigInt(De)<<BigInt(32))}),h.prototype.readBigUInt64BE=Ee(function(fe){Ae(fe>>>=0,"offset");var xe=this[fe],Te=this[fe+7];void 0!==xe&&void 0!==Te||ye(fe,this.length-8);var Ce=xe*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe],De=this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+Te;return(BigInt(Ce)<<BigInt(32))+BigInt(De)}),h.prototype.readIntLE=function(fe,xe,Te){fe>>>=0,xe>>>=0,Te||J(fe,xe,this.length);for(var Ce=this[fe],De=1,ze=0;++ze<xe&&(De*=256);)Ce+=this[fe+ze]*De;return Ce>=(De*=128)&&(Ce-=Math.pow(2,8*xe)),Ce},h.prototype.readIntBE=function(fe,xe,Te){fe>>>=0,xe>>>=0,Te||J(fe,xe,this.length);for(var Ce=xe,De=1,ze=this[fe+--Ce];Ce>0&&(De*=256);)ze+=this[fe+--Ce]*De;return ze>=(De*=128)&&(ze-=Math.pow(2,8*xe)),ze},h.prototype.readInt8=function(fe,xe){return fe>>>=0,xe||J(fe,1,this.length),128&this[fe]?-1*(255-this[fe]+1):this[fe]},h.prototype.readInt16LE=function(fe,xe){fe>>>=0,xe||J(fe,2,this.length);var Te=this[fe]|this[fe+1]<<8;return 32768&Te?4294901760|Te:Te},h.prototype.readInt16BE=function(fe,xe){fe>>>=0,xe||J(fe,2,this.length);var Te=this[fe+1]|this[fe]<<8;return 32768&Te?4294901760|Te:Te},h.prototype.readInt32LE=function(fe,xe){return fe>>>=0,xe||J(fe,4,this.length),this[fe]|this[fe+1]<<8|this[fe+2]<<16|this[fe+3]<<24},h.prototype.readInt32BE=function(fe,xe){return fe>>>=0,xe||J(fe,4,this.length),this[fe]<<24|this[fe+1]<<16|this[fe+2]<<8|this[fe+3]},h.prototype.readBigInt64LE=Ee(function(fe){Ae(fe>>>=0,"offset");var xe=this[fe],Te=this[fe+7];void 0!==xe&&void 0!==Te||ye(fe,this.length-8);var Ce=this[fe+4]+this[fe+5]*Math.pow(2,8)+this[fe+6]*Math.pow(2,16)+(Te<<24);return(BigInt(Ce)<<BigInt(32))+BigInt(xe+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24))}),h.prototype.readBigInt64BE=Ee(function(fe){Ae(fe>>>=0,"offset");var xe=this[fe],Te=this[fe+7];void 0!==xe&&void 0!==Te||ye(fe,this.length-8);var Ce=(xe<<24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe];return(BigInt(Ce)<<BigInt(32))+BigInt(this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+Te)}),h.prototype.readFloatLE=function(fe,xe){return fe>>>=0,xe||J(fe,4,this.length),d.read(this,fe,!0,23,4)},h.prototype.readFloatBE=function(fe,xe){return fe>>>=0,xe||J(fe,4,this.length),d.read(this,fe,!1,23,4)},h.prototype.readDoubleLE=function(fe,xe){return fe>>>=0,xe||J(fe,8,this.length),d.read(this,fe,!0,52,8)},h.prototype.readDoubleBE=function(fe,xe){return fe>>>=0,xe||J(fe,8,this.length),d.read(this,fe,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(fe,xe,Te,Ce){fe=+fe,xe>>>=0,Te>>>=0,Ce||Q(this,fe,xe,Te,Math.pow(2,8*Te)-1,0);var De=1,ze=0;for(this[xe]=255&fe;++ze<Te&&(De*=256);)this[xe+ze]=fe/De&255;return xe+Te},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(fe,xe,Te,Ce){fe=+fe,xe>>>=0,Te>>>=0,Ce||Q(this,fe,xe,Te,Math.pow(2,8*Te)-1,0);var De=Te-1,ze=1;for(this[xe+De]=255&fe;--De>=0&&(ze*=256);)this[xe+De]=fe/ze&255;return xe+Te},h.prototype.writeUint8=h.prototype.writeUInt8=function(fe,xe,Te){return fe=+fe,xe>>>=0,Te||Q(this,fe,xe,1,255,0),this[xe]=255&fe,xe+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(fe,xe,Te){return fe=+fe,xe>>>=0,Te||Q(this,fe,xe,2,65535,0),this[xe]=255&fe,this[xe+1]=fe>>>8,xe+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(fe,xe,Te){return fe=+fe,xe>>>=0,Te||Q(this,fe,xe,2,65535,0),this[xe]=fe>>>8,this[xe+1]=255&fe,xe+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(fe,xe,Te){return fe=+fe,xe>>>=0,Te||Q(this,fe,xe,4,4294967295,0),this[xe+3]=fe>>>24,this[xe+2]=fe>>>16,this[xe+1]=fe>>>8,this[xe]=255&fe,xe+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(fe,xe,Te){return fe=+fe,xe>>>=0,Te||Q(this,fe,xe,4,4294967295,0),this[xe]=fe>>>24,this[xe+1]=fe>>>16,this[xe+2]=fe>>>8,this[xe+3]=255&fe,xe+4},h.prototype.writeBigUInt64LE=Ee(function(fe){return re(this,fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Ee(function(fe){return ae(this,fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(fe,xe,Te,Ce){if(fe=+fe,xe>>>=0,!Ce){var De=Math.pow(2,8*Te-1);Q(this,fe,xe,Te,De-1,-De)}var ze=0,Ue=1,Ve=0;for(this[xe]=255&fe;++ze<Te&&(Ue*=256);)fe<0&&0===Ve&&0!==this[xe+ze-1]&&(Ve=1),this[xe+ze]=(fe/Ue>>0)-Ve&255;return xe+Te},h.prototype.writeIntBE=function(fe,xe,Te,Ce){if(fe=+fe,xe>>>=0,!Ce){var De=Math.pow(2,8*Te-1);Q(this,fe,xe,Te,De-1,-De)}var ze=Te-1,Ue=1,Ve=0;for(this[xe+ze]=255&fe;--ze>=0&&(Ue*=256);)fe<0&&0===Ve&&0!==this[xe+ze+1]&&(Ve=1),this[xe+ze]=(fe/Ue>>0)-Ve&255;return xe+Te},h.prototype.writeInt8=function(fe,xe,Te){return fe=+fe,xe>>>=0,Te||Q(this,fe,xe,1,127,-128),fe<0&&(fe=255+fe+1),this[xe]=255&fe,xe+1},h.prototype.writeInt16LE=function(fe,xe,Te){return fe=+fe,xe>>>=0,Te||Q(this,fe,xe,2,32767,-32768),this[xe]=255&fe,this[xe+1]=fe>>>8,xe+2},h.prototype.writeInt16BE=function(fe,xe,Te){return fe=+fe,xe>>>=0,Te||Q(this,fe,xe,2,32767,-32768),this[xe]=fe>>>8,this[xe+1]=255&fe,xe+2},h.prototype.writeInt32LE=function(fe,xe,Te){return fe=+fe,xe>>>=0,Te||Q(this,fe,xe,4,2147483647,-2147483648),this[xe]=255&fe,this[xe+1]=fe>>>8,this[xe+2]=fe>>>16,this[xe+3]=fe>>>24,xe+4},h.prototype.writeInt32BE=function(fe,xe,Te){return fe=+fe,xe>>>=0,Te||Q(this,fe,xe,4,2147483647,-2147483648),fe<0&&(fe=4294967295+fe+1),this[xe]=fe>>>24,this[xe+1]=fe>>>16,this[xe+2]=fe>>>8,this[xe+3]=255&fe,xe+4},h.prototype.writeBigInt64LE=Ee(function(fe){return re(this,fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Ee(function(fe){return ae(this,fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(fe,xe,Te){return ue(this,fe,xe,!0,Te)},h.prototype.writeFloatBE=function(fe,xe,Te){return ue(this,fe,xe,!1,Te)},h.prototype.writeDoubleLE=function(fe,xe,Te){return ve(this,fe,xe,!0,Te)},h.prototype.writeDoubleBE=function(fe,xe,Te){return ve(this,fe,xe,!1,Te)},h.prototype.copy=function(fe,xe,Te,Ce){if(!h.isBuffer(fe))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),Ce||0===Ce||(Ce=this.length),xe>=fe.length&&(xe=fe.length),xe||(xe=0),Ce>0&&Ce<Te&&(Ce=Te),Ce===Te||0===fe.length||0===this.length)return 0;if(xe<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),fe.length-xe<Ce-Te&&(Ce=fe.length-xe+Te);var De=Ce-Te;return this===fe&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(xe,Te,Ce):Uint8Array.prototype.set.call(fe,this.subarray(Te,Ce),xe),De},h.prototype.fill=function(fe,xe,Te,Ce){if("string"==typeof fe){if("string"==typeof xe?(Ce=xe,xe=0,Te=this.length):"string"==typeof Te&&(Ce=Te,Te=this.length),void 0!==Ce&&"string"!=typeof Ce)throw new TypeError("encoding must be a string");if("string"==typeof Ce&&!h.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);if(1===fe.length){var De=fe.charCodeAt(0);("utf8"===Ce&&De<128||"latin1"===Ce)&&(fe=De)}}else"number"==typeof fe?fe&=255:"boolean"==typeof fe&&(fe=Number(fe));if(xe<0||this.length<xe||this.length<Te)throw new RangeError("Out of range index");if(Te<=xe)return this;var ze;if(xe>>>=0,Te=void 0===Te?this.length:Te>>>0,fe||(fe=0),"number"==typeof fe)for(ze=xe;ze<Te;++ze)this[ze]=fe;else{var Ue=h.isBuffer(fe)?fe:h.from(fe,Ce),Ve=Ue.length;if(0===Ve)throw new TypeError('The value "'+fe+'" is invalid for argument "value"');for(ze=0;ze<Te-xe;++ze)this[ze+xe]=Ue[ze%Ve]}return this};var be={};function de(fe,xe,Te){be[fe]=function(Ce){!function(st,ht){if("function"!=typeof ht&&null!==ht)throw new TypeError("Super expression must either be null or a function");st.prototype=Object.create(ht&&ht.prototype,{constructor:{value:st,writable:!0,configurable:!0}}),Object.defineProperty(st,"prototype",{writable:!1}),ht&&n(st,ht)}(at,Ce);var De,ze,Ue,Ve,Xe=(Ue=at,Ve=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var st,ht=o(Ue);if(Ve){var bt=o(this).constructor;st=Reflect.construct(ht,arguments,bt)}else st=ht.apply(this,arguments);return function(vt,Qe){if(Qe&&("object"===l(Qe)||"function"==typeof Qe))return Qe;if(void 0!==Qe)throw new TypeError("Derived constructors may only return object or undefined");return r(vt)}(this,st)});function at(){var st;return function(ht,bt){if(!(ht instanceof bt))throw new TypeError("Cannot call a class as a function")}(this,at),st=Xe.call(this),Object.defineProperty(r(st),"message",{value:xe.apply(r(st),arguments),writable:!0,configurable:!0}),st.name="".concat(st.name," [").concat(fe,"]"),st.stack,delete st.name,st}return De=at,(ze=[{key:"code",get:function(){return fe},set:function(st){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:st,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(fe,"]: ").concat(this.message)}}])&&i(De.prototype,ze),Object.defineProperty(De,"prototype",{writable:!1}),at}(Te)}function pe(fe){for(var xe="",Te=fe.length,Ce="-"===fe[0]?1:0;Te>=Ce+4;Te-=3)xe="_".concat(fe.slice(Te-3,Te)).concat(xe);return"".concat(fe.slice(0,Te)).concat(xe)}function ge(fe,xe,Te,Ce,De,ze){if(fe>Te||fe<xe){var Ue,Ve="bigint"==typeof xe?"n":"";throw Ue=ze>3?0===xe||xe===BigInt(0)?">= 0".concat(Ve," and < 2").concat(Ve," ** ").concat(8*(ze+1)).concat(Ve):">= -(2".concat(Ve," ** ").concat(8*(ze+1)-1).concat(Ve,") and < 2 ** ")+"".concat(8*(ze+1)-1).concat(Ve):">= ".concat(xe).concat(Ve," and <= ").concat(Te).concat(Ve),new be.ERR_OUT_OF_RANGE("value",Ue,fe)}var Xe,at,st;Xe=Ce,st=ze,Ae(at=De,"offset"),void 0!==Xe[at]&&void 0!==Xe[at+st]||ye(at,Xe.length-(st+1))}function Ae(fe,xe){if("number"!=typeof fe)throw new be.ERR_INVALID_ARG_TYPE(xe,"number",fe)}function ye(fe,xe,Te){throw Math.floor(fe)!==fe?(Ae(fe,Te),new be.ERR_OUT_OF_RANGE(Te||"offset","an integer",fe)):xe<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE(Te||"offset",">= ".concat(Te?1:0," and <= ").concat(xe),fe)}de("ERR_BUFFER_OUT_OF_BOUNDS",function(fe){return fe?"".concat(fe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),de("ERR_INVALID_ARG_TYPE",function(fe,xe){return'The "'.concat(fe,'" argument must be of type number. Received type ').concat(l(xe))},TypeError),de("ERR_OUT_OF_RANGE",function(fe,xe,Te){var Ce='The value of "'.concat(fe,'" is out of range.'),De=Te;return Number.isInteger(Te)&&Math.abs(Te)>Math.pow(2,32)?De=pe(String(Te)):"bigint"==typeof Te&&(De=String(Te),(Te>Math.pow(BigInt(2),BigInt(32))||Te<-Math.pow(BigInt(2),BigInt(32)))&&(De=pe(De)),De+="n"),Ce+" It must be ".concat(xe,". Received ").concat(De)},RangeError);var we=/[^+/0-9A-Za-z-_]/g;function se(fe,xe){var Te;xe=xe||1/0;for(var Ce=fe.length,De=null,ze=[],Ue=0;Ue<Ce;++Ue){if((Te=fe.charCodeAt(Ue))>55295&&Te<57344){if(!De){if(Te>56319){(xe-=3)>-1&&ze.push(239,191,189);continue}if(Ue+1===Ce){(xe-=3)>-1&&ze.push(239,191,189);continue}De=Te;continue}if(Te<56320){(xe-=3)>-1&&ze.push(239,191,189),De=Te;continue}Te=65536+(De-55296<<10|Te-56320)}else De&&(xe-=3)>-1&&ze.push(239,191,189);if(De=null,Te<128){if((xe-=1)<0)break;ze.push(Te)}else if(Te<2048){if((xe-=2)<0)break;ze.push(Te>>6|192,63&Te|128)}else if(Te<65536){if((xe-=3)<0)break;ze.push(Te>>12|224,Te>>6&63|128,63&Te|128)}else{if(!(Te<1114112))throw new Error("Invalid code point");if((xe-=4)<0)break;ze.push(Te>>18|240,Te>>12&63|128,Te>>6&63|128,63&Te|128)}}return ze}function ie(fe){return u.toByteArray(function(xe){if((xe=(xe=xe.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;xe.length%4!=0;)xe+="=";return xe}(fe))}function he(fe,xe,Te,Ce){var De;for(De=0;De<Ce&&!(De+Te>=xe.length||De>=fe.length);++De)xe[De+Te]=fe[De];return De}function Se(fe,xe){return fe instanceof xe||null!=fe&&null!=fe.constructor&&null!=fe.constructor.name&&fe.constructor.name===xe.name}function _e(fe){return fe!=fe}var Me=function(){for(var fe="0123456789abcdef",xe=new Array(256),Te=0;Te<16;++Te)for(var Ce=16*Te,De=0;De<16;++De)xe[Ce+De]=fe[Te]+fe[De];return xe}();function Ee(fe){return typeof BigInt>"u"?Ie:fe}function Ie(){throw new Error("BigInt not supported")}},2321:function(p){"use strict";p.exports=n,p.exports.isMobile=n,p.exports.default=n;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,i=/android|ipad|playbook|silk/i;function n(r){r||(r={});var o=r.ua;if(o||typeof navigator>"u"||(o=navigator.userAgent),o&&o.headers&&"string"==typeof o.headers["user-agent"]&&(o=o.headers["user-agent"]),"string"!=typeof o)return!1;var l=s.test(o)&&!t.test(o)||!!r.tablet&&i.test(o);return!l&&r.tablet&&r.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==o.indexOf("Macintosh")&&-1!==o.indexOf("Safari")&&(l=!0),l}},3910:function(p,s){"use strict";s.byteLength=function(d){var c=l(d),x=c[0],g=c[1];return 3*(x+g)/4-g},s.toByteArray=function(d){var c,x,w,g=l(d),h=g[0],m=g[1],y=new n(3*(h+(w=m))/4-w),v=0,_=m>0?h-4:h;for(x=0;x<_;x+=4)c=i[d.charCodeAt(x)]<<18|i[d.charCodeAt(x+1)]<<12|i[d.charCodeAt(x+2)]<<6|i[d.charCodeAt(x+3)],y[v++]=c>>16&255,y[v++]=c>>8&255,y[v++]=255&c;return 2===m&&(c=i[d.charCodeAt(x)]<<2|i[d.charCodeAt(x+1)]>>4,y[v++]=255&c),1===m&&(c=i[d.charCodeAt(x)]<<10|i[d.charCodeAt(x+1)]<<4|i[d.charCodeAt(x+2)]>>2,y[v++]=c>>8&255,y[v++]=255&c),y},s.fromByteArray=function(d){for(var c,x=d.length,g=x%3,h=[],m=16383,y=0,v=x-g;y<v;y+=m)h.push(u(d,y,y+m>v?v:y+m));return 1===g?(c=d[x-1],h.push(t[c>>2]+t[c<<4&63]+"==")):2===g&&(c=(d[x-2]<<8)+d[x-1],h.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),h.join("")};for(var t=[],i=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)t[o]=r[o],i[r.charCodeAt(o)]=o;function l(d){var c=d.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=d.indexOf("=");return-1===x&&(x=c),[x,x===c?0:4-x%4]}function u(d,c,x){for(var g,h,m=[],y=c;y<x;y+=3)g=(d[y]<<16&16711680)+(d[y+1]<<8&65280)+(255&d[y+2]),m.push(t[(h=g)>>18&63]+t[h>>12&63]+t[h>>6&63]+t[63&h]);return m.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},3187:function(p,s){s.read=function(t,i,n,r,o){var l,u,d=8*o-r-1,c=(1<<d)-1,x=c>>1,g=-7,h=n?o-1:0,m=n?-1:1,y=t[i+h];for(h+=m,l=y&(1<<-g)-1,y>>=-g,g+=d;g>0;l=256*l+t[i+h],h+=m,g-=8);for(u=l&(1<<-g)-1,l>>=-g,g+=r;g>0;u=256*u+t[i+h],h+=m,g-=8);if(0===l)l=1-x;else{if(l===c)return u?NaN:1/0*(y?-1:1);u+=Math.pow(2,r),l-=x}return(y?-1:1)*u*Math.pow(2,l-r)},s.write=function(t,i,n,r,o,l){var u,d,c,x=8*l-o-1,g=(1<<x)-1,h=g>>1,m=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:l-1,v=r?1:-1,_=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(d=isNaN(i)?1:0,u=g):(u=Math.floor(Math.log(i)/Math.LN2),i*(c=Math.pow(2,-u))<1&&(u--,c*=2),(i+=u+h>=1?m/c:m*Math.pow(2,1-h))*c>=2&&(u++,c/=2),u+h>=g?(d=0,u=g):u+h>=1?(d=(i*c-1)*Math.pow(2,o),u+=h):(d=i*Math.pow(2,h-1)*Math.pow(2,o),u=0));o>=8;t[n+y]=255&d,y+=v,d/=256,o-=8);for(u=u<<o|d,x+=o;x>0;t[n+y]=255&u,y+=v,u/=256,x-=8);t[n+y-v]|=128*_}},1152:function(p,s,t){"use strict";p.exports=function(u){var d=(u=u||{}).eye||[0,0,1],c=u.center||[0,0,0],x=u.up||[0,1,0],g=u.distanceLimits||[0,1/0],h=u.mode||"turntable",m=i(),y=n(),v=r();return m.setDistanceLimits(g[0],g[1]),m.lookAt(0,d,c,x),y.setDistanceLimits(g[0],g[1]),y.lookAt(0,d,c,x),v.setDistanceLimits(g[0],g[1]),v.lookAt(0,d,c,x),new o({turntable:m,orbit:y,matrix:v},h)};var i=t(3440),n=t(7774),r=t(9298);function o(u,d){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(c){return u[c]}),this._mode=d,this._active=u[d],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var l=o.prototype;l.flush=function(u){for(var d=this._controllerList,c=0;c<d.length;++c)d[c].flush(u)},l.idle=function(u){for(var d=this._controllerList,c=0;c<d.length;++c)d[c].idle(u)},l.lookAt=function(u,d,c,x){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].lookAt(u,d,c,x)},l.rotate=function(u,d,c,x){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].rotate(u,d,c,x)},l.pan=function(u,d,c,x){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].pan(u,d,c,x)},l.translate=function(u,d,c,x){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].translate(u,d,c,x)},l.setMatrix=function(u,d){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setMatrix(u,d)},l.setDistanceLimits=function(u,d){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistanceLimits(u,d)},l.setDistance=function(u,d){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistance(u,d)},l.recalcMatrix=function(u){this._active.recalcMatrix(u)},l.getDistance=function(u){return this._active.getDistance(u)},l.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},l.lastT=function(){return this._active.lastT()},l.setMode=function(u){if(u!==this._mode){var d=this._controllerNames.indexOf(u);if(!(d<0)){var c=this._active,x=this._controllerList[d],g=Math.max(c.lastT(),x.lastT());c.recalcMatrix(g),x.setMatrix(g,c.computedMatrix),this._active=x,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode}},8126:function(p,s,t){"use strict";var i=typeof WeakMap>"u"?t(5346):WeakMap,n=t(5827),r=t(2944),o=new i;p.exports=function(l){var u=o.get(l),d=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!d||!l.isBuffer(d)){var c=n(l,new Float32Array([-1,-1,-1,4,4,-1]));(u=r(l,[{buffer:c,type:l.FLOAT,size:2}]))._triangleBuffer=c,o.set(l,u)}u.bind(),l.drawArrays(l.TRIANGLES,0,3),u.unbind()}},8008:function(p,s,t){var i=t(4930);p.exports=function(n,r,o){r="number"==typeof r?r:1,o=o||": ";var l=n.split(/\r?\n/),u=String(l.length+r-1).length;return l.map(function(d,c){var x=c+r,g=String(x).length;return i(x,u-g)+o+d}).join("\n")}},2153:function(p,s,t){"use strict";p.exports=function(r){var o=r.length;if(0===o)return[];if(1===o)return[0];for(var l=r[0].length,u=[r[0]],d=[0],c=1;c<o;++c)if(u.push(r[c]),n(u,l)){if(d.push(c),d.length===l+1)return d}else u.pop();return d};var i=t(417);function n(r,o){for(var l=new Array(o+1),u=0;u<r.length;++u)l[u]=r[u];for(u=0;u<=r.length;++u){for(var d=r.length;d<=o;++d){for(var c=new Array(o),x=0;x<o;++x)c[x]=Math.pow(d+1-u,x);l[d]=c}if(i.apply(void 0,l))return!0}return!1}},4653:function(p,s,t){"use strict";p.exports=function(r,o){return i(o).filter(function(l){for(var u=new Array(l.length),d=0;d<l.length;++d)u[d]=o[l[d]];return n(u)*r<1})};var i=t(4419),n=t(1778)},2350:function(p,s,t){p.exports=function(r,o){return n(i(r,o))};var i=t(4653),n=t(8691)},7896:function(p){p.exports=function(s){return atob(s)}},957:function(p,s,t){"use strict";p.exports=function(r,o){for(var l=o.length,u=new Array(l+1),d=0;d<l;++d){for(var c=new Array(l+1),x=0;x<=l;++x)c[x]=r[x][d];u[d]=c}for(u[l]=new Array(l+1),d=0;d<=l;++d)u[l][d]=1;var g=new Array(l+1);for(d=0;d<l;++d)g[d]=o[d];g[l]=1;var h=i(u,g),m=n(h[l+1]);0===m&&(m=1);var y=new Array(l+1);for(d=0;d<=l;++d)y[d]=n(h[d])/m;return y};var i=t(6606);function n(r){for(var o=0,l=0;l<r.length;++l)o+=r[l];return o}},1539:function(p,s,t){"use strict";var i=t(8524);p.exports=function(n,r){return i(n[0].mul(r[1]).add(r[0].mul(n[1])),n[1].mul(r[1]))}},8846:function(p){"use strict";p.exports=function(s,t){return s[0].mul(t[1]).cmp(t[0].mul(s[1]))}},9189:function(p,s,t){"use strict";var i=t(8524);p.exports=function(n,r){return i(n[0].mul(r[1]),n[1].mul(r[0]))}},5125:function(p,s,t){"use strict";var i=t(234),n=t(3218),r=t(5514),o=t(2813),l=t(8524),u=t(9189);p.exports=function d(c,x){if(i(c))return x?u(c,d(x)):[c[0].clone(),c[1].clone()];var g,h,m=0;if(n(c))g=c.clone();else if("string"==typeof c)g=o(c);else{if(0===c)return[r(0),r(1)];if(c===Math.floor(c))g=r(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),m-=256;g=r(c)}}if(i(x))g.mul(x[1]),h=x[0].clone();else if(n(x))h=x.clone();else if("string"==typeof x)h=o(x);else if(x)if(x===Math.floor(x))h=r(x);else{for(;x!==Math.floor(x);)x*=Math.pow(2,256),m+=256;h=r(x)}else h=r(1);return m>0?g=g.ushln(m):m<0&&(h=h.ushln(-m)),l(g,h)}},234:function(p,s,t){"use strict";var i=t(3218);p.exports=function(n){return Array.isArray(n)&&2===n.length&&i(n[0])&&i(n[1])}},4275:function(p,s,t){"use strict";var i=t(1928);p.exports=function(n){return n.cmp(new i(0))}},9958:function(p,s,t){"use strict";var i=t(4275);p.exports=function(n){var r=n.length,o=n.words,l=0;if(1===r)l=o[0];else if(2===r)l=o[0]+67108864*o[1];else for(var u=0;u<r;u++)l+=o[u]*Math.pow(67108864,u);return i(n)*l}},1112:function(p,s,t){"use strict";var i=t(8362),n=t(2288).countTrailingZeros;p.exports=function(r){var o=n(i.lo(r));if(o<32)return o;var l=n(i.hi(r));return l>20?52:l+32}},3218:function(p,s,t){"use strict";t(1928),p.exports=function(i){return i&&"object"==typeof i&&Boolean(i.words)}},5514:function(p,s,t){"use strict";var i=t(1928),n=t(8362);p.exports=function(r){var o=n.exponent(r);return o<52?new i(r):new i(r*Math.pow(2,52-o)).ushln(o-52)}},8524:function(p,s,t){"use strict";var i=t(5514),n=t(4275);p.exports=function(r,o){var l=n(r),u=n(o);if(0===l)return[i(0),i(1)];if(0===u)return[i(0),i(0)];u<0&&(r=r.neg(),o=o.neg());var d=r.gcd(o);return d.cmpn(1)?[r.div(d),o.div(d)]:[r,o]}},2813:function(p,s,t){"use strict";var i=t(1928);p.exports=function(n){return new i(n)}},3962:function(p,s,t){"use strict";var i=t(8524);p.exports=function(n,r){return i(n[0].mul(r[0]),n[1].mul(r[1]))}},4951:function(p,s,t){"use strict";var i=t(4275);p.exports=function(n){return i(n[0])*i(n[1])}},4354:function(p,s,t){"use strict";var i=t(8524);p.exports=function(n,r){return i(n[0].mul(r[1]).sub(n[1].mul(r[0])),n[1].mul(r[1]))}},7999:function(p,s,t){"use strict";var i=t(9958),n=t(1112);p.exports=function(r){var o=r[0],l=r[1];if(0===o.cmpn(0))return 0;var u=o.abs().divmod(l.abs()),d=u.div,c=i(d),x=u.mod,g=o.negative!==l.negative?-1:1;if(0===x.cmpn(0))return g*c;if(c){var h=n(c)+4;return g*(c+(y=i(x.ushln(h).divRound(l)))*Math.pow(2,-h))}var m=l.bitLength()-x.bitLength()+53,y=i(x.ushln(m).divRound(l));return m<1023?g*y*Math.pow(2,-m):g*(y*=Math.pow(2,-1023))*Math.pow(2,1023-m)}},5070:function(p){"use strict";function s(l,u,d,c,x){for(var g=x+1;c<=x;){var h=c+x>>>1,m=l[h];(void 0!==d?d(m,u):m-u)>=0?(g=h,x=h-1):c=h+1}return g}function t(l,u,d,c,x){for(var g=x+1;c<=x;){var h=c+x>>>1,m=l[h];(void 0!==d?d(m,u):m-u)>0?(g=h,x=h-1):c=h+1}return g}function i(l,u,d,c,x){for(var g=c-1;c<=x;){var h=c+x>>>1,m=l[h];(void 0!==d?d(m,u):m-u)<0?(g=h,c=h+1):x=h-1}return g}function n(l,u,d,c,x){for(var g=c-1;c<=x;){var h=c+x>>>1,m=l[h];(void 0!==d?d(m,u):m-u)<=0?(g=h,c=h+1):x=h-1}return g}function r(l,u,d,c,x){for(;c<=x;){var g=c+x>>>1,h=l[g],m=void 0!==d?d(h,u):h-u;if(0===m)return g;m<=0?c=g+1:x=g-1}return-1}function o(l,u,d,c,x,g){return"function"==typeof d?g(l,u,d,void 0===c?0:0|c,void 0===x?l.length-1:0|x):g(l,u,void 0,void 0===d?0:0|d,void 0===c?l.length-1:0|c)}p.exports={ge:function(l,u,d,c,x){return o(l,u,d,c,x,s)},gt:function(l,u,d,c,x){return o(l,u,d,c,x,t)},lt:function(l,u,d,c,x){return o(l,u,d,c,x,i)},le:function(l,u,d,c,x){return o(l,u,d,c,x,n)},eq:function(l,u,d,c,x){return o(l,u,d,c,x,r)}}},2288:function(p,s){"use strict";function t(n){var r=32;return(n&=-n)&&r--,65535&n&&(r-=16),16711935&n&&(r-=8),252645135&n&&(r-=4),858993459&n&&(r-=2),1431655765&n&&(r-=1),r}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(n){return(n>0)-(n<0)},s.abs=function(n){var r=n>>31;return(n^r)-r},s.min=function(n,r){return r^(n^r)&-(n<r)},s.max=function(n,r){return n^(n^r)&-(n<r)},s.isPow2=function(n){return!(n&n-1||!n)},s.log2=function(n){var r,o;return r=(n>65535)<<4,r|=o=((n>>>=r)>255)<<3,r|=o=((n>>>=o)>15)<<2,(r|=o=((n>>>=o)>3)<<1)|(n>>>=o)>>1},s.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},s.popCount=function(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(n){return n+=0===n,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,1+((n|=n>>>8)|n>>>16)},s.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)-(n>>>1)},s.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,27030>>>(n&=15)&1};var i=new Array(256);(function(n){for(var r=0;r<256;++r){var o=r,l=r,u=7;for(o>>>=1;o;o>>>=1)l<<=1,l|=1&o,--u;n[r]=l<<u&255}})(i),s.reverse=function(n){return i[255&n]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},s.interleave2=function(n,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},s.deinterleave2=function(n,r){return(n=65535&((n=16711935&((n=252645135&((n=858993459&((n=n>>>r&1431655765)|n>>>1))|n>>>2))|n>>>4))|n>>>16))<<16>>16},s.interleave3=function(n,r,o){return n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2),(n|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<2},s.deinterleave3=function(n,r){return(n=1023&((n=4278190335&((n=251719695&((n=3272356035&((n=n>>>r&1227133513)|n>>>2))|n>>>4))|n>>>8))|n>>>16))<<22>>22},s.nextCombination=function(n){var r=n|n-1;return r+1|(~r&-~r)-1>>>t(n)+1}},1928:function(p,s,t){!function(i,n){"use strict";function r(z,N){if(!z)throw new Error(N||"Assertion failed")}function o(z,N){z.super_=N;var Y=function(){};Y.prototype=N.prototype,z.prototype=new Y,z.prototype.constructor=z}function l(z,N,Y){if(l.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,null!==z&&("le"!==N&&"be"!==N||(Y=N,N=10),this._init(z||0,N||10,Y||"be"))}var u;"object"==typeof i?i.exports=l:n.BN=l,l.BN=l,l.wordSize=26;try{u=typeof window<"u"&&void 0!==window.Buffer?window.Buffer:t(6601).Buffer}catch{}function d(z,N){var Y=z.charCodeAt(N);return Y>=65&&Y<=70?Y-55:Y>=97&&Y<=102?Y-87:Y-48&15}function c(z,N,Y){var F=d(z,Y);return Y-1>=N&&(F|=d(z,Y-1)<<4),F}function x(z,N,Y,F){for(var U=0,V=Math.min(z.length,Y),te=N;te<V;te++){var $=z.charCodeAt(te)-48;U*=F,U+=$>=49?$-49+10:$>=17?$-17+10:$}return U}l.isBN=function(z){return z instanceof l||null!==z&&"object"==typeof z&&z.constructor.wordSize===l.wordSize&&Array.isArray(z.words)},l.max=function(z,N){return z.cmp(N)>0?z:N},l.min=function(z,N){return z.cmp(N)<0?z:N},l.prototype._init=function(z,N,Y){if("number"==typeof z)return this._initNumber(z,N,Y);if("object"==typeof z)return this._initArray(z,N,Y);"hex"===N&&(N=16),r(N===(0|N)&&N>=2&&N<=36);var F=0;"-"===(z=z.toString().replace(/\s+/g,""))[0]&&(F++,this.negative=1),F<z.length&&(16===N?this._parseHex(z,F,Y):(this._parseBase(z,N,F),"le"===Y&&this._initArray(this.toArray(),N,Y)))},l.prototype._initNumber=function(z,N,Y){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[67108863&z],this.length=1):z<4503599627370496?(this.words=[67108863&z,z/67108864&67108863],this.length=2):(r(z<9007199254740992),this.words=[67108863&z,z/67108864&67108863,1],this.length=3),"le"===Y&&this._initArray(this.toArray(),N,Y)},l.prototype._initArray=function(z,N,Y){if(r("number"==typeof z.length),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var U,V,te=0;if("be"===Y)for(F=z.length-1,U=0;F>=0;F-=3)V=z[F]|z[F-1]<<8|z[F-2]<<16,this.words[U]|=V<<te&67108863,this.words[U+1]=V>>>26-te&67108863,(te+=24)>=26&&(te-=26,U++);else if("le"===Y)for(F=0,U=0;F<z.length;F+=3)V=z[F]|z[F+1]<<8|z[F+2]<<16,this.words[U]|=V<<te&67108863,this.words[U+1]=V>>>26-te&67108863,(te+=24)>=26&&(te-=26,U++);return this.strip()},l.prototype._parseHex=function(z,N,Y){this.length=Math.ceil((z.length-N)/6),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var U,V=0,te=0;if("be"===Y)for(F=z.length-1;F>=N;F-=2)U=c(z,N,F)<<V,this.words[te]|=67108863&U,V>=18?(V-=18,te+=1,this.words[te]|=U>>>26):V+=8;else for(F=(z.length-N)%2==0?N+1:N;F<z.length;F+=2)U=c(z,N,F)<<V,this.words[te]|=67108863&U,V>=18?(V-=18,te+=1,this.words[te]|=U>>>26):V+=8;this.strip()},l.prototype._parseBase=function(z,N,Y){this.words=[0],this.length=1;for(var F=0,U=1;U<=67108863;U*=N)F++;F--,U=U/N|0;for(var V=z.length-Y,te=V%F,$=Math.min(V,V-te)+Y,X=0,W=Y;W<$;W+=F)X=x(z,W,W+F,N),this.imuln(U),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(0!==te){var J=1;for(X=x(z,W,z.length,N),W=0;W<te;W++)J*=N;this.imuln(J),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this.strip()},l.prototype.copy=function(z){z.words=new Array(this.length);for(var N=0;N<this.length;N++)z.words[N]=this.words[N];z.length=this.length,z.negative=this.negative,z.red=this.red},l.prototype.clone=function(){var z=new l(null);return this.copy(z),z},l.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},l.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(z,N,Y){Y.negative=N.negative^z.negative;var F=z.length+N.length|0;Y.length=F,F=F-1|0;var U=0|z.words[0],V=0|N.words[0],te=U*V,$=67108863&te,X=te/67108864|0;Y.words[0]=$;for(var W=1;W<F;W++){for(var J=X>>>26,Q=67108863&X,re=Math.min(W,N.length-1),ae=Math.max(0,W-z.length+1);ae<=re;ae++){var oe=W-ae|0;J+=(te=(U=0|z.words[oe])*(V=0|N.words[ae])+Q)/67108864|0,Q=67108863&te}Y.words[W]=0|Q,X=0|J}return 0!==X?Y.words[W]=0|X:Y.length--,Y.strip()}l.prototype.toString=function(z,N){var Y;if(N=0|N||1,16===(z=z||10)||"hex"===z){Y="";for(var F=0,U=0,V=0;V<this.length;V++){var te=this.words[V],$=(16777215&(te<<F|U)).toString(16);Y=0!=(U=te>>>24-F&16777215)||V!==this.length-1?g[6-$.length]+$+Y:$+Y,(F+=2)>=26&&(F-=26,V--)}for(0!==U&&(Y=U.toString(16)+Y);Y.length%N!=0;)Y="0"+Y;return 0!==this.negative&&(Y="-"+Y),Y}if(z===(0|z)&&z>=2&&z<=36){var X=h[z],W=m[z];Y="";var J=this.clone();for(J.negative=0;!J.isZero();){var Q=J.modn(W).toString(z);Y=(J=J.idivn(W)).isZero()?Q+Y:g[X-Q.length]+Q+Y}for(this.isZero()&&(Y="0"+Y);Y.length%N!=0;)Y="0"+Y;return 0!==this.negative&&(Y="-"+Y),Y}r(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var z=this.words[0];return 2===this.length?z+=67108864*this.words[1]:3===this.length&&1===this.words[2]?z+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-z:z},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(z,N){return r(void 0!==u),this.toArrayLike(u,z,N)},l.prototype.toArray=function(z,N){return this.toArrayLike(Array,z,N)},l.prototype.toArrayLike=function(z,N,Y){var F=this.byteLength(),U=Y||Math.max(1,F);r(F<=U,"byte array longer than desired length"),r(U>0,"Requested array length <= 0"),this.strip();var V,te,$="le"===N,X=new z(U),W=this.clone();if($){for(te=0;!W.isZero();te++)V=W.andln(255),W.iushrn(8),X[te]=V;for(;te<U;te++)X[te]=0}else{for(te=0;te<U-F;te++)X[te]=0;for(te=0;!W.isZero();te++)V=W.andln(255),W.iushrn(8),X[U-te-1]=V}return X},Math.clz32?l.prototype._countBits=function(z){return 32-Math.clz32(z)}:l.prototype._countBits=function(z){var N=z,Y=0;return N>=4096&&(Y+=13,N>>>=13),N>=64&&(Y+=7,N>>>=7),N>=8&&(Y+=4,N>>>=4),N>=2&&(Y+=2,N>>>=2),Y+N},l.prototype._zeroBits=function(z){if(0===z)return 26;var N=z,Y=0;return!(8191&N)&&(Y+=13,N>>>=13),!(127&N)&&(Y+=7,N>>>=7),!(15&N)&&(Y+=4,N>>>=4),!(3&N)&&(Y+=2,N>>>=2),!(1&N)&&Y++,Y},l.prototype.bitLength=function(){var z=this.words[this.length-1],N=this._countBits(z);return 26*(this.length-1)+N},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,N=0;N<this.length;N++){var Y=this._zeroBits(this.words[N]);if(z+=Y,26!==Y)break}return z},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(z){return 0!==this.negative?this.abs().inotn(z).iaddn(1):this.clone()},l.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return 0!==this.negative},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var N=0;N<z.length;N++)this.words[N]=this.words[N]|z.words[N];return this.strip()},l.prototype.ior=function(z){return r(0==(this.negative|z.negative)),this.iuor(z)},l.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},l.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},l.prototype.iuand=function(z){var N;N=this.length>z.length?z:this;for(var Y=0;Y<N.length;Y++)this.words[Y]=this.words[Y]&z.words[Y];return this.length=N.length,this.strip()},l.prototype.iand=function(z){return r(0==(this.negative|z.negative)),this.iuand(z)},l.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},l.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},l.prototype.iuxor=function(z){var N,Y;this.length>z.length?(N=this,Y=z):(N=z,Y=this);for(var F=0;F<Y.length;F++)this.words[F]=N.words[F]^Y.words[F];if(this!==N)for(;F<N.length;F++)this.words[F]=N.words[F];return this.length=N.length,this.strip()},l.prototype.ixor=function(z){return r(0==(this.negative|z.negative)),this.iuxor(z)},l.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},l.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},l.prototype.inotn=function(z){r("number"==typeof z&&z>=0);var N=0|Math.ceil(z/26),Y=z%26;this._expand(N),Y>0&&N--;for(var F=0;F<N;F++)this.words[F]=67108863&~this.words[F];return Y>0&&(this.words[F]=~this.words[F]&67108863>>26-Y),this.strip()},l.prototype.notn=function(z){return this.clone().inotn(z)},l.prototype.setn=function(z,N){r("number"==typeof z&&z>=0);var Y=z/26|0,F=z%26;return this._expand(Y+1),this.words[Y]=N?this.words[Y]|1<<F:this.words[Y]&~(1<<F),this.strip()},l.prototype.iadd=function(z){var N,Y,F;if(0!==this.negative&&0===z.negative)return this.negative=0,N=this.isub(z),this.negative^=1,this._normSign();if(0===this.negative&&0!==z.negative)return z.negative=0,N=this.isub(z),z.negative=1,N._normSign();this.length>z.length?(Y=this,F=z):(Y=z,F=this);for(var U=0,V=0;V<F.length;V++)N=(0|Y.words[V])+(0|F.words[V])+U,this.words[V]=67108863&N,U=N>>>26;for(;0!==U&&V<Y.length;V++)N=(0|Y.words[V])+U,this.words[V]=67108863&N,U=N>>>26;if(this.length=Y.length,0!==U)this.words[this.length]=U,this.length++;else if(Y!==this)for(;V<Y.length;V++)this.words[V]=Y.words[V];return this},l.prototype.add=function(z){var N;return 0!==z.negative&&0===this.negative?(z.negative=0,N=this.sub(z),z.negative^=1,N):0===z.negative&&0!==this.negative?(this.negative=0,N=z.sub(this),this.negative=1,N):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},l.prototype.isub=function(z){if(0!==z.negative){z.negative=0;var N=this.iadd(z);return z.negative=1,N._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var Y,F,U=this.cmp(z);if(0===U)return this.negative=0,this.length=1,this.words[0]=0,this;U>0?(Y=this,F=z):(Y=z,F=this);for(var V=0,te=0;te<F.length;te++)V=(N=(0|Y.words[te])-(0|F.words[te])+V)>>26,this.words[te]=67108863&N;for(;0!==V&&te<Y.length;te++)V=(N=(0|Y.words[te])+V)>>26,this.words[te]=67108863&N;if(0===V&&te<Y.length&&Y!==this)for(;te<Y.length;te++)this.words[te]=Y.words[te];return this.length=Math.max(this.length,te),Y!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(z){return this.clone().isub(z)};var v=function(z,N,Y){var F,U,V,te=z.words,$=N.words,X=Y.words,W=0,J=0|te[0],Q=8191&J,re=J>>>13,ae=0|te[1],oe=8191&ae,ue=ae>>>13,ve=0|te[2],be=8191&ve,de=ve>>>13,pe=0|te[3],ge=8191&pe,Ae=pe>>>13,ye=0|te[4],we=8191&ye,se=ye>>>13,ie=0|te[5],he=8191&ie,Se=ie>>>13,_e=0|te[6],Me=8191&_e,Ee=_e>>>13,Ie=0|te[7],fe=8191&Ie,xe=Ie>>>13,Te=0|te[8],Ce=8191&Te,De=Te>>>13,ze=0|te[9],Ue=8191&ze,Ve=ze>>>13,Xe=0|$[0],at=8191&Xe,st=Xe>>>13,ht=0|$[1],bt=8191&ht,vt=ht>>>13,Qe=0|$[2],nt=8191&Qe,wt=Qe>>>13,Ot=0|$[3],Pt=8191&Ot,St=Ot>>>13,qe=0|$[4],Ze=8191&qe,Ne=qe>>>13,Ge=0|$[5],rt=8191&Ge,tt=Ge>>>13,Re=0|$[6],Fe=8191&Re,et=Re>>>13,We=0|$[7],ct=8191&We,pt=We>>>13,dt=0|$[8],ut=8191&dt,kt=dt>>>13,yt=0|$[9],gt=8191&yt,At=yt>>>13;Y.negative=z.negative^N.negative,Y.length=19;var Lt=(W+(F=Math.imul(Q,at))|0)+((8191&(U=(U=Math.imul(Q,st))+Math.imul(re,at)|0))<<13)|0;W=((V=Math.imul(re,st))+(U>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,F=Math.imul(oe,at),U=(U=Math.imul(oe,st))+Math.imul(ue,at)|0,V=Math.imul(ue,st);var It=(W+(F=F+Math.imul(Q,bt)|0)|0)+((8191&(U=(U=U+Math.imul(Q,vt)|0)+Math.imul(re,bt)|0))<<13)|0;W=((V=V+Math.imul(re,vt)|0)+(U>>>13)|0)+(It>>>26)|0,It&=67108863,F=Math.imul(be,at),U=(U=Math.imul(be,st))+Math.imul(de,at)|0,V=Math.imul(de,st),F=F+Math.imul(oe,bt)|0,U=(U=U+Math.imul(oe,vt)|0)+Math.imul(ue,bt)|0,V=V+Math.imul(ue,vt)|0;var qt=(W+(F=F+Math.imul(Q,nt)|0)|0)+((8191&(U=(U=U+Math.imul(Q,wt)|0)+Math.imul(re,nt)|0))<<13)|0;W=((V=V+Math.imul(re,wt)|0)+(U>>>13)|0)+(qt>>>26)|0,qt&=67108863,F=Math.imul(ge,at),U=(U=Math.imul(ge,st))+Math.imul(Ae,at)|0,V=Math.imul(Ae,st),F=F+Math.imul(be,bt)|0,U=(U=U+Math.imul(be,vt)|0)+Math.imul(de,bt)|0,V=V+Math.imul(de,vt)|0,F=F+Math.imul(oe,nt)|0,U=(U=U+Math.imul(oe,wt)|0)+Math.imul(ue,nt)|0,V=V+Math.imul(ue,wt)|0;var Qt=(W+(F=F+Math.imul(Q,Pt)|0)|0)+((8191&(U=(U=U+Math.imul(Q,St)|0)+Math.imul(re,Pt)|0))<<13)|0;W=((V=V+Math.imul(re,St)|0)+(U>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,F=Math.imul(we,at),U=(U=Math.imul(we,st))+Math.imul(se,at)|0,V=Math.imul(se,st),F=F+Math.imul(ge,bt)|0,U=(U=U+Math.imul(ge,vt)|0)+Math.imul(Ae,bt)|0,V=V+Math.imul(Ae,vt)|0,F=F+Math.imul(be,nt)|0,U=(U=U+Math.imul(be,wt)|0)+Math.imul(de,nt)|0,V=V+Math.imul(de,wt)|0,F=F+Math.imul(oe,Pt)|0,U=(U=U+Math.imul(oe,St)|0)+Math.imul(ue,Pt)|0,V=V+Math.imul(ue,St)|0;var Vt=(W+(F=F+Math.imul(Q,Ze)|0)|0)+((8191&(U=(U=U+Math.imul(Q,Ne)|0)+Math.imul(re,Ze)|0))<<13)|0;W=((V=V+Math.imul(re,Ne)|0)+(U>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,F=Math.imul(he,at),U=(U=Math.imul(he,st))+Math.imul(Se,at)|0,V=Math.imul(Se,st),F=F+Math.imul(we,bt)|0,U=(U=U+Math.imul(we,vt)|0)+Math.imul(se,bt)|0,V=V+Math.imul(se,vt)|0,F=F+Math.imul(ge,nt)|0,U=(U=U+Math.imul(ge,wt)|0)+Math.imul(Ae,nt)|0,V=V+Math.imul(Ae,wt)|0,F=F+Math.imul(be,Pt)|0,U=(U=U+Math.imul(be,St)|0)+Math.imul(de,Pt)|0,V=V+Math.imul(de,St)|0,F=F+Math.imul(oe,Ze)|0,U=(U=U+Math.imul(oe,Ne)|0)+Math.imul(ue,Ze)|0,V=V+Math.imul(ue,Ne)|0;var Ft=(W+(F=F+Math.imul(Q,rt)|0)|0)+((8191&(U=(U=U+Math.imul(Q,tt)|0)+Math.imul(re,rt)|0))<<13)|0;W=((V=V+Math.imul(re,tt)|0)+(U>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,F=Math.imul(Me,at),U=(U=Math.imul(Me,st))+Math.imul(Ee,at)|0,V=Math.imul(Ee,st),F=F+Math.imul(he,bt)|0,U=(U=U+Math.imul(he,vt)|0)+Math.imul(Se,bt)|0,V=V+Math.imul(Se,vt)|0,F=F+Math.imul(we,nt)|0,U=(U=U+Math.imul(we,wt)|0)+Math.imul(se,nt)|0,V=V+Math.imul(se,wt)|0,F=F+Math.imul(ge,Pt)|0,U=(U=U+Math.imul(ge,St)|0)+Math.imul(Ae,Pt)|0,V=V+Math.imul(Ae,St)|0,F=F+Math.imul(be,Ze)|0,U=(U=U+Math.imul(be,Ne)|0)+Math.imul(de,Ze)|0,V=V+Math.imul(de,Ne)|0,F=F+Math.imul(oe,rt)|0,U=(U=U+Math.imul(oe,tt)|0)+Math.imul(ue,rt)|0,V=V+Math.imul(ue,tt)|0;var en=(W+(F=F+Math.imul(Q,Fe)|0)|0)+((8191&(U=(U=U+Math.imul(Q,et)|0)+Math.imul(re,Fe)|0))<<13)|0;W=((V=V+Math.imul(re,et)|0)+(U>>>13)|0)+(en>>>26)|0,en&=67108863,F=Math.imul(fe,at),U=(U=Math.imul(fe,st))+Math.imul(xe,at)|0,V=Math.imul(xe,st),F=F+Math.imul(Me,bt)|0,U=(U=U+Math.imul(Me,vt)|0)+Math.imul(Ee,bt)|0,V=V+Math.imul(Ee,vt)|0,F=F+Math.imul(he,nt)|0,U=(U=U+Math.imul(he,wt)|0)+Math.imul(Se,nt)|0,V=V+Math.imul(Se,wt)|0,F=F+Math.imul(we,Pt)|0,U=(U=U+Math.imul(we,St)|0)+Math.imul(se,Pt)|0,V=V+Math.imul(se,St)|0,F=F+Math.imul(ge,Ze)|0,U=(U=U+Math.imul(ge,Ne)|0)+Math.imul(Ae,Ze)|0,V=V+Math.imul(Ae,Ne)|0,F=F+Math.imul(be,rt)|0,U=(U=U+Math.imul(be,tt)|0)+Math.imul(de,rt)|0,V=V+Math.imul(de,tt)|0,F=F+Math.imul(oe,Fe)|0,U=(U=U+Math.imul(oe,et)|0)+Math.imul(ue,Fe)|0,V=V+Math.imul(ue,et)|0;var wn=(W+(F=F+Math.imul(Q,ct)|0)|0)+((8191&(U=(U=U+Math.imul(Q,pt)|0)+Math.imul(re,ct)|0))<<13)|0;W=((V=V+Math.imul(re,pt)|0)+(U>>>13)|0)+(wn>>>26)|0,wn&=67108863,F=Math.imul(Ce,at),U=(U=Math.imul(Ce,st))+Math.imul(De,at)|0,V=Math.imul(De,st),F=F+Math.imul(fe,bt)|0,U=(U=U+Math.imul(fe,vt)|0)+Math.imul(xe,bt)|0,V=V+Math.imul(xe,vt)|0,F=F+Math.imul(Me,nt)|0,U=(U=U+Math.imul(Me,wt)|0)+Math.imul(Ee,nt)|0,V=V+Math.imul(Ee,wt)|0,F=F+Math.imul(he,Pt)|0,U=(U=U+Math.imul(he,St)|0)+Math.imul(Se,Pt)|0,V=V+Math.imul(Se,St)|0,F=F+Math.imul(we,Ze)|0,U=(U=U+Math.imul(we,Ne)|0)+Math.imul(se,Ze)|0,V=V+Math.imul(se,Ne)|0,F=F+Math.imul(ge,rt)|0,U=(U=U+Math.imul(ge,tt)|0)+Math.imul(Ae,rt)|0,V=V+Math.imul(Ae,tt)|0,F=F+Math.imul(be,Fe)|0,U=(U=U+Math.imul(be,et)|0)+Math.imul(de,Fe)|0,V=V+Math.imul(de,et)|0,F=F+Math.imul(oe,ct)|0,U=(U=U+Math.imul(oe,pt)|0)+Math.imul(ue,ct)|0,V=V+Math.imul(ue,pt)|0;var kn=(W+(F=F+Math.imul(Q,ut)|0)|0)+((8191&(U=(U=U+Math.imul(Q,kt)|0)+Math.imul(re,ut)|0))<<13)|0;W=((V=V+Math.imul(re,kt)|0)+(U>>>13)|0)+(kn>>>26)|0,kn&=67108863,F=Math.imul(Ue,at),U=(U=Math.imul(Ue,st))+Math.imul(Ve,at)|0,V=Math.imul(Ve,st),F=F+Math.imul(Ce,bt)|0,U=(U=U+Math.imul(Ce,vt)|0)+Math.imul(De,bt)|0,V=V+Math.imul(De,vt)|0,F=F+Math.imul(fe,nt)|0,U=(U=U+Math.imul(fe,wt)|0)+Math.imul(xe,nt)|0,V=V+Math.imul(xe,wt)|0,F=F+Math.imul(Me,Pt)|0,U=(U=U+Math.imul(Me,St)|0)+Math.imul(Ee,Pt)|0,V=V+Math.imul(Ee,St)|0,F=F+Math.imul(he,Ze)|0,U=(U=U+Math.imul(he,Ne)|0)+Math.imul(Se,Ze)|0,V=V+Math.imul(Se,Ne)|0,F=F+Math.imul(we,rt)|0,U=(U=U+Math.imul(we,tt)|0)+Math.imul(se,rt)|0,V=V+Math.imul(se,tt)|0,F=F+Math.imul(ge,Fe)|0,U=(U=U+Math.imul(ge,et)|0)+Math.imul(Ae,Fe)|0,V=V+Math.imul(Ae,et)|0,F=F+Math.imul(be,ct)|0,U=(U=U+Math.imul(be,pt)|0)+Math.imul(de,ct)|0,V=V+Math.imul(de,pt)|0,F=F+Math.imul(oe,ut)|0,U=(U=U+Math.imul(oe,kt)|0)+Math.imul(ue,ut)|0,V=V+Math.imul(ue,kt)|0;var on=(W+(F=F+Math.imul(Q,gt)|0)|0)+((8191&(U=(U=U+Math.imul(Q,At)|0)+Math.imul(re,gt)|0))<<13)|0;W=((V=V+Math.imul(re,At)|0)+(U>>>13)|0)+(on>>>26)|0,on&=67108863,F=Math.imul(Ue,bt),U=(U=Math.imul(Ue,vt))+Math.imul(Ve,bt)|0,V=Math.imul(Ve,vt),F=F+Math.imul(Ce,nt)|0,U=(U=U+Math.imul(Ce,wt)|0)+Math.imul(De,nt)|0,V=V+Math.imul(De,wt)|0,F=F+Math.imul(fe,Pt)|0,U=(U=U+Math.imul(fe,St)|0)+Math.imul(xe,Pt)|0,V=V+Math.imul(xe,St)|0,F=F+Math.imul(Me,Ze)|0,U=(U=U+Math.imul(Me,Ne)|0)+Math.imul(Ee,Ze)|0,V=V+Math.imul(Ee,Ne)|0,F=F+Math.imul(he,rt)|0,U=(U=U+Math.imul(he,tt)|0)+Math.imul(Se,rt)|0,V=V+Math.imul(Se,tt)|0,F=F+Math.imul(we,Fe)|0,U=(U=U+Math.imul(we,et)|0)+Math.imul(se,Fe)|0,V=V+Math.imul(se,et)|0,F=F+Math.imul(ge,ct)|0,U=(U=U+Math.imul(ge,pt)|0)+Math.imul(Ae,ct)|0,V=V+Math.imul(Ae,pt)|0,F=F+Math.imul(be,ut)|0,U=(U=U+Math.imul(be,kt)|0)+Math.imul(de,ut)|0,V=V+Math.imul(de,kt)|0;var Ht=(W+(F=F+Math.imul(oe,gt)|0)|0)+((8191&(U=(U=U+Math.imul(oe,At)|0)+Math.imul(ue,gt)|0))<<13)|0;W=((V=V+Math.imul(ue,At)|0)+(U>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,F=Math.imul(Ue,nt),U=(U=Math.imul(Ue,wt))+Math.imul(Ve,nt)|0,V=Math.imul(Ve,wt),F=F+Math.imul(Ce,Pt)|0,U=(U=U+Math.imul(Ce,St)|0)+Math.imul(De,Pt)|0,V=V+Math.imul(De,St)|0,F=F+Math.imul(fe,Ze)|0,U=(U=U+Math.imul(fe,Ne)|0)+Math.imul(xe,Ze)|0,V=V+Math.imul(xe,Ne)|0,F=F+Math.imul(Me,rt)|0,U=(U=U+Math.imul(Me,tt)|0)+Math.imul(Ee,rt)|0,V=V+Math.imul(Ee,tt)|0,F=F+Math.imul(he,Fe)|0,U=(U=U+Math.imul(he,et)|0)+Math.imul(Se,Fe)|0,V=V+Math.imul(Se,et)|0,F=F+Math.imul(we,ct)|0,U=(U=U+Math.imul(we,pt)|0)+Math.imul(se,ct)|0,V=V+Math.imul(se,pt)|0,F=F+Math.imul(ge,ut)|0,U=(U=U+Math.imul(ge,kt)|0)+Math.imul(Ae,ut)|0,V=V+Math.imul(Ae,kt)|0;var nn=(W+(F=F+Math.imul(be,gt)|0)|0)+((8191&(U=(U=U+Math.imul(be,At)|0)+Math.imul(de,gt)|0))<<13)|0;W=((V=V+Math.imul(de,At)|0)+(U>>>13)|0)+(nn>>>26)|0,nn&=67108863,F=Math.imul(Ue,Pt),U=(U=Math.imul(Ue,St))+Math.imul(Ve,Pt)|0,V=Math.imul(Ve,St),F=F+Math.imul(Ce,Ze)|0,U=(U=U+Math.imul(Ce,Ne)|0)+Math.imul(De,Ze)|0,V=V+Math.imul(De,Ne)|0,F=F+Math.imul(fe,rt)|0,U=(U=U+Math.imul(fe,tt)|0)+Math.imul(xe,rt)|0,V=V+Math.imul(xe,tt)|0,F=F+Math.imul(Me,Fe)|0,U=(U=U+Math.imul(Me,et)|0)+Math.imul(Ee,Fe)|0,V=V+Math.imul(Ee,et)|0,F=F+Math.imul(he,ct)|0,U=(U=U+Math.imul(he,pt)|0)+Math.imul(Se,ct)|0,V=V+Math.imul(Se,pt)|0,F=F+Math.imul(we,ut)|0,U=(U=U+Math.imul(we,kt)|0)+Math.imul(se,ut)|0,V=V+Math.imul(se,kt)|0;var Kt=(W+(F=F+Math.imul(ge,gt)|0)|0)+((8191&(U=(U=U+Math.imul(ge,At)|0)+Math.imul(Ae,gt)|0))<<13)|0;W=((V=V+Math.imul(Ae,At)|0)+(U>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,F=Math.imul(Ue,Ze),U=(U=Math.imul(Ue,Ne))+Math.imul(Ve,Ze)|0,V=Math.imul(Ve,Ne),F=F+Math.imul(Ce,rt)|0,U=(U=U+Math.imul(Ce,tt)|0)+Math.imul(De,rt)|0,V=V+Math.imul(De,tt)|0,F=F+Math.imul(fe,Fe)|0,U=(U=U+Math.imul(fe,et)|0)+Math.imul(xe,Fe)|0,V=V+Math.imul(xe,et)|0,F=F+Math.imul(Me,ct)|0,U=(U=U+Math.imul(Me,pt)|0)+Math.imul(Ee,ct)|0,V=V+Math.imul(Ee,pt)|0,F=F+Math.imul(he,ut)|0,U=(U=U+Math.imul(he,kt)|0)+Math.imul(Se,ut)|0,V=V+Math.imul(Se,kt)|0;var an=(W+(F=F+Math.imul(we,gt)|0)|0)+((8191&(U=(U=U+Math.imul(we,At)|0)+Math.imul(se,gt)|0))<<13)|0;W=((V=V+Math.imul(se,At)|0)+(U>>>13)|0)+(an>>>26)|0,an&=67108863,F=Math.imul(Ue,rt),U=(U=Math.imul(Ue,tt))+Math.imul(Ve,rt)|0,V=Math.imul(Ve,tt),F=F+Math.imul(Ce,Fe)|0,U=(U=U+Math.imul(Ce,et)|0)+Math.imul(De,Fe)|0,V=V+Math.imul(De,et)|0,F=F+Math.imul(fe,ct)|0,U=(U=U+Math.imul(fe,pt)|0)+Math.imul(xe,ct)|0,V=V+Math.imul(xe,pt)|0,F=F+Math.imul(Me,ut)|0,U=(U=U+Math.imul(Me,kt)|0)+Math.imul(Ee,ut)|0,V=V+Math.imul(Ee,kt)|0;var xn=(W+(F=F+Math.imul(he,gt)|0)|0)+((8191&(U=(U=U+Math.imul(he,At)|0)+Math.imul(Se,gt)|0))<<13)|0;W=((V=V+Math.imul(Se,At)|0)+(U>>>13)|0)+(xn>>>26)|0,xn&=67108863,F=Math.imul(Ue,Fe),U=(U=Math.imul(Ue,et))+Math.imul(Ve,Fe)|0,V=Math.imul(Ve,et),F=F+Math.imul(Ce,ct)|0,U=(U=U+Math.imul(Ce,pt)|0)+Math.imul(De,ct)|0,V=V+Math.imul(De,pt)|0,F=F+Math.imul(fe,ut)|0,U=(U=U+Math.imul(fe,kt)|0)+Math.imul(xe,ut)|0,V=V+Math.imul(xe,kt)|0;var _n=(W+(F=F+Math.imul(Me,gt)|0)|0)+((8191&(U=(U=U+Math.imul(Me,At)|0)+Math.imul(Ee,gt)|0))<<13)|0;W=((V=V+Math.imul(Ee,At)|0)+(U>>>13)|0)+(_n>>>26)|0,_n&=67108863,F=Math.imul(Ue,ct),U=(U=Math.imul(Ue,pt))+Math.imul(Ve,ct)|0,V=Math.imul(Ve,pt),F=F+Math.imul(Ce,ut)|0,U=(U=U+Math.imul(Ce,kt)|0)+Math.imul(De,ut)|0,V=V+Math.imul(De,kt)|0;var mn=(W+(F=F+Math.imul(fe,gt)|0)|0)+((8191&(U=(U=U+Math.imul(fe,At)|0)+Math.imul(xe,gt)|0))<<13)|0;W=((V=V+Math.imul(xe,At)|0)+(U>>>13)|0)+(mn>>>26)|0,mn&=67108863,F=Math.imul(Ue,ut),U=(U=Math.imul(Ue,kt))+Math.imul(Ve,ut)|0,V=Math.imul(Ve,kt);var An=(W+(F=F+Math.imul(Ce,gt)|0)|0)+((8191&(U=(U=U+Math.imul(Ce,At)|0)+Math.imul(De,gt)|0))<<13)|0;W=((V=V+Math.imul(De,At)|0)+(U>>>13)|0)+(An>>>26)|0,An&=67108863;var vn=(W+(F=Math.imul(Ue,gt))|0)+((8191&(U=(U=Math.imul(Ue,At))+Math.imul(Ve,gt)|0))<<13)|0;return W=((V=Math.imul(Ve,At))+(U>>>13)|0)+(vn>>>26)|0,vn&=67108863,X[0]=Lt,X[1]=It,X[2]=qt,X[3]=Qt,X[4]=Vt,X[5]=Ft,X[6]=en,X[7]=wn,X[8]=kn,X[9]=on,X[10]=Ht,X[11]=nn,X[12]=Kt,X[13]=an,X[14]=xn,X[15]=_n,X[16]=mn,X[17]=An,X[18]=vn,0!==W&&(X[19]=W,Y.length++),Y};function _(z,N,Y){return(new f).mulp(z,N,Y)}function f(z,N){this.x=z,this.y=N}Math.imul||(v=y),l.prototype.mulTo=function(z,N){var F=this.length+z.length;return 10===this.length&&10===z.length?v(this,z,N):F<63?y(this,z,N):F<1024?function(U,V,te){te.negative=V.negative^U.negative,te.length=U.length+V.length;for(var $=0,X=0,W=0;W<te.length-1;W++){var J=X;X=0;for(var Q=67108863&$,re=Math.min(W,V.length-1),ae=Math.max(0,W-U.length+1);ae<=re;ae++){var oe=W-ae,ue=(0|U.words[oe])*(0|V.words[ae]),ve=67108863&ue;Q=67108863&(ve=ve+Q|0),X+=(J=(J=J+(ue/67108864|0)|0)+(ve>>>26)|0)>>>26,J&=67108863}te.words[W]=Q,$=J,J=X}return 0!==$?te.words[W]=$:te.length--,te.strip()}(this,z,N):_(this,z,N)},f.prototype.makeRBT=function(z){for(var N=new Array(z),Y=l.prototype._countBits(z)-1,F=0;F<z;F++)N[F]=this.revBin(F,Y,z);return N},f.prototype.revBin=function(z,N,Y){if(0===z||z===Y-1)return z;for(var F=0,U=0;U<N;U++)F|=(1&z)<<N-U-1,z>>=1;return F},f.prototype.permute=function(z,N,Y,F,U,V){for(var te=0;te<V;te++)F[te]=N[z[te]],U[te]=Y[z[te]]},f.prototype.transform=function(z,N,Y,F,U,V){this.permute(V,z,N,Y,F,U);for(var te=1;te<U;te<<=1)for(var $=te<<1,X=Math.cos(2*Math.PI/$),W=Math.sin(2*Math.PI/$),J=0;J<U;J+=$)for(var Q=X,re=W,ae=0;ae<te;ae++){var oe=Y[J+ae],ue=F[J+ae],ve=Y[J+ae+te],be=F[J+ae+te],de=Q*ve-re*be;be=Q*be+re*ve,ve=de,Y[J+ae]=oe+ve,F[J+ae]=ue+be,Y[J+ae+te]=oe-ve,F[J+ae+te]=ue-be,ae!==$&&(de=X*Q-W*re,re=X*re+W*Q,Q=de)}},f.prototype.guessLen13b=function(z,N){var Y=1|Math.max(N,z),F=1&Y,U=0;for(Y=Y/2|0;Y;Y>>>=1)U++;return 1<<U+1+F},f.prototype.conjugate=function(z,N,Y){if(!(Y<=1))for(var F=0;F<Y/2;F++){var U=z[F];z[F]=z[Y-F-1],z[Y-F-1]=U,U=N[F],N[F]=-N[Y-F-1],N[Y-F-1]=-U}},f.prototype.normalize13b=function(z,N){for(var Y=0,F=0;F<N/2;F++){var U=8192*Math.round(z[2*F+1]/N)+Math.round(z[2*F]/N)+Y;z[F]=67108863&U,Y=U<67108864?0:U/67108864|0}return z},f.prototype.convert13b=function(z,N,Y,F){for(var U=0,V=0;V<N;V++)U+=0|z[V],Y[2*V]=8191&U,U>>>=13,Y[2*V+1]=8191&U,U>>>=13;for(V=2*N;V<F;++V)Y[V]=0;r(0===U),r(0==(-8192&U))},f.prototype.stub=function(z){for(var N=new Array(z),Y=0;Y<z;Y++)N[Y]=0;return N},f.prototype.mulp=function(z,N,Y){var F=2*this.guessLen13b(z.length,N.length),U=this.makeRBT(F),V=this.stub(F),te=new Array(F),$=new Array(F),X=new Array(F),W=new Array(F),J=new Array(F),Q=new Array(F),re=Y.words;re.length=F,this.convert13b(z.words,z.length,te,F),this.convert13b(N.words,N.length,W,F),this.transform(te,V,$,X,F,U),this.transform(W,V,J,Q,F,U);for(var ae=0;ae<F;ae++){var oe=$[ae]*J[ae]-X[ae]*Q[ae];X[ae]=$[ae]*Q[ae]+X[ae]*J[ae],$[ae]=oe}return this.conjugate($,X,F),this.transform($,X,re,V,F,U),this.conjugate(re,V,F),this.normalize13b(re,F),Y.negative=z.negative^N.negative,Y.length=z.length+N.length,Y.strip()},l.prototype.mul=function(z){var N=new l(null);return N.words=new Array(this.length+z.length),this.mulTo(z,N)},l.prototype.mulf=function(z){var N=new l(null);return N.words=new Array(this.length+z.length),_(this,z,N)},l.prototype.imul=function(z){return this.clone().mulTo(z,this)},l.prototype.imuln=function(z){r("number"==typeof z),r(z<67108864);for(var N=0,Y=0;Y<this.length;Y++){var F=(0|this.words[Y])*z,U=(67108863&F)+(67108863&N);N>>=26,N+=F/67108864|0,N+=U>>>26,this.words[Y]=67108863&U}return 0!==N&&(this.words[Y]=N,this.length++),this},l.prototype.muln=function(z){return this.clone().imuln(z)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(z){var N=function(V){for(var te=new Array(V.bitLength()),$=0;$<te.length;$++){var X=$/26|0,W=$%26;te[$]=(V.words[X]&1<<W)>>>W}return te}(z);if(0===N.length)return new l(1);for(var Y=this,F=0;F<N.length&&0===N[F];F++,Y=Y.sqr());if(++F<N.length)for(var U=Y.sqr();F<N.length;F++,U=U.sqr())0!==N[F]&&(Y=Y.mul(U));return Y},l.prototype.iushln=function(z){r("number"==typeof z&&z>=0);var N,Y=z%26,F=(z-Y)/26,U=67108863>>>26-Y<<26-Y;if(0!==Y){var V=0;for(N=0;N<this.length;N++){var te=this.words[N]&U,$=(0|this.words[N])-te<<Y;this.words[N]=$|V,V=te>>>26-Y}V&&(this.words[N]=V,this.length++)}if(0!==F){for(N=this.length-1;N>=0;N--)this.words[N+F]=this.words[N];for(N=0;N<F;N++)this.words[N]=0;this.length+=F}return this.strip()},l.prototype.ishln=function(z){return r(0===this.negative),this.iushln(z)},l.prototype.iushrn=function(z,N,Y){var F;r("number"==typeof z&&z>=0),F=N?(N-N%26)/26:0;var U=z%26,V=Math.min((z-U)/26,this.length),te=67108863^67108863>>>U<<U,$=Y;if(F-=V,F=Math.max(0,F),$){for(var X=0;X<V;X++)$.words[X]=this.words[X];$.length=V}if(0!==V)if(this.length>V)for(this.length-=V,X=0;X<this.length;X++)this.words[X]=this.words[X+V];else this.words[0]=0,this.length=1;var W=0;for(X=this.length-1;X>=0&&(0!==W||X>=F);X--){var J=0|this.words[X];this.words[X]=W<<26-U|J>>>U,W=J&te}return $&&0!==W&&($.words[$.length++]=W),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(z,N,Y){return r(0===this.negative),this.iushrn(z,N,Y)},l.prototype.shln=function(z){return this.clone().ishln(z)},l.prototype.ushln=function(z){return this.clone().iushln(z)},l.prototype.shrn=function(z){return this.clone().ishrn(z)},l.prototype.ushrn=function(z){return this.clone().iushrn(z)},l.prototype.testn=function(z){r("number"==typeof z&&z>=0);var N=z%26,Y=(z-N)/26,F=1<<N;return!(this.length<=Y||!(this.words[Y]&F))},l.prototype.imaskn=function(z){r("number"==typeof z&&z>=0);var N=z%26,Y=(z-N)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=Y)return this;if(0!==N&&Y++,this.length=Math.min(Y,this.length),0!==N){var F=67108863^67108863>>>N<<N;this.words[this.length-1]&=F}return this.strip()},l.prototype.maskn=function(z){return this.clone().imaskn(z)},l.prototype.iaddn=function(z){return r("number"==typeof z),r(z<67108864),z<0?this.isubn(-z):0!==this.negative?1===this.length&&(0|this.words[0])<z?(this.words[0]=z-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},l.prototype._iaddn=function(z){this.words[0]+=z;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},l.prototype.isubn=function(z){if(r("number"==typeof z),r(z<67108864),z<0)return this.iaddn(-z);if(0!==this.negative)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},l.prototype.addn=function(z){return this.clone().iaddn(z)},l.prototype.subn=function(z){return this.clone().isubn(z)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(z,N,Y){var F,U,V=z.length+Y;this._expand(V);var te=0;for(F=0;F<z.length;F++){U=(0|this.words[F+Y])+te;var $=(0|z.words[F])*N;te=((U-=67108863&$)>>26)-($/67108864|0),this.words[F+Y]=67108863&U}for(;F<this.length-Y;F++)te=(U=(0|this.words[F+Y])+te)>>26,this.words[F+Y]=67108863&U;if(0===te)return this.strip();for(r(-1===te),te=0,F=0;F<this.length;F++)te=(U=-(0|this.words[F])+te)>>26,this.words[F]=67108863&U;return this.negative=1,this.strip()},l.prototype._wordDiv=function(z,N){var Y=(this.length,z.length),F=this.clone(),U=z,V=0|U.words[U.length-1];0!=(Y=26-this._countBits(V))&&(U=U.ushln(Y),F.iushln(Y),V=0|U.words[U.length-1]);var te,$=F.length-U.length;if("mod"!==N){(te=new l(null)).length=$+1,te.words=new Array(te.length);for(var X=0;X<te.length;X++)te.words[X]=0}var W=F.clone()._ishlnsubmul(U,1,$);0===W.negative&&(F=W,te&&(te.words[$]=1));for(var J=$-1;J>=0;J--){var Q=67108864*(0|F.words[U.length+J])+(0|F.words[U.length+J-1]);for(Q=Math.min(Q/V|0,67108863),F._ishlnsubmul(U,Q,J);0!==F.negative;)Q--,F.negative=0,F._ishlnsubmul(U,1,J),F.isZero()||(F.negative^=1);te&&(te.words[J]=Q)}return te&&te.strip(),F.strip(),"div"!==N&&0!==Y&&F.iushrn(Y),{div:te||null,mod:F}},l.prototype.divmod=function(z,N,Y){return r(!z.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:0!==this.negative&&0===z.negative?(V=this.neg().divmod(z,N),"mod"!==N&&(F=V.div.neg()),"div"!==N&&(U=V.mod.neg(),Y&&0!==U.negative&&U.iadd(z)),{div:F,mod:U}):0===this.negative&&0!==z.negative?(V=this.divmod(z.neg(),N),"mod"!==N&&(F=V.div.neg()),{div:F,mod:V.mod}):this.negative&z.negative?(V=this.neg().divmod(z.neg(),N),"div"!==N&&(U=V.mod.neg(),Y&&0!==U.negative&&U.isub(z)),{div:V.div,mod:U}):z.length>this.length||this.cmp(z)<0?{div:new l(0),mod:this}:1===z.length?"div"===N?{div:this.divn(z.words[0]),mod:null}:"mod"===N?{div:null,mod:new l(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new l(this.modn(z.words[0]))}:this._wordDiv(z,N);var F,U,V},l.prototype.div=function(z){return this.divmod(z,"div",!1).div},l.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},l.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},l.prototype.divRound=function(z){var N=this.divmod(z);if(N.mod.isZero())return N.div;var Y=0!==N.div.negative?N.mod.isub(z):N.mod,F=z.ushrn(1),U=z.andln(1),V=Y.cmp(F);return V<0||1===U&&0===V?N.div:0!==N.div.negative?N.div.isubn(1):N.div.iaddn(1)},l.prototype.modn=function(z){r(z<=67108863);for(var N=67108864%z,Y=0,F=this.length-1;F>=0;F--)Y=(N*Y+(0|this.words[F]))%z;return Y},l.prototype.idivn=function(z){r(z<=67108863);for(var N=0,Y=this.length-1;Y>=0;Y--){var F=(0|this.words[Y])+67108864*N;this.words[Y]=F/z|0,N=F%z}return this.strip()},l.prototype.divn=function(z){return this.clone().idivn(z)},l.prototype.egcd=function(z){r(0===z.negative),r(!z.isZero());var N=this,Y=z.clone();N=0!==N.negative?N.umod(z):N.clone();for(var F=new l(1),U=new l(0),V=new l(0),te=new l(1),$=0;N.isEven()&&Y.isEven();)N.iushrn(1),Y.iushrn(1),++$;for(var X=Y.clone(),W=N.clone();!N.isZero();){for(var J=0,Q=1;!(N.words[0]&Q)&&J<26;++J,Q<<=1);if(J>0)for(N.iushrn(J);J-- >0;)(F.isOdd()||U.isOdd())&&(F.iadd(X),U.isub(W)),F.iushrn(1),U.iushrn(1);for(var re=0,ae=1;!(Y.words[0]&ae)&&re<26;++re,ae<<=1);if(re>0)for(Y.iushrn(re);re-- >0;)(V.isOdd()||te.isOdd())&&(V.iadd(X),te.isub(W)),V.iushrn(1),te.iushrn(1);N.cmp(Y)>=0?(N.isub(Y),F.isub(V),U.isub(te)):(Y.isub(N),V.isub(F),te.isub(U))}return{a:V,b:te,gcd:Y.iushln($)}},l.prototype._invmp=function(z){r(0===z.negative),r(!z.isZero());var N=this,Y=z.clone();N=0!==N.negative?N.umod(z):N.clone();for(var F,U=new l(1),V=new l(0),te=Y.clone();N.cmpn(1)>0&&Y.cmpn(1)>0;){for(var $=0,X=1;!(N.words[0]&X)&&$<26;++$,X<<=1);if($>0)for(N.iushrn($);$-- >0;)U.isOdd()&&U.iadd(te),U.iushrn(1);for(var W=0,J=1;!(Y.words[0]&J)&&W<26;++W,J<<=1);if(W>0)for(Y.iushrn(W);W-- >0;)V.isOdd()&&V.iadd(te),V.iushrn(1);N.cmp(Y)>=0?(N.isub(Y),U.isub(V)):(Y.isub(N),V.isub(U))}return(F=0===N.cmpn(1)?U:V).cmpn(0)<0&&F.iadd(z),F},l.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var N=this.clone(),Y=z.clone();N.negative=0,Y.negative=0;for(var F=0;N.isEven()&&Y.isEven();F++)N.iushrn(1),Y.iushrn(1);for(;;){for(;N.isEven();)N.iushrn(1);for(;Y.isEven();)Y.iushrn(1);var U=N.cmp(Y);if(U<0){var V=N;N=Y,Y=V}else if(0===U||0===Y.cmpn(1))break;N.isub(Y)}return Y.iushln(F)},l.prototype.invm=function(z){return this.egcd(z).a.umod(z)},l.prototype.isEven=function(){return 0==(1&this.words[0])},l.prototype.isOdd=function(){return 1==(1&this.words[0])},l.prototype.andln=function(z){return this.words[0]&z},l.prototype.bincn=function(z){r("number"==typeof z);var N=z%26,Y=(z-N)/26,F=1<<N;if(this.length<=Y)return this._expand(Y+1),this.words[Y]|=F,this;for(var U=F,V=Y;0!==U&&V<this.length;V++){var te=0|this.words[V];U=(te+=U)>>>26,te&=67108863,this.words[V]=te}return 0!==U&&(this.words[V]=U,this.length++),this},l.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},l.prototype.cmpn=function(z){var N,Y=z<0;if(0!==this.negative&&!Y)return-1;if(0===this.negative&&Y)return 1;if(this.strip(),this.length>1)N=1;else{Y&&(z=-z),r(z<=67108863,"Number is too big");var F=0|this.words[0];N=F===z?0:F<z?-1:1}return 0!==this.negative?0|-N:N},l.prototype.cmp=function(z){if(0!==this.negative&&0===z.negative)return-1;if(0===this.negative&&0!==z.negative)return 1;var N=this.ucmp(z);return 0!==this.negative?0|-N:N},l.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var N=0,Y=this.length-1;Y>=0;Y--){var F=0|this.words[Y],U=0|z.words[Y];if(F!==U){F<U?N=-1:F>U&&(N=1);break}}return N},l.prototype.gtn=function(z){return 1===this.cmpn(z)},l.prototype.gt=function(z){return 1===this.cmp(z)},l.prototype.gten=function(z){return this.cmpn(z)>=0},l.prototype.gte=function(z){return this.cmp(z)>=0},l.prototype.ltn=function(z){return-1===this.cmpn(z)},l.prototype.lt=function(z){return-1===this.cmp(z)},l.prototype.lten=function(z){return this.cmpn(z)<=0},l.prototype.lte=function(z){return this.cmp(z)<=0},l.prototype.eqn=function(z){return 0===this.cmpn(z)},l.prototype.eq=function(z){return 0===this.cmp(z)},l.red=function(z){return new R(z)},l.prototype.toRed=function(z){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),z.convertTo(this)._forceRed(z)},l.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(z){return this.red=z,this},l.prototype.forceRed=function(z){return r(!this.red,"Already a number in reduction context"),this._forceRed(z)},l.prototype.redAdd=function(z){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},l.prototype.redIAdd=function(z){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},l.prototype.redSub=function(z){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},l.prototype.redISub=function(z){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},l.prototype.redShl=function(z){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},l.prototype.redMul=function(z){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},l.prototype.redIMul=function(z){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},l.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(z){return r(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var S={k256:null,p224:null,p192:null,p25519:null};function w(z,N){this.name=z,this.p=new l(N,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function C(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(z){if("string"==typeof z){var N=l._prime(z);this.m=N.p,this.prime=N}else r(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function j(z){R.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var z=new l(null);return z.words=new Array(Math.ceil(this.n/13)),z},w.prototype.ireduce=function(z){var N,Y=z;do{this.split(Y,this.tmp),N=(Y=(Y=this.imulK(Y)).iadd(this.tmp)).bitLength()}while(N>this.n);var F=N<this.n?-1:Y.ucmp(this.p);return 0===F?(Y.words[0]=0,Y.length=1):F>0?Y.isub(this.p):void 0!==Y.strip?Y.strip():Y._strip(),Y},w.prototype.split=function(z,N){z.iushrn(this.n,0,N)},w.prototype.imulK=function(z){return z.imul(this.k)},o(E,w),E.prototype.split=function(z,N){for(var Y=4194303,F=Math.min(z.length,9),U=0;U<F;U++)N.words[U]=z.words[U];if(N.length=F,z.length<=9)return z.words[0]=0,void(z.length=1);var V=z.words[9];for(N.words[N.length++]=V&Y,U=10;U<z.length;U++){var te=0|z.words[U];z.words[U-10]=(te&Y)<<4|V>>>22,V=te}V>>>=22,z.words[U-10]=V,0===V&&z.length>10?z.length-=10:z.length-=9},E.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var N=0,Y=0;Y<z.length;Y++){var F=0|z.words[Y];N+=977*F,z.words[Y]=67108863&N,N=64*F+(N/67108864|0)}return 0===z.words[z.length-1]&&(z.length--,0===z.words[z.length-1]&&z.length--),z},o(C,w),o(O,w),o(P,w),P.prototype.imulK=function(z){for(var N=0,Y=0;Y<z.length;Y++){var F=19*(0|z.words[Y])+N,U=67108863&F;F>>>=26,z.words[Y]=U,N=F}return 0!==N&&(z.words[z.length++]=N),z},l._prime=function(z){if(S[z])return S[z];var N;if("k256"===z)N=new E;else if("p224"===z)N=new C;else if("p192"===z)N=new O;else{if("p25519"!==z)throw new Error("Unknown prime "+z);N=new P}return S[z]=N,N},R.prototype._verify1=function(z){r(0===z.negative,"red works only with positives"),r(z.red,"red works only with red numbers")},R.prototype._verify2=function(z,N){r(0==(z.negative|N.negative),"red works only with positives"),r(z.red&&z.red===N.red,"red works only with red numbers")},R.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},R.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},R.prototype.add=function(z,N){this._verify2(z,N);var Y=z.add(N);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y._forceRed(this)},R.prototype.iadd=function(z,N){this._verify2(z,N);var Y=z.iadd(N);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y},R.prototype.sub=function(z,N){this._verify2(z,N);var Y=z.sub(N);return Y.cmpn(0)<0&&Y.iadd(this.m),Y._forceRed(this)},R.prototype.isub=function(z,N){this._verify2(z,N);var Y=z.isub(N);return Y.cmpn(0)<0&&Y.iadd(this.m),Y},R.prototype.shl=function(z,N){return this._verify1(z),this.imod(z.ushln(N))},R.prototype.imul=function(z,N){return this._verify2(z,N),this.imod(z.imul(N))},R.prototype.mul=function(z,N){return this._verify2(z,N),this.imod(z.mul(N))},R.prototype.isqr=function(z){return this.imul(z,z.clone())},R.prototype.sqr=function(z){return this.mul(z,z)},R.prototype.sqrt=function(z){if(z.isZero())return z.clone();var N=this.m.andln(3);if(r(N%2==1),3===N){var Y=this.m.add(new l(1)).iushrn(2);return this.pow(z,Y)}for(var F=this.m.subn(1),U=0;!F.isZero()&&0===F.andln(1);)U++,F.iushrn(1);r(!F.isZero());var V=new l(1).toRed(this),te=V.redNeg(),$=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new l(2*X*X).toRed(this);0!==this.pow(X,$).cmp(te);)X.redIAdd(te);for(var W=this.pow(X,F),J=this.pow(z,F.addn(1).iushrn(1)),Q=this.pow(z,F),re=U;0!==Q.cmp(V);){for(var ae=Q,oe=0;0!==ae.cmp(V);oe++)ae=ae.redSqr();r(oe<re);var ue=this.pow(W,new l(1).iushln(re-oe-1));J=J.redMul(ue),W=ue.redSqr(),Q=Q.redMul(W),re=oe}return J},R.prototype.invm=function(z){var N=z._invmp(this.m);return 0!==N.negative?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},R.prototype.pow=function(z,N){if(N.isZero())return new l(1).toRed(this);if(0===N.cmpn(1))return z.clone();var Y=new Array(16);Y[0]=new l(1).toRed(this),Y[1]=z;for(var F=2;F<Y.length;F++)Y[F]=this.mul(Y[F-1],z);var U=Y[0],V=0,te=0,$=N.bitLength()%26;for(0===$&&($=26),F=N.length-1;F>=0;F--){for(var X=N.words[F],W=$-1;W>=0;W--){var J=X>>W&1;U!==Y[0]&&(U=this.sqr(U)),0!==J||0!==V?(V<<=1,V|=J,(4==++te||0===F&&0===W)&&(U=this.mul(U,Y[V]),te=0,V=0)):te=0}$=26}return U},R.prototype.convertTo=function(z){var N=z.umod(this.m);return N===z?N.clone():N},R.prototype.convertFrom=function(z){var N=z.clone();return N.red=null,N},l.mont=function(z){return new j(z)},o(j,R),j.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},j.prototype.convertFrom=function(z){var N=this.imod(z.mul(this.rinv));return N.red=null,N},j.prototype.imul=function(z,N){if(z.isZero()||N.isZero())return z.words[0]=0,z.length=1,z;var Y=z.imul(N),F=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=Y.isub(F).iushrn(this.shift),V=U;return U.cmp(this.m)>=0?V=U.isub(this.m):U.cmpn(0)<0&&(V=U.iadd(this.m)),V._forceRed(this)},j.prototype.mul=function(z,N){if(z.isZero()||N.isZero())return new l(0)._forceRed(this);var Y=z.mul(N),F=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=Y.isub(F).iushrn(this.shift),V=U;return U.cmp(this.m)>=0?V=U.isub(this.m):U.cmpn(0)<0&&(V=U.iadd(this.m)),V._forceRed(this)},j.prototype.invm=function(z){return this.imod(z._invmp(this.m).mul(this.r2))._forceRed(this)}}(p=t.nmd(p),this)},2692:function(p){"use strict";p.exports=function(s){var t,i,n,r=s.length,o=0;for(t=0;t<r;++t)o+=s[t].length;var l=new Array(o),u=0;for(t=0;t<r;++t){var d=s[t],c=d.length;for(i=0;i<c;++i){var x=l[u++]=new Array(c-1),g=0;for(n=0;n<c;++n)n!==i&&(x[g++]=d[n]);if(1&i){var h=x[1];x[1]=x[0],x[0]=h}}}return l}},2569:function(p,s,t){"use strict";p.exports=function(x,g,h){switch(arguments.length){case 1:return i=[],d(m=x,m,c,!0),i;case 2:return"function"==typeof g?d(x,x,g,!0):(i=[],d(x,g,c,!1),i);case 3:return d(x,g,h,!1);default:throw new Error("box-intersect: Invalid arguments")}var m};var i,n=t(5306),r=t(1390),o=t(2337);function l(x,g){for(var h=0;h<x;++h)if(!(g[h]<=g[h+x]))return!0;return!1}function u(x,g,h,m){for(var y=0,v=0,_=0,f=x.length;_<f;++_){var S=x[_];if(!l(g,S)){for(var w=0;w<2*g;++w)h[y++]=S[w];m[v++]=_}}return v}function d(x,g,h,m){var y=x.length,v=g.length;if(!(y<=0||v<=0)){var _=x[0].length>>>1;if(!(_<=0)){var f,S=n.mallocDouble(2*_*y),w=n.mallocInt32(y);if((y=u(x,_,S,w))>0){if(1===_&&m)r.init(y),f=r.sweepComplete(_,h,0,y,S,w,0,y,S,w);else{var E=n.mallocDouble(2*_*v),C=n.mallocInt32(v);(v=u(g,_,E,C))>0&&(r.init(y+v),f=1===_?r.sweepBipartite(_,h,0,y,S,w,0,v,E,C):o(_,h,m,y,S,w,v,E,C),n.free(E),n.free(C))}n.free(S),n.free(w)}return f}}}function c(x,g){i.push([x,g])}},7333:function(p,s){"use strict";function t(i){return i?function(n,r,o,l,u,d,c,x,g,h,m){return u-l>g-x?function(y,v,_,f,S,w,E,C,O,P,R){for(var j=2*y,z=f,N=j*f;z<S;++z,N+=j){var Y=w[v+N],F=w[v+N+y],U=E[z];e:for(var V=C,te=j*C;V<O;++V,te+=j){var $=P[v+te],X=P[v+te+y],W=R[V];if(!(X<Y||F<$)){for(var J=v+1;J<y;++J){var Q=w[J+N],re=w[J+y+N],ae=P[J+te],oe=P[J+y+te];if(re<ae||oe<Q)continue e}var ue=_(U,W);if(void 0!==ue)return ue}}}}(n,r,o,l,u,d,c,x,g,h,m):function(y,v,_,f,S,w,E,C,O,P,R){for(var j=2*y,z=C,N=j*C;z<O;++z,N+=j){var Y=P[v+N],F=P[v+N+y],U=R[z];e:for(var V=f,te=j*f;V<S;++V,te+=j){var $=w[v+te],X=w[v+te+y],W=E[V];if(!(F<$||X<Y)){for(var J=v+1;J<y;++J){var Q=w[J+te],re=w[J+y+te],ae=P[J+N],oe=P[J+y+N];if(re<ae||oe<Q)continue e}var ue=_(W,U);if(void 0!==ue)return ue}}}}(n,r,o,l,u,d,c,x,g,h,m)}:function(n,r,o,l,u,d,c,x,g,h,m,y){return d-u>h-g?l?function(v,_,f,S,w,E,C,O,P,R,j){for(var z=2*v,N=S,Y=z*S;N<w;++N,Y+=z){var F=E[_+Y],U=E[_+Y+v],V=C[N];e:for(var te=O,$=z*O;te<P;++te,$+=z){var X=R[_+$],W=j[te];if(!(X<=F||U<X)){for(var J=_+1;J<v;++J){var Q=E[J+Y],re=E[J+v+Y],ae=R[J+$],oe=R[J+v+$];if(re<ae||oe<Q)continue e}var ue=f(W,V);if(void 0!==ue)return ue}}}}(n,r,o,u,d,c,x,g,h,m,y):function(v,_,f,S,w,E,C,O,P,R,j){for(var z=2*v,N=S,Y=z*S;N<w;++N,Y+=z){var F=E[_+Y],U=E[_+Y+v],V=C[N];e:for(var te=O,$=z*O;te<P;++te,$+=z){var X=R[_+$],W=j[te];if(!(X<F||U<X)){for(var J=_+1;J<v;++J){var Q=E[J+Y],re=E[J+v+Y],ae=R[J+$],oe=R[J+v+$];if(re<ae||oe<Q)continue e}var ue=f(V,W);if(void 0!==ue)return ue}}}}(n,r,o,u,d,c,x,g,h,m,y):l?function(v,_,f,S,w,E,C,O,P,R,j){for(var z=2*v,N=O,Y=z*O;N<P;++N,Y+=z){var F=R[_+Y],U=j[N];e:for(var V=S,te=z*S;V<w;++V,te+=z){var $=E[_+te],X=E[_+te+v],W=C[V];if(!(F<=$||X<F)){for(var J=_+1;J<v;++J){var Q=E[J+te],re=E[J+v+te],ae=R[J+Y],oe=R[J+v+Y];if(re<ae||oe<Q)continue e}var ue=f(U,W);if(void 0!==ue)return ue}}}}(n,r,o,u,d,c,x,g,h,m,y):function(v,_,f,S,w,E,C,O,P,R,j){for(var z=2*v,N=O,Y=z*O;N<P;++N,Y+=z){var F=R[_+Y],U=j[N];e:for(var V=S,te=z*S;V<w;++V,te+=z){var $=E[_+te],X=E[_+te+v],W=C[V];if(!(F<$||X<F)){for(var J=_+1;J<v;++J){var Q=E[J+te],re=E[J+v+te],ae=R[J+Y],oe=R[J+v+Y];if(re<ae||oe<Q)continue e}var ue=f(W,U);if(void 0!==ue)return ue}}}}(n,r,o,u,d,c,x,g,h,m,y)}}s.partial=t(!1),s.full=t(!0)},2337:function(p,s,t){"use strict";p.exports=function(z,N,Y,F,U,V,te,$,X){!function(De,ze){var Ue=8*n.log2(ze+1)*(De+1)|0,Ve=n.nextPow2(w*Ue);C.length<Ve&&(i.free(C),C=i.mallocInt32(Ve));var Xe=n.nextPow2(E*Ue);O.length<Xe&&(i.free(O),O=i.mallocDouble(Xe))}(z,F+te);var W,J=0,Q=2*z;for(P(J++,0,0,F,0,te,Y?16:0,-1/0,1/0),Y||P(J++,0,0,te,0,F,1,-1/0,1/0);J>0;){var re=(J-=1)*w,ae=C[re],oe=C[re+1],ue=C[re+2],ve=C[re+3],be=C[re+4],de=C[re+5],pe=J*E,ge=O[pe],Ae=O[pe+1],ye=1&de,we=!!(16&de),se=U,ie=V,he=$,Se=X;if(ye&&(se=$,ie=X,he=U,Se=V),!(2&de&&oe>=(ue=v(z,ae,oe,ue,se,ie,Ae))||4&de&&(oe=_(z,ae,oe,ue,se,ie,ge))>=ue)){var _e=ue-oe,Me=be-ve;if(we){if(z*_e*(_e+Me)<h){if(void 0!==(W=u.scanComplete(z,ae,N,oe,ue,se,ie,ve,be,he,Se)))return W;continue}}else{if(z*Math.min(_e,Me)<x){if(void 0!==(W=o(z,ae,N,ye,oe,ue,se,ie,ve,be,he,Se)))return W;continue}if(z*_e*Me<g){if(void 0!==(W=u.scanBipartite(z,ae,N,ye,oe,ue,se,ie,ve,be,he,Se)))return W;continue}}var Ee=m(z,ae,oe,ue,se,ie,ge,Ae);if(oe<Ee)if(z*(Ee-oe)<x){if(void 0!==(W=l(z,ae+1,N,oe,Ee,se,ie,ve,be,he,Se)))return W}else if(ae===z-2){if(void 0!==(W=ye?u.sweepBipartite(z,N,ve,be,he,Se,oe,Ee,se,ie):u.sweepBipartite(z,N,oe,Ee,se,ie,ve,be,he,Se)))return W}else P(J++,ae+1,oe,Ee,ve,be,ye,-1/0,1/0),P(J++,ae+1,ve,be,oe,Ee,1^ye,-1/0,1/0);if(Ee<ue){var Ie=d(z,ae,ve,be,he,Se),fe=he[Q*Ie+ae],xe=y(z,ae,Ie,be,he,Se,fe);if(xe<be&&P(J++,ae,Ee,ue,xe,be,(4|ye)+(we?16:0),fe,Ae),ve<Ie&&P(J++,ae,Ee,ue,ve,Ie,(2|ye)+(we?16:0),ge,fe),Ie+1===xe){if(void 0!==(W=we?j(z,ae,N,Ee,ue,se,ie,Ie,he,Se[Ie]):R(z,ae,N,ye,Ee,ue,se,ie,Ie,he,Se[Ie])))return W}else if(Ie<xe){var Te;if(we){if(Ee<(Te=f(z,ae,Ee,ue,se,ie,fe))){var Ce=y(z,ae,Ee,Te,se,ie,fe);if(ae===z-2){if(Ee<Ce&&void 0!==(W=u.sweepComplete(z,N,Ee,Ce,se,ie,Ie,xe,he,Se))||Ce<Te&&void 0!==(W=u.sweepBipartite(z,N,Ce,Te,se,ie,Ie,xe,he,Se)))return W}else Ee<Ce&&P(J++,ae+1,Ee,Ce,Ie,xe,16,-1/0,1/0),Ce<Te&&(P(J++,ae+1,Ce,Te,Ie,xe,0,-1/0,1/0),P(J++,ae+1,Ie,xe,Ce,Te,1,-1/0,1/0))}}else Ee<(Te=ye?S(z,ae,Ee,ue,se,ie,fe):f(z,ae,Ee,ue,se,ie,fe))&&(ae===z-2?W=ye?u.sweepBipartite(z,N,Ie,xe,he,Se,Ee,Te,se,ie):u.sweepBipartite(z,N,Ee,Te,se,ie,Ie,xe,he,Se):(P(J++,ae+1,Ee,Te,Ie,xe,ye,-1/0,1/0),P(J++,ae+1,Ie,xe,Ee,Te,1^ye,-1/0,1/0)))}}}}};var i=t(5306),n=t(2288),r=t(7333),o=r.partial,l=r.full,u=t(1390),d=t(2464),c=t(122),x=128,g=1<<22,h=1<<22,m=c("!(lo>=p0)&&!(p1>=hi)"),y=c("lo===p0"),v=c("lo<p0"),_=c("hi<=p0"),f=c("lo<=p0&&p0<=hi"),S=c("lo<p0&&p0<=hi"),w=6,E=2,C=i.mallocInt32(1024),O=i.mallocDouble(1024);function P(z,N,Y,F,U,V,te,$,X){var W=w*z;C[W]=N,C[W+1]=Y,C[W+2]=F,C[W+3]=U,C[W+4]=V,C[W+5]=te;var J=E*z;O[J]=$,O[J+1]=X}function R(z,N,Y,F,U,V,te,$,X,W,J){var Q=2*z,re=X*Q,ae=W[re+N];e:for(var oe=U,ue=U*Q;oe<V;++oe,ue+=Q){var ve=te[ue+N],be=te[ue+N+z];if(!(ae<ve||be<ae||F&&ae===ve)){for(var de,pe=$[oe],ge=N+1;ge<z;++ge){ve=te[ue+ge],be=te[ue+ge+z];var Ae=W[re+ge],ye=W[re+ge+z];if(be<Ae||ye<ve)continue e}if(void 0!==(de=F?Y(J,pe):Y(pe,J)))return de}}}function j(z,N,Y,F,U,V,te,$,X,W){var J=2*z,Q=$*J,re=X[Q+N];e:for(var ae=F,oe=F*J;ae<U;++ae,oe+=J){var ue=te[ae];if(ue!==W){var ve=V[oe+N],be=V[oe+N+z];if(!(re<ve||be<re)){for(var de=N+1;de<z;++de){ve=V[oe+de],be=V[oe+de+z];var pe=X[Q+de],ge=X[Q+de+z];if(be<pe||ge<ve)continue e}var Ae=Y(ue,W);if(void 0!==Ae)return Ae}}}}},2464:function(p,s,t){"use strict";p.exports=function(o,l,u,d,c,x){if(d<=u+1)return u;for(var g=u,h=d,m=d+u>>>1,y=2*o,v=m,_=c[y*m+l];g<h;){if(h-g<n){r(o,l,g,h,c,x),_=c[y*m+l];break}var f=h-g,S=Math.random()*f+g|0,w=c[y*S+l],E=Math.random()*f+g|0,C=c[y*E+l],O=Math.random()*f+g|0,P=c[y*O+l];w<=C?P>=C?(v=E,_=C):w>=P?(v=S,_=w):(v=O,_=P):C>=P?(v=E,_=C):P>=w?(v=S,_=w):(v=O,_=P);for(var R=y*(h-1),j=y*v,z=0;z<y;++z,++R,++j){var N=c[R];c[R]=c[j],c[j]=N}var Y=x[h-1];for(x[h-1]=x[v],x[v]=Y,R=y*(h-1),j=y*(v=i(o,l,g,h-1,c,x,_)),z=0;z<y;++z,++R,++j)N=c[R],c[R]=c[j],c[j]=N;if(Y=x[h-1],x[h-1]=x[v],x[v]=Y,m<v){for(h=v-1;g<h&&c[y*(h-1)+l]===_;)h-=1;h+=1}else{if(!(v<m))break;for(g=v+1;g<h&&c[y*g+l]===_;)g+=1}}return i(o,l,u,m,c,x,c[y*m+l])};var i=t(122)("lo<p0"),n=8;function r(o,l,u,d,c,x){for(var g=2*o,h=g*(u+1)+l,m=u+1;m<d;++m,h+=g)for(var y=c[h],v=m,_=g*(m-1);v>u&&c[_+l]>y;--v,_-=g){for(var f=_,S=_+g,w=0;w<g;++w,++f,++S){var E=c[f];c[f]=c[S],c[S]=E}var C=x[v];x[v]=x[v-1],x[v-1]=C}}},122:function(p){"use strict";p.exports=function(t){return s[t]};var s={"lo===p0":function(t,i,n,r,o,l,u){for(var d=2*t,c=d*n,x=c,g=n,h=i,m=n;r>m;++m,c+=d)if(o[c+h]===u)if(g===m)g+=1,x+=d;else{for(var y=0;d>y;++y){var v=o[c+y];o[c+y]=o[x],o[x++]=v}var _=l[m];l[m]=l[g],l[g++]=_}return g},"lo<p0":function(t,i,n,r,o,l,u){for(var d=2*t,c=d*n,x=c,g=n,h=i,m=n;r>m;++m,c+=d)if(o[c+h]<u)if(g===m)g+=1,x+=d;else{for(var y=0;d>y;++y){var v=o[c+y];o[c+y]=o[x],o[x++]=v}var _=l[m];l[m]=l[g],l[g++]=_}return g},"lo<=p0":function(t,i,n,r,o,l,u){for(var d=2*t,c=d*n,x=c,g=n,h=t+i,m=n;r>m;++m,c+=d)if(o[c+h]<=u)if(g===m)g+=1,x+=d;else{for(var y=0;d>y;++y){var v=o[c+y];o[c+y]=o[x],o[x++]=v}var _=l[m];l[m]=l[g],l[g++]=_}return g},"hi<=p0":function(t,i,n,r,o,l,u){for(var d=2*t,c=d*n,x=c,g=n,h=t+i,m=n;r>m;++m,c+=d)if(o[c+h]<=u)if(g===m)g+=1,x+=d;else{for(var y=0;d>y;++y){var v=o[c+y];o[c+y]=o[x],o[x++]=v}var _=l[m];l[m]=l[g],l[g++]=_}return g},"lo<p0&&p0<=hi":function(t,i,n,r,o,l,u){for(var d=2*t,c=d*n,x=c,g=n,h=i,m=t+i,y=n;r>y;++y,c+=d){var v=o[c+h],_=o[c+m];if(v<u&&u<=_)if(g===y)g+=1,x+=d;else{for(var f=0;d>f;++f){var S=o[c+f];o[c+f]=o[x],o[x++]=S}var w=l[y];l[y]=l[g],l[g++]=w}}return g},"lo<=p0&&p0<=hi":function(t,i,n,r,o,l,u){for(var d=2*t,c=d*n,x=c,g=n,h=i,m=t+i,y=n;r>y;++y,c+=d){var v=o[c+h],_=o[c+m];if(v<=u&&u<=_)if(g===y)g+=1,x+=d;else{for(var f=0;d>f;++f){var S=o[c+f];o[c+f]=o[x],o[x++]=S}var w=l[y];l[y]=l[g],l[g++]=w}}return g},"!(lo>=p0)&&!(p1>=hi)":function(t,i,n,r,o,l,u,d){for(var c=2*t,x=c*n,g=x,h=n,m=i,y=t+i,v=n;r>v;++v,x+=c){var _=o[x+m],f=o[x+y];if(!(_>=u||d>=f))if(h===v)h+=1,g+=c;else{for(var S=0;c>S;++S){var w=o[x+S];o[x+S]=o[g],o[g++]=w}var E=l[v];l[v]=l[h],l[h++]=E}}return h}}},309:function(p){"use strict";p.exports=function(c,x){x<=4*s?t(0,x-1,c):d(0,x-1,c)};var s=32;function t(c,x,g){for(var h=2*(c+1),m=c+1;m<=x;++m){for(var y=g[h++],v=g[h++],_=m,f=h-2;_-- >c;){var S=g[f-2],w=g[f-1];if(S<y||S===y&&w<v)break;g[f]=S,g[f+1]=w,f-=2}g[f]=y,g[f+1]=v}}function i(c,x,g){x*=2;var h=g[c*=2],m=g[c+1];g[c]=g[x],g[c+1]=g[x+1],g[x]=h,g[x+1]=m}function n(c,x,g){x*=2,g[c*=2]=g[x],g[c+1]=g[x+1]}function r(c,x,g,h){x*=2,g*=2;var m=h[c*=2],y=h[c+1];h[c]=h[x],h[c+1]=h[x+1],h[x]=h[g],h[x+1]=h[g+1],h[g]=m,h[g+1]=y}function o(c,x,g,h,m){x*=2,m[c*=2]=m[x],m[x]=g,m[c+1]=m[x+1],m[x+1]=h}function l(c,x,g){x*=2;var h=g[c*=2],m=g[x];return!(h<m)&&(h!==m||g[c+1]>g[x+1])}function u(c,x,g,h){var m=h[c*=2];return m<x||m===x&&h[c+1]<g}function d(c,x,g){var h=(x-c+1)/6|0,m=c+h,y=x-h,v=c+x>>1,_=v-h,f=v+h,S=m,w=_,E=v,C=f,O=y,P=c+1,R=x-1,j=0;l(S,w,g)&&(j=S,S=w,w=j),l(C,O,g)&&(j=C,C=O,O=j),l(S,E,g)&&(j=S,S=E,E=j),l(w,E,g)&&(j=w,w=E,E=j),l(S,C,g)&&(j=S,S=C,C=j),l(E,C,g)&&(j=E,E=C,C=j),l(w,O,g)&&(j=w,w=O,O=j),l(w,E,g)&&(j=w,w=E,E=j),l(C,O,g)&&(j=C,C=O,O=j);for(var z=g[2*w],N=g[2*w+1],Y=g[2*C],F=g[2*C+1],U=2*S,V=2*E,te=2*O,$=2*m,X=2*v,W=2*y,J=0;J<2;++J){var Q=g[U+J],re=g[V+J],ae=g[te+J];g[$+J]=Q,g[X+J]=re,g[W+J]=ae}n(_,c,g),n(f,x,g);for(var oe=P;oe<=R;++oe)if(u(oe,z,N,g))oe!==P&&i(oe,P,g),++P;else if(!u(oe,Y,F,g))for(;;){if(u(R,Y,F,g)){u(R,z,N,g)?(r(oe,P,R,g),++P,--R):(i(oe,R,g),--R);break}if(--R<oe)break}o(c,P-1,z,N,g),o(x,R+1,Y,F,g),P-2-c<=s?t(c,P-2,g):d(c,P-2,g),x-(R+2)<=s?t(R+2,x,g):d(R+2,x,g),R-P<=s?t(P,R,g):d(P,R,g)}},1390:function(p,s,t){"use strict";p.exports={init:function(_){var f=n.nextPow2(_);u.length<f&&(i.free(u),u=i.mallocInt32(f)),d.length<f&&(i.free(d),d=i.mallocInt32(f)),c.length<f&&(i.free(c),c=i.mallocInt32(f)),x.length<f&&(i.free(x),x=i.mallocInt32(f)),g.length<f&&(i.free(g),g=i.mallocInt32(f)),h.length<f&&(i.free(h),h=i.mallocInt32(f));var S=8*f;m.length<S&&(i.free(m),m=i.mallocDouble(S))},sweepBipartite:function(_,f,S,w,E,C,O,P,R,j){for(var z=0,N=2*_,Y=_-1,F=N-1,U=S;U<w;++U){var V=C[U],te=N*U;m[z++]=E[te+Y],m[z++]=-(V+1),m[z++]=E[te+F],m[z++]=V}for(U=O;U<P;++U){V=j[U]+o;var $=N*U;m[z++]=R[$+Y],m[z++]=-V,m[z++]=R[$+F],m[z++]=V}var X=z>>>1;r(m,X);var W=0,J=0;for(U=0;U<X;++U){var Q=0|m[2*U+1];if(Q>=o)y(c,x,J--,Q=Q-o|0);else if(Q>=0)y(u,d,W--,Q);else if(Q<=-o){Q=-Q-o|0;for(var re=0;re<W;++re)if(void 0!==(ae=f(u[re],Q)))return ae;v(c,x,J++,Q)}else{for(Q=-Q-1|0,re=0;re<J;++re){var ae;if(void 0!==(ae=f(Q,c[re])))return ae}v(u,d,W++,Q)}}},sweepComplete:function(_,f,S,w,E,C,O,P,R,j){for(var z=0,N=2*_,Y=_-1,F=N-1,U=S;U<w;++U){var V=C[U]+1<<1,te=N*U;m[z++]=E[te+Y],m[z++]=-V,m[z++]=E[te+F],m[z++]=V}for(U=O;U<P;++U){V=j[U]+1<<1;var $=N*U;m[z++]=R[$+Y],m[z++]=1|-V,m[z++]=R[$+F],m[z++]=1|V}var X=z>>>1;r(m,X);var W=0,J=0,Q=0;for(U=0;U<X;++U){var re=0|m[2*U+1],ae=1&re;if(U<X-1&&re>>1==m[2*U+3]>>1&&(ae=2,U+=1),re<0){for(var oe=-(re>>1)-1,ue=0;ue<Q;++ue)if(void 0!==(ve=f(g[ue],oe)))return ve;if(0!==ae)for(ue=0;ue<W;++ue)if(void 0!==(ve=f(u[ue],oe)))return ve;if(1!==ae)for(ue=0;ue<J;++ue){var ve;if(void 0!==(ve=f(c[ue],oe)))return ve}0===ae?v(u,d,W++,oe):1===ae?v(c,x,J++,oe):2===ae&&v(g,h,Q++,oe)}else oe=(re>>1)-1,0===ae?y(u,d,W--,oe):1===ae?y(c,x,J--,oe):2===ae&&y(g,h,Q--,oe)}},scanBipartite:function(_,f,S,w,E,C,O,P,R,j,z,N){var Y=0,F=2*_,U=f,V=f+_,te=1,$=1;w?$=o:te=o;for(var X=E;X<C;++X){var W=X+te,J=F*X;m[Y++]=O[J+U],m[Y++]=-W,m[Y++]=O[J+V],m[Y++]=W}for(X=R;X<j;++X){W=X+$;var Q=F*X;m[Y++]=z[Q+U],m[Y++]=-W}var re=Y>>>1;r(m,re);var ae=0;for(X=0;X<re;++X){var oe=0|m[2*X+1];if(oe<0){var ue=!1;if((W=-oe)>=o?(ue=!w,W-=o):(ue=!!w,W-=1),ue)v(u,d,ae++,W);else{var ve=N[W],be=F*W,de=z[be+f+1],pe=z[be+f+1+_];e:for(var ge=0;ge<ae;++ge){var Ae=u[ge],ye=F*Ae;if(!(pe<O[ye+f+1]||O[ye+f+1+_]<de)){for(var we=f+2;we<_;++we)if(z[be+we+_]<O[ye+we]||O[ye+we+_]<z[be+we])continue e;var se,ie=P[Ae];if(void 0!==(se=w?S(ve,ie):S(ie,ve)))return se}}}}else y(u,d,ae--,oe-te)}},scanComplete:function(_,f,S,w,E,C,O,P,R,j,z){for(var N=0,Y=2*_,F=f,U=f+_,V=w;V<E;++V){var te=V+o,$=Y*V;m[N++]=C[$+F],m[N++]=-te,m[N++]=C[$+U],m[N++]=te}for(V=P;V<R;++V){te=V+1;var X=Y*V;m[N++]=j[X+F],m[N++]=-te}var W=N>>>1;r(m,W);var J=0;for(V=0;V<W;++V){var Q=0|m[2*V+1];if(Q<0)if((te=-Q)>=o)u[J++]=te-o;else{var re=z[te-=1],ae=Y*te,oe=j[ae+f+1],ue=j[ae+f+1+_];e:for(var ve=0;ve<J;++ve){var be=u[ve],de=O[be];if(de===re)break;var pe=Y*be;if(!(ue<C[pe+f+1]||C[pe+f+1+_]<oe)){for(var ge=f+2;ge<_;++ge)if(j[ae+ge+_]<C[pe+ge]||C[pe+ge+_]<j[ae+ge])continue e;var Ae=S(de,re);if(void 0!==Ae)return Ae}}}else{for(te=Q-o,ve=J-1;ve>=0;--ve)if(u[ve]===te){for(ge=ve+1;ge<J;++ge)u[ge-1]=u[ge];break}--J}}}};var i=t(5306),n=t(2288),r=t(309),o=1<<28,l=1024,u=i.mallocInt32(l),d=i.mallocInt32(l),c=i.mallocInt32(l),x=i.mallocInt32(l),g=i.mallocInt32(l),h=i.mallocInt32(l),m=i.mallocDouble(8192);function y(_,f,S,w){var E=f[w],C=_[S-1];_[E]=C,f[C]=E}function v(_,f,S,w){_[S]=w,f[w]=S}},7761:function(p,s,t){"use strict";var i=t(9971),n=t(743),r=t(2161),o=t(7098);function l(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function u(c,x){return c[0]-x[0]||c[1]-x[1]}function d(c,x,g){return x in c?c[x]:g}p.exports=function(c,x,g){Array.isArray(x)?(g=g||{},x=x||[]):(g=x||{},x=[]);var h=!!d(g,"delaunay",!0),m=!!d(g,"interior",!0),y=!!d(g,"exterior",!0),v=!!d(g,"infinity",!1);if(!m&&!y||0===c.length)return[];var _=i(c,x);if(h||m!==y||v){for(var f=n(c.length,x.map(l).sort(u)),S=0;S<_.length;++S){var w=_[S];f.addTriangle(w[0],w[1],w[2])}return h&&r(c,f),y?m?v?o(f,0,v):f.cells():o(f,1,v):o(f,-1)}return _}},2161:function(p,s,t){"use strict";var i=t(2227)[4];function n(r,o,l,u,d,c){var x=o.opposite(u,d);if(!(x<0)){if(d<u){var g=u;u=d,d=g,g=c,c=x,x=g}o.isConstraint(u,d)||i(r[u],r[d],r[c],r[x])<0&&l.push(u,d)}}t(5070),p.exports=function(r,o){for(var l=[],u=r.length,d=o.stars,c=0;c<u;++c)for(var x=d[c],g=1;g<x.length;g+=2)if(!((v=x[g])<c||o.isConstraint(c,v))){for(var h=x[g-1],m=-1,y=1;y<x.length;y+=2)if(x[y-1]===v){m=x[y];break}m<0||i(r[c],r[v],r[h],r[m])<0&&l.push(c,v)}for(;l.length>0;){for(var v=l.pop(),_=(h=-1,m=-1,x=d[c=l.pop()],1);_<x.length;_+=2){var f=x[_-1],S=x[_];f===v?m=S:S===v&&(h=f)}h<0||m<0||i(r[c],r[v],r[h],r[m])>=0||(o.flip(c,v),n(r,o,l,h,c,m),n(r,o,l,c,m,h),n(r,o,l,m,v,h),n(r,o,l,v,h,m))}}},7098:function(p,s,t){"use strict";var i,n=t(5070);function r(l,u,d,c,x,g,h){this.cells=l,this.neighbor=u,this.flags=c,this.constraint=d,this.active=x,this.next=g,this.boundary=h}function o(l,u){return l[0]-u[0]||l[1]-u[1]||l[2]-u[2]}p.exports=function(l,u,d){var c=function(O,P){for(var R=O.cells(),j=R.length,z=0;z<j;++z){var N=(Q=R[z])[0],Y=Q[1],F=Q[2];Y<F?Y<N&&(Q[0]=Y,Q[1]=F,Q[2]=N):F<N&&(Q[0]=F,Q[1]=N,Q[2]=Y)}R.sort(o);var U=new Array(j);for(z=0;z<U.length;++z)U[z]=0;var V=[],te=[],$=new Array(3*j),X=new Array(3*j),W=null;P&&(W=[]);var J=new r(R,$,X,U,V,te,W);for(z=0;z<j;++z)for(var Q=R[z],re=0;re<3;++re){N=Q[re],Y=Q[(re+1)%3];var ae=$[3*z+re]=J.locate(Y,N,O.opposite(Y,N)),oe=X[3*z+re]=O.isConstraint(N,Y);ae<0&&(oe?te.push(z):(V.push(z),U[z]=1),P&&W.push([Y,N,-1]))}return J}(l,d);if(0===u)return d?c.cells.concat(c.boundary):c.cells;for(var x=1,g=c.active,h=c.next,m=c.flags,y=c.cells,v=c.constraint,_=c.neighbor;g.length>0||h.length>0;){for(;g.length>0;){var f=g.pop();if(m[f]!==-x){m[f]=x,y[f];for(var S=0;S<3;++S){var w=_[3*f+S];w>=0&&0===m[w]&&(v[3*f+S]?h.push(w):(g.push(w),m[w]=x))}}}var E=h;h=g,g=E,h.length=0,x=-x}var C=function(O,P,R){for(var j=0,z=0;z<O.length;++z)P[z]===R&&(O[j++]=O[z]);return O.length=j,O}(y,m,u);return d?C.concat(c.boundary):C},r.prototype.locate=(i=[0,0,0],function(l,u,d){var c=l,x=u,g=d;return u<d?u<l&&(c=u,x=d,g=l):d<l&&(c=d,x=l,g=u),c<0?-1:(i[0]=c,i[1]=x,i[2]=g,n.eq(this.cells,i,o))})},9971:function(p,s,t){"use strict";var i=t(5070),n=t(417)[3];function r(h,m,y,v,_){this.a=h,this.b=m,this.idx=y,this.lowerIds=v,this.upperIds=_}function o(h,m,y,v){this.a=h,this.b=m,this.type=y,this.idx=v}function l(h,m){var y=h.a[0]-m.a[0]||h.a[1]-m.a[1]||h.type-m.type;return y||(0!==h.type&&(y=n(h.a,h.b,m.b))?y:h.idx-m.idx)}function u(h,m){return n(h.a,h.b,m)}function d(h,m,y,v,_){for(var f=i.lt(m,v,u),S=i.gt(m,v,u),w=f;w<S;++w){for(var E=m[w],C=E.lowerIds,O=C.length;O>1&&n(y[C[O-2]],y[C[O-1]],v)>0;)h.push([C[O-1],C[O-2],_]),O-=1;C.length=O,C.push(_);var P=E.upperIds;for(O=P.length;O>1&&n(y[P[O-2]],y[P[O-1]],v)<0;)h.push([P[O-2],P[O-1],_]),O-=1;P.length=O,P.push(_)}}function c(h,m){var y;return(y=h.a[0]<m.a[0]?n(h.a,h.b,m.a):n(m.b,m.a,h.a))?y:(y=m.b[0]<h.b[0]?n(h.a,h.b,m.b):n(m.b,m.a,h.b))||h.idx-m.idx}function x(h,m,y){var v=i.le(h,y,c),_=h[v],f=_.upperIds,S=f[f.length-1];_.upperIds=[S],h.splice(v+1,0,new r(y.a,y.b,y.idx,[S],f))}function g(h,m,y){var v=y.a;y.a=y.b,y.b=v;var _=i.eq(h,y,c),f=h[_];h[_-1].upperIds=f.upperIds,h.splice(_,1)}p.exports=function(h,m){for(var y=h.length,v=m.length,_=[],f=0;f<y;++f)_.push(new o(h[f],null,0,f));for(f=0;f<v;++f){var S=m[f],w=h[S[0]],E=h[S[1]];w[0]<E[0]?_.push(new o(w,E,2,f),new o(E,w,1,f)):w[0]>E[0]&&_.push(new o(E,w,2,f),new o(w,E,1,f))}_.sort(l);for(var C=_[0].a[0]-(1+Math.abs(_[0].a[0]))*Math.pow(2,-52),O=[new r([C,1],[C,0],-1,[],[],[],[])],P=[],R=(f=0,_.length);f<R;++f){var j=_[f],z=j.type;0===z?d(P,O,h,j.a,j.idx):2===z?x(O,0,j):g(O,0,j)}return P}},743:function(p,s,t){"use strict";var i=t(5070);function n(l,u){this.stars=l,this.edges=u}p.exports=function(l,u){for(var d=new Array(l),c=0;c<l;++c)d[c]=[];return new n(d,u)};var r=n.prototype;function o(l,u,d){for(var c=1,x=l.length;c<x;c+=2)if(l[c-1]===u&&l[c]===d)return l[c-1]=l[x-2],l[c]=l[x-1],void(l.length=x-2)}r.isConstraint=function(){var l=[0,0];function u(d,c){return d[0]-c[0]||d[1]-c[1]}return function(d,c){return l[0]=Math.min(d,c),l[1]=Math.max(d,c),i.eq(this.edges,l,u)>=0}}(),r.removeTriangle=function(l,u,d){var c=this.stars;o(c[l],u,d),o(c[u],d,l),o(c[d],l,u)},r.addTriangle=function(l,u,d){var c=this.stars;c[l].push(u,d),c[u].push(d,l),c[d].push(l,u)},r.opposite=function(l,u){for(var d=this.stars[u],c=1,x=d.length;c<x;c+=2)if(d[c]===l)return d[c-1];return-1},r.flip=function(l,u){var d=this.opposite(l,u),c=this.opposite(u,l);this.removeTriangle(l,u,d),this.removeTriangle(u,l,c),this.addTriangle(l,c,d),this.addTriangle(u,d,c)},r.edges=function(){for(var l=this.stars,u=[],d=0,c=l.length;d<c;++d)for(var x=l[d],g=0,h=x.length;g<h;g+=2)u.push([x[g],x[g+1]]);return u},r.cells=function(){for(var l=this.stars,u=[],d=0,c=l.length;d<c;++d)for(var x=l[d],g=0,h=x.length;g<h;g+=2){var m=x[g],y=x[g+1];d<Math.min(m,y)&&u.push([d,m,y])}return u}},9887:function(p){"use strict";p.exports=function(s){for(var t=1,i=1;i<s.length;++i)for(var n=0;n<i;++n)if(s[i]<s[n])t=-t;else if(s[n]===s[i])return 0;return t}},9243:function(p,s,t){"use strict";var i=t(3094),n=t(6606);function r(u,d){for(var c=0,x=u.length,g=0;g<x;++g)c+=u[g]*d[g];return c}function o(u){var d=u.length;if(0===d)return[];u[0].length;var c=i([u.length+1,u.length+1],1),x=i([u.length+1],1);c[d][d]=0;for(var g=0;g<d;++g){for(var h=0;h<=g;++h)c[h][g]=c[g][h]=2*r(u[g],u[h]);x[g]=r(u[g],u[g])}var m=n(c,x),y=0,v=m[d+1];for(g=0;g<v.length;++g)y+=v[g];var _=new Array(d);for(g=0;g<d;++g){v=m[g];var f=0;for(h=0;h<v.length;++h)f+=v[h];_[g]=f/y}return _}function l(u){if(0===u.length)return[];for(var d=u[0].length,c=i([d]),x=o(u),g=0;g<u.length;++g)for(var h=0;h<d;++h)c[h]+=u[g][h]*x[g];return c}l.barycenetric=o,p.exports=l},1778:function(p,s,t){p.exports=function(n){for(var r=i(n),o=0,l=0;l<n.length;++l)for(var u=n[l],d=0;d<r.length;++d)o+=Math.pow(u[d]-r[d],2);return Math.sqrt(o/n.length)};var i=t(9243)},197:function(p,s,t){"use strict";p.exports=function(S,w,E){var C,z,N,Y,F;if(E){C=w;for(var O=new Array(w.length),P=0;P<w.length;++P){var R=w[P];O[P]=[R[0],R[1],E[P]]}w=O}for(var j=(N=w,Y=!!E,F=void 0,F=m(z=S,[],h(z)),_(N,F,Y),!!F);f(S,w,!!E);)j=!0;if(E&&j)for(C.length=0,E.length=0,P=0;P<w.length;++P)R=w[P],C.push([R[0],R[1]]),E.push(R[2]);return j};var i=t(1731),n=t(2569),r=t(4434),o=t(5125),l=t(8846),u=t(7999),d=t(2826),c=t(8551),x=t(5528);function g(S){var w=u(S);return[c(w,-1/0),c(w,1/0)]}function h(S){for(var w=new Array(S.length),E=0;E<S.length;++E){var C=S[E];w[E]=[c(C[0],-1/0),c(C[1],-1/0),c(C[0],1/0),c(C[1],1/0)]}return w}function m(S,w,E){for(var C=w.length,O=new i(C),P=[],R=0;R<w.length;++R){var j=w[R],z=g(j[0]),N=g(j[1]);P.push([c(z[0],-1/0),c(N[0],-1/0),c(z[1],1/0),c(N[1],1/0)])}n(P,function(te,$){O.link(te,$)});var Y=!0,F=new Array(C);for(R=0;R<C;++R)(V=O.find(R))!==R&&(Y=!1,S[V]=[Math.min(S[R][0],S[V][0]),Math.min(S[R][1],S[V][1])]);if(Y)return null;var U=0;for(R=0;R<C;++R){var V;(V=O.find(R))===R?(F[R]=U,S[U++]=S[R]):F[R]=-1}for(S.length=U,R=0;R<C;++R)F[R]<0&&(F[R]=F[O.find(R)]);return F}function y(S,w){return S[0]-w[0]||S[1]-w[1]}function v(S,w){return S[0]-w[0]||S[1]-w[1]||(S[2]<w[2]?-1:S[2]>w[2]?1:0)}function _(S,w,E){if(0!==S.length){if(w)for(var C=0;C<S.length;++C){var O=w[(R=S[C])[0]],P=w[R[1]];R[0]=Math.min(O,P),R[1]=Math.max(O,P)}else for(C=0;C<S.length;++C){var R;O=(R=S[C])[0],P=R[1],R[0]=Math.min(O,P),R[1]=Math.max(O,P)}E?S.sort(v):S.sort(y);var j=1;for(C=1;C<S.length;++C){var z=S[C-1],N=S[C];(N[0]!==z[0]||N[1]!==z[1]||E&&N[2]!==z[2])&&(S[j++]=N)}S.length=j}}function f(S,w,E){var z,N,F,C=function(z,N){for(var Y=new Array(N.length),F=0;F<N.length;++F){var U=N[F],V=z[U[0]],te=z[U[1]];Y[F]=[c(Math.min(V[0],te[0]),-1/0),c(Math.min(V[1],te[1]),-1/0),c(Math.max(V[0],te[0]),1/0),c(Math.max(V[1],te[1]),1/0)]}return Y}(S,w),O=(z=S,N=w,F=[],n(C,function(U,V){var te=N[U],$=N[V];if(te[0]!==$[0]&&te[0]!==$[1]&&te[1]!==$[0]&&te[1]!==$[1]){var X=z[te[0]],W=z[te[1]],J=z[$[0]],Q=z[$[1]];r(X,W,J,Q)&&F.push([U,V])}}),F),P=function(z,N,Y,F){var U=[];return n(Y,F,function(V,te){var $=N[V];if($[0]!==te&&$[1]!==te){var X=z[te],W=z[$[0]],J=z[$[1]];r(W,J,X,X)&&U.push([V,te])}}),U}(S,w,C,h(S)),R=function(z,N,Y,F,U){var V,te,$=z.map(function(se){return[o(se[0]),o(se[1])]});for(V=0;V<Y.length;++V){var X=Y[V];te=X[0];var W=X[1],J=N[te],Q=N[W],re=x(d(z[J[0]]),d(z[J[1]]),d(z[Q[0]]),d(z[Q[1]]));if(re){var ae=z.length;z.push([u(re[0]),u(re[1])]),$.push(re),F.push([te,ae],[W,ae])}}for(F.sort(function(se,ie){if(se[0]!==ie[0])return se[0]-ie[0];var he=$[se[1]],Se=$[ie[1]];return l(he[0],Se[0])||l(he[1],Se[1])}),V=F.length-1;V>=0;--V){var oe=N[te=(ye=F[V])[0]],ue=oe[0],ve=oe[1],be=z[ue],de=z[ve];if((be[0]-de[0]||be[1]-de[1])<0){var pe=ue;ue=ve,ve=pe}oe[0]=ue;var ge,Ae=oe[1]=ye[1];for(U&&(ge=oe[2]);V>0&&F[V-1][0]===te;){var ye,we=(ye=F[--V])[1];U?N.push([Ae,we,ge]):N.push([Ae,we]),Ae=we}U?N.push([Ae,ve,ge]):N.push([Ae,ve])}return $}(S,w,O,P,E),j=m(S,R);return _(w,j,E),!!j||O.length>0||P.length>0}},5528:function(p,s,t){"use strict";p.exports=function(x,g,h,m){var y=l(g,x),v=l(m,h),_=c(y,v);if(0===o(_))return null;var f=c(v,l(x,h)),S=n(f,_),w=d(y,S);return u(x,w)};var i=t(3962),n=t(9189),r=t(4354),o=t(4951),l=t(6695),u=t(7584),d=t(4469);function c(x,g){return r(i(x[0],g[1]),i(x[1],g[0]))}},5692:function(p){p.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(p,s,t){"use strict";var i=t(5692),n=t(3578);function r(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function o(u){for(var d,c="#",x=0;x<3;++x)c+=("00"+(d=(d=u[x]).toString(16))).substr(d.length);return c}function l(u){return"rgba("+u.join(",")+")"}p.exports=function(u){var d,c,x,g,h,m,y,v,_,f;if(u||(u={}),v=(u.nshades||72)-1,y=u.format||"hex",(m=u.colormap)||(m="jet"),"string"==typeof m){if(m=m.toLowerCase(),!i[m])throw Error(m+" not a supported colorscale");h=i[m]}else{if(!Array.isArray(m))throw Error("unsupported colormap option",m);h=m.slice()}if(h.length>v+1)throw new Error(m+" map requires nshades to be at least size "+h.length);_=Array.isArray(u.alpha)?2!==u.alpha.length?[1,1]:u.alpha.slice():"number"==typeof u.alpha?[u.alpha,u.alpha]:[1,1],d=h.map(function(O){return Math.round(O.index*v)}),_[0]=Math.min(Math.max(_[0],0),1),_[1]=Math.min(Math.max(_[1],0),1);var S=h.map(function(O,P){var R=h[P].index,j=h[P].rgb.slice();return 4===j.length&&j[3]>=0&&j[3]<=1||(j[3]=_[0]+(_[1]-_[0])*R),j}),w=[];for(f=0;f<d.length-1;++f){g=d[f+1]-d[f],c=S[f],x=S[f+1];for(var E=0;E<g;E++){var C=E/g;w.push([Math.round(n(c[0],x[0],C)),Math.round(n(c[1],x[1],C)),Math.round(n(c[2],x[2],C)),n(c[3],x[3],C)])}}return w.push(h[h.length-1].rgb.concat(_[1])),"hex"===y?w=w.map(o):"rgbaString"===y?w=w.map(l):"float"===y&&(w=w.map(r)),w}},9398:function(p,s,t){"use strict";p.exports=function(d,c,x,g){var h=i(c,x,g);if(0===h){var m=n(i(d,c,x)),y=n(i(d,c,g));if(m===y){if(0===m){var v=u(d,c,x);return v===u(d,c,g)?0:v?1:-1}return 0}return 0===y?m>0||u(d,c,g)?-1:1:0===m?y>0||u(d,c,x)?1:-1:n(y-m)}var _=i(d,c,x);return _>0?h>0&&i(d,c,g)>0?1:-1:_<0?h>0||i(d,c,g)>0?1:-1:i(d,c,g)>0||u(d,c,x)?1:-1};var i=t(417),n=t(7538),r=t(87),o=t(2019),l=t(9662);function u(d,c,x){var g=r(d[0],-c[0]),h=r(d[1],-c[1]),m=r(x[0],-c[0]),y=r(x[1],-c[1]),v=l(o(g,m),o(h,y));return v[v.length-1]>=0}},7538:function(p){"use strict";p.exports=function(s){return s<0?-1:s>0?1:0}},9209:function(p){p.exports=function(i,n){var r=i.length,o=i.length-n.length;if(o)return o;switch(r){case 0:return 0;case 1:return i[0]-n[0];case 2:return i[0]+i[1]-n[0]-n[1]||s(i[0],i[1])-s(n[0],n[1]);case 3:var l=i[0]+i[1],u=n[0]+n[1];if(o=l+i[2]-(u+n[2]))return o;var d=s(i[0],i[1]),c=s(n[0],n[1]);return s(d,i[2])-s(c,n[2])||s(d+i[2],l)-s(c+n[2],u);case 4:var x=i[0],g=i[1],h=i[2],m=i[3],y=n[0],v=n[1],_=n[2],f=n[3];return x+g+h+m-(y+v+_+f)||s(x,g,h,m)-s(y,v,_,f,y)||s(x+g,x+h,x+m,g+h,g+m,h+m)-s(y+v,y+_,y+f,v+_,v+f,_+f)||s(x+g+h,x+g+m,x+h+m,g+h+m)-s(y+v+_,y+v+f,y+_+f,v+_+f);default:for(var S=i.slice().sort(t),w=n.slice().sort(t),E=0;E<r;++E)if(o=S[E]-w[E])return o;return 0}};var s=Math.min;function t(i,n){return i-n}},1284:function(p,s,t){"use strict";var i=t(9209),n=t(9887);p.exports=function(r,o){return i(r,o)||n(r)-n(o)}},5537:function(p,s,t){"use strict";var i=t(8950),n=t(8722),r=t(3332);p.exports=function(o){var l=o.length;if(0===l)return[];if(1===l)return[[0]];var u=o[0].length;return 0===u?[]:1===u?i(o):2===u?n(o):r(o,u)}},8950:function(p){"use strict";p.exports=function(s){for(var t=0,i=0,n=1;n<s.length;++n)s[n][0]<s[t][0]&&(t=n),s[n][0]>s[i][0]&&(i=n);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},8722:function(p,s,t){"use strict";p.exports=function(n){var r=i(n),o=r.length;if(o<=2)return[];for(var l=new Array(o),u=r[o-1],d=0;d<o;++d){var c=r[d];l[d]=[u,c],u=c}return l};var i=t(3266)},3332:function(p,s,t){"use strict";p.exports=function(r,o){try{return i(r,!0)}catch{var l=n(r);if(l.length<=o)return[];var u=function(c,x){for(var g=c.length,h=new Array(g),m=0;m<x.length;++m)h[m]=c[x[m]];var y=x.length;for(m=0;m<g;++m)x.indexOf(m)<0&&(h[y++]=c[m]);return h}(r,l);return function(c,x){for(var g=c.length,h=x.length,m=0;m<g;++m)for(var y=c[m],v=0;v<y.length;++v){var _=y[v];if(_<h)y[v]=x[_];else{_-=h;for(var f=0;f<h;++f)_>=x[f]&&(_+=1);y[v]=_}}return c}(i(u,!0),l)}};var i=t(2183),n=t(2153)},9680:function(p){"use strict";p.exports=function(s,t,i,n,r,o){var l=r-1,u=r*r,d=l*l,c=(1+2*r)*d,x=r*d,g=u*(3-2*r),h=u*l;if(s.length){o||(o=new Array(s.length));for(var m=s.length-1;m>=0;--m)o[m]=c*s[m]+x*t[m]+g*i[m]+h*n[m];return o}return c*s+x*t+g*i+h*n},p.exports.derivative=function(s,t,i,n,r,o){var l=6*r*r-6*r,u=3*r*r-4*r+1,d=-6*r*r+6*r,c=3*r*r-2*r;if(s.length){o||(o=new Array(s.length));for(var x=s.length-1;x>=0;--x)o[x]=l*s[x]+u*t[x]+d*i[x]+c*n[x];return o}return l*s+u*t+d*i[x]+c*n}},4419:function(p,s,t){"use strict";var i=t(2183),n=t(1215);function r(l,u){this.point=l,this.index=u}function o(l,u){for(var d=l.point,c=u.point,x=d.length,g=0;g<x;++g){var h=c[g]-d[g];if(h)return h}return 0}p.exports=function(l,u){var d=l.length;if(0===d)return[];var c=l[0].length;if(c<1)return[];if(1===c)return function(R,j,z){if(1===R)return z?[[-1,0]]:[];var N=j.map(function(te,$){return[te[0],$]});N.sort(function(te,$){return te[0]-$[0]});for(var Y=new Array(R-1),F=1;F<R;++F){var U=N[F-1],V=N[F];Y[F-1]=[U[1],V[1]]}return z&&Y.push([-1,Y[0][1]],[Y[R-1][1],-1]),Y}(d,l,u);for(var x=new Array(d),g=1,h=0;h<d;++h){for(var m=l[h],y=new Array(c+1),v=0,_=0;_<c;++_){var f=m[_];y[_]=f,v+=f*f}y[c]=v,x[h]=new r(y,h),g=Math.max(v,g)}n(x,o),d=x.length;var S=new Array(d+c+1),w=new Array(d+c+1),E=(c+1)*(c+1)*g,C=new Array(c+1);for(h=0;h<=c;++h)C[h]=0;for(C[c]=E,S[0]=C.slice(),w[0]=-1,h=0;h<=c;++h)(y=C.slice())[h]=1,S[h+1]=y,w[h+1]=-1;for(h=0;h<d;++h){var O=x[h];S[h+c+1]=O.point,w[h+c+1]=O.index}var P=i(S,!1);if(P=u?P.filter(function(R){for(var j=0,z=0;z<=c;++z){var N=w[R[z]];if(N<0&&++j>=2)return!1;R[z]=N}return!0}):P.filter(function(R){for(var j=0;j<=c;++j){var z=w[R[j]];if(z<0)return!1;R[j]=z}return!0}),1&c)for(h=0;h<P.length;++h)y=(O=P[h])[0],O[0]=O[1],O[1]=y;return P}},8362:function(p){var s=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),i=new Uint32Array(t.buffer);t[0]=1,s=!0,1072693248===i[1]?(p.exports=function(r){return t[0]=r,[i[0],i[1]]},p.exports.pack=function(r,o){return i[0]=r,i[1]=o,t[0]},p.exports.lo=function(r){return t[0]=r,i[0]},p.exports.hi=function(r){return t[0]=r,i[1]}):1072693248===i[0]?(p.exports=function(r){return t[0]=r,[i[1],i[0]]},p.exports.pack=function(r,o){return i[1]=r,i[0]=o,t[0]},p.exports.lo=function(r){return t[0]=r,i[1]},p.exports.hi=function(r){return t[0]=r,i[0]}):s=!1}if(!s){var n=new Buffer(8);p.exports=function(r){return n.writeDoubleLE(r,0,!0),[n.readUInt32LE(0,!0),n.readUInt32LE(4,!0)]},p.exports.pack=function(r,o){return n.writeUInt32LE(r,0,!0),n.writeUInt32LE(o,4,!0),n.readDoubleLE(0,!0)},p.exports.lo=function(r){return n.writeDoubleLE(r,0,!0),n.readUInt32LE(0,!0)},p.exports.hi=function(r){return n.writeDoubleLE(r,0,!0),n.readUInt32LE(4,!0)}}p.exports.sign=function(r){return p.exports.hi(r)>>>31},p.exports.exponent=function(r){return(p.exports.hi(r)<<1>>>21)-1023},p.exports.fraction=function(r){var o=p.exports.lo(r),l=p.exports.hi(r),u=1048575&l;return 2146435072&l&&(u+=1048576),[o,u]},p.exports.denormalized=function(r){return!(2146435072&p.exports.hi(r))}},3094:function(p){"use strict";function s(t,i,n){var r=0|t[n];if(r<=0)return[];var o,l=new Array(r);if(n===t.length-1)for(o=0;o<r;++o)l[o]=i;else for(o=0;o<r;++o)l[o]=s(t,i,n+1);return l}p.exports=function(t,i){switch(void 0===i&&(i=0),typeof t){case"number":if(t>0)return function(n,r){var o,l;for(o=new Array(n),l=0;l<n;++l)o[l]=r;return o}(0|t,i);break;case"object":if("number"==typeof t.length)return s(t,i,0)}return[]}},8348:function(p,s,t){"use strict";p.exports=function(n,r){var o=n.length;if("number"!=typeof r){r=0;for(var l=0;l<o;++l){var u=n[l];r=Math.max(r,u[0],u[1])}r=1+(0|r)}r|=0;var d=new Array(r);for(l=0;l<r;++l)d[l]=[];for(l=0;l<o;++l)d[(u=n[l])[0]].push(u[1]),d[u[1]].push(u[0]);for(var c=0;c<r;++c)i(d[c],function(x,g){return x-g});return d};var i=t(1215)},5795:function(p){"use strict";p.exports=function(s,t,i){var n=t||0,r=i||1;return[[s[12]+s[0],s[13]+s[1],s[14]+s[2],s[15]+s[3]],[s[12]-s[0],s[13]-s[1],s[14]-s[2],s[15]-s[3]],[s[12]+s[4],s[13]+s[5],s[14]+s[6],s[15]+s[7]],[s[12]-s[4],s[13]-s[5],s[14]-s[6],s[15]-s[7]],[n*s[12]+s[8],n*s[13]+s[9],n*s[14]+s[10],n*s[15]+s[11]],[r*s[12]-s[8],r*s[13]-s[9],r*s[14]-s[10],r*s[15]-s[11]]]}},8444:function(p,s,t){"use strict";p.exports=function(d,c,x){switch(arguments.length){case 0:return new o([0],[0],0);case 1:return"number"==typeof d?new o(g=u(d),g,0):new o(d,u(d.length),0);case 2:var g;if("number"==typeof c)return new o(d,g=u(d.length),+c);x=0;case 3:if(d.length!==c.length)throw new Error("state and velocity lengths must match");return new o(d,c,x)}};var i=t(9680),n=t(5070);function r(d,c,x){return Math.min(c,Math.max(d,x))}function o(d,c,x){this.dimension=d.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var g=0;g<this.dimension;++g)this.bounds[0][g]=-1/0,this.bounds[1][g]=1/0;this._state=d.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[x],this._scratch=[d.slice(),d.slice(),d.slice(),d.slice(),d.slice()]}var l=o.prototype;function u(d){for(var c=new Array(d),x=0;x<d;++x)c[x]=0;return c}l.flush=function(d){var c=n.gt(this._time,d)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},l.curve=function(d){var c=this._time,x=c.length,g=n.le(c,d),h=this._scratch[0],m=this._state,y=this._velocity,v=this.dimension,_=this.bounds;if(g<0)for(var f=v-1,S=0;S<v;++S,--f)h[S]=m[f];else if(g>=x-1){f=m.length-1;var w=d-c[x-1];for(S=0;S<v;++S,--f)h[S]=m[f]+w*y[f]}else{f=v*(g+1)-1;var E=c[g],C=c[g+1]-E||1,O=this._scratch[1],P=this._scratch[2],R=this._scratch[3],j=this._scratch[4],z=!0;for(S=0;S<v;++S,--f)O[S]=m[f],R[S]=y[f]*C,P[S]=m[f+v],j[S]=y[f+v]*C,z=z&&O[S]===P[S]&&R[S]===j[S]&&0===R[S];if(z)for(S=0;S<v;++S)h[S]=O[S];else i(O,R,P,j,(d-E)/C,h)}var N=_[0],Y=_[1];for(S=0;S<v;++S)h[S]=r(N[S],Y[S],h[S]);return h},l.dcurve=function(d){var c=this._time,x=c.length,g=n.le(c,d),h=this._scratch[0],m=this._state,y=this._velocity,v=this.dimension;if(g>=x-1)for(var _=m.length-1,f=(c[x-1],0);f<v;++f,--_)h[f]=y[_];else{_=v*(g+1)-1;var S=c[g],w=c[g+1]-S||1,E=this._scratch[1],C=this._scratch[2],O=this._scratch[3],P=this._scratch[4],R=!0;for(f=0;f<v;++f,--_)E[f]=m[_],O[f]=y[_]*w,C[f]=m[_+v],P[f]=y[_+v]*w,R=R&&E[f]===C[f]&&O[f]===P[f]&&0===O[f];if(R)for(f=0;f<v;++f)h[f]=0;else for(i.derivative(E,O,C,P,(d-S)/w,h),f=0;f<v;++f)h[f]/=w}return h},l.lastT=function(){var d=this._time;return d[d.length-1]},l.stable=function(){for(var d=this._velocity,c=d.length,x=this.dimension-1;x>=0;--x)if(d[--c])return!1;return!0},l.jump=function(d){var c=this.lastT(),x=this.dimension;if(!(d<c||arguments.length!==x+1)){var g=this._state,h=this._velocity,m=g.length-this.dimension,y=this.bounds,v=y[0],_=y[1];this._time.push(c,d);for(var f=0;f<2;++f)for(var S=0;S<x;++S)g.push(g[m++]),h.push(0);for(this._time.push(d),S=x;S>0;--S)g.push(r(v[S-1],_[S-1],arguments[S])),h.push(0)}},l.push=function(d){var c=this.lastT(),x=this.dimension;if(!(d<c||arguments.length!==x+1)){var g=this._state,h=this._velocity,m=g.length-this.dimension,y=d-c,v=this.bounds,_=v[0],f=v[1],S=y>1e-6?1/y:0;this._time.push(d);for(var w=x;w>0;--w){var E=r(_[w-1],f[w-1],arguments[w]);g.push(E),h.push((E-g[m++])*S)}}},l.set=function(d){var c=this.dimension;if(!(d<this.lastT()||arguments.length!==c+1)){var x=this._state,g=this._velocity,h=this.bounds,m=h[0],y=h[1];this._time.push(d);for(var v=c;v>0;--v)x.push(r(m[v-1],y[v-1],arguments[v])),g.push(0)}},l.move=function(d){var c=this.lastT(),x=this.dimension;if(!(d<=c||arguments.length!==x+1)){var g=this._state,h=this._velocity,m=g.length-this.dimension,y=this.bounds,v=y[0],_=y[1],f=d-c,S=f>1e-6?1/f:0;this._time.push(d);for(var w=x;w>0;--w){var E=arguments[w];g.push(r(v[w-1],_[w-1],g[m++]+E)),h.push(E*S)}}},l.idle=function(d){var c=this.lastT();if(!(d<c)){var x=this.dimension,g=this._state,h=this._velocity,m=g.length-x,y=this.bounds,v=y[0],_=y[1],f=d-c;this._time.push(d);for(var S=x-1;S>=0;--S)g.push(r(v[S],_[S],g[m]+f*h[m])),h.push(0),m+=1}}},7080:function(p){"use strict";function s(m,y,v,_,f,S){this._color=m,this.key=y,this.value=v,this.left=_,this.right=f,this._count=S}function t(m){return new s(m._color,m.key,m.value,m.left,m.right,m._count)}function i(m,y){return new s(m,y.key,y.value,y.left,y.right,y._count)}function n(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function r(m,y){this._compare=m,this.root=y}p.exports=function(m){return new r(m||h,null)};var o=r.prototype;function l(m,y){var v;return y.left&&(v=l(m,y.left))?v:(v=m(y.key,y.value))||(y.right?l(m,y.right):void 0)}function u(m,y,v,_){var f;return y(m,_.key)<=0&&(_.left&&(f=u(m,y,v,_.left))||(f=v(_.key,_.value)))?f:_.right?u(m,y,v,_.right):void 0}function d(m,y,v,_,f){var S,w=v(m,f.key),E=v(y,f.key);return w<=0&&(f.left&&(S=d(m,y,v,_,f.left))||E>0&&(S=_(f.key,f.value)))?S:E>0&&f.right?d(m,y,v,_,f.right):void 0}function c(m,y){this.tree=m,this._stack=y}Object.defineProperty(o,"keys",{get:function(){var m=[];return this.forEach(function(y,v){m.push(y)}),m}}),Object.defineProperty(o,"values",{get:function(){var m=[];return this.forEach(function(y,v){m.push(v)}),m}}),Object.defineProperty(o,"length",{get:function(){return this.root?this.root._count:0}}),o.insert=function(m,y){for(var v=this._compare,_=this.root,f=[],S=[];_;){var w=v(m,_.key);f.push(_),S.push(w),_=w<=0?_.left:_.right}f.push(new s(0,m,y,null,null,1));for(var E=f.length-2;E>=0;--E)_=f[E],S[E]<=0?f[E]=new s(_._color,_.key,_.value,f[E+1],_.right,_._count+1):f[E]=new s(_._color,_.key,_.value,_.left,f[E+1],_._count+1);for(E=f.length-1;E>1;--E){var C=f[E-1];if(_=f[E],1===C._color||1===_._color)break;var O=f[E-2];if(O.left===C)if(C.left===_){if(!(P=O.right)||0!==P._color){O._color=0,O.left=C.right,C._color=1,C.right=O,f[E-2]=C,f[E-1]=_,n(O),n(C),E>=3&&((R=f[E-3]).left===O?R.left=C:R.right=C);break}C._color=1,O.right=i(1,P),O._color=0,E-=1}else{if(!(P=O.right)||0!==P._color){C.right=_.left,O._color=0,O.left=_.right,_._color=1,_.left=C,_.right=O,f[E-2]=_,f[E-1]=C,n(O),n(C),n(_),E>=3&&((R=f[E-3]).left===O?R.left=_:R.right=_);break}C._color=1,O.right=i(1,P),O._color=0,E-=1}else if(C.right===_){if(!(P=O.left)||0!==P._color){O._color=0,O.right=C.left,C._color=1,C.left=O,f[E-2]=C,f[E-1]=_,n(O),n(C),E>=3&&((R=f[E-3]).right===O?R.right=C:R.left=C);break}C._color=1,O.left=i(1,P),O._color=0,E-=1}else{var P;if(!(P=O.left)||0!==P._color){var R;C.left=_.right,O._color=0,O.right=_.left,_._color=1,_.right=C,_.left=O,f[E-2]=_,f[E-1]=C,n(O),n(C),n(_),E>=3&&((R=f[E-3]).right===O?R.right=_:R.left=_);break}C._color=1,O.left=i(1,P),O._color=0,E-=1}}return f[0]._color=1,new r(v,f[0])},o.forEach=function(m,y,v){if(this.root)switch(arguments.length){case 1:return l(m,this.root);case 2:return u(y,this._compare,m,this.root);case 3:return this._compare(y,v)>=0?void 0:d(y,v,this._compare,m,this.root)}},Object.defineProperty(o,"begin",{get:function(){for(var m=[],y=this.root;y;)m.push(y),y=y.left;return new c(this,m)}}),Object.defineProperty(o,"end",{get:function(){for(var m=[],y=this.root;y;)m.push(y),y=y.right;return new c(this,m)}}),o.at=function(m){if(m<0)return new c(this,[]);for(var y=this.root,v=[];;){if(v.push(y),y.left){if(m<y.left._count){y=y.left;continue}m-=y.left._count}if(!m)return new c(this,v);if(m-=1,!y.right||m>=y.right._count)break;y=y.right}return new c(this,[])},o.ge=function(m){for(var y=this._compare,v=this.root,_=[],f=0;v;){var S=y(m,v.key);_.push(v),S<=0&&(f=_.length),v=S<=0?v.left:v.right}return _.length=f,new c(this,_)},o.gt=function(m){for(var y=this._compare,v=this.root,_=[],f=0;v;){var S=y(m,v.key);_.push(v),S<0&&(f=_.length),v=S<0?v.left:v.right}return _.length=f,new c(this,_)},o.lt=function(m){for(var y=this._compare,v=this.root,_=[],f=0;v;){var S=y(m,v.key);_.push(v),S>0&&(f=_.length),v=S<=0?v.left:v.right}return _.length=f,new c(this,_)},o.le=function(m){for(var y=this._compare,v=this.root,_=[],f=0;v;){var S=y(m,v.key);_.push(v),S>=0&&(f=_.length),v=S<0?v.left:v.right}return _.length=f,new c(this,_)},o.find=function(m){for(var y=this._compare,v=this.root,_=[];v;){var f=y(m,v.key);if(_.push(v),0===f)return new c(this,_);v=f<=0?v.left:v.right}return new c(this,[])},o.remove=function(m){var y=this.find(m);return y?y.remove():this},o.get=function(m){for(var y=this._compare,v=this.root;v;){var _=y(m,v.key);if(0===_)return v.value;v=_<=0?v.left:v.right}};var x=c.prototype;function g(m,y){m.key=y.key,m.value=y.value,m.left=y.left,m.right=y.right,m._color=y._color,m._count=y._count}function h(m,y){return m<y?-1:m>y?1:0}Object.defineProperty(x,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(x,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),x.clone=function(){return new c(this.tree,this._stack.slice())},x.remove=function(){var m=this._stack;if(0===m.length)return this.tree;var y=new Array(m.length),v=m[m.length-1];y[y.length-1]=new s(v._color,v.key,v.value,v.left,v.right,v._count);for(var _=m.length-2;_>=0;--_)(v=m[_]).left===m[_+1]?y[_]=new s(v._color,v.key,v.value,y[_+1],v.right,v._count):y[_]=new s(v._color,v.key,v.value,v.left,y[_+1],v._count);if((v=y[y.length-1]).left&&v.right){var f=y.length;for(v=v.left;v.right;)y.push(v),v=v.right;var S=y[f-1];for(y.push(new s(v._color,S.key,S.value,v.left,v.right,v._count)),y[f-1].key=v.key,y[f-1].value=v.value,_=y.length-2;_>=f;--_)v=y[_],y[_]=new s(v._color,v.key,v.value,v.left,y[_+1],v._count);y[f-1].left=y[f]}if(0===(v=y[y.length-1])._color){var w=y[y.length-2];for(w.left===v?w.left=null:w.right===v&&(w.right=null),y.pop(),_=0;_<y.length;++_)y[_]._count--;return new r(this.tree._compare,y[0])}if(v.left||v.right){for(v.left?g(v,v.left):v.right&&g(v,v.right),v._color=1,_=0;_<y.length-1;++_)y[_]._count--;return new r(this.tree._compare,y[0])}if(1===y.length)return new r(this.tree._compare,null);for(_=0;_<y.length;++_)y[_]._count--;var E=y[y.length-2];return function(C){for(var O,P,R,j,z=C.length-1;z>=0;--z){if(O=C[z],0===z)return void(O._color=1);if((P=C[z-1]).left===O){if((R=P.right).right&&0===R.right._color)return j=(R=P.right=t(R)).right=t(R.right),P.right=R.left,R.left=P,R.right=j,R._color=P._color,O._color=1,P._color=1,j._color=1,n(P),n(R),z>1&&((N=C[z-2]).left===P?N.left=R:N.right=R),void(C[z-1]=R);if(R.left&&0===R.left._color)return j=(R=P.right=t(R)).left=t(R.left),P.right=j.left,R.left=j.right,j.left=P,j.right=R,j._color=P._color,P._color=1,R._color=1,O._color=1,n(P),n(R),n(j),z>1&&((N=C[z-2]).left===P?N.left=j:N.right=j),void(C[z-1]=j);if(1===R._color){if(0===P._color)return P._color=1,void(P.right=i(0,R));P.right=i(0,R);continue}R=t(R),P.right=R.left,R.left=P,R._color=P._color,P._color=0,n(P),n(R),z>1&&((N=C[z-2]).left===P?N.left=R:N.right=R),C[z-1]=R,C[z]=P,z+1<C.length?C[z+1]=O:C.push(O),z+=2}else{if((R=P.left).left&&0===R.left._color)return j=(R=P.left=t(R)).left=t(R.left),P.left=R.right,R.right=P,R.left=j,R._color=P._color,O._color=1,P._color=1,j._color=1,n(P),n(R),z>1&&((N=C[z-2]).right===P?N.right=R:N.left=R),void(C[z-1]=R);if(R.right&&0===R.right._color)return j=(R=P.left=t(R)).right=t(R.right),P.left=j.right,R.right=j.left,j.right=P,j.left=R,j._color=P._color,P._color=1,R._color=1,O._color=1,n(P),n(R),n(j),z>1&&((N=C[z-2]).right===P?N.right=j:N.left=j),void(C[z-1]=j);if(1===R._color){if(0===P._color)return P._color=1,void(P.left=i(0,R));P.left=i(0,R);continue}var N;R=t(R),P.left=R.right,R.right=P,R._color=P._color,P._color=0,n(P),n(R),z>1&&((N=C[z-2]).right===P?N.right=R:N.left=R),C[z-1]=R,C[z]=P,z+1<C.length?C[z+1]=O:C.push(O),z+=2}}}(y),E.left===v?E.left=null:E.right=null,new r(this.tree._compare,y[0])},Object.defineProperty(x,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(x,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(x,"index",{get:function(){var m=0,y=this._stack;if(0===y.length){var v=this.tree.root;return v?v._count:0}y[y.length-1].left&&(m=y[y.length-1].left._count);for(var _=y.length-2;_>=0;--_)y[_+1]===y[_].right&&(++m,y[_].left&&(m+=y[_].left._count));return m},enumerable:!0}),x.next=function(){var m=this._stack;if(0!==m.length){var y=m[m.length-1];if(y.right)for(y=y.right;y;)m.push(y),y=y.left;else for(m.pop();m.length>0&&m[m.length-1].right===y;)y=m[m.length-1],m.pop()}},Object.defineProperty(x,"hasNext",{get:function(){var m=this._stack;if(0===m.length)return!1;if(m[m.length-1].right)return!0;for(var y=m.length-1;y>0;--y)if(m[y-1].left===m[y])return!0;return!1}}),x.update=function(m){var y=this._stack;if(0===y.length)throw new Error("Can't update empty node!");var v=new Array(y.length),_=y[y.length-1];v[v.length-1]=new s(_._color,_.key,m,_.left,_.right,_._count);for(var f=y.length-2;f>=0;--f)(_=y[f]).left===y[f+1]?v[f]=new s(_._color,_.key,_.value,v[f+1],_.right,_._count):v[f]=new s(_._color,_.key,_.value,_.left,v[f+1],_._count);return new r(this.tree._compare,v[0])},x.prev=function(){var m=this._stack;if(0!==m.length){var y=m[m.length-1];if(y.left)for(y=y.left;y;)m.push(y),y=y.right;else for(m.pop();m.length>0&&m[m.length-1].left===y;)y=m[m.length-1],m.pop()}},Object.defineProperty(x,"hasPrev",{get:function(){var m=this._stack;if(0===m.length)return!1;if(m[m.length-1].left)return!0;for(var y=m.length-1;y>0;--y)if(m[y-1].right===m[y])return!0;return!1}})},7453:function(p,s,t){"use strict";p.exports=function(w,E){var C=new c(w);return C.update(E),C};var i=t(9557),n=t(1681),r=t(1011),o=t(2864),l=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function d(w,E){return w[0]=E[0],w[1]=E[1],w[2]=E[2],w}function c(w){this.gl=w,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=r(w)}var x=c.prototype;function g(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}x.update=function(w){function E(te,$,X){if(X in w){var W,J=w[X],Q=this[X];(te?Array.isArray(J)&&Array.isArray(J[0]):Array.isArray(J))?this[X]=W=[$(J[0]),$(J[1]),$(J[2])]:this[X]=W=[$(J),$(J),$(J)];for(var re=0;re<3;++re)if(W[re]!==Q[re])return!0}return!1}w=w||{};var C,O=E.bind(this,!1,Number),P=E.bind(this,!1,Boolean),R=E.bind(this,!1,String),j=E.bind(this,!0,function(te){if(Array.isArray(te)){if(3===te.length)return[+te[0],+te[1],+te[2],1];if(4===te.length)return[+te[0],+te[1],+te[2],+te[3]]}return[0,0,0,1]}),z=!1,N=!1;if("bounds"in w)for(var Y=w.bounds,F=0;F<2;++F)for(var U=0;U<3;++U)Y[F][U]!==this.bounds[F][U]&&(N=!0),this.bounds[F][U]=Y[F][U];if("ticks"in w)for(C=w.ticks,z=!0,this.autoTicks=!1,F=0;F<3;++F)this.tickSpacing[F]=0;else O("tickSpacing")&&(this.autoTicks=!0,N=!0);if(this._firstInit&&("ticks"in w||"tickSpacing"in w||(this.autoTicks=!0),N=!0,z=!0,this._firstInit=!1),N&&this.autoTicks&&(C=l.create(this.bounds,this.tickSpacing),z=!0),z){for(F=0;F<3;++F)C[F].sort(function(te,$){return te.x-$.x});l.equal(C,this.ticks)?z=!1:this.ticks=C}P("tickEnable"),R("tickFont")&&(z=!0),O("tickSize"),O("tickAngle"),O("tickPad"),j("tickColor");var V=R("labels");R("labelFont")&&(V=!0),P("labelEnable"),O("labelSize"),O("labelPad"),j("labelColor"),P("lineEnable"),P("lineMirror"),O("lineWidth"),j("lineColor"),P("lineTickEnable"),P("lineTickMirror"),O("lineTickLength"),O("lineTickWidth"),j("lineTickColor"),P("gridEnable"),O("gridWidth"),j("gridColor"),P("zeroEnable"),j("zeroLineColor"),O("zeroLineWidth"),P("backgroundEnable"),j("backgroundColor"),this._text?this._text&&(V||z)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=i(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&z&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=n(this.gl,this.bounds,this.ticks))};var h=[new g,new g,new g];function m(w,E,C,O,P){for(var R=w.primalOffset,j=w.primalMinor,z=w.mirrorOffset,N=w.mirrorMinor,Y=O[E],F=0;F<3;++F)if(E!==F){var U=R,V=z,te=j,$=N;Y&1<<F&&(U=z,V=R,te=N,$=j),U[F]=C[0][F],V[F]=C[1][F],P[F]>0?(te[F]=-1,$[F]=0):(te[F]=0,$[F]=1)}}var y=[0,0,0],v={model:u,view:u,projection:u,_ortho:!1};x.isOpaque=function(){return!0},x.isTransparent=function(){return!1},x.drawTransparent=function(w){};var _=[0,0,0],f=[0,0,0],S=[0,0,0];x.draw=function(w){w=w||v;for(var E=this.gl,C=w.model||u,O=w.view||u,P=w.projection||u,R=this.bounds,j=w._ortho||!1,z=o(C,O,P,R,j),N=z.cubeEdges,Y=z.axis,F=O[12],U=O[13],V=O[14],te=O[15],$=(j?2:1)*this.pixelRatio*(P[3]*F+P[7]*U+P[11]*V+P[15]*te)/E.drawingBufferHeight,X=0;X<3;++X)this.lastCubeProps.cubeEdges[X]=N[X],this.lastCubeProps.axis[X]=Y[X];var W=h;for(X=0;X<3;++X)m(h[X],X,this.bounds,N,Y);E=this.gl;var J,Q,re,ae=y;for(X=0;X<3;++X)this.backgroundEnable[X]?ae[X]=Y[X]:ae[X]=0;for(this._background.draw(C,O,P,R,ae,this.backgroundColor),this._lines.bind(C,O,P,this),X=0;X<3;++X){var oe=[0,0,0];Y[X]>0?oe[X]=R[1][X]:oe[X]=R[0][X];for(var ue=0;ue<2;++ue){var ve=(X+1+ue)%3,be=(X+1+(1^ue))%3;this.gridEnable[ve]&&this._lines.drawGrid(ve,be,this.bounds,oe,this.gridColor[ve],this.gridWidth[ve]*this.pixelRatio)}for(ue=0;ue<2;++ue)ve=(X+1+ue)%3,be=(X+1+(1^ue))%3,this.zeroEnable[be]&&Math.min(R[0][be],R[1][be])<=0&&Math.max(R[0][be],R[1][be])>=0&&this._lines.drawZero(ve,be,this.bounds,oe,this.zeroLineColor[be],this.zeroLineWidth[be]*this.pixelRatio)}for(X=0;X<3;++X){this.lineEnable[X]&&this._lines.drawAxisLine(X,this.bounds,W[X].primalOffset,this.lineColor[X],this.lineWidth[X]*this.pixelRatio),this.lineMirror[X]&&this._lines.drawAxisLine(X,this.bounds,W[X].mirrorOffset,this.lineColor[X],this.lineWidth[X]*this.pixelRatio);var de=d(_,W[X].primalMinor),pe=d(f,W[X].mirrorMinor),ge=this.lineTickLength;for(ue=0;ue<3;++ue){var Ae=$/C[5*ue];de[ue]*=ge[ue]*Ae,pe[ue]*=ge[ue]*Ae}this.lineTickEnable[X]&&this._lines.drawAxisTicks(X,W[X].primalOffset,de,this.lineTickColor[X],this.lineTickWidth[X]*this.pixelRatio),this.lineTickMirror[X]&&this._lines.drawAxisTicks(X,W[X].mirrorOffset,pe,this.lineTickColor[X],this.lineTickWidth[X]*this.pixelRatio)}function ye(_e){(re=[0,0,0])[_e]=1}function we(_e,Me,Ee){var Ie=(_e+1)%3,fe=(_e+2)%3,xe=Me[Ie],Te=Me[fe],Ce=Ee[Ie],De=Ee[fe];xe>0&&De>0||xe>0&&De<0||xe<0&&De>0||xe<0&&De<0?ye(Ie):(Te>0&&Ce>0||Te>0&&Ce<0||Te<0&&Ce>0||Te<0&&Ce<0)&&ye(fe)}for(this._lines.unbind(),this._text.bind(C,O,P,this.pixelRatio),X=0;X<3;++X){var se=W[X].primalMinor,ie=W[X].mirrorMinor,he=d(S,W[X].primalOffset);for(ue=0;ue<3;++ue)this.lineTickEnable[X]&&(he[ue]+=$*se[ue]*Math.max(this.lineTickLength[ue],0)/C[5*ue]);var Se=[0,0,0];if(Se[X]=1,this.tickEnable[X]){for(-3600===this.tickAngle[X]?(this.tickAngle[X]=0,this.tickAlign[X]="auto"):this.tickAlign[X]=-1,Q=1,"auto"===(J=[this.tickAlign[X],.5,Q])[0]?J[0]=0:J[0]=parseInt(""+J[0]),re=[0,0,0],we(X,se,ie),ue=0;ue<3;++ue)he[ue]+=$*se[ue]*this.tickPad[ue]/C[5*ue];this._text.drawTicks(X,this.tickSize[X],this.tickAngle[X],he,this.tickColor[X],Se,re,J)}if(this.labelEnable[X]){for(Q=0,re=[0,0,0],this.labels[X].length>4&&(ye(X),Q=1),"auto"===(J=[this.labelAlign[X],.5,Q])[0]?J[0]=0:J[0]=parseInt(""+J[0]),ue=0;ue<3;++ue)he[ue]+=$*se[ue]*this.labelPad[ue]/C[5*ue];he[X]+=.5*(R[0][X]+R[1][X]),this._text.drawLabel(X,this.labelSize[X],this.labelAngle[X],he,this.labelColor[X],[0,0,0],re,J)}}this._text.unbind()},x.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(p,s,t){"use strict";p.exports=function(u){for(var d=[],c=[],x=0,g=0;g<3;++g)for(var h=(g+1)%3,m=(g+2)%3,y=[0,0,0],v=[0,0,0],_=-1;_<=1;_+=2){c.push(x,x+2,x+1,x+1,x+2,x+3),y[g]=_,v[g]=_;for(var f=-1;f<=1;f+=2){y[h]=f;for(var S=-1;S<=1;S+=2)y[m]=S,d.push(y[0],y[1],y[2],v[0],v[1],v[2]),x+=1}var w=h;h=m,m=w}var E=i(u,new Float32Array(d)),C=i(u,new Uint16Array(c),u.ELEMENT_ARRAY_BUFFER),O=n(u,[{buffer:E,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:u.FLOAT,size:3,offset:12,stride:24}],C),P=r(u);return P.attributes.position.location=0,P.attributes.normal.location=1,new o(u,E,O,P)};var i=t(5827),n=t(2944),r=t(1943).bg;function o(u,d,c,x){this.gl=u,this.buffer=d,this.vao=c,this.shader=x}var l=o.prototype;l.draw=function(u,d,c,x,g,h){for(var m=!1,y=0;y<3;++y)m=m||g[y];if(m){var v=this.gl;v.enable(v.POLYGON_OFFSET_FILL),v.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:d,projection:c,bounds:x,enable:g,colors:h},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),v.disable(v.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(p,s,t){"use strict";p.exports=function(f,S,w,E,C){n(l,S,f),n(l,w,l);for(var O=0,P=0;P<2;++P){c[2]=E[P][2];for(var R=0;R<2;++R){c[1]=E[R][1];for(var j=0;j<2;++j)c[0]=E[j][0],g(u[O],c,l),O+=1}}var z=-1;for(P=0;P<8;++P){for(var N=u[P][3],Y=0;Y<3;++Y)d[P][Y]=u[P][Y]/N;C&&(d[P][2]*=-1),N<0&&(z<0||d[P][2]<d[z][2])&&(z=P)}if(z<0){z=0;for(var F=0;F<3;++F){for(var U=(F+2)%3,V=(F+1)%3,te=-1,$=-1,X=0;X<2;++X){var W=(Q=X<<F)+(X<<U)+(1-X<<V),J=Q+(1-X<<U)+(X<<V);o(d[Q],d[W],d[J],x)<0||(X?te=1:$=1)}if(te<0||$<0)$>te&&(z|=1<<F);else{for(X=0;X<2;++X){W=(Q=X<<F)+(X<<U)+(1-X<<V),J=Q+(1-X<<U)+(X<<V);var Q,re=m([u[Q],u[W],u[J],u[Q+(1<<U)+(1<<V)]]);X?te=re:$=re}$>te&&(z|=1<<F)}}}var ae=7^z,oe=-1;for(P=0;P<8;++P)P!==z&&P!==ae&&(oe<0||d[oe][1]>d[P][1])&&(oe=P);var ue=-1;for(P=0;P<3;++P)(be=oe^1<<P)!==z&&be!==ae&&(ue<0&&(ue=be),(V=d[be])[0]<d[ue][0]&&(ue=be));var ve=-1;for(P=0;P<3;++P){var be;(be=oe^1<<P)!==z&&be!==ae&&be!==ue&&(ve<0&&(ve=be),(V=d[be])[0]>d[ve][0]&&(ve=be))}var de=y;de[0]=de[1]=de[2]=0,de[i.log2(ue^oe)]=oe&ue,de[i.log2(oe^ve)]=oe&ve;var pe=7^ve;pe===z||pe===ae?(pe=7^ue,de[i.log2(ve^pe)]=pe&ve):de[i.log2(ue^pe)]=pe&ue;var ge=v,Ae=z;for(F=0;F<3;++F)ge[F]=Ae&1<<F?-1:1;return _};var i=t(2288),n=t(104),r=t(4670),o=t(417),l=new Array(16),u=new Array(8),d=new Array(8),c=new Array(3),x=[0,0,0];function g(f,S,w){for(var E=0;E<4;++E){f[E]=w[12+E];for(var C=0;C<3;++C)f[E]+=S[C]*w[4*C+E]}}!function(){for(var f=0;f<8;++f)u[f]=[1,1,1,1],d[f]=[1,1,1]}();var h=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function m(f){for(var S=0;S<h.length;++S)if((f=r.positive(f,h[S])).length<3)return 0;var w=f[0],E=w[0]/w[3],C=w[1]/w[3],O=0;for(S=1;S+1<f.length;++S){var P=f[S],R=f[S+1],j=P[0]/P[3]-E,z=P[1]/P[3]-C,N=R[0]/R[3]-E,Y=R[1]/R[3]-C;O+=Math.abs(j*Y-z*N)}return O}var y=[1,1,1],v=[0,0,0],_={cubeEdges:y,axis:v}},1681:function(p,s,t){"use strict";p.exports=function(y,v,_){var f=[],S=[0,0,0],w=[0,0,0],E=[0,0,0],C=[0,0,0];f.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var O=0;O<3;++O){for(var P=f.length/3|0,R=0;R<_[O].length;++R){var j=+_[O][R].x;f.push(j,0,1,j,1,1,j,0,-1,j,0,-1,j,1,1,j,1,-1)}var z=f.length/3|0;S[O]=P,w[O]=z-P,P=f.length/3|0;for(var N=0;N<_[O].length;++N)j=+_[O][N].x,f.push(j,0,1,j,1,1,j,0,-1,j,0,-1,j,1,1,j,1,-1);z=f.length/3|0,E[O]=P,C[O]=z-P}var Y=i(y,new Float32Array(f)),F=n(y,[{buffer:Y,type:y.FLOAT,size:3,stride:0,offset:0}]),U=r(y);return U.attributes.position.location=0,new h(y,Y,F,U,w,S,C,E)};var i=t(5827),n=t(2944),r=t(1943).j,o=[0,0,0],l=[0,0,0],u=[0,0,0],d=[0,0,0],c=[1,1];function x(y){return y[0]=y[1]=y[2]=0,y}function g(y,v){return y[0]=v[0],y[1]=v[1],y[2]=v[2],y}function h(y,v,_,f,S,w,E,C){this.gl=y,this.vertBuffer=v,this.vao=_,this.shader=f,this.tickCount=S,this.tickOffset=w,this.gridCount=E,this.gridOffset=C}var m=h.prototype;m.bind=function(y,v,_){this.shader.bind(),this.shader.uniforms.model=y,this.shader.uniforms.view=v,this.shader.uniforms.projection=_,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},m.unbind=function(){this.vao.unbind()},m.drawAxisLine=function(y,v,_,f,S){var w=x(l);this.shader.uniforms.majorAxis=l,w[y]=v[1][y]-v[0][y],this.shader.uniforms.minorAxis=w;var E,C=g(d,_);C[y]+=v[0][y],this.shader.uniforms.offset=C,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=f,(E=x(u))[(y+2)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6),(E=x(u))[(y+1)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6)},m.drawAxisTicks=function(y,v,_,f,S){if(this.tickCount[y]){var w=x(o);w[y]=1,this.shader.uniforms.majorAxis=w,this.shader.uniforms.offset=v,this.shader.uniforms.minorAxis=_,this.shader.uniforms.color=f,this.shader.uniforms.lineWidth=S;var E=x(u);E[y]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[y],this.tickOffset[y])}},m.drawGrid=function(y,v,_,f,S,w){if(this.gridCount[y]){var E=x(l);E[v]=_[1][v]-_[0][v],this.shader.uniforms.minorAxis=E;var C=g(d,f);C[v]+=_[0][v],this.shader.uniforms.offset=C;var O=x(o);O[y]=1,this.shader.uniforms.majorAxis=O;var P=x(u);P[y]=1,this.shader.uniforms.screenAxis=P,this.shader.uniforms.lineWidth=w,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,this.gridCount[y],this.gridOffset[y])}},m.drawZero=function(y,v,_,f,S,w){var E=x(l);this.shader.uniforms.majorAxis=E,E[y]=_[1][y]-_[0][y],this.shader.uniforms.minorAxis=E;var C=g(d,f);C[y]+=_[0][y],this.shader.uniforms.offset=C;var O=x(u);O[v]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=w,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,6)},m.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(p,s,t){"use strict";var i=t(6832),n=t(5158),r=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);s.j=function(x){return n(x,r,o,null,[{name:"position",type:"vec3"}])};var l=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),u=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);s.f=function(x){return n(x,l,u,null,[{name:"position",type:"vec3"}])};var d=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),c=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);s.bg=function(x){return n(x,d,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(p,s,t){"use strict";p.exports=function(g,h,m,y,v,_){var f=i(g),S=n(g,[{buffer:f,size:3}]),w=o(g);w.attributes.position.location=0;var E=new d(g,w,f,S);return E.update(h,m,y,v,_),E};var i=t(5827),n=t(2944),r=t(875),o=t(1943).f,l=window||k.global||{},u=l.__TEXT_CACHE||{};function d(g,h,m,y){this.gl=g,this.shader=h,this.buffer=m,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}l.__TEXT_CACHE={};var c=d.prototype,x=[0,0];c.bind=function(g,h,m,y){this.vao.bind(),this.shader.bind();var v=this.shader.uniforms;v.model=g,v.view=h,v.projection=m,v.pixelScale=y,x[0]=this.gl.drawingBufferWidth,x[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=x},c.unbind=function(){this.vao.unbind()},c.update=function(g,h,m,y,v){var _=[];function f(j,z,N,Y,F,U){var V=u[N];V||(V=u[N]={});var te=V[z];te||(te=V[z]=function(ue,ve){try{return r(ue,ve)}catch(be){return console.warn('error vectorizing text:"'+ue+'" error:',be),{cells:[],positions:[]}}}(z,{triangles:!0,font:N,textAlign:"center",textBaseline:"middle",lineSpacing:F,styletags:U}));for(var $=(Y||12)/12,X=te.positions,W=te.cells,J=0,Q=W.length;J<Q;++J)for(var re=W[J],ae=2;ae>=0;--ae){var oe=X[re[ae]];_.push($*oe[0],-$*oe[1],j)}}for(var S=[0,0,0],w=[0,0,0],E=[0,0,0],C=[0,0,0],O={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},P=0;P<3;++P){E[P]=_.length/3|0,f(.5*(g[0][P]+g[1][P]),h[P],m[P],12,1.25,O),C[P]=(_.length/3|0)-E[P],S[P]=_.length/3|0;for(var R=0;R<y[P].length;++R)y[P][R].text&&f(y[P][R].x,y[P][R].text,y[P][R].font||v,y[P][R].fontSize||12,1.25,O);w[P]=(_.length/3|0)-S[P]}this.buffer.update(_),this.tickOffset=S,this.tickCount=w,this.labelOffset=E,this.labelCount=C},c.drawTicks=function(g,h,m,y,v,_,f,S){this.tickCount[g]&&(this.shader.uniforms.axis=_,this.shader.uniforms.color=v,this.shader.uniforms.angle=m,this.shader.uniforms.scale=h,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[g],this.tickOffset[g]))},c.drawLabel=function(g,h,m,y,v,_,f,S){this.labelCount[g]&&(this.shader.uniforms.axis=_,this.shader.uniforms.color=v,this.shader.uniforms.angle=m,this.shader.uniforms.scale=h,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[g],this.labelOffset[g]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(p,s){"use strict";function t(i,n){var r=i+"",o=r.indexOf("."),l=0;o>=0&&(l=r.length-o-1);var u=Math.pow(10,l),d=Math.round(i*n*u),c=d+"";if(c.indexOf("e")>=0)return c;var x=d/u,g=d%u;d<0?(x=0|-Math.ceil(x),g=0|-g):(x=0|Math.floor(x),g|=0);var h=""+x;if(d<0&&(h="-"+h),l){for(var m=""+g;m.length<l;)m="0"+m;return h+"."+m}return h}s.create=function(i,n){for(var r=[],o=0;o<3;++o){for(var l=[],u=(i[0][o],i[1][o],0);u*n[o]<=i[1][o];++u)l.push({x:u*n[o],text:t(n[o],u)});for(u=-1;u*n[o]>=i[0][o];--u)l.push({x:u*n[o],text:t(n[o],u)});r.push(l)}return r},s.equal=function(i,n){for(var r=0;r<3;++r){if(i[r].length!==n[r].length)return!1;for(var o=0;o<i[r].length;++o){var l=i[r][o],u=n[r][o];if(l.x!==u.x||l.text!==u.text||l.font!==u.font||l.fontColor!==u.fontColor||l.fontSize!==u.fontSize||l.dx!==u.dx||l.dy!==u.dy)return!1}}return!0}},2771:function(p,s,t){"use strict";p.exports=function(_,f,S,w,E){var C=f.model||d,O=f.view||d,P=f.projection||d,R=f._ortho||!1,j=_.bounds,z=(E=E||r(C,O,P,j,R)).axis;o(c,O,C),o(c,P,c);for(var N=y,Y=0;Y<3;++Y)N[Y].lo=1/0,N[Y].hi=-1/0,N[Y].pixelsPerDataUnit=1/0;var F=i(l(c,c));l(c,c);for(var U=0;U<3;++U){var V=(U+1)%3,te=(U+2)%3,$=v;e:for(Y=0;Y<2;++Y){var X=[];if(z[U]<0!=!!Y){$[U]=j[Y][U];for(var W=0;W<2;++W){$[V]=j[W^Y][V];for(var J=0;J<2;++J)$[te]=j[J^W^Y][te],X.push($.slice())}var Q=R?5:4;for(W=Q;W===Q;++W){if(0===X.length)continue e;X=n.positive(X,F[W])}for(W=0;W<X.length;++W){te=X[W];var re=m(v,c,te,S,w);for(J=0;J<3;++J)N[J].lo=Math.min(N[J].lo,te[J]),N[J].hi=Math.max(N[J].hi,te[J]),J!==U&&(N[J].pixelsPerDataUnit=Math.min(N[J].pixelsPerDataUnit,Math.abs(re[J])))}}}}return N};var i=t(5795),n=t(4670),r=t(2864),o=t(104),l=t(2142),u=t(6342),d=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function x(_,f,S){this.lo=_,this.hi=f,this.pixelsPerDataUnit=S}var g=[0,0,0,1],h=[0,0,0,1];function m(_,f,S,w,E){for(var C=0;C<3;++C){for(var O=g,P=h,R=0;R<3;++R)P[R]=O[R]=S[R];P[3]=O[3]=1,P[C]+=1,u(P,P,f),P[3]<0&&(_[C]=1/0),O[C]-=1,u(O,O,f),O[3]<0&&(_[C]=1/0);var j=(O[0]/O[3]-P[0]/P[3])*w,z=(O[1]/O[3]-P[1]/P[3])*E;_[C]=.25*Math.sqrt(j*j+z*z)}return _}var y=[new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0)],v=[0,0,0]},5827:function(p,s,t){"use strict";var i=t(5306),n=t(7498),r=t(5050),o=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function l(x,g,h,m,y){this.gl=x,this.type=g,this.handle=h,this.length=m,this.usage=y}var u=l.prototype;function d(x,g,h,m,y,v){var _=y.length*y.BYTES_PER_ELEMENT;if(v<0)return x.bufferData(g,y,m),_;if(_+v>h)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return x.bufferSubData(g,v,y),h}function c(x,g){for(var h=i.malloc(x.length,g),m=x.length,y=0;y<m;++y)h[y]=x[y];return h}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(x,g){if("number"!=typeof g&&(g=-1),this.bind(),"object"==typeof x&&void 0!==x.shape){var h=x.dtype;if(o.indexOf(h)<0&&(h="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(h=gl.getExtension("OES_element_index_uint")&&"uint16"!==h?"uint32":"uint16"),h===x.dtype&&function(_,f){for(var S=1,w=f.length-1;w>=0;--w){if(f[w]!==S)return!1;S*=_[w]}return!0}(x.shape,x.stride))0===x.offset&&x.data.length===x.shape[0]?this.length=d(this.gl,this.type,this.length,this.usage,x.data,g):this.length=d(this.gl,this.type,this.length,this.usage,x.data.subarray(x.offset,x.shape[0]),g);else{var m=i.malloc(x.size,h),y=r(m,x.shape);n.assign(y,x),this.length=d(this.gl,this.type,this.length,this.usage,g<0?m:m.subarray(0,x.size),g),i.free(m)}}else if(Array.isArray(x)){var v;v=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(x,"uint16"):c(x,"float32"),this.length=d(this.gl,this.type,this.length,this.usage,g<0?v:v.subarray(0,x.length),g),i.free(v)}else if("object"==typeof x&&"number"==typeof x.length)this.length=d(this.gl,this.type,this.length,this.usage,x,g);else{if("number"!=typeof x&&void 0!==x)throw new Error("gl-buffer: Invalid data type");if(g>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(x|=0)<=0&&(x=1),this.gl.bufferData(this.type,0|x,this.usage),this.length=x}},p.exports=function(x,g,h,m){if(h=h||x.ARRAY_BUFFER,m=m||x.DYNAMIC_DRAW,h!==x.ARRAY_BUFFER&&h!==x.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(m!==x.DYNAMIC_DRAW&&m!==x.STATIC_DRAW&&m!==x.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var y=x.createBuffer(),v=new l(x,h,y,0,m);return v.update(g),v}},1140:function(p,s,t){"use strict";var i=t(2858);p.exports=function(r,o){var l=r.positions,u=r.vectors,d={positions:[],vertexIntensity:[],vertexIntensityBounds:r.vertexIntensityBounds,vectors:[],cells:[],coneOffset:r.coneOffset,colormap:r.colormap};if(0===r.positions.length)return o&&(o[0]=[0,0,0],o[1]=[0,0,0]),d;for(var c=0,x=1/0,g=-1/0,h=1/0,m=-1/0,y=1/0,v=-1/0,_=null,f=null,S=[],w=1/0,E=!1,C=0;C<l.length;C++){var O=l[C];x=Math.min(O[0],x),g=Math.max(O[0],g),h=Math.min(O[1],h),m=Math.max(O[1],m),y=Math.min(O[2],y),v=Math.max(O[2],v);var P=u[C];if(i.length(P)>c&&(c=i.length(P)),C){var R=2*i.distance(_,O)/(i.length(f)+i.length(P));R?(w=Math.min(w,R),E=!1):E=!0}E||(_=O,f=P),S.push(P)}var j=[x,h,y],z=[g,m,v];o&&(o[0]=j,o[1]=z),0===c&&(c=1);var N=1/c;isFinite(w)||(w=1),d.vectorScale=w;var Y=r.coneSize||.5;r.absoluteConeSize&&(Y=r.absoluteConeSize*N),d.coneScale=Y,C=0;for(var F=0;C<l.length;C++)for(var U=(O=l[C])[0],V=O[1],te=O[2],$=S[C],X=i.length($)*N,W=0;W<8;W++){d.positions.push([U,V,te,F++]),d.positions.push([U,V,te,F++]),d.positions.push([U,V,te,F++]),d.positions.push([U,V,te,F++]),d.positions.push([U,V,te,F++]),d.positions.push([U,V,te,F++]),d.vectors.push($),d.vectors.push($),d.vectors.push($),d.vectors.push($),d.vectors.push($),d.vectors.push($),d.vertexIntensity.push(X,X,X),d.vertexIntensity.push(X,X,X);var J=d.positions.length;d.cells.push([J-6,J-5,J-4],[J-3,J-2,J-1])}return d};var n=t(7234);p.exports.createMesh=t(5028),p.exports.createConeMesh=function(r,o){return p.exports.createMesh(r,o,{shaders:n,traceType:"cone"})}},5028:function(p,s,t){"use strict";var i=t(5158),n=t(5827),r=t(2944),o=t(8931),l=t(104),u=t(7437),d=t(5050),c=t(9156),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(m,y,v,_,f,S,w,E,C,O,P){this.gl=m,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=y,this.dirty=!0,this.triShader=v,this.pickShader=_,this.trianglePositions=f,this.triangleVectors=S,this.triangleColors=E,this.triangleUVs=C,this.triangleIds=w,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=P,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=x,this._view=x,this._projection=x,this._resolution=[1,1]}var h=g.prototype;h.isOpaque=function(){return this.opacity>=1},h.isTransparent=function(){return this.opacity<1},h.pickSlots=1,h.setPickBase=function(m){this.pickId=m},h.update=function(m){m=m||{};var y=this.gl;this.dirty=!0,"lightPosition"in m&&(this.lightPosition=m.lightPosition),"opacity"in m&&(this.opacity=m.opacity),"ambient"in m&&(this.ambientLight=m.ambient),"diffuse"in m&&(this.diffuseLight=m.diffuse),"specular"in m&&(this.specularLight=m.specular),"roughness"in m&&(this.roughness=m.roughness),"fresnel"in m&&(this.fresnel=m.fresnel),void 0!==m.tubeScale&&(this.tubeScale=m.tubeScale),void 0!==m.vectorScale&&(this.vectorScale=m.vectorScale),void 0!==m.coneScale&&(this.coneScale=m.coneScale),void 0!==m.coneOffset&&(this.coneOffset=m.coneOffset),m.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=y.LINEAR,this.texture.setPixels(function(re){for(var ae=c({colormap:re,nshades:256,format:"rgba"}),oe=new Uint8Array(1024),ue=0;ue<256;++ue){for(var ve=ae[ue],be=0;be<3;++be)oe[4*ue+be]=ve[be];oe[4*ue+3]=255*ve[3]}return d(oe,[256,256,4],[4,0,1])}(m.colormap)),this.texture.generateMipmap());var v=m.cells,_=m.positions,f=m.vectors;if(_&&v&&f){var S=[],w=[],E=[],C=[],O=[];this.cells=v,this.positions=_,this.vectors=f;var P=m.meshColor||[1,1,1,1],R=m.vertexIntensity,j=1/0,z=-1/0;if(R)if(m.vertexIntensityBounds)j=+m.vertexIntensityBounds[0],z=+m.vertexIntensityBounds[1];else for(var N=0;N<R.length;++N){var Y=R[N];j=Math.min(j,Y),z=Math.max(z,Y)}else for(N=0;N<_.length;++N)Y=_[N][2],j=Math.min(j,Y),z=Math.max(z,Y);for(this.intensity=R||function(re){for(var ae=re.length,oe=new Array(ae),ue=0;ue<ae;++ue)oe[ue]=re[ue][2];return oe}(_),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=0;N<_.length;++N)for(var F=_[N],U=0;U<3;++U)!isNaN(F[U])&&isFinite(F[U])&&(this.bounds[0][U]=Math.min(this.bounds[0][U],F[U]),this.bounds[1][U]=Math.max(this.bounds[1][U],F[U]));var V=0;e:for(N=0;N<v.length;++N){var te=v[N];if(3===te.length){for(U=0;U<3;++U){F=_[X=te[U]];for(var $=0;$<3;++$)if(isNaN(F[$])||!isFinite(F[$]))continue e}for(U=0;U<3;++U){var X;F=_[X=te[2-U]],S.push(F[0],F[1],F[2],F[3]);var W=f[X];w.push(W[0],W[1],W[2],W[3]||0);var J,Q=P;3===Q.length?E.push(Q[0],Q[1],Q[2],1):E.push(Q[0],Q[1],Q[2],Q[3]),J=R?[(R[X]-j)/(z-j),0]:[(F[2]-j)/(z-j),0],C.push(J[0],J[1]),O.push(N)}V+=1}}this.triangleCount=V,this.trianglePositions.update(S),this.triangleVectors.update(w),this.triangleColors.update(E),this.triangleUVs.update(C),this.triangleIds.update(new Uint32Array(O))}},h.drawTransparent=h.draw=function(m){m=m||{};for(var y=this.gl,v=m.model||x,_=m.view||x,f=m.projection||x,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)S[0][w]=Math.max(S[0][w],this.clipBounds[0][w]),S[1][w]=Math.min(S[1][w],this.clipBounds[1][w]);var E={model:v,view:_,projection:f,inverseModel:x.slice(),clipBounds:S,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};E.inverseModel=u(E.inverseModel,E.model),y.disable(y.CULL_FACE),this.texture.bind(0);var C=new Array(16);for(l(C,E.view,E.model),l(C,E.projection,C),u(C,C),w=0;w<3;++w)E.eyePosition[w]=C[12+w]/C[15];var O=C[15];for(w=0;w<3;++w)O+=this.lightPosition[w]*C[4*w+3];for(w=0;w<3;++w){for(var P=C[12+w],R=0;R<3;++R)P+=C[4*R+w]*this.lightPosition[R];E.lightPosition[w]=P/O}if(this.triangleCount>0){var j=this.triShader;j.bind(),j.uniforms=E,this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},h.drawPick=function(m){m=m||{};for(var y=this.gl,v=m.model||x,_=m.view||x,f=m.projection||x,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)S[0][w]=Math.max(S[0][w],this.clipBounds[0][w]),S[1][w]=Math.min(S[1][w],this.clipBounds[1][w]);this._model=[].slice.call(v),this._view=[].slice.call(_),this._projection=[].slice.call(f),this._resolution=[y.drawingBufferWidth,y.drawingBufferHeight];var E={model:v,view:_,projection:f,clipBounds:S,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},C=this.pickShader;C.bind(),C.uniforms=E,this.triangleCount>0&&(this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},h.pick=function(m){if(!m||m.id!==this.pickId)return null;var y=m.value[0]+256*m.value[1]+65536*m.value[2],v=this.cells[y],_=this.positions[v[1]].slice(0,3),f={position:_,dataCoordinate:_,index:Math.floor(v[1]/48)};return"cone"===this.traceType?f.index=Math.floor(v[1]/48):"streamtube"===this.traceType&&(f.intensity=this.intensity[v[1]],f.velocity=this.vectors[v[1]].slice(0,3),f.divergence=this.vectors[v[1]][3],f.index=y),f},h.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},p.exports=function(m,y,v){var _=v.shaders;1===arguments.length&&(m=(y=m).gl);var N,Y,f=((Y=i(m,(N=_).meshShader.vertex,N.meshShader.fragment,null,N.meshShader.attributes)).attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.vector.location=4,Y),S=function(z,N){var Y=i(z,N.pickShader.vertex,N.pickShader.fragment,null,N.pickShader.attributes);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y.attributes.vector.location=4,Y}(m,_),w=o(m,d(new Uint8Array([255,255,255,255]),[1,1,4]));w.generateMipmap(),w.minFilter=m.LINEAR_MIPMAP_LINEAR,w.magFilter=m.LINEAR;var E=n(m),C=n(m),O=n(m),P=n(m),R=n(m),j=new g(m,w,f,S,E,C,R,O,P,r(m,[{buffer:E,type:m.FLOAT,size:4},{buffer:R,type:m.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:m.FLOAT,size:4},{buffer:P,type:m.FLOAT,size:2},{buffer:C,type:m.FLOAT,size:4}]),v.traceType||"cone");return j.update(y),j}},7234:function(p,s,t){var i=t(6832),n=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),r=i(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),o=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);s.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},s.pickShader={vertex:o,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(p){p.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(p,s,t){var i=t(1950);p.exports=function(n){return i[n]}},3110:function(p,s,t){"use strict";p.exports=function(g){var h=g.gl,m=i(h),y=n(h,[{buffer:m,type:h.FLOAT,size:3,offset:0,stride:40},{buffer:m,type:h.FLOAT,size:4,offset:12,stride:40},{buffer:m,type:h.FLOAT,size:3,offset:28,stride:40}]),v=r(h);v.attributes.position.location=0,v.attributes.color.location=1,v.attributes.offset.location=2;var _=new l(h,m,y,v);return _.update(g),_};var i=t(5827),n=t(2944),r=t(7667),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(g,h,m,y){this.gl=g,this.shader=y,this.buffer=h,this.vao=m,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=l.prototype;function d(g,h){for(var m=0;m<3;++m)g[0][m]=Math.min(g[0][m],h[m]),g[1][m]=Math.max(g[1][m],h[m])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(g){var h=this.gl,m=this.shader.uniforms;this.shader.bind();var y=m.view=g.view||o,v=m.projection=g.projection||o;m.model=g.model||o,m.clipBounds=this.clipBounds,m.opacity=this.opacity;var _=y[12],f=y[13],S=y[14],w=y[15],E=(g._ortho?2:1)*this.pixelRatio*(v[3]*_+v[7]*f+v[11]*S+v[15]*w)/h.drawingBufferHeight;this.vao.bind();for(var C=0;C<3;++C)h.lineWidth(this.lineWidth[C]*this.pixelRatio),m.capSize=this.capSize[C]*E,this.lineCount[C]&&h.drawArrays(h.LINES,this.lineOffset[C],this.lineCount[C]);this.vao.unbind()};var c=function(){for(var g=new Array(3),h=0;h<3;++h){for(var m=[],y=1;y<=2;++y)for(var v=-1;v<=1;v+=2){var _=[0,0,0];_[(y+h)%3]=v,m.push(_)}g[h]=m}return g}();function x(g,h,m,y){for(var v=c[y],_=0;_<v.length;++_){var f=v[_];g.push(h[0],h[1],h[2],m[0],m[1],m[2],m[3],f[0],f[1],f[2])}return v.length}u.update=function(g){"lineWidth"in(g=g||{})&&(this.lineWidth=g.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in g&&(this.capSize=g.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in g&&(this.opacity=+g.opacity,this.opacity<1&&(this.hasAlpha=!0));var h=g.color||[[0,0,0],[0,0,0],[0,0,0]],m=g.position,y=g.error;if(Array.isArray(h[0])||(h=[h,h,h]),m&&y){var v=[],_=m.length,f=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var S=0;S<3;++S){this.lineOffset[S]=f;e:for(var w=0;w<_;++w){for(var E=m[w],C=0;C<3;++C)if(isNaN(E[C])||!isFinite(E[C]))continue e;var O,P=y[w],R=h[S];Array.isArray(R[0])&&(R=h[w]),3===R.length?R=[R[0],R[1],R[2],1]:4===R.length&&(R=[R[0],R[1],R[2],R[3]],!this.hasAlpha&&R[3]<1&&(this.hasAlpha=!0)),isNaN(P[0][S])||isNaN(P[1][S])||(P[0][S]<0&&((O=E.slice())[S]+=P[0][S],v.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,O[0],O[1],O[2],R[0],R[1],R[2],R[3],0,0,0),d(this.bounds,O),f+=2+x(v,O,R,S)),P[1][S]>0&&((O=E.slice())[S]+=P[1][S],v.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,O[0],O[1],O[2],R[0],R[1],R[2],R[3],0,0,0),d(this.bounds,O),f+=2+x(v,O,R,S)))}this.lineCount[S]=f-this.lineOffset[S]}this.buffer.update(v)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(p,s,t){"use strict";var i=t(6832),n=t(5158),r=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);p.exports=function(l){return n(l,r,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(p,s,t){"use strict";var i=t(8931);p.exports=function(_,f,S,w){n||(n=_.FRAMEBUFFER_UNSUPPORTED,r=_.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,o=_.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=_.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var E=_.getExtension("WEBGL_draw_buffers");if(!u&&E&&function(N,Y){var F=N.getParameter(Y.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(F+1);for(var U=0;U<=F;++U){for(var V=new Array(F),te=0;te<U;++te)V[te]=N.COLOR_ATTACHMENT0+te;for(te=U;te<F;++te)V[te]=N.NONE;u[U]=V}}(_,E),Array.isArray(f)&&(w=S,S=0|f[1],f=0|f[0]),"number"!=typeof f)throw new Error("gl-fbo: Missing shape parameter");var C=_.getParameter(_.MAX_RENDERBUFFER_SIZE);if(f<0||f>C||S<0||S>C)throw new Error("gl-fbo: Parameters are too large for FBO");var O=1;if("color"in(w=w||{})){if((O=Math.max(0|w.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(O>1){if(!E)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(O>_.getParameter(E.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+O+" draw buffers")}}var P=_.UNSIGNED_BYTE,R=_.getExtension("OES_texture_float");if(w.float&&O>0){if(!R)throw new Error("gl-fbo: Context does not support floating point textures");P=_.FLOAT}else w.preferFloat&&O>0&&R&&(P=_.FLOAT);var j=!0;"depth"in w&&(j=!!w.depth);var z=!1;return"stencil"in w&&(z=!!w.stencil),new m(_,f,S,P,O,j,z,E)};var n,r,o,l,u=null;function d(_){return[_.getParameter(_.FRAMEBUFFER_BINDING),_.getParameter(_.RENDERBUFFER_BINDING),_.getParameter(_.TEXTURE_BINDING_2D)]}function c(_,f){_.bindFramebuffer(_.FRAMEBUFFER,f[0]),_.bindRenderbuffer(_.RENDERBUFFER,f[1]),_.bindTexture(_.TEXTURE_2D,f[2])}function x(_){switch(_){case n:throw new Error("gl-fbo: Framebuffer unsupported");case r:throw new Error("gl-fbo: Framebuffer incomplete attachment");case o:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function g(_,f,S,w,E,C){if(!w)return null;var O=i(_,f,S,E,w);return O.magFilter=_.NEAREST,O.minFilter=_.NEAREST,O.mipSamples=1,O.bind(),_.framebufferTexture2D(_.FRAMEBUFFER,C,_.TEXTURE_2D,O.handle,0),O}function h(_,f,S,w,E){var C=_.createRenderbuffer();return _.bindRenderbuffer(_.RENDERBUFFER,C),_.renderbufferStorage(_.RENDERBUFFER,w,f,S),_.framebufferRenderbuffer(_.FRAMEBUFFER,E,_.RENDERBUFFER,C),C}function m(_,f,S,w,E,C,O,P){this.gl=_,this._shape=[0|f,0|S],this._destroyed=!1,this._ext=P,this.color=new Array(E);for(var R=0;R<E;++R)this.color[R]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=w,this._useDepth=C,this._useStencil=O;var j=this,z=[0|f,0|S];Object.defineProperties(z,{0:{get:function(){return j._shape[0]},set:function(N){return j.width=N}},1:{get:function(){return j._shape[1]},set:function(N){return j.height=N}}}),this._shapeVector=z,function(N){var Y=d(N.gl),F=N.gl,U=N.handle=F.createFramebuffer(),V=N._shape[0],te=N._shape[1],$=N.color.length,X=N._ext,W=N._useStencil,J=N._useDepth,Q=N._colorType;F.bindFramebuffer(F.FRAMEBUFFER,U);for(var re=0;re<$;++re)N.color[re]=g(F,V,te,Q,F.RGBA,F.COLOR_ATTACHMENT0+re);0===$?(N._color_rb=h(F,V,te,F.RGBA4,F.COLOR_ATTACHMENT0),X&&X.drawBuffersWEBGL(u[0])):$>1&&X.drawBuffersWEBGL(u[$]);var ae=F.getExtension("WEBGL_depth_texture");ae?W?N.depth=g(F,V,te,ae.UNSIGNED_INT_24_8_WEBGL,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):J&&(N.depth=g(F,V,te,F.UNSIGNED_SHORT,F.DEPTH_COMPONENT,F.DEPTH_ATTACHMENT)):J&&W?N._depth_rb=h(F,V,te,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):J?N._depth_rb=h(F,V,te,F.DEPTH_COMPONENT16,F.DEPTH_ATTACHMENT):W&&(N._depth_rb=h(F,V,te,F.STENCIL_INDEX,F.STENCIL_ATTACHMENT));var oe=F.checkFramebufferStatus(F.FRAMEBUFFER);if(oe!==F.FRAMEBUFFER_COMPLETE){for(N._destroyed=!0,F.bindFramebuffer(F.FRAMEBUFFER,null),F.deleteFramebuffer(N.handle),N.handle=null,N.depth&&(N.depth.dispose(),N.depth=null),N._depth_rb&&(F.deleteRenderbuffer(N._depth_rb),N._depth_rb=null),re=0;re<N.color.length;++re)N.color[re].dispose(),N.color[re]=null;N._color_rb&&(F.deleteRenderbuffer(N._color_rb),N._color_rb=null),c(F,Y),x(oe)}c(F,Y)}(this)}var y=m.prototype;function v(_,f,S){if(_._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(_._shape[0]!==f||_._shape[1]!==S){var w=_.gl,E=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(f<0||f>E||S<0||S>E)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");_._shape[0]=f,_._shape[1]=S;for(var C=d(w),O=0;O<_.color.length;++O)_.color[O].shape=_._shape;_._color_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,_._color_rb),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,_._shape[0],_._shape[1])),_.depth&&(_.depth.shape=_._shape),_._depth_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,_._depth_rb),_._useDepth&&_._useStencil?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_STENCIL,_._shape[0],_._shape[1]):_._useDepth?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_COMPONENT16,_._shape[0],_._shape[1]):_._useStencil&&w.renderbufferStorage(w.RENDERBUFFER,w.STENCIL_INDEX,_._shape[0],_._shape[1])),w.bindFramebuffer(w.FRAMEBUFFER,_.handle);var P=w.checkFramebufferStatus(w.FRAMEBUFFER);P!==w.FRAMEBUFFER_COMPLETE&&(_.dispose(),c(w,C),x(P)),c(w,C)}}Object.defineProperties(y,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(_){if(Array.isArray(_)||(_=[0|_,0|_]),2!==_.length)throw new Error("gl-fbo: Shape vector must be length 2");var f=0|_[0],S=0|_[1];return v(this,f,S),[f,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(_){return v(this,_|=0,this._shape[1]),_},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(_){return _|=0,v(this,this._shape[0],_),_},enumerable:!1}}),y.bind=function(){if(!this._destroyed){var _=this.gl;_.bindFramebuffer(_.FRAMEBUFFER,this.handle),_.viewport(0,0,this._shape[0],this._shape[1])}},y.dispose=function(){if(!this._destroyed){this._destroyed=!0;var _=this.gl;_.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(_.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var f=0;f<this.color.length;++f)this.color[f].dispose(),this.color[f]=null;this._color_rb&&(_.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(p,s,t){var i=t(8974).sprintf,n=t(6603),r=t(9365),o=t(8008);p.exports=function(l,u,d){"use strict";var c=r(u)||"of unknown name (see npm glsl-shader-name)",x="unknown type";void 0!==d&&(x=d===n.FRAGMENT_SHADER?"fragment":"vertex");for(var g=i("Error compiling %s shader %s:\n",x,c),h=i("%s%s",g,l),m=l.split("\n"),y={},v=0;v<m.length;v++){var _=m[v];if(""!==_&&"\0"!==_){var f=parseInt(_.split(":")[2]);if(isNaN(f))throw new Error(i("Could not parse error: %s",_));y[f]=_}}var S=o(u).split("\n");for(v=0;v<S.length;v++)if((y[v+3]||y[v+2]||y[v+1])&&(g+=S[v]+"\n",y[v+1])){var w=y[v+1];w=w.substr(w.split(":",3).join(":").length+1).trim(),g+=i("^^^ %s\n\n",w)}return{long:g.trim(),short:h.trim()}}},6386:function(p,s,t){"use strict";p.exports=function(h,m){var y=h.gl,v=new d(h,o(y,u.vertex,u.fragment),o(y,u.pickVertex,u.pickFragment),l(y),l(y),l(y),l(y));return v.update(m),h.addObject(v),v};var i=t(5070),n=t(9560),r=t(5306),o=t(5158),l=t(5827),u=t(1292);function d(h,m,y,v,_,f,S){this.plot=h,this.shader=m,this.pickShader=y,this.positionBuffer=v,this.weightBuffer=_,this.colorBuffer=f,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,h,m,x=d.prototype,g=[0,0,1,0,0,1,1,0,1,1,0,1];x.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var h=this.plot,m=this.shader,y=this.bounds,v=this.numVertices;if(!(v<=0)){var _=h.gl,f=h.dataBox,S=y[2]-y[0],w=y[3]-y[1],E=f[2]-f[0],C=f[3]-f[1];c[0]=2*S/E,c[4]=2*w/C,c[6]=2*(y[0]-f[0])/E-1,c[7]=2*(y[1]-f[1])/C-1,m.bind();var O=m.uniforms;O.viewTransform=c,O.shape=this.shape;var P=m.attributes;this.positionBuffer.bind(),P.position.pointer(),this.weightBuffer.bind(),P.weight.pointer(_.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),P.color.pointer(_.UNSIGNED_BYTE,!0),_.drawArrays(_.TRIANGLES,0,v)}}),x.drawPick=(h=[1,0,0,0,1,0,0,0,1],m=[0,0,0,0],function(y){var v=this.plot,_=this.pickShader,f=this.bounds,S=this.numVertices;if(!(S<=0)){var w=v.gl,E=v.dataBox,C=f[2]-f[0],O=f[3]-f[1],P=E[2]-E[0],R=E[3]-E[1];h[0]=2*C/P,h[4]=2*O/R,h[6]=2*(f[0]-E[0])/P-1,h[7]=2*(f[1]-E[1])/R-1;for(var j=0;j<4;++j)m[j]=y>>8*j&255;this.pickOffset=y,_.bind();var z=_.uniforms;z.viewTransform=h,z.pickOffset=m,z.shape=this.shape;var N=_.attributes;return this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(w.UNSIGNED_BYTE,!1),this.idBuffer.bind(),N.pickId.pointer(w.UNSIGNED_BYTE,!1),w.drawArrays(w.TRIANGLES,0,S),y+this.shape[0]*this.shape[1]}}),x.pick=function(h,m,y){var v=this.pickOffset,_=this.shape[0]*this.shape[1];if(y<v||y>=v+_)return null;var f=y-v,S=this.xData,w=this.yData;return{object:this,pointId:f,dataCoord:[S[f%this.shape[0]],w[f/this.shape[0]|0]]}},x.update=function(h){var m=(h=h||{}).shape||[0,0],y=h.x||n(m[0]),v=h.y||n(m[1]),_=h.z||new Float32Array(m[0]*m[1]),f=!1!==h.zsmooth;this.xData=y,this.yData=v;var S,w,E,C,O=h.colorLevels||[0],P=h.colorValues||[0,0,0,1],R=O.length,j=this.bounds;f?(S=j[0]=y[0],w=j[1]=v[0],E=j[2]=y[y.length-1],C=j[3]=v[v.length-1]):(S=j[0]=y[0]+(y[1]-y[0])/2,w=j[1]=v[0]+(v[1]-v[0])/2,E=j[2]=y[y.length-1]+(y[y.length-1]-y[y.length-2])/2,C=j[3]=v[v.length-1]+(v[v.length-1]-v[v.length-2])/2);var z=1/(E-S),N=1/(C-w),Y=m[0],F=m[1];this.shape=[Y,F];var U=(f?(Y-1)*(F-1):Y*F)*(g.length>>>1);this.numVertices=U;for(var V=r.mallocUint8(4*U),te=r.mallocFloat32(2*U),$=r.mallocUint8(2*U),X=r.mallocUint32(U),W=0,J=f?Y-1:Y,Q=f?F-1:F,re=0;re<Q;++re){var ae,oe;f?(ae=N*(v[re]-w),oe=N*(v[re+1]-w)):(ae=re<F-1?N*(v[re]-(v[re+1]-v[re])/2-w):N*(v[re]-(v[re]-v[re-1])/2-w),oe=re<F-1?N*(v[re]+(v[re+1]-v[re])/2-w):N*(v[re]+(v[re]-v[re-1])/2-w));for(var ue=0;ue<J;++ue){var ve,be;f?(ve=z*(y[ue]-S),be=z*(y[ue+1]-S)):(ve=ue<Y-1?z*(y[ue]-(y[ue+1]-y[ue])/2-S):z*(y[ue]-(y[ue]-y[ue-1])/2-S),be=ue<Y-1?z*(y[ue]+(y[ue+1]-y[ue])/2-S):z*(y[ue]+(y[ue]-y[ue-1])/2-S));for(var de=0;de<g.length;de+=2){var pe,ge,Ae,ye,we=g[de],se=g[de+1],ie=_[f?(re+se)*Y+(ue+we):re*Y+ue],he=i.le(O,ie);if(he<0)pe=P[0],ge=P[1],Ae=P[2],ye=P[3];else if(he===R-1)pe=P[4*R-4],ge=P[4*R-3],Ae=P[4*R-2],ye=P[4*R-1];else{var Se=(ie-O[he])/(O[he+1]-O[he]),_e=1-Se,Me=4*he,Ee=4*(he+1);pe=_e*P[Me]+Se*P[Ee],ge=_e*P[Me+1]+Se*P[Ee+1],Ae=_e*P[Me+2]+Se*P[Ee+2],ye=_e*P[Me+3]+Se*P[Ee+3]}V[4*W]=255*pe,V[4*W+1]=255*ge,V[4*W+2]=255*Ae,V[4*W+3]=255*ye,te[2*W]=.5*ve+.5*be,te[2*W+1]=.5*ae+.5*oe,$[2*W]=we,$[2*W+1]=se,X[W]=re*Y+ue,W+=1}}}this.positionBuffer.update(te),this.weightBuffer.update($),this.colorBuffer.update(V),this.idBuffer.update(X),r.free(te),r.free(V),r.free($),r.free(X)},x.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(p,s,t){"use strict";var i=t(6832);p.exports={fragment:i(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:i(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(p,s,t){var i=t(6832),n=t(5158),r=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];s.createShader=function(d){return n(d,r,o,null,u)},s.createPickShader=function(d){return n(d,r,l,null,u)}},6086:function(p,s,t){"use strict";p.exports=function(S){var w=S.gl||S.scene&&S.scene.gl,E=x(w);E.attributes.position.location=0,E.attributes.nextPosition.location=1,E.attributes.arcLength.location=2,E.attributes.lineWidth.location=3,E.attributes.color.location=4;var C=g(w);C.attributes.position.location=0,C.attributes.nextPosition.location=1,C.attributes.arcLength.location=2,C.attributes.lineWidth.location=3,C.attributes.color.location=4;for(var O=i(w),P=n(w,[{buffer:O,size:3,offset:0,stride:48},{buffer:O,size:3,offset:12,stride:48},{buffer:O,size:1,offset:24,stride:48},{buffer:O,size:1,offset:28,stride:48},{buffer:O,size:4,offset:32,stride:48}]),R=d(new Array(1024),[256,1,4]),j=0;j<1024;++j)R.data[j]=255;var z=r(w,R);z.wrap=w.REPEAT;var N=new _(w,E,C,O,P,z);return N.update(S),N};var i=t(5827),n=t(2944),r=t(8931),o=new Uint8Array(4),l=new Float32Array(o.buffer),u=t(5070),d=t(5050),c=t(248),x=c.createShader,g=c.createPickShader,h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function m(S,w){for(var E=0,C=0;C<3;++C){var O=S[C]-w[C];E+=O*O}return Math.sqrt(E)}function y(S){for(var w=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)w[0][E]=Math.max(S[0][E],w[0][E]),w[1][E]=Math.min(S[1][E],w[1][E]);return w}function v(S,w,E,C){this.arcLength=S,this.position=w,this.index=E,this.dataCoordinate=C}function _(S,w,E,C,O,P){this.gl=S,this.shader=w,this.pickShader=E,this.buffer=C,this.vao=O,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=P,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var f=_.prototype;f.isTransparent=function(){return this.hasAlpha},f.isOpaque=function(){return!this.hasAlpha},f.pickSlots=1,f.setPickBase=function(S){this.pickId=S},f.drawTransparent=f.draw=function(S){if(this.vertexCount){var w=this.gl,E=this.shader,C=this.vao;E.bind(),E.uniforms={model:S.model||h,view:S.view||h,projection:S.projection||h,clipBounds:y(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[w.drawingBufferWidth,w.drawingBufferHeight],pixelRatio:this.pixelRatio},C.bind(),C.draw(w.TRIANGLE_STRIP,this.vertexCount),C.unbind()}},f.drawPick=function(S){if(this.vertexCount){var w=this.gl,E=this.pickShader,C=this.vao;E.bind(),E.uniforms={model:S.model||h,view:S.view||h,projection:S.projection||h,pickId:this.pickId,clipBounds:y(this.clipBounds),screenShape:[w.drawingBufferWidth,w.drawingBufferHeight],pixelRatio:this.pixelRatio},C.bind(),C.draw(w.TRIANGLE_STRIP,this.vertexCount),C.unbind()}},f.update=function(S){var w,E;this.dirty=!0;var C=!!S.connectGaps;"dashScale"in S&&(this.dashScale=S.dashScale),this.hasAlpha=!1,"opacity"in S&&(this.opacity=+S.opacity,this.opacity<1&&(this.hasAlpha=!0));var O=[],P=[],R=[],j=0,z=0,N=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Y=S.position||S.positions;if(Y){var F=S.color||S.colors||[0,0,0,1],U=S.lineWidth||1,V=!1;e:for(w=1;w<Y.length;++w){var te,$,X,W=Y[w-1],J=Y[w];for(P.push(j),R.push(W.slice()),E=0;E<3;++E){if(isNaN(W[E])||isNaN(J[E])||!isFinite(W[E])||!isFinite(J[E])){if(!C&&O.length>0){for(var Q=0;Q<24;++Q)O.push(O[O.length-12]);z+=2,V=!0}continue e}N[0][E]=Math.min(N[0][E],W[E],J[E]),N[1][E]=Math.max(N[1][E],W[E],J[E])}Array.isArray(F[0])?(te=F.length>w-1?F[w-1]:F.length>0?F[F.length-1]:[0,0,0,1],$=F.length>w?F[w]:F.length>0?F[F.length-1]:[0,0,0,1]):te=$=F,3===te.length&&(te=[te[0],te[1],te[2],1]),3===$.length&&($=[$[0],$[1],$[2],1]),!this.hasAlpha&&te[3]<1&&(this.hasAlpha=!0),X=Array.isArray(U)?U.length>w-1?U[w-1]:U.length>0?U[U.length-1]:[0,0,0,1]:U;var re=j;if(j+=m(W,J),V){for(E=0;E<2;++E)O.push(W[0],W[1],W[2],J[0],J[1],J[2],re,X,te[0],te[1],te[2],te[3]);z+=2,V=!1}O.push(W[0],W[1],W[2],J[0],J[1],J[2],re,X,te[0],te[1],te[2],te[3],W[0],W[1],W[2],J[0],J[1],J[2],re,-X,te[0],te[1],te[2],te[3],J[0],J[1],J[2],W[0],W[1],W[2],j,-X,$[0],$[1],$[2],$[3],J[0],J[1],J[2],W[0],W[1],W[2],j,X,$[0],$[1],$[2],$[3]),z+=4}}if(this.buffer.update(O),P.push(j),R.push(Y[Y.length-1].slice()),this.bounds=N,this.vertexCount=z,this.points=R,this.arcLength=P,"dashes"in S){var ae=S.dashes.slice();for(ae.unshift(0),w=1;w<ae.length;++w)ae[w]=ae[w-1]+ae[w];var oe=d(new Array(1024),[256,1,4]);for(w=0;w<256;++w){for(E=0;E<4;++E)oe.set(w,0,E,0);1&u.le(ae,ae[ae.length-1]*w/255)?oe.set(w,0,0,0):oe.set(w,0,0,255)}this.texture.setPixels(oe)}},f.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},f.pick=function(S){if(!S||S.id!==this.pickId)return null;var Y,F,U,w=(Y=S.value[0],F=S.value[1],U=S.value[2],o[0]=0,o[1]=U,o[2]=F,o[3]=Y,l[0]),E=u.le(this.arcLength,w);if(E<0)return null;if(E===this.arcLength.length-1)return new v(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),E);for(var C=this.points[E],O=this.points[Math.min(E+1,this.points.length-1)],P=(w-this.arcLength[E])/(this.arcLength[E+1]-this.arcLength[E]),R=1-P,j=[0,0,0],z=0;z<3;++z)j[z]=R*C[z]+P*O[z];var N=Math.min(P<.5?E:E+1,this.points.length-1);return new v(w,j,N,this.points[N])}},7332:function(p){p.exports=function(s){var t=new Float32Array(16);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t}},9823:function(p){p.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7787:function(p){p.exports=function(s){var t=s[0],i=s[1],n=s[2],r=s[3],o=s[4],l=s[5],u=s[6],d=s[7],c=s[8],x=s[9],g=s[10],h=s[11],m=s[12],y=s[13],v=s[14],_=s[15];return(t*l-i*o)*(g*_-h*v)-(t*u-n*o)*(x*_-h*y)+(t*d-r*o)*(x*v-g*y)+(i*u-n*l)*(c*_-h*m)-(i*d-r*l)*(c*v-g*m)+(n*d-r*u)*(c*y-x*m)}},5950:function(p){p.exports=function(s,t){var i=t[0],n=t[1],r=t[2],o=t[3],l=i+i,u=n+n,d=r+r,c=i*l,x=n*l,g=n*u,h=r*l,m=r*u,y=r*d,v=o*l,_=o*u,f=o*d;return s[0]=1-g-y,s[1]=x+f,s[2]=h-_,s[3]=0,s[4]=x-f,s[5]=1-c-y,s[6]=m+v,s[7]=0,s[8]=h+_,s[9]=m-v,s[10]=1-c-g,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7280:function(p){p.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],l=t[3],u=n+n,d=r+r,c=o+o,x=n*u,g=n*d,h=n*c,m=r*d,y=r*c,v=o*c,_=l*u,f=l*d,S=l*c;return s[0]=1-(m+v),s[1]=g+S,s[2]=h-f,s[3]=0,s[4]=g-S,s[5]=1-(x+v),s[6]=y+_,s[7]=0,s[8]=h+f,s[9]=y-_,s[10]=1-(x+m),s[11]=0,s[12]=i[0],s[13]=i[1],s[14]=i[2],s[15]=1,s}},9947:function(p){p.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7437:function(p){p.exports=function(s,t){var i=t[0],n=t[1],r=t[2],o=t[3],l=t[4],u=t[5],d=t[6],c=t[7],x=t[8],g=t[9],h=t[10],m=t[11],y=t[12],v=t[13],_=t[14],f=t[15],S=i*u-n*l,w=i*d-r*l,E=i*c-o*l,C=n*d-r*u,O=n*c-o*u,P=r*c-o*d,R=x*v-g*y,j=x*_-h*y,z=x*f-m*y,N=g*_-h*v,Y=g*f-m*v,F=h*f-m*_,U=S*F-w*Y+E*N+C*z-O*j+P*R;return U?(U=1/U,s[0]=(u*F-d*Y+c*N)*U,s[1]=(r*Y-n*F-o*N)*U,s[2]=(v*P-_*O+f*C)*U,s[3]=(h*O-g*P-m*C)*U,s[4]=(d*z-l*F-c*j)*U,s[5]=(i*F-r*z+o*j)*U,s[6]=(_*E-y*P-f*w)*U,s[7]=(x*P-h*E+m*w)*U,s[8]=(l*Y-u*z+c*R)*U,s[9]=(n*z-i*Y-o*R)*U,s[10]=(y*O-v*E+f*S)*U,s[11]=(g*E-x*O-m*S)*U,s[12]=(u*j-l*N-d*R)*U,s[13]=(i*N-n*j+r*R)*U,s[14]=(v*w-y*C-_*S)*U,s[15]=(x*C-g*w+h*S)*U,s):null}},3012:function(p,s,t){var i=t(9947);p.exports=function(n,r,o,l){var u,d,c,x,g,h,m,y,v,_,f=r[0],S=r[1],w=r[2],E=l[0],C=l[1],O=l[2],P=o[0],R=o[1],j=o[2];return Math.abs(f-P)<1e-6&&Math.abs(S-R)<1e-6&&Math.abs(w-j)<1e-6?i(n):(m=f-P,y=S-R,v=w-j,u=C*(v*=_=1/Math.sqrt(m*m+y*y+v*v))-O*(y*=_),d=O*(m*=_)-E*v,c=E*y-C*m,(_=Math.sqrt(u*u+d*d+c*c))?(u*=_=1/_,d*=_,c*=_):(u=0,d=0,c=0),x=y*c-v*d,g=v*u-m*c,h=m*d-y*u,(_=Math.sqrt(x*x+g*g+h*h))?(x*=_=1/_,g*=_,h*=_):(x=0,g=0,h=0),n[0]=u,n[1]=x,n[2]=m,n[3]=0,n[4]=d,n[5]=g,n[6]=y,n[7]=0,n[8]=c,n[9]=h,n[10]=v,n[11]=0,n[12]=-(u*f+d*S+c*w),n[13]=-(x*f+g*S+h*w),n[14]=-(m*f+y*S+v*w),n[15]=1,n)}},104:function(p){p.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],l=t[3],u=t[4],d=t[5],c=t[6],x=t[7],g=t[8],h=t[9],m=t[10],y=t[11],v=t[12],_=t[13],f=t[14],S=t[15],w=i[0],E=i[1],C=i[2],O=i[3];return s[0]=w*n+E*u+C*g+O*v,s[1]=w*r+E*d+C*h+O*_,s[2]=w*o+E*c+C*m+O*f,s[3]=w*l+E*x+C*y+O*S,w=i[4],E=i[5],C=i[6],O=i[7],s[4]=w*n+E*u+C*g+O*v,s[5]=w*r+E*d+C*h+O*_,s[6]=w*o+E*c+C*m+O*f,s[7]=w*l+E*x+C*y+O*S,w=i[8],E=i[9],C=i[10],O=i[11],s[8]=w*n+E*u+C*g+O*v,s[9]=w*r+E*d+C*h+O*_,s[10]=w*o+E*c+C*m+O*f,s[11]=w*l+E*x+C*y+O*S,w=i[12],E=i[13],C=i[14],O=i[15],s[12]=w*n+E*u+C*g+O*v,s[13]=w*r+E*d+C*h+O*_,s[14]=w*o+E*c+C*m+O*f,s[15]=w*l+E*x+C*y+O*S,s}},5268:function(p){p.exports=function(s,t,i,n,r,o,l){var u=1/(t-i),d=1/(n-r),c=1/(o-l);return s[0]=-2*u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*d,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*c,s[11]=0,s[12]=(t+i)*u,s[13]=(r+n)*d,s[14]=(l+o)*c,s[15]=1,s}},1120:function(p){p.exports=function(s,t,i,n,r){var o=1/Math.tan(t/2),l=1/(n-r);return s[0]=o/i,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(r+n)*l,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*r*n*l,s[15]=0,s}},4422:function(p){p.exports=function(s,t,i,n){var r,o,l,u,d,c,x,g,h,m,y,v,_,f,S,w,E,C,O,P,R,j,z,N,Y=n[0],F=n[1],U=n[2],V=Math.sqrt(Y*Y+F*F+U*U);return Math.abs(V)<1e-6?null:(Y*=V=1/V,F*=V,U*=V,r=Math.sin(i),l=1-(o=Math.cos(i)),u=t[0],d=t[1],c=t[2],x=t[3],g=t[4],h=t[5],m=t[6],y=t[7],v=t[8],_=t[9],f=t[10],S=t[11],w=Y*Y*l+o,E=F*Y*l+U*r,C=U*Y*l-F*r,O=Y*F*l-U*r,P=F*F*l+o,R=U*F*l+Y*r,j=Y*U*l+F*r,z=F*U*l-Y*r,N=U*U*l+o,s[0]=u*w+g*E+v*C,s[1]=d*w+h*E+_*C,s[2]=c*w+m*E+f*C,s[3]=x*w+y*E+S*C,s[4]=u*O+g*P+v*R,s[5]=d*O+h*P+_*R,s[6]=c*O+m*P+f*R,s[7]=x*O+y*P+S*R,s[8]=u*j+g*z+v*N,s[9]=d*j+h*z+_*N,s[10]=c*j+m*z+f*N,s[11]=x*j+y*z+S*N,t!==s&&(s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s)}},6109:function(p){p.exports=function(s,t,i){var n=Math.sin(i),r=Math.cos(i),o=t[4],l=t[5],u=t[6],d=t[7],c=t[8],x=t[9],g=t[10],h=t[11];return t!==s&&(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[4]=o*r+c*n,s[5]=l*r+x*n,s[6]=u*r+g*n,s[7]=d*r+h*n,s[8]=c*r-o*n,s[9]=x*r-l*n,s[10]=g*r-u*n,s[11]=h*r-d*n,s}},7115:function(p){p.exports=function(s,t,i){var n=Math.sin(i),r=Math.cos(i),o=t[0],l=t[1],u=t[2],d=t[3],c=t[8],x=t[9],g=t[10],h=t[11];return t!==s&&(s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=o*r-c*n,s[1]=l*r-x*n,s[2]=u*r-g*n,s[3]=d*r-h*n,s[8]=o*n+c*r,s[9]=l*n+x*r,s[10]=u*n+g*r,s[11]=d*n+h*r,s}},5240:function(p){p.exports=function(s,t,i){var n=Math.sin(i),r=Math.cos(i),o=t[0],l=t[1],u=t[2],d=t[3],c=t[4],x=t[5],g=t[6],h=t[7];return t!==s&&(s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=o*r+c*n,s[1]=l*r+x*n,s[2]=u*r+g*n,s[3]=d*r+h*n,s[4]=c*r-o*n,s[5]=x*r-l*n,s[6]=g*r-u*n,s[7]=h*r-d*n,s}},3668:function(p){p.exports=function(s,t,i){var n=i[0],r=i[1],o=i[2];return s[0]=t[0]*n,s[1]=t[1]*n,s[2]=t[2]*n,s[3]=t[3]*n,s[4]=t[4]*r,s[5]=t[5]*r,s[6]=t[6]*r,s[7]=t[7]*r,s[8]=t[8]*o,s[9]=t[9]*o,s[10]=t[10]*o,s[11]=t[11]*o,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}},998:function(p){p.exports=function(s,t,i){var n,r,o,l,u,d,c,x,g,h,m,y,v=i[0],_=i[1],f=i[2];return t===s?(s[12]=t[0]*v+t[4]*_+t[8]*f+t[12],s[13]=t[1]*v+t[5]*_+t[9]*f+t[13],s[14]=t[2]*v+t[6]*_+t[10]*f+t[14],s[15]=t[3]*v+t[7]*_+t[11]*f+t[15]):(n=t[0],r=t[1],o=t[2],l=t[3],u=t[4],d=t[5],c=t[6],x=t[7],g=t[8],h=t[9],m=t[10],y=t[11],s[0]=n,s[1]=r,s[2]=o,s[3]=l,s[4]=u,s[5]=d,s[6]=c,s[7]=x,s[8]=g,s[9]=h,s[10]=m,s[11]=y,s[12]=n*v+u*_+g*f+t[12],s[13]=r*v+d*_+h*f+t[13],s[14]=o*v+c*_+m*f+t[14],s[15]=l*v+x*_+y*f+t[15]),s}},2142:function(p){p.exports=function(s,t){if(s===t){var i=t[1],n=t[2],r=t[3],o=t[6],l=t[7],u=t[11];s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=i,s[6]=t[9],s[7]=t[13],s[8]=n,s[9]=o,s[11]=t[14],s[12]=r,s[13]=l,s[14]=u}else s[0]=t[0],s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=t[1],s[5]=t[5],s[6]=t[9],s[7]=t[13],s[8]=t[2],s[9]=t[6],s[10]=t[10],s[11]=t[14],s[12]=t[3],s[13]=t[7],s[14]=t[11],s[15]=t[15];return s}},4340:function(p,s,t){"use strict";var i=t(957),n=t(7309);function r(u,d){for(var c=[0,0,0,0],x=0;x<4;++x)for(var g=0;g<4;++g)c[g]+=u[4*x+g]*d[x];return c}function o(u,d,c,x,g){for(var h=r(x,r(c,r(d,[u[0],u[1],u[2],1]))),m=0;m<3;++m)h[m]/=h[3];return[.5*g[0]*(1+h[0]),.5*g[1]*(1-h[1])]}function l(u,d){for(var c=[0,0,0],x=0;x<u.length;++x)for(var g=u[x],h=d[x],m=0;m<3;++m)c[m]+=h*g[m];return c}p.exports=function(u,d,c,x,g,h){if(1===u.length)return[0,u[0].slice()];for(var m=new Array(u.length),y=0;y<u.length;++y)m[y]=o(u[y],c,x,g,h);var v=0,_=1/0;for(y=0;y<m.length;++y){for(var f=0,S=0;S<2;++S)f+=Math.pow(m[y][S]-d[S],2);f<_&&(_=f,v=y)}var w=function(C,O){if(2===C.length){for(var P=0,R=0,j=0;j<2;++j)P+=Math.pow(O[j]-C[0][j],2),R+=Math.pow(O[j]-C[1][j],2);return(P=Math.sqrt(P))+(R=Math.sqrt(R))<1e-6?[1,0]:[R/(P+R),P/(R+P)]}if(3===C.length){var z=[0,0];return n(C[0],C[1],C[2],O,z),i(C,z)}return[]}(m,d),E=0;for(y=0;y<3;++y){if(w[y]<-.001||w[y]>1.0001)return null;E+=w[y]}return Math.abs(E-1)>.001?null:[v,l(u,w),w]}},2056:function(p,s,t){var i=t(6832),n=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),r=i(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),u=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),d=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),c=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),x=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),g=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),h=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),m=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);s.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.wireShader={vertex:o,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.pointShader={vertex:u,fragment:d,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},s.pickShader={vertex:c,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},s.pointPickShader={vertex:g,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},s.contourShader={vertex:h,fragment:m,attributes:[{name:"position",type:"vec3"}]}},8116:function(p,s,t){"use strict";var i=t(5158),n=t(5827),r=t(2944),o=t(8931),l=t(115),u=t(104),d=t(7437),c=t(5050),x=t(9156),g=t(7212),h=t(5306),m=t(2056),y=t(4340),v=m.meshShader,_=m.wireShader,f=m.pointShader,S=m.pickShader,w=m.pointPickShader,E=m.contourShader,C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function O(F,U,V,te,$,X,W,J,Q,re,ae,oe,ue,ve,be,de,pe,ge,Ae,ye,we,se,ie,he,Se,_e,Me){this.gl=F,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=U,this.dirty=!0,this.triShader=V,this.lineShader=te,this.pointShader=$,this.pickShader=X,this.pointPickShader=W,this.contourShader=J,this.trianglePositions=Q,this.triangleColors=ae,this.triangleNormals=ue,this.triangleUVs=oe,this.triangleIds=re,this.triangleVAO=ve,this.triangleCount=0,this.lineWidth=1,this.edgePositions=be,this.edgeColors=pe,this.edgeUVs=ge,this.edgeIds=de,this.edgeVAO=Ae,this.edgeCount=0,this.pointPositions=ye,this.pointColors=se,this.pointUVs=ie,this.pointSizes=he,this.pointIds=we,this.pointVAO=Se,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=_e,this.contourVAO=Me,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=C,this._view=C,this._projection=C,this._resolution=[1,1]}var P=O.prototype;function R(F,U){if(!U||!U.length)return 1;for(var V=0;V<U.length;++V){if(U.length<2)return 1;if(U[V][0]===F)return U[V][1];if(U[V][0]>F&&V>0){var te=(U[V][0]-F)/(U[V][0]-U[V-1][0]);return U[V][1]*(1-te)+te*U[V-1][1]}}return 1}function j(F){var U=i(F,f.vertex,f.fragment);return U.attributes.position.location=0,U.attributes.color.location=2,U.attributes.uv.location=3,U.attributes.pointSize.location=4,U}function z(F){var U=i(F,S.vertex,S.fragment);return U.attributes.position.location=0,U.attributes.id.location=1,U}function N(F){var U=i(F,w.vertex,w.fragment);return U.attributes.position.location=0,U.attributes.id.location=1,U.attributes.pointSize.location=4,U}function Y(F){var U=i(F,E.vertex,E.fragment);return U.attributes.position.location=0,U}P.isOpaque=function(){return!this.hasAlpha},P.isTransparent=function(){return this.hasAlpha},P.pickSlots=1,P.setPickBase=function(F){this.pickId=F},P.highlight=function(F){if(F&&this.contourEnable){for(var U=g(this.cells,this.intensity,F.intensity),V=U.cells,te=U.vertexIds,$=U.vertexWeights,X=V.length,W=h.mallocFloat32(6*X),J=0,Q=0;Q<X;++Q)for(var re=V[Q],ae=0;ae<2;++ae){var oe=re[0];2===re.length&&(oe=re[ae]);for(var ue=te[oe][0],ve=te[oe][1],be=$[oe],de=1-be,pe=this.positions[ue],ge=this.positions[ve],Ae=0;Ae<3;++Ae)W[J++]=be*pe[Ae]+de*ge[Ae]}this.contourCount=J/3|0,this.contourPositions.update(W.subarray(0,J)),h.free(W)}else this.contourCount=0},P.update=function(F){F=F||{};var U=this.gl;this.dirty=!0,"contourEnable"in F&&(this.contourEnable=F.contourEnable),"contourColor"in F&&(this.contourColor=F.contourColor),"lineWidth"in F&&(this.lineWidth=F.lineWidth),"lightPosition"in F&&(this.lightPosition=F.lightPosition),this.hasAlpha=!1,"opacity"in F&&(this.opacity=F.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in F&&(this.opacityscale=F.opacityscale,this.hasAlpha=!0),"ambient"in F&&(this.ambientLight=F.ambient),"diffuse"in F&&(this.diffuseLight=F.diffuse),"specular"in F&&(this.specularLight=F.specular),"roughness"in F&&(this.roughness=F.roughness),"fresnel"in F&&(this.fresnel=F.fresnel),F.texture?(this.texture.dispose(),this.texture=o(U,F.texture)):F.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=U.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=U.LINEAR,this.texture.setPixels(function(Ot,Pt){for(var St=x({colormap:Ot,nshades:256,format:"rgba"}),qe=new Uint8Array(1024),Ze=0;Ze<256;++Ze){for(var Ne=St[Ze],Ge=0;Ge<3;++Ge)qe[4*Ze+Ge]=Ne[Ge];qe[4*Ze+3]=Pt?255*R(Ze/255,Pt):255*Ne[3]}return c(qe,[256,256,4],[4,0,1])}(F.colormap,this.opacityscale)),this.texture.generateMipmap());var V=F.cells,te=F.positions;if(te&&V){var $=[],X=[],W=[],J=[],Q=[],re=[],ae=[],oe=[],ue=[],ve=[],be=[],de=[],pe=[],ge=[];this.cells=V,this.positions=te;var Ae=F.vertexNormals,ye=F.cellNormals,we=void 0===F.vertexNormalsEpsilon?1e-6:F.vertexNormalsEpsilon,se=void 0===F.faceNormalsEpsilon?1e-6:F.faceNormalsEpsilon;F.useFacetNormals&&!ye&&(ye=l.faceNormals(V,te,se)),ye||Ae||(Ae=l.vertexNormals(V,te,we));var ie=F.vertexColors,he=F.cellColors,Se=F.meshColor||[1,1,1,1],_e=F.vertexUVs,Me=F.vertexIntensity,Ee=F.cellUVs,Ie=F.cellIntensity,fe=1/0,xe=-1/0;if(!_e&&!Ee)if(Me)if(F.vertexIntensityBounds)fe=+F.vertexIntensityBounds[0],xe=+F.vertexIntensityBounds[1];else for(var Te=0;Te<Me.length;++Te){var Ce=Me[Te];fe=Math.min(fe,Ce),xe=Math.max(xe,Ce)}else if(Ie)if(F.cellIntensityBounds)fe=+F.cellIntensityBounds[0],xe=+F.cellIntensityBounds[1];else for(Te=0;Te<Ie.length;++Te)Ce=Ie[Te],fe=Math.min(fe,Ce),xe=Math.max(xe,Ce);else for(Te=0;Te<te.length;++Te)Ce=te[Te][2],fe=Math.min(fe,Ce),xe=Math.max(xe,Ce);this.intensity=Me||Ie||function(Ot){for(var Pt=Ot.length,St=new Array(Pt),qe=0;qe<Pt;++qe)St[qe]=Ot[qe][2];return St}(te),this.pickVertex=!(Ie||he);var De=F.pointSizes,ze=F.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Te=0;Te<te.length;++Te)for(var Ue=te[Te],Ve=0;Ve<3;++Ve)!isNaN(Ue[Ve])&&isFinite(Ue[Ve])&&(this.bounds[0][Ve]=Math.min(this.bounds[0][Ve],Ue[Ve]),this.bounds[1][Ve]=Math.max(this.bounds[1][Ve],Ue[Ve]));var Xe=0,at=0,st=0;e:for(Te=0;Te<V.length;++Te){var ht=V[Te];switch(ht.length){case 1:for(Ue=te[vt=ht[0]],Ve=0;Ve<3;++Ve)if(isNaN(Ue[Ve])||!isFinite(Ue[Ve]))continue e;ve.push(Ue[0],Ue[1],Ue[2]),Qe=ie?ie[vt]:he?he[Te]:Se,this.opacityscale&&Me?X.push(Qe[0],Qe[1],Qe[2],this.opacity*R((Me[vt]-fe)/(xe-fe),this.opacityscale)):3===Qe.length?be.push(Qe[0],Qe[1],Qe[2],this.opacity):(be.push(Qe[0],Qe[1],Qe[2],Qe[3]*this.opacity),Qe[3]<1&&(this.hasAlpha=!0)),nt=_e?_e[vt]:Me?[(Me[vt]-fe)/(xe-fe),0]:Ee?Ee[Te]:Ie?[(Ie[Te]-fe)/(xe-fe),0]:[(Ue[2]-fe)/(xe-fe),0],de.push(nt[0],nt[1]),De?pe.push(De[vt]):pe.push(ze),ge.push(Te),st+=1;break;case 2:for(Ve=0;Ve<2;++Ve){Ue=te[vt=ht[Ve]];for(var bt=0;bt<3;++bt)if(isNaN(Ue[bt])||!isFinite(Ue[bt]))continue e}for(Ve=0;Ve<2;++Ve)Ue=te[vt=ht[Ve]],re.push(Ue[0],Ue[1],Ue[2]),Qe=ie?ie[vt]:he?he[Te]:Se,this.opacityscale&&Me?X.push(Qe[0],Qe[1],Qe[2],this.opacity*R((Me[vt]-fe)/(xe-fe),this.opacityscale)):3===Qe.length?ae.push(Qe[0],Qe[1],Qe[2],this.opacity):(ae.push(Qe[0],Qe[1],Qe[2],Qe[3]*this.opacity),Qe[3]<1&&(this.hasAlpha=!0)),nt=_e?_e[vt]:Me?[(Me[vt]-fe)/(xe-fe),0]:Ee?Ee[Te]:Ie?[(Ie[Te]-fe)/(xe-fe),0]:[(Ue[2]-fe)/(xe-fe),0],oe.push(nt[0],nt[1]),ue.push(Te);at+=1;break;case 3:for(Ve=0;Ve<3;++Ve)for(Ue=te[vt=ht[Ve]],bt=0;bt<3;++bt)if(isNaN(Ue[bt])||!isFinite(Ue[bt]))continue e;for(Ve=0;Ve<3;++Ve){var vt,Qe,nt,wt;Ue=te[vt=ht[2-Ve]],$.push(Ue[0],Ue[1],Ue[2]),(Qe=ie?ie[vt]:he?he[Te]:Se)?this.opacityscale&&Me?X.push(Qe[0],Qe[1],Qe[2],this.opacity*R((Me[vt]-fe)/(xe-fe),this.opacityscale)):3===Qe.length?X.push(Qe[0],Qe[1],Qe[2],this.opacity):(X.push(Qe[0],Qe[1],Qe[2],Qe[3]*this.opacity),Qe[3]<1&&(this.hasAlpha=!0)):X.push(.5,.5,.5,1),nt=_e?_e[vt]:Me?[(Me[vt]-fe)/(xe-fe),0]:Ee?Ee[Te]:Ie?[(Ie[Te]-fe)/(xe-fe),0]:[(Ue[2]-fe)/(xe-fe),0],J.push(nt[0],nt[1]),wt=Ae?Ae[vt]:ye[Te],W.push(wt[0],wt[1],wt[2]),Q.push(Te)}Xe+=1}}this.pointCount=st,this.edgeCount=at,this.triangleCount=Xe,this.pointPositions.update(ve),this.pointColors.update(be),this.pointUVs.update(de),this.pointSizes.update(pe),this.pointIds.update(new Uint32Array(ge)),this.edgePositions.update(re),this.edgeColors.update(ae),this.edgeUVs.update(oe),this.edgeIds.update(new Uint32Array(ue)),this.trianglePositions.update($),this.triangleColors.update(X),this.triangleUVs.update(J),this.triangleNormals.update(W),this.triangleIds.update(new Uint32Array(Q))}},P.drawTransparent=P.draw=function(F){F=F||{};for(var U=this.gl,V=F.model||C,te=F.view||C,$=F.projection||C,X=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],W=0;W<3;++W)X[0][W]=Math.max(X[0][W],this.clipBounds[0][W]),X[1][W]=Math.min(X[1][W],this.clipBounds[1][W]);var J={model:V,view:te,projection:$,inverseModel:C.slice(),clipBounds:X,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};J.inverseModel=d(J.inverseModel,J.model),U.disable(U.CULL_FACE),this.texture.bind(0);var Q=new Array(16);for(u(Q,J.view,J.model),u(Q,J.projection,Q),d(Q,Q),W=0;W<3;++W)J.eyePosition[W]=Q[12+W]/Q[15];var re,ae=Q[15];for(W=0;W<3;++W)ae+=this.lightPosition[W]*Q[4*W+3];for(W=0;W<3;++W){for(var oe=Q[12+W],ue=0;ue<3;++ue)oe+=Q[4*ue+W]*this.lightPosition[ue];J.lightPosition[W]=oe/ae}this.triangleCount>0&&((re=this.triShader).bind(),re.uniforms=J,this.triangleVAO.bind(),U.drawArrays(U.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((re=this.lineShader).bind(),re.uniforms=J,this.edgeVAO.bind(),U.lineWidth(this.lineWidth*this.pixelRatio),U.drawArrays(U.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((re=this.pointShader).bind(),re.uniforms=J,this.pointVAO.bind(),U.drawArrays(U.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((re=this.contourShader).bind(),re.uniforms=J,this.contourVAO.bind(),U.drawArrays(U.LINES,0,this.contourCount),this.contourVAO.unbind())},P.drawPick=function(F){F=F||{};for(var U=this.gl,V=F.model||C,te=F.view||C,$=F.projection||C,X=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],W=0;W<3;++W)X[0][W]=Math.max(X[0][W],this.clipBounds[0][W]),X[1][W]=Math.min(X[1][W],this.clipBounds[1][W]);this._model=[].slice.call(V),this._view=[].slice.call(te),this._projection=[].slice.call($),this._resolution=[U.drawingBufferWidth,U.drawingBufferHeight];var J,Q={model:V,view:te,projection:$,clipBounds:X,pickId:this.pickId/255};(J=this.pickShader).bind(),J.uniforms=Q,this.triangleCount>0&&(this.triangleVAO.bind(),U.drawArrays(U.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),U.lineWidth(this.lineWidth*this.pixelRatio),U.drawArrays(U.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((J=this.pointPickShader).bind(),J.uniforms=Q,this.pointVAO.bind(),U.drawArrays(U.POINTS,0,this.pointCount),this.pointVAO.unbind())},P.pick=function(F){if(!F||F.id!==this.pickId)return null;for(var U=F.value[0]+256*F.value[1]+65536*F.value[2],V=this.cells[U],te=this.positions,$=new Array(V.length),X=0;X<V.length;++X)$[X]=te[V[X]];var W=F.coord[0],J=F.coord[1];if(!this.pickVertex){var Q=this.positions[V[0]],re=this.positions[V[1]],ae=this.positions[V[2]],oe=[(Q[0]+re[0]+ae[0])/3,(Q[1]+re[1]+ae[1])/3,(Q[2]+re[2]+ae[2])/3];return{_cellCenter:!0,position:[W,J],index:U,cell:V,cellId:U,intensity:this.intensity[U],dataCoordinate:oe}}var ue=y($,[W*this.pixelRatio,this._resolution[1]-J*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ue)return null;var ve=ue[2],be=0;for(X=0;X<V.length;++X)be+=ve[X]*this.intensity[V[X]];return{position:ue[1],index:V[ue[0]],cell:V,cellId:U,intensity:be,dataCoordinate:this.positions[V[ue[0]]]}},P.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},p.exports=function(F,U){if(1===arguments.length&&(F=(U=F).gl),!(F.getExtension("OES_standard_derivatives")||F.getExtension("MOZ_OES_standard_derivatives")||F.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var fe,V=((fe=i(F,v.vertex,v.fragment)).attributes.position.location=0,fe.attributes.color.location=2,fe.attributes.uv.location=3,fe.attributes.normal.location=4,fe),te=function(Ie){var fe=i(Ie,_.vertex,_.fragment);return fe.attributes.position.location=0,fe.attributes.color.location=2,fe.attributes.uv.location=3,fe}(F),$=j(F),X=z(F),W=N(F),J=Y(F),Q=o(F,c(new Uint8Array([255,255,255,255]),[1,1,4]));Q.generateMipmap(),Q.minFilter=F.LINEAR_MIPMAP_LINEAR,Q.magFilter=F.LINEAR;var re=n(F),ae=n(F),oe=n(F),ue=n(F),ve=n(F),be=r(F,[{buffer:re,type:F.FLOAT,size:3},{buffer:ve,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ae,type:F.FLOAT,size:4},{buffer:oe,type:F.FLOAT,size:2},{buffer:ue,type:F.FLOAT,size:3}]),de=n(F),pe=n(F),ge=n(F),Ae=n(F),ye=r(F,[{buffer:de,type:F.FLOAT,size:3},{buffer:Ae,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:pe,type:F.FLOAT,size:4},{buffer:ge,type:F.FLOAT,size:2}]),we=n(F),se=n(F),ie=n(F),he=n(F),Se=n(F),_e=r(F,[{buffer:we,type:F.FLOAT,size:3},{buffer:Se,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:se,type:F.FLOAT,size:4},{buffer:ie,type:F.FLOAT,size:2},{buffer:he,type:F.FLOAT,size:1}]),Me=n(F),Ee=new O(F,Q,V,te,$,X,W,J,re,ve,ae,oe,ue,be,de,Ae,pe,ge,ye,we,Se,se,ie,he,_e,Me,r(F,[{buffer:Me,type:F.FLOAT,size:3}]));return Ee.update(U),Ee}},4554:function(p,s,t){"use strict";p.exports=function(c){var x=c.gl;return new o(c,i(x,[0,0,0,1,1,0,1,1]),n(x,r.boxVert,r.lineFrag))};var i=t(5827),n=t(5158),r=t(2709);function o(c,x,g){this.plot=c,this.vbo=x,this.shader=g}var l,u,d=o.prototype;d.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},d.drawBox=(l=[0,0],u=[0,0],function(c,x,g,h,m){var y=this.plot,v=this.shader,_=y.gl;l[0]=c,l[1]=x,u[0]=g,u[1]=h,v.uniforms.lo=l,v.uniforms.hi=u,v.uniforms.color=m,_.drawArrays(_.TRIANGLE_STRIP,0,4)}),d.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(p,s,t){"use strict";p.exports=function(y){var v=y.gl;return new l(y,i(v),n(v,o.gridVert,o.gridFrag),n(v,o.tickVert,o.gridFrag))};var i=t(5827),n=t(5158),r=t(5070),o=t(2709);function l(y,v,_,f){this.plot=y,this.vbo=v,this.shader=_,this.tickShader=f,this.ticks=[[],[]]}function u(y,v){return y-v}var d,c,x,g,h,y,v,_,f,S,w,m=l.prototype;m.draw=(d=[0,0],c=[0,0],x=[0,0],function(){for(var y=this.plot,v=this.vbo,_=this.shader,f=this.ticks,S=y.gl,w=y._tickBounds,E=y.dataBox,C=y.viewBox,O=y.gridLineWidth,P=y.gridLineColor,R=y.gridLineEnable,j=y.pixelRatio,z=0;z<2;++z){var N=w[z],Y=w[z+2]-N,F=.5*(E[z+2]+E[z]),U=E[z+2]-E[z];c[z]=2*Y/U,d[z]=2*(N-F)/U}_.bind(),v.bind(),_.attributes.dataCoord.pointer(),_.uniforms.dataShift=d,_.uniforms.dataScale=c;var V=0;for(z=0;z<2;++z){x[0]=x[1]=0,x[z]=1,_.uniforms.dataAxis=x,_.uniforms.lineWidth=O[z]/(C[z+2]-C[z])*j,_.uniforms.color=P[z];var te=6*f[z].length;R[z]&&te&&S.drawArrays(S.TRIANGLES,V,te),V+=te}}),m.drawTickMarks=(y=[0,0],v=[0,0],_=[1,0],f=[0,1],S=[0,0],w=[0,0],function(){for(var E=this.plot,C=this.vbo,O=this.tickShader,P=this.ticks,R=E.gl,j=E._tickBounds,z=E.dataBox,N=E.viewBox,Y=E.pixelRatio,F=E.screenBox,U=F[2]-F[0],V=F[3]-F[1],te=N[2]-N[0],$=N[3]-N[1],X=0;X<2;++X){var W=j[X],J=j[X+2]-W,Q=.5*(z[X+2]+z[X]),re=z[X+2]-z[X];v[X]=2*J/re,y[X]=2*(W-Q)/re}v[0]*=te/U,y[0]*=te/U,v[1]*=$/V,y[1]*=$/V,O.bind(),C.bind(),O.attributes.dataCoord.pointer();var ae=O.uniforms;ae.dataShift=y,ae.dataScale=v;var oe=E.tickMarkLength,ue=E.tickMarkWidth,ve=E.tickMarkColor,be=6*P[0].length,de=Math.min(r.ge(P[0],(z[0]-j[0])/(j[2]-j[0]),u),P[0].length),pe=Math.min(r.gt(P[0],(z[2]-j[0])/(j[2]-j[0]),u),P[0].length),ge=0+6*de,Ae=6*Math.max(0,pe-de),ye=Math.min(r.ge(P[1],(z[1]-j[1])/(j[3]-j[1]),u),P[1].length),we=Math.min(r.gt(P[1],(z[3]-j[1])/(j[3]-j[1]),u),P[1].length),se=be+6*ye,ie=6*Math.max(0,we-ye);S[0]=2*(N[0]-oe[1])/U-1,S[1]=(N[3]+N[1])/V-1,w[0]=oe[1]*Y/U,w[1]=ue[1]*Y/V,ie&&(ae.color=ve[1],ae.tickScale=w,ae.dataAxis=f,ae.screenOffset=S,R.drawArrays(R.TRIANGLES,se,ie)),S[0]=(N[2]+N[0])/U-1,S[1]=2*(N[1]-oe[0])/V-1,w[0]=ue[0]*Y/U,w[1]=oe[0]*Y/V,Ae&&(ae.color=ve[0],ae.tickScale=w,ae.dataAxis=_,ae.screenOffset=S,R.drawArrays(R.TRIANGLES,ge,Ae)),S[0]=2*(N[2]+oe[3])/U-1,S[1]=(N[3]+N[1])/V-1,w[0]=oe[3]*Y/U,w[1]=ue[3]*Y/V,ie&&(ae.color=ve[3],ae.tickScale=w,ae.dataAxis=f,ae.screenOffset=S,R.drawArrays(R.TRIANGLES,se,ie)),S[0]=(N[2]+N[0])/U-1,S[1]=2*(N[3]+oe[2])/V-1,w[0]=ue[2]*Y/U,w[1]=oe[2]*Y/V,Ae&&(ae.color=ve[2],ae.tickScale=w,ae.dataAxis=_,ae.screenOffset=S,R.drawArrays(R.TRIANGLES,ge,Ae))}),m.update=(g=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1],function(y){for(var v=y.ticks,_=y.bounds,f=new Float32Array(18*(v[0].length+v[1].length)),S=(this.plot.zeroLineEnable,0),w=[[],[]],E=0;E<2;++E)for(var C=w[E],O=v[E],P=_[E],R=_[E+2],j=0;j<O.length;++j){var z=(O[j].x-P)/(R-P);C.push(z);for(var N=0;N<6;++N)f[S++]=z,f[S++]=g[N],f[S++]=h[N]}this.ticks=w,this.vbo.update(f)}),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(p,s,t){"use strict";p.exports=function(c){var x=c.gl;return new o(c,i(x,[-1,-1,-1,1,1,-1,1,1]),n(x,r.lineVert,r.lineFrag))};var i=t(5827),n=t(5158),r=t(2709);function o(c,x,g){this.plot=c,this.vbo=x,this.shader=g}var l,u,d=o.prototype;d.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},d.drawLine=(l=[0,0],u=[0,0],function(c,x,g,h,m,y){var v=this.plot,_=this.shader,f=v.gl;l[0]=c,l[1]=x,u[0]=g,u[1]=h,_.uniforms.start=l,_.uniforms.end=u,_.uniforms.width=m*v.pixelRatio,_.uniforms.color=y,f.drawArrays(f.TRIANGLE_STRIP,0,4)}),d.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(p,s,t){"use strict";var i=t(6832),n=i(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);p.exports={lineVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:n,textVert:i(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:n,gridVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:n,boxVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(p,s,t){"use strict";p.exports=function(v){var _=v.gl;return new u(v,i(_),n(_,l.textVert,l.textFrag))};var i=t(5827),n=t(5158),r=t(6946),o=t(5070),l=t(2709);function u(v,_,f){this.plot=v,this.vbo=_,this.shader=f,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var d,c,x,g,h,m,v,_,y=u.prototype;y.drawTicks=(d=[0,0],c=[0,0],x=[0,0],function(v){var _=this.plot,f=this.shader,S=this.tickX[v],w=this.tickOffset[v],E=_.gl,C=_.viewBox,O=_.dataBox,P=_.screenBox,R=_.pixelRatio,j=_.tickEnable,z=_.tickPad,N=_.tickColor,Y=_.tickAngle,F=_.labelEnable,U=_.labelPad,V=_.labelColor,te=_.labelAngle,$=this.labelOffset[v],X=this.labelCount[v],W=o.lt(S,O[v]),J=o.le(S,O[v+2]);d[0]=d[1]=0,d[v]=1,c[v]=(C[2+v]+C[v])/(P[2+v]-P[v])-1;var Q=2/P[2+(1^v)]-P[1^v];c[1^v]=Q*C[1^v]-1,j[v]&&(c[1^v]-=Q*R*z[v],W<J&&w[J]>w[W]&&(f.uniforms.dataAxis=d,f.uniforms.screenOffset=c,f.uniforms.color=N[v],f.uniforms.angle=Y[v],E.drawArrays(E.TRIANGLES,w[W],w[J]-w[W]))),F[v]&&X&&(c[1^v]-=Q*R*U[v],f.uniforms.dataAxis=x,f.uniforms.screenOffset=c,f.uniforms.color=V[v],f.uniforms.angle=te[v],E.drawArrays(E.TRIANGLES,$,X)),c[1^v]=Q*C[2+(1^v)]-1,j[v+2]&&(c[1^v]+=Q*R*z[v+2],W<J&&w[J]>w[W]&&(f.uniforms.dataAxis=d,f.uniforms.screenOffset=c,f.uniforms.color=N[v+2],f.uniforms.angle=Y[v+2],E.drawArrays(E.TRIANGLES,w[W],w[J]-w[W]))),F[v+2]&&X&&(c[1^v]+=Q*R*U[v+2],f.uniforms.dataAxis=x,f.uniforms.screenOffset=c,f.uniforms.color=V[v+2],f.uniforms.angle=te[v+2],E.drawArrays(E.TRIANGLES,$,X))}),y.drawTitle=(v=[0,0],_=[0,0],function(){var f=this.plot,S=this.shader,w=f.gl,E=f.screenBox,C=f.titleCenter,O=f.titleAngle,P=f.titleColor,R=f.pixelRatio;if(this.titleCount){for(var j=0;j<2;++j)_[j]=2*(C[j]*R-E[j])/(E[2+j]-E[j])-1;S.bind(),S.uniforms.dataAxis=v,S.uniforms.screenOffset=_,S.uniforms.angle=O,S.uniforms.color=P,w.drawArrays(w.TRIANGLES,this.titleOffset,this.titleCount)}}),y.bind=(g=[0,0],h=[0,0],m=[0,0],function(){var v=this.plot,_=this.shader,f=v._tickBounds,S=v.dataBox,w=v.screenBox,E=v.viewBox;_.bind();for(var C=0;C<2;++C){var O=f[C],P=f[C+2]-O,R=.5*(S[C+2]+S[C]),j=S[C+2]-S[C],z=E[C],N=E[C+2]-z,Y=w[C],F=w[C+2]-Y;h[C]=2*P/j*N/F,g[C]=2*(O-R)/j*N/F}m[1]=2*v.pixelRatio/(w[3]-w[1]),m[0]=m[1]*(w[3]-w[1])/(w[2]-w[0]),_.uniforms.dataScale=h,_.uniforms.dataShift=g,_.uniforms.textScale=m,this.vbo.bind(),_.attributes.textCoordinate.pointer()}),y.update=function(v){var _,f,S,w,E,C=[],O=v.ticks,P=v.bounds;for(E=0;E<2;++E){var R=[Math.floor(C.length/3)],j=[-1/0],z=O[E];for(_=0;_<z.length;++_){var N=z[_],Y=N.x,F=N.text,U=N.font||"sans-serif";w=N.fontSize||12;for(var V=1/(P[E+2]-P[E]),te=P[E],$=F.split("\n"),X=0;X<$.length;X++)for(S=r(U,$[X]).data,f=0;f<S.length;f+=2)C.push(S[f]*w,-S[f+1]*w-X*w*1.2,(Y-te)*V);R.push(Math.floor(C.length/3)),j.push(Y)}this.tickOffset[E]=R,this.tickX[E]=j}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(C.length/3),S=r(v.labelFont[E],v.labels[E],{textAlign:"center"}).data,w=v.labelSize[E],_=0;_<S.length;_+=2)C.push(S[_]*w,-S[_+1]*w,0);this.labelCount[E]=Math.floor(C.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(C.length/3),S=r(v.titleFont,v.title).data,w=v.titleSize,_=0;_<S.length;_+=2)C.push(S[_]*w,-S[_+1]*w,0);this.titleCount=Math.floor(C.length/3)-this.titleOffset,this.vbo.update(C)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(p,s,t){"use strict";p.exports=function(g){var h=g.gl,m=new u(h,i(h,[h.drawingBufferWidth,h.drawingBufferHeight]));return m.grid=n(m),m.text=r(m),m.line=o(m),m.box=l(m),m.update(g),m};var i=t(2611),n=t(3016),r=t(5613),o=t(1154),l=t(4554);function u(g,h){this.gl=g,this.pickBuffer=h,this.screenBox=[0,0,g.drawingBufferWidth,g.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var d=u.prototype;function c(g){for(var h=g.slice(),m=0;m<h.length;++m)h[m]=h[m].slice();return h}function x(g,h){return g.x-h.x}d.setDirty=function(){this.dirty=this.pickDirty=!0},d.setOverlayDirty=function(){this.dirty=!0},d.nextDepthValue=function(){return this._depthCounter++/65536},d.draw=function(){var g=this.gl,h=this.screenBox,m=this.viewBox,y=this.dataBox,v=this.pixelRatio,_=this.grid,f=this.line,S=this.text,w=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,g.bindFramebuffer(g.FRAMEBUFFER,null),g.enable(g.SCISSOR_TEST),g.disable(g.DEPTH_TEST),g.depthFunc(g.LESS),g.depthMask(!1),g.enable(g.BLEND),g.blendEquation(g.FUNC_ADD,g.FUNC_ADD),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),this.borderColor){g.scissor(h[0],h[1],h[2]-h[0],h[3]-h[1]);var E=this.borderColor;g.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT)}g.scissor(m[0],m[1],m[2]-m[0],m[3]-m[1]),g.viewport(m[0],m[1],m[2]-m[0],m[3]-m[1]);var C=this.backgroundColor;g.clearColor(C[0]*C[3],C[1]*C[3],C[2]*C[3],C[3]),g.clear(g.COLOR_BUFFER_BIT),_.draw();var O=this.zeroLineEnable,P=this.zeroLineColor,R=this.zeroLineWidth;if(O[0]||O[1]){f.bind();for(var j=0;j<2;++j)if(O[j]&&y[j]<=0&&y[j+2]>=0){var z=h[j]-y[j]*(h[j+2]-h[j])/(y[j+2]-y[j]);0===j?f.drawLine(z,h[1],z,h[3],R[j],P[j]):f.drawLine(h[0],z,h[2],z,R[j],P[j])}}for(j=0;j<w.length;++j)w[j].draw();g.viewport(h[0],h[1],h[2]-h[0],h[3]-h[1]),g.scissor(h[0],h[1],h[2]-h[0],h[3]-h[1]),this.grid.drawTickMarks(),f.bind();var N=this.borderLineEnable,Y=this.borderLineWidth,F=this.borderLineColor;for(N[1]&&f.drawLine(m[0],m[1]-.5*Y[1]*v,m[0],m[3]+.5*Y[3]*v,Y[1],F[1]),N[0]&&f.drawLine(m[0]-.5*Y[0]*v,m[1],m[2]+.5*Y[2]*v,m[1],Y[0],F[0]),N[3]&&f.drawLine(m[2],m[1]-.5*Y[1]*v,m[2],m[3]+.5*Y[3]*v,Y[3],F[3]),N[2]&&f.drawLine(m[0]-.5*Y[0]*v,m[3],m[2]+.5*Y[2]*v,m[3],Y[2],F[2]),S.bind(),j=0;j<2;++j)S.drawTicks(j);this.titleEnable&&S.drawTitle();var U=this.overlays;for(j=0;j<U.length;++j)U[j].draw();g.disable(g.SCISSOR_TEST),g.disable(g.BLEND),g.depthMask(!0)}},d.drawPick=function(){if(!this.static){var g=this.pickBuffer;this.gl,this._pickTimeout=null,g.begin();for(var h=1,m=this.objects,y=0;y<m.length;++y)h=m[y].drawPick(h);g.end()}},d.pick=function(g,h){if(!this.static){var m=this.pixelRatio,y=this.pickPixelRatio,v=this.viewBox,_=0|Math.round((g-v[0]/m)*y),f=0|Math.round((h-v[1]/m)*y),S=this.pickBuffer.query(_,f,this.pickRadius);if(!S)return null;for(var w=S.id+(S.value[0]<<8)+(S.value[1]<<16)+(S.value[2]<<24),E=this.objects,C=0;C<E.length;++C){var O=E[C].pick(_,f,w);if(O)return O}return null}},d.setScreenBox=function(g){var h=this.screenBox,m=this.pixelRatio;h[0]=0|Math.round(g[0]*m),h[1]=0|Math.round(g[1]*m),h[2]=0|Math.round(g[2]*m),h[3]=0|Math.round(g[3]*m),this.setDirty()},d.setDataBox=function(g){var h=this.dataBox;(h[0]!==g[0]||h[1]!==g[1]||h[2]!==g[2]||h[3]!==g[3])&&(h[0]=g[0],h[1]=g[1],h[2]=g[2],h[3]=g[3],this.setDirty())},d.setViewBox=function(g){var h=this.pixelRatio,m=this.viewBox;m[0]=0|Math.round(g[0]*h),m[1]=0|Math.round(g[1]*h),m[2]=0|Math.round(g[2]*h),m[3]=0|Math.round(g[3]*h);var y=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((g[2]-g[0])*y),0|Math.round((g[3]-g[1])*y)],this.setDirty()},d.update=function(g){g=g||{};var h=this.gl;this.pixelRatio=g.pixelRatio||1;var m=this.pixelRatio;this.pickPixelRatio=Math.max(m,1),this.setScreenBox(g.screenBox||[0,0,h.drawingBufferWidth/m,h.drawingBufferHeight/m]),this.screenBox,this.setViewBox(g.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/m,.125*(this.screenBox[3]-this.screenBox[1])/m,.875*(this.screenBox[2]-this.screenBox[0])/m,.875*(this.screenBox[3]-this.screenBox[1])/m]);var y=this.viewBox,v=(y[2]-y[0])/(y[3]-y[1]);this.setDataBox(g.dataBox||[-10,-10/v,10,10/v]),this.borderColor=!1!==g.borderColor&&(g.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(g.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(g.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(g.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(g.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(g.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(g.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(g.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(g.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(g.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(g.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(g.titleCenter||[.5*(y[0]+y[2])/m,(y[3]+120)/m]).slice(),this.titleEnable=!("titleEnable"in g)||!!g.titleEnable,this.titleAngle=g.titleAngle||0,this.titleColor=(g.titleColor||[0,0,0,1]).slice(),this.labelPad=(g.labelPad||[15,15,15,15]).slice(),this.labelAngle=(g.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(g.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(g.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(g.tickPad||[15,15,15,15]).slice(),this.tickAngle=(g.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(g.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(g.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(g.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(g.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(g.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var _=g.ticks||[[],[]],f=this._tickBounds;f[0]=f[1]=1/0,f[2]=f[3]=-1/0;for(var S=0;S<2;++S){var w=_[S].slice(0);0!==w.length&&(w.sort(x),f[S]=Math.min(f[S],w[0].x),f[S+2]=Math.max(f[S+2],w[w.length-1].x))}this.grid.update({bounds:f,ticks:_}),this.text.update({bounds:f,ticks:_,labels:g.labels||["x","y"],labelSize:g.labelSize||[12,12],labelFont:g.labelFont||["sans-serif","sans-serif"],title:g.title||"",titleSize:g.titleSize||18,titleFont:g.titleFont||"sans-serif"}),this.static=!!g.static,this.setDirty()},d.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var g=this.objects.length-1;g>=0;--g)this.objects[g].dispose();for(this.objects.length=0,g=this.overlays.length-1;g>=0;--g)this.overlays[g].dispose();this.overlays.length=0,this.gl=null},d.addObject=function(g){this.objects.indexOf(g)<0&&(this.objects.push(g),this.setDirty())},d.removeObject=function(g){for(var h=this.objects,m=0;m<h.length;++m)if(h[m]===g){h.splice(m,1),this.setDirty();break}},d.addOverlay=function(g){this.overlays.indexOf(g)<0&&(this.overlays.push(g),this.setOverlayDirty())},d.removeOverlay=function(g){for(var h=this.overlays,m=0;m<h.length;++m)if(h[m]===g){h.splice(m,1),this.setOverlayDirty();break}}},4296:function(p,s,t){"use strict";p.exports=function(d,c){d=d||document.body;var x=[.01,1/0];"distanceLimits"in(c=c||{})&&(x[0]=c.distanceLimits[0],x[1]=c.distanceLimits[1]),"zoomMin"in c&&(x[0]=c.zoomMin),"zoomMax"in c&&(x[1]=c.zoomMax);var g=n({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:x}),h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=0,y=d.clientWidth,v=d.clientHeight,_={keyBindingMode:"rotate",enableWheel:!0,view:g,element:d,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:g.modes,_ortho:c._ortho||c.projection&&"orthographic"===c.projection.type||!1,tick:function(){var f=i(),S=this.delay,w=f-2*S;g.idle(f-S),g.recalcMatrix(w),g.flush(f-(100+2*S));for(var E=!0,C=g.computedMatrix,O=0;O<16;++O)E=E&&h[O]===C[O],h[O]=C[O];var P=d.clientWidth===y&&d.clientHeight===v;return y=d.clientWidth,v=d.clientHeight,E?!P:(m=Math.exp(g.computedRadius[0]),!0)},lookAt:function(f,S,w){g.lookAt(g.lastT(),f,S,w)},rotate:function(f,S,w){g.rotate(g.lastT(),f,S,w)},pan:function(f,S,w){g.pan(g.lastT(),f,S,w)},translate:function(f,S,w){g.translate(g.lastT(),f,S,w)}};return Object.defineProperties(_,{matrix:{get:function(){return g.computedMatrix},set:function(f){return g.setMatrix(g.lastT(),f),g.computedMatrix},enumerable:!0},mode:{get:function(){return g.getMode()},set:function(f){var S=g.computedUp.slice(),w=g.computedEye.slice(),E=g.computedCenter.slice();if(g.setMode(f),"turntable"===f){var C=i();g._active.lookAt(C,w,E,S),g._active.lookAt(C+500,w,E,[0,0,1]),g._active.flush(C)}return g.getMode()},enumerable:!0},center:{get:function(){return g.computedCenter},set:function(f){return g.lookAt(g.lastT(),null,f),g.computedCenter},enumerable:!0},eye:{get:function(){return g.computedEye},set:function(f){return g.lookAt(g.lastT(),f),g.computedEye},enumerable:!0},up:{get:function(){return g.computedUp},set:function(f){return g.lookAt(g.lastT(),null,null,f),g.computedUp},enumerable:!0},distance:{get:function(){return m},set:function(f){return g.setDistance(g.lastT(),f),f},enumerable:!0},distanceLimits:{get:function(){return g.getDistanceLimits(x)},set:function(f){return g.setDistanceLimits(f),f},enumerable:!0}}),d.addEventListener("contextmenu",function(f){return f.preventDefault(),!1}),_._lastX=-1,_._lastY=-1,_._lastMods={shift:!1,control:!1,alt:!1,meta:!1},_.enableMouseListeners=function(){function f(S,w,E,C){var O=_.keyBindingMode;if(!1!==O){var P="rotate"===O,R="pan"===O,j="zoom"===O,z=!!C.control,N=!!C.alt,Y=!!C.shift,F=!!(1&S),U=!!(2&S),V=!!(4&S),te=1/d.clientHeight,$=te*(w-_._lastX),X=te*(E-_._lastY),W=_.flipX?1:-1,J=_.flipY?1:-1,Q=Math.PI*_.rotateSpeed,re=i();if(-1!==_._lastX&&-1!==_._lastY&&((P&&F&&!z&&!N&&!Y||F&&!z&&!N&&Y)&&g.rotate(re,W*Q*$,-J*Q*X,0),(R&&F&&!z&&!N&&!Y||U||F&&z&&!N&&!Y)&&g.pan(re,-_.translateSpeed*$*m,_.translateSpeed*X*m,0),j&&F&&!z&&!N&&!Y||V||F&&!z&&N&&!Y)){var ae=-_.zoomSpeed*X/window.innerHeight*(re-g.lastT())*100;g.pan(re,0,0,m*(Math.exp(ae)-1))}return _._lastX=w,_._lastY=E,_._lastMods=C,!0}}_.mouseListener=r(d,f),d.addEventListener("touchstart",function(S){var w=l(S.changedTouches[0],d);f(0,w[0],w[1],_._lastMods),f(1,w[0],w[1],_._lastMods)},!!u&&{passive:!0}),d.addEventListener("touchmove",function(S){var w=l(S.changedTouches[0],d);f(1,w[0],w[1],_._lastMods),S.preventDefault()},!!u&&{passive:!1}),d.addEventListener("touchend",function(S){f(0,_._lastX,_._lastY,_._lastMods)},!!u&&{passive:!0}),_.wheelListener=o(d,function(S,w){if(!1!==_.keyBindingMode&&_.enableWheel){var E=_.flipX?1:-1,C=_.flipY?1:-1,O=i();if(Math.abs(S)>Math.abs(w))g.rotate(O,0,0,-S*E*Math.PI*_.rotateSpeed/window.innerWidth);else if(!_._ortho){var P=-_.zoomSpeed*C*w/window.innerHeight*(O-g.lastT())/20;g.pan(O,0,0,m*(Math.exp(P)-1))}}},!0)},_.enableMouseListeners(),_};var i=t(8161),n=t(1152),r=t(6145),o=t(6475),l=t(2565),u=t(5233)},8245:function(p,s,t){var i=t(6832),n=t(5158),r=i(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),o=i(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);p.exports=function(l){return n(l,r,o,null,[{name:"position",type:"vec2"}])}},1059:function(p,s,t){"use strict";var i=t(4296),n=t(7453),r=t(2771),o=t(6496),l=t(2611),u=t(4234),d=t(8126),c=t(6145),x=t(1120),g=t(5268),h=t(8245),m=t(2321)({tablet:!0,featureDetect:!0});function y(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function v(f){var S=Math.round(Math.log(Math.abs(f))/Math.log(10));if(S<0){var w=Math.round(Math.pow(10,-S));return Math.ceil(f*w)/w}return S>0?(w=Math.round(Math.pow(10,S)),Math.ceil(f/w)*w):Math.ceil(f)}function _(f){return"boolean"!=typeof f||f}p.exports={createScene:function(f){(f=f||{}).camera=f.camera||{};var S=f.canvas;S||(S=document.createElement("canvas"),f.container?f.container.appendChild(S):document.body.appendChild(S));var w=f.gl;if(w||(f.glOptions&&(m=!!f.glOptions.preserveDrawingBuffer),w=function(Ae,ye){var we=null;try{(we=Ae.getContext("webgl",ye))||(we=Ae.getContext("experimental-webgl",ye))}catch{return null}return we}(S,f.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:m})),!w)throw new Error("webgl not supported");var E=f.bounds||[[-10,-10,-10],[10,10,10]],C=new y,O=u(w,w.drawingBufferWidth,w.drawingBufferHeight,{preferFloat:!m}),P=h(w),R=f.cameraObject&&!0===f.cameraObject._ortho||f.camera.projection&&"orthographic"===f.camera.projection.type||!1,j={eye:f.camera.eye||[2,0,0],center:f.camera.center||[0,0,0],up:f.camera.up||[0,1,0],zoomMin:f.camera.zoomMax||.1,zoomMax:f.camera.zoomMin||100,mode:f.camera.mode||"turntable",_ortho:R},z=f.axes||{},N=n(w,z);N.enable=!z.disable;var Y=f.spikes||{},F=o(w,Y),U=[],V=[],te=[],$=[],X=!0,W=!0,J={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},Q=(W=!0,[w.drawingBufferWidth,w.drawingBufferHeight]),re=f.cameraObject||i(S,j),ae={gl:w,contextLost:!1,pixelRatio:f.pixelRatio||1,canvas:S,selection:C,camera:re,axes:N,axesPixels:null,spikes:F,bounds:E,objects:U,shape:Q,aspect:f.aspectRatio||[1,1,1],pickRadius:f.pickRadius||10,zNear:f.zNear||.01,zFar:f.zFar||1e3,fovy:f.fovy||Math.PI/4,clearColor:f.clearColor||[0,0,0,0],autoResize:_(f.autoResize),autoBounds:_(f.autoBounds),autoScale:!!f.autoScale,autoCenter:_(f.autoCenter),clipToBounds:_(f.clipToBounds),snapToData:!!f.snapToData,onselect:f.onselect||null,onrender:f.onrender||null,onclick:f.onclick||null,cameraParams:J,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ae){this.aspect[0]=Ae.x,this.aspect[1]=Ae.y,this.aspect[2]=Ae.z,W=!0},setBounds:function(Ae,ye){this.bounds[0][Ae]=ye.min,this.bounds[1][Ae]=ye.max},setClearColor:function(Ae){this.clearColor=Ae},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},oe=[w.drawingBufferWidth/ae.pixelRatio|0,w.drawingBufferHeight/ae.pixelRatio|0];function ue(){if(!ae._stopped&&ae.autoResize){var Ae=S.parentNode,ye=1,we=1;Ae&&Ae!==document.body?(ye=Ae.clientWidth,we=Ae.clientHeight):(ye=window.innerWidth,we=window.innerHeight);var se=0|Math.ceil(ye*ae.pixelRatio),ie=0|Math.ceil(we*ae.pixelRatio);if(se!==S.width||ie!==S.height){S.width=se,S.height=ie;var he=S.style;he.position=he.position||"absolute",he.left="0px",he.top="0px",he.width=ye+"px",he.height=we+"px",X=!0}}}function ve(){for(var Ae=U.length,ye=$.length,we=0;we<ye;++we)te[we]=0;e:for(we=0;we<Ae;++we){var se=U[we],ie=se.pickSlots;if(ie){for(var he=0;he<ye;++he)if(te[he]+ie<255){V[we]=he,se.setPickBase(te[he]+1),te[he]+=ie;continue e}var Se=l(w,Q);V[we]=ye,$.push(Se),te.push(ie),se.setPickBase(1),ye+=1}else V[we]=-1}for(;ye>0&&0===te[ye-1];)te.pop(),$.pop().dispose()}function be(){if(ae.contextLost)return!0;w.isContextLost()&&(ae.contextLost=!0,ae.mouseListener.enabled=!1,ae.selection.object=null,ae.oncontextloss&&ae.oncontextloss())}ae.autoResize&&ue(),window.addEventListener("resize",ue),ae.update=function(Ae){ae._stopped||(Ae=Ae||{},X=!0,W=!0)},ae.add=function(Ae){ae._stopped||(Ae.axes=N,U.push(Ae),V.push(-1),X=!0,W=!0,ve())},ae.remove=function(Ae){if(!ae._stopped){var ye=U.indexOf(Ae);ye<0||(U.splice(ye,1),V.pop(),X=!0,W=!0,ve())}},ae.dispose=function(){if(!ae._stopped&&(ae._stopped=!0,window.removeEventListener("resize",ue),S.removeEventListener("webglcontextlost",be),ae.mouseListener.enabled=!1,!ae.contextLost)){N.dispose(),F.dispose();for(var Ae=0;Ae<U.length;++Ae)U[Ae].dispose();for(O.dispose(),Ae=0;Ae<$.length;++Ae)$[Ae].dispose();P.dispose(),w=null,N=null,F=null,U=[]}},ae._mouseRotating=!1,ae._prevButtons=0,ae.enableMouseListeners=function(){ae.mouseListener=c(S,function(Ae,ye,we){if(!ae._stopped){var se=$.length,ie=U.length,he=C.object;C.distance=1/0,C.mouse[0]=ye,C.mouse[1]=we,C.object=null,C.screen=null,C.dataCoordinate=C.dataPosition=null;var Se=!1;if(Ae&&ae._prevButtons)ae._mouseRotating=!0;else{ae._mouseRotating&&(W=!0),ae._mouseRotating=!1;for(var _e=0;_e<se;++_e){var Me=$[_e].query(ye,oe[1]-we-1,ae.pickRadius);if(Me){if(Me.distance>C.distance)continue;for(var Ee=0;Ee<ie;++Ee){var Ie=U[Ee];if(V[Ee]===_e){var fe=Ie.pick(Me);fe&&(C.buttons=Ae,C.screen=Me.coord,C.distance=Me.distance,C.object=Ie,C.index=fe.distance,C.dataPosition=fe.position,C.dataCoordinate=fe.dataCoordinate,C.data=fe,Se=!0)}}}}}he&&he!==C.object&&(he.highlight&&he.highlight(null),X=!0),C.object&&(C.object.highlight&&C.object.highlight(C.data),X=!0),(Se=Se||C.object!==he)&&ae.onselect&&ae.onselect(C),1&Ae&&!(1&ae._prevButtons)&&ae.onclick&&ae.onclick(C),ae._prevButtons=Ae}})},S.addEventListener("webglcontextlost",be);var de=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],pe=[de[0].slice(),de[1].slice()];function ge(){if(!be()){ue();var Ae=ae.camera.tick();J.view=ae.camera.matrix,X=X||Ae,W=W||Ae,N.pixelRatio=ae.pixelRatio,F.pixelRatio=ae.pixelRatio;var ye=U.length,we=de[0],se=de[1];we[0]=we[1]=we[2]=1/0,se[0]=se[1]=se[2]=-1/0;for(var ie=0;ie<ye;++ie){(ze=U[ie]).pixelRatio=ae.pixelRatio,ze.axes=ae.axes,X=X||!!ze.dirty,W=W||!!ze.dirty;var he=ze.bounds;if(he)for(var Se=he[0],_e=he[1],Me=0;Me<3;++Me)we[Me]=Math.min(we[Me],Se[Me]),se[Me]=Math.max(se[Me],_e[Me])}var Ee=ae.bounds;if(ae.autoBounds)for(Me=0;Me<3;++Me){if(se[Me]<we[Me])we[Me]=-1,se[Me]=1;else{we[Me]===se[Me]&&(we[Me]-=1,se[Me]+=1);var Ie=.05*(se[Me]-we[Me]);we[Me]=we[Me]-Ie,se[Me]=se[Me]+Ie}Ee[0][Me]=we[Me],Ee[1][Me]=se[Me]}var fe=!1;for(Me=0;Me<3;++Me)fe=fe||pe[0][Me]!==Ee[0][Me]||pe[1][Me]!==Ee[1][Me],pe[0][Me]=Ee[0][Me],pe[1][Me]=Ee[1][Me];if(W=W||fe,X=X||fe){if(fe){var xe=[0,0,0];for(ie=0;ie<3;++ie)xe[ie]=v((Ee[1][ie]-Ee[0][ie])/10);N.autoTicks?N.update({bounds:Ee,tickSpacing:xe}):N.update({bounds:Ee})}var Te=w.drawingBufferWidth,Ce=w.drawingBufferHeight;for(Q[0]=Te,Q[1]=Ce,oe[0]=0|Math.max(Te/ae.pixelRatio,1),oe[1]=0|Math.max(Ce/ae.pixelRatio,1),function(Ue,Ve){var Xe=Ue.bounds,at=Ue.cameraParams,st=at.projection,ht=at.model,bt=Ue.gl.drawingBufferWidth,vt=Ue.gl.drawingBufferHeight,Qe=Ue.zNear,nt=Ue.zFar,wt=Ue.fovy,Ot=bt/vt;Ve?(g(st,-Ot,Ot,-1,1,Qe,nt),at._ortho=!0):(x(st,wt,Ot,Qe,nt),at._ortho=!1);for(var Pt=0;Pt<16;++Pt)ht[Pt]=0;ht[15]=1;var St=0;for(Pt=0;Pt<3;++Pt)St=Math.max(St,Xe[1][Pt]-Xe[0][Pt]);for(Pt=0;Pt<3;++Pt)Ue.autoScale?ht[5*Pt]=Ue.aspect[Pt]/(Xe[1][Pt]-Xe[0][Pt]):ht[5*Pt]=1/St,Ue.autoCenter&&(ht[12+Pt]=.5*-ht[5*Pt]*(Xe[0][Pt]+Xe[1][Pt]))}(ae,R),ie=0;ie<ye;++ie)(ze=U[ie]).axesBounds=Ee,ae.clipToBounds&&(ze.clipBounds=Ee);C.object&&(ae.snapToData?F.position=C.dataCoordinate:F.position=C.dataPosition,F.bounds=Ee),W&&(W=!1,function(){if(!be()){w.colorMask(!0,!0,!0,!0),w.depthMask(!0),w.disable(w.BLEND),w.enable(w.DEPTH_TEST),w.depthFunc(w.LEQUAL);for(var Ue=U.length,Ve=$.length,Xe=0;Xe<Ve;++Xe){var at=$[Xe];at.shape=oe,at.begin();for(var st=0;st<Ue;++st)if(V[st]===Xe){var ht=U[st];ht.drawPick&&(ht.pixelRatio=1,ht.drawPick(J))}at.end()}}}()),ae.axesPixels=r(ae.axes,J,Te,Ce),ae.onrender&&ae.onrender(),w.bindFramebuffer(w.FRAMEBUFFER,null),w.viewport(0,0,Te,Ce),ae.clearRGBA(),w.depthMask(!0),w.colorMask(!0,!0,!0,!0),w.enable(w.DEPTH_TEST),w.depthFunc(w.LEQUAL),w.disable(w.BLEND),w.disable(w.CULL_FACE);var De=!1;for(N.enable&&(De=De||N.isTransparent(),N.draw(J)),F.axes=N,C.object&&F.draw(J),w.disable(w.CULL_FACE),ie=0;ie<ye;++ie)(ze=U[ie]).axes=N,ze.pixelRatio=ae.pixelRatio,ze.isOpaque&&ze.isOpaque()&&ze.draw(J),ze.isTransparent&&ze.isTransparent()&&(De=!0);if(De){for(O.shape=Q,O.bind(),w.clear(w.DEPTH_BUFFER_BIT),w.colorMask(!1,!1,!1,!1),w.depthMask(!0),w.depthFunc(w.LESS),N.enable&&N.isTransparent()&&N.drawTransparent(J),ie=0;ie<ye;++ie)(ze=U[ie]).isOpaque&&ze.isOpaque()&&ze.draw(J);for(w.enable(w.BLEND),w.blendEquation(w.FUNC_ADD),w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA),w.colorMask(!0,!0,!0,!0),w.depthMask(!1),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),N.isTransparent()&&N.drawTransparent(J),ie=0;ie<ye;++ie){var ze;(ze=U[ie]).isTransparent&&ze.isTransparent()&&ze.drawTransparent(J)}w.bindFramebuffer(w.FRAMEBUFFER,null),w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA),w.disable(w.DEPTH_TEST),P.bind(),O.color[0].bind(0),P.uniforms.accumBuffer=0,d(w),w.disable(w.BLEND)}for(X=!1,ie=0;ie<ye;++ie)U[ie].dirty=!1}}}return ae.enableMouseListeners(),function Ae(){ae._stopped||ae.contextLost||(ge(),requestAnimationFrame(Ae))}(),ae.redraw=function(){ae._stopped||(X=!0,ge())},ae},createCamera:i}},8023:function(p,s,t){var i=t(6832);s.pointVertex=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),s.pointFragment=i(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),s.pickVertex=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),s.pickFragment=i(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(p,s,t){"use strict";var i=t(5158),n=t(5827),r=t(5306),o=t(8023);function l(x,g,h,m,y){this.plot=x,this.offsetBuffer=g,this.pickBuffer=h,this.shader=m,this.pickShader=y,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}p.exports=function(x,g){var h=x.gl,m=new l(x,n(h),n(h),i(h,o.pointVertex,o.pointFragment),i(h,o.pickVertex,o.pickFragment));return m.update(g),x.addObject(m),m};var u,d,c=l.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(x){var g;function h(w,E){return w in x?x[w]:E}x=x||{},this.sizeMin=h("sizeMin",.5),this.sizeMax=h("sizeMax",20),this.color=h("color",[1,0,0,1]).slice(),this.areaRatio=h("areaRatio",1),this.borderColor=h("borderColor",[0,0,0,1]).slice(),this.blend=h("blend",!1);var m=x.positions.length>>>1,y=x.positions instanceof Float32Array,v=x.idToIndex instanceof Int32Array&&x.idToIndex.length>=m,_=x.positions,f=y?_:r.mallocFloat32(_.length),S=v?x.idToIndex:r.mallocInt32(m);if(y||f.set(_),!v)for(f.set(_),g=0;g<m;g++)S[g]=g;this.points=_,this.offsetBuffer.update(f),this.pickBuffer.update(S),y||r.free(f),v||r.free(S),this.pointCount=m,this.pickOffset=0},c.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0],function(x){var g=void 0!==x,h=g?this.pickShader:this.shader,m=this.plot.gl,y=this.plot.dataBox;if(0===this.pointCount)return x;var v=y[2]-y[0],_=y[3]-y[1],f=function(C,O){var P,R=0,j=C.length>>>1;for(P=0;P<j;P++){var z=C[2*P],N=C[2*P+1];z>=O[0]&&z<=O[2]&&N>=O[1]&&N<=O[3]&&R++}return R}(this.points,y),S=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(f,.33333)));u[0]=2/v,u[4]=2/_,u[6]=-2*y[0]/v-1,u[7]=-2*y[1]/_-1,this.offsetBuffer.bind(),h.bind(),h.attributes.position.pointer(),h.uniforms.matrix=u,h.uniforms.color=this.color,h.uniforms.borderColor=this.borderColor,h.uniforms.pointCloud=S<5,h.uniforms.pointSize=S,h.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),g&&(d[0]=255&x,d[1]=x>>8&255,d[2]=x>>16&255,d[3]=x>>24&255,this.pickBuffer.bind(),h.attributes.pickId.pointer(m.UNSIGNED_BYTE),h.uniforms.pickOffset=d,this.pickOffset=x);var w=m.getParameter(m.BLEND),E=m.getParameter(m.DITHER);return w&&!this.blend&&m.disable(m.BLEND),E&&m.disable(m.DITHER),m.drawArrays(m.POINTS,0,this.pointCount),w&&!this.blend&&m.enable(m.BLEND),E&&m.enable(m.DITHER),x+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(x,g,h){var m=this.pickOffset,y=this.pointCount;if(h<m||h>=m+y)return null;var v=h-m,_=this.points;return{object:this,pointId:v,dataCoord:[_[2*v],_[2*v+1]]}}},6093:function(p){p.exports=function(s,t,i,n){var r,o,l,u,d,c=t[0],x=t[1],g=t[2],h=t[3],m=i[0],y=i[1],v=i[2],_=i[3];return(o=c*m+x*y+g*v+h*_)<0&&(o=-o,m=-m,y=-y,v=-v,_=-_),1-o>1e-6?(r=Math.acos(o),l=Math.sin(r),u=Math.sin((1-n)*r)/l,d=Math.sin(n*r)/l):(u=1-n,d=n),s[0]=u*c+d*m,s[1]=u*x+d*y,s[2]=u*g+d*v,s[3]=u*h+d*_,s}},8240:function(p){"use strict";p.exports=function(s){return s||0===s?s.toString():""}},4123:function(p,s,t){"use strict";var i=t(875);p.exports=function(r,o,l){var u=n[o];if(u||(u=n[o]={}),r in u)return u[r];var d={textAlign:"center",textBaseline:"middle",lineHeight:1,font:o,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},c=i(r,d);d.triangles=!1;var x,g,h=i(r,d);if(l&&1!==l){for(x=0;x<c.positions.length;++x)for(g=0;g<c.positions[x].length;++g)c.positions[x][g]/=l;for(x=0;x<h.positions.length;++x)for(g=0;g<h.positions[x].length;++g)h.positions[x][g]/=l}var m=[[1/0,1/0],[-1/0,-1/0]],y=h.positions.length;for(x=0;x<y;++x){var v=h.positions[x];for(g=0;g<2;++g)m[0][g]=Math.min(m[0][g],v[g]),m[1][g]=Math.max(m[1][g],v[g])}return u[r]=[c,h,m]};var n={}},9282:function(p,s,t){var i=t(5158),n=t(6832),r=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),o=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),l=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),u=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),d=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],x={vertex:r,fragment:u,attributes:c},g={vertex:o,fragment:u,attributes:c},h={vertex:l,fragment:u,attributes:c},m={vertex:r,fragment:d,attributes:c},y={vertex:o,fragment:d,attributes:c},v={vertex:l,fragment:d,attributes:c};function _(f,S){var w=i(f,S),E=w.attributes;return E.position.location=0,E.color.location=1,E.glyph.location=2,E.id.location=3,w}s.createPerspective=function(f){return _(f,x)},s.createOrtho=function(f){return _(f,g)},s.createProject=function(f){return _(f,h)},s.createPickPerspective=function(f){return _(f,m)},s.createPickOrtho=function(f){return _(f,y)},s.createPickProject=function(f){return _(f,v)}},2182:function(p,s,t){"use strict";var i=t(3596),n=t(5827),r=t(2944),o=t(5306),l=t(104),u=t(9282),d=t(4123),c=t(8240),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(V,te){var $=V[0],X=V[1],W=V[2],J=V[3];return V[0]=te[0]*$+te[4]*X+te[8]*W+te[12]*J,V[1]=te[1]*$+te[5]*X+te[9]*W+te[13]*J,V[2]=te[2]*$+te[6]*X+te[10]*W+te[14]*J,V[3]=te[3]*$+te[7]*X+te[11]*W+te[15]*J,V}function h(V,te,$,X){return g(X,X),g(X,X),g(X,X)}function m(V,te){this.index=V,this.dataCoordinate=this.position=te}function y(V){return!0===V||V>1?1:V}function v(V,te,$,X,W,J,Q,re,ae,oe,ue,ve){this.gl=V,this.pixelRatio=1,this.shader=te,this.orthoShader=$,this.projectShader=X,this.pointBuffer=W,this.colorBuffer=J,this.glyphBuffer=Q,this.idBuffer=re,this.vao=ae,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=oe,this.pickOrthoShader=ue,this.pickProjectShader=ve,this.points=[],this._selectResult=new m(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}p.exports=function(V){var te=V.gl,$=u.createPerspective(te),X=u.createOrtho(te),W=u.createProject(te),J=u.createPickPerspective(te),Q=u.createPickOrtho(te),re=u.createPickProject(te),ae=n(te),oe=n(te),ue=n(te),ve=n(te),be=new v(te,$,X,W,ae,oe,ue,ve,r(te,[{buffer:ae,size:3,type:te.FLOAT},{buffer:oe,size:4,type:te.FLOAT},{buffer:ue,size:2,type:te.FLOAT},{buffer:ve,size:4,type:te.UNSIGNED_BYTE,normalized:!0}]),J,Q,re);return be.update(V),be};var _=v.prototype;_.pickSlots=1,_.setPickBase=function(V){this.pickId=V},_.isTransparent=function(){if(this.hasAlpha)return!0;for(var V=0;V<3;++V)if(this.axesProject[V]&&this.projectHasAlpha)return!0;return!1},_.isOpaque=function(){if(!this.hasAlpha)return!0;for(var V=0;V<3;++V)if(this.axesProject[V]&&!this.projectHasAlpha)return!0;return!1};var f=[0,0],S=[0,0,0],w=[0,0,0],E=[0,0,0,1],C=[0,0,0,1],O=x.slice(),P=[0,0,0],R=[[0,0,0],[0,0,0]];function j(V){return V[0]=V[1]=V[2]=0,V}function z(V,te){return V[0]=te[0],V[1]=te[1],V[2]=te[2],V[3]=1,V}function N(V,te,$,X){return V[0]=te[0],V[1]=te[1],V[2]=te[2],V[$]=X,V}var Y=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function F(V,te,$,X,W,J,Q){var re=$.gl;if((J===$.projectHasAlpha||Q)&&function(oe,ue,ve,be){var de,pe=ue.axesProject,ge=ue.gl,Ae=oe.uniforms,ye=ve.model||x,we=ve.view||x,se=ve.projection||x,ie=ue.axesBounds,he=function(Xe){for(var at=R,st=0;st<2;++st)for(var ht=0;ht<3;++ht)at[st][ht]=Math.max(Math.min(Xe[st][ht],1e8),-1e8);return at}(ue.clipBounds);de=ue.axes&&ue.axes.lastCubeProps?ue.axes.lastCubeProps.axis:[1,1,1],f[0]=2/ge.drawingBufferWidth,f[1]=2/ge.drawingBufferHeight,oe.bind(),Ae.view=we,Ae.projection=se,Ae.screenSize=f,Ae.highlightId=ue.highlightId,Ae.highlightScale=ue.highlightScale,Ae.clipBounds=he,Ae.pickGroup=ue.pickId/255,Ae.pixelRatio=be;for(var Se=0;Se<3;++Se)if(pe[Se]){Ae.scale=ue.projectScale[Se],Ae.opacity=ue.projectOpacity[Se];for(var _e=O,Me=0;Me<16;++Me)_e[Me]=0;for(Me=0;Me<4;++Me)_e[5*Me]=1;_e[5*Se]=0,de[Se]<0?_e[12+Se]=ie[0][Se]:_e[12+Se]=ie[1][Se],l(_e,ye,_e),Ae.model=_e;var Ee=(Se+1)%3,Ie=(Se+2)%3,fe=j(S),xe=j(w);fe[Ee]=1,xe[Ie]=1;var Te=h(0,0,0,z(E,fe)),Ce=h(0,0,0,z(C,xe));if(Math.abs(Te[1])>Math.abs(Ce[1])){var De=Te;Te=Ce,Ce=De,De=fe,fe=xe,xe=De;var ze=Ee;Ee=Ie,Ie=ze}Te[0]<0&&(fe[Ee]=-1),Ce[1]>0&&(xe[Ie]=-1);var Ue=0,Ve=0;for(Me=0;Me<4;++Me)Ue+=Math.pow(ye[4*Ee+Me],2),Ve+=Math.pow(ye[4*Ie+Me],2);fe[Ee]/=Math.sqrt(Ue),xe[Ie]/=Math.sqrt(Ve),Ae.axes[0]=fe,Ae.axes[1]=xe,Ae.fragClipBounds[0]=N(P,he[0],Se,-1e8),Ae.fragClipBounds[1]=N(P,he[1],Se,1e8),ue.vao.bind(),ue.vao.draw(ge.TRIANGLES,ue.vertexCount),ue.lineWidth>0&&(ge.lineWidth(ue.lineWidth*be),ue.vao.draw(ge.LINES,ue.lineVertexCount,ue.vertexCount)),ue.vao.unbind()}}(te,$,X,W),J===$.hasAlpha||Q){V.bind();var ae=V.uniforms;ae.model=X.model||x,ae.view=X.view||x,ae.projection=X.projection||x,f[0]=2/re.drawingBufferWidth,f[1]=2/re.drawingBufferHeight,ae.screenSize=f,ae.highlightId=$.highlightId,ae.highlightScale=$.highlightScale,ae.fragClipBounds=Y,ae.clipBounds=$.axes.bounds,ae.opacity=$.opacity,ae.pickGroup=$.pickId/255,ae.pixelRatio=W,$.vao.bind(),$.vao.draw(re.TRIANGLES,$.vertexCount),$.lineWidth>0&&(re.lineWidth($.lineWidth*W),$.vao.draw(re.LINES,$.lineVertexCount,$.vertexCount)),$.vao.unbind()}}function U(V,te,$,X){var W;W=Array.isArray(V)?te<V.length?V[te]:void 0:V,W=c(W);var J=!0;i(W)&&(W="\u25bc",J=!1);var Q=d(W,$,X);return{mesh:Q[0],lines:Q[1],bounds:Q[2],visible:J}}_.draw=function(V){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,V,this.pixelRatio,!1,!1)},_.drawTransparent=function(V){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,V,this.pixelRatio,!0,!1)},_.drawPick=function(V){F(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,V,1,!0,!0)},_.pick=function(V){if(!V||V.id!==this.pickId)return null;var te=V.value[2]+(V.value[1]<<8)+(V.value[0]<<16);if(te>=this.pointCount||te<0)return null;var $=this.points[te],X=this._selectResult;X.index=te;for(var W=0;W<3;++W)X.position[W]=X.dataCoordinate[W]=$[W];return X},_.highlight=function(V){if(V){var te=V.index,$=255&te,X=te>>8&255,W=te>>16&255;this.highlightId=[$/255,X/255,W/255,0]}else this.highlightId=[1,1,1,1]},_.update=function(V){if("perspective"in(V=V||{})&&(this.useOrtho=!V.perspective),"orthographic"in V&&(this.useOrtho=!!V.orthographic),"lineWidth"in V&&(this.lineWidth=V.lineWidth),"project"in V)if(Array.isArray(V.project))this.axesProject=V.project;else{var te=!!V.project;this.axesProject=[te,te,te]}if("projectScale"in V)if(Array.isArray(V.projectScale))this.projectScale=V.projectScale.slice();else{var $=+V.projectScale;this.projectScale=[$,$,$]}if(this.projectHasAlpha=!1,"projectOpacity"in V){Array.isArray(V.projectOpacity)?this.projectOpacity=V.projectOpacity.slice():($=+V.projectOpacity,this.projectOpacity=[$,$,$]);for(var X=0;X<3;++X)this.projectOpacity[X]=y(this.projectOpacity[X]),this.projectOpacity[X]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in V&&(this.opacity=y(V.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var W,J,Q=V.position,re=V.font||"normal",ae=V.alignment||[0,0];if(2===ae.length)W=ae[0],J=ae[1];else for(W=[],J=[],X=0;X<ae.length;++X)W[X]=ae[X][0],J[X]=ae[X][1];var oe=[1/0,1/0,1/0],ue=[-1/0,-1/0,-1/0],ve=V.glyph,be=V.color,de=V.size,pe=V.angle,ge=V.lineColor,Ae=-1,ye=0,we=0,se=0;if(Q.length){se=Q.length;e:for(X=0;X<se;++X){for(var ie=Q[X],he=0;he<3;++he)if(isNaN(ie[he])||!isFinite(ie[he]))continue e;var Se=(at=U(ve,X,re,this.pixelRatio)).mesh,_e=at.lines,Me=at.bounds;ye+=3*Se.cells.length,we+=2*_e.edges.length}}var Ee=ye+we,Ie=o.mallocFloat(3*Ee),fe=o.mallocFloat(4*Ee),xe=o.mallocFloat(2*Ee),Te=o.mallocUint32(Ee);if(Ee>0){var Ce=0,De=ye,ze=[0,0,0,1],Ue=[0,0,0,1],Ve=Array.isArray(be)&&Array.isArray(be[0]),Xe=Array.isArray(ge)&&Array.isArray(ge[0]);e:for(X=0;X<se;++X){for(Ae+=1,ie=Q[X],he=0;he<3;++he){if(isNaN(ie[he])||!isFinite(ie[he]))continue e;ue[he]=Math.max(ue[he],ie[he]),oe[he]=Math.min(oe[he],ie[he])}Se=(at=U(ve,X,re,this.pixelRatio)).mesh,_e=at.lines,Me=at.bounds;var at,st=at.visible;if(st)if(Array.isArray(be)){if(3===(ht=Ve?X<be.length?be[X]:[0,0,0,0]:be).length){for(he=0;he<3;++he)ze[he]=ht[he];ze[3]=1}else if(4===ht.length){for(he=0;he<4;++he)ze[he]=ht[he];!this.hasAlpha&&ht[3]<1&&(this.hasAlpha=!0)}}else ze[0]=ze[1]=ze[2]=0,ze[3]=1;else ze=[1,1,1,0];if(st)if(Array.isArray(ge)){var ht;if(3===(ht=Xe?X<ge.length?ge[X]:[0,0,0,0]:ge).length){for(he=0;he<3;++he)Ue[he]=ht[he];Ue[he]=1}else if(4===ht.length){for(he=0;he<4;++he)Ue[he]=ht[he];!this.hasAlpha&&ht[3]<1&&(this.hasAlpha=!0)}}else Ue[0]=Ue[1]=Ue[2]=0,Ue[3]=1;else Ue=[1,1,1,0];var bt=.5;st?Array.isArray(de)?bt=X<de.length?+de[X]:12:de?bt=+de:this.useOrtho&&(bt=12):bt=0;var vt=0;Array.isArray(pe)?vt=X<pe.length?+pe[X]:0:pe&&(vt=+pe);var Qe=Math.cos(vt),nt=Math.sin(vt);for(ie=Q[X],he=0;he<3;++he)ue[he]=Math.max(ue[he],ie[he]),oe[he]=Math.min(oe[he],ie[he]);var wt=W,Ot=J;wt=0,Array.isArray(W)?wt=X<W.length?W[X]:0:W&&(wt=W),Ot=0,Array.isArray(J)?Ot=X<J.length?J[X]:0:J&&(Ot=J);var Pt=[wt*=wt>0?1-Me[0][0]:wt<0?1+Me[1][0]:1,Ot*=Ot>0?1-Me[0][1]:Ot<0?1+Me[1][1]:1],St=Se.cells||[],qe=Se.positions||[];for(he=0;he<St.length;++he)for(var Ze=St[he],Ne=0;Ne<3;++Ne){for(var Ge=0;Ge<3;++Ge)Ie[3*Ce+Ge]=ie[Ge];for(Ge=0;Ge<4;++Ge)fe[4*Ce+Ge]=ze[Ge];Te[Ce]=Ae;var rt=qe[Ze[Ne]];xe[2*Ce]=bt*(Qe*rt[0]-nt*rt[1]+Pt[0]),xe[2*Ce+1]=bt*(nt*rt[0]+Qe*rt[1]+Pt[1]),Ce+=1}for(St=_e.edges,qe=_e.positions,he=0;he<St.length;++he)for(Ze=St[he],Ne=0;Ne<2;++Ne){for(Ge=0;Ge<3;++Ge)Ie[3*De+Ge]=ie[Ge];for(Ge=0;Ge<4;++Ge)fe[4*De+Ge]=Ue[Ge];Te[De]=Ae,rt=qe[Ze[Ne]],xe[2*De]=bt*(Qe*rt[0]-nt*rt[1]+Pt[0]),xe[2*De+1]=bt*(nt*rt[0]+Qe*rt[1]+Pt[1]),De+=1}}}this.bounds=[oe,ue],this.points=Q,this.pointCount=Q.length,this.vertexCount=ye,this.lineVertexCount=we,this.pointBuffer.update(Ie),this.colorBuffer.update(fe),this.glyphBuffer.update(xe),this.idBuffer.update(Te),o.free(Ie),o.free(fe),o.free(xe),o.free(Te)},_.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(p,s,t){"use strict";var i=t(6832);s.boxVertex=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),s.boxFragment=i(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(p,s,t){"use strict";var i=t(5158),n=t(5827),r=t(1884);function o(u,d,c){this.plot=u,this.boxBuffer=d,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}p.exports=function(u,d){var c=u.gl,x=new o(u,n(c,[0,0,0,1,1,0,1,1]),i(c,r.boxVertex,r.boxFragment));return x.update(d),u.addOverlay(x),x};var l=o.prototype;l.draw=function(){if(this.enabled){var u=this.plot,d=this.selectBox,c=this.borderWidth,x=(this.innerFill,this.innerColor),g=(this.outerFill,this.outerColor),h=this.borderColor,m=u.box,y=u.screenBox,v=u.dataBox,_=u.viewBox,f=u.pixelRatio,S=(d[0]-v[0])*(_[2]-_[0])/(v[2]-v[0])+_[0],w=(d[1]-v[1])*(_[3]-_[1])/(v[3]-v[1])+_[1],E=(d[2]-v[0])*(_[2]-_[0])/(v[2]-v[0])+_[0],C=(d[3]-v[1])*(_[3]-_[1])/(v[3]-v[1])+_[1];if(S=Math.max(S,_[0]),w=Math.max(w,_[1]),E=Math.min(E,_[2]),C=Math.min(C,_[3]),!(E<S||C<w)){m.bind();var O=y[2]-y[0],P=y[3]-y[1];if(this.outerFill&&(m.drawBox(0,0,O,w,g),m.drawBox(0,w,S,C,g),m.drawBox(0,C,O,P,g),m.drawBox(E,w,O,C,g)),this.innerFill&&m.drawBox(S,w,E,C,x),c>0){var R=c*f;m.drawBox(S-R,w-R,E+R,w+R,h),m.drawBox(S-R,C-R,E+R,C+R,h),m.drawBox(S-R,w-R,S+R,C+R,h),m.drawBox(E-R,w-R,E+R,C+R,h)}}}},l.update=function(u){u=u||{},this.innerFill=!!u.innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(p,s,t){"use strict";p.exports=function(c,x){var g=x[0],h=x[1];return new u(c,i(c,g,h,{}),n.mallocUint8(g*h*4))};var i=t(4234),n=t(5306),r=t(5050),o=t(2288).nextPow2;function l(c,x,g,h,m){this.coord=[c,x],this.id=g,this.value=h,this.distance=m}function u(c,x,g){this.gl=c,this.fbo=x,this.buffer=g,this._readTimeout=null;var h=this;this._readCallback=function(){h.gl&&(x.bind(),c.readPixels(0,0,x.shape[0],x.shape[1],c.RGBA,c.UNSIGNED_BYTE,h.buffer),h._readTimeout=null)}}var d=u.prototype;Object.defineProperty(d,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var x=this.fbo.shape[0],g=this.fbo.shape[1];if(g*x*4>this.buffer.length){n.free(this.buffer);for(var h=this.buffer=n.mallocUint8(o(g*x*4)),m=0;m<g*x*4;++m)h[m]=255}return c}}}),d.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},d.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},d.query=function(c,x,g){if(!this.gl)return null;var h=this.fbo.shape.slice();c|=0,x|=0,"number"!=typeof g&&(g=1);var m=0|Math.min(Math.max(c-g,0),h[0]),y=0|Math.min(Math.max(c+g,0),h[0]),v=0|Math.min(Math.max(x-g,0),h[1]),_=0|Math.min(Math.max(x+g,0),h[1]);if(y<=m||_<=v)return null;var f=[y-m,_-v],S=r(this.buffer,[f[0],f[1],4],[4,4*h[0],1],4*(m+h[0]*v)),w=function(O,P,R){for(var j=1e8,z=-1,N=-1,Y=O.shape[0],F=O.shape[1],U=0;U<Y;U++)for(var V=0;V<F;V++){var te=O.get(U,V,0),$=O.get(U,V,1),X=O.get(U,V,2),W=O.get(U,V,3);if(te<255||$<255||X<255||W<255){var J=P-U,Q=R-V,re=J*J+Q*Q;re<j&&(j=re,z=U,N=V)}}return[z,N,j]}(S.hi(f[0],f[1],1),g,g),E=w[0],C=w[1];return E<0||Math.pow(this.radius,2)<w[2]?null:new l(E+m|0,C+v|0,S.get(E,C,0),[S.get(E,C,1),S.get(E,C,2),S.get(E,C,3)],Math.sqrt(w[2]))},d.dispose=function(){this.gl&&(this.fbo.dispose(),n.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(p,s,t){"use strict";var i=t(9016),n=t(4280),r=t(3984),o=t(1628),l=t(2631),u=t(9068);function d(g){this.gl=g,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=d.prototype;function x(g,h){return g.name<h.name?-1:1}c.bind=function(){var g;this.program||this._relink();var h=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),m=this.gl.lastAttribCount;if(h>m)for(g=m;g<h;g++)this.gl.enableVertexAttribArray(g);else if(m>h)for(g=h;g<m;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=h,this.gl.useProgram(this.program)},c.dispose=function(){for(var g=this.gl.lastAttribCount,h=0;h<g;h++)this.gl.disableVertexAttribArray(h);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(g,h,m,y){if(!h||1===arguments.length){var v=g;g=v.vertex,h=v.fragment,m=v.uniforms,y=v.attributes}var _=this,f=_.gl,S=_._vref;_._vref=o.shader(f,f.VERTEX_SHADER,g),S&&S.dispose(),_.vertShader=_._vref.shader;var w=this._fref;if(_._fref=o.shader(f,f.FRAGMENT_SHADER,h),w&&w.dispose(),_.fragShader=_._fref.shader,!m||!y){var E=f.createProgram();if(f.attachShader(E,_.fragShader),f.attachShader(E,_.vertShader),f.linkProgram(E),!f.getProgramParameter(E,f.LINK_STATUS)){var C=f.getProgramInfoLog(E);throw new u(C,"Error linking program:"+C)}m=m||l.uniforms(f,E),y=y||l.attributes(f,E),f.deleteProgram(E)}(y=y.slice()).sort(x);var O,P=[],R=[],j=[];for(O=0;O<y.length;++O){var z=y[O];if(z.type.indexOf("mat")>=0){for(var N=0|z.type.charAt(z.type.length-1),Y=new Array(N),F=0;F<N;++F)Y[F]=j.length,R.push(z.name+"["+F+"]"),"number"==typeof z.location?j.push(z.location+F):Array.isArray(z.location)&&z.location.length===N&&"number"==typeof z.location[F]?j.push(0|z.location[F]):j.push(-1);P.push({name:z.name,type:z.type,locations:Y})}else P.push({name:z.name,type:z.type,locations:[j.length]}),R.push(z.name),"number"==typeof z.location?j.push(0|z.location):j.push(-1)}var U=0;for(O=0;O<j.length;++O)if(j[O]<0){for(;j.indexOf(U)>=0;)U+=1;j[O]=U}var V=new Array(m.length);function te(){_.program=o.program(f,_._vref,_._fref,R,j);for(var $=0;$<m.length;++$)V[$]=f.getUniformLocation(_.program,m[$].name)}te(),_._relink=te,_.types={uniforms:r(m),attributes:r(y)},_.attributes=n(f,_,P,j),Object.defineProperty(_,"uniforms",i(f,_,m,V))},p.exports=function(g,h,m,y,v){var _=new d(g);return _.update(h,m,y,v),_}},9068:function(p){function s(t,i,n){this.shortMessage=i||"",this.longMessage=n||"",this.rawError=t||"",this.message="gl-shader: "+(i||t||"")+(n?"\n"+n:""),this.stack=(new Error).stack}s.prototype=new Error,s.prototype.name="GLError",s.prototype.constructor=s,p.exports=s},4280:function(p,s,t){"use strict";p.exports=function(d,c,x,g){for(var h={},m=0,y=x.length;m<y;++m){var v=x[m],_=v.name,f=v.type,S=v.locations;switch(f){case"bool":case"int":case"float":l(d,c,S[0],g,1,h,_);break;default:if(f.indexOf("vec")>=0){if((w=f.charCodeAt(f.length-1)-48)<2||w>4)throw new i("","Invalid data type for attribute "+_+": "+f);l(d,c,S[0],g,w,h,_)}else{if(!(f.indexOf("mat")>=0))throw new i("","Unknown data type for attribute "+_+": "+f);var w;if((w=f.charCodeAt(f.length-1)-48)<2||w>4)throw new i("","Invalid data type for attribute "+_+": "+f);u(d,c,S,g,w,h,_)}}}return h};var i=t(9068);function n(d,c,x,g,h,m){this._gl=d,this._wrapper=c,this._index=x,this._locations=g,this._dimension=h,this._constFunc=m}var r=n.prototype;r.pointer=function(d,c,x,g){var h=this,m=h._gl,y=h._locations[h._index];m.vertexAttribPointer(y,h._dimension,d||m.FLOAT,!!c,x||0,g||0),m.enableVertexAttribArray(y)},r.set=function(d,c,x,g){return this._constFunc(this._locations[this._index],d,c,x,g)},Object.defineProperty(r,"location",{get:function(){return this._locations[this._index]},set:function(d){return d!==this._locations[this._index]&&(this._locations[this._index]=0|d,this._wrapper.program=null),0|d}});var o=[function(d,c,x){return void 0===x.length?d.vertexAttrib1f(c,x):d.vertexAttrib1fv(c,x)},function(d,c,x,g){return void 0===x.length?d.vertexAttrib2f(c,x,g):d.vertexAttrib2fv(c,x)},function(d,c,x,g,h){return void 0===x.length?d.vertexAttrib3f(c,x,g,h):d.vertexAttrib3fv(c,x)},function(d,c,x,g,h,m){return void 0===x.length?d.vertexAttrib4f(c,x,g,h,m):d.vertexAttrib4fv(c,x)}];function l(d,c,x,g,h,m,y){var v=o[h],_=new n(d,c,x,g,h,v);Object.defineProperty(m,y,{set:function(f){return d.disableVertexAttribArray(g[x]),v(d,g[x],f),f},get:function(){return _},enumerable:!0})}function u(d,c,x,g,h,m,y){for(var v=new Array(h),_=new Array(h),f=0;f<h;++f)l(d,c,x[f],g,h,v,f),_[f]=v[f];Object.defineProperty(v,"location",{set:function(E){if(Array.isArray(E))for(var C=0;C<h;++C)_[C].location=E[C];else for(C=0;C<h;++C)_[C].location=E+C;return E},get:function(){for(var E=new Array(h),C=0;C<h;++C)E[C]=g[x[C]];return E},enumerable:!0}),v.pointer=function(E,C,O,P){E=E||d.FLOAT,C=!!C,O=O||h*h,P=P||0;for(var R=0;R<h;++R){var j=g[x[R]];d.vertexAttribPointer(j,h,E,C,O,P+R*h),d.enableVertexAttribArray(j)}};var S=new Array(h),w=d["vertexAttrib"+h+"fv"];Object.defineProperty(m,y,{set:function(E){for(var C=0;C<h;++C){var O=g[x[C]];if(d.disableVertexAttribArray(O),Array.isArray(E[0]))w.call(d,O,E[C]);else{for(var P=0;P<h;++P)S[P]=E[h*C+P];w.call(d,O,S)}}return E},get:function(){return v},enumerable:!0})}},9016:function(p,s,t){"use strict";var i=t(3984),n=t(9068);function r(l){return function(){return l}}function o(l,u){for(var d=new Array(l),c=0;c<l;++c)d[c]=u;return d}p.exports=function(l,u,d,c){function x(v){return function(_){for(var f=g("",v),S=0;S<f.length;++S){var w=f[S],E=w[0],C=w[1];if(c[C]){var O=_;if("string"==typeof E&&(0===E.indexOf(".")||0===E.indexOf("["))){var P=E;if(0===E.indexOf(".")&&(P=E.slice(1)),P.indexOf("]")===P.length-1){var R=P.indexOf("["),j=P.slice(0,R),z=P.slice(R+1,P.length-1);O=j?_[j][z]:_[z]}else O=_[P]}var N,Y=d[C].type;switch(Y){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(c[C],O);break;case"float":l.uniform1f(c[C],O);break;default:var F=Y.indexOf("vec");if(!(0<=F&&F<=1&&Y.length===4+F)){if(0===Y.indexOf("mat")&&4===Y.length){if((N=Y.charCodeAt(Y.length-1)-48)<2||N>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+Y);l["uniformMatrix"+N+"fv"](c[C],!1,O);break}throw new n("","Unknown uniform data type for "+name+": "+Y)}if((N=Y.charCodeAt(Y.length-1)-48)<2||N>4)throw new n("","Invalid data type");switch(Y.charAt(0)){case"b":case"i":l["uniform"+N+"iv"](c[C],O);break;case"v":l["uniform"+N+"fv"](c[C],O);break;default:throw new n("","Unrecognized data type for vector "+name+": "+Y)}}}}}}function g(v,_){if("object"!=typeof _)return[[v,_]];var f=[];for(var S in _){var w=_[S],E=v;parseInt(S)+""===S?E+="["+S+"]":E+="."+S,"object"==typeof w?f.push.apply(f,g(E,w)):f.push([E,w])}return f}function h(v,_,f){if("object"==typeof f){var S=m(f);Object.defineProperty(v,_,{get:r(S),set:x(f),enumerable:!0,configurable:!1})}else c[f]?Object.defineProperty(v,_,{get:(w=f,function(E,C,O){return E.getUniform(C.program,O[w])}),set:x(f),enumerable:!0,configurable:!1}):v[_]=function(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var C=E.indexOf("vec");if(0<=C&&C<=1&&E.length===4+C){if((O=E.charCodeAt(E.length-1)-48)<2||O>4)throw new n("","Invalid data type");return"b"===E.charAt(0)?o(O,!1):o(O,0)}if(0===E.indexOf("mat")&&4===E.length){var O;if((O=E.charCodeAt(E.length-1)-48)<2||O>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+E);return o(O*O,0)}throw new n("","Unknown uniform data type for "+name+": "+E)}}(d[f].type);var w}function m(v){var _;if(Array.isArray(v)){_=new Array(v.length);for(var f=0;f<v.length;++f)h(_,f,v[f])}else for(var S in _={},v)h(_,S,v[S]);return _}var y=i(d,!0);return{get:r(m(y)),set:x(y),enumerable:!0,configurable:!0}}},3984:function(p){"use strict";p.exports=function(s,t){for(var i={},n=0;n<s.length;++n)for(var r=s[n].name.split("."),o=i,l=0;l<r.length;++l){var u=r[l].split("[");if(u.length>1){u[0]in o||(o[u[0]]=[]),o=o[u[0]];for(var d=1;d<u.length;++d){var c=parseInt(u[d]);d<u.length-1||l<r.length-1?(c in o||(d<u.length-1?o[c]=[]:o[c]={}),o=o[c]):o[c]=t?n:s[n].type}}else l<r.length-1?(u[0]in o||(o[u[0]]={}),o=o[u[0]]):o[u[0]]=t?n:s[n].type}return i}},2631:function(p,s){"use strict";s.uniforms=function(r,o){for(var l=r.getProgramParameter(o,r.ACTIVE_UNIFORMS),u=[],d=0;d<l;++d){var c=r.getActiveUniform(o,d);if(c){var x=n(r,c.type);if(c.size>1)for(var g=0;g<c.size;++g)u.push({name:c.name.replace("[0]","["+g+"]"),type:x});else u.push({name:c.name,type:x})}}return u},s.attributes=function(r,o){for(var l=r.getProgramParameter(o,r.ACTIVE_ATTRIBUTES),u=[],d=0;d<l;++d){var c=r.getActiveAttrib(o,d);c&&u.push({name:c.name,type:n(r,c.type)})}return u};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function n(r,o){if(!i){var l=Object.keys(t);i={};for(var u=0;u<l.length;++u){var d=l[u];i[r[d]]=t[d]}}return i[o]}},1628:function(p,s,t){"use strict";s.shader=function(x,g,h){return c(x).getShaderReference(g,h)},s.program=function(x,g,h,m,y){return c(x).getProgram(g,h,m,y)};var i=t(9068),n=t(3530),r=new(typeof WeakMap>"u"?t(4037):WeakMap),o=0;function l(x,g,h,m,y,v,_){this.id=x,this.src=g,this.type=h,this.shader=m,this.count=v,this.programs=[],this.cache=_}function u(x){this.gl=x,this.shaders=[{},{}],this.programs={}}l.prototype.dispose=function(){if(0==--this.count){for(var x=this.cache,g=x.gl,h=this.programs,m=0,y=h.length;m<y;++m){var v=x.programs[h[m]];v&&(delete x.programs[m],g.deleteProgram(v))}g.deleteShader(this.shader),delete x.shaders[this.type===g.FRAGMENT_SHADER|0][this.src]}};var d=u.prototype;function c(x){var g=r.get(x);return g||(g=new u(x),r.set(x,g)),g}d.getShaderReference=function(x,g){var h=this.gl,m=this.shaders[x===h.FRAGMENT_SHADER|0],y=m[g];if(y&&h.isShader(y.shader))y.count+=1;else{var v=function(_,f,S){var w=_.createShader(f);if(_.shaderSource(w,S),_.compileShader(w),!_.getShaderParameter(w,_.COMPILE_STATUS)){var E=_.getShaderInfoLog(w);try{var C=n(E,S,f)}catch(O){throw console.warn("Failed to format compiler error: "+O),new i(E,"Error compiling shader:\n"+E)}throw new i(E,C.short,C.long)}return w}(h,x,g);y=m[g]=new l(o++,g,x,v,[],1,this)}return y},d.getProgram=function(x,g,h,m){var y=[x.id,g.id,h.join(":"),m.join(":")].join("@"),v=this.programs[y];return v&&this.gl.isProgram(v)||(this.programs[y]=v=function(_,f,S,w,E){var C=_.createProgram();_.attachShader(C,f),_.attachShader(C,S);for(var O=0;O<w.length;++O)_.bindAttribLocation(C,E[O],w[O]);if(_.linkProgram(C),!_.getProgramParameter(C,_.LINK_STATUS)){var P=_.getProgramInfoLog(C);throw new i(P,"Error linking program: "+P)}return C}(this.gl,x.shader,g.shader,h,m),x.programs.push(y),g.programs.push(y)),v}},3050:function(p){"use strict";function s(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}p.exports=function(i,n){var r=new s(i);return r.update(n),i.addOverlay(r),r};var t=s.prototype;t.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var i=this.enable,n=this.width,r=this.color,o=this.center,l=this.plot,u=l.line,d=l.dataBox,c=l.viewBox;if(u.bind(),d[0]<=o[0]&&o[0]<=d[2]&&d[1]<=o[1]&&o[1]<=d[3]){var x=c[0]+(o[0]-d[0])/(d[2]-d[0])*(c[2]-c[0]),g=c[1]+(o[1]-d[1])/(d[3]-d[1])*(c[3]-c[1]);i[0]&&u.drawLine(x,g,c[0],g,n[0],r[0]),i[1]&&u.drawLine(x,g,x,c[1],n[1],r[1]),i[2]&&u.drawLine(x,g,c[2],g,n[2],r[2]),i[3]&&u.drawLine(x,g,x,c[3],n[3],r[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},3540:function(p,s,t){"use strict";var i=t(6832),n=t(5158),r=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),o=i(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);p.exports=function(l){return n(l,r,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(p,s,t){"use strict";var i=t(5827),n=t(2944),r=t(3540);p.exports=function(g,h){var m=[];function y(w,E,C,O,P,R){var j=[w,E,C,0,0,0,1];j[O+3]=1,j[O]=P,m.push.apply(m,j),j[6]=-1,m.push.apply(m,j),j[O]=R,m.push.apply(m,j),m.push.apply(m,j),j[6]=1,m.push.apply(m,j),j[O]=P,m.push.apply(m,j)}y(0,0,0,0,0,1),y(0,0,0,1,0,1),y(0,0,0,2,0,1),y(1,0,0,1,-1,1),y(1,0,0,2,-1,1),y(0,1,0,0,-1,1),y(0,1,0,2,-1,1),y(0,0,1,0,-1,1),y(0,0,1,1,-1,1);var v=i(g,m),_=n(g,[{type:g.FLOAT,buffer:v,size:3,offset:0,stride:28},{type:g.FLOAT,buffer:v,size:3,offset:12,stride:28},{type:g.FLOAT,buffer:v,size:1,offset:24,stride:28}]),f=r(g);f.attributes.position.location=0,f.attributes.color.location=1,f.attributes.weight.location=2;var S=new l(g,v,_,f);return S.update(h),S};var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(g,h,m,y){this.gl=g,this.buffer=h,this.vao=m,this.shader=y,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=l.prototype,d=[0,0,0],c=[0,0,0],x=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(g){},u.draw=function(g){var h=this.gl,m=this.vao,y=this.shader;m.bind(),y.bind();var v,_=g.model||o,f=g.view||o,S=g.projection||o;this.axes&&(v=this.axes.lastCubeProps.axis);for(var w=d,E=c,C=0;C<3;++C)v&&v[C]<0?(w[C]=this.bounds[0][C],E[C]=this.bounds[1][C]):(w[C]=this.bounds[1][C],E[C]=this.bounds[0][C]);for(x[0]=h.drawingBufferWidth,x[1]=h.drawingBufferHeight,y.uniforms.model=_,y.uniforms.view=f,y.uniforms.projection=S,y.uniforms.coordinates=[this.position,w,E],y.uniforms.colors=this.colors,y.uniforms.screenShape=x,C=0;C<3;++C)y.uniforms.lineWidth=this.lineWidth[C]*this.pixelRatio,this.enabled[C]&&(m.draw(h.TRIANGLES,6,6*C),this.drawSides[C]&&m.draw(h.TRIANGLES,12,18+12*C));m.unbind()},u.update=function(g){g&&("bounds"in g&&(this.bounds=g.bounds),"position"in g&&(this.position=g.position),"lineWidth"in g&&(this.lineWidth=g.lineWidth),"colors"in g&&(this.colors=g.colors),"enabled"in g&&(this.enabled=g.enabled),"drawSides"in g&&(this.drawSides=g.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(p,s,t){var i=t(6832),n=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),r=i(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),o=i(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);s.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},s.pickShader={vertex:o,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(p,s,t){"use strict";var i=t(2858),n=t(4020),r=["xyz","xzy","yxz","yzx","zxy","zyx"],o=function(x,g){var h,m=x.length;for(h=0;h<m;h++){var y=x[h];if(y===g)return h;if(y>g)return h-1}return h},l=function(x,g,h){return x<g?g:x>h?h:x},u=function(x){var g=1/0;x.sort(function(v,_){return v-_});for(var h=x.length,m=1;m<h;m++){var y=Math.abs(x[m]-x[m-1]);y<g&&(g=y)}return g};p.exports=function(x,g){var h=x.startingPositions,m=x.maxLength||1e3,y=x.tubeSize||1,v=x.absoluteTubeSize,_=x.gridFill||"+x+y+z",f={};-1!==_.indexOf("-x")&&(f.reversedX=!0),-1!==_.indexOf("-y")&&(f.reversedY=!0),-1!==_.indexOf("-z")&&(f.reversedZ=!0),f.filled=r.indexOf(_.replace(/-/g,"").replace(/\+/g,""));var S=x.getVelocity||function(ge){return function(Ae,ye,we){var se=ye.vectors,ie=ye.meshgrid,he=Ae[0],Se=Ae[1],_e=Ae[2],Me=ie[0].length,Ee=ie[1].length,Ie=ie[2].length,fe=o(ie[0],he),xe=o(ie[1],Se),Te=o(ie[2],_e),Ce=fe+1,De=xe+1,ze=Te+1;if(fe=l(fe,0,Me-1),Ce=l(Ce,0,Me-1),xe=l(xe,0,Ee-1),De=l(De,0,Ee-1),Te=l(Te,0,Ie-1),ze=l(ze,0,Ie-1),fe<0||xe<0||Te<0||Ce>Me-1||De>Ee-1||ze>Ie-1)return i.create();var Ue,Ve,Xe,at,st,ht,bt=ie[0][fe],vt=ie[0][Ce],Qe=ie[1][xe],nt=ie[1][De],wt=ie[2][Te],Ot=(he-bt)/(vt-bt),Pt=(Se-Qe)/(nt-Qe),St=(_e-wt)/(ie[2][ze]-wt);switch(isFinite(Ot)||(Ot=.5),isFinite(Pt)||(Pt=.5),isFinite(St)||(St=.5),we.reversedX&&(fe=Me-1-fe,Ce=Me-1-Ce),we.reversedY&&(xe=Ee-1-xe,De=Ee-1-De),we.reversedZ&&(Te=Ie-1-Te,ze=Ie-1-ze),we.filled){case 5:st=Te,ht=ze,Xe=xe*Ie,at=De*Ie,Ue=fe*Ie*Ee,Ve=Ce*Ie*Ee;break;case 4:st=Te,ht=ze,Ue=fe*Ie,Ve=Ce*Ie,Xe=xe*Ie*Me,at=De*Ie*Me;break;case 3:Xe=xe,at=De,st=Te*Ee,ht=ze*Ee,Ue=fe*Ee*Ie,Ve=Ce*Ee*Ie;break;case 2:Xe=xe,at=De,Ue=fe*Ee,Ve=Ce*Ee,st=Te*Ee*Me,ht=ze*Ee*Me;break;case 1:Ue=fe,Ve=Ce,st=Te*Me,ht=ze*Me,Xe=xe*Me*Ie,at=De*Me*Ie;break;default:Ue=fe,Ve=Ce,Xe=xe*Me,at=De*Me,st=Te*Me*Ee,ht=ze*Me*Ee}var qe=se[Ue+Xe+st],Ze=se[Ue+Xe+ht],Ne=se[Ue+at+st],Ge=se[Ue+at+ht],rt=se[Ve+Xe+st],tt=se[Ve+Xe+ht],Re=se[Ve+at+st],Fe=se[Ve+at+ht],et=i.create(),We=i.create(),ct=i.create(),pt=i.create();i.lerp(et,qe,rt,Ot),i.lerp(We,Ze,tt,Ot),i.lerp(ct,Ne,Re,Ot),i.lerp(pt,Ge,Fe,Ot);var dt=i.create(),ut=i.create();i.lerp(dt,et,ct,Pt),i.lerp(ut,We,pt,Pt);var kt=i.create();return i.lerp(kt,dt,ut,St),kt}(ge,x,f)},w=x.getDivergence||function(ge,Ae){var ye=i.create(),we=1e-4;i.add(ye,ge,[we,0,0]);var se=S(ye);i.subtract(se,se,Ae),i.scale(se,se,1/we),i.add(ye,ge,[0,we,0]);var ie=S(ye);i.subtract(ie,ie,Ae),i.scale(ie,ie,1/we),i.add(ye,ge,[0,0,we]);var he=S(ye);return i.subtract(he,he,Ae),i.scale(he,he,1/we),i.add(ye,se,ie),i.add(ye,ye,he),ye},E=[],C=g[0][0],O=g[0][1],P=g[0][2],R=g[1][0],j=g[1][1],z=g[1][2],N=function(ge){var Ae=ge[0],ye=ge[1],we=ge[2];return!(Ae<C||Ae>R||ye<O||ye>j||we<P||we>z)},Y=10*i.distance(g[0],g[1])/m,F=Y*Y,U=1,V=0,te=h.length;te>1&&(U=function(ge){for(var Ae=[],ye=[],we=[],se={},ie={},he={},Se=ge.length,_e=0;_e<Se;_e++){var Me=ge[_e],Ee=Me[0],Ie=Me[1],fe=Me[2];se[Ee]||(Ae.push(Ee),se[Ee]=!0),ie[Ie]||(ye.push(Ie),ie[Ie]=!0),he[fe]||(we.push(fe),he[fe]=!0)}var xe=u(Ae),Te=u(ye),Ce=u(we),De=Math.min(xe,Te,Ce);return isFinite(De)?De:1}(h));for(var $=0;$<te;$++){var X=i.create();i.copy(X,h[$]);var W=[X],J=[],Q=S(X),re=X;J.push(Q);var ae=[],oe=w(X,Q),ue=i.length(oe);isFinite(ue)&&ue>V&&(V=ue),ae.push(ue),E.push({points:W,velocities:J,divergences:ae});for(var ve=0;ve<100*m&&W.length<m&&N(X);){ve++;var be=i.clone(Q),de=i.squaredLength(be);if(0===de)break;de>F&&i.scale(be,be,Y/Math.sqrt(de)),i.add(be,be,X),Q=S(be),i.squaredDistance(re,be)-F>-1e-4*F&&(W.push(be),re=be,J.push(Q),oe=w(be,Q),ue=i.length(oe),isFinite(ue)&&ue>V&&(V=ue),ae.push(ue)),X=be}}var pe=function(ge,Ae,ye,we){for(var se=0,ie=0;ie<ge.length;ie++)for(var he=ge[ie].velocities,Se=0;Se<he.length;Se++)se=Math.max(se,i.length(he[Se]));var _e=ge.map(function(Ue){return function(Ve,Xe,at,st){for(var ht=Ve.points,bt=Ve.velocities,vt=Ve.divergences,Qe=[],nt=[],wt=[],Ot=[],Pt=[],St=[],qe=0,Ze=0,Ne=n.create(),Ge=n.create(),rt=0;rt<ht.length;rt++){var tt=ht[rt],Re=bt[rt],Fe=vt[rt];0===Xe&&(Fe=.05*at),Ze=i.length(Re)/st,Ne=n.create(),i.copy(Ne,Re),Ne[3]=Fe;for(var et=0;et<8;et++)Pt[et]=[tt[0],tt[1],tt[2],et];if(Ot.length>0)for(et=0;et<8;et++){var We=(et+1)%8;Qe.push(Ot[et],Pt[et],Pt[We],Pt[We],Ot[We],Ot[et]),wt.push(Ge,Ne,Ne,Ne,Ge,Ge),St.push(qe,Ze,Ze,Ze,qe,qe);var ct=Qe.length;nt.push([ct-6,ct-5,ct-4],[ct-3,ct-2,ct-1])}var pt=Ot;Ot=Pt,Pt=pt;var dt=Ge;Ge=Ne,Ne=dt;var ut=qe;qe=Ze,Ze=ut}return{positions:Qe,cells:nt,vectors:wt,vertexIntensity:St}}(Ue,ye,we,se)}),Me=[],Ee=[],Ie=[],fe=[];for(ie=0;ie<_e.length;ie++){var xe=_e[ie],Te=Me.length;for(Me=Me.concat(xe.positions),Ie=Ie.concat(xe.vectors),fe=fe.concat(xe.vertexIntensity),Se=0;Se<xe.cells.length;Se++){var Ce=xe.cells[Se],De=[];Ee.push(De);for(var ze=0;ze<Ce.length;ze++)De.push(Ce[ze]+Te)}}return{positions:Me,cells:Ee,vectors:Ie,vertexIntensity:fe,colormap:Ae}}(E,x.colormap,V,U);return v?pe.tubeScale=v:(0===V&&(V=1),pe.tubeScale=.5*y*U/V),pe};var d=t(9578),c=t(1140).createMesh;p.exports.createTubeMesh=function(x,g){return c(x,g,{shaders:d,traceType:"streamtube"})}},9054:function(p,s,t){var i=t(5158),n=t(6832),r=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),o=n(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),l=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),u=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);s.createShader=function(d){var c=i(d,r,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createPickShader=function(d){var c=i(d,r,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createContourShader=function(d){var c=i(d,l,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},s.createPickContourShader=function(d){var c=i(d,l,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(p,s,t){"use strict";p.exports=function(oe){var ue=oe.gl,ve=f(ue),be=w(ue),de=S(ue),pe=E(ue),ge=n(ue),Ae=r(ue,[{buffer:ge,size:4,stride:C,offset:0},{buffer:ge,size:3,stride:C,offset:16},{buffer:ge,size:3,stride:C,offset:28}]),ye=n(ue),we=r(ue,[{buffer:ye,size:4,stride:20,offset:0},{buffer:ye,size:1,stride:20,offset:16}]),se=n(ue),ie=r(ue,[{buffer:se,size:2,type:ue.FLOAT}]),he=o(ue,1,z,ue.RGBA,ue.UNSIGNED_BYTE);he.minFilter=ue.LINEAR,he.magFilter=ue.LINEAR;var Se=new N(ue,[0,0],[[0,0,0],[0,0,0]],ve,be,ge,Ae,he,de,pe,ye,we,se,ie,[0,0,0]),_e={levels:[[],[],[]]};for(var Me in oe)_e[Me]=oe[Me];return _e.colormap=_e.colormap||"jet",Se.update(_e),Se};var i=t(2288),n=t(5827),r=t(2944),o=t(8931),l=t(5306),u=t(9156),d=t(7498),c=t(7382),x=t(5050),g=t(4162),h=t(104),m=t(7437),y=t(5070),v=t(9144),_=t(9054),f=_.createShader,S=_.createContourShader,w=_.createPickShader,E=_.createPickContourShader,C=40,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],P=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],R=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function j(oe,ue,ve,be,de){this.position=oe,this.index=ue,this.uv=ve,this.level=be,this.dataCoordinate=de}!function(){for(var oe=0;oe<3;++oe){var ue=R[oe],ve=(oe+2)%3;ue[(oe+1)%3+0]=1,ue[ve+3]=1,ue[oe+6]=1}}();var z=256;function N(oe,ue,ve,be,de,pe,ge,Ae,ye,we,se,ie,he,Se,_e){this.gl=oe,this.shape=ue,this.bounds=ve,this.objectOffset=_e,this.intensityBounds=[],this._shader=be,this._pickShader=de,this._coordinateBuffer=pe,this._vao=ge,this._colorMap=Ae,this._contourShader=ye,this._contourPickShader=we,this._contourBuffer=se,this._contourVAO=ie,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new j([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=he,this._dynamicVAO=Se,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[x(l.mallocFloat(1024),[0,0]),x(l.mallocFloat(1024),[0,0]),x(l.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var Y=N.prototype;Y.genColormap=function(oe,ue){var ve=!1,be=c([u({colormap:oe,nshades:z,format:"rgba"}).map(function(de,pe){var ge=ue?function(Ae,ye){if(!ye||!ye.length)return 1;for(var we=0;we<ye.length;++we){if(ye.length<2)return 1;if(ye[we][0]===Ae)return ye[we][1];if(ye[we][0]>Ae&&we>0){var se=(ye[we][0]-Ae)/(ye[we][0]-ye[we-1][0]);return ye[we][1]*(1-se)+se*ye[we-1][1]}}return 1}(pe/255,ue):de[3];return ge<1&&(ve=!0),[de[0],de[1],de[2],255*ge]})]);return d.divseq(be,255),this.hasAlphaScale=ve,be},Y.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},Y.isOpaque=function(){return!this.isTransparent()},Y.pickSlots=1,Y.setPickBase=function(oe){this.pickId=oe};var F=[0,0,0],U={showSurface:!1,showContour:!1,projections:[O.slice(),O.slice(),O.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function V(oe,ue){var ve,be,de,pe=ue.axes&&ue.axes.lastCubeProps.axis||F,ge=ue.showSurface,Ae=ue.showContour;for(ve=0;ve<3;++ve)for(ge=ge||ue.surfaceProject[ve],be=0;be<3;++be)Ae=Ae||ue.contourProject[ve][be];for(ve=0;ve<3;++ve){var ye=U.projections[ve];for(be=0;be<16;++be)ye[be]=0;for(be=0;be<4;++be)ye[5*be]=1;ye[5*ve]=0,ye[12+ve]=ue.axesBounds[+(pe[ve]>0)][ve],h(ye,oe.model,ye);var we=U.clipBounds[ve];for(de=0;de<2;++de)for(be=0;be<3;++be)we[de][be]=oe.clipBounds[de][be];we[0][ve]=-1e8,we[1][ve]=1e8}return U.showSurface=ge,U.showContour=Ae,U}var te={model:O,view:O,projection:O,inverseModel:O.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},$=O.slice(),X=[1,0,0,0,1,0,0,0,1];function W(oe,ue){oe=oe||{};var ve=this.gl;ve.disable(ve.CULL_FACE),this._colorMap.bind(0);var be=te;be.model=oe.model||O,be.view=oe.view||O,be.projection=oe.projection||O,be.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],be.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],be.objectOffset=this.objectOffset,be.contourColor=this.contourColor[0],be.inverseModel=m(be.inverseModel,be.model);for(var de=0;de<2;++de)for(var pe=be.clipBounds[de],ge=0;ge<3;++ge)pe[ge]=Math.min(Math.max(this.clipBounds[de][ge],-1e8),1e8);be.kambient=this.ambientLight,be.kdiffuse=this.diffuseLight,be.kspecular=this.specularLight,be.roughness=this.roughness,be.fresnel=this.fresnel,be.opacity=this.opacity,be.height=0,be.permutation=X,be.vertexColor=this.vertexColor;var Ae=$;for(h(Ae,be.view,be.model),h(Ae,be.projection,Ae),m(Ae,Ae),de=0;de<3;++de)be.eyePosition[de]=Ae[12+de]/Ae[15];var ye=Ae[15];for(de=0;de<3;++de)ye+=this.lightPosition[de]*Ae[4*de+3];for(de=0;de<3;++de){var we=Ae[12+de];for(ge=0;ge<3;++ge)we+=Ae[4*ge+de]*this.lightPosition[ge];be.lightPosition[de]=we/ye}var se=V(be,this);if(se.showSurface){for(this._shader.bind(),this._shader.uniforms=be,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ve.TRIANGLES,this._vertexCount),de=0;de<3;++de)this.surfaceProject[de]&&this.vertexCount&&(this._shader.uniforms.model=se.projections[de],this._shader.uniforms.clipBounds=se.clipBounds[de],this._vao.draw(ve.TRIANGLES,this._vertexCount));this._vao.unbind()}if(se.showContour){var ie=this._contourShader;be.kambient=1,be.kdiffuse=0,be.kspecular=0,be.opacity=1,ie.bind(),ie.uniforms=be;var he=this._contourVAO;for(he.bind(),de=0;de<3;++de)for(ie.uniforms.permutation=R[de],ve.lineWidth(this.contourWidth[de]*this.pixelRatio),ge=0;ge<this.contourLevels[de].length;++ge)ge===this.highlightLevel[de]?(ie.uniforms.contourColor=this.highlightColor[de],ie.uniforms.contourTint=this.highlightTint[de]):0!==ge&&ge-1!==this.highlightLevel[de]||(ie.uniforms.contourColor=this.contourColor[de],ie.uniforms.contourTint=this.contourTint[de]),this._contourCounts[de][ge]&&(ie.uniforms.height=this.contourLevels[de][ge],he.draw(ve.LINES,this._contourCounts[de][ge],this._contourOffsets[de][ge]));for(de=0;de<3;++de)for(ie.uniforms.model=se.projections[de],ie.uniforms.clipBounds=se.clipBounds[de],ge=0;ge<3;++ge)if(this.contourProject[de][ge]){ie.uniforms.permutation=R[ge],ve.lineWidth(this.contourWidth[ge]*this.pixelRatio);for(var Se=0;Se<this.contourLevels[ge].length;++Se)Se===this.highlightLevel[ge]?(ie.uniforms.contourColor=this.highlightColor[ge],ie.uniforms.contourTint=this.highlightTint[ge]):0!==Se&&Se-1!==this.highlightLevel[ge]||(ie.uniforms.contourColor=this.contourColor[ge],ie.uniforms.contourTint=this.contourTint[ge]),this._contourCounts[ge][Se]&&(ie.uniforms.height=this.contourLevels[ge][Se],he.draw(ve.LINES,this._contourCounts[ge][Se],this._contourOffsets[ge][Se]))}for(he.unbind(),(he=this._dynamicVAO).bind(),de=0;de<3;++de)if(0!==this._dynamicCounts[de])for(ie.uniforms.model=be.model,ie.uniforms.clipBounds=be.clipBounds,ie.uniforms.permutation=R[de],ve.lineWidth(this.dynamicWidth[de]*this.pixelRatio),ie.uniforms.contourColor=this.dynamicColor[de],ie.uniforms.contourTint=this.dynamicTint[de],ie.uniforms.height=this.dynamicLevel[de],he.draw(ve.LINES,this._dynamicCounts[de],this._dynamicOffsets[de]),ge=0;ge<3;++ge)this.contourProject[ge][de]&&(ie.uniforms.model=se.projections[ge],ie.uniforms.clipBounds=se.clipBounds[ge],he.draw(ve.LINES,this._dynamicCounts[de],this._dynamicOffsets[de]));he.unbind()}}Y.draw=function(oe){return W.call(this,oe,!1)},Y.drawTransparent=function(oe){return W.call(this,oe,!0)};var J={model:O,view:O,projection:O,inverseModel:O,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function Q(oe,ue){return Array.isArray(oe)?[ue(oe[0]),ue(oe[1]),ue(oe[2])]:[ue(oe),ue(oe),ue(oe)]}function re(oe){return Array.isArray(oe)?3===oe.length?[oe[0],oe[1],oe[2],1]:[oe[0],oe[1],oe[2],oe[3]]:[0,0,0,1]}function ae(oe){if(Array.isArray(oe)){if(Array.isArray(oe))return[re(oe[0]),re(oe[1]),re(oe[2])];var ue=re(oe);return[ue.slice(),ue.slice(),ue.slice()]}}Y.drawPick=function(oe){oe=oe||{};var ue=this.gl;ue.disable(ue.CULL_FACE);var ve=J;ve.model=oe.model||O,ve.view=oe.view||O,ve.projection=oe.projection||O,ve.shape=this._field[2].shape,ve.pickId=this.pickId/255,ve.lowerBound=this.bounds[0],ve.upperBound=this.bounds[1],ve.objectOffset=this.objectOffset,ve.permutation=X;for(var be=0;be<2;++be)for(var de=ve.clipBounds[be],pe=0;pe<3;++pe)de[pe]=Math.min(Math.max(this.clipBounds[be][pe],-1e8),1e8);var ge=V(ve,this);if(ge.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ve,this._vao.bind(),this._vao.draw(ue.TRIANGLES,this._vertexCount),be=0;be<3;++be)this.surfaceProject[be]&&(this._pickShader.uniforms.model=ge.projections[be],this._pickShader.uniforms.clipBounds=ge.clipBounds[be],this._vao.draw(ue.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ge.showContour){var Ae=this._contourPickShader;Ae.bind(),Ae.uniforms=ve;var ye=this._contourVAO;for(ye.bind(),pe=0;pe<3;++pe)for(ue.lineWidth(this.contourWidth[pe]*this.pixelRatio),Ae.uniforms.permutation=R[pe],be=0;be<this.contourLevels[pe].length;++be)this._contourCounts[pe][be]&&(Ae.uniforms.height=this.contourLevels[pe][be],ye.draw(ue.LINES,this._contourCounts[pe][be],this._contourOffsets[pe][be]));for(be=0;be<3;++be)for(Ae.uniforms.model=ge.projections[be],Ae.uniforms.clipBounds=ge.clipBounds[be],pe=0;pe<3;++pe)if(this.contourProject[be][pe]){Ae.uniforms.permutation=R[pe],ue.lineWidth(this.contourWidth[pe]*this.pixelRatio);for(var we=0;we<this.contourLevels[pe].length;++we)this._contourCounts[pe][we]&&(Ae.uniforms.height=this.contourLevels[pe][we],ye.draw(ue.LINES,this._contourCounts[pe][we],this._contourOffsets[pe][we]))}ye.unbind()}},Y.pick=function(oe){if(!oe||oe.id!==this.pickId)return null;var ue=this._field[2].shape,ve=this._pickResult,be=ue[0]*(oe.value[0]+(oe.value[2]>>4)/16)/255,de=Math.floor(be),pe=be-de,ge=ue[1]*(oe.value[1]+(15&oe.value[2])/16)/255,Ae=Math.floor(ge),ye=ge-Ae;de+=1,Ae+=1;var we=ve.position;we[0]=we[1]=we[2]=0;for(var se=0;se<2;++se)for(var ie=se?pe:1-pe,he=0;he<2;++he)for(var Se=de+se,_e=Ae+he,Me=ie*(he?ye:1-ye),Ee=0;Ee<3;++Ee)we[Ee]+=this._field[Ee].get(Se,_e)*Me;for(var Ie=this._pickResult.level,fe=0;fe<3;++fe)if(Ie[fe]=y.le(this.contourLevels[fe],we[fe]),Ie[fe]<0)this.contourLevels[fe].length>0&&(Ie[fe]=0);else if(Ie[fe]<this.contourLevels[fe].length-1){var xe=this.contourLevels[fe][Ie[fe]],Te=this.contourLevels[fe][Ie[fe]+1];Math.abs(xe-we[fe])>Math.abs(Te-we[fe])&&(Ie[fe]+=1)}for(ve.index[0]=pe<.5?de:de+1,ve.index[1]=ye<.5?Ae:Ae+1,ve.uv[0]=be/ue[0],ve.uv[1]=ge/ue[1],Ee=0;Ee<3;++Ee)ve.dataCoordinate[Ee]=this._field[Ee].get(ve.index[0],ve.index[1]);return ve},Y.padField=function(oe,ue){var ve=ue.shape.slice(),be=oe.shape.slice();d.assign(oe.lo(1,1).hi(ve[0],ve[1]),ue),d.assign(oe.lo(1).hi(ve[0],1),ue.hi(ve[0],1)),d.assign(oe.lo(1,be[1]-1).hi(ve[0],1),ue.lo(0,ve[1]-1).hi(ve[0],1)),d.assign(oe.lo(0,1).hi(1,ve[1]),ue.hi(1)),d.assign(oe.lo(be[0]-1,1).hi(1,ve[1]),ue.lo(ve[0]-1)),oe.set(0,0,ue.get(0,0)),oe.set(0,be[1]-1,ue.get(0,ve[1]-1)),oe.set(be[0]-1,0,ue.get(ve[0]-1,0)),oe.set(be[0]-1,be[1]-1,ue.get(ve[0]-1,ve[1]-1))},Y.update=function(oe){oe=oe||{},this.objectOffset=oe.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in oe&&(this.contourWidth=Q(oe.contourWidth,Number)),"showContour"in oe&&(this.showContour=Q(oe.showContour,Boolean)),"showSurface"in oe&&(this.showSurface=!!oe.showSurface),"contourTint"in oe&&(this.contourTint=Q(oe.contourTint,Boolean)),"contourColor"in oe&&(this.contourColor=ae(oe.contourColor)),"contourProject"in oe&&(this.contourProject=Q(oe.contourProject,function(nn){return Q(nn,Boolean)})),"surfaceProject"in oe&&(this.surfaceProject=oe.surfaceProject),"dynamicColor"in oe&&(this.dynamicColor=ae(oe.dynamicColor)),"dynamicTint"in oe&&(this.dynamicTint=Q(oe.dynamicTint,Number)),"dynamicWidth"in oe&&(this.dynamicWidth=Q(oe.dynamicWidth,Number)),"opacity"in oe&&(this.opacity=oe.opacity),"opacityscale"in oe&&(this.opacityscale=oe.opacityscale),"colorBounds"in oe&&(this.colorBounds=oe.colorBounds),"vertexColor"in oe&&(this.vertexColor=oe.vertexColor?1:0),"colormap"in oe&&this._colorMap.setPixels(this.genColormap(oe.colormap,this.opacityscale));var ue=oe.field||oe.coords&&oe.coords[2]||null,ve=!1;if(ue||(ue=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in oe||"coords"in oe){var be=(ue.shape[0]+2)*(ue.shape[1]+2);be>this._field[2].data.length&&(l.freeFloat(this._field[2].data),this._field[2].data=l.mallocFloat(i.nextPow2(be))),this._field[2]=x(this._field[2].data,[ue.shape[0]+2,ue.shape[1]+2]),this.padField(this._field[2],ue),this.shape=ue.shape.slice();for(var de=this.shape,pe=0;pe<2;++pe)this._field[2].size>this._field[pe].data.length&&(l.freeFloat(this._field[pe].data),this._field[pe].data=l.mallocFloat(this._field[2].size)),this._field[pe]=x(this._field[pe].data,[de[0]+2,de[1]+2]);if(oe.coords){var ge=oe.coords;if(!Array.isArray(ge)||3!==ge.length)throw new Error("gl-surface: invalid coordinates for x/y");for(pe=0;pe<2;++pe){var Ae=ge[pe];for(he=0;he<2;++he)if(Ae.shape[he]!==de[he])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[pe],Ae)}}else if(oe.ticks){var ye=oe.ticks;if(!Array.isArray(ye)||2!==ye.length)throw new Error("gl-surface: invalid ticks");for(pe=0;pe<2;++pe){var we=ye[pe];if((Array.isArray(we)||we.length)&&(we=x(we)),we.shape[0]!==de[pe])throw new Error("gl-surface: invalid tick length");var se=x(we.data,de);se.stride[pe]=we.stride[0],se.stride[1^pe]=0,this.padField(this._field[pe],se)}}else{for(pe=0;pe<2;++pe){var ie=[0,0];ie[pe]=1,this._field[pe]=x(this._field[pe].data,[de[0]+2,de[1]+2],ie,0)}this._field[0].set(0,0,0);for(var he=0;he<de[0];++he)this._field[0].set(he+1,0,he);for(this._field[0].set(de[0]+1,0,de[0]-1),this._field[1].set(0,0,0),he=0;he<de[1];++he)this._field[1].set(0,he+1,he);this._field[1].set(0,de[1]+1,de[1]-1)}var Se=this._field,_e=x(l.mallocFloat(3*Se[2].size*2),[3,de[0]+2,de[1]+2,2]);for(pe=0;pe<3;++pe)v(_e.pick(pe),Se[pe],"mirror");var Me=x(l.mallocFloat(3*Se[2].size),[de[0]+2,de[1]+2,3]);for(pe=0;pe<de[0]+2;++pe)for(he=0;he<de[1]+2;++he){var Ee=_e.get(0,pe,he,0),Ie=_e.get(0,pe,he,1),fe=_e.get(1,pe,he,0),xe=_e.get(1,pe,he,1),Te=_e.get(2,pe,he,0),Ce=_e.get(2,pe,he,1),De=fe*Ce-xe*Te,ze=Te*Ie-Ce*Ee,Ue=Ee*xe-Ie*fe,Ve=Math.sqrt(De*De+ze*ze+Ue*Ue);Ve<1e-8?(Ve=Math.max(Math.abs(De),Math.abs(ze),Math.abs(Ue)))<1e-8?(Ue=1,ze=De=0,Ve=1):Ve=1/Ve:Ve=1/Math.sqrt(Ve),Me.set(pe,he,0,De*Ve),Me.set(pe,he,1,ze*Ve),Me.set(pe,he,2,Ue*Ve)}l.free(_e.data);var Xe=[1/0,1/0,1/0],at=[-1/0,-1/0,-1/0],st=1/0,ht=-1/0,bt=(de[0]-1)*(de[1]-1)*6,vt=l.mallocFloat(i.nextPow2(10*bt)),Qe=0,nt=0;for(pe=0;pe<de[0]-1;++pe)e:for(he=0;he<de[1]-1;++he){for(var wt=0;wt<2;++wt)for(var Ot=0;Ot<2;++Ot)for(var Pt=0;Pt<3;++Pt){var St=this._field[Pt].get(1+pe+wt,1+he+Ot);if(isNaN(St)||!isFinite(St))continue e}for(Pt=0;Pt<6;++Pt){var qe=pe+P[Pt][0],Ze=he+P[Pt][1],Ne=this._field[0].get(qe+1,Ze+1),Ge=this._field[1].get(qe+1,Ze+1);St=this._field[2].get(qe+1,Ze+1),De=Me.get(qe+1,Ze+1,0),ze=Me.get(qe+1,Ze+1,1),Ue=Me.get(qe+1,Ze+1,2),oe.intensity&&(rt=oe.intensity.get(qe,Ze));var rt=oe.intensity?oe.intensity.get(qe,Ze):St+this.objectOffset[2];vt[Qe++]=qe,vt[Qe++]=Ze,vt[Qe++]=Ne,vt[Qe++]=Ge,vt[Qe++]=St,vt[Qe++]=0,vt[Qe++]=rt,vt[Qe++]=De,vt[Qe++]=ze,vt[Qe++]=Ue,Xe[0]=Math.min(Xe[0],Ne+this.objectOffset[0]),Xe[1]=Math.min(Xe[1],Ge+this.objectOffset[1]),Xe[2]=Math.min(Xe[2],St+this.objectOffset[2]),st=Math.min(st,rt),at[0]=Math.max(at[0],Ne+this.objectOffset[0]),at[1]=Math.max(at[1],Ge+this.objectOffset[1]),at[2]=Math.max(at[2],St+this.objectOffset[2]),ht=Math.max(ht,rt),nt+=1}}for(oe.intensityBounds&&(st=+oe.intensityBounds[0],ht=+oe.intensityBounds[1]),pe=6;pe<Qe;pe+=10)vt[pe]=(vt[pe]-st)/(ht-st);this._vertexCount=nt,this._coordinateBuffer.update(vt.subarray(0,Qe)),l.freeFloat(vt),l.free(Me.data),this.bounds=[Xe,at],this.intensity=oe.intensity||this._field[2],this.intensityBounds[0]===st&&this.intensityBounds[1]===ht||(ve=!0),this.intensityBounds=[st,ht]}if("levels"in oe){var tt=oe.levels;for(tt=Array.isArray(tt[0])?tt.slice():[[],[],tt],pe=0;pe<3;++pe)tt[pe]=tt[pe].slice(),tt[pe].sort(function(nn,Kt){return nn-Kt});for(pe=0;pe<3;++pe)for(he=0;he<tt[pe].length;++he)tt[pe][he]-=this.objectOffset[pe];e:for(pe=0;pe<3;++pe){if(tt[pe].length!==this.contourLevels[pe].length){ve=!0;break}for(he=0;he<tt[pe].length;++he)if(tt[pe][he]!==this.contourLevels[pe][he]){ve=!0;break e}}this.contourLevels=tt}if(ve){Se=this._field,de=this.shape;for(var Re=[],Fe=0;Fe<3;++Fe){var et=this.contourLevels[Fe],We=[],ct=[],pt=[0,0,0];for(pe=0;pe<et.length;++pe){var dt=g(this._field[Fe],et[pe]);We.push(Re.length/5|0),nt=0;e:for(he=0;he<dt.cells.length;++he){var ut=dt.cells[he];for(Pt=0;Pt<2;++Pt){var kt=dt.positions[ut[Pt]],yt=kt[0],gt=0|Math.floor(yt),At=yt-gt,Lt=kt[1],It=0|Math.floor(Lt),qt=Lt-It,Qt=!1;t:for(var Vt=0;Vt<3;++Vt){pt[Vt]=0;var Ft=(Fe+Vt+1)%3;for(wt=0;wt<2;++wt){var en=wt?At:1-At;for(qe=0|Math.min(Math.max(gt+wt,0),de[0]),Ot=0;Ot<2;++Ot){var wn=Ot?qt:1-qt;if(Ze=0|Math.min(Math.max(It+Ot,0),de[1]),St=Vt<2?this._field[Ft].get(qe,Ze):(this.intensity.get(qe,Ze)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(St)||isNaN(St)){Qt=!0;break t}var kn=en*wn;pt[Vt]+=kn*St}}}if(Qt){if(Pt>0){for(var on=0;on<5;++on)Re.pop();nt-=1}continue e}Re.push(pt[0],pt[1],kt[0],kt[1],pt[2]),nt+=1}}ct.push(nt)}this._contourOffsets[Fe]=We,this._contourCounts[Fe]=ct}var Ht=l.mallocFloat(Re.length);for(pe=0;pe<Re.length;++pe)Ht[pe]=Re[pe];this._contourBuffer.update(Ht),l.freeFloat(Ht)}},Y.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var oe=0;oe<3;++oe)l.freeFloat(this._field[oe].data)},Y.highlight=function(oe){var ue,ve;if(!oe)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(ue=0;ue<3;++ue)this.enableHighlight[ue]?this.highlightLevel[ue]=oe.level[ue]:this.highlightLevel[ue]=-1;for(ve=this.snapToData?oe.dataCoordinate:oe.position,ue=0;ue<3;++ue)ve[ue]-=this.objectOffset[ue];if(this.enableDynamic[0]&&ve[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&ve[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&ve[2]!==this.dynamicLevel[2]){for(var be=0,de=this.shape,pe=l.mallocFloat(12*de[0]*de[1]),ge=0;ge<3;++ge)if(this.enableDynamic[ge]){this.dynamicLevel[ge]=ve[ge];var Ae=(ge+1)%3,ye=(ge+2)%3,we=this._field[ge],se=this._field[Ae],ie=this._field[ye],he=g(we,ve[ge]),Se=he.cells,_e=he.positions;for(this._dynamicOffsets[ge]=be,ue=0;ue<Se.length;++ue)for(var Me=Se[ue],Ee=0;Ee<2;++Ee){var Ie=_e[Me[Ee]],fe=+Ie[0],xe=0|fe,Te=0|Math.min(xe+1,de[0]),Ce=fe-xe,De=1-Ce,ze=+Ie[1],Ue=0|ze,Ve=0|Math.min(Ue+1,de[1]),Xe=ze-Ue,at=1-Xe,st=De*at,ht=De*Xe,bt=Ce*at,vt=Ce*Xe,Qe=st*se.get(xe,Ue)+ht*se.get(xe,Ve)+bt*se.get(Te,Ue)+vt*se.get(Te,Ve),nt=st*ie.get(xe,Ue)+ht*ie.get(xe,Ve)+bt*ie.get(Te,Ue)+vt*ie.get(Te,Ve);if(isNaN(Qe)||isNaN(nt)){Ee&&(be-=1);break}pe[2*be+0]=Qe,pe[2*be+1]=nt,be+=1}this._dynamicCounts[ge]=be-this._dynamicOffsets[ge]}else this.dynamicLevel[ge]=NaN,this._dynamicCounts[ge]=0;this._dynamicBuffer.update(pe.subarray(0,2*be)),l.freeFloat(pe)}}},8931:function(p,s,t){"use strict";var i=t(5050),n=t(7498),r=t(5306);p.exports=function(_){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(o||(o=[(w=_).LINEAR,w.NEAREST_MIPMAP_LINEAR,w.LINEAR_MIPMAP_NEAREST,w.LINEAR_MIPMAP_NEAREST],l=[w.NEAREST,w.LINEAR,w.NEAREST_MIPMAP_NEAREST,w.NEAREST_MIPMAP_LINEAR,w.LINEAR_MIPMAP_NEAREST,w.LINEAR_MIPMAP_LINEAR],u=[w.REPEAT,w.CLAMP_TO_EDGE,w.MIRRORED_REPEAT]),"number"==typeof arguments[1])return v(_,arguments[1],arguments[2],arguments[3]||_.RGBA,arguments[4]||_.UNSIGNED_BYTE);var w;if(Array.isArray(arguments[1]))return v(_,0|arguments[1][0],0|arguments[1][1],arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var f=arguments[1],S=d(f)?f:f.raw;if(S)return function(w,E,C,O,P,R){var j=y(w);return w.texImage2D(w.TEXTURE_2D,0,P,P,R,E),new g(w,j,C,O,P,R)}(_,S,0|f.width,0|f.height,arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if(f.shape&&f.data&&f.stride)return function(w,E){var C=E.dtype,O=E.shape.slice(),P=w.getParameter(w.MAX_TEXTURE_SIZE);if(O[0]<0||O[0]>P||O[1]<0||O[1]>P)throw new Error("gl-texture2d: Invalid texture size");var R=m(O,E.stride.slice()),j=0;"float32"===C?j=w.FLOAT:"float64"===C?(j=w.FLOAT,R=!1,C="float32"):"uint8"===C?j=w.UNSIGNED_BYTE:(j=w.UNSIGNED_BYTE,R=!1,C="uint8");var z,N,Y=0;if(2===O.length)Y=w.LUMINANCE,O=[O[0],O[1],1],E=i(E.data,O,[E.stride[0],E.stride[1],1],E.offset);else{if(3!==O.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===O[2])Y=w.ALPHA;else if(2===O[2])Y=w.LUMINANCE_ALPHA;else if(3===O[2])Y=w.RGB;else{if(4!==O[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");Y=w.RGBA}}j!==w.FLOAT||w.getExtension("OES_texture_float")||(j=w.UNSIGNED_BYTE,R=!1);var F=E.size;if(R)z=0===E.offset&&E.data.length===F?E.data:E.data.subarray(E.offset,E.offset+F);else{var U=[O[2],O[2]*O[0],1];N=r.malloc(F,C);var V=i(N,O,U,0);"float32"!==C&&"float64"!==C||j!==w.UNSIGNED_BYTE?n.assign(V,E):c(V,E),z=N.subarray(0,F)}var te=y(w);return w.texImage2D(w.TEXTURE_2D,0,Y,O[0],O[1],0,Y,j,z),R||r.free(N),new g(w,te,O[0],O[1],Y,j)}(_,f)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var o=null,l=null,u=null;function d(_){return typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&_ instanceof HTMLVideoElement||typeof ImageData<"u"&&_ instanceof ImageData}var c=function(_,f){n.muls(_,f,255)};function x(_,f,S){var w=_.gl,E=w.getParameter(w.MAX_TEXTURE_SIZE);if(f<0||f>E||S<0||S>E)throw new Error("gl-texture2d: Invalid texture size");return _._shape=[f,S],_.bind(),w.texImage2D(w.TEXTURE_2D,0,_.format,f,S,0,_.format,_.type,null),_._mipLevels=[0],_}function g(_,f,S,w,E,C){this.gl=_,this.handle=f,this.format=E,this.type=C,this._shape=[S,w],this._mipLevels=[0],this._magFilter=_.NEAREST,this._minFilter=_.NEAREST,this._wrapS=_.CLAMP_TO_EDGE,this._wrapT=_.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,P=[this._wrapS,this._wrapT];Object.defineProperties(P,[{get:function(){return O._wrapS},set:function(j){return O.wrapS=j}},{get:function(){return O._wrapT},set:function(j){return O.wrapT=j}}]),this._wrapVector=P;var R=[this._shape[0],this._shape[1]];Object.defineProperties(R,[{get:function(){return O._shape[0]},set:function(j){return O.width=j}},{get:function(){return O._shape[1]},set:function(j){return O.height=j}}]),this._shapeVector=R}var h=g.prototype;function m(_,f){return 3===_.length?1===f[2]&&f[1]===_[0]*_[2]&&f[0]===_[2]:1===f[0]&&f[1]===_[0]}function y(_){var f=_.createTexture();return _.bindTexture(_.TEXTURE_2D,f),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),f}function v(_,f,S,w,E){var C=_.getParameter(_.MAX_TEXTURE_SIZE);if(f<0||f>C||S<0||S>C)throw new Error("gl-texture2d: Invalid texture shape");if(E===_.FLOAT&&!_.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=y(_);return _.texImage2D(_.TEXTURE_2D,0,w,f,S,0,w,E,null),new g(_,O,f,S,w,E)}Object.defineProperties(h,{minFilter:{get:function(){return this._minFilter},set:function(_){this.bind();var f=this.gl;if(this.type===f.FLOAT&&o.indexOf(_)>=0&&(f.getExtension("OES_texture_float_linear")||(_=f.NEAREST)),l.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,_),this._minFilter=_}},magFilter:{get:function(){return this._magFilter},set:function(_){this.bind();var f=this.gl;if(this.type===f.FLOAT&&o.indexOf(_)>=0&&(f.getExtension("OES_texture_float_linear")||(_=f.NEAREST)),l.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,_),this._magFilter=_}},mipSamples:{get:function(){return this._anisoSamples},set:function(_){var f=this._anisoSamples;if(this._anisoSamples=0|Math.max(_,1),f!==this._anisoSamples){var S=this.gl.getExtension("EXT_texture_filter_anisotropic");S&&this.gl.texParameterf(this.gl.TEXTURE_2D,S.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(_){if(this.bind(),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,_),this._wrapS=_}},wrapT:{get:function(){return this._wrapT},set:function(_){if(this.bind(),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,_),this._wrapT=_}},wrap:{get:function(){return this._wrapVector},set:function(_){if(Array.isArray(_)||(_=[_,_]),2!==_.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var f=0;f<2;++f)if(u.indexOf(_[f])<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);this._wrapS=_[0],this._wrapT=_[1];var S=this.gl;return this.bind(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,this._wrapS),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,this._wrapT),_}},shape:{get:function(){return this._shapeVector},set:function(_){if(Array.isArray(_)){if(2!==_.length)throw new Error("gl-texture2d: Invalid texture shape")}else _=[0|_,0|_];return x(this,0|_[0],0|_[1]),[0|_[0],0|_[1]]}},width:{get:function(){return this._shape[0]},set:function(_){return x(this,_|=0,this._shape[1]),_}},height:{get:function(){return this._shape[1]},set:function(_){return _|=0,x(this,this._shape[0],_),_}}}),h.bind=function(_){var f=this.gl;return void 0!==_&&f.activeTexture(f.TEXTURE0+(0|_)),f.bindTexture(f.TEXTURE_2D,this.handle),void 0!==_?0|_:f.getParameter(f.ACTIVE_TEXTURE)-f.TEXTURE0},h.dispose=function(){this.gl.deleteTexture(this.handle)},h.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var _=Math.min(this._shape[0],this._shape[1]),f=0;_>0;++f,_>>>=1)this._mipLevels.indexOf(f)<0&&this._mipLevels.push(f)},h.setPixels=function(_,f,S,w){var E=this.gl;this.bind(),Array.isArray(f)?(w=S,S=0|f[1],f=0|f[0]):(f=f||0,S=S||0),w=w||0;var C=d(_)?_:_.raw;if(C)this._mipLevels.indexOf(w)<0?(E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,this.type,C),this._mipLevels.push(w)):E.texSubImage2D(E.TEXTURE_2D,w,f,S,this.format,this.type,C);else{if(!(_.shape&&_.stride&&_.data))throw new Error("gl-texture2d: Unsupported data type");if(_.shape.length<2||f+_.shape[1]>this._shape[1]>>>w||S+_.shape[0]>this._shape[0]>>>w||f<0||S<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(O,P,R,j,z,N,Y,F){var U=F.dtype,V=F.shape.slice();if(V.length<2||V.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var te=0,$=0,X=m(V,F.stride.slice());if("float32"===U?te=O.FLOAT:"float64"===U?(te=O.FLOAT,X=!1,U="float32"):"uint8"===U?te=O.UNSIGNED_BYTE:(te=O.UNSIGNED_BYTE,X=!1,U="uint8"),2===V.length)$=O.LUMINANCE,V=[V[0],V[1],1],F=i(F.data,V,[F.stride[0],F.stride[1],1],F.offset);else{if(3!==V.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===V[2])$=O.ALPHA;else if(2===V[2])$=O.LUMINANCE_ALPHA;else if(3===V[2])$=O.RGB;else{if(4!==V[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");$=O.RGBA}V[2]}if($!==O.LUMINANCE&&$!==O.ALPHA||z!==O.LUMINANCE&&z!==O.ALPHA||($=z),$!==z)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var W=F.size,J=Y.indexOf(j)<0;if(J&&Y.push(j),te===N&&X)0===F.offset&&F.data.length===W?J?O.texImage2D(O.TEXTURE_2D,j,z,V[0],V[1],0,z,N,F.data):O.texSubImage2D(O.TEXTURE_2D,j,P,R,V[0],V[1],z,N,F.data):J?O.texImage2D(O.TEXTURE_2D,j,z,V[0],V[1],0,z,N,F.data.subarray(F.offset,F.offset+W)):O.texSubImage2D(O.TEXTURE_2D,j,P,R,V[0],V[1],z,N,F.data.subarray(F.offset,F.offset+W));else{var Q;Q=N===O.FLOAT?r.mallocFloat32(W):r.mallocUint8(W);var re=i(Q,V,[V[2],V[2]*V[0],1]);te===O.FLOAT&&N===O.UNSIGNED_BYTE?c(re,F):n.assign(re,F),J?O.texImage2D(O.TEXTURE_2D,j,z,V[0],V[1],0,z,N,Q.subarray(0,W)):O.texSubImage2D(O.TEXTURE_2D,j,P,R,V[0],V[1],z,N,Q.subarray(0,W)),N===O.FLOAT?r.freeFloat32(Q):r.freeUint8(Q)}}(E,f,S,w,this.format,this.type,this._mipLevels,_)}}},3056:function(p){"use strict";p.exports=function(s,t,i){t?t.bind():s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null);var n=0|s.getParameter(s.MAX_VERTEX_ATTRIBS);if(i){if(i.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var r=0;r<i.length;++r){var o=i[r];if(o.buffer){var l=o.buffer,u=o.size||4,d=o.type||s.FLOAT,c=!!o.normalized,x=o.stride||0,g=o.offset||0;l.bind(),s.enableVertexAttribArray(r),s.vertexAttribPointer(r,u,d,c,x,g)}else{if("number"==typeof o)s.vertexAttrib1f(r,o);else if(1===o.length)s.vertexAttrib1f(r,o[0]);else if(2===o.length)s.vertexAttrib2f(r,o[0],o[1]);else if(3===o.length)s.vertexAttrib3f(r,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");s.vertexAttrib4f(r,o[0],o[1],o[2],o[3])}s.disableVertexAttribArray(r)}}for(;r<n;++r)s.disableVertexAttribArray(r)}else for(s.bindBuffer(s.ARRAY_BUFFER,null),r=0;r<n;++r)s.disableVertexAttribArray(r)}},7220:function(p,s,t){"use strict";var i=t(3056);function n(r){this.gl=r,this._elements=null,this._attributes=null,this._elementsType=r.UNSIGNED_SHORT}n.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},n.prototype.update=function(r,o,l){this._elements=o,this._attributes=r,this._elementsType=l||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(r,o,l){l=l||0;var u=this.gl;this._elements?u.drawElements(r,o,this._elementsType,l):u.drawArrays(r,l,o)},p.exports=function(r){return new n(r)}},3778:function(p,s,t){"use strict";var i=t(3056);function n(o,l,u,d,c,x){this.location=o,this.dimension=l,this.a=u,this.b=d,this.c=c,this.d=x}function r(o,l,u){this.gl=o,this._ext=l,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=o.UNSIGNED_SHORT}n.prototype.bind=function(o){switch(this.dimension){case 1:o.vertexAttrib1f(this.location,this.a);break;case 2:o.vertexAttrib2f(this.location,this.a,this.b);break;case 3:o.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:o.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},r.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var o=0;o<this._attribs.length;++o)this._attribs[o].bind(this.gl)},r.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},r.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},r.prototype.update=function(o,l,u){if(this.bind(),i(this.gl,l,o),this.unbind(),this._attribs.length=0,o)for(var d=0;d<o.length;++d){var c=o[d];"number"==typeof c?this._attribs.push(new n(d,1,c)):Array.isArray(c)&&this._attribs.push(new n(d,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!l,this._elementsType=u||this.gl.UNSIGNED_SHORT},r.prototype.draw=function(o,l,u){u=u||0;var d=this.gl;this._useElements?d.drawElements(o,l,this._elementsType,u):d.drawArrays(o,u,l)},p.exports=function(o,l){return new r(o,l,l.createVertexArrayOES())}},2944:function(p,s,t){"use strict";var i=t(3778),n=t(7220);function r(o){this.bindVertexArrayOES=o.bindVertexArray.bind(o),this.createVertexArrayOES=o.createVertexArray.bind(o),this.deleteVertexArrayOES=o.deleteVertexArray.bind(o)}p.exports=function(o,l,u,d){var c,x=o.createVertexArray?new r(o):o.getExtension("OES_vertex_array_object");return(c=x?i(o,x):n(o)).update(l,u,d),c}},2598:function(p){p.exports=function(s,t,i){return s[0]=t[0]+i[0],s[1]=t[1]+i[1],s[2]=t[2]+i[2],s}},5879:function(p,s,t){p.exports=function(o,l){var u=i(o[0],o[1],o[2]),d=i(l[0],l[1],l[2]);n(u,u),n(d,d);var c=r(u,d);return c>1?0:Math.acos(c)};var i=t(5415),n=t(899),r=t(9305)},8827:function(p){p.exports=function(s,t){return s[0]=Math.ceil(t[0]),s[1]=Math.ceil(t[1]),s[2]=Math.ceil(t[2]),s}},7622:function(p){p.exports=function(s){var t=new Float32Array(3);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t}},8782:function(p){p.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s}},8501:function(p){p.exports=function(){var s=new Float32Array(3);return s[0]=0,s[1]=0,s[2]=0,s}},903:function(p){p.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],l=i[0],u=i[1],d=i[2];return s[0]=r*d-o*u,s[1]=o*l-n*d,s[2]=n*u-r*l,s}},5981:function(p,s,t){p.exports=t(8288)},8288:function(p){p.exports=function(s,t){var i=t[0]-s[0],n=t[1]-s[1],r=t[2]-s[2];return Math.sqrt(i*i+n*n+r*r)}},8629:function(p,s,t){p.exports=t(7979)},7979:function(p){p.exports=function(s,t,i){return s[0]=t[0]/i[0],s[1]=t[1]/i[1],s[2]=t[2]/i[2],s}},9305:function(p){p.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]}},154:function(p){p.exports=1e-6},4932:function(p,s,t){p.exports=function(n,r){var o=n[0],l=n[1],u=n[2],d=r[0],c=r[1],x=r[2];return Math.abs(o-d)<=i*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(l-c)<=i*Math.max(1,Math.abs(l),Math.abs(c))&&Math.abs(u-x)<=i*Math.max(1,Math.abs(u),Math.abs(x))};var i=t(154)},5777:function(p){p.exports=function(s,t){return s[0]===t[0]&&s[1]===t[1]&&s[2]===t[2]}},3306:function(p){p.exports=function(s,t){return s[0]=Math.floor(t[0]),s[1]=Math.floor(t[1]),s[2]=Math.floor(t[2]),s}},7447:function(p,s,t){p.exports=function(n,r,o,l,u,d){var c,x;for(r||(r=3),o||(o=0),x=l?Math.min(l*r+o,n.length):n.length,c=o;c<x;c+=r)i[0]=n[c],i[1]=n[c+1],i[2]=n[c+2],u(i,i,d),n[c]=i[0],n[c+1]=i[1],n[c+2]=i[2];return n};var i=t(8501)()},5415:function(p){p.exports=function(s,t,i){var n=new Float32Array(3);return n[0]=s,n[1]=t,n[2]=i,n}},2858:function(p,s,t){p.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(p){p.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s}},1468:function(p,s,t){p.exports=t(4693)},4693:function(p){p.exports=function(s){var t=s[0],i=s[1],n=s[2];return Math.sqrt(t*t+i*i+n*n)}},1868:function(p){p.exports=function(s,t,i,n){var r=t[0],o=t[1],l=t[2];return s[0]=r+n*(i[0]-r),s[1]=o+n*(i[1]-o),s[2]=l+n*(i[2]-l),s}},1716:function(p){p.exports=function(s,t,i){return s[0]=Math.max(t[0],i[0]),s[1]=Math.max(t[1],i[1]),s[2]=Math.max(t[2],i[2]),s}},3605:function(p){p.exports=function(s,t,i){return s[0]=Math.min(t[0],i[0]),s[1]=Math.min(t[1],i[1]),s[2]=Math.min(t[2],i[2]),s}},5733:function(p,s,t){p.exports=t(105)},105:function(p){p.exports=function(s,t,i){return s[0]=t[0]*i[0],s[1]=t[1]*i[1],s[2]=t[2]*i[2],s}},435:function(p){p.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s}},899:function(p){p.exports=function(s,t){var i=t[0],n=t[1],r=t[2],o=i*i+n*n+r*r;return o>0&&(o=1/Math.sqrt(o),s[0]=t[0]*o,s[1]=t[1]*o,s[2]=t[2]*o),s}},6660:function(p){p.exports=function(s,t){t=t||1;var i=2*Math.random()*Math.PI,n=2*Math.random()-1,r=Math.sqrt(1-n*n)*t;return s[0]=Math.cos(i)*r,s[1]=Math.sin(i)*r,s[2]=n*t,s}},392:function(p){p.exports=function(s,t,i,n){var r=i[1],o=i[2],l=t[1]-r,u=t[2]-o,d=Math.sin(n),c=Math.cos(n);return s[0]=t[0],s[1]=r+l*c-u*d,s[2]=o+l*d+u*c,s}},3222:function(p){p.exports=function(s,t,i,n){var r=i[0],o=i[2],l=t[0]-r,u=t[2]-o,d=Math.sin(n),c=Math.cos(n);return s[0]=r+u*d+l*c,s[1]=t[1],s[2]=o+u*c-l*d,s}},3388:function(p){p.exports=function(s,t,i,n){var r=i[0],o=i[1],l=t[0]-r,u=t[1]-o,d=Math.sin(n),c=Math.cos(n);return s[0]=r+l*c-u*d,s[1]=o+l*d+u*c,s[2]=t[2],s}},1624:function(p){p.exports=function(s,t){return s[0]=Math.round(t[0]),s[1]=Math.round(t[1]),s[2]=Math.round(t[2]),s}},5685:function(p){p.exports=function(s,t,i){return s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s}},6722:function(p){p.exports=function(s,t,i,n){return s[0]=t[0]+i[0]*n,s[1]=t[1]+i[1]*n,s[2]=t[2]+i[2]*n,s}},831:function(p){p.exports=function(s,t,i,n){return s[0]=t,s[1]=i,s[2]=n,s}},5294:function(p,s,t){p.exports=t(6403)},3303:function(p,s,t){p.exports=t(4337)},6403:function(p){p.exports=function(s,t){var i=t[0]-s[0],n=t[1]-s[1],r=t[2]-s[2];return i*i+n*n+r*r}},4337:function(p){p.exports=function(s){var t=s[0],i=s[1],n=s[2];return t*t+i*i+n*n}},8921:function(p,s,t){p.exports=t(911)},911:function(p){p.exports=function(s,t,i){return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],s}},9908:function(p){p.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2];return s[0]=n*i[0]+r*i[3]+o*i[6],s[1]=n*i[1]+r*i[4]+o*i[7],s[2]=n*i[2]+r*i[5]+o*i[8],s}},3255:function(p){p.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],l=i[3]*n+i[7]*r+i[11]*o+i[15];return l=l||1,s[0]=(i[0]*n+i[4]*r+i[8]*o+i[12])/l,s[1]=(i[1]*n+i[5]*r+i[9]*o+i[13])/l,s[2]=(i[2]*n+i[6]*r+i[10]*o+i[14])/l,s}},6568:function(p){p.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],l=i[0],u=i[1],d=i[2],c=i[3],x=c*n+u*o-d*r,g=c*r+d*n-l*o,h=c*o+l*r-u*n,m=-l*n-u*r-d*o;return s[0]=x*c+m*-l+g*-d-h*-u,s[1]=g*c+m*-u+h*-l-x*-d,s[2]=h*c+m*-d+x*-u-g*-l,s}},3433:function(p){p.exports=function(s,t,i){return s[0]=t[0]+i[0],s[1]=t[1]+i[1],s[2]=t[2]+i[2],s[3]=t[3]+i[3],s}},1413:function(p){p.exports=function(s){var t=new Float32Array(4);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t}},3470:function(p){p.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s}},5313:function(p){p.exports=function(){var s=new Float32Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s}},5446:function(p){p.exports=function(s,t){var i=t[0]-s[0],n=t[1]-s[1],r=t[2]-s[2],o=t[3]-s[3];return Math.sqrt(i*i+n*n+r*r+o*o)}},205:function(p){p.exports=function(s,t,i){return s[0]=t[0]/i[0],s[1]=t[1]/i[1],s[2]=t[2]/i[2],s[3]=t[3]/i[3],s}},4242:function(p){p.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]+s[3]*t[3]}},5680:function(p){p.exports=function(s,t,i,n){var r=new Float32Array(4);return r[0]=s,r[1]=t,r[2]=i,r[3]=n,r}},4020:function(p,s,t){p.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(p){p.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s[3]=1/t[3],s}},8177:function(p){p.exports=function(s){var t=s[0],i=s[1],n=s[2],r=s[3];return Math.sqrt(t*t+i*i+n*n+r*r)}},8746:function(p){p.exports=function(s,t,i,n){var r=t[0],o=t[1],l=t[2],u=t[3];return s[0]=r+n*(i[0]-r),s[1]=o+n*(i[1]-o),s[2]=l+n*(i[2]-l),s[3]=u+n*(i[3]-u),s}},3030:function(p){p.exports=function(s,t,i){return s[0]=Math.max(t[0],i[0]),s[1]=Math.max(t[1],i[1]),s[2]=Math.max(t[2],i[2]),s[3]=Math.max(t[3],i[3]),s}},2170:function(p){p.exports=function(s,t,i){return s[0]=Math.min(t[0],i[0]),s[1]=Math.min(t[1],i[1]),s[2]=Math.min(t[2],i[2]),s[3]=Math.min(t[3],i[3]),s}},746:function(p){p.exports=function(s,t,i){return s[0]=t[0]*i[0],s[1]=t[1]*i[1],s[2]=t[2]*i[2],s[3]=t[3]*i[3],s}},6459:function(p){p.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s[3]=-t[3],s}},381:function(p){p.exports=function(s,t){var i=t[0],n=t[1],r=t[2],o=t[3],l=i*i+n*n+r*r+o*o;return l>0&&(l=1/Math.sqrt(l),s[0]=i*l,s[1]=n*l,s[2]=r*l,s[3]=o*l),s}},3770:function(p,s,t){var i=t(381),n=t(5510);p.exports=function(r,o){return o=o||1,r[0]=Math.random(),r[1]=Math.random(),r[2]=Math.random(),r[3]=Math.random(),i(r,r),n(r,r,o),r}},5510:function(p){p.exports=function(s,t,i){return s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s[3]=t[3]*i,s}},4224:function(p){p.exports=function(s,t,i,n){return s[0]=t[0]+i[0]*n,s[1]=t[1]+i[1]*n,s[2]=t[2]+i[2]*n,s[3]=t[3]+i[3]*n,s}},6453:function(p){p.exports=function(s,t,i,n,r){return s[0]=t,s[1]=i,s[2]=n,s[3]=r,s}},1542:function(p){p.exports=function(s,t){var i=t[0]-s[0],n=t[1]-s[1],r=t[2]-s[2],o=t[3]-s[3];return i*i+n*n+r*r+o*o}},9037:function(p){p.exports=function(s){var t=s[0],i=s[1],n=s[2],r=s[3];return t*t+i*i+n*n+r*r}},2705:function(p){p.exports=function(s,t,i){return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],s[3]=t[3]-i[3],s}},6342:function(p){p.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],l=t[3];return s[0]=i[0]*n+i[4]*r+i[8]*o+i[12]*l,s[1]=i[1]*n+i[5]*r+i[9]*o+i[13]*l,s[2]=i[2]*n+i[6]*r+i[10]*o+i[14]*l,s[3]=i[3]*n+i[7]*r+i[11]*o+i[15]*l,s}},5022:function(p){p.exports=function(s,t,i){var n=t[0],r=t[1],o=t[2],l=i[0],u=i[1],d=i[2],c=i[3],x=c*n+u*o-d*r,g=c*r+d*n-l*o,h=c*o+l*r-u*n,m=-l*n-u*r-d*o;return s[0]=x*c+m*-l+g*-d-h*-u,s[1]=g*c+m*-u+h*-l-x*-d,s[2]=h*c+m*-d+x*-u-g*-l,s[3]=t[3],s}},9365:function(p,s,t){var i=t(8096),n=t(7896);p.exports=function(r){for(var o=Array.isArray(r)?r:i(r),l=0;l<o.length;l++){var u=o[l];if("preprocessor"===u.type){var d=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(d&&d[2]){var c=d[1],x=d[2];return(c?n(x):x).trim()}}}}},3193:function(p,s,t){p.exports=function(O){var P,R,j,z=0,N=0,Y=u,F=[],U=[],V=1,te=0,$=0,X=!1,W=!1,J="",Q=r,re=i;"300 es"===(O=O||{}).version&&(Q=l,re=o);var ae={},oe={};for(z=0;z<Q.length;z++)ae[Q[z]]=!0;for(z=0;z<re.length;z++)oe[re[z]]=!0;return function(he){return U=[],null!==he?function(Se){var _e;for(z=0,Se.toString&&(Se=Se.toString()),J+=Se.replace(/\r\n/g,"\n"),j=J.length;P=J[z],z<j;){switch(_e=z,Y){case c:z=pe();break;case x:case g:z=de();break;case h:z=ge();break;case m:z=we();break;case E:z=ye();break;case y:z=se();break;case d:z=ie();break;case S:z=be();break;case u:z=ve()}_e!==z&&("\n"===J[_e]?(te=0,++V):++te)}return N+=z,J=J.slice(z),U}(he):(F.length&&ue(F.join("")),Y=w,ue("(eof)"),U)};function ue(he){he.length&&U.push({type:C[Y],data:he,position:$,line:V,column:te})}function ve(){return F=F.length?[]:F,"/"===R&&"*"===P?($=N+z-1,Y=c,R=P,z+1):"/"===R&&"/"===P?($=N+z-1,Y=x,R=P,z+1):"#"===P?(Y=g,$=N+z,z):/\s/.test(P)?(Y=S,$=N+z,z):(X=/\d/.test(P),W=/[^\w_]/.test(P),$=N+z,Y=X?m:W?h:d,z)}function be(){return/[^\s]/g.test(P)?(ue(F.join("")),Y=u,z):(F.push(P),R=P,z+1)}function de(){return"\r"!==P&&"\n"!==P||"\\"===R?(F.push(P),R=P,z+1):(ue(F.join("")),Y=u,z)}function pe(){return"/"===P&&"*"===R?(F.push(P),ue(F.join("")),Y=u,z+1):(F.push(P),R=P,z+1)}function ge(){if("."===R&&/\d/.test(P))return Y=y,z;if("/"===R&&"*"===P)return Y=c,z;if("/"===R&&"/"===P)return Y=x,z;if("."===P&&F.length){for(;Ae(F););return Y=y,z}if(";"===P||")"===P||"("===P){if(F.length)for(;Ae(F););return ue(P),Y=u,z+1}var he=2===F.length&&"="!==P;if(/[\w_\d\s]/.test(P)||he){for(;Ae(F););return Y=u,z}return F.push(P),R=P,z+1}function Ae(he){for(var Se,_e,Me=0;;){if(Se=n.indexOf(he.slice(0,he.length+Me).join("")),_e=n[Se],-1===Se){if(Me--+he.length>0)continue;_e=he.slice(0,1).join("")}return ue(_e),$+=_e.length,(F=F.slice(_e.length)).length}}function ye(){return/[^a-fA-F0-9]/.test(P)?(ue(F.join("")),Y=u,z):(F.push(P),R=P,z+1)}function we(){return"."===P||/[eE]/.test(P)?(F.push(P),Y=y,R=P,z+1):"x"===P&&1===F.length&&"0"===F[0]?(Y=E,F.push(P),R=P,z+1):/[^\d]/.test(P)?(ue(F.join("")),Y=u,z):(F.push(P),R=P,z+1)}function se(){return"f"===P&&(F.push(P),R=P,z+=1),/[eE]/.test(P)?(F.push(P),R=P,z+1):("-"!==P&&"+"!==P||!/[eE]/.test(R))&&/[^\d]/.test(P)?(ue(F.join("")),Y=u,z):(F.push(P),R=P,z+1)}function ie(){if(/[^\d\w_]/.test(P)){var he=F.join("");return Y=oe[he]?f:ae[he]?_:v,ue(F.join("")),Y=u,z}return F.push(P),R=P,z+1}};var i=t(399),n=t(9746),r=t(9525),o=t(9458),l=t(3585),u=999,d=9999,c=0,x=1,g=2,h=3,m=4,y=5,v=6,_=7,f=8,S=9,w=10,E=11,C=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(p,s,t){var i=t(9525);i=i.slice().filter(function(n){return!/^(gl\_|texture)/.test(n)}),p.exports=i.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(p){p.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(p,s,t){var i=t(399);p.exports=i.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(p){p.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(p){p.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(p,s,t){var i=t(3193);p.exports=function(n,r){var o=i(r),l=[];return(l=l.concat(o(n))).concat(o(null))}},6832:function(p){p.exports=function(s){"string"==typeof s&&(s=[s]);for(var t=[].slice.call(arguments,1),i=[],n=0;n<s.length-1;n++)i.push(s[n],t[n]||"");return i.push(s[n]),i.join("")}},5233:function(p,s,t){"use strict";var i=t(4846);p.exports=i&&function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch{n=!1}return n}()},2183:function(p,s,t){"use strict";p.exports=function(x,g){var h=x.length;if(0===h)throw new Error("Must have at least d+1 points");var m=x[0].length;if(h<=m)throw new Error("Must input at least d+1 points");var y=x.slice(0,m+1),v=i.apply(void 0,y);if(0===v)throw new Error("Input not in general position");for(var _=new Array(m+1),f=0;f<=m;++f)_[f]=f;v<0&&(_[0]=1,_[1]=0);var S=new r(_,new Array(m+1),!1),w=S.adjacent,E=new Array(m+2);for(f=0;f<=m;++f){for(var C=_.slice(),O=0;O<=m;++O)O===f&&(C[O]=-1);var P=C[0];C[0]=C[1],C[1]=P;var R=new r(C,new Array(m+1),!0);w[f]=R,E[f]=R}for(E[m+1]=S,f=0;f<=m;++f){C=w[f].vertices;var j=w[f].adjacent;for(O=0;O<=m;++O){var z=C[O];if(z<0)j[O]=S;else for(var N=0;N<=m;++N)w[N].vertices.indexOf(z)<0&&(j[O]=w[N])}}var Y=new d(m,y,E),F=!!g;for(f=m+1;f<h;++f)Y.insert(x[f],F);return Y.boundary()};var i=t(417),n=t(8211).H;function r(x,g,h){this.vertices=x,this.adjacent=g,this.boundary=h,this.lastVisited=-1}function o(x,g,h){this.vertices=x,this.cell=g,this.index=h}function l(x,g){return n(x.vertices,g.vertices)}r.prototype.flip=function(){var x=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=x;var g=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=g};var u=[];function d(x,g,h){this.dimension=x,this.vertices=g,this.simplices=h,this.interior=h.filter(function(_){return!_.boundary}),this.tuple=new Array(x+1);for(var m=0;m<=x;++m)this.tuple[m]=this.vertices[m];var y,_,v=u[x];v||(v=u[x]=((y=i[x+1])||(y=i),_=y,function(){var f=this.tuple;return _.apply(this,f)})),this.orient=v}var c=d.prototype;c.handleBoundaryDegeneracy=function(x,g){var h=this.dimension,m=this.vertices.length-1,y=this.tuple,v=this.vertices,_=[x];for(x.lastVisited=-m;_.length>0;)for(var f=(x=_.pop()).adjacent,S=0;S<=h;++S){var w=f[S];if(w.boundary&&!(w.lastVisited<=-m)){for(var E=w.vertices,C=0;C<=h;++C){var O=E[C];y[C]=O<0?g:v[O]}var P=this.orient();if(P>0)return w;w.lastVisited=-m,0===P&&_.push(w)}}return null},c.walk=function(x,g){var h=this.vertices.length-1,m=this.dimension,y=this.vertices,v=this.tuple,_=g?this.interior.length*Math.random()|0:this.interior.length-1,f=this.interior[_];e:for(;!f.boundary;){for(var S=f.vertices,w=f.adjacent,E=0;E<=m;++E)v[E]=y[S[E]];for(f.lastVisited=h,E=0;E<=m;++E){var C=w[E];if(!(C.lastVisited>=h)){var O=v[E];v[E]=x;var P=this.orient();if(v[E]=O,P<0){f=C;continue e}C.boundary?C.lastVisited=-h:C.lastVisited=h}}return}return f},c.addPeaks=function(x,g){var h=this.vertices.length-1,m=this.dimension,y=this.vertices,v=this.tuple,_=this.interior,f=this.simplices,S=[g];g.lastVisited=h,g.vertices[g.vertices.indexOf(-1)]=h,g.boundary=!1,_.push(g);for(var w=[];S.length>0;){var E=(g=S.pop()).vertices,C=g.adjacent,O=E.indexOf(h);if(!(O<0))for(var P=0;P<=m;++P)if(P!==O){var R=C[P];if(R.boundary&&!(R.lastVisited>=h)){var j=R.vertices;if(R.lastVisited!==-h){for(var z=0,N=0;N<=m;++N)j[N]<0?(z=N,v[N]=x):v[N]=y[j[N]];if(this.orient()>0){j[z]=h,R.boundary=!1,_.push(R),S.push(R),R.lastVisited=h;continue}R.lastVisited=-h}var Y=R.adjacent,F=E.slice(),U=C.slice(),V=new r(F,U,!0);f.push(V);var te=Y.indexOf(g);if(!(te<0))for(Y[te]=V,U[O]=R,F[P]=-1,U[P]=g,C[P]=V,V.flip(),N=0;N<=m;++N){var $=F[N];if(!($<0||$===h)){for(var X=new Array(m-1),W=0,J=0;J<=m;++J){var Q=F[J];Q<0||J===N||(X[W++]=Q)}w.push(new o(X,V,N))}}}}}for(w.sort(l),P=0;P+1<w.length;P+=2){var re=w[P],ae=w[P+1],oe=re.index,ue=ae.index;oe<0||ue<0||(re.cell.adjacent[re.index]=ae.cell,ae.cell.adjacent[ae.index]=re.cell)}},c.insert=function(x,g){var h=this.vertices;h.push(x);var m=this.walk(x,g);if(m){for(var y=this.dimension,v=this.tuple,_=0;_<=y;++_){var f=m.vertices[_];v[_]=f<0?x:h[f]}var S=this.orient(v);S<0||(0!==S||(m=this.handleBoundaryDegeneracy(m,x)))&&this.addPeaks(x,m)}},c.boundary=function(){for(var x=this.dimension,g=[],h=this.simplices,m=h.length,y=0;y<m;++y){var v=h[y];if(v.boundary){for(var _=new Array(x),f=v.vertices,S=0,w=0,E=0;E<=x;++E)f[E]>=0?_[S++]=f[E]:w=1&E;if(w===(1&x)){var C=_[0];_[0]=_[1],_[1]=C}g.push(_)}}return g}},9014:function(p,s,t){"use strict";var i=t(5070);function n(S,w,E,C,O){this.mid=S,this.left=w,this.right=E,this.leftPoints=C,this.rightPoints=O,this.count=(w?w.count:0)+(E?E.count:0)+C.length}p.exports=function(S){return S&&0!==S.length?new _(v(S)):new _(null)};var r=n.prototype;function o(S,w){S.mid=w.mid,S.left=w.left,S.right=w.right,S.leftPoints=w.leftPoints,S.rightPoints=w.rightPoints,S.count=w.count}function l(S,w){var E=v(w);S.mid=E.mid,S.left=E.left,S.right=E.right,S.leftPoints=E.leftPoints,S.rightPoints=E.rightPoints,S.count=E.count}function u(S,w){var E=S.intervals([]);E.push(w),l(S,E)}function d(S,w){var E=S.intervals([]),C=E.indexOf(w);return C<0?0:(E.splice(C,1),l(S,E),1)}function c(S,w,E){for(var C=0;C<S.length&&S[C][0]<=w;++C){var O=E(S[C]);if(O)return O}}function x(S,w,E){for(var C=S.length-1;C>=0&&S[C][1]>=w;--C){var O=E(S[C]);if(O)return O}}function g(S,w){for(var E=0;E<S.length;++E){var C=w(S[E]);if(C)return C}}function h(S,w){return S-w}function m(S,w){return S[0]-w[0]||S[1]-w[1]}function y(S,w){return S[1]-w[1]||S[0]-w[0]}function v(S){if(0===S.length)return null;for(var w=[],E=0;E<S.length;++E)w.push(S[E][0],S[E][1]);w.sort(h);var C=w[w.length>>1],O=[],P=[],R=[];for(E=0;E<S.length;++E){var j=S[E];j[1]<C?O.push(j):C<j[0]?P.push(j):R.push(j)}var z=R,N=R.slice();return z.sort(m),N.sort(y),new n(C,v(O),v(P),z,N)}function _(S){this.root=S}r.intervals=function(S){return S.push.apply(S,this.leftPoints),this.left&&this.left.intervals(S),this.right&&this.right.intervals(S),S},r.insert=function(S){var w=this.count-this.leftPoints.length;if(this.count+=1,S[1]<this.mid)this.left?4*(this.left.count+1)>3*(w+1)?u(this,S):this.left.insert(S):this.left=v([S]);else if(S[0]>this.mid)this.right?4*(this.right.count+1)>3*(w+1)?u(this,S):this.right.insert(S):this.right=v([S]);else{var E=i.ge(this.leftPoints,S,m),C=i.ge(this.rightPoints,S,y);this.leftPoints.splice(E,0,S),this.rightPoints.splice(C,0,S)}},r.remove=function(S){var w=this.count-this.leftPoints;if(S[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(w-1)?d(this,S):2===(P=this.left.remove(S))?(this.left=null,this.count-=1,1):(1===P&&(this.count-=1),P):0;if(S[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(w-1)?d(this,S):2===(P=this.right.remove(S))?(this.right=null,this.count-=1,1):(1===P&&(this.count-=1),P):0;if(1===this.count)return this.leftPoints[0]===S?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===S){if(this.left&&this.right){for(var E=this,C=this.left;C.right;)E=C,C=C.right;if(E===this)C.right=this.right;else{var O=this.left,P=this.right;E.count-=C.count,E.right=C.left,C.left=O,C.right=P}o(this,C),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?o(this,this.left):o(this,this.right);return 1}for(O=i.ge(this.leftPoints,S,m);O<this.leftPoints.length&&this.leftPoints[O][0]===S[0];++O)if(this.leftPoints[O]===S)for(this.count-=1,this.leftPoints.splice(O,1),P=i.ge(this.rightPoints,S,y);P<this.rightPoints.length&&this.rightPoints[P][1]===S[1];++P)if(this.rightPoints[P]===S)return this.rightPoints.splice(P,1),1;return 0},r.queryPoint=function(S,w){return S<this.mid?this.left&&(E=this.left.queryPoint(S,w))?E:c(this.leftPoints,S,w):S>this.mid?this.right&&(E=this.right.queryPoint(S,w))?E:x(this.rightPoints,S,w):g(this.leftPoints,w);var E},r.queryInterval=function(S,w,E){var C;return S<this.mid&&this.left&&(C=this.left.queryInterval(S,w,E))||w>this.mid&&this.right&&(C=this.right.queryInterval(S,w,E))?C:w<this.mid?c(this.leftPoints,w,E):S>this.mid?x(this.rightPoints,S,E):g(this.leftPoints,E)};var f=_.prototype;f.insert=function(S){this.root?this.root.insert(S):this.root=new n(S[0],null,null,[S],[S])},f.remove=function(S){if(this.root){var w=this.root.remove(S);return 2===w&&(this.root=null),0!==w}return!1},f.queryPoint=function(S,w){if(this.root)return this.root.queryPoint(S,w)},f.queryInterval=function(S,w,E){if(S<=w&&this.root)return this.root.queryInterval(S,w,E)},Object.defineProperty(f,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(f,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(p){"use strict";p.exports=function(s){for(var t=new Array(s),i=0;i<s;++i)t[i]=i;return t}},4846:function(p){p.exports=!0},4780:function(p){function s(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}p.exports=function(t){return null!=t&&(s(t)||"function"==typeof(i=t).readFloatLE&&"function"==typeof i.slice&&s(i.slice(0,0))||!!t._isBuffer);var i}},3596:function(p){"use strict";p.exports=function(s){for(var t,i=s.length,n=0;n<i;n++)if(((t=s.charCodeAt(n))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}},3578:function(p){p.exports=function(s,t,i){return s*(1-i)+t*i}},7191:function(p,s,t){var i=t(4690),n=t(9823),r=t(7332),o=t(7787),l=t(7437),u=t(2142),d={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=n(),x=n(),g=[0,0,0,0],h=[[0,0,0],[0,0,0],[0,0,0]],m=[0,0,0];function y(v,_,f,S,w){v[0]=_[0]*S+f[0]*w,v[1]=_[1]*S+f[1]*w,v[2]=_[2]*S+f[2]*w}p.exports=function(v,_,f,S,w,E){if(_||(_=[0,0,0]),f||(f=[0,0,0]),S||(S=[0,0,0]),w||(w=[0,0,0,1]),E||(E=[0,0,0,1]),!i(c,v)||(r(x,c),x[3]=0,x[7]=0,x[11]=0,x[15]=1,Math.abs(o(x)<1e-8)))return!1;var C,O,P,R,j,z,N,J,Q,Y=c[3],F=c[7],U=c[11],V=c[12],te=c[13],$=c[14],X=c[15];if(0!==Y||0!==F||0!==U){if(g[0]=Y,g[1]=F,g[2]=U,g[3]=X,!l(x,x))return!1;u(x,x),C=w,P=x,R=(O=g)[0],j=O[1],z=O[2],N=O[3],C[0]=P[0]*R+P[4]*j+P[8]*z+P[12]*N,C[1]=P[1]*R+P[5]*j+P[9]*z+P[13]*N,C[2]=P[2]*R+P[6]*j+P[10]*z+P[14]*N,C[3]=P[3]*R+P[7]*j+P[11]*z+P[15]*N}else w[0]=w[1]=w[2]=0,w[3]=1;if(_[0]=V,_[1]=te,_[2]=$,Q=c,(J=h)[0][0]=Q[0],J[0][1]=Q[1],J[0][2]=Q[2],J[1][0]=Q[4],J[1][1]=Q[5],J[1][2]=Q[6],J[2][0]=Q[8],J[2][1]=Q[9],J[2][2]=Q[10],f[0]=d.length(h[0]),d.normalize(h[0],h[0]),S[0]=d.dot(h[0],h[1]),y(h[1],h[1],h[0],1,-S[0]),f[1]=d.length(h[1]),d.normalize(h[1],h[1]),S[0]/=f[1],S[1]=d.dot(h[0],h[2]),y(h[2],h[2],h[0],1,-S[1]),S[2]=d.dot(h[1],h[2]),y(h[2],h[2],h[1],1,-S[2]),f[2]=d.length(h[2]),d.normalize(h[2],h[2]),S[1]/=f[2],S[2]/=f[2],d.cross(m,h[1],h[2]),d.dot(h[0],m)<0)for(var W=0;W<3;W++)f[W]*=-1,h[W][0]*=-1,h[W][1]*=-1,h[W][2]*=-1;return E[0]=.5*Math.sqrt(Math.max(1+h[0][0]-h[1][1]-h[2][2],0)),E[1]=.5*Math.sqrt(Math.max(1-h[0][0]+h[1][1]-h[2][2],0)),E[2]=.5*Math.sqrt(Math.max(1-h[0][0]-h[1][1]+h[2][2],0)),E[3]=.5*Math.sqrt(Math.max(1+h[0][0]+h[1][1]+h[2][2],0)),h[2][1]>h[1][2]&&(E[0]=-E[0]),h[0][2]>h[2][0]&&(E[1]=-E[1]),h[1][0]>h[0][1]&&(E[2]=-E[2]),!0}},4690:function(p){p.exports=function(s,t){var i=t[15];if(0===i)return!1;for(var n=1/i,r=0;r<16;r++)s[r]=t[r]*n;return!0}},7649:function(p,s,t){var i=t(1868),n=t(1102),r=t(7191),o=t(7787),l=t(1116),u=x(),d=x(),c=x();function x(){return{translate:g(),scale:g(1),skew:g(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function g(h){return[h||0,h||0,h||0]}p.exports=function(h,m,y,v){if(0===o(m)||0===o(y))return!1;var _=r(m,u.translate,u.scale,u.skew,u.perspective,u.quaternion),f=r(y,d.translate,d.scale,d.skew,d.perspective,d.quaternion);return!(!_||!f||(i(c.translate,u.translate,d.translate,v),i(c.skew,u.skew,d.skew,v),i(c.scale,u.scale,d.scale,v),i(c.perspective,u.perspective,d.perspective,v),l(c.quaternion,u.quaternion,d.quaternion,v),n(h,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},1102:function(p,s,t){var i={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)},n=(i.create(),i.create());p.exports=function(r,o,l,u,d,c){return i.identity(r),i.fromRotationTranslation(r,c,o),r[3]=d[0],r[7]=d[1],r[11]=d[2],r[15]=d[3],i.identity(n),0!==u[2]&&(n[9]=u[2],i.multiply(r,r,n)),0!==u[1]&&(n[9]=0,n[8]=u[1],i.multiply(r,r,n)),0!==u[0]&&(n[8]=0,n[4]=u[0],i.multiply(r,r,n)),i.scale(r,r,l),r}},9298:function(p,s,t){"use strict";var i=t(5070),n=t(7649),r=t(7437),o=t(6109),l=t(7115),u=t(5240),d=t(3012),c=t(998),x=(t(3668),t(899)),g=[0,0,0];function h(v){this._components=v.slice(),this._time=[0],this.prevMatrix=v.slice(),this.nextMatrix=v.slice(),this.computedMatrix=v.slice(),this.computedInverse=v.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}p.exports=function(v){return new h((v=v||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var m=h.prototype;m.recalcMatrix=function(v){var _=this._time,f=i.le(_,v),S=this.computedMatrix;if(!(f<0)){var w=this._components;if(f===_.length-1)for(var E=16*f,C=0;C<16;++C)S[C]=w[E++];else{var O=_[f+1]-_[f],P=(E=16*f,this.prevMatrix),R=!0;for(C=0;C<16;++C)P[C]=w[E++];var j=this.nextMatrix;for(C=0;C<16;++C)j[C]=w[E++],R=R&&P[C]===j[C];if(O<1e-6||R)for(C=0;C<16;++C)S[C]=P[C];else n(S,P,j,(v-_[f])/O)}var z=this.computedUp;z[0]=S[1],z[1]=S[5],z[2]=S[9],x(z,z);var N=this.computedInverse;r(N,S);var Y=this.computedEye,F=N[15];Y[0]=N[12]/F,Y[1]=N[13]/F,Y[2]=N[14]/F;var U=this.computedCenter,V=Math.exp(this.computedRadius[0]);for(C=0;C<3;++C)U[C]=Y[C]-S[2+4*C]*V}},m.idle=function(v){if(!(v<this.lastT())){for(var _=this._components,f=_.length-16,S=0;S<16;++S)_.push(_[f++]);this._time.push(v)}},m.flush=function(v){var _=i.gt(this._time,v)-2;_<0||(this._time.splice(0,_),this._components.splice(0,16*_))},m.lastT=function(){return this._time[this._time.length-1]},m.lookAt=function(v,_,f,S){this.recalcMatrix(v),_=_||this.computedEye,f=f||g,S=S||this.computedUp,this.setMatrix(v,d(this.computedMatrix,_,f,S));for(var w=0,E=0;E<3;++E)w+=Math.pow(f[E]-_[E],2);w=Math.log(Math.sqrt(w)),this.computedRadius[0]=w},m.rotate=function(v,_,f,S){this.recalcMatrix(v);var w=this.computedInverse;_&&l(w,w,_),f&&o(w,w,f),S&&u(w,w,S),this.setMatrix(v,r(this.computedMatrix,w))};var y=[0,0,0];m.pan=function(v,_,f,S){y[0]=-(_||0),y[1]=-(f||0),y[2]=-(S||0),this.recalcMatrix(v);var w=this.computedInverse;c(w,w,y),this.setMatrix(v,r(w,w))},m.translate=function(v,_,f,S){y[0]=_||0,y[1]=f||0,y[2]=S||0,this.recalcMatrix(v);var w=this.computedMatrix;c(w,w,y),this.setMatrix(v,w)},m.setMatrix=function(v,_){if(!(v<this.lastT())){this._time.push(v);for(var f=0;f<16;++f)this._components.push(_[f])}},m.setDistance=function(v,_){this.computedRadius[0]=_},m.setDistanceLimits=function(v,_){var f=this._limits;f[0]=v,f[1]=_},m.getDistanceLimits=function(v){var _=this._limits;return v?(v[0]=_[0],v[1]=_[1],v):_}},3266:function(p,s,t){"use strict";p.exports=function(n){var r=n.length;if(r<3){for(var o=new Array(r),l=0;l<r;++l)o[l]=l;return 2===r&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:o}var u=new Array(r);for(l=0;l<r;++l)u[l]=l;u.sort(function(_,f){return n[_][0]-n[f][0]||n[_][1]-n[f][1]});var d=[u[0],u[1]],c=[u[0],u[1]];for(l=2;l<r;++l){for(var x=u[l],g=n[x],h=d.length;h>1&&i(n[d[h-2]],n[d[h-1]],g)<=0;)h-=1,d.pop();for(d.push(x),h=c.length;h>1&&i(n[c[h-2]],n[c[h-1]],g)>=0;)h-=1,c.pop();c.push(x)}o=new Array(c.length+d.length-2);for(var m=0,y=(l=0,d.length);l<y;++l)o[m++]=d[l];for(var v=c.length-2;v>0;--v)o[m++]=c[v];return o};var i=t(417)[3]},6145:function(p,s,t){"use strict";p.exports=function(n,r){r||(r=n,n=window);var o=0,l=0,u=0,d={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function x(E){var C=!1;return"altKey"in E&&(C=C||E.altKey!==d.alt,d.alt=!!E.altKey),"shiftKey"in E&&(C=C||E.shiftKey!==d.shift,d.shift=!!E.shiftKey),"ctrlKey"in E&&(C=C||E.ctrlKey!==d.control,d.control=!!E.ctrlKey),"metaKey"in E&&(C=C||E.metaKey!==d.meta,d.meta=!!E.metaKey),C}function g(E,C){var O=i.x(C),P=i.y(C);"buttons"in C&&(E=0|C.buttons),(E!==o||O!==l||P!==u||x(C))&&(o=0|E,l=O||0,u=P||0,r&&r(o,l,u,d))}function h(E){g(0,E)}function m(){(o||l||u||d.shift||d.alt||d.meta||d.control)&&(l=u=0,o=0,d.shift=d.alt=d.control=d.meta=!1,r&&r(0,0,0,d))}function y(E){x(E)&&r&&r(o,l,u,d)}function v(E){0===i.buttons(E)?g(0,E):g(o,E)}function _(E){g(o|i.buttons(E),E)}function f(E){g(o&~i.buttons(E),E)}function S(){c||(c=!0,n.addEventListener("mousemove",v),n.addEventListener("mousedown",_),n.addEventListener("mouseup",f),n.addEventListener("mouseleave",h),n.addEventListener("mouseenter",h),n.addEventListener("mouseout",h),n.addEventListener("mouseover",h),n.addEventListener("blur",m),n.addEventListener("keyup",y),n.addEventListener("keydown",y),n.addEventListener("keypress",y),n!==window&&(window.addEventListener("blur",m),window.addEventListener("keyup",y),window.addEventListener("keydown",y),window.addEventListener("keypress",y)))}S();var w={element:n};return Object.defineProperties(w,{enabled:{get:function(){return c},set:function(E){E?S():c&&(c=!1,n.removeEventListener("mousemove",v),n.removeEventListener("mousedown",_),n.removeEventListener("mouseup",f),n.removeEventListener("mouseleave",h),n.removeEventListener("mouseenter",h),n.removeEventListener("mouseout",h),n.removeEventListener("mouseover",h),n.removeEventListener("blur",m),n.removeEventListener("keyup",y),n.removeEventListener("keydown",y),n.removeEventListener("keypress",y),n!==window&&(window.removeEventListener("blur",m),window.removeEventListener("keyup",y),window.removeEventListener("keydown",y),window.removeEventListener("keypress",y)))},enumerable:!0},buttons:{get:function(){return o},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return d},enumerable:!0}}),w};var i=t(4110)},2565:function(p){var s={left:0,top:0};p.exports=function(t,i,n){i=i||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var r,o=t.clientX||0,l=t.clientY||0,u=(r=i)===window||r===document||r===document.body?s:r.getBoundingClientRect();return n[0]=o-u.left,n[1]=l-u.top,n}},4110:function(p,s){"use strict";function t(i){return i.target||i.srcElement||window}s.buttons=function(i){if("object"==typeof i){if("buttons"in i)return i.buttons;if("which"in i){if(2===(n=i.which))return 4;if(3===n)return 2;if(n>0)return 1<<n-1}else if("button"in i){var n;if(1===(n=i.button))return 4;if(2===n)return 2;if(n>=0)return 1<<n}}return 0},s.element=t,s.x=function(i){if("object"==typeof i){if("offsetX"in i)return i.offsetX;var n=t(i).getBoundingClientRect();return i.clientX-n.left}return 0},s.y=function(i){if("object"==typeof i){if("offsetY"in i)return i.offsetY;var n=t(i).getBoundingClientRect();return i.clientY-n.top}return 0}},6475:function(p,s,t){"use strict";var i=t(14);p.exports=function(n,r,o){"function"==typeof n&&(o=!!r,r=n,n=window);var l=i("ex",n),u=function(d){o&&d.preventDefault();var c=d.deltaX||0,x=d.deltaY||0,g=d.deltaZ||0,h=1;switch(d.deltaMode){case 1:h=l;break;case 2:h=window.innerHeight}if(x*=h,g*=h,(c*=h)||x||g)return r(c,x,g,d)};return n.addEventListener("wheel",u),u}},9284:function(p,s,t){"use strict";var i=t(5306);p.exports=function(r){function o(g){throw new Error("ndarray-extract-contour: "+g)}"object"!=typeof r&&o("Must specify arguments");var l=r.order;Array.isArray(l)||o("Must specify order");var g,h,m,f,u=r.arrayArguments||1;u<1&&o("Must have at least one array argument"),(r.scalarArguments||0)<0&&o("Scalar arg count must be > 0"),"function"!=typeof r.vertex&&o("Must specify vertex creation function"),"function"!=typeof r.cell&&o("Must specify cell creation function"),"function"!=typeof r.phase&&o("Must specify phase function");for(var d=r.getters||[],c=new Array(u),x=0;x<u;++x)d.indexOf(x)>=0?c[x]=!0:c[x]=!1;return g=r.vertex,h=r.cell,m=r.phase,f=[c,l].join(","),(0,n[f])(g,h,m,i.mallocUint32,i.freeUint32)};var n={"false,0,1":function(r,o,l,u,d){return function(c,x,g,h){var m,y=0|c.shape[0],v=0|c.shape[1],_=c.data,f=0|c.offset,S=0|c.stride[0],w=0|c.stride[1],E=f,C=0|-S,O=0,P=0|-w,R=0,j=-S-w|0,z=0,N=0|S,Y=w-S*y|0,F=0,U=0,V=0,te=2*y|0,$=u(te),X=u(te),W=0,J=0,Q=-1,re=-1,ae=0,oe=0|-y,ue=0|y,ve=0,be=-y-1|0,de=y-1|0,pe=0,ge=0,Ae=0;for(F=0;F<y;++F)$[W++]=l(_[E],x,g,h),E+=N;if(E+=Y,v>0){if(U=1,$[W++]=l(_[E],x,g,h),E+=N,y>0)for(F=1,m=_[E],J=$[W]=l(m,x,g,h),ae=$[W+Q],ve=$[W+oe],pe=$[W+be],J===ae&&J===ve&&J===pe||(O=_[E+C],R=_[E+P],z=_[E+j],r(F,U,m,O,R,z,J,ae,ve,pe,x,g,h),ge=X[W]=V++),W+=1,E+=N,F=2;F<y;++F)m=_[E],J=$[W]=l(m,x,g,h),ae=$[W+Q],ve=$[W+oe],pe=$[W+be],J===ae&&J===ve&&J===pe||(O=_[E+C],R=_[E+P],z=_[E+j],r(F,U,m,O,R,z,J,ae,ve,pe,x,g,h),ge=X[W]=V++,pe!==ae&&o(X[W+Q],ge,z,O,pe,ae,x,g,h)),W+=1,E+=N;for(E+=Y,W=0,Ae=Q,Q=re,re=Ae,Ae=oe,oe=ue,ue=Ae,Ae=be,be=de,de=Ae,U=2;U<v;++U){if($[W++]=l(_[E],x,g,h),E+=N,y>0)for(F=1,m=_[E],J=$[W]=l(m,x,g,h),ae=$[W+Q],ve=$[W+oe],pe=$[W+be],J===ae&&J===ve&&J===pe||(O=_[E+C],R=_[E+P],z=_[E+j],r(F,U,m,O,R,z,J,ae,ve,pe,x,g,h),ge=X[W]=V++,pe!==ve&&o(X[W+oe],ge,R,z,ve,pe,x,g,h)),W+=1,E+=N,F=2;F<y;++F)m=_[E],J=$[W]=l(m,x,g,h),ae=$[W+Q],ve=$[W+oe],pe=$[W+be],J===ae&&J===ve&&J===pe||(O=_[E+C],R=_[E+P],z=_[E+j],r(F,U,m,O,R,z,J,ae,ve,pe,x,g,h),ge=X[W]=V++,pe!==ve&&o(X[W+oe],ge,R,z,ve,pe,x,g,h),pe!==ae&&o(X[W+Q],ge,z,O,pe,ae,x,g,h)),W+=1,E+=N;1&U&&(W=0),Ae=Q,Q=re,re=Ae,Ae=oe,oe=ue,ue=Ae,Ae=be,be=de,de=Ae,E+=Y}}d(X),d($)}},"false,1,0":function(r,o,l,u,d){return function(c,x,g,h){var m,y=0|c.shape[0],v=0|c.shape[1],_=c.data,f=0|c.offset,S=0|c.stride[0],w=0|c.stride[1],E=f,C=0|-S,O=0,P=0|-w,R=0,j=-S-w|0,z=0,N=0|w,Y=S-w*v|0,F=0,U=0,V=0,te=2*v|0,$=u(te),X=u(te),W=0,J=0,Q=-1,re=-1,ae=0,oe=0|-v,ue=0|v,ve=0,be=-v-1|0,de=v-1|0,pe=0,ge=0,Ae=0;for(U=0;U<v;++U)$[W++]=l(_[E],x,g,h),E+=N;if(E+=Y,y>0){if(F=1,$[W++]=l(_[E],x,g,h),E+=N,v>0)for(U=1,m=_[E],J=$[W]=l(m,x,g,h),ve=$[W+oe],ae=$[W+Q],pe=$[W+be],J===ve&&J===ae&&J===pe||(O=_[E+C],R=_[E+P],z=_[E+j],r(F,U,m,O,R,z,J,ve,ae,pe,x,g,h),ge=X[W]=V++),W+=1,E+=N,U=2;U<v;++U)m=_[E],J=$[W]=l(m,x,g,h),ve=$[W+oe],ae=$[W+Q],pe=$[W+be],J===ve&&J===ae&&J===pe||(O=_[E+C],R=_[E+P],z=_[E+j],r(F,U,m,O,R,z,J,ve,ae,pe,x,g,h),ge=X[W]=V++,pe!==ae&&o(X[W+Q],ge,R,z,ae,pe,x,g,h)),W+=1,E+=N;for(E+=Y,W=0,Ae=oe,oe=ue,ue=Ae,Ae=Q,Q=re,re=Ae,Ae=be,be=de,de=Ae,F=2;F<y;++F){if($[W++]=l(_[E],x,g,h),E+=N,v>0)for(U=1,m=_[E],J=$[W]=l(m,x,g,h),ve=$[W+oe],ae=$[W+Q],pe=$[W+be],J===ve&&J===ae&&J===pe||(O=_[E+C],R=_[E+P],z=_[E+j],r(F,U,m,O,R,z,J,ve,ae,pe,x,g,h),ge=X[W]=V++,pe!==ve&&o(X[W+oe],ge,z,O,pe,ve,x,g,h)),W+=1,E+=N,U=2;U<v;++U)m=_[E],J=$[W]=l(m,x,g,h),ve=$[W+oe],ae=$[W+Q],pe=$[W+be],J===ve&&J===ae&&J===pe||(O=_[E+C],R=_[E+P],z=_[E+j],r(F,U,m,O,R,z,J,ve,ae,pe,x,g,h),ge=X[W]=V++,pe!==ae&&o(X[W+Q],ge,R,z,ae,pe,x,g,h),pe!==ve&&o(X[W+oe],ge,z,O,pe,ve,x,g,h)),W+=1,E+=N;1&F&&(W=0),Ae=oe,oe=ue,ue=Ae,Ae=Q,Q=re,re=Ae,Ae=be,be=de,de=Ae,E+=Y}}d(X),d($)}}}},9144:function(p,s,t){"use strict";var i=t(3094),n={zero:function(y,v,_,f){var S=y[0];f|=0;var w=0,E=_[0];for(w=0;w<S;++w)v[f]=0,f+=E},fdTemplate1:function(y,v,_,f,S,w,E){var C=y[0],O=_[0],P=-1*O,R=O;f|=0,E|=0;var j=0,z=O,N=w[0];for(j=0;j<C;++j)S[E]=.5*(v[f+P]-v[f+R]),f+=z,E+=N},fdTemplate2:function(y,v,_,f,S,w,E,C,O,P){var R=y[0],j=y[1],z=_[0],N=_[1],Y=w[0],F=w[1],U=O[0],V=O[1],te=-1*z,$=z,X=-1*N,W=N;f|=0,E|=0,P|=0;var J=0,Q=0,re=N,ae=z-j*N,oe=F,ue=Y-j*F,ve=V,be=U-j*V;for(Q=0;Q<R;++Q){for(J=0;J<j;++J)S[E]=.5*(v[f+te]-v[f+$]),C[P]=.5*(v[f+X]-v[f+W]),f+=re,E+=oe,P+=ve;f+=ae,E+=ue,P+=be}}},r={cdiff:function(y){var v={};return function(_,f,S){var w=_.dtype,E=_.order,C=f.dtype,O=f.order,P=S.dtype,R=S.order,j=[w,E.join(),C,O.join(),P,R.join()].join(),z=v[j];return z||(v[j]=z=y([w,E,C,O,P,R])),z(_.shape.slice(0),_.data,_.stride,0|_.offset,f.data,f.stride,0|f.offset,S.data,S.stride,0|S.offset)}},zero:function(y){var v={};return function(_){var f=_.dtype,S=_.order,w=[f,S.join()].join(),E=v[w];return E||(v[w]=E=y([f,S])),E(_.shape.slice(0),_.data,_.stride,0|_.offset)}},fdTemplate1:function(y){var v={};return function(_,f){var S=_.dtype,w=_.order,E=f.dtype,C=f.order,O=[S,w.join(),E,C.join()].join(),P=v[O];return P||(v[O]=P=y([S,w,E,C])),P(_.shape.slice(0),_.data,_.stride,0|_.offset,f.data,f.stride,0|f.offset)}},fdTemplate2:function(y){var v={};return function(_,f,S){var w=_.dtype,E=_.order,C=f.dtype,O=f.order,P=S.dtype,R=S.order,j=[w,E.join(),C,O.join(),P,R.join()].join(),z=v[j];return z||(v[j]=z=y([w,E,C,O,P,R])),z(_.shape.slice(0),_.data,_.stride,0|_.offset,f.data,f.stride,0|f.offset,S.data,S.stride,0|S.offset)}}};function o(y){return(0,r[y.funcName])(l.bind(void 0,y))}function l(y){return n[y.funcName]}function u(y){return o({funcName:y.funcName})}var d={},c={},x=u({funcName:"cdiff"}),g=u({funcName:"zero"});function h(y){return y in d?d[y]:d[y]=u({funcName:"fdTemplate"+y})}function m(y,v,_,f){return function(S,w){var E=w.shape.slice();return E[0]>2&&E[1]>2&&f(w.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(_(w.pick(0,-1).lo(1).hi(E[1]-2),S.pick(0,-1,1).lo(1).hi(E[1]-2)),v(S.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(_(w.pick(E[0]-1,-1).lo(1).hi(E[1]-2),S.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),v(S.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(_(w.pick(-1,0).lo(1).hi(E[0]-2),S.pick(-1,0,0).lo(1).hi(E[0]-2)),v(S.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(_(w.pick(-1,E[1]-1).lo(1).hi(E[0]-2),S.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),v(S.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),S.set(0,0,0,0),S.set(0,0,1,0),S.set(E[0]-1,0,0,0),S.set(E[0]-1,0,1,0),S.set(0,E[1]-1,0,0),S.set(0,E[1]-1,1,0),S.set(E[0]-1,E[1]-1,0,0),S.set(E[0]-1,E[1]-1,1,0),S}}p.exports=function(y,v,_){return Array.isArray(_)||(_=i(v.dimension,"string"==typeof _?_:"clamp")),0===v.size?y:0===v.dimension?(y.set(0),y):function(f){var S=f.join();if(O=c[S])return O;for(var w=f.length,E=[x,g],C=1;C<=w;++C)E.push(h(C));var O=m.apply(void 0,E);return c[S]=O,O}(_)(y,v)}},3581:function(p){"use strict";function s(r,o){var l=Math.floor(o),u=o-l,d=0<=l&&l<r.shape[0],c=0<=l+1&&l+1<r.shape[0];return(1-u)*(d?+r.get(l):0)+u*(c?+r.get(l+1):0)}function t(r,o,l){var u=Math.floor(o),d=o-u,c=0<=u&&u<r.shape[0],x=0<=u+1&&u+1<r.shape[0],g=Math.floor(l),h=l-g,m=0<=g&&g<r.shape[1],y=0<=g+1&&g+1<r.shape[1],v=c&&m?r.get(u,g):0,_=c&&y?r.get(u,g+1):0;return(1-h)*((1-d)*v+d*(x&&m?r.get(u+1,g):0))+h*((1-d)*_+d*(x&&y?r.get(u+1,g+1):0))}function i(r,o,l,u){var d=Math.floor(o),c=o-d,x=0<=d&&d<r.shape[0],g=0<=d+1&&d+1<r.shape[0],h=Math.floor(l),m=l-h,y=0<=h&&h<r.shape[1],v=0<=h+1&&h+1<r.shape[1],_=Math.floor(u),f=u-_,S=0<=_&&_<r.shape[2],w=0<=_+1&&_+1<r.shape[2],E=x&&y&&S?r.get(d,h,_):0,C=x&&v&&S?r.get(d,h+1,_):0,O=g&&y&&S?r.get(d+1,h,_):0,P=g&&v&&S?r.get(d+1,h+1,_):0,R=x&&y&&w?r.get(d,h,_+1):0,j=x&&v&&w?r.get(d,h+1,_+1):0;return(1-f)*((1-m)*((1-c)*E+c*O)+m*((1-c)*C+c*P))+f*((1-m)*((1-c)*R+c*(g&&y&&w?r.get(d+1,h,_+1):0))+m*((1-c)*j+c*(g&&v&&w?r.get(d+1,h+1,_+1):0)))}function n(r){var o,l,u=0|r.shape.length,d=new Array(u),c=new Array(u),x=new Array(u),g=new Array(u);for(o=0;o<u;++o)l=+arguments[o+1],d[o]=Math.floor(l),c[o]=l-d[o],x[o]=0<=d[o]&&d[o]<r.shape[o],g[o]=0<=d[o]+1&&d[o]+1<r.shape[o];var h,m,y,v=0;e:for(o=0;o<1<<u;++o){for(m=1,y=r.offset,h=0;h<u;++h)if(o&1<<h){if(!g[h])continue e;m*=c[h],y+=r.stride[h]*(d[h]+1)}else{if(!x[h])continue e;m*=1-c[h],y+=r.stride[h]*d[h]}v+=m*r.data[y]}return v}p.exports=function(r,o,l,u){switch(r.shape.length){case 0:return 0;case 1:return s(r,o);case 2:return t(r,o,l);case 3:return i(r,o,l,u);default:return n.apply(void 0,arguments)}},p.exports.d1=s,p.exports.d2=t,p.exports.d3=i},7498:function(p,s){"use strict";var t={"float64,2,1,0":function(){return function(l,u,d,c,x){var g=l[0],h=l[1],m=l[2],y=d[0],v=d[1],_=d[2];c|=0;var f=0,S=0,w=0,E=_,C=v-m*_,O=y-h*v;for(w=0;w<g;++w){for(S=0;S<h;++S){for(f=0;f<m;++f)u[c]/=x,c+=E;c+=C}c+=O}}},"uint8,2,0,1,float64,2,1,0":function(){return function(l,u,d,c,x,g,h,m){for(var y=l[0],v=l[1],_=l[2],f=d[0],S=d[1],w=d[2],E=g[0],C=g[1],O=g[2],P=c|=0,R=h|=0,j=0|l[0];j>0;){j<64?(y=j,j=0):(y=64,j-=64);for(var z=0|l[1];z>0;){z<64?(v=z,z=0):(v=64,z-=64),c=P+j*f+z*S,h=R+j*E+z*C;var N=0,Y=0,F=0,U=w,V=f-_*w,te=S-y*f,$=O,X=E-_*O,W=C-y*E;for(F=0;F<v;++F){for(Y=0;Y<y;++Y){for(N=0;N<_;++N)u[c]=x[h]*m,c+=U,h+=$;c+=V,h+=X}c+=te,h+=W}}}}},"float32,1,0,float32,1,0":function(){return function(l,u,d,c,x,g,h){var m=l[0],y=l[1],v=d[0],_=d[1],f=g[0],S=g[1];c|=0,h|=0;var w=0,E=0,C=_,O=v-y*_,P=S,R=f-y*S;for(E=0;E<m;++E){for(w=0;w<y;++w)u[c]=x[h],c+=C,h+=P;c+=O,h+=R}}},"float32,1,0,float32,0,1":function(){return function(l,u,d,c,x,g,h){for(var m=l[0],y=l[1],v=d[0],_=d[1],f=g[0],S=g[1],w=c|=0,E=h|=0,C=0|l[1];C>0;){C<64?(y=C,C=0):(y=64,C-=64);for(var O=0|l[0];O>0;){O<64?(m=O,O=0):(m=64,O-=64),c=w+C*_+O*v,h=E+C*S+O*f;var P=0,R=0,j=_,z=v-y*_,N=S,Y=f-y*S;for(R=0;R<m;++R){for(P=0;P<y;++P)u[c]=x[h],c+=j,h+=N;c+=z,h+=Y}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(l,u,d,c,x,g,h){for(var m=l[0],y=l[1],v=l[2],_=d[0],f=d[1],S=d[2],w=g[0],E=g[1],C=g[2],O=c|=0,P=h|=0,R=0|l[2];R>0;){R<64?(v=R,R=0):(v=64,R-=64);for(var j=0|l[0];j>0;){j<64?(m=j,j=0):(m=64,j-=64);for(var z=0|l[1];z>0;){z<64?(y=z,z=0):(y=64,z-=64),c=O+R*S+j*_+z*f,h=P+R*C+j*w+z*E;var N=0,Y=0,F=0,U=S,V=_-v*S,te=f-m*_,$=C,X=w-v*C,W=E-m*w;for(F=0;F<y;++F){for(Y=0;Y<m;++Y){for(N=0;N<v;++N)u[c]=x[h],c+=U,h+=$;c+=V,h+=X}c+=te,h+=W}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(l,u,d,c,x,g,h){var m=l[0],y=l[1],v=l[2],_=d[0],f=d[1],S=d[2],w=g[0],E=g[1],C=g[2];c|=0,h|=0;var O=0,P=0,R=0,j=S,z=_-v*S,N=f-m*_,Y=C,F=w-v*C,U=E-m*w;for(R=0;R<y;++R){for(P=0;P<m;++P){for(O=0;O<v;++O)u[c]=x[h],c+=j,h+=Y;c+=z,h+=F}c+=N,h+=U}}}},i=function(l,u){var d=u.join(",");return(0,t[d])()},n={mul:function(l){var u={};return function(d,c,x){var g=d.dtype,h=d.order,m=c.dtype,y=c.order,v=x.dtype,_=x.order,f=[g,h.join(),m,y.join(),v,_.join()].join(),S=u[f];return S||(u[f]=S=l([g,h,m,y,v,_])),S(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},muls:function(l){var u={};return function(d,c,x){var g=d.dtype,h=d.order,m=c.dtype,y=c.order,v=[g,h.join(),m,y.join()].join(),_=u[v];return _||(u[v]=_=l([g,h,m,y])),_(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,x)}},mulseq:function(l){var u={};return function(d,c){var x=d.dtype,g=d.order,h=[x,g.join()].join(),m=u[h];return m||(u[h]=m=l([x,g])),m(d.shape.slice(0),d.data,d.stride,0|d.offset,c)}},div:function(l){var u={};return function(d,c,x){var g=d.dtype,h=d.order,m=c.dtype,y=c.order,v=x.dtype,_=x.order,f=[g,h.join(),m,y.join(),v,_.join()].join(),S=u[f];return S||(u[f]=S=l([g,h,m,y,v,_])),S(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},divs:function(l){var u={};return function(d,c,x){var g=d.dtype,h=d.order,m=c.dtype,y=c.order,v=[g,h.join(),m,y.join()].join(),_=u[v];return _||(u[v]=_=l([g,h,m,y])),_(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,x)}},divseq:function(l){var u={};return function(d,c){var x=d.dtype,g=d.order,h=[x,g.join()].join(),m=u[h];return m||(u[h]=m=l([x,g])),m(d.shape.slice(0),d.data,d.stride,0|d.offset,c)}},assign:function(l){var u={};return function(d,c){var x=d.dtype,g=d.order,h=c.dtype,m=c.order,y=[x,g.join(),h,m.join()].join(),v=u[y];return v||(u[y]=v=l([x,g,h,m])),v(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset)}}};function r(l){return u={funcName:l.funcName},(0,n[u.funcName])(i.bind(void 0,u));var u}var o={mul:"*",div:"/"};(function(){for(var l in o)s[l]=r({funcName:l}),s[l+"s"]=r({funcName:l+"s"}),s[l+"seq"]=r({funcName:l+"seq"})})(),s.assign=r({funcName:"assign"})},7382:function(p,s,t){"use strict";var i=t(5050),n=t(9262);p.exports=function(r,o){for(var l=[],u=r,d=1;Array.isArray(u);)l.push(u.length),d*=u.length,u=u[0];return 0===l.length?i():(o||(o=i(new Float64Array(d),l)),n(o,r),o)}},9262:function(p){"use strict";var s,t;p.exports=(s=function(){return function(s,t,i,n,r){var o=s[0],l=s[1],u=s[2],d=i[0],c=i[1],x=i[2],g=[0,0,0];n|=0;var h=0,m=0,y=0,v=x,_=c-u*x,f=d-l*c;for(y=0;y<o;++y){for(m=0;m<l;++m){for(h=0;h<u;++h){var S,w=r;for(S=0;S<g.length-1;++S)w=w[g[S]];t[n]=w[g[g.length-1]],n+=v,++g[2]}n+=_,g[2]-=u,++g[1]}n+=f,g[1]-=l,++g[0]}}}.bind(void 0,{funcName:"convert"}),t={},function(i,n){var r=i.dtype,o=i.order,l=[r,o.join()].join(),u=t[l];return u||(t[l]=u=s([r,o])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,n)})},8139:function(p,s,t){"use strict";var i=t(5306);function n(u){return"uint32"===u?[i.mallocUint32,i.freeUint32]:null}var r={"uint32,1,0":function(u,d){return function(c,x,g,h,m,y,v,_,f,S,w){var E,C,O,P,R,j,z,N,Y=c*m+h,F=u(_);for(E=c+1;E<=x;++E){for(C=E,O=Y+=m,R=0,j=Y,P=0;P<_;++P)F[R++]=g[j],j+=f;e:for(;C-- >c;){R=0,j=O-m;t:for(P=0;P<_;++P){if((z=g[j])<(N=F[R]))break e;if(z>N)break t;j+=S,R+=w}for(R=O,j=O-m,P=0;P<_;++P)g[R]=g[j],R+=f,j+=f;O-=m}for(R=O,j=0,P=0;P<_;++P)g[R]=F[j++],R+=f}d(F)}}},o={"uint32,1,0":function(u,d,c){return function x(g,h,m,y,v,_,f,S,w,E,C){var O,P,R,j,z,N,Y,F,U,V,te,$,X,W,J,Q,re,ae,oe,ue,ve,be,de,pe,ge,Ae=(h-g+1)/6|0,ye=g+Ae,we=h-Ae,se=g+h>>1,ie=se-Ae,he=se+Ae,Se=ye,_e=ie,Me=se,Ee=he,Ie=we,fe=g+1,xe=h-1,Te=!0,Ce=0,De=0,ze=0,Ue=S,Ve=d(Ue),Xe=d(Ue);te=v*Se,$=v*_e,ge=y;e:for(V=0;V<S;++V){if(F=$+ge,(ze=m[Y=te+ge]-m[F])>0){P=Se,Se=_e,_e=P;break e}if(ze<0)break e;ge+=E}te=v*Ee,$=v*Ie,ge=y;e:for(V=0;V<S;++V){if(F=$+ge,(ze=m[Y=te+ge]-m[F])>0){P=Ee,Ee=Ie,Ie=P;break e}if(ze<0)break e;ge+=E}te=v*Se,$=v*Me,ge=y;e:for(V=0;V<S;++V){if(F=$+ge,(ze=m[Y=te+ge]-m[F])>0){P=Se,Se=Me,Me=P;break e}if(ze<0)break e;ge+=E}te=v*_e,$=v*Me,ge=y;e:for(V=0;V<S;++V){if(F=$+ge,(ze=m[Y=te+ge]-m[F])>0){P=_e,_e=Me,Me=P;break e}if(ze<0)break e;ge+=E}te=v*Se,$=v*Ee,ge=y;e:for(V=0;V<S;++V){if(F=$+ge,(ze=m[Y=te+ge]-m[F])>0){P=Se,Se=Ee,Ee=P;break e}if(ze<0)break e;ge+=E}te=v*Me,$=v*Ee,ge=y;e:for(V=0;V<S;++V){if(F=$+ge,(ze=m[Y=te+ge]-m[F])>0){P=Me,Me=Ee,Ee=P;break e}if(ze<0)break e;ge+=E}te=v*_e,$=v*Ie,ge=y;e:for(V=0;V<S;++V){if(F=$+ge,(ze=m[Y=te+ge]-m[F])>0){P=_e,_e=Ie,Ie=P;break e}if(ze<0)break e;ge+=E}te=v*_e,$=v*Me,ge=y;e:for(V=0;V<S;++V){if(F=$+ge,(ze=m[Y=te+ge]-m[F])>0){P=_e,_e=Me,Me=P;break e}if(ze<0)break e;ge+=E}te=v*Ee,$=v*Ie,ge=y;e:for(V=0;V<S;++V){if(F=$+ge,(ze=m[Y=te+ge]-m[F])>0){P=Ee,Ee=Ie,Ie=P;break e}if(ze<0)break e;ge+=E}for(te=v*Se,$=v*_e,X=v*Me,W=v*Ee,J=v*Ie,Q=v*ye,re=v*se,ae=v*we,pe=0,ge=y,V=0;V<S;++V)Y=te+ge,F=$+ge,U=X+ge,oe=W+ge,ue=J+ge,ve=Q+ge,be=re+ge,de=ae+ge,Ve[pe]=m[F],Xe[pe]=m[oe],Te=Te&&Ve[pe]===Xe[pe],R=m[Y],j=m[U],z=m[ue],m[ve]=R,m[be]=j,m[de]=z,++pe,ge+=w;for(te=v*ie,$=v*g,ge=y,V=0;V<S;++V)F=$+ge,m[Y=te+ge]=m[F],ge+=w;for(te=v*he,$=v*h,ge=y,V=0;V<S;++V)F=$+ge,m[Y=te+ge]=m[F],ge+=w;if(Te)for(N=fe;N<=xe;++N){for(Y=y+N*v,pe=0,V=0;V<S&&0==(ze=m[Y]-Ve[pe]);++V)pe+=C,Y+=E;if(0!==ze)if(ze<0){if(N!==fe)for(te=v*N,$=v*fe,ge=y,V=0;V<S;++V)F=$+ge,O=m[Y=te+ge],m[Y]=m[F],m[F]=O,ge+=w;++fe}else for(;;){for(Y=y+xe*v,pe=0,V=0;V<S&&0==(ze=m[Y]-Ve[pe]);++V)pe+=C,Y+=E;if(!(ze>0)){if(ze<0){for(te=v*N,$=v*fe,X=v*xe,ge=y,V=0;V<S;++V)F=$+ge,U=X+ge,O=m[Y=te+ge],m[Y]=m[F],m[F]=m[U],m[U]=O,ge+=w;++fe,--xe;break}for(te=v*N,$=v*xe,ge=y,V=0;V<S;++V)F=$+ge,O=m[Y=te+ge],m[Y]=m[F],m[F]=O,ge+=w;--xe;break}xe--}}else for(N=fe;N<=xe;++N){for(Y=y+N*v,pe=0,V=0;V<S&&0==(Ce=m[Y]-Ve[pe]);++V)pe+=C,Y+=E;if(Ce<0){if(N!==fe)for(te=v*N,$=v*fe,ge=y,V=0;V<S;++V)F=$+ge,O=m[Y=te+ge],m[Y]=m[F],m[F]=O,ge+=w;++fe}else{for(Y=y+N*v,pe=0,V=0;V<S&&0==(De=m[Y]-Xe[pe]);++V)pe+=C,Y+=E;if(De>0)for(;;){for(Y=y+xe*v,pe=0,V=0;V<S&&0==(ze=m[Y]-Xe[pe]);++V)pe+=C,Y+=E;if(!(ze>0)){for(Y=y+xe*v,pe=0,V=0;V<S&&0==(ze=m[Y]-Ve[pe]);++V)pe+=C,Y+=E;if(ze<0){for(te=v*N,$=v*fe,X=v*xe,ge=y,V=0;V<S;++V)F=$+ge,U=X+ge,O=m[Y=te+ge],m[Y]=m[F],m[F]=m[U],m[U]=O,ge+=w;++fe,--xe}else{for(te=v*N,$=v*xe,ge=y,V=0;V<S;++V)F=$+ge,O=m[Y=te+ge],m[Y]=m[F],m[F]=O,ge+=w;--xe}break}if(--xe<N)break}}}for(te=v*g,$=v*(fe-1),pe=0,ge=y,V=0;V<S;++V)F=$+ge,m[Y=te+ge]=m[F],m[F]=Ve[pe],++pe,ge+=w;for(te=v*h,$=v*(xe+1),pe=0,ge=y,V=0;V<S;++V)F=$+ge,m[Y=te+ge]=m[F],m[F]=Xe[pe],++pe,ge+=w;if(fe-2-g<=32?u(g,fe-2,m,y,v,_,f,S,w,E,C):x(g,fe-2,m,y,v,_,f,S,w,E,C),h-(xe+2)<=32?u(xe+2,h,m,y,v,_,f,S,w,E,C):x(xe+2,h,m,y,v,_,f,S,w,E,C),Te)return c(Ve),void c(Xe);if(fe<ye&&xe>we){e:for(;;){for(Y=y+fe*v,pe=0,ge=y,V=0;V<S;++V){if(m[Y]!==Ve[pe])break e;++pe,Y+=w}++fe}e:for(;;){for(Y=y+xe*v,pe=0,ge=y,V=0;V<S;++V){if(m[Y]!==Xe[pe])break e;++pe,Y+=w}--xe}for(N=fe;N<=xe;++N){for(Y=y+N*v,pe=0,V=0;V<S&&0==(Ce=m[Y]-Ve[pe]);++V)pe+=C,Y+=E;if(0===Ce){if(N!==fe)for(te=v*N,$=v*fe,ge=y,V=0;V<S;++V)F=$+ge,O=m[Y=te+ge],m[Y]=m[F],m[F]=O,ge+=w;++fe}else{for(Y=y+N*v,pe=0,V=0;V<S&&0==(De=m[Y]-Xe[pe]);++V)pe+=C,Y+=E;if(0===De)for(;;){for(Y=y+xe*v,pe=0,V=0;V<S&&0==(ze=m[Y]-Xe[pe]);++V)pe+=C,Y+=E;if(0!==ze){for(Y=y+xe*v,pe=0,V=0;V<S&&0==(ze=m[Y]-Ve[pe]);++V)pe+=C,Y+=E;if(ze<0){for(te=v*N,$=v*fe,X=v*xe,ge=y,V=0;V<S;++V)F=$+ge,U=X+ge,O=m[Y=te+ge],m[Y]=m[F],m[F]=m[U],m[U]=O,ge+=w;++fe,--xe}else{for(te=v*N,$=v*xe,ge=y,V=0;V<S;++V)F=$+ge,O=m[Y=te+ge],m[Y]=m[F],m[F]=O,ge+=w;--xe}break}if(--xe<N)break}}}}c(Ve),c(Xe),xe-fe<=32?u(fe,xe,m,y,v,_,f,S,w,E,C):x(fe,xe,m,y,v,_,f,S,w,E,C)}}},l={"uint32,1,0":function(u,d){return function(c){var x=c.data,g=0|c.offset,h=c.shape,m=c.stride,y=0|m[0],v=0|h[0],_=0|m[1],f=0|h[1],S=_,w=_;v<=32?u(0,v-1,x,g,y,_,v,f,S,w,1):d(0,v-1,x,g,y,_,v,f,S,w,1)}}};p.exports=function(u,d){var m,y,v,_,f,c=[d,u].join(","),x=l[c],g=(m=u,v=n(y=d),_=[y,m].join(","),f=r[_],v?f(v[0],v[1]):f()),h=function(m,y,v){var _=n(y),f=[y,m].join(","),S=o[f];return m.length>1&&_?S(v,_[0],_[1]):S(v)}(u,d,g);return x(g,h)}},8729:function(p,s,t){"use strict";var i=t(8139),n={};p.exports=function(r){var o=r.order,l=r.dtype,u=[o,l].join(":"),d=n[u];return d||(n[u]=d=i(o,l)),d(r),r}},5050:function(p,s,t){var i=t(4780),n=typeof Float64Array<"u";function r(c,x){return c[0]-x[0]}function o(){var c,x=this.stride,g=new Array(x.length);for(c=0;c<g.length;++c)g[c]=[Math.abs(x[c]),c];g.sort(r);var h=new Array(g.length);for(c=0;c<h.length;++c)h[c]=g[c][1];return h}var l={T:function(c){function x(h){this.data=h}var g=x.prototype;return g.dtype=c,g.index=function(){return-1},g.size=0,g.dimension=-1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new x(this.data)},g.get=g.set=function(){},g.pick=function(){return null},function(h){return new x(h)}},0:function(c,x){function g(m,y){this.data=m,this.offset=y}var h=g.prototype;return h.dtype=c,h.index=function(){return this.offset},h.dimension=0,h.size=1,h.shape=h.stride=h.order=[],h.lo=h.hi=h.transpose=h.step=function(){return new g(this.data,this.offset)},h.pick=function(){return x(this.data)},h.valueOf=h.get=function(){return"generic"===c?this.data.get(this.offset):this.data[this.offset]},h.set=function(m){return"generic"===c?this.data.set(this.offset,m):this.data[this.offset]=m},function(m,y,v,_){return new g(m,_)}},1:function(c,x,g){function h(y,v,_,f){this.data=y,this.shape=[v],this.stride=[_],this.offset=0|f}var m=h.prototype;return m.dtype=c,m.dimension=1,Object.defineProperty(m,"size",{get:function(){return this.shape[0]}}),m.order=[0],m.set=function(y,v){return"generic"===c?this.data.set(this.offset+this.stride[0]*y,v):this.data[this.offset+this.stride[0]*y]=v},m.get=function(y){return"generic"===c?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},m.index=function(y){return this.offset+this.stride[0]*y},m.hi=function(y){return new h(this.data,"number"!=typeof y||y<0?this.shape[0]:0|y,this.stride[0],this.offset)},m.lo=function(y){var v=this.offset,_=0,f=this.shape[0],S=this.stride[0];return"number"==typeof y&&y>=0&&(v+=S*(_=0|y),f-=_),new h(this.data,f,S,v)},m.step=function(y){var v=this.shape[0],_=this.stride[0],f=this.offset,S=0,w=Math.ceil;return"number"==typeof y&&((S=0|y)<0?(f+=_*(v-1),v=w(-v/S)):v=w(v/S),_*=S),new h(this.data,v,_,f)},m.transpose=function(y){y=void 0===y?0:0|y;var v=this.shape,_=this.stride;return new h(this.data,v[y],_[y],this.offset)},m.pick=function(y){var v=[],_=[],f=this.offset;return"number"==typeof y&&y>=0?f=f+this.stride[0]*y|0:(v.push(this.shape[0]),_.push(this.stride[0])),(0,x[v.length+1])(this.data,v,_,f)},function(y,v,_,f){return new h(y,v[0],_[0],f)}},2:function(c,x,g){function h(y,v,_,f,S,w){this.data=y,this.shape=[v,_],this.stride=[f,S],this.offset=0|w}var m=h.prototype;return m.dtype=c,m.dimension=2,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(m,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),m.set=function(y,v,_){return"generic"===c?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*v,_):this.data[this.offset+this.stride[0]*y+this.stride[1]*v]=_},m.get=function(y,v){return"generic"===c?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*v):this.data[this.offset+this.stride[0]*y+this.stride[1]*v]},m.index=function(y,v){return this.offset+this.stride[0]*y+this.stride[1]*v},m.hi=function(y,v){return new h(this.data,"number"!=typeof y||y<0?this.shape[0]:0|y,"number"!=typeof v||v<0?this.shape[1]:0|v,this.stride[0],this.stride[1],this.offset)},m.lo=function(y,v){var _=this.offset,f=0,S=this.shape[0],w=this.shape[1],E=this.stride[0],C=this.stride[1];return"number"==typeof y&&y>=0&&(_+=E*(f=0|y),S-=f),"number"==typeof v&&v>=0&&(_+=C*(f=0|v),w-=f),new h(this.data,S,w,E,C,_)},m.step=function(y,v){var _=this.shape[0],f=this.shape[1],S=this.stride[0],w=this.stride[1],E=this.offset,C=0,O=Math.ceil;return"number"==typeof y&&((C=0|y)<0?(E+=S*(_-1),_=O(-_/C)):_=O(_/C),S*=C),"number"==typeof v&&((C=0|v)<0?(E+=w*(f-1),f=O(-f/C)):f=O(f/C),w*=C),new h(this.data,_,f,S,w,E)},m.transpose=function(y,v){y=void 0===y?0:0|y,v=void 0===v?1:0|v;var _=this.shape,f=this.stride;return new h(this.data,_[y],_[v],f[y],f[v],this.offset)},m.pick=function(y,v){var _=[],f=[],S=this.offset;return"number"==typeof y&&y>=0?S=S+this.stride[0]*y|0:(_.push(this.shape[0]),f.push(this.stride[0])),"number"==typeof v&&v>=0?S=S+this.stride[1]*v|0:(_.push(this.shape[1]),f.push(this.stride[1])),(0,x[_.length+1])(this.data,_,f,S)},function(y,v,_,f){return new h(y,v[0],v[1],_[0],_[1],f)}},3:function(c,x,g){function h(y,v,_,f,S,w,E,C){this.data=y,this.shape=[v,_,f],this.stride=[S,w,E],this.offset=0|C}var m=h.prototype;return m.dtype=c,m.dimension=3,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(m,"order",{get:function(){var y=Math.abs(this.stride[0]),v=Math.abs(this.stride[1]),_=Math.abs(this.stride[2]);return y>v?v>_?[2,1,0]:y>_?[1,2,0]:[1,0,2]:y>_?[2,0,1]:_>v?[0,1,2]:[0,2,1]}}),m.set=function(y,v,_,f){return"generic"===c?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_,f):this.data[this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_]=f},m.get=function(y,v,_){return"generic"===c?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_):this.data[this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_]},m.index=function(y,v,_){return this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_},m.hi=function(y,v,_){return new h(this.data,"number"!=typeof y||y<0?this.shape[0]:0|y,"number"!=typeof v||v<0?this.shape[1]:0|v,"number"!=typeof _||_<0?this.shape[2]:0|_,this.stride[0],this.stride[1],this.stride[2],this.offset)},m.lo=function(y,v,_){var f=this.offset,S=0,w=this.shape[0],E=this.shape[1],C=this.shape[2],O=this.stride[0],P=this.stride[1],R=this.stride[2];return"number"==typeof y&&y>=0&&(f+=O*(S=0|y),w-=S),"number"==typeof v&&v>=0&&(f+=P*(S=0|v),E-=S),"number"==typeof _&&_>=0&&(f+=R*(S=0|_),C-=S),new h(this.data,w,E,C,O,P,R,f)},m.step=function(y,v,_){var f=this.shape[0],S=this.shape[1],w=this.shape[2],E=this.stride[0],C=this.stride[1],O=this.stride[2],P=this.offset,R=0,j=Math.ceil;return"number"==typeof y&&((R=0|y)<0?(P+=E*(f-1),f=j(-f/R)):f=j(f/R),E*=R),"number"==typeof v&&((R=0|v)<0?(P+=C*(S-1),S=j(-S/R)):S=j(S/R),C*=R),"number"==typeof _&&((R=0|_)<0?(P+=O*(w-1),w=j(-w/R)):w=j(w/R),O*=R),new h(this.data,f,S,w,E,C,O,P)},m.transpose=function(y,v,_){y=void 0===y?0:0|y,v=void 0===v?1:0|v,_=void 0===_?2:0|_;var f=this.shape,S=this.stride;return new h(this.data,f[y],f[v],f[_],S[y],S[v],S[_],this.offset)},m.pick=function(y,v,_){var f=[],S=[],w=this.offset;return"number"==typeof y&&y>=0?w=w+this.stride[0]*y|0:(f.push(this.shape[0]),S.push(this.stride[0])),"number"==typeof v&&v>=0?w=w+this.stride[1]*v|0:(f.push(this.shape[1]),S.push(this.stride[1])),"number"==typeof _&&_>=0?w=w+this.stride[2]*_|0:(f.push(this.shape[2]),S.push(this.stride[2])),(0,x[f.length+1])(this.data,f,S,w)},function(y,v,_,f){return new h(y,v[0],v[1],v[2],_[0],_[1],_[2],f)}},4:function(c,x,g){function h(y,v,_,f,S,w,E,C,O,P){this.data=y,this.shape=[v,_,f,S],this.stride=[w,E,C,O],this.offset=0|P}var m=h.prototype;return m.dtype=c,m.dimension=4,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(m,"order",{get:g}),m.set=function(y,v,_,f,S){return"generic"===c?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_+this.stride[3]*f,S):this.data[this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_+this.stride[3]*f]=S},m.get=function(y,v,_,f){return"generic"===c?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_+this.stride[3]*f):this.data[this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_+this.stride[3]*f]},m.index=function(y,v,_,f){return this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_+this.stride[3]*f},m.hi=function(y,v,_,f){return new h(this.data,"number"!=typeof y||y<0?this.shape[0]:0|y,"number"!=typeof v||v<0?this.shape[1]:0|v,"number"!=typeof _||_<0?this.shape[2]:0|_,"number"!=typeof f||f<0?this.shape[3]:0|f,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},m.lo=function(y,v,_,f){var S=this.offset,w=0,E=this.shape[0],C=this.shape[1],O=this.shape[2],P=this.shape[3],R=this.stride[0],j=this.stride[1],z=this.stride[2],N=this.stride[3];return"number"==typeof y&&y>=0&&(S+=R*(w=0|y),E-=w),"number"==typeof v&&v>=0&&(S+=j*(w=0|v),C-=w),"number"==typeof _&&_>=0&&(S+=z*(w=0|_),O-=w),"number"==typeof f&&f>=0&&(S+=N*(w=0|f),P-=w),new h(this.data,E,C,O,P,R,j,z,N,S)},m.step=function(y,v,_,f){var S=this.shape[0],w=this.shape[1],E=this.shape[2],C=this.shape[3],O=this.stride[0],P=this.stride[1],R=this.stride[2],j=this.stride[3],z=this.offset,N=0,Y=Math.ceil;return"number"==typeof y&&((N=0|y)<0?(z+=O*(S-1),S=Y(-S/N)):S=Y(S/N),O*=N),"number"==typeof v&&((N=0|v)<0?(z+=P*(w-1),w=Y(-w/N)):w=Y(w/N),P*=N),"number"==typeof _&&((N=0|_)<0?(z+=R*(E-1),E=Y(-E/N)):E=Y(E/N),R*=N),"number"==typeof f&&((N=0|f)<0?(z+=j*(C-1),C=Y(-C/N)):C=Y(C/N),j*=N),new h(this.data,S,w,E,C,O,P,R,j,z)},m.transpose=function(y,v,_,f){y=void 0===y?0:0|y,v=void 0===v?1:0|v,_=void 0===_?2:0|_,f=void 0===f?3:0|f;var S=this.shape,w=this.stride;return new h(this.data,S[y],S[v],S[_],S[f],w[y],w[v],w[_],w[f],this.offset)},m.pick=function(y,v,_,f){var S=[],w=[],E=this.offset;return"number"==typeof y&&y>=0?E=E+this.stride[0]*y|0:(S.push(this.shape[0]),w.push(this.stride[0])),"number"==typeof v&&v>=0?E=E+this.stride[1]*v|0:(S.push(this.shape[1]),w.push(this.stride[1])),"number"==typeof _&&_>=0?E=E+this.stride[2]*_|0:(S.push(this.shape[2]),w.push(this.stride[2])),"number"==typeof f&&f>=0?E=E+this.stride[3]*f|0:(S.push(this.shape[3]),w.push(this.stride[3])),(0,x[S.length+1])(this.data,S,w,E)},function(y,v,_,f){return new h(y,v[0],v[1],v[2],v[3],_[0],_[1],_[2],_[3],f)}},5:function(c,x,g){function h(y,v,_,f,S,w,E,C,O,P,R,j){this.data=y,this.shape=[v,_,f,S,w],this.stride=[E,C,O,P,R],this.offset=0|j}var m=h.prototype;return m.dtype=c,m.dimension=5,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(m,"order",{get:g}),m.set=function(y,v,_,f,S,w){return"generic"===c?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S,w):this.data[this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S]=w},m.get=function(y,v,_,f,S){return"generic"===c?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S):this.data[this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S]},m.index=function(y,v,_,f,S){return this.offset+this.stride[0]*y+this.stride[1]*v+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S},m.hi=function(y,v,_,f,S){return new h(this.data,"number"!=typeof y||y<0?this.shape[0]:0|y,"number"!=typeof v||v<0?this.shape[1]:0|v,"number"!=typeof _||_<0?this.shape[2]:0|_,"number"!=typeof f||f<0?this.shape[3]:0|f,"number"!=typeof S||S<0?this.shape[4]:0|S,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},m.lo=function(y,v,_,f,S){var w=this.offset,E=0,C=this.shape[0],O=this.shape[1],P=this.shape[2],R=this.shape[3],j=this.shape[4],z=this.stride[0],N=this.stride[1],Y=this.stride[2],F=this.stride[3],U=this.stride[4];return"number"==typeof y&&y>=0&&(w+=z*(E=0|y),C-=E),"number"==typeof v&&v>=0&&(w+=N*(E=0|v),O-=E),"number"==typeof _&&_>=0&&(w+=Y*(E=0|_),P-=E),"number"==typeof f&&f>=0&&(w+=F*(E=0|f),R-=E),"number"==typeof S&&S>=0&&(w+=U*(E=0|S),j-=E),new h(this.data,C,O,P,R,j,z,N,Y,F,U,w)},m.step=function(y,v,_,f,S){var w=this.shape[0],E=this.shape[1],C=this.shape[2],O=this.shape[3],P=this.shape[4],R=this.stride[0],j=this.stride[1],z=this.stride[2],N=this.stride[3],Y=this.stride[4],F=this.offset,U=0,V=Math.ceil;return"number"==typeof y&&((U=0|y)<0?(F+=R*(w-1),w=V(-w/U)):w=V(w/U),R*=U),"number"==typeof v&&((U=0|v)<0?(F+=j*(E-1),E=V(-E/U)):E=V(E/U),j*=U),"number"==typeof _&&((U=0|_)<0?(F+=z*(C-1),C=V(-C/U)):C=V(C/U),z*=U),"number"==typeof f&&((U=0|f)<0?(F+=N*(O-1),O=V(-O/U)):O=V(O/U),N*=U),"number"==typeof S&&((U=0|S)<0?(F+=Y*(P-1),P=V(-P/U)):P=V(P/U),Y*=U),new h(this.data,w,E,C,O,P,R,j,z,N,Y,F)},m.transpose=function(y,v,_,f,S){y=void 0===y?0:0|y,v=void 0===v?1:0|v,_=void 0===_?2:0|_,f=void 0===f?3:0|f,S=void 0===S?4:0|S;var w=this.shape,E=this.stride;return new h(this.data,w[y],w[v],w[_],w[f],w[S],E[y],E[v],E[_],E[f],E[S],this.offset)},m.pick=function(y,v,_,f,S){var w=[],E=[],C=this.offset;return"number"==typeof y&&y>=0?C=C+this.stride[0]*y|0:(w.push(this.shape[0]),E.push(this.stride[0])),"number"==typeof v&&v>=0?C=C+this.stride[1]*v|0:(w.push(this.shape[1]),E.push(this.stride[1])),"number"==typeof _&&_>=0?C=C+this.stride[2]*_|0:(w.push(this.shape[2]),E.push(this.stride[2])),"number"==typeof f&&f>=0?C=C+this.stride[3]*f|0:(w.push(this.shape[3]),E.push(this.stride[3])),"number"==typeof S&&S>=0?C=C+this.stride[4]*S|0:(w.push(this.shape[4]),E.push(this.stride[4])),(0,x[w.length+1])(this.data,w,E,C)},function(y,v,_,f){return new h(y,v[0],v[1],v[2],v[3],v[4],_[0],_[1],_[2],_[3],_[4],f)}}};function u(c,x){var g=-1===x?"T":String(x),h=l[g];return-1===x?h(c):0===x?h(c,d[c][0]):h(c,d[c],o)}var d={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};p.exports=function(c,x,g,h){if(void 0===c)return(0,d.array[0])([]);"number"==typeof c&&(c=[c]),void 0===x&&(x=[c.length]);var m=x.length;if(void 0===g){g=new Array(m);for(var y=m-1,v=1;y>=0;--y)g[y]=v,v*=x[y]}if(void 0===h)for(h=0,y=0;y<m;++y)g[y]<0&&(h-=(x[y]-1)*g[y]);for(var _=function(S){if(i(S))return"buffer";if(n)switch(Object.prototype.toString.call(S)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(S)?"array":"generic"}(c),f=d[_];f.length<=m+1;)f.push(u(_,f.length-1));return(0,f[m+1])(c,x,g,h)}},8551:function(p,s,t){"use strict";var i=t(8362),n=Math.pow(2,-1074),r=-1>>>0;p.exports=function(o,l){if(isNaN(o)||isNaN(l))return NaN;if(o===l)return o;if(0===o)return l<0?-n:n;var u=i.hi(o),d=i.lo(o);return l>o==o>0?d===r?(u+=1,d=0):d+=1:0===d?(d=r,u-=1):d-=1,i.pack(d,u)}},115:function(p,s){s.vertexNormals=function(t,i,n){for(var r=i.length,o=new Array(r),l=void 0===n?1e-6:n,u=0;u<r;++u)o[u]=[0,0,0];for(u=0;u<t.length;++u)for(var d=t[u],c=0,x=d[d.length-1],g=d[0],h=0;h<d.length;++h){c=x,x=g,g=d[(h+1)%d.length];for(var m=i[c],y=i[x],v=i[g],_=new Array(3),f=0,S=new Array(3),w=0,E=0;E<3;++E)_[E]=m[E]-y[E],f+=_[E]*_[E],S[E]=v[E]-y[E],w+=S[E]*S[E];if(f*w>l){var C=o[x],O=1/Math.sqrt(f*w);for(E=0;E<3;++E){var P=(E+1)%3,R=(E+2)%3;C[E]+=O*(S[P]*_[R]-S[R]*_[P])}}}for(u=0;u<r;++u){C=o[u];var j=0;for(E=0;E<3;++E)j+=C[E]*C[E];if(j>l)for(O=1/Math.sqrt(j),E=0;E<3;++E)C[E]*=O;else for(E=0;E<3;++E)C[E]=0}return o},s.faceNormals=function(t,i,n){for(var r=t.length,o=new Array(r),l=void 0===n?1e-6:n,u=0;u<r;++u){for(var d=t[u],c=new Array(3),x=0;x<3;++x)c[x]=i[d[x]];var g=new Array(3),h=new Array(3);for(x=0;x<3;++x)g[x]=c[1][x]-c[0][x],h[x]=c[2][x]-c[0][x];var m=new Array(3),y=0;for(x=0;x<3;++x){var v=(x+1)%3,_=(x+2)%3;m[x]=g[v]*h[_]-g[_]*h[v],y+=m[x]*m[x]}for(y=y>l?1/Math.sqrt(y):0,x=0;x<3;++x)m[x]*=y;o[u]=m}return o}},567:function(p){"use strict";p.exports=function(s,t,i,n,r,o,l,u,d,c){var x=t+o+c;if(g>0){var g=Math.sqrt(x+1);s[0]=.5*(l-d)/g,s[1]=.5*(u-n)/g,s[2]=.5*(i-o)/g,s[3]=.5*g}else{var h=Math.max(t,o,c);g=Math.sqrt(2*h-x+1),t>=h?(s[0]=.5*g,s[1]=.5*(r+i)/g,s[2]=.5*(u+n)/g,s[3]=.5*(l-d)/g):o>=h?(s[0]=.5*(i+r)/g,s[1]=.5*g,s[2]=.5*(d+l)/g,s[3]=.5*(u-n)/g):(s[0]=.5*(n+u)/g,s[1]=.5*(l+d)/g,s[2]=.5*g,s[3]=.5*(i-r)/g)}return s}},7774:function(p,s,t){"use strict";p.exports=function(h){var m=(h=h||{}).center||[0,0,0],y=h.rotation||[0,0,0,1],v=h.radius||1;m=[].slice.call(m,0,3),c(y=[].slice.call(y,0,4),y);var _=new x(y,m,Math.log(v));return _.setDistanceLimits(h.zoomMin,h.zoomMax),("eye"in h||"up"in h)&&_.lookAt(0,h.eye,h.center,h.up),_};var i=t(8444),n=t(3012),r=t(5950),o=t(7437),l=t(567);function u(h,m,y){return Math.sqrt(Math.pow(h,2)+Math.pow(m,2)+Math.pow(y,2))}function d(h,m,y,v){return Math.sqrt(Math.pow(h,2)+Math.pow(m,2)+Math.pow(y,2)+Math.pow(v,2))}function c(h,m){var y=m[0],v=m[1],_=m[2],f=m[3],S=d(y,v,_,f);S>1e-6?(h[0]=y/S,h[1]=v/S,h[2]=_/S,h[3]=f/S):(h[0]=h[1]=h[2]=0,h[3]=1)}function x(h,m,y){this.radius=i([y]),this.center=i(m),this.rotation=i(h),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var g=x.prototype;g.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},g.recalcMatrix=function(h){this.radius.curve(h),this.center.curve(h),this.rotation.curve(h);var m=this.computedRotation;c(m,m);var y=this.computedMatrix;r(y,m);var v=this.computedCenter,_=this.computedEye,f=this.computedUp,S=Math.exp(this.computedRadius[0]);_[0]=v[0]+S*y[2],_[1]=v[1]+S*y[6],_[2]=v[2]+S*y[10],f[0]=y[1],f[1]=y[5],f[2]=y[9];for(var w=0;w<3;++w){for(var E=0,C=0;C<3;++C)E+=y[w+4*C]*_[C];y[12+w]=-E}},g.getMatrix=function(h,m){this.recalcMatrix(h);var y=this.computedMatrix;if(m){for(var v=0;v<16;++v)m[v]=y[v];return m}return y},g.idle=function(h){this.center.idle(h),this.radius.idle(h),this.rotation.idle(h)},g.flush=function(h){this.center.flush(h),this.radius.flush(h),this.rotation.flush(h)},g.pan=function(h,m,y,v){m=m||0,y=y||0,v=v||0,this.recalcMatrix(h);var _=this.computedMatrix,f=_[1],S=_[5],w=_[9],E=u(f,S,w);f/=E,S/=E,w/=E;var C=_[0],O=_[4],P=_[8],R=C*f+O*S+P*w,j=u(C-=f*R,O-=S*R,P-=w*R);C/=j,O/=j,P/=j;var z=_[2],N=_[6],Y=_[10],F=z*f+N*S+Y*w,U=z*C+N*O+Y*P,V=u(z-=F*f+U*C,N-=F*S+U*O,Y-=F*w+U*P);z/=V,N/=V,Y/=V;var te=C*m+f*y,$=O*m+S*y,X=P*m+w*y;this.center.move(h,te,$,X);var W=Math.exp(this.computedRadius[0]);W=Math.max(1e-4,W+v),this.radius.set(h,Math.log(W))},g.rotate=function(h,m,y,v){this.recalcMatrix(h),m=m||0,y=y||0;var _=this.computedMatrix,f=_[0],S=_[4],w=_[8],E=_[1],C=_[5],O=_[9],P=_[2],R=_[6],j=_[10],z=m*f+y*E,N=m*S+y*C,Y=m*w+y*O,F=-(R*Y-j*N),U=-(j*z-P*Y),V=-(P*N-R*z),te=Math.sqrt(Math.max(0,1-Math.pow(F,2)-Math.pow(U,2)-Math.pow(V,2))),$=d(F,U,V,te);$>1e-6?(F/=$,U/=$,V/=$,te/=$):(F=U=V=0,te=1);var X=this.computedRotation,W=X[0],J=X[1],Q=X[2],re=X[3],ae=W*te+re*F+J*V-Q*U,oe=J*te+re*U+Q*F-W*V,ue=Q*te+re*V+W*U-J*F,ve=re*te-W*F-J*U-Q*V;if(v){F=P,U=R,V=j;var be=Math.sin(v)/u(F,U,V);F*=be,U*=be,V*=be,ve=ve*(te=Math.cos(m))-(ae=ae*te+ve*F+oe*V-ue*U)*F-(oe=oe*te+ve*U+ue*F-ae*V)*U-(ue=ue*te+ve*V+ae*U-oe*F)*V}var de=d(ae,oe,ue,ve);de>1e-6?(ae/=de,oe/=de,ue/=de,ve/=de):(ae=oe=ue=0,ve=1),this.rotation.set(h,ae,oe,ue,ve)},g.lookAt=function(h,m,y,v){this.recalcMatrix(h),y=y||this.computedCenter,m=m||this.computedEye,v=v||this.computedUp;var _=this.computedMatrix;n(_,m,y,v);var f=this.computedRotation;l(f,_[0],_[1],_[2],_[4],_[5],_[6],_[8],_[9],_[10]),c(f,f),this.rotation.set(h,f[0],f[1],f[2],f[3]);for(var S=0,w=0;w<3;++w)S+=Math.pow(y[w]-m[w],2);this.radius.set(h,.5*Math.log(Math.max(S,1e-6))),this.center.set(h,y[0],y[1],y[2])},g.translate=function(h,m,y,v){this.center.move(h,m||0,y||0,v||0)},g.setMatrix=function(h,m){var y=this.computedRotation;l(y,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),c(y,y),this.rotation.set(h,y[0],y[1],y[2],y[3]);var v=this.computedMatrix;o(v,m);var _=v[15];if(Math.abs(_)>1e-6){var f=v[12]/_,S=v[13]/_,w=v[14]/_;this.recalcMatrix(h);var E=Math.exp(this.computedRadius[0]);this.center.set(h,f-v[2]*E,S-v[6]*E,w-v[10]*E),this.radius.idle(h)}else this.center.idle(h),this.radius.idle(h)},g.setDistance=function(h,m){m>0&&this.radius.set(h,Math.log(m))},g.setDistanceLimits=function(h,m){h=h>0?Math.log(h):-1/0,m=m>0?Math.log(m):1/0,m=Math.max(m,h),this.radius.bounds[0][0]=h,this.radius.bounds[1][0]=m},g.getDistanceLimits=function(h){var m=this.radius.bounds;return h?(h[0]=Math.exp(m[0][0]),h[1]=Math.exp(m[1][0]),h):[Math.exp(m[0][0]),Math.exp(m[1][0])]},g.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},g.fromJSON=function(h){var m=this.lastT(),y=h.center;y&&this.center.set(m,y[0],y[1],y[2]);var v=h.rotation;v&&this.rotation.set(m,v[0],v[1],v[2],v[3]);var _=h.distance;_&&_>0&&this.radius.set(m,Math.log(_)),this.setDistanceLimits(h.zoomMin,h.zoomMax)}},4930:function(p,s,t){"use strict";var i=t(6184);p.exports=function(n,r,o){return i(o=void 0!==o?o+"":" ",r)+n}},4405:function(p){p.exports=function(s,t){t||(t=[0,""]),s=String(s);var i=parseFloat(s,10);return t[0]=i,t[1]=s.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(p,s,t){"use strict";p.exports=function(n,r){for(var o=0|r.length,l=n.length,u=[new Array(o),new Array(o)],d=0;d<o;++d)u[0][d]=[],u[1][d]=[];for(d=0;d<l;++d){var c=n[d];u[0][c[0]].push(c),u[1][c[1]].push(c)}var x=[];for(d=0;d<o;++d)u[0][d].length+u[1][d].length===0&&x.push([d]);function g(S,w){var E=u[w][S[w]];E.splice(E.indexOf(S),1)}function h(S,w,E){for(var C,O,P,R=0;R<2;++R)if(u[R][w].length>0){C=u[R][w][0],P=R;break}O=C[1^P];for(var j=0;j<2;++j)for(var z=u[j][w],N=0;N<z.length;++N){var Y=z[N],F=Y[1^j];i(r[S],r[w],r[O],r[F])>0&&(C=Y,O=F,P=j)}return E||C&&g(C,P),O}function m(S,w){var E=u[w][S][0],C=[S];g(E,w);for(var O=E[1^w];;){for(;O!==S;)C.push(O),O=h(C[C.length-2],O,!1);if(u[0][S].length+u[1][S].length===0)break;var P=C[C.length-1],R=S,j=C[1],z=h(P,R,!0);if(i(r[P],r[R],r[j],r[z])<0)break;C.push(S),O=h(P,R)}return C}function y(S,w){return w[1]===w[w.length-1]}for(d=0;d<o;++d)for(var v=0;v<2;++v){for(var _=[];u[v][d].length>0;){u[0][d].length;var f=m(d,v);y(0,f)?_.push.apply(_,f):(_.length>0&&x.push(_),_=f)}_.length>0&&x.push(_)}return x};var i=t(9398)},3959:function(p,s,t){"use strict";p.exports=function(n,r){for(var o=i(n,r.length),l=new Array(r.length),u=new Array(r.length),d=[],c=0;c<r.length;++c){var x=o[c].length;u[c]=x,l[c]=!0,x<=1&&d.push(c)}for(;d.length>0;){l[v=d.pop()]=!1;var g=o[v];for(c=0;c<g.length;++c){var h=g[c];0==--u[h]&&d.push(h)}}var m=new Array(r.length),y=[];for(c=0;c<r.length;++c)if(l[c]){var v=y.length;m[c]=v,y.push(r[c])}else m[c]=-1;var _=[];for(c=0;c<n.length;++c){var f=n[c];l[f[0]]&&l[f[1]]&&_.push([m[f[0]],m[f[1]]])}return[_,y]};var i=t(8348)},8040:function(p,s,t){"use strict";p.exports=function(x,g){var h=d(x,g);x=h[0];for(var m=(g=h[1]).length,y=(x.length,i(x,g.length)),v=0;v<m;++v)if(y[v].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var _=n(x,g),f=(_=_.filter(function(Ae){for(var ye=Ae.length,we=[0],se=0;se<ye;++se){var ie=g[Ae[se]],he=g[Ae[(se+1)%ye]],Se=o(-ie[0],ie[1]),_e=o(-ie[0],he[1]),Me=o(he[0],ie[1]),Ee=o(he[0],he[1]);we=l(we,l(l(Se,_e),l(Me,Ee)))}return we[we.length-1]>0})).length,S=new Array(f),w=new Array(f);for(v=0;v<f;++v){S[v]=v;var E=new Array(f),C=_[v].map(function(Ae){return g[Ae]}),O=r([C]),P=0;e:for(var R=0;R<f;++R)if(E[R]=0,v!==R){for(var j=(pe=_[R]).length,z=0;z<j;++z){var N=O(g[pe[z]]);if(0!==N){N<0&&(E[R]=1,P+=1);continue e}}E[R]=1,P+=1}w[v]=[P,v,E]}for(w.sort(function(Ae,ye){return ye[0]-Ae[0]}),v=0;v<f;++v){var Y=(E=w[v])[1],F=E[2];for(R=0;R<f;++R)F[R]&&(S[R]=Y)}var U=function(Ae){for(var ye=new Array(Ae),we=0;we<Ae;++we)ye[we]=[];return ye}(f);for(v=0;v<f;++v)U[v].push(S[v]),U[S[v]].push(v);var V={},te=c(m,!1);for(v=0;v<f;++v)for(j=(pe=_[v]).length,R=0;R<j;++R){var $=pe[R],X=pe[(R+1)%j],W=Math.min($,X)+":"+Math.max($,X);if(W in V){var J=V[W];U[J].push(v),U[v].push(J),te[$]=te[X]=!0}else V[W]=v}function Q(Ae){for(var ye=Ae.length,we=0;we<ye;++we)if(!te[Ae[we]])return!1;return!0}var re=[],ae=c(f,-1);for(v=0;v<f;++v)S[v]!==v||Q(_[v])?ae[v]=-1:(re.push(v),ae[v]=0);for(h=[];re.length>0;){var oe=re.pop(),ue=U[oe];u(ue,function(Ae,ye){return Ae-ye});var ve,be=ue.length,de=ae[oe];for(0===de&&(ve=[pe=_[oe]]),v=0;v<be;++v){var pe,ge=ue[v];ae[ge]>=0||(ae[ge]=1^de,re.push(ge),0===de&&(Q(pe=_[ge])||(pe.reverse(),ve.push(pe))))}0===de&&h.push(ve)}return h};var i=t(8348),n=t(4166),r=t(211),o=t(9660),l=t(9662),u=t(1215),d=t(3959);function c(x,g){for(var h=new Array(x),m=0;m<x;++m)h[m]=g;return h}},211:function(p,s,t){p.exports=function(c){for(var x=c.length,g=[],h=[],m=0;m<x;++m)for(var y=c[m],v=y.length,_=v-1,f=0;f<v;_=f++){var S=y[_],w=y[f];S[0]===w[0]?h.push([S,w]):g.push([S,w])}if(0===g.length)return 0===h.length?d:(E=u(h),function(P){return E(P[0],P[1])?0:1});var E,P,R,C=n(g),O=(P=C.slabs,R=C.coordinates,function(j){var z=o.le(R,j[0]);if(z<0)return 1;var N=P[z];if(!N){if(!(z>0&&R[z]===j[0]))return 1;N=P[z-1]}for(var Y=1;N;){var F=N.key,U=i(j,F[0],F[1]);if(F[0][0]<F[1][0])if(U<0)N=N.left;else{if(!(U>0))return 0;Y=-1,N=N.right}else if(U>0)N=N.left;else{if(!(U<0))return 0;Y=1,N=N.right}}return Y});return 0===h.length?O:function(P,R){return function(j){return P(j[0],j[1])?0:R(j)}}(u(h),O)};var i=t(417)[3],n=t(4385),r=t(9014),o=t(5070);function l(){return!0}function u(c){for(var x={},g=0;g<c.length;++g){var h=c[g],m=h[0][0],y=h[0][1],v=h[1][1],_=[Math.min(y,v),Math.max(y,v)];m in x?x[m].push(_):x[m]=[_]}var E,f={},S=Object.keys(x);for(g=0;g<S.length;++g){var w=x[S[g]];f[S[g]]=r(w)}return E=f,function(C,O){var P=E[C];return!!P&&!!P.queryPoint(O,l)}}function d(c){return 1}},7309:function(p){"use strict";var s=new Float64Array(4),t=new Float64Array(4),i=new Float64Array(4);p.exports=function(n,r,o,l,u){s.length<l.length&&(s=new Float64Array(l.length),t=new Float64Array(l.length),i=new Float64Array(l.length));for(var d=0;d<l.length;++d)s[d]=n[d]-l[d],t[d]=r[d]-n[d],i[d]=o[d]-n[d];var c=0,x=0,g=0,h=0,m=0,y=0;for(d=0;d<l.length;++d){var v=t[d],_=i[d],f=s[d];c+=v*v,x+=v*_,g+=_*_,h+=f*v,m+=f*_,y+=f*f}var S,w,E,C,O,P=Math.abs(c*g-x*x),R=x*m-g*h,j=x*h-c*m;if(R+j<=P)if(R<0)j<0&&h<0?(j=0,-h>=c?(R=1,S=c+2*h+y):S=h*(R=-h/c)+y):(R=0,m>=0?(j=0,S=y):-m>=g?(j=1,S=g+2*m+y):S=m*(j=-m/g)+y);else if(j<0)j=0,h>=0?(R=0,S=y):-h>=c?(R=1,S=c+2*h+y):S=h*(R=-h/c)+y;else{var z=1/P;S=(R*=z)*(c*R+x*(j*=z)+2*h)+j*(x*R+g*j+2*m)+y}else R<0?(E=g+m)>(w=x+h)?(C=E-w)>=(O=c-2*x+g)?(R=1,j=0,S=c+2*h+y):S=(R=C/O)*(c*R+x*(j=1-R)+2*h)+j*(x*R+g*j+2*m)+y:(R=0,E<=0?(j=1,S=g+2*m+y):m>=0?(j=0,S=y):S=m*(j=-m/g)+y):j<0?(E=c+h)>(w=x+m)?(C=E-w)>=(O=c-2*x+g)?(j=1,R=0,S=g+2*m+y):S=(R=1-(j=C/O))*(c*R+x*j+2*h)+j*(x*R+g*j+2*m)+y:(j=0,E<=0?(R=1,S=c+2*h+y):h>=0?(R=0,S=y):S=h*(R=-h/c)+y):(C=g+m-x-h)<=0?(R=0,j=1,S=g+2*m+y):C>=(O=c-2*x+g)?(R=1,j=0,S=c+2*h+y):S=(R=C/O)*(c*R+x*(j=1-R)+2*h)+j*(x*R+g*j+2*m)+y;var N=1-R-j;for(d=0;d<l.length;++d)u[d]=N*n[d]+R*r[d]+j*o[d];return S<0?0:S}},1116:function(p,s,t){p.exports=t(6093)},7584:function(p,s,t){"use strict";var i=t(1539);p.exports=function(n,r){for(var o=n.length,l=new Array(o),u=0;u<o;++u)l[u]=i(n[u],r[u]);return l}},2826:function(p,s,t){"use strict";p.exports=function(n){for(var r=new Array(n.length),o=0;o<n.length;++o)r[o]=i(n[o]);return r};var i=t(5125)},4469:function(p,s,t){"use strict";var i=t(5125),n=t(3962);p.exports=function(r,o){for(var l=i(o),u=r.length,d=new Array(u),c=0;c<u;++c)d[c]=n(r[c],l);return d}},6695:function(p,s,t){"use strict";var i=t(4354);p.exports=function(n,r){for(var o=n.length,l=new Array(o),u=0;u<o;++u)l[u]=i(n[u],r[u]);return l}},7037:function(p,s,t){"use strict";var i=t(9209),n=t(1284),r=t(9887);p.exports=function(o){o.sort(n);for(var l=o.length,u=0,d=0;d<l;++d){var c=o[d],x=r(c);if(0!==x){if(u>0){var g=o[u-1];if(0===i(c,g)&&r(g)!==x){u-=1;continue}}o[u++]=c}}return o.length=u,o}},6184:function(p){"use strict";var s,t="";p.exports=function(i,n){if("string"!=typeof i)throw new TypeError("expected a string");if(1===n)return i;if(2===n)return i+i;var r=i.length*n;if(s!==i||void 0===s)s=i,t="";else if(t.length>=r)return t.substr(0,r);for(;r>t.length&&n>1;)1&n&&(t+=i),n>>=1,i+=i;return t=(t+=i).substr(0,r)}},8161:function(p,s,t){p.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(p){"use strict";p.exports=function(s){for(var t=s.length,i=s[s.length-1],n=t,r=t-2;r>=0;--r){var o=i;(d=(u=s[r])-((i=o+u)-o))&&(s[--n]=i,i=d)}var l=0;for(r=n;r<t;++r){var u,d;(d=(u=i)-((i=(o=s[r])+u)-o))&&(s[l++]=d)}return s[l++]=i,s.length=l,s}},8167:function(p,s,t){"use strict";var i=t(9660),n=t(9662),r=t(8289),o=t(402);function l(m,y,v,_){return function(f){return _(m(v(f[0][0],f[1][1]),v(-f[0][1],f[1][0])))}}function u(m,y,v,_){return function(f){return _(m(y(m(v(f[1][1],f[2][2]),v(-f[1][2],f[2][1])),f[0][0]),m(y(m(v(f[1][0],f[2][2]),v(-f[1][2],f[2][0])),-f[0][1]),y(m(v(f[1][0],f[2][1]),v(-f[1][1],f[2][0])),f[0][2]))))}}function d(m,y,v,_){return function(f){return _(m(m(y(m(y(m(v(f[2][2],f[3][3]),v(-f[2][3],f[3][2])),f[1][1]),m(y(m(v(f[2][1],f[3][3]),v(-f[2][3],f[3][1])),-f[1][2]),y(m(v(f[2][1],f[3][2]),v(-f[2][2],f[3][1])),f[1][3]))),f[0][0]),y(m(y(m(v(f[2][2],f[3][3]),v(-f[2][3],f[3][2])),f[1][0]),m(y(m(v(f[2][0],f[3][3]),v(-f[2][3],f[3][0])),-f[1][2]),y(m(v(f[2][0],f[3][2]),v(-f[2][2],f[3][0])),f[1][3]))),-f[0][1])),m(y(m(y(m(v(f[2][1],f[3][3]),v(-f[2][3],f[3][1])),f[1][0]),m(y(m(v(f[2][0],f[3][3]),v(-f[2][3],f[3][0])),-f[1][1]),y(m(v(f[2][0],f[3][1]),v(-f[2][1],f[3][0])),f[1][3]))),f[0][2]),y(m(y(m(v(f[2][1],f[3][2]),v(-f[2][2],f[3][1])),f[1][0]),m(y(m(v(f[2][0],f[3][2]),v(-f[2][2],f[3][0])),-f[1][1]),y(m(v(f[2][0],f[3][1]),v(-f[2][1],f[3][0])),f[1][2]))),-f[0][3]))))}}function c(m,y,v,_){return function(f){return _(m(m(y(m(m(y(m(y(m(v(f[3][3],f[4][4]),v(-f[3][4],f[4][3])),f[2][2]),m(y(m(v(f[3][2],f[4][4]),v(-f[3][4],f[4][2])),-f[2][3]),y(m(v(f[3][2],f[4][3]),v(-f[3][3],f[4][2])),f[2][4]))),f[1][1]),y(m(y(m(v(f[3][3],f[4][4]),v(-f[3][4],f[4][3])),f[2][1]),m(y(m(v(f[3][1],f[4][4]),v(-f[3][4],f[4][1])),-f[2][3]),y(m(v(f[3][1],f[4][3]),v(-f[3][3],f[4][1])),f[2][4]))),-f[1][2])),m(y(m(y(m(v(f[3][2],f[4][4]),v(-f[3][4],f[4][2])),f[2][1]),m(y(m(v(f[3][1],f[4][4]),v(-f[3][4],f[4][1])),-f[2][2]),y(m(v(f[3][1],f[4][2]),v(-f[3][2],f[4][1])),f[2][4]))),f[1][3]),y(m(y(m(v(f[3][2],f[4][3]),v(-f[3][3],f[4][2])),f[2][1]),m(y(m(v(f[3][1],f[4][3]),v(-f[3][3],f[4][1])),-f[2][2]),y(m(v(f[3][1],f[4][2]),v(-f[3][2],f[4][1])),f[2][3]))),-f[1][4]))),f[0][0]),y(m(m(y(m(y(m(v(f[3][3],f[4][4]),v(-f[3][4],f[4][3])),f[2][2]),m(y(m(v(f[3][2],f[4][4]),v(-f[3][4],f[4][2])),-f[2][3]),y(m(v(f[3][2],f[4][3]),v(-f[3][3],f[4][2])),f[2][4]))),f[1][0]),y(m(y(m(v(f[3][3],f[4][4]),v(-f[3][4],f[4][3])),f[2][0]),m(y(m(v(f[3][0],f[4][4]),v(-f[3][4],f[4][0])),-f[2][3]),y(m(v(f[3][0],f[4][3]),v(-f[3][3],f[4][0])),f[2][4]))),-f[1][2])),m(y(m(y(m(v(f[3][2],f[4][4]),v(-f[3][4],f[4][2])),f[2][0]),m(y(m(v(f[3][0],f[4][4]),v(-f[3][4],f[4][0])),-f[2][2]),y(m(v(f[3][0],f[4][2]),v(-f[3][2],f[4][0])),f[2][4]))),f[1][3]),y(m(y(m(v(f[3][2],f[4][3]),v(-f[3][3],f[4][2])),f[2][0]),m(y(m(v(f[3][0],f[4][3]),v(-f[3][3],f[4][0])),-f[2][2]),y(m(v(f[3][0],f[4][2]),v(-f[3][2],f[4][0])),f[2][3]))),-f[1][4]))),-f[0][1])),m(y(m(m(y(m(y(m(v(f[3][3],f[4][4]),v(-f[3][4],f[4][3])),f[2][1]),m(y(m(v(f[3][1],f[4][4]),v(-f[3][4],f[4][1])),-f[2][3]),y(m(v(f[3][1],f[4][3]),v(-f[3][3],f[4][1])),f[2][4]))),f[1][0]),y(m(y(m(v(f[3][3],f[4][4]),v(-f[3][4],f[4][3])),f[2][0]),m(y(m(v(f[3][0],f[4][4]),v(-f[3][4],f[4][0])),-f[2][3]),y(m(v(f[3][0],f[4][3]),v(-f[3][3],f[4][0])),f[2][4]))),-f[1][1])),m(y(m(y(m(v(f[3][1],f[4][4]),v(-f[3][4],f[4][1])),f[2][0]),m(y(m(v(f[3][0],f[4][4]),v(-f[3][4],f[4][0])),-f[2][1]),y(m(v(f[3][0],f[4][1]),v(-f[3][1],f[4][0])),f[2][4]))),f[1][3]),y(m(y(m(v(f[3][1],f[4][3]),v(-f[3][3],f[4][1])),f[2][0]),m(y(m(v(f[3][0],f[4][3]),v(-f[3][3],f[4][0])),-f[2][1]),y(m(v(f[3][0],f[4][1]),v(-f[3][1],f[4][0])),f[2][3]))),-f[1][4]))),f[0][2]),m(y(m(m(y(m(y(m(v(f[3][2],f[4][4]),v(-f[3][4],f[4][2])),f[2][1]),m(y(m(v(f[3][1],f[4][4]),v(-f[3][4],f[4][1])),-f[2][2]),y(m(v(f[3][1],f[4][2]),v(-f[3][2],f[4][1])),f[2][4]))),f[1][0]),y(m(y(m(v(f[3][2],f[4][4]),v(-f[3][4],f[4][2])),f[2][0]),m(y(m(v(f[3][0],f[4][4]),v(-f[3][4],f[4][0])),-f[2][2]),y(m(v(f[3][0],f[4][2]),v(-f[3][2],f[4][0])),f[2][4]))),-f[1][1])),m(y(m(y(m(v(f[3][1],f[4][4]),v(-f[3][4],f[4][1])),f[2][0]),m(y(m(v(f[3][0],f[4][4]),v(-f[3][4],f[4][0])),-f[2][1]),y(m(v(f[3][0],f[4][1]),v(-f[3][1],f[4][0])),f[2][4]))),f[1][2]),y(m(y(m(v(f[3][1],f[4][2]),v(-f[3][2],f[4][1])),f[2][0]),m(y(m(v(f[3][0],f[4][2]),v(-f[3][2],f[4][0])),-f[2][1]),y(m(v(f[3][0],f[4][1]),v(-f[3][1],f[4][0])),f[2][2]))),-f[1][4]))),-f[0][3]),y(m(m(y(m(y(m(v(f[3][2],f[4][3]),v(-f[3][3],f[4][2])),f[2][1]),m(y(m(v(f[3][1],f[4][3]),v(-f[3][3],f[4][1])),-f[2][2]),y(m(v(f[3][1],f[4][2]),v(-f[3][2],f[4][1])),f[2][3]))),f[1][0]),y(m(y(m(v(f[3][2],f[4][3]),v(-f[3][3],f[4][2])),f[2][0]),m(y(m(v(f[3][0],f[4][3]),v(-f[3][3],f[4][0])),-f[2][2]),y(m(v(f[3][0],f[4][2]),v(-f[3][2],f[4][0])),f[2][3]))),-f[1][1])),m(y(m(y(m(v(f[3][1],f[4][3]),v(-f[3][3],f[4][1])),f[2][0]),m(y(m(v(f[3][0],f[4][3]),v(-f[3][3],f[4][0])),-f[2][1]),y(m(v(f[3][0],f[4][1]),v(-f[3][1],f[4][0])),f[2][3]))),f[1][2]),y(m(y(m(v(f[3][1],f[4][2]),v(-f[3][2],f[4][1])),f[2][0]),m(y(m(v(f[3][0],f[4][2]),v(-f[3][2],f[4][0])),-f[2][1]),y(m(v(f[3][0],f[4][1]),v(-f[3][1],f[4][0])),f[2][2]))),-f[1][3]))),f[0][4])))))}}function x(m){return(2===m?l:3===m?u:4===m?d:5===m?c:void 0)(n,r,i,o)}var g=[function(){return[0]},function(m){return[m[0][0]]}];function h(m,y,v,_,f,S,w,E){return function(C){switch(C.length){case 0:return m(C);case 1:return y(C);case 2:return v(C);case 3:return _(C);case 4:return f(C);case 5:return S(C)}var O=w[C.length];return O||(O=w[C.length]=E(C.length)),O(C)}}!function(){for(;g.length<6;)g.push(x(g.length));p.exports=h.apply(void 0,g.concat([g,x]));for(var m=0;m<g.length;++m)p.exports[m]=g[m]}()},9130:function(p,s,t){"use strict";var i=t(9660),n=t(9662);p.exports=function(r,o){for(var l=i(r[0],o[0]),u=1;u<r.length;++u)l=n(l,i(r[u],o[u]));return l}},2227:function(p,s,t){"use strict";var i=t(9660),n=t(9662),r=t(4078),o=t(8289);function l(y){return(3===y?u:4===y?d:5===y?c:x)(n,r,i,o)}function u(y,v,_,f){return function(S,w,E){var C=_(S[0],S[0]),O=f(C,w[0]),P=f(C,E[0]),R=_(w[0],w[0]),j=f(R,S[0]),z=f(R,E[0]),N=_(E[0],E[0]),Y=f(N,S[0]),F=f(N,w[0]),U=y(v(F,z),v(j,O)),V=v(Y,P),te=v(U,V);return te[te.length-1]}}function d(y,v,_,f){return function(S,w,E,C){var O=y(_(S[0],S[0]),_(S[1],S[1])),P=f(O,w[0]),R=f(O,E[0]),j=f(O,C[0]),z=y(_(w[0],w[0]),_(w[1],w[1])),N=f(z,S[0]),Y=f(z,E[0]),F=f(z,C[0]),U=y(_(E[0],E[0]),_(E[1],E[1])),V=f(U,S[0]),te=f(U,w[0]),$=f(U,C[0]),X=y(_(C[0],C[0]),_(C[1],C[1])),W=f(X,S[0]),J=f(X,w[0]),Q=f(X,E[0]),re=y(y(f(v(Q,$),w[1]),y(f(v(J,F),-E[1]),f(v(te,Y),C[1]))),y(f(v(J,F),S[1]),y(f(v(W,j),-w[1]),f(v(N,P),C[1])))),ae=y(y(f(v(Q,$),S[1]),y(f(v(W,j),-E[1]),f(v(V,R),C[1]))),y(f(v(te,Y),S[1]),y(f(v(V,R),-w[1]),f(v(N,P),E[1])))),oe=v(re,ae);return oe[oe.length-1]}}function c(y,v,_,f){return function(S,w,E,C,O){var P=y(_(S[0],S[0]),y(_(S[1],S[1]),_(S[2],S[2]))),R=f(P,w[0]),j=f(P,E[0]),z=f(P,C[0]),N=f(P,O[0]),Y=y(_(w[0],w[0]),y(_(w[1],w[1]),_(w[2],w[2]))),F=f(Y,S[0]),U=f(Y,E[0]),V=f(Y,C[0]),te=f(Y,O[0]),$=y(_(E[0],E[0]),y(_(E[1],E[1]),_(E[2],E[2]))),X=f($,S[0]),W=f($,w[0]),J=f($,C[0]),Q=f($,O[0]),re=y(_(C[0],C[0]),y(_(C[1],C[1]),_(C[2],C[2]))),ae=f(re,S[0]),oe=f(re,w[0]),ue=f(re,E[0]),ve=f(re,O[0]),be=y(_(O[0],O[0]),y(_(O[1],O[1]),_(O[2],O[2]))),de=f(be,S[0]),pe=f(be,w[0]),ge=f(be,E[0]),Ae=f(be,C[0]),ye=y(y(y(f(y(f(v(Ae,ve),E[1]),y(f(v(ge,Q),-C[1]),f(v(ue,J),O[1]))),w[2]),y(f(y(f(v(Ae,ve),w[1]),y(f(v(pe,te),-C[1]),f(v(oe,V),O[1]))),-E[2]),f(y(f(v(ge,Q),w[1]),y(f(v(pe,te),-E[1]),f(v(W,U),O[1]))),C[2]))),y(f(y(f(v(ue,J),w[1]),y(f(v(oe,V),-E[1]),f(v(W,U),C[1]))),-O[2]),y(f(y(f(v(Ae,ve),w[1]),y(f(v(pe,te),-C[1]),f(v(oe,V),O[1]))),S[2]),f(y(f(v(Ae,ve),S[1]),y(f(v(de,N),-C[1]),f(v(ae,z),O[1]))),-w[2])))),y(y(f(y(f(v(pe,te),S[1]),y(f(v(de,N),-w[1]),f(v(F,R),O[1]))),C[2]),y(f(y(f(v(oe,V),S[1]),y(f(v(ae,z),-w[1]),f(v(F,R),C[1]))),-O[2]),f(y(f(v(ue,J),w[1]),y(f(v(oe,V),-E[1]),f(v(W,U),C[1]))),S[2]))),y(f(y(f(v(ue,J),S[1]),y(f(v(ae,z),-E[1]),f(v(X,j),C[1]))),-w[2]),y(f(y(f(v(oe,V),S[1]),y(f(v(ae,z),-w[1]),f(v(F,R),C[1]))),E[2]),f(y(f(v(W,U),S[1]),y(f(v(X,j),-w[1]),f(v(F,R),E[1]))),-C[2]))))),we=y(y(y(f(y(f(v(Ae,ve),E[1]),y(f(v(ge,Q),-C[1]),f(v(ue,J),O[1]))),S[2]),f(y(f(v(Ae,ve),S[1]),y(f(v(de,N),-C[1]),f(v(ae,z),O[1]))),-E[2])),y(f(y(f(v(ge,Q),S[1]),y(f(v(de,N),-E[1]),f(v(X,j),O[1]))),C[2]),f(y(f(v(ue,J),S[1]),y(f(v(ae,z),-E[1]),f(v(X,j),C[1]))),-O[2]))),y(y(f(y(f(v(ge,Q),w[1]),y(f(v(pe,te),-E[1]),f(v(W,U),O[1]))),S[2]),f(y(f(v(ge,Q),S[1]),y(f(v(de,N),-E[1]),f(v(X,j),O[1]))),-w[2])),y(f(y(f(v(pe,te),S[1]),y(f(v(de,N),-w[1]),f(v(F,R),O[1]))),E[2]),f(y(f(v(W,U),S[1]),y(f(v(X,j),-w[1]),f(v(F,R),E[1]))),-O[2])))),se=v(ye,we);return se[se.length-1]}}function x(y,v,_,f){return function(S,w,E,C,O,P){var R=y(y(_(S[0],S[0]),_(S[1],S[1])),y(_(S[2],S[2]),_(S[3],S[3]))),j=f(R,w[0]),z=f(R,E[0]),N=f(R,C[0]),Y=f(R,O[0]),F=f(R,P[0]),U=y(y(_(w[0],w[0]),_(w[1],w[1])),y(_(w[2],w[2]),_(w[3],w[3]))),V=f(U,S[0]),te=f(U,E[0]),$=f(U,C[0]),X=f(U,O[0]),W=f(U,P[0]),J=y(y(_(E[0],E[0]),_(E[1],E[1])),y(_(E[2],E[2]),_(E[3],E[3]))),Q=f(J,S[0]),re=f(J,w[0]),ae=f(J,C[0]),oe=f(J,O[0]),ue=f(J,P[0]),ve=y(y(_(C[0],C[0]),_(C[1],C[1])),y(_(C[2],C[2]),_(C[3],C[3]))),be=f(ve,S[0]),de=f(ve,w[0]),pe=f(ve,E[0]),ge=f(ve,O[0]),Ae=f(ve,P[0]),ye=y(y(_(O[0],O[0]),_(O[1],O[1])),y(_(O[2],O[2]),_(O[3],O[3]))),we=f(ye,S[0]),se=f(ye,w[0]),ie=f(ye,E[0]),he=f(ye,C[0]),Se=f(ye,P[0]),_e=y(y(_(P[0],P[0]),_(P[1],P[1])),y(_(P[2],P[2]),_(P[3],P[3]))),Me=f(_e,S[0]),Ee=f(_e,w[0]),Ie=f(_e,E[0]),fe=f(_e,C[0]),xe=f(_e,O[0]),Te=y(y(y(f(y(y(f(y(f(v(xe,Se),C[1]),y(f(v(fe,Ae),-O[1]),f(v(he,ge),P[1]))),E[2]),f(y(f(v(xe,Se),E[1]),y(f(v(Ie,ue),-O[1]),f(v(ie,oe),P[1]))),-C[2])),y(f(y(f(v(fe,Ae),E[1]),y(f(v(Ie,ue),-C[1]),f(v(pe,ae),P[1]))),O[2]),f(y(f(v(he,ge),E[1]),y(f(v(ie,oe),-C[1]),f(v(pe,ae),O[1]))),-P[2]))),w[3]),y(f(y(y(f(y(f(v(xe,Se),C[1]),y(f(v(fe,Ae),-O[1]),f(v(he,ge),P[1]))),w[2]),f(y(f(v(xe,Se),w[1]),y(f(v(Ee,W),-O[1]),f(v(se,X),P[1]))),-C[2])),y(f(y(f(v(fe,Ae),w[1]),y(f(v(Ee,W),-C[1]),f(v(de,$),P[1]))),O[2]),f(y(f(v(he,ge),w[1]),y(f(v(se,X),-C[1]),f(v(de,$),O[1]))),-P[2]))),-E[3]),f(y(y(f(y(f(v(xe,Se),E[1]),y(f(v(Ie,ue),-O[1]),f(v(ie,oe),P[1]))),w[2]),f(y(f(v(xe,Se),w[1]),y(f(v(Ee,W),-O[1]),f(v(se,X),P[1]))),-E[2])),y(f(y(f(v(Ie,ue),w[1]),y(f(v(Ee,W),-E[1]),f(v(re,te),P[1]))),O[2]),f(y(f(v(ie,oe),w[1]),y(f(v(se,X),-E[1]),f(v(re,te),O[1]))),-P[2]))),C[3]))),y(y(f(y(y(f(y(f(v(fe,Ae),E[1]),y(f(v(Ie,ue),-C[1]),f(v(pe,ae),P[1]))),w[2]),f(y(f(v(fe,Ae),w[1]),y(f(v(Ee,W),-C[1]),f(v(de,$),P[1]))),-E[2])),y(f(y(f(v(Ie,ue),w[1]),y(f(v(Ee,W),-E[1]),f(v(re,te),P[1]))),C[2]),f(y(f(v(pe,ae),w[1]),y(f(v(de,$),-E[1]),f(v(re,te),C[1]))),-P[2]))),-O[3]),f(y(y(f(y(f(v(he,ge),E[1]),y(f(v(ie,oe),-C[1]),f(v(pe,ae),O[1]))),w[2]),f(y(f(v(he,ge),w[1]),y(f(v(se,X),-C[1]),f(v(de,$),O[1]))),-E[2])),y(f(y(f(v(ie,oe),w[1]),y(f(v(se,X),-E[1]),f(v(re,te),O[1]))),C[2]),f(y(f(v(pe,ae),w[1]),y(f(v(de,$),-E[1]),f(v(re,te),C[1]))),-O[2]))),P[3])),y(f(y(y(f(y(f(v(xe,Se),C[1]),y(f(v(fe,Ae),-O[1]),f(v(he,ge),P[1]))),w[2]),f(y(f(v(xe,Se),w[1]),y(f(v(Ee,W),-O[1]),f(v(se,X),P[1]))),-C[2])),y(f(y(f(v(fe,Ae),w[1]),y(f(v(Ee,W),-C[1]),f(v(de,$),P[1]))),O[2]),f(y(f(v(he,ge),w[1]),y(f(v(se,X),-C[1]),f(v(de,$),O[1]))),-P[2]))),S[3]),f(y(y(f(y(f(v(xe,Se),C[1]),y(f(v(fe,Ae),-O[1]),f(v(he,ge),P[1]))),S[2]),f(y(f(v(xe,Se),S[1]),y(f(v(Me,F),-O[1]),f(v(we,Y),P[1]))),-C[2])),y(f(y(f(v(fe,Ae),S[1]),y(f(v(Me,F),-C[1]),f(v(be,N),P[1]))),O[2]),f(y(f(v(he,ge),S[1]),y(f(v(we,Y),-C[1]),f(v(be,N),O[1]))),-P[2]))),-w[3])))),y(y(y(f(y(y(f(y(f(v(xe,Se),w[1]),y(f(v(Ee,W),-O[1]),f(v(se,X),P[1]))),S[2]),f(y(f(v(xe,Se),S[1]),y(f(v(Me,F),-O[1]),f(v(we,Y),P[1]))),-w[2])),y(f(y(f(v(Ee,W),S[1]),y(f(v(Me,F),-w[1]),f(v(V,j),P[1]))),O[2]),f(y(f(v(se,X),S[1]),y(f(v(we,Y),-w[1]),f(v(V,j),O[1]))),-P[2]))),C[3]),f(y(y(f(y(f(v(fe,Ae),w[1]),y(f(v(Ee,W),-C[1]),f(v(de,$),P[1]))),S[2]),f(y(f(v(fe,Ae),S[1]),y(f(v(Me,F),-C[1]),f(v(be,N),P[1]))),-w[2])),y(f(y(f(v(Ee,W),S[1]),y(f(v(Me,F),-w[1]),f(v(V,j),P[1]))),C[2]),f(y(f(v(de,$),S[1]),y(f(v(be,N),-w[1]),f(v(V,j),C[1]))),-P[2]))),-O[3])),y(f(y(y(f(y(f(v(he,ge),w[1]),y(f(v(se,X),-C[1]),f(v(de,$),O[1]))),S[2]),f(y(f(v(he,ge),S[1]),y(f(v(we,Y),-C[1]),f(v(be,N),O[1]))),-w[2])),y(f(y(f(v(se,X),S[1]),y(f(v(we,Y),-w[1]),f(v(V,j),O[1]))),C[2]),f(y(f(v(de,$),S[1]),y(f(v(be,N),-w[1]),f(v(V,j),C[1]))),-O[2]))),P[3]),f(y(y(f(y(f(v(fe,Ae),E[1]),y(f(v(Ie,ue),-C[1]),f(v(pe,ae),P[1]))),w[2]),f(y(f(v(fe,Ae),w[1]),y(f(v(Ee,W),-C[1]),f(v(de,$),P[1]))),-E[2])),y(f(y(f(v(Ie,ue),w[1]),y(f(v(Ee,W),-E[1]),f(v(re,te),P[1]))),C[2]),f(y(f(v(pe,ae),w[1]),y(f(v(de,$),-E[1]),f(v(re,te),C[1]))),-P[2]))),S[3]))),y(y(f(y(y(f(y(f(v(fe,Ae),E[1]),y(f(v(Ie,ue),-C[1]),f(v(pe,ae),P[1]))),S[2]),f(y(f(v(fe,Ae),S[1]),y(f(v(Me,F),-C[1]),f(v(be,N),P[1]))),-E[2])),y(f(y(f(v(Ie,ue),S[1]),y(f(v(Me,F),-E[1]),f(v(Q,z),P[1]))),C[2]),f(y(f(v(pe,ae),S[1]),y(f(v(be,N),-E[1]),f(v(Q,z),C[1]))),-P[2]))),-w[3]),f(y(y(f(y(f(v(fe,Ae),w[1]),y(f(v(Ee,W),-C[1]),f(v(de,$),P[1]))),S[2]),f(y(f(v(fe,Ae),S[1]),y(f(v(Me,F),-C[1]),f(v(be,N),P[1]))),-w[2])),y(f(y(f(v(Ee,W),S[1]),y(f(v(Me,F),-w[1]),f(v(V,j),P[1]))),C[2]),f(y(f(v(de,$),S[1]),y(f(v(be,N),-w[1]),f(v(V,j),C[1]))),-P[2]))),E[3])),y(f(y(y(f(y(f(v(Ie,ue),w[1]),y(f(v(Ee,W),-E[1]),f(v(re,te),P[1]))),S[2]),f(y(f(v(Ie,ue),S[1]),y(f(v(Me,F),-E[1]),f(v(Q,z),P[1]))),-w[2])),y(f(y(f(v(Ee,W),S[1]),y(f(v(Me,F),-w[1]),f(v(V,j),P[1]))),E[2]),f(y(f(v(re,te),S[1]),y(f(v(Q,z),-w[1]),f(v(V,j),E[1]))),-P[2]))),-C[3]),f(y(y(f(y(f(v(pe,ae),w[1]),y(f(v(de,$),-E[1]),f(v(re,te),C[1]))),S[2]),f(y(f(v(pe,ae),S[1]),y(f(v(be,N),-E[1]),f(v(Q,z),C[1]))),-w[2])),y(f(y(f(v(de,$),S[1]),y(f(v(be,N),-w[1]),f(v(V,j),C[1]))),E[2]),f(y(f(v(re,te),S[1]),y(f(v(Q,z),-w[1]),f(v(V,j),E[1]))),-C[2]))),P[3]))))),Ce=y(y(y(f(y(y(f(y(f(v(xe,Se),C[1]),y(f(v(fe,Ae),-O[1]),f(v(he,ge),P[1]))),E[2]),f(y(f(v(xe,Se),E[1]),y(f(v(Ie,ue),-O[1]),f(v(ie,oe),P[1]))),-C[2])),y(f(y(f(v(fe,Ae),E[1]),y(f(v(Ie,ue),-C[1]),f(v(pe,ae),P[1]))),O[2]),f(y(f(v(he,ge),E[1]),y(f(v(ie,oe),-C[1]),f(v(pe,ae),O[1]))),-P[2]))),S[3]),y(f(y(y(f(y(f(v(xe,Se),C[1]),y(f(v(fe,Ae),-O[1]),f(v(he,ge),P[1]))),S[2]),f(y(f(v(xe,Se),S[1]),y(f(v(Me,F),-O[1]),f(v(we,Y),P[1]))),-C[2])),y(f(y(f(v(fe,Ae),S[1]),y(f(v(Me,F),-C[1]),f(v(be,N),P[1]))),O[2]),f(y(f(v(he,ge),S[1]),y(f(v(we,Y),-C[1]),f(v(be,N),O[1]))),-P[2]))),-E[3]),f(y(y(f(y(f(v(xe,Se),E[1]),y(f(v(Ie,ue),-O[1]),f(v(ie,oe),P[1]))),S[2]),f(y(f(v(xe,Se),S[1]),y(f(v(Me,F),-O[1]),f(v(we,Y),P[1]))),-E[2])),y(f(y(f(v(Ie,ue),S[1]),y(f(v(Me,F),-E[1]),f(v(Q,z),P[1]))),O[2]),f(y(f(v(ie,oe),S[1]),y(f(v(we,Y),-E[1]),f(v(Q,z),O[1]))),-P[2]))),C[3]))),y(y(f(y(y(f(y(f(v(fe,Ae),E[1]),y(f(v(Ie,ue),-C[1]),f(v(pe,ae),P[1]))),S[2]),f(y(f(v(fe,Ae),S[1]),y(f(v(Me,F),-C[1]),f(v(be,N),P[1]))),-E[2])),y(f(y(f(v(Ie,ue),S[1]),y(f(v(Me,F),-E[1]),f(v(Q,z),P[1]))),C[2]),f(y(f(v(pe,ae),S[1]),y(f(v(be,N),-E[1]),f(v(Q,z),C[1]))),-P[2]))),-O[3]),f(y(y(f(y(f(v(he,ge),E[1]),y(f(v(ie,oe),-C[1]),f(v(pe,ae),O[1]))),S[2]),f(y(f(v(he,ge),S[1]),y(f(v(we,Y),-C[1]),f(v(be,N),O[1]))),-E[2])),y(f(y(f(v(ie,oe),S[1]),y(f(v(we,Y),-E[1]),f(v(Q,z),O[1]))),C[2]),f(y(f(v(pe,ae),S[1]),y(f(v(be,N),-E[1]),f(v(Q,z),C[1]))),-O[2]))),P[3])),y(f(y(y(f(y(f(v(xe,Se),E[1]),y(f(v(Ie,ue),-O[1]),f(v(ie,oe),P[1]))),w[2]),f(y(f(v(xe,Se),w[1]),y(f(v(Ee,W),-O[1]),f(v(se,X),P[1]))),-E[2])),y(f(y(f(v(Ie,ue),w[1]),y(f(v(Ee,W),-E[1]),f(v(re,te),P[1]))),O[2]),f(y(f(v(ie,oe),w[1]),y(f(v(se,X),-E[1]),f(v(re,te),O[1]))),-P[2]))),S[3]),f(y(y(f(y(f(v(xe,Se),E[1]),y(f(v(Ie,ue),-O[1]),f(v(ie,oe),P[1]))),S[2]),f(y(f(v(xe,Se),S[1]),y(f(v(Me,F),-O[1]),f(v(we,Y),P[1]))),-E[2])),y(f(y(f(v(Ie,ue),S[1]),y(f(v(Me,F),-E[1]),f(v(Q,z),P[1]))),O[2]),f(y(f(v(ie,oe),S[1]),y(f(v(we,Y),-E[1]),f(v(Q,z),O[1]))),-P[2]))),-w[3])))),y(y(y(f(y(y(f(y(f(v(xe,Se),w[1]),y(f(v(Ee,W),-O[1]),f(v(se,X),P[1]))),S[2]),f(y(f(v(xe,Se),S[1]),y(f(v(Me,F),-O[1]),f(v(we,Y),P[1]))),-w[2])),y(f(y(f(v(Ee,W),S[1]),y(f(v(Me,F),-w[1]),f(v(V,j),P[1]))),O[2]),f(y(f(v(se,X),S[1]),y(f(v(we,Y),-w[1]),f(v(V,j),O[1]))),-P[2]))),E[3]),f(y(y(f(y(f(v(Ie,ue),w[1]),y(f(v(Ee,W),-E[1]),f(v(re,te),P[1]))),S[2]),f(y(f(v(Ie,ue),S[1]),y(f(v(Me,F),-E[1]),f(v(Q,z),P[1]))),-w[2])),y(f(y(f(v(Ee,W),S[1]),y(f(v(Me,F),-w[1]),f(v(V,j),P[1]))),E[2]),f(y(f(v(re,te),S[1]),y(f(v(Q,z),-w[1]),f(v(V,j),E[1]))),-P[2]))),-O[3])),y(f(y(y(f(y(f(v(ie,oe),w[1]),y(f(v(se,X),-E[1]),f(v(re,te),O[1]))),S[2]),f(y(f(v(ie,oe),S[1]),y(f(v(we,Y),-E[1]),f(v(Q,z),O[1]))),-w[2])),y(f(y(f(v(se,X),S[1]),y(f(v(we,Y),-w[1]),f(v(V,j),O[1]))),E[2]),f(y(f(v(re,te),S[1]),y(f(v(Q,z),-w[1]),f(v(V,j),E[1]))),-O[2]))),P[3]),f(y(y(f(y(f(v(he,ge),E[1]),y(f(v(ie,oe),-C[1]),f(v(pe,ae),O[1]))),w[2]),f(y(f(v(he,ge),w[1]),y(f(v(se,X),-C[1]),f(v(de,$),O[1]))),-E[2])),y(f(y(f(v(ie,oe),w[1]),y(f(v(se,X),-E[1]),f(v(re,te),O[1]))),C[2]),f(y(f(v(pe,ae),w[1]),y(f(v(de,$),-E[1]),f(v(re,te),C[1]))),-O[2]))),S[3]))),y(y(f(y(y(f(y(f(v(he,ge),E[1]),y(f(v(ie,oe),-C[1]),f(v(pe,ae),O[1]))),S[2]),f(y(f(v(he,ge),S[1]),y(f(v(we,Y),-C[1]),f(v(be,N),O[1]))),-E[2])),y(f(y(f(v(ie,oe),S[1]),y(f(v(we,Y),-E[1]),f(v(Q,z),O[1]))),C[2]),f(y(f(v(pe,ae),S[1]),y(f(v(be,N),-E[1]),f(v(Q,z),C[1]))),-O[2]))),-w[3]),f(y(y(f(y(f(v(he,ge),w[1]),y(f(v(se,X),-C[1]),f(v(de,$),O[1]))),S[2]),f(y(f(v(he,ge),S[1]),y(f(v(we,Y),-C[1]),f(v(be,N),O[1]))),-w[2])),y(f(y(f(v(se,X),S[1]),y(f(v(we,Y),-w[1]),f(v(V,j),O[1]))),C[2]),f(y(f(v(de,$),S[1]),y(f(v(be,N),-w[1]),f(v(V,j),C[1]))),-O[2]))),E[3])),y(f(y(y(f(y(f(v(ie,oe),w[1]),y(f(v(se,X),-E[1]),f(v(re,te),O[1]))),S[2]),f(y(f(v(ie,oe),S[1]),y(f(v(we,Y),-E[1]),f(v(Q,z),O[1]))),-w[2])),y(f(y(f(v(se,X),S[1]),y(f(v(we,Y),-w[1]),f(v(V,j),O[1]))),E[2]),f(y(f(v(re,te),S[1]),y(f(v(Q,z),-w[1]),f(v(V,j),E[1]))),-O[2]))),-C[3]),f(y(y(f(y(f(v(pe,ae),w[1]),y(f(v(de,$),-E[1]),f(v(re,te),C[1]))),S[2]),f(y(f(v(pe,ae),S[1]),y(f(v(be,N),-E[1]),f(v(Q,z),C[1]))),-w[2])),y(f(y(f(v(de,$),S[1]),y(f(v(be,N),-w[1]),f(v(V,j),C[1]))),E[2]),f(y(f(v(re,te),S[1]),y(f(v(Q,z),-w[1]),f(v(V,j),E[1]))),-C[2]))),O[3]))))),De=v(Te,Ce);return De[De.length-1]}}var g=[function(){return 0},function(){return 0},function(){return 0}];function h(y){var v=g[y.length];return v||(v=g[y.length]=l(y.length)),v.apply(void 0,y)}function m(y,v,_,f,S,w,E,C){return function(O,P,R,j,z,N){switch(arguments.length){case 0:case 1:return 0;case 2:return f(O,P);case 3:return S(O,P,R);case 4:return w(O,P,R,j);case 5:return E(O,P,R,j,z);case 6:return C(O,P,R,j,z,N)}for(var Y=new Array(arguments.length),F=0;F<arguments.length;++F)Y[F]=arguments[F];return y(Y)}}!function(){for(;g.length<=6;)g.push(l(g.length));p.exports=m.apply(void 0,[h].concat(g));for(var y=0;y<=6;++y)p.exports[y]=g[y]}()},6606:function(p,s,t){"use strict";var i=t(8167);function n(g){return(2===g?r:3===g?o:4===g?l:5===g?u:d)(g<6?i[g]:i)}function r(g){return function(h,m){return[g([[+m[0],+h[0][1]],[+m[1],+h[1][1]]]),g([[+h[0][0],+m[0]],[+h[1][0],+m[1]]]),g(h)]}}function o(g){return function(h,m){return[g([[+m[0],+h[0][1],+h[0][2]],[+m[1],+h[1][1],+h[1][2]],[+m[2],+h[2][1],+h[2][2]]]),g([[+h[0][0],+m[0],+h[0][2]],[+h[1][0],+m[1],+h[1][2]],[+h[2][0],+m[2],+h[2][2]]]),g([[+h[0][0],+h[0][1],+m[0]],[+h[1][0],+h[1][1],+m[1]],[+h[2][0],+h[2][1],+m[2]]]),g(h)]}}function l(g){return function(h,m){return[g([[+m[0],+h[0][1],+h[0][2],+h[0][3]],[+m[1],+h[1][1],+h[1][2],+h[1][3]],[+m[2],+h[2][1],+h[2][2],+h[2][3]],[+m[3],+h[3][1],+h[3][2],+h[3][3]]]),g([[+h[0][0],+m[0],+h[0][2],+h[0][3]],[+h[1][0],+m[1],+h[1][2],+h[1][3]],[+h[2][0],+m[2],+h[2][2],+h[2][3]],[+h[3][0],+m[3],+h[3][2],+h[3][3]]]),g([[+h[0][0],+h[0][1],+m[0],+h[0][3]],[+h[1][0],+h[1][1],+m[1],+h[1][3]],[+h[2][0],+h[2][1],+m[2],+h[2][3]],[+h[3][0],+h[3][1],+m[3],+h[3][3]]]),g([[+h[0][0],+h[0][1],+h[0][2],+m[0]],[+h[1][0],+h[1][1],+h[1][2],+m[1]],[+h[2][0],+h[2][1],+h[2][2],+m[2]],[+h[3][0],+h[3][1],+h[3][2],+m[3]]]),g(h)]}}function u(g){return function(h,m){return[g([[+m[0],+h[0][1],+h[0][2],+h[0][3],+h[0][4]],[+m[1],+h[1][1],+h[1][2],+h[1][3],+h[1][4]],[+m[2],+h[2][1],+h[2][2],+h[2][3],+h[2][4]],[+m[3],+h[3][1],+h[3][2],+h[3][3],+h[3][4]],[+m[4],+h[4][1],+h[4][2],+h[4][3],+h[4][4]]]),g([[+h[0][0],+m[0],+h[0][2],+h[0][3],+h[0][4]],[+h[1][0],+m[1],+h[1][2],+h[1][3],+h[1][4]],[+h[2][0],+m[2],+h[2][2],+h[2][3],+h[2][4]],[+h[3][0],+m[3],+h[3][2],+h[3][3],+h[3][4]],[+h[4][0],+m[4],+h[4][2],+h[4][3],+h[4][4]]]),g([[+h[0][0],+h[0][1],+m[0],+h[0][3],+h[0][4]],[+h[1][0],+h[1][1],+m[1],+h[1][3],+h[1][4]],[+h[2][0],+h[2][1],+m[2],+h[2][3],+h[2][4]],[+h[3][0],+h[3][1],+m[3],+h[3][3],+h[3][4]],[+h[4][0],+h[4][1],+m[4],+h[4][3],+h[4][4]]]),g([[+h[0][0],+h[0][1],+h[0][2],+m[0],+h[0][4]],[+h[1][0],+h[1][1],+h[1][2],+m[1],+h[1][4]],[+h[2][0],+h[2][1],+h[2][2],+m[2],+h[2][4]],[+h[3][0],+h[3][1],+h[3][2],+m[3],+h[3][4]],[+h[4][0],+h[4][1],+h[4][2],+m[4],+h[4][4]]]),g([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+m[0]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+m[1]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+m[2]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+m[3]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+m[4]]]),g(h)]}}function d(g){return function(h,m){return[g([[+m[0],+h[0][1],+h[0][2],+h[0][3],+h[0][4],+h[0][5]],[+m[1],+h[1][1],+h[1][2],+h[1][3],+h[1][4],+h[1][5]],[+m[2],+h[2][1],+h[2][2],+h[2][3],+h[2][4],+h[2][5]],[+m[3],+h[3][1],+h[3][2],+h[3][3],+h[3][4],+h[3][5]],[+m[4],+h[4][1],+h[4][2],+h[4][3],+h[4][4],+h[4][5]],[+m[5],+h[5][1],+h[5][2],+h[5][3],+h[5][4],+h[5][5]]]),g([[+h[0][0],+m[0],+h[0][2],+h[0][3],+h[0][4],+h[0][5]],[+h[1][0],+m[1],+h[1][2],+h[1][3],+h[1][4],+h[1][5]],[+h[2][0],+m[2],+h[2][2],+h[2][3],+h[2][4],+h[2][5]],[+h[3][0],+m[3],+h[3][2],+h[3][3],+h[3][4],+h[3][5]],[+h[4][0],+m[4],+h[4][2],+h[4][3],+h[4][4],+h[4][5]],[+h[5][0],+m[5],+h[5][2],+h[5][3],+h[5][4],+h[5][5]]]),g([[+h[0][0],+h[0][1],+m[0],+h[0][3],+h[0][4],+h[0][5]],[+h[1][0],+h[1][1],+m[1],+h[1][3],+h[1][4],+h[1][5]],[+h[2][0],+h[2][1],+m[2],+h[2][3],+h[2][4],+h[2][5]],[+h[3][0],+h[3][1],+m[3],+h[3][3],+h[3][4],+h[3][5]],[+h[4][0],+h[4][1],+m[4],+h[4][3],+h[4][4],+h[4][5]],[+h[5][0],+h[5][1],+m[5],+h[5][3],+h[5][4],+h[5][5]]]),g([[+h[0][0],+h[0][1],+h[0][2],+m[0],+h[0][4],+h[0][5]],[+h[1][0],+h[1][1],+h[1][2],+m[1],+h[1][4],+h[1][5]],[+h[2][0],+h[2][1],+h[2][2],+m[2],+h[2][4],+h[2][5]],[+h[3][0],+h[3][1],+h[3][2],+m[3],+h[3][4],+h[3][5]],[+h[4][0],+h[4][1],+h[4][2],+m[4],+h[4][4],+h[4][5]],[+h[5][0],+h[5][1],+h[5][2],+m[5],+h[5][4],+h[5][5]]]),g([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+m[0],+h[0][5]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+m[1],+h[1][5]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+m[2],+h[2][5]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+m[3],+h[3][5]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+m[4],+h[4][5]],[+h[5][0],+h[5][1],+h[5][2],+h[5][3],+m[5],+h[5][5]]]),g([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+h[0][4],+m[0]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+h[1][4],+m[1]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+h[2][4],+m[2]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+h[3][4],+m[3]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+h[4][4],+m[4]],[+h[5][0],+h[5][1],+h[5][2],+h[5][3],+h[5][4],+m[5]]]),g(h)]}}var c=[function(){return[[0]]},function(g,h){return[[h[0]],[g[0][0]]]}];function x(g,h,m,y,v,_,f,S){return function(w,E){switch(w.length){case 0:return g(w,E);case 1:return h(w,E);case 2:return m(w,E);case 3:return y(w,E);case 4:return v(w,E);case 5:return _(w,E)}var C=f[w.length];return C||(C=f[w.length]=S(w.length)),C(w,E)}}!function(){for(;c.length<6;)c.push(n(c.length));p.exports=x.apply(void 0,c.concat([c,n]));for(var g=0;g<6;++g)p.exports[g]=c[g]}()},417:function(p,s,t){"use strict";var i=t(9660),n=t(9662),r=t(8289),o=t(4078);function l(v,_,f,S){return function(w,E,C){var O=v(v(_(E[1],C[0]),_(-C[1],E[0])),v(_(w[1],E[0]),_(-E[1],w[0]))),P=v(_(w[1],C[0]),_(-C[1],w[0])),R=S(O,P);return R[R.length-1]}}function u(v,_,f,S){return function(w,E,C,O){var P=v(v(f(v(_(C[1],O[0]),_(-O[1],C[0])),E[2]),v(f(v(_(E[1],O[0]),_(-O[1],E[0])),-C[2]),f(v(_(E[1],C[0]),_(-C[1],E[0])),O[2]))),v(f(v(_(E[1],O[0]),_(-O[1],E[0])),w[2]),v(f(v(_(w[1],O[0]),_(-O[1],w[0])),-E[2]),f(v(_(w[1],E[0]),_(-E[1],w[0])),O[2])))),R=v(v(f(v(_(C[1],O[0]),_(-O[1],C[0])),w[2]),v(f(v(_(w[1],O[0]),_(-O[1],w[0])),-C[2]),f(v(_(w[1],C[0]),_(-C[1],w[0])),O[2]))),v(f(v(_(E[1],C[0]),_(-C[1],E[0])),w[2]),v(f(v(_(w[1],C[0]),_(-C[1],w[0])),-E[2]),f(v(_(w[1],E[0]),_(-E[1],w[0])),C[2])))),j=S(P,R);return j[j.length-1]}}function d(v,_,f,S){return function(w,E,C,O,P){var R=v(v(v(f(v(f(v(_(O[1],P[0]),_(-P[1],O[0])),C[2]),v(f(v(_(C[1],P[0]),_(-P[1],C[0])),-O[2]),f(v(_(C[1],O[0]),_(-O[1],C[0])),P[2]))),E[3]),v(f(v(f(v(_(O[1],P[0]),_(-P[1],O[0])),E[2]),v(f(v(_(E[1],P[0]),_(-P[1],E[0])),-O[2]),f(v(_(E[1],O[0]),_(-O[1],E[0])),P[2]))),-C[3]),f(v(f(v(_(C[1],P[0]),_(-P[1],C[0])),E[2]),v(f(v(_(E[1],P[0]),_(-P[1],E[0])),-C[2]),f(v(_(E[1],C[0]),_(-C[1],E[0])),P[2]))),O[3]))),v(f(v(f(v(_(C[1],O[0]),_(-O[1],C[0])),E[2]),v(f(v(_(E[1],O[0]),_(-O[1],E[0])),-C[2]),f(v(_(E[1],C[0]),_(-C[1],E[0])),O[2]))),-P[3]),v(f(v(f(v(_(O[1],P[0]),_(-P[1],O[0])),E[2]),v(f(v(_(E[1],P[0]),_(-P[1],E[0])),-O[2]),f(v(_(E[1],O[0]),_(-O[1],E[0])),P[2]))),w[3]),f(v(f(v(_(O[1],P[0]),_(-P[1],O[0])),w[2]),v(f(v(_(w[1],P[0]),_(-P[1],w[0])),-O[2]),f(v(_(w[1],O[0]),_(-O[1],w[0])),P[2]))),-E[3])))),v(v(f(v(f(v(_(E[1],P[0]),_(-P[1],E[0])),w[2]),v(f(v(_(w[1],P[0]),_(-P[1],w[0])),-E[2]),f(v(_(w[1],E[0]),_(-E[1],w[0])),P[2]))),O[3]),v(f(v(f(v(_(E[1],O[0]),_(-O[1],E[0])),w[2]),v(f(v(_(w[1],O[0]),_(-O[1],w[0])),-E[2]),f(v(_(w[1],E[0]),_(-E[1],w[0])),O[2]))),-P[3]),f(v(f(v(_(C[1],O[0]),_(-O[1],C[0])),E[2]),v(f(v(_(E[1],O[0]),_(-O[1],E[0])),-C[2]),f(v(_(E[1],C[0]),_(-C[1],E[0])),O[2]))),w[3]))),v(f(v(f(v(_(C[1],O[0]),_(-O[1],C[0])),w[2]),v(f(v(_(w[1],O[0]),_(-O[1],w[0])),-C[2]),f(v(_(w[1],C[0]),_(-C[1],w[0])),O[2]))),-E[3]),v(f(v(f(v(_(E[1],O[0]),_(-O[1],E[0])),w[2]),v(f(v(_(w[1],O[0]),_(-O[1],w[0])),-E[2]),f(v(_(w[1],E[0]),_(-E[1],w[0])),O[2]))),C[3]),f(v(f(v(_(E[1],C[0]),_(-C[1],E[0])),w[2]),v(f(v(_(w[1],C[0]),_(-C[1],w[0])),-E[2]),f(v(_(w[1],E[0]),_(-E[1],w[0])),C[2]))),-O[3]))))),j=v(v(v(f(v(f(v(_(O[1],P[0]),_(-P[1],O[0])),C[2]),v(f(v(_(C[1],P[0]),_(-P[1],C[0])),-O[2]),f(v(_(C[1],O[0]),_(-O[1],C[0])),P[2]))),w[3]),f(v(f(v(_(O[1],P[0]),_(-P[1],O[0])),w[2]),v(f(v(_(w[1],P[0]),_(-P[1],w[0])),-O[2]),f(v(_(w[1],O[0]),_(-O[1],w[0])),P[2]))),-C[3])),v(f(v(f(v(_(C[1],P[0]),_(-P[1],C[0])),w[2]),v(f(v(_(w[1],P[0]),_(-P[1],w[0])),-C[2]),f(v(_(w[1],C[0]),_(-C[1],w[0])),P[2]))),O[3]),f(v(f(v(_(C[1],O[0]),_(-O[1],C[0])),w[2]),v(f(v(_(w[1],O[0]),_(-O[1],w[0])),-C[2]),f(v(_(w[1],C[0]),_(-C[1],w[0])),O[2]))),-P[3]))),v(v(f(v(f(v(_(C[1],P[0]),_(-P[1],C[0])),E[2]),v(f(v(_(E[1],P[0]),_(-P[1],E[0])),-C[2]),f(v(_(E[1],C[0]),_(-C[1],E[0])),P[2]))),w[3]),f(v(f(v(_(C[1],P[0]),_(-P[1],C[0])),w[2]),v(f(v(_(w[1],P[0]),_(-P[1],w[0])),-C[2]),f(v(_(w[1],C[0]),_(-C[1],w[0])),P[2]))),-E[3])),v(f(v(f(v(_(E[1],P[0]),_(-P[1],E[0])),w[2]),v(f(v(_(w[1],P[0]),_(-P[1],w[0])),-E[2]),f(v(_(w[1],E[0]),_(-E[1],w[0])),P[2]))),C[3]),f(v(f(v(_(E[1],C[0]),_(-C[1],E[0])),w[2]),v(f(v(_(w[1],C[0]),_(-C[1],w[0])),-E[2]),f(v(_(w[1],E[0]),_(-E[1],w[0])),C[2]))),-P[3])))),z=S(R,j);return z[z.length-1]}}function c(v){return(3===v?l:4===v?u:d)(n,i,r,o)}var x=c(3),g=c(4),h=[function(){return 0},function(){return 0},function(v,_){return _[0]-v[0]},function(v,_,f){var S,w=(v[1]-f[1])*(_[0]-f[0]),E=(v[0]-f[0])*(_[1]-f[1]),C=w-E;if(w>0){if(E<=0)return C;S=w+E}else{if(!(w<0)||E>=0)return C;S=-(w+E)}var O=33306690738754716e-32*S;return C>=O||C<=-O?C:x(v,_,f)},function(v,_,f,S){var w=v[0]-S[0],E=_[0]-S[0],C=f[0]-S[0],O=v[1]-S[1],P=_[1]-S[1],R=f[1]-S[1],j=v[2]-S[2],z=_[2]-S[2],N=f[2]-S[2],Y=E*R,F=C*P,U=C*O,V=w*R,te=w*P,$=E*O,X=j*(Y-F)+z*(U-V)+N*(te-$),W=7771561172376103e-31*((Math.abs(Y)+Math.abs(F))*Math.abs(j)+(Math.abs(U)+Math.abs(V))*Math.abs(z)+(Math.abs(te)+Math.abs($))*Math.abs(N));return X>W||-X>W?X:g(v,_,f,S)}];function m(v){var _=h[v.length];return _||(_=h[v.length]=c(v.length)),_.apply(void 0,v)}function y(v,_,f,S,w,E,C){return function(O,P,R,j,z){switch(arguments.length){case 0:case 1:return 0;case 2:return S(O,P);case 3:return w(O,P,R);case 4:return E(O,P,R,j);case 5:return C(O,P,R,j,z)}for(var N=new Array(arguments.length),Y=0;Y<arguments.length;++Y)N[Y]=arguments[Y];return v(N)}}!function(){for(;h.length<=5;)h.push(c(h.length));p.exports=y.apply(void 0,[m].concat(h));for(var v=0;v<=5;++v)p.exports[v]=h[v]}()},2019:function(p,s,t){"use strict";var i=t(9662),n=t(8289);p.exports=function(r,o){if(1===r.length)return n(o,r[0]);if(1===o.length)return n(r,o[0]);if(0===r.length||0===o.length)return[0];var l=[0];if(r.length<o.length)for(var u=0;u<r.length;++u)l=i(l,n(o,r[u]));else for(u=0;u<o.length;++u)l=i(l,n(r,o[u]));return l}},8289:function(p,s,t){"use strict";var i=t(9660),n=t(87);p.exports=function(r,o){var l=r.length;if(1===l){var u=i(r[0],o);return u[0]?u:[u[1]]}var d=new Array(2*l),c=[.1,.1],x=[.1,.1],g=0;i(r[0],o,c),c[0]&&(d[g++]=c[0]);for(var h=1;h<l;++h){i(r[h],o,x);var m=c[1];n(m,x[0],c),c[0]&&(d[g++]=c[0]);var y=x[1],v=c[1],_=y+v,f=v-(_-y);c[1]=_,f&&(d[g++]=f)}return c[1]&&(d[g++]=c[1]),0===g&&(d[g++]=0),d.length=g,d}},4434:function(p,s,t){"use strict";p.exports=function(n,r,o,l){var u=i(n,o,l),d=i(r,o,l);if(u>0&&d>0||u<0&&d<0)return!1;var c=i(o,n,r),x=i(l,n,r);return!(c>0&&x>0||c<0&&x<0)&&(0!==u||0!==d||0!==c||0!==x||function(g,h,m,y){for(var v=0;v<2;++v){var _=g[v],f=h[v],S=Math.min(_,f),w=Math.max(_,f),E=m[v],C=y[v],O=Math.min(E,C);if(Math.max(E,C)<S||w<O)return!1}return!0}(n,r,o,l))};var i=t(417)[3]},4078:function(p){"use strict";p.exports=function(s,t){var O,P,R,j,z,i=0|s.length,n=0|t.length;if(1===i&&1===n)return O=s[0],P=-t[0],(z=O-((R=O+P)-(j=R-O))+(P-j))?[z,R]:[R];var r,o,l=new Array(i+n),u=0,d=0,c=0,x=Math.abs,g=s[d],h=x(g),m=-t[c],y=x(m);h<y?(o=g,(d+=1)<i&&(h=x(g=s[d]))):(o=m,(c+=1)<n&&(y=x(m=-t[c]))),d<i&&h<y||c>=n?(r=g,(d+=1)<i&&(h=x(g=s[d]))):(r=m,(c+=1)<n&&(y=x(m=-t[c])));for(var v,_,f=r+o,S=f-r,w=o-S,E=w,C=f;d<i&&c<n;)h<y?(r=g,(d+=1)<i&&(h=x(g=s[d]))):(r=m,(c+=1)<n&&(y=x(m=-t[c]))),(w=(o=E)-(S=(f=r+o)-r))&&(l[u++]=w),E=C-((v=C+f)-(_=v-C))+(f-_),C=v;for(;d<i;)(w=(o=E)-(S=(f=(r=g)+o)-r))&&(l[u++]=w),E=C-((v=C+f)-(_=v-C))+(f-_),C=v,(d+=1)<i&&(g=s[d]);for(;c<n;)(w=(o=E)-(S=(f=(r=m)+o)-r))&&(l[u++]=w),E=C-((v=C+f)-(_=v-C))+(f-_),C=v,(c+=1)<n&&(m=-t[c]);return E&&(l[u++]=E),C&&(l[u++]=C),u||(l[u++]=0),l.length=u,l}},9662:function(p){"use strict";p.exports=function(s,t){var O,P,R,j,z,i=0|s.length,n=0|t.length;if(1===i&&1===n)return O=s[0],P=t[0],(z=O-((R=O+P)-(j=R-O))+(P-j))?[z,R]:[R];var r,o,l=new Array(i+n),u=0,d=0,c=0,x=Math.abs,g=s[d],h=x(g),m=t[c],y=x(m);h<y?(o=g,(d+=1)<i&&(h=x(g=s[d]))):(o=m,(c+=1)<n&&(y=x(m=t[c]))),d<i&&h<y||c>=n?(r=g,(d+=1)<i&&(h=x(g=s[d]))):(r=m,(c+=1)<n&&(y=x(m=t[c])));for(var v,_,f=r+o,S=f-r,w=o-S,E=w,C=f;d<i&&c<n;)h<y?(r=g,(d+=1)<i&&(h=x(g=s[d]))):(r=m,(c+=1)<n&&(y=x(m=t[c]))),(w=(o=E)-(S=(f=r+o)-r))&&(l[u++]=w),E=C-((v=C+f)-(_=v-C))+(f-_),C=v;for(;d<i;)(w=(o=E)-(S=(f=(r=g)+o)-r))&&(l[u++]=w),E=C-((v=C+f)-(_=v-C))+(f-_),C=v,(d+=1)<i&&(g=s[d]);for(;c<n;)(w=(o=E)-(S=(f=(r=m)+o)-r))&&(l[u++]=w),E=C-((v=C+f)-(_=v-C))+(f-_),C=v,(c+=1)<n&&(m=t[c]);return E&&(l[u++]=E),C&&(l[u++]=C),u||(l[u++]=0),l.length=u,l}},8691:function(p,s,t){"use strict";p.exports=function(r){return n(i(r))};var i=t(2692),n=t(7037)},7212:function(p,s,t){"use strict";p.exports=function(l,u,d,c){if(d=d||0,void 0===c&&(c=function(f){for(var S=f.length,w=0,E=0;E<S;++E)w=0|Math.max(w,f[E].length);return w-1}(l)),0===l.length||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var x=function(f,S){for(var w=f.length,E=n.mallocUint8(w),C=0;C<w;++C)E[C]=f[C]<S|0;return E}(u,+d),g=function(f,S){for(var w=f.length,E=S*(S+1)/2*w|0,C=n.mallocUint32(2*E),O=0,P=0;P<w;++P)for(var R=f[P],j=(S=R.length,0);j<S;++j)for(var z=0;z<j;++z){var N=R[z],Y=R[j];C[O++]=0|Math.min(N,Y),C[O++]=0|Math.max(N,Y)}r(i(C,[O/2|0,2]));var F=2;for(P=2;P<O;P+=2)C[P-2]===C[P]&&C[P-1]===C[P+1]||(C[F++]=C[P],C[F++]=C[P+1]);return i(C,[F/2|0,2])}(l,c),h=function(f,S,w,E){for(var C=f.data,O=f.shape[0],P=n.mallocDouble(O),R=0,j=0;j<O;++j){var z=C[2*j],N=C[2*j+1];if(w[z]!==w[N]){var Y=S[z],F=S[N];C[2*R]=z,C[2*R+1]=N,P[R++]=(F-E)/(F-Y)}}return f.shape[0]=R,i(P,[R])}(g,u,x,+d),m=function(f,S){var w=n.mallocInt32(2*S),E=f.shape[0],C=f.data;w[0]=0;for(var O=0,P=0;P<E;++P){var R=C[2*P];if(R!==O){for(w[2*O+1]=P;++O<R;)w[2*O]=P,w[2*O+1]=P;w[2*O]=P}}for(w[2*O+1]=E;++O<S;)w[2*O]=w[2*O+1]=E;return w}(g,0|u.length),y=o(c)(l,g.data,m,x),v=function(f){for(var S=0|f.shape[0],w=f.data,E=new Array(S),C=0;C<S;++C)E[C]=[w[2*C],w[2*C+1]];return E}(g),_=[].slice.call(h.data,0,h.shape[0]);return n.free(x),n.free(g.data),n.free(h.data),n.free(m),{cells:y,vertexIds:v,vertexWeights:_}};var i=t(5050),n=t(5306),r=t(8729),o=t(1168)},1168:function(p){"use strict";p.exports=function(t){return s[t]()};var s=[function(){return function(t,i,n,r){for(var o=t.length,l=0;l<o;++l)t[l].length;return[]}},function(){function t(i,n,r,o){for(var l=0|Math.min(r,o),u=0|Math.max(r,o),d=i[2*l],c=i[2*l+1];d<c;){var x=d+c>>1,g=n[2*x+1];if(g===u)return x;u<g?c=x:d=x+1}return d}return function(i,n,r,o){for(var l=i.length,u=[],d=0;d<l;++d){var c=i[d];if(2===c.length){var x=(o[c[0]]<<0)+(o[c[1]]<<1);if(0===x||3===x)continue;switch(x){case 0:case 3:break;case 1:u.push([t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0])])}}}return u}},function(){function t(i,n,r,o){for(var l=0|Math.min(r,o),u=0|Math.max(r,o),d=i[2*l],c=i[2*l+1];d<c;){var x=d+c>>1,g=n[2*x+1];if(g===u)return x;u<g?c=x:d=x+1}return d}return function(i,n,r,o){for(var l=i.length,u=[],d=0;d<l;++d){var c=i[d],x=c.length;if(3===x){if(0==(g=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2))||7===g)continue;switch(g){case 0:case 7:break;case 1:u.push([t(r,n,c[0],c[2]),t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0]),t(r,n,c[1],c[2])]);break;case 3:u.push([t(r,n,c[0],c[2]),t(r,n,c[1],c[2])]);break;case 4:u.push([t(r,n,c[2],c[1]),t(r,n,c[2],c[0])]);break;case 5:u.push([t(r,n,c[2],c[1]),t(r,n,c[0],c[1])]);break;case 6:u.push([t(r,n,c[1],c[0]),t(r,n,c[2],c[0])])}}else if(2===x){var g;if(0==(g=(o[c[0]]<<0)+(o[c[1]]<<1))||3===g)continue;switch(g){case 0:case 3:break;case 1:u.push([t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0])])}}}return u}},function(){function t(i,n,r,o){for(var l=0|Math.min(r,o),u=0|Math.max(r,o),d=i[2*l],c=i[2*l+1];d<c;){var x=d+c>>1,g=n[2*x+1];if(g===u)return x;u<g?c=x:d=x+1}return d}return function(i,n,r,o){for(var l=i.length,u=[],d=0;d<l;++d){var c=i[d],x=c.length;if(4===x){if(0==(g=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2)+(o[c[3]]<<3))||15===g)continue;switch(g){case 0:case 15:break;case 1:u.push([t(r,n,c[0],c[1]),t(r,n,c[0],c[2]),t(r,n,c[0],c[3])]);break;case 2:u.push([t(r,n,c[1],c[2]),t(r,n,c[1],c[0]),t(r,n,c[1],c[3])]);break;case 3:u.push([t(r,n,c[1],c[2]),t(r,n,c[0],c[2]),t(r,n,c[0],c[3])],[t(r,n,c[1],c[3]),t(r,n,c[1],c[2]),t(r,n,c[0],c[3])]);break;case 4:u.push([t(r,n,c[2],c[0]),t(r,n,c[2],c[1]),t(r,n,c[2],c[3])]);break;case 5:u.push([t(r,n,c[0],c[1]),t(r,n,c[2],c[1]),t(r,n,c[0],c[3])],[t(r,n,c[2],c[1]),t(r,n,c[2],c[3]),t(r,n,c[0],c[3])]);break;case 6:u.push([t(r,n,c[2],c[0]),t(r,n,c[1],c[0]),t(r,n,c[1],c[3])],[t(r,n,c[2],c[3]),t(r,n,c[2],c[0]),t(r,n,c[1],c[3])]);break;case 7:u.push([t(r,n,c[0],c[3]),t(r,n,c[1],c[3]),t(r,n,c[2],c[3])]);break;case 8:u.push([t(r,n,c[3],c[1]),t(r,n,c[3],c[0]),t(r,n,c[3],c[2])]);break;case 9:u.push([t(r,n,c[3],c[1]),t(r,n,c[0],c[1]),t(r,n,c[0],c[2])],[t(r,n,c[3],c[2]),t(r,n,c[3],c[1]),t(r,n,c[0],c[2])]);break;case 10:u.push([t(r,n,c[1],c[0]),t(r,n,c[3],c[0]),t(r,n,c[1],c[2])],[t(r,n,c[3],c[0]),t(r,n,c[3],c[2]),t(r,n,c[1],c[2])]);break;case 11:u.push([t(r,n,c[1],c[2]),t(r,n,c[0],c[2]),t(r,n,c[3],c[2])]);break;case 12:u.push([t(r,n,c[3],c[0]),t(r,n,c[2],c[0]),t(r,n,c[2],c[1])],[t(r,n,c[3],c[1]),t(r,n,c[3],c[0]),t(r,n,c[2],c[1])]);break;case 13:u.push([t(r,n,c[0],c[1]),t(r,n,c[2],c[1]),t(r,n,c[3],c[1])]);break;case 14:u.push([t(r,n,c[2],c[0]),t(r,n,c[1],c[0]),t(r,n,c[3],c[0])])}}else if(3===x){if(0==(g=(o[c[0]]<<0)+(o[c[1]]<<1)+(o[c[2]]<<2))||7===g)continue;switch(g){case 0:case 7:break;case 1:u.push([t(r,n,c[0],c[2]),t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0]),t(r,n,c[1],c[2])]);break;case 3:u.push([t(r,n,c[0],c[2]),t(r,n,c[1],c[2])]);break;case 4:u.push([t(r,n,c[2],c[1]),t(r,n,c[2],c[0])]);break;case 5:u.push([t(r,n,c[2],c[1]),t(r,n,c[0],c[1])]);break;case 6:u.push([t(r,n,c[1],c[0]),t(r,n,c[2],c[0])])}}else if(2===x){var g;if(0==(g=(o[c[0]]<<0)+(o[c[1]]<<1))||3===g)continue;switch(g){case 0:case 3:break;case 1:u.push([t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0])])}}}return u}}]},8211:function(p,s,t){"use strict";t(2288),t(1731),s.H=function(i,n){var r=i.length,o=i.length-n.length,l=Math.min;if(o)return o;switch(r){case 0:return 0;case 1:return i[0]-n[0];case 2:return(c=i[0]+i[1]-n[0]-n[1])||l(i[0],i[1])-l(n[0],n[1]);case 3:var u=i[0]+i[1],d=n[0]+n[1];if(c=u+i[2]-(d+n[2]))return c;var c,x=l(i[0],i[1]),g=l(n[0],n[1]);return(c=l(x,i[2])-l(g,n[2]))||l(x+i[2],u)-l(g+n[2],d);default:var h=i.slice(0);h.sort();var m=n.slice(0);m.sort();for(var y=0;y<r;++y)if(o=h[y]-m[y])return o;return 0}}},9392:function(p,s){"use strict";function t(n){var r=32;return(n&=-n)&&r--,65535&n&&(r-=16),16711935&n&&(r-=8),252645135&n&&(r-=4),858993459&n&&(r-=2),1431655765&n&&(r-=1),r}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(n){return(n>0)-(n<0)},s.abs=function(n){var r=n>>31;return(n^r)-r},s.min=function(n,r){return r^(n^r)&-(n<r)},s.max=function(n,r){return n^(n^r)&-(n<r)},s.isPow2=function(n){return!(n&n-1||!n)},s.log2=function(n){var r,o;return r=(n>65535)<<4,r|=o=((n>>>=r)>255)<<3,r|=o=((n>>>=o)>15)<<2,(r|=o=((n>>>=o)>3)<<1)|(n>>>=o)>>1},s.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},s.popCount=function(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(n){return n+=0===n,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,1+((n|=n>>>8)|n>>>16)},s.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)-(n>>>1)},s.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,27030>>>(n&=15)&1};var i=new Array(256);(function(n){for(var r=0;r<256;++r){var o=r,l=r,u=7;for(o>>>=1;o;o>>>=1)l<<=1,l|=1&o,--u;n[r]=l<<u&255}})(i),s.reverse=function(n){return i[255&n]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},s.interleave2=function(n,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},s.deinterleave2=function(n,r){return(n=65535&((n=16711935&((n=252645135&((n=858993459&((n=n>>>r&1431655765)|n>>>1))|n>>>2))|n>>>4))|n>>>16))<<16>>16},s.interleave3=function(n,r,o){return n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2),(n|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<2},s.deinterleave3=function(n,r){return(n=1023&((n=4278190335&((n=251719695&((n=3272356035&((n=n>>>r&1227133513)|n>>>2))|n>>>4))|n>>>8))|n>>>16))<<22>>22},s.nextCombination=function(n){var r=n|n-1;return r+1|(~r&-~r)-1>>>t(n)+1}},6656:function(p,s,t){"use strict";var i=t(9392),n=t(9521);function r(g,h){var m=g.length,y=g.length-h.length,v=Math.min;if(y)return y;switch(m){case 0:return 0;case 1:return g[0]-h[0];case 2:return(S=g[0]+g[1]-h[0]-h[1])||v(g[0],g[1])-v(h[0],h[1]);case 3:var _=g[0]+g[1],f=h[0]+h[1];if(S=_+g[2]-(f+h[2]))return S;var S,w=v(g[0],g[1]),E=v(h[0],h[1]);return(S=v(w,g[2])-v(E,h[2]))||v(w+g[2],_)-v(E+h[2],f);default:var C=g.slice(0);C.sort();var O=h.slice(0);O.sort();for(var P=0;P<m;++P)if(y=C[P]-O[P])return y;return 0}}function o(g,h){return r(g[0],h[0])}function l(g,h){if(h){for(var m=g.length,y=new Array(m),v=0;v<m;++v)y[v]=[g[v],h[v]];for(y.sort(o),v=0;v<m;++v)g[v]=y[v][0],h[v]=y[v][1];return g}return g.sort(r),g}function u(g){if(0===g.length)return[];for(var h=1,m=g.length,y=1;y<m;++y){var v=g[y];if(r(v,g[y-1])){if(y===h){h++;continue}g[h++]=v}}return g.length=h,g}function d(g,h){for(var m=0,y=g.length-1,v=-1;m<=y;){var _=m+y>>1,f=r(g[_],h);f<=0?(0===f&&(v=_),m=_+1):f>0&&(y=_-1)}return v}function c(g,h){for(var m=new Array(g.length),y=0,v=m.length;y<v;++y)m[y]=[];for(var _=[],f=(y=0,h.length);y<f;++y)for(var S=h[y],w=S.length,E=1,C=1<<w;E<C;++E){_.length=i.popCount(E);for(var O=0,P=0;P<w;++P)E&1<<P&&(_[O++]=S[P]);var R=d(g,_);if(!(R<0))for(;m[R++].push(y),!(R>=g.length||0!==r(g[R],_)););}return m}function x(g,h){if(h<0)return[];for(var m=[],y=(1<<h+1)-1,v=0;v<g.length;++v)for(var _=g[v],f=y;f<1<<_.length;f=i.nextCombination(f)){for(var S=new Array(h+1),w=0,E=0;E<_.length;++E)f&1<<E&&(S[w++]=_[E]);m.push(S)}return l(m)}s.dimension=function(g){for(var h=0,m=Math.max,y=0,v=g.length;y<v;++y)h=m(h,g[y].length);return h-1},s.countVertices=function(g){for(var h=-1,m=Math.max,y=0,v=g.length;y<v;++y)for(var _=g[y],f=0,S=_.length;f<S;++f)h=m(h,_[f]);return h+1},s.cloneCells=function(g){for(var h=new Array(g.length),m=0,y=g.length;m<y;++m)h[m]=g[m].slice(0);return h},s.compareCells=r,s.normalize=l,s.unique=u,s.findCell=d,s.incidence=c,s.dual=function(g,h){if(!h)return c(u(x(g,0)),g);for(var m=new Array(h),y=0;y<h;++y)m[y]=[];y=0;for(var v=g.length;y<v;++y)for(var _=g[y],f=0,S=_.length;f<S;++f)m[_[f]].push(y);return m},s.explode=function(g){for(var h=[],m=0,y=g.length;m<y;++m)for(var v=g[m],_=0|v.length,f=1,S=1<<_;f<S;++f){for(var w=[],E=0;E<_;++E)f>>>E&1&&w.push(v[E]);h.push(w)}return l(h)},s.skeleton=x,s.boundary=function(g){for(var h=[],m=0,y=g.length;m<y;++m)for(var v=g[m],_=0,f=v.length;_<f;++_){for(var S=new Array(v.length-1),w=0,E=0;w<f;++w)w!==_&&(S[E++]=v[w]);h.push(S)}return l(h)},s.connectedComponents=function(g,h){return h?function(m,y){for(var v=new n(y),_=0;_<m.length;++_)for(var f=m[_],S=0;S<f.length;++S)for(var w=S+1;w<f.length;++w)v.link(f[S],f[w]);var E=[],C=v.ranks;for(_=0;_<C.length;++_)C[_]=-1;for(_=0;_<m.length;++_){var O=v.find(m[_][0]);C[O]<0?(C[O]=E.length,E.push([m[_].slice(0)])):E[C[O]].push(m[_].slice(0))}return E}(g,h):function(m){for(var y=u(l(x(m,0))),v=new n(y.length),_=0;_<m.length;++_)for(var f=m[_],S=0;S<f.length;++S)for(var w=d(y,[f[S]]),E=S+1;E<f.length;++E)v.link(w,d(y,[f[E]]));var C=[],O=v.ranks;for(_=0;_<O.length;++_)O[_]=-1;for(_=0;_<m.length;++_){var P=v.find(d(y,[m[_][0]]));O[P]<0?(O[P]=C.length,C.push([m[_].slice(0)])):C[O[P]].push(m[_].slice(0))}return C}(g)}},9521:function(p){"use strict";function s(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}p.exports=s,s.prototype.length=function(){return this.roots.length},s.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},s.prototype.find=function(t){for(var i=this.roots;i[t]!==t;){var n=i[t];i[t]=i[n],t=n}return t},s.prototype.link=function(t,i){var n=this.find(t),r=this.find(i);if(n!==r){var o=this.ranks,l=this.roots,u=o[n],d=o[r];u<d?l[n]=r:d<u?l[r]=n:(l[r]=n,++o[n])}}},8243:function(p,s,t){"use strict";p.exports=function(r,o,l){for(var u=o.length,d=r.length,c=new Array(u),x=new Array(u),g=new Array(u),h=new Array(u),m=0;m<u;++m)c[m]=x[m]=-1,g[m]=1/0,h[m]=!1;for(m=0;m<d;++m){var y=r[m];if(2!==y.length)throw new Error("Input must be a graph");var v=y[1],_=y[0];-1!==x[_]?x[_]=-2:x[_]=v,-1!==c[v]?c[v]=-2:c[v]=_}function f($){if(h[$])return 1/0;var X,W,J,Q=c[$],re=x[$];return Q<0||re<0?1/0:(X=o[$],W=o[Q],J=o[re],Math.abs(i(X,W,J))/Math.sqrt(Math.pow(W[0]-J[0],2)+Math.pow(W[1]-J[1],2)))}function S($,X){var W=z[$],J=z[X];z[$]=J,z[X]=W,N[W]=X,N[J]=$}function w($){return g[z[$]]}function E($){return 1&$?$-1>>1:($>>1)-1}function C($){for(var X=w($);;){var W=X,J=2*$+1,Q=2*($+1),re=$;if(J<Y){var ae=w(J);ae<W&&(re=J,W=ae)}if(Q<Y&&w(Q)<W&&(re=Q),re===$)return $;S($,re),$=re}}function O($){for(var X=w($);$>0;){var W=E($);if(!(W>=0&&X<w(W)))return $;S($,W),$=W}}function P(){if(Y>0){var $=z[0];return S(0,Y-1),Y-=1,C(0),$}return-1}function R($,X){var W=z[$];return g[W]===X?$:(g[W]=-1/0,O($),P(),g[W]=X,O((Y+=1)-1))}function j($){if(!h[$]){h[$]=!0;var X=c[$],W=x[$];c[W]>=0&&(c[W]=X),x[X]>=0&&(x[X]=W),N[X]>=0&&R(N[X],f(X)),N[W]>=0&&R(N[W],f(W))}}var z=[],N=new Array(u);for(m=0;m<u;++m)(g[m]=f(m))<1/0?(N[m]=z.length,z.push(m)):N[m]=-1;var Y=z.length;for(m=Y>>1;m>=0;--m)C(m);for(;;){var F=P();if(F<0||g[F]>l)break;j(F)}var U=[];for(m=0;m<u;++m)h[m]||(N[m]=U.length,U.push(o[m].slice()));function V($,X){if($[X]<0)return X;var W=X,J=X;do{var Q=$[J];if(!h[J]||Q<0||Q===J||(Q=$[J=Q],!h[J]||Q<0||Q===J))break;J=Q,W=$[W]}while(W!==J);for(var re=X;re!==J;re=$[re])$[re]=J;return J}U.length;var te=[];return r.forEach(function($){var X=V(c,$[0]),W=V(x,$[1]);if(X>=0&&W>=0&&X!==W){var J=N[X],Q=N[W];J!==Q&&te.push([J,Q])}}),n.unique(n.normalize(te)),{positions:U,edges:te}};var i=t(417),n=t(6656)},6638:function(p,s,t){"use strict";p.exports=function(r,o){var l,u,d,c;if(o[0][0]<o[1][0])l=o[0],u=o[1];else{if(!(o[0][0]>o[1][0]))return n(o,r);l=o[1],u=o[0]}if(r[0][0]<r[1][0])d=r[0],c=r[1];else{if(!(r[0][0]>r[1][0]))return-n(r,o);d=r[1],c=r[0]}var x=i(l,u,c),g=i(l,u,d);if(x<0){if(g<=0)return x}else if(x>0){if(g>=0)return x}else if(g)return g;if(x=i(c,d,u),g=i(c,d,l),x<0){if(g<=0)return x}else if(x>0){if(g>=0)return x}else if(g)return g;return u[0]-c[0]};var i=t(417);function n(r,o){var l,u,d,c;if(o[0][0]<o[1][0])l=o[0],u=o[1];else{if(!(o[0][0]>o[1][0])){var x=Math.min(r[0][1],r[1][1]),g=Math.max(r[0][1],r[1][1]),h=Math.min(o[0][1],o[1][1]),m=Math.max(o[0][1],o[1][1]);return g<h?g-h:x>m?x-m:g-m}l=o[1],u=o[0]}r[0][1]<r[1][1]?(d=r[0],c=r[1]):(d=r[1],c=r[0]);var y=i(u,l,d);return y||(y=i(u,l,c))||c-u}},4385:function(p,s,t){"use strict";p.exports=function(g){for(var h=g.length,m=2*h,y=new Array(m),v=0;v<h;++v){var _=g[v],f=_[0][0]<_[1][0];y[2*v]=new x(_[0][0],_,f,v),y[2*v+1]=new x(_[1][0],_,!f,v)}y.sort(function(j,z){var N=j.x-z.x;return N||(N=j.create-z.create)||Math.min(j.segment[0][1],j.segment[1][1])-Math.min(z.segment[0][1],z.segment[1][1])});var S=n(o),w=[],E=[],C=[];for(v=0;v<m;){for(var O=y[v].x,P=[];v<m;){var R=y[v];if(R.x!==O)break;v+=1,R.segment[0][0]===R.x&&R.segment[1][0]===R.x?R.create&&(R.segment[0][1]<R.segment[1][1]?(P.push(new c(R.segment[0][1],R.index,!0,!0)),P.push(new c(R.segment[1][1],R.index,!1,!1))):(P.push(new c(R.segment[1][1],R.index,!0,!1)),P.push(new c(R.segment[0][1],R.index,!1,!0)))):S=R.create?S.insert(R.segment,R.index):S.remove(R.segment)}w.push(S.root),E.push(O),C.push(P)}return new l(w,E,C)};var i=t(5070),n=t(7080),r=t(417),o=t(6638);function l(g,h,m){this.slabs=g,this.coordinates=h,this.horizontal=m}function u(g,h){return g.y-h}function d(g,h){for(var m=null;g;){var y,v,_=g.key;_[0][0]<_[1][0]?(y=_[0],v=_[1]):(y=_[1],v=_[0]);var f=r(y,v,h);if(f<0)g=g.left;else if(f>0)if(h[0]!==_[1][0])m=g,g=g.right;else{if(S=d(g.right,h))return S;g=g.left}else{if(h[0]!==_[1][0])return g;var S;if(S=d(g.right,h))return S;g=g.left}}return m}function c(g,h,m,y){this.y=g,this.index=h,this.start=m,this.closed=y}function x(g,h,m,y){this.x=g,this.segment=h,this.create=m,this.index=y}l.prototype.castUp=function(g){var h=i.le(this.coordinates,g[0]);if(h<0)return-1;this.slabs[h];var m=d(this.slabs[h],g),y=-1;if(m&&(y=m.value),this.coordinates[h]===g[0]){var v=null;if(m&&(v=m.key),h>0){var _=d(this.slabs[h-1],g);_&&(v?o(_.key,v)>0&&(v=_.key,y=_.value):(y=_.value,v=_.key))}var f=this.horizontal[h];if(f.length>0){var S=i.ge(f,g[1],u);if(S<f.length){var w=f[S];if(g[1]===w.y){if(w.closed)return w.index;for(;S<f.length-1&&f[S+1].y===g[1];)if((w=f[S+=1]).closed)return w.index;if(w.y===g[1]&&!w.start){if((S+=1)>=f.length)return y;w=f[S]}}if(w.start)if(v){var E=r(v[0],v[1],[g[0],w.y]);v[0][0]>v[1][0]&&(E=-E),E>0&&(y=w.index)}else y=w.index;else w.y!==g[1]&&(y=w.index)}}}return y}},4670:function(p,s,t){"use strict";var i=t(9130),n=t(9662);function r(l,u){var d=n(i(l,u),[u[u.length-1]]);return d[d.length-1]}function o(l,u,d,c){var x=-u/(c-u);x<0?x=0:x>1&&(x=1);for(var g=1-x,h=l.length,m=new Array(h),y=0;y<h;++y)m[y]=x*l[y]+g*d[y];return m}p.exports=function(l,u){for(var d=[],c=[],x=r(l[l.length-1],u),g=l[l.length-1],h=l[0],m=0;m<l.length;++m,g=h){var y=r(h=l[m],u);if(x<0&&y>0||x>0&&y<0){var v=o(g,y,h,x);d.push(v),c.push(v.slice())}y<0?c.push(h.slice()):y>0?d.push(h.slice()):(d.push(h.slice()),c.push(h.slice())),x=y}return{positive:d,negative:c}},p.exports.positive=function(l,u){for(var d=[],c=r(l[l.length-1],u),x=l[l.length-1],g=l[0],h=0;h<l.length;++h,x=g){var m=r(g=l[h],u);(c<0&&m>0||c>0&&m<0)&&d.push(o(x,m,g,c)),m>=0&&d.push(g.slice()),c=m}return d},p.exports.negative=function(l,u){for(var d=[],c=r(l[l.length-1],u),x=l[l.length-1],g=l[0],h=0;h<l.length;++h,x=g){var m=r(g=l[h],u);(c<0&&m>0||c>0&&m<0)&&d.push(o(x,m,g,c)),m<=0&&d.push(g.slice()),c=m}return d}},8974:function(p,s,t){var i;!function(){"use strict";var n={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function r(u){return function(d,c){var x,g,h,m,y,v,_,f,S,w=1,E=d.length,C="";for(g=0;g<E;g++)if("string"==typeof d[g])C+=d[g];else if("object"==typeof d[g]){if((m=d[g]).keys)for(x=c[w],h=0;h<m.keys.length;h++){if(null==x)throw new Error(r('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[h],m.keys[h-1]));x=x[m.keys[h]]}else x=m.param_no?c[m.param_no]:c[w++];if(n.not_type.test(m.type)&&n.not_primitive.test(m.type)&&x instanceof Function&&(x=x()),n.numeric_arg.test(m.type)&&"number"!=typeof x&&isNaN(x))throw new TypeError(r("[sprintf] expecting number but found %T",x));switch(n.number.test(m.type)&&(f=x>=0),m.type){case"b":x=parseInt(x,10).toString(2);break;case"c":x=String.fromCharCode(parseInt(x,10));break;case"d":case"i":x=parseInt(x,10);break;case"j":x=JSON.stringify(x,null,m.width?parseInt(m.width):0);break;case"e":x=m.precision?parseFloat(x).toExponential(m.precision):parseFloat(x).toExponential();break;case"f":x=m.precision?parseFloat(x).toFixed(m.precision):parseFloat(x);break;case"g":x=m.precision?String(Number(x.toPrecision(m.precision))):parseFloat(x);break;case"o":x=(parseInt(x,10)>>>0).toString(8);break;case"s":x=String(x),x=m.precision?x.substring(0,m.precision):x;break;case"t":x=String(!!x),x=m.precision?x.substring(0,m.precision):x;break;case"T":x=Object.prototype.toString.call(x).slice(8,-1).toLowerCase(),x=m.precision?x.substring(0,m.precision):x;break;case"u":x=parseInt(x,10)>>>0;break;case"v":x=x.valueOf(),x=m.precision?x.substring(0,m.precision):x;break;case"x":x=(parseInt(x,10)>>>0).toString(16);break;case"X":x=(parseInt(x,10)>>>0).toString(16).toUpperCase()}n.json.test(m.type)?C+=x:(!n.number.test(m.type)||f&&!m.sign?S="":(S=f?"+":"-",x=x.toString().replace(n.sign,"")),v=m.pad_char?"0"===m.pad_char?"0":m.pad_char.charAt(1):" ",_=m.width-(S+x).length,y=m.width&&_>0?v.repeat(_):"",C+=m.align?S+x+y:"0"===v?S+y+x:y+S+x)}return C}(function(d){if(l[d])return l[d];for(var c,x=d,g=[],h=0;x;){if(null!==(c=n.text.exec(x)))g.push(c[0]);else if(null!==(c=n.modulo.exec(x)))g.push("%");else{if(null===(c=n.placeholder.exec(x)))throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){h|=1;var m=[],y=c[2],v=[];if(null===(v=n.key.exec(y)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(m.push(v[1]);""!==(y=y.substring(v[0].length));)if(null!==(v=n.key_access.exec(y)))m.push(v[1]);else{if(null===(v=n.index_access.exec(y)))throw new SyntaxError("[sprintf] failed to parse named argument key");m.push(v[1])}c[2]=m}else h|=2;if(3===h)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");g.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}x=x.substring(c[0].length)}return l[d]=g}(u),arguments)}function o(u,d){return r.apply(null,[u].concat(d||[]))}var l=Object.create(null);s.sprintf=r,s.vsprintf=o,typeof window<"u"&&(window.sprintf=r,window.vsprintf=o,void 0===(i=function(){return{sprintf:r,vsprintf:o}}.call(s,t,s,p))||(p.exports=i))}()},4162:function(p,s,t){"use strict";p.exports=function(l,u){if(l.dimension<=0)return{positions:[],cells:[]};if(1===l.dimension)return function(x,g){for(var h=n(x,g),m=h.length,y=new Array(m),v=new Array(m),_=0;_<m;++_)y[_]=[h[_]],v[_]=[_];return{positions:y,cells:v}}(l,u);var d=l.order.join()+"-"+l.dtype,c=o[d];return u=+u||0,c||(c=o[d]=function(x,g){var h=x.length+"d",m=r[h];if(m)return m(i,x,g)}(l.order,l.dtype)),c(l,u)};var i=t(9284),n=t(9584),r={"2d":function(l,u,d){var c=l({order:u,scalarArguments:3,getters:"generic"===d?[0]:void 0,phase:function(x,g,h,m){return x>m|0},vertex:function(x,g,h,m,y,v,_,f,S,w,E,C,O){var P=(_<<0)+(f<<1)+(S<<2)+(w<<3)|0;if(0!==P&&15!==P)switch(P){case 0:case 15:E.push([x-.5,g-.5]);break;case 1:E.push([x-.25-.25*(m+h-2*O)/(h-m),g-.25-.25*(y+h-2*O)/(h-y)]);break;case 2:E.push([x-.75-.25*(-m-h+2*O)/(m-h),g-.25-.25*(v+m-2*O)/(m-v)]);break;case 3:E.push([x-.5,g-.5-.5*(y+h+v+m-4*O)/(h-y+m-v)]);break;case 4:E.push([x-.25-.25*(v+y-2*O)/(y-v),g-.75-.25*(-y-h+2*O)/(y-h)]);break;case 5:E.push([x-.5-.5*(m+h+v+y-4*O)/(h-m+y-v),g-.5]);break;case 6:E.push([x-.5-.25*(-m-h+v+y)/(m-h+y-v),g-.5-.25*(-y-h+v+m)/(y-h+m-v)]);break;case 7:E.push([x-.75-.25*(v+y-2*O)/(y-v),g-.75-.25*(v+m-2*O)/(m-v)]);break;case 8:E.push([x-.75-.25*(-v-y+2*O)/(v-y),g-.75-.25*(-v-m+2*O)/(v-m)]);break;case 9:E.push([x-.5-.25*(m+h+-v-y)/(h-m+v-y),g-.5-.25*(y+h+-v-m)/(h-y+v-m)]);break;case 10:E.push([x-.5-.5*(-m-h-v-y+4*O)/(m-h+v-y),g-.5]);break;case 11:E.push([x-.25-.25*(-v-y+2*O)/(v-y),g-.75-.25*(y+h-2*O)/(h-y)]);break;case 12:E.push([x-.5,g-.5-.5*(-y-h-v-m+4*O)/(y-h+v-m)]);break;case 13:E.push([x-.75-.25*(m+h-2*O)/(h-m),g-.25-.25*(-v-m+2*O)/(v-m)]);break;case 14:E.push([x-.25-.25*(-m-h+2*O)/(m-h),g-.25-.25*(-y-h+2*O)/(y-h)])}},cell:function(x,g,h,m,y,v,_,f,S){y?f.push([x,g]):f.push([g,x])}});return function(x,g){var h=[],m=[];return c(x,h,m,g),{positions:h,cells:m}}}},o={}},6946:function(p,s,t){"use strict";p.exports=function o(l,u,d){d=d||{};var c=r[l];c||(c=r[l]={" ":{data:new Float32Array(0),shape:.2}});var x=c[u];if(!x)if(u.length<=1||!/\d/.test(u))x=c[u]=function(C){for(var O=C.cells,P=C.positions,R=new Float32Array(6*O.length),j=0,z=0,N=0;N<O.length;++N)for(var Y=O[N],F=0;F<3;++F){var U=P[Y[F]];R[j++]=U[0],R[j++]=U[1]+1.4,z=Math.max(U[0],z)}return{data:R,shape:z}}(i(u,{triangles:!0,font:l,textAlign:d.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var g=u.split(/(\d|\s)/),h=new Array(g.length),m=0,y=0,v=0;v<g.length;++v)h[v]=o(l,g[v]),m+=h[v].data.length,y+=h[v].shape,v>0&&(y+=.02);var _=new Float32Array(m),f=0,S=-.5*y;for(v=0;v<h.length;++v){for(var w=h[v].data,E=0;E<w.length;E+=2)_[f++]=w[E]+S,_[f++]=w[E+1];S+=h[v].shape+.02}x=c[u]={data:_,shape:y}}return x};var i=t(875),n=window||k.global||{},r=n.__TEXT_CACHE||{};n.__TEXT_CACHE={}},14:function(p,s,t){"use strict";var i=t(4405);p.exports=o;var n=96;function r(l,u){var d=i(getComputedStyle(l).getPropertyValue(u));return d[0]*o(d[1],l)}function o(l,u){switch(u=u||document.body,l=(l||"px").trim().toLowerCase(),u!==window&&u!==document||(u=document.body),l){case"%":return u.clientHeight/100;case"ch":case"ex":return function(d,c){var x=document.createElement("div");x.style["font-size"]="128"+d,c.appendChild(x);var g=r(x,"font-size")/128;return c.removeChild(x),g}(l,u);case"em":return r(u,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return n;case"cm":return n/2.54;case"mm":return n/25.4;case"pt":return n/72;case"pc":return n/6}return 1}},3440:function(p,s,t){"use strict";p.exports=function(y){var v=(y=y||{}).center||[0,0,0],_=y.up||[0,1,0],f=y.right||x(_),S=y.radius||1,w=y.theta||0,E=y.phi||0;if(v=[].slice.call(v,0,3),_=[].slice.call(_,0,3),l(_,_),f=[].slice.call(f,0,3),l(f,f),"eye"in y){var C=y.eye,O=[C[0]-v[0],C[1]-v[1],C[2]-v[2]];o(f,O,_),d(f[0],f[1],f[2])<1e-6?f=x(_):l(f,f),S=d(O[0],O[1],O[2]);var P=u(_,O)/S,R=u(f,O)/S;E=Math.acos(P),w=Math.acos(R)}return S=Math.log(S),new g(y.zoomMin,y.zoomMax,v,_,f,S,w,E)};var i=t(8444),n=t(7437),r=t(4422),o=t(903),l=t(899),u=t(9305);function d(y,v,_){return Math.sqrt(Math.pow(y,2)+Math.pow(v,2)+Math.pow(_,2))}function c(y){return Math.min(1,Math.max(-1,y))}function x(y){var v=Math.abs(y[0]),_=Math.abs(y[1]),f=Math.abs(y[2]),S=[0,0,0];v>Math.max(_,f)?S[2]=1:_>Math.max(v,f)?S[0]=1:S[1]=1;for(var w=0,E=0,C=0;C<3;++C)w+=y[C]*y[C],E+=S[C]*y[C];for(C=0;C<3;++C)S[C]-=E/w*y[C];return l(S,S),S}function g(y,v,_,f,S,w,E,C){this.center=i(_),this.up=i(f),this.right=i(S),this.radius=i([w]),this.angle=i([E,C]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(y,v),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var O=0;O<16;++O)this.computedMatrix[O]=.5;this.recalcMatrix(0)}var h=g.prototype;h.setDistanceLimits=function(y,v){y=y>0?Math.log(y):-1/0,v=v>0?Math.log(v):1/0,v=Math.max(v,y),this.radius.bounds[0][0]=y,this.radius.bounds[1][0]=v},h.getDistanceLimits=function(y){var v=this.radius.bounds[0];return y?(y[0]=Math.exp(v[0][0]),y[1]=Math.exp(v[1][0]),y):[Math.exp(v[0][0]),Math.exp(v[1][0])]},h.recalcMatrix=function(y){this.center.curve(y),this.up.curve(y),this.right.curve(y),this.radius.curve(y),this.angle.curve(y);for(var v=this.computedUp,_=this.computedRight,f=0,S=0,w=0;w<3;++w)S+=v[w]*_[w],f+=v[w]*v[w];var E=Math.sqrt(f),C=0;for(w=0;w<3;++w)_[w]-=v[w]*S/f,C+=_[w]*_[w],v[w]/=E;var O=Math.sqrt(C);for(w=0;w<3;++w)_[w]/=O;var P=this.computedToward;o(P,v,_),l(P,P);var R=Math.exp(this.computedRadius[0]),j=this.computedAngle[0],z=this.computedAngle[1],N=Math.cos(j),Y=Math.sin(j),F=Math.cos(z),U=Math.sin(z),V=this.computedCenter,te=N*F,$=Y*F,X=U,W=-N*U,J=-Y*U,Q=F,re=this.computedEye,ae=this.computedMatrix;for(w=0;w<3;++w){var oe=te*_[w]+$*P[w]+X*v[w];ae[4*w+1]=W*_[w]+J*P[w]+Q*v[w],ae[4*w+2]=oe,ae[4*w+3]=0}var ue=ae[1],ve=ae[5],be=ae[9],de=ae[2],pe=ae[6],ge=ae[10],Ae=ve*ge-be*pe,ye=be*de-ue*ge,we=ue*pe-ve*de,se=d(Ae,ye,we);for(Ae/=se,ye/=se,we/=se,ae[0]=Ae,ae[4]=ye,ae[8]=we,w=0;w<3;++w)re[w]=V[w]+ae[2+4*w]*R;for(w=0;w<3;++w){C=0;for(var ie=0;ie<3;++ie)C+=ae[w+4*ie]*re[ie];ae[12+w]=-C}ae[15]=1},h.getMatrix=function(y,v){this.recalcMatrix(y);var _=this.computedMatrix;if(v){for(var f=0;f<16;++f)v[f]=_[f];return v}return _};var m=[0,0,0];h.rotate=function(y,v,_,f){if(this.angle.move(y,v,_),f){this.recalcMatrix(y);var S=this.computedMatrix;m[0]=S[2],m[1]=S[6],m[2]=S[10];for(var w=this.computedUp,E=this.computedRight,C=this.computedToward,O=0;O<3;++O)S[4*O]=w[O],S[4*O+1]=E[O],S[4*O+2]=C[O];for(r(S,S,f,m),O=0;O<3;++O)w[O]=S[4*O],E[O]=S[4*O+1];this.up.set(y,w[0],w[1],w[2]),this.right.set(y,E[0],E[1],E[2])}},h.pan=function(y,v,_,f){v=v||0,_=_||0,f=f||0,this.recalcMatrix(y);var S=this.computedMatrix,w=(Math.exp(this.computedRadius[0]),S[1]),E=S[5],C=S[9],O=d(w,E,C);w/=O,E/=O,C/=O;var P=S[0],R=S[4],j=S[8],z=P*w+R*E+j*C,N=d(P-=w*z,R-=E*z,j-=C*z),Y=(P/=N)*v+w*_,F=(R/=N)*v+E*_,U=(j/=N)*v+C*_;this.center.move(y,Y,F,U);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+f),this.radius.set(y,Math.log(V))},h.translate=function(y,v,_,f){this.center.move(y,v||0,_||0,f||0)},h.setMatrix=function(y,v,_,f){var S=1;"number"==typeof _&&(S=0|_),(S<0||S>3)&&(S=1);var w=(S+2)%3;v||(this.recalcMatrix(y),v=this.computedMatrix);var E=v[S],C=v[S+4],O=v[S+8];if(f){var P=Math.abs(E),R=Math.abs(C),j=Math.abs(O),z=Math.max(P,R,j);P===z?(E=E<0?-1:1,C=O=0):j===z?(O=O<0?-1:1,E=C=0):(C=C<0?-1:1,E=O=0)}else{var N=d(E,C,O);E/=N,C/=N,O/=N}var Y,F,U=v[w],V=v[w+4],te=v[w+8],$=U*E+V*C+te*O,X=d(U-=E*$,V-=C*$,te-=O*$),W=C*(te/=X)-O*(V/=X),J=O*(U/=X)-E*te,Q=E*V-C*U,re=d(W,J,Q);if(W/=re,J/=re,Q/=re,this.center.jump(y,Me,Ee,Ie),this.radius.idle(y),this.up.jump(y,E,C,O),this.right.jump(y,U,V,te),2===S){var ae=v[1],oe=v[5],ue=v[9],ve=ae*U+oe*V+ue*te,be=ae*W+oe*J+ue*Q;Y=Ae<0?-Math.PI/2:Math.PI/2,F=Math.atan2(be,ve)}else{var de=v[2],pe=v[6],ge=v[10],Ae=de*E+pe*C+ge*O,ye=de*U+pe*V+ge*te,we=de*W+pe*J+ge*Q;Y=Math.asin(c(Ae)),F=Math.atan2(we,ye)}this.angle.jump(y,F,Y),this.recalcMatrix(y);var se=v[2],ie=v[6],he=v[10],Se=this.computedMatrix;n(Se,v);var _e=Se[15],Me=Se[12]/_e,Ee=Se[13]/_e,Ie=Se[14]/_e,fe=Math.exp(this.computedRadius[0]);this.center.jump(y,Me-se*fe,Ee-ie*fe,Ie-he*fe)},h.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},h.idle=function(y){this.center.idle(y),this.up.idle(y),this.right.idle(y),this.radius.idle(y),this.angle.idle(y)},h.flush=function(y){this.center.flush(y),this.up.flush(y),this.right.flush(y),this.radius.flush(y),this.angle.flush(y)},h.setDistance=function(y,v){v>0&&this.radius.set(y,Math.log(v))},h.lookAt=function(y,v,_,f){this.recalcMatrix(y),v=v||this.computedEye,_=_||this.computedCenter;var S=(f=f||this.computedUp)[0],w=f[1],E=f[2],C=d(S,w,E);if(!(C<1e-6)){S/=C,w/=C,E/=C;var O=v[0]-_[0],P=v[1]-_[1],R=v[2]-_[2],j=d(O,P,R);if(!(j<1e-6)){O/=j,P/=j,R/=j;var z=this.computedRight,N=z[0],Y=z[1],F=z[2],U=S*N+w*Y+E*F,V=d(N-=U*S,Y-=U*w,F-=U*E);if(!(V<.01&&(V=d(N=w*R-E*P,Y=E*O-S*R,F=S*P-w*O))<1e-6)){N/=V,Y/=V,F/=V,this.up.set(y,S,w,E),this.right.set(y,N,Y,F),this.center.set(y,_[0],_[1],_[2]),this.radius.set(y,Math.log(j));var te=w*F-E*Y,$=E*N-S*F,X=S*Y-w*N,W=d(te,$,X),J=S*O+w*P+E*R,Q=N*O+Y*P+F*R,re=(te/=W)*O+($/=W)*P+(X/=W)*R,ae=Math.asin(c(J)),oe=Math.atan2(re,Q),ue=this.angle._state,ve=ue[ue.length-1],be=ue[ue.length-2];ve%=2*Math.PI;var de=Math.abs(ve+2*Math.PI-oe),pe=Math.abs(ve-oe),ge=Math.abs(ve-2*Math.PI-oe);de<pe&&(ve+=2*Math.PI),ge<pe&&(ve-=2*Math.PI),this.angle.jump(this.angle.lastT(),ve,be),this.angle.set(y,oe,ae)}}}}},9660:function(p){"use strict";p.exports=function(t,i,n){var r=t*i,o=s*t,l=o-(o-t),u=t-l,d=s*i,c=d-(d-i),x=i-c,g=u*x-(r-l*c-u*c-l*x);return n?(n[0]=g,n[1]=r,n):[g,r]};var s=+(Math.pow(2,27)+1)},87:function(p){"use strict";p.exports=function(s,t,i){var n=s+t,r=n-s,o=t-r,l=s-(n-r);return i?(i[0]=l+o,i[1]=n,i):[l+o,n]}},5306:function(p,s,t){"use strict";var i=t(2288),n=t(3094),r=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:n([32,0]),UINT16:n([32,0]),UINT32:n([32,0]),BIGUINT64:n([32,0]),INT8:n([32,0]),INT16:n([32,0]),INT32:n([32,0]),BIGINT64:n([32,0]),FLOAT:n([32,0]),DOUBLE:n([32,0]),DATA:n([32,0]),UINT8C:n([32,0]),BUFFER:n([32,0])});var o=typeof Uint8ClampedArray<"u",l=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",d=t.g.__TYPEDARRAY_POOL;d.UINT8C||(d.UINT8C=n([32,0])),d.BIGUINT64||(d.BIGUINT64=n([32,0])),d.BIGINT64||(d.BIGINT64=n([32,0])),d.BUFFER||(d.BUFFER=n([32,0]));var c=d.DATA,x=d.BUFFER;function g(z){if(z){var N=z.length||z.byteLength,Y=i.log2(N);c[Y].push(z)}}function h(z){z=i.nextPow2(z);var N=i.log2(z),Y=c[N];return Y.length>0?Y.pop():new ArrayBuffer(z)}function m(z){return new Uint8Array(h(z),0,z)}function y(z){return new Uint16Array(h(2*z),0,z)}function v(z){return new Uint32Array(h(4*z),0,z)}function _(z){return new Int8Array(h(z),0,z)}function f(z){return new Int16Array(h(2*z),0,z)}function S(z){return new Int32Array(h(4*z),0,z)}function w(z){return new Float32Array(h(4*z),0,z)}function E(z){return new Float64Array(h(8*z),0,z)}function C(z){return o?new Uint8ClampedArray(h(z),0,z):m(z)}function O(z){return l?new BigUint64Array(h(8*z),0,z):null}function P(z){return u?new BigInt64Array(h(8*z),0,z):null}function R(z){return new DataView(h(z),0,z)}function j(z){z=i.nextPow2(z);var N=i.log2(z),Y=x[N];return Y.length>0?Y.pop():new r(z)}s.free=function(z){if(r.isBuffer(z))x[i.log2(z.length)].push(z);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(z)&&(z=z.buffer),!z)return;var N=z.length||z.byteLength,Y=0|i.log2(N);c[Y].push(z)}},s.freeUint8=s.freeUint16=s.freeUint32=s.freeBigUint64=s.freeInt8=s.freeInt16=s.freeInt32=s.freeBigInt64=s.freeFloat32=s.freeFloat=s.freeFloat64=s.freeDouble=s.freeUint8Clamped=s.freeDataView=function(z){g(z.buffer)},s.freeArrayBuffer=g,s.freeBuffer=function(z){x[i.log2(z.length)].push(z)},s.malloc=function(z,N){if(void 0===N||"arraybuffer"===N)return h(z);switch(N){case"uint8":return m(z);case"uint16":return y(z);case"uint32":return v(z);case"int8":return _(z);case"int16":return f(z);case"int32":return S(z);case"float":case"float32":return w(z);case"double":case"float64":return E(z);case"uint8_clamped":return C(z);case"bigint64":return P(z);case"biguint64":return O(z);case"buffer":return j(z);case"data":case"dataview":return R(z);default:return null}return null},s.mallocArrayBuffer=h,s.mallocUint8=m,s.mallocUint16=y,s.mallocUint32=v,s.mallocInt8=_,s.mallocInt16=f,s.mallocInt32=S,s.mallocFloat32=s.mallocFloat=w,s.mallocFloat64=s.mallocDouble=E,s.mallocUint8Clamped=C,s.mallocBigUint64=O,s.mallocBigInt64=P,s.mallocDataView=R,s.mallocBuffer=j,s.clearCache=function(){for(var z=0;z<32;++z)d.UINT8[z].length=0,d.UINT16[z].length=0,d.UINT32[z].length=0,d.INT8[z].length=0,d.INT16[z].length=0,d.INT32[z].length=0,d.FLOAT[z].length=0,d.DOUBLE[z].length=0,d.BIGUINT64[z].length=0,d.BIGINT64[z].length=0,d.UINT8C[z].length=0,c[z].length=0,x[z].length=0}},1731:function(p){"use strict";function s(i){this.roots=new Array(i),this.ranks=new Array(i);for(var n=0;n<i;++n)this.roots[n]=n,this.ranks[n]=0}p.exports=s;var t=s.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},t.find=function(i){for(var n=i,r=this.roots;r[i]!==i;)i=r[i];for(;r[n]!==i;){var o=r[n];r[n]=i,n=o}return i},t.link=function(i,n){var r=this.find(i),o=this.find(n);if(r!==o){var l=this.ranks,u=this.roots,d=l[r],c=l[o];d<c?u[r]=o:c<d?u[o]=r:(u[o]=r,++l[r])}}},1215:function(p){"use strict";p.exports=function(s,t,i){return 0===s.length?s:t?(i||s.sort(t),function(n,r){for(var o=1,l=n.length,u=n[0],d=n[0],c=1;c<l;++c)if(d=u,r(u=n[c],d)){if(c===o){o++;continue}n[o++]=u}return n.length=o,n}(s,t)):(i||s.sort(),function(n){for(var r=1,o=n.length,l=n[0],u=n[0],d=1;d<o;++d,u=l)if(u=l,(l=n[d])!==u){if(d===r){r++;continue}n[r++]=l}return n.length=r,n}(s))}},875:function(p,s,t){"use strict";p.exports=function(o,l){return"object"==typeof l&&null!==l||(l={}),i(o,l.canvas||n,l.context||r,l)};var i=t(712),n=null,r=null;typeof document<"u"&&((n=document.createElement("canvas")).width=8192,n.height=1024,r=n.getContext("2d"))},712:function(p,s,t){p.exports=function(O,P,R,j){var z=64,N=1.25,Y={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return j&&(j.size&&j.size>0&&(z=j.size),j.lineSpacing&&j.lineSpacing>0&&(N=j.lineSpacing),j.styletags&&j.styletags.breaklines&&(Y.breaklines=!!j.styletags.breaklines),j.styletags&&j.styletags.bolds&&(Y.bolds=!!j.styletags.bolds),j.styletags&&j.styletags.italics&&(Y.italics=!!j.styletags.italics),j.styletags&&j.styletags.subscripts&&(Y.subscripts=!!j.styletags.subscripts),j.styletags&&j.styletags.superscripts&&(Y.superscripts=!!j.styletags.superscripts)),R.font=[j.fontStyle,j.fontVariant,j.fontWeight,z+"px",j.font].filter(function(F){return F}).join(" "),R.textAlign="start",R.textBaseline="alphabetic",R.direction="ltr",C(function(F,U,V,te,$,X){V=V.replace(/\n/g,""),V=!0===X.breaklines?V.replace(/\<br\>/g,"\n"):V.replace(/\<br\>/g," ");var W="",J=[];for(oe=0;oe<V.length;++oe)J[oe]=W;!0===X.bolds&&(J=S(d,c,V,J)),!0===X.italics&&(J=S(x,g,V,J)),!0===X.superscripts&&(J=S(h,y,V,J)),!0===X.subscripts&&(J=S(v,f,V,J));var Q=[],re="";for(oe=0;oe<V.length;++oe)null!==J[oe]&&(re+=V[oe],Q.push(J[oe]));var ae,oe,ue,ve,be,de=re.split("\n"),pe=de.length,ge=Math.round($*te),Ae=te,ye=2*te,we=0,se=pe*ge+ye;F.height<se&&(F.height=se),U.fillStyle="#000",U.fillRect(0,0,F.width,F.height),U.fillStyle="#fff";var ie=0,he="";function Se(){if(""!==he){var Ce=U.measureText(he).width;U.fillText(he,Ae+ue,ye+ve),ue+=Ce}}function _e(){return Math.round(be)+"px "}function Me(Ce,De){var ze=""+U.font;if(!0===X.subscripts){var Ue=Ce.indexOf(_),Ve=De.indexOf(_),Xe=Ue>-1?parseInt(Ce[1+Ue]):0,at=Ve>-1?parseInt(De[1+Ve]):0;Xe!==at&&(ze=ze.replace(_e(),"?px "),be*=Math.pow(.75,at-Xe),ze=ze.replace("?px ",_e())),ve+=.25*ge*(at-Xe)}if(!0===X.superscripts){var st=Ce.indexOf(m),ht=De.indexOf(m),bt=st>-1?parseInt(Ce[1+st]):0,vt=ht>-1?parseInt(De[1+ht]):0;bt!==vt&&(ze=ze.replace(_e(),"?px "),be*=Math.pow(.75,vt-bt),ze=ze.replace("?px ",_e())),ve-=.25*ge*(vt-bt)}if(!0===X.bolds){var Qe=Ce.indexOf(c)>-1,nt=De.indexOf(c)>-1;!Qe&&nt&&(ze=wt?ze.replace("italic ","italic bold "):"bold "+ze),Qe&&!nt&&(ze=ze.replace("bold ",""))}if(!0===X.italics){var wt=Ce.indexOf(g)>-1,Ot=De.indexOf(g)>-1;!wt&&Ot&&(ze="italic "+ze),wt&&!Ot&&(ze=ze.replace("italic ",""))}U.font=ze}for(ae=0;ae<pe;++ae){var Ee=de[ae]+"\n";for(ue=0,ve=ae*ge,be=te,he="",oe=0;oe<Ee.length;++oe){var Ie=oe+ie<Q.length?Q[oe+ie]:Q[Q.length-1];W===Ie?he+=Ee[oe]:(Se(),he=Ee[oe],void 0!==Ie&&(Me(W,Ie),W=Ie))}Se(),ie+=Ee.length;var fe=0|Math.round(ue+2*Ae);we<fe&&(we=fe)}var xe=we,Te=ye+ge*pe;return n(U.getImageData(0,0,xe,Te).data,[Te,xe,4]).pick(-1,-1,0).transpose(1,0)}(P,R,O,z,N,Y),j,z)},p.exports.processPixels=C;var i=t(4162),n=t(5050),r=t(8243),o=t(197),l=t(7761),u=t(8040),d="b",c="b|",x="i",g="i|",h="sup",m="+",y="+1",v="sub",_="-",f="-1";function S(O,P,R,j){for(var z="<"+O+">",N="</"+O+">",Y=z.length,F=N.length,U=P[0]===m||P[0]===_,V=0,te=-F;V>-1&&-1!==(V=R.indexOf(z,V))&&-1!==(te=R.indexOf(N,V+Y))&&!(te<=V);){for(var $=V;$<te+F;++$)if($<V+Y||$>=te)j[$]=null,R=R.substr(0,$)+" "+R.substr($+1);else if(null!==j[$]){var X=j[$].indexOf(P[0]);-1===X?j[$]+=P:U&&(j[$]=j[$].substr(0,X+1)+(1+parseInt(j[$][X+1]))+j[$].substr(X+2))}var W=V+Y,J=R.substr(W,te-W).indexOf(z);V=-1!==J?J:te+F}return j}function w(O,P){var R=i(O,128);return P?r(R.cells,R.positions,.25):{edges:R.cells,positions:R.positions}}function E(O,P,R,j){var z=w(O,j),N=function(ae,oe,ue){for(var ve=oe.textAlign||"start",be=oe.textBaseline||"alphabetic",de=[1<<30,1<<30],pe=[0,0],ge=ae.length,Ae=0;Ae<ge;++Ae)for(var ye=ae[Ae],we=0;we<2;++we)de[we]=0|Math.min(de[we],ye[we]),pe[we]=0|Math.max(pe[we],ye[we]);var se=0;switch(ve){case"center":se=-.5*(de[0]+pe[0]);break;case"right":case"end":se=-pe[0];break;case"left":case"start":se=-de[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+ve+"'")}var ie=0;switch(be){case"hanging":case"top":ie=-de[1];break;case"middle":ie=-.5*(de[1]+pe[1]);break;case"alphabetic":case"ideographic":ie=-3*ue;break;case"bottom":ie=-pe[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+be+"'")}var he=1/ue;return"lineHeight"in oe?he*=+oe.lineHeight:"width"in oe?he=oe.width/(pe[0]-de[0]):"height"in oe&&(he=oe.height/(pe[1]-de[1])),ae.map(function(Se){return[he*(Se[0]+se),he*(Se[1]+ie)]})}(z.positions,P,R),Y=z.edges,F="ccw"===P.orientation;if(o(N,Y),P.polygons||P.polygon||P.polyline){for(var U=u(Y,N),V=new Array(U.length),te=0;te<U.length;++te){for(var $=U[te],X=new Array($.length),W=0;W<$.length;++W){for(var J=$[W],Q=new Array(J.length),re=0;re<J.length;++re)Q[re]=N[J[re]].slice();F&&Q.reverse(),X[W]=Q}V[te]=X}return V}return P.triangles||P.triangulate||P.triangle?{cells:l(N,Y,{delaunay:!1,exterior:!1,interior:!0}),positions:N}:{edges:Y,positions:N}}function C(O,P,R){try{return E(O,P,R,!0)}catch{}try{return E(O,P,R,!1)}catch{}return P.polygons||P.polyline||P.polygon?[]:P.triangles||P.triangulate||P.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(p){!function(){"use strict";if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=v);var s=!1;if("function"==typeof WeakMap){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new t,n=Object.freeze({});if(i.set(n,1),1===i.get(n))return void(p.exports=WeakMap);s=!0}}var r=Object.getOwnPropertyNames,o=Object.defineProperty,l=Object.isExtensible,u="weakmap:",d=u+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var c=new ArrayBuffer(25),x=new Uint8Array(c);crypto.getRandomValues(x),d=u+"rand:"+Array.prototype.map.call(x,function(E){return(E%36).toString(36)}).join("")+"___"}if(o(Object,"getOwnPropertyNames",{value:function(E){return r(E).filter(_)}}),"getPropertyNames"in Object){var g=Object.getPropertyNames;o(Object,"getPropertyNames",{value:function(E){return g(E).filter(_)}})}!function(){var E=Object.freeze;o(Object,"freeze",{value:function(P){return f(P),E(P)}});var C=Object.seal;o(Object,"seal",{value:function(P){return f(P),C(P)}});var O=Object.preventExtensions;o(Object,"preventExtensions",{value:function(P){return f(P),O(P)}})}();var h=!1,m=0,y=function(){this instanceof y||w();var E=[],C=[],O=m++;return Object.create(y.prototype,{get___:{value:S(function(P,R){var j,z=f(P);return z?O in z?z[O]:R:(j=E.indexOf(P))>=0?C[j]:R})},has___:{value:S(function(P){var R=f(P);return R?O in R:E.indexOf(P)>=0})},set___:{value:S(function(P,R){var j,z=f(P);return z?z[O]=R:(j=E.indexOf(P))>=0?C[j]=R:(j=E.length,C[j]=R,E[j]=P),this})},delete___:{value:S(function(P){var R,j,z=f(P);return z?O in z&&delete z[O]:!((R=E.indexOf(P))<0||(j=E.length-1,E[R]=void 0,C[R]=C[j],E[R]=E[j],E.length=j,C.length=j,0))})}})};y.prototype=Object.create(Object.prototype,{get:{value:function(E,C){return this.get___(E,C)},writable:!0,configurable:!0},has:{value:function(E){return this.has___(E)},writable:!0,configurable:!0},set:{value:function(E,C){return this.set___(E,C)},writable:!0,configurable:!0},delete:{value:function(E){return this.delete___(E)},writable:!0,configurable:!0}}),"function"==typeof t?function(){function E(){this instanceof y||w();var C,O=new t,P=void 0,R=!1;return C=s?function(j,z){return O.set(j,z),O.has(j)||(P||(P=new y),P.set(j,z)),this}:function(j,z){if(R)try{O.set(j,z)}catch{P||(P=new y),P.set___(j,z)}else O.set(j,z);return this},Object.create(y.prototype,{get___:{value:S(function(j,z){return P?O.has(j)?O.get(j):P.get___(j,z):O.get(j,z)})},has___:{value:S(function(j){return O.has(j)||!!P&&P.has___(j)})},set___:{value:S(C)},delete___:{value:S(function(j){var z=!!O.delete(j);return P&&P.delete___(j)||z})},permitHostObjects___:{value:S(function(j){if(j!==v)throw new Error("bogus call to permitHostObjects___");R=!0})}})}s&&typeof Proxy<"u"&&(Proxy=void 0),E.prototype=y.prototype,p.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),p.exports=y)}function v(E){E.permitHostObjects___&&E.permitHostObjects___(v)}function _(E){return!(E.substr(0,8)==u&&"___"===E.substr(E.length-3))}function f(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var C=E[d];if(C&&C.key===E)return C;if(l(E)){C={key:E};try{return o(E,d,{value:C,writable:!1,enumerable:!1,configurable:!1}),C}catch{return}}}function S(E){return E.prototype=null,Object.freeze(E)}function w(){h||typeof console>"u"||(h=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(p,s,t){var i=t(7178);p.exports=function(){var n={};return function(r){if(("object"!=typeof r||null===r)&&"function"!=typeof r)throw new Error("Weakmap-shim: Key must be object");var o=r.valueOf(n);return o&&o.identity===n?o:i(r,n)}}},7178:function(p){p.exports=function(s,t){var i={identity:t},n=s.valueOf;return Object.defineProperty(s,"valueOf",{value:function(r){return r!==t?n.apply(this,arguments):i},writable:!0}),i}},4037:function(p,s,t){var i=t(9222);p.exports=function(){var n=i();return{get:function(r,o){var l=n(r);return l.hasOwnProperty("value")?l.value:o},set:function(r,o){return n(r).value=o,this},has:function(r){return"value"in n(r)},delete:function(r){return delete n(r).value}}}},6183:function(p){"use strict";var s,t;p.exports=(s=function(){return function(s,t,i,n,r,o){var l=s[0],u=i[0],d=[0],c=u;n|=0;var x=0,g=u;for(x=0;x<l;++x){var h=t[n]-o,m=t[n+c]-o;h>=0!=m>=0&&r.push(d[0]+.5+.5*(h+m)/(h-m)),n+=g,++d[0]}}}.bind(void 0,{funcName:"zeroCrossings"}),t={},function(i,n,r){var o=i.dtype,l=i.order,u=[o,l.join()].join(),d=t[u];return d||(t[u]=d=s([o,l])),d(i.shape.slice(0),i.data,i.stride,0|i.offset,n,r)})},9584:function(p,s,t){"use strict";p.exports=function(n,r){var o=[];return r=+r||0,i(n.hi(n.shape[0]-1),o,r),o};var i=t(6183)},6601:function(){}},T={};function b(p){var s=T[p];if(void 0!==s)return s.exports;var t=T[p]={id:p,loaded:!1,exports:{}};return a[p].call(t.exports,t,t.exports,b),t.loaded=!0,t.exports}return b.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),b.nmd=function(p){return p.paths=[],p.children||(p.children=[]),p},b(7386)}()},ee.exports=M()},12856:function(ee,D,e){"use strict";function M(se,ie){for(var he=0;he<ie.length;he++){var Se=ie[he];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(se,(_e=function(Me,Ee){if("object"!==b(Me)||null===Me)return Me;var Ie=Me[Symbol.toPrimitive];if(void 0!==Ie){var fe=Ie.call(Me,"string");if("object"!==b(fe))return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Me)}(Se.key),"symbol"===b(_e)?_e:String(_e)),Se)}var _e}function k(se,ie){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,Se){return he.__proto__=Se,he})(se,ie)}function a(se){if(void 0===se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function T(se){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ie){return ie.__proto__||Object.getPrototypeOf(ie)})(se)}function b(se){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ie){return typeof ie}:function(ie){return ie&&"function"==typeof Symbol&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie})(se)}var p=e(95341),s=e(95280),t="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;D.Buffer=r,D.SlowBuffer=function(se){return+se!=se&&(se=0),r.alloc(+se)},D.INSPECT_MAX_BYTES=50;var i=2147483647;function n(se){if(se>i)throw new RangeError('The value "'+se+'" is invalid for option "size"');var ie=new Uint8Array(se);return Object.setPrototypeOf(ie,r.prototype),ie}function r(se,ie,he){if("number"==typeof se){if("string"==typeof ie)throw new TypeError('The "string" argument must be of type string. Received type number');return u(se)}return o(se,ie,he)}function o(se,ie,he){if("string"==typeof se)return function(Me,Ee){if("string"==typeof Ee&&""!==Ee||(Ee="utf8"),!r.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);var Ie=0|g(Me,Ee),fe=n(Ie),xe=fe.write(Me,Ee);return xe!==Ie&&(fe=fe.slice(0,xe)),fe}(se,ie);if(ArrayBuffer.isView(se))return function(Me){if(pe(Me,Uint8Array)){var Ee=new Uint8Array(Me);return c(Ee.buffer,Ee.byteOffset,Ee.byteLength)}return d(Me)}(se);if(null==se)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(se));if(pe(se,ArrayBuffer)||se&&pe(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(se,SharedArrayBuffer)||se&&pe(se.buffer,SharedArrayBuffer)))return c(se,ie,he);if("number"==typeof se)throw new TypeError('The "value" argument must not be of type number. Received type number');var Se=se.valueOf&&se.valueOf();if(null!=Se&&Se!==se)return r.from(Se,ie,he);var _e=function(Me){if(r.isBuffer(Me)){var Ee=0|x(Me.length),Ie=n(Ee);return 0===Ie.length||Me.copy(Ie,0,0,Ee),Ie}return void 0!==Me.length?"number"!=typeof Me.length||ge(Me.length)?n(0):d(Me):"Buffer"===Me.type&&Array.isArray(Me.data)?d(Me.data):void 0}(se);if(_e)return _e;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof se[Symbol.toPrimitive])return r.from(se[Symbol.toPrimitive]("string"),ie,he);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(se))}function l(se){if("number"!=typeof se)throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function u(se){return l(se),n(se<0?0:0|x(se))}function d(se){for(var ie=se.length<0?0:0|x(se.length),he=n(ie),Se=0;Se<ie;Se+=1)he[Se]=255&se[Se];return he}function c(se,ie,he){if(ie<0||se.byteLength<ie)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<ie+(he||0))throw new RangeError('"length" is outside of buffer bounds');var Se;return Se=void 0===ie&&void 0===he?new Uint8Array(se):void 0===he?new Uint8Array(se,ie):new Uint8Array(se,ie,he),Object.setPrototypeOf(Se,r.prototype),Se}function x(se){if(se>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|se}function g(se,ie){if(r.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||pe(se,ArrayBuffer))return se.byteLength;if("string"!=typeof se)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(se));var he=se.length,Se=arguments.length>2&&!0===arguments[2];if(!Se&&0===he)return 0;for(var _e=!1;;)switch(ie){case"ascii":case"latin1":case"binary":return he;case"utf8":case"utf-8":return ve(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*he;case"hex":return he>>>1;case"base64":return be(se).length;default:if(_e)return Se?-1:ve(se).length;ie=(""+ie).toLowerCase(),_e=!0}}function h(se,ie,he){var Se=!1;if((void 0===ie||ie<0)&&(ie=0),ie>this.length||((void 0===he||he>this.length)&&(he=this.length),he<=0)||(he>>>=0)<=(ie>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return z(this,ie,he);case"utf8":case"utf-8":return O(this,ie,he);case"ascii":return R(this,ie,he);case"latin1":case"binary":return j(this,ie,he);case"base64":return C(this,ie,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,ie,he);default:if(Se)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),Se=!0}}function m(se,ie,he){var Se=se[ie];se[ie]=se[he],se[he]=Se}function y(se,ie,he,Se,_e){if(0===se.length)return-1;if("string"==typeof he?(Se=he,he=0):he>2147483647?he=2147483647:he<-2147483648&&(he=-2147483648),ge(he=+he)&&(he=_e?0:se.length-1),he<0&&(he=se.length+he),he>=se.length){if(_e)return-1;he=se.length-1}else if(he<0){if(!_e)return-1;he=0}if("string"==typeof ie&&(ie=r.from(ie,Se)),r.isBuffer(ie))return 0===ie.length?-1:v(se,ie,he,Se,_e);if("number"==typeof ie)return ie&=255,"function"==typeof Uint8Array.prototype.indexOf?_e?Uint8Array.prototype.indexOf.call(se,ie,he):Uint8Array.prototype.lastIndexOf.call(se,ie,he):v(se,[ie],he,Se,_e);throw new TypeError("val must be string, number or Buffer")}function v(se,ie,he,Se,_e){var Me,Ee=1,Ie=se.length,fe=ie.length;if(void 0!==Se&&("ucs2"===(Se=String(Se).toLowerCase())||"ucs-2"===Se||"utf16le"===Se||"utf-16le"===Se)){if(se.length<2||ie.length<2)return-1;Ee=2,Ie/=2,fe/=2,he/=2}function xe(ze,Ue){return 1===Ee?ze[Ue]:ze.readUInt16BE(Ue*Ee)}if(_e){var Te=-1;for(Me=he;Me<Ie;Me++)if(xe(se,Me)===xe(ie,-1===Te?0:Me-Te)){if(-1===Te&&(Te=Me),Me-Te+1===fe)return Te*Ee}else-1!==Te&&(Me-=Me-Te),Te=-1}else for(he+fe>Ie&&(he=Ie-fe),Me=he;Me>=0;Me--){for(var Ce=!0,De=0;De<fe;De++)if(xe(se,Me+De)!==xe(ie,De)){Ce=!1;break}if(Ce)return Me}return-1}function _(se,ie,he,Se){he=Number(he)||0;var _e=se.length-he;Se?(Se=Number(Se))>_e&&(Se=_e):Se=_e;var Me,Ee=ie.length;for(Se>Ee/2&&(Se=Ee/2),Me=0;Me<Se;++Me){var Ie=parseInt(ie.substr(2*Me,2),16);if(ge(Ie))return Me;se[he+Me]=Ie}return Me}function f(se,ie,he,Se){return de(ve(ie,se.length-he),se,he,Se)}function S(se,ie,he,Se){return de(function(_e){for(var Me=[],Ee=0;Ee<_e.length;++Ee)Me.push(255&_e.charCodeAt(Ee));return Me}(ie),se,he,Se)}function w(se,ie,he,Se){return de(be(ie),se,he,Se)}function E(se,ie,he,Se){return de(function(_e,Me){for(var Ee,Ie,fe,xe=[],Te=0;Te<_e.length&&!((Me-=2)<0);++Te)Ie=(Ee=_e.charCodeAt(Te))>>8,fe=Ee%256,xe.push(fe),xe.push(Ie);return xe}(ie,se.length-he),se,he,Se)}function C(se,ie,he){return 0===ie&&he===se.length?p.fromByteArray(se):p.fromByteArray(se.slice(ie,he))}function O(se,ie,he){he=Math.min(se.length,he);for(var Se=[],_e=ie;_e<he;){var Me=se[_e],Ee=null,Ie=Me>239?4:Me>223?3:Me>191?2:1;if(_e+Ie<=he){var fe=void 0,xe=void 0,Te=void 0,Ce=void 0;switch(Ie){case 1:Me<128&&(Ee=Me);break;case 2:128==(192&(fe=se[_e+1]))&&(Ce=(31&Me)<<6|63&fe)>127&&(Ee=Ce);break;case 3:fe=se[_e+1],xe=se[_e+2],128==(192&fe)&&128==(192&xe)&&(Ce=(15&Me)<<12|(63&fe)<<6|63&xe)>2047&&(Ce<55296||Ce>57343)&&(Ee=Ce);break;case 4:fe=se[_e+1],xe=se[_e+2],Te=se[_e+3],128==(192&fe)&&128==(192&xe)&&128==(192&Te)&&(Ce=(15&Me)<<18|(63&fe)<<12|(63&xe)<<6|63&Te)>65535&&Ce<1114112&&(Ee=Ce)}}null===Ee?(Ee=65533,Ie=1):Ee>65535&&(Ee-=65536,Se.push(Ee>>>10&1023|55296),Ee=56320|1023&Ee),Se.push(Ee),_e+=Ie}return function(De){var ze=De.length;if(ze<=P)return String.fromCharCode.apply(String,De);for(var Ue="",Ve=0;Ve<ze;)Ue+=String.fromCharCode.apply(String,De.slice(Ve,Ve+=P));return Ue}(Se)}D.kMaxLength=i,r.TYPED_ARRAY_SUPPORT=function(){try{var se=new Uint8Array(1),ie={foo:function(){return 42}};return Object.setPrototypeOf(ie,Uint8Array.prototype),Object.setPrototypeOf(se,ie),42===se.foo()}catch{return!1}}(),r.TYPED_ARRAY_SUPPORT||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),r.poolSize=8192,r.from=function(se,ie,he){return o(se,ie,he)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(se,ie,he){return _e=ie,Me=he,l(Se=se),Se<=0?n(Se):void 0!==_e?"string"==typeof Me?n(Se).fill(_e,Me):n(Se).fill(_e):n(Se);var Se,_e,Me},r.allocUnsafe=function(se){return u(se)},r.allocUnsafeSlow=function(se){return u(se)},r.isBuffer=function(se){return null!=se&&!0===se._isBuffer&&se!==r.prototype},r.compare=function(se,ie){if(pe(se,Uint8Array)&&(se=r.from(se,se.offset,se.byteLength)),pe(ie,Uint8Array)&&(ie=r.from(ie,ie.offset,ie.byteLength)),!r.isBuffer(se)||!r.isBuffer(ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(se===ie)return 0;for(var he=se.length,Se=ie.length,_e=0,Me=Math.min(he,Se);_e<Me;++_e)if(se[_e]!==ie[_e]){he=se[_e],Se=ie[_e];break}return he<Se?-1:Se<he?1:0},r.isEncoding=function(se){switch(String(se).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(se,ie){if(!Array.isArray(se))throw new TypeError('"list" argument must be an Array of Buffers');if(0===se.length)return r.alloc(0);var he;if(void 0===ie)for(ie=0,he=0;he<se.length;++he)ie+=se[he].length;var Se=r.allocUnsafe(ie),_e=0;for(he=0;he<se.length;++he){var Me=se[he];if(pe(Me,Uint8Array))_e+Me.length>Se.length?(r.isBuffer(Me)||(Me=r.from(Me)),Me.copy(Se,_e)):Uint8Array.prototype.set.call(Se,Me,_e);else{if(!r.isBuffer(Me))throw new TypeError('"list" argument must be an Array of Buffers');Me.copy(Se,_e)}_e+=Me.length}return Se},r.byteLength=g,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var se=this.length;if(se%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ie=0;ie<se;ie+=2)m(this,ie,ie+1);return this},r.prototype.swap32=function(){var se=this.length;if(se%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ie=0;ie<se;ie+=4)m(this,ie,ie+3),m(this,ie+1,ie+2);return this},r.prototype.swap64=function(){var se=this.length;if(se%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ie=0;ie<se;ie+=8)m(this,ie,ie+7),m(this,ie+1,ie+6),m(this,ie+2,ie+5),m(this,ie+3,ie+4);return this},r.prototype.toString=function(){var se=this.length;return 0===se?"":0===arguments.length?O(this,0,se):h.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(se){if(!r.isBuffer(se))throw new TypeError("Argument must be a Buffer");return this===se||0===r.compare(this,se)},r.prototype.inspect=function(){var se="",ie=D.INSPECT_MAX_BYTES;return se=this.toString("hex",0,ie).replace(/(.{2})/g,"$1 ").trim(),this.length>ie&&(se+=" ... "),"<Buffer "+se+">"},t&&(r.prototype[t]=r.prototype.inspect),r.prototype.compare=function(se,ie,he,Se,_e){if(pe(se,Uint8Array)&&(se=r.from(se,se.offset,se.byteLength)),!r.isBuffer(se))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(se));if(void 0===ie&&(ie=0),void 0===he&&(he=se?se.length:0),void 0===Se&&(Se=0),void 0===_e&&(_e=this.length),ie<0||he>se.length||Se<0||_e>this.length)throw new RangeError("out of range index");if(Se>=_e&&ie>=he)return 0;if(Se>=_e)return-1;if(ie>=he)return 1;if(this===se)return 0;for(var Me=(_e>>>=0)-(Se>>>=0),Ee=(he>>>=0)-(ie>>>=0),Ie=Math.min(Me,Ee),fe=this.slice(Se,_e),xe=se.slice(ie,he),Te=0;Te<Ie;++Te)if(fe[Te]!==xe[Te]){Me=fe[Te],Ee=xe[Te];break}return Me<Ee?-1:Ee<Me?1:0},r.prototype.includes=function(se,ie,he){return-1!==this.indexOf(se,ie,he)},r.prototype.indexOf=function(se,ie,he){return y(this,se,ie,he,!0)},r.prototype.lastIndexOf=function(se,ie,he){return y(this,se,ie,he,!1)},r.prototype.write=function(se,ie,he,Se){if(void 0===ie)Se="utf8",he=this.length,ie=0;else if(void 0===he&&"string"==typeof ie)Se=ie,he=this.length,ie=0;else{if(!isFinite(ie))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ie>>>=0,isFinite(he)?(he>>>=0,void 0===Se&&(Se="utf8")):(Se=he,he=void 0)}var _e=this.length-ie;if((void 0===he||he>_e)&&(he=_e),se.length>0&&(he<0||ie<0)||ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");Se||(Se="utf8");for(var Me=!1;;)switch(Se){case"hex":return _(this,se,ie,he);case"utf8":case"utf-8":return f(this,se,ie,he);case"ascii":case"latin1":case"binary":return S(this,se,ie,he);case"base64":return w(this,se,ie,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,se,ie,he);default:if(Me)throw new TypeError("Unknown encoding: "+Se);Se=(""+Se).toLowerCase(),Me=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function R(se,ie,he){var Se="";he=Math.min(se.length,he);for(var _e=ie;_e<he;++_e)Se+=String.fromCharCode(127&se[_e]);return Se}function j(se,ie,he){var Se="";he=Math.min(se.length,he);for(var _e=ie;_e<he;++_e)Se+=String.fromCharCode(se[_e]);return Se}function z(se,ie,he){var Se=se.length;(!ie||ie<0)&&(ie=0),(!he||he<0||he>Se)&&(he=Se);for(var _e="",Me=ie;Me<he;++Me)_e+=Ae[se[Me]];return _e}function N(se,ie,he){for(var Se=se.slice(ie,he),_e="",Me=0;Me<Se.length-1;Me+=2)_e+=String.fromCharCode(Se[Me]+256*Se[Me+1]);return _e}function Y(se,ie,he){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+ie>he)throw new RangeError("Trying to access beyond buffer length")}function F(se,ie,he,Se,_e,Me){if(!r.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(ie>_e||ie<Me)throw new RangeError('"value" argument is out of bounds');if(he+Se>se.length)throw new RangeError("Index out of range")}function U(se,ie,he,Se,_e){re(ie,Se,_e,se,he,7);var Me=Number(ie&BigInt(4294967295));se[he++]=Me,Me>>=8,se[he++]=Me,Me>>=8,se[he++]=Me,Me>>=8,se[he++]=Me;var Ee=Number(ie>>BigInt(32)&BigInt(4294967295));return se[he++]=Ee,Ee>>=8,se[he++]=Ee,Ee>>=8,se[he++]=Ee,Ee>>=8,se[he++]=Ee,he}function V(se,ie,he,Se,_e){re(ie,Se,_e,se,he,7);var Me=Number(ie&BigInt(4294967295));se[he+7]=Me,Me>>=8,se[he+6]=Me,Me>>=8,se[he+5]=Me,Me>>=8,se[he+4]=Me;var Ee=Number(ie>>BigInt(32)&BigInt(4294967295));return se[he+3]=Ee,Ee>>=8,se[he+2]=Ee,Ee>>=8,se[he+1]=Ee,Ee>>=8,se[he]=Ee,he+8}function te(se,ie,he,Se,_e,Me){if(he+Se>se.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("Index out of range")}function $(se,ie,he,Se,_e){return ie=+ie,he>>>=0,_e||te(se,0,he,4),s.write(se,ie,he,Se,23,4),he+4}function X(se,ie,he,Se,_e){return ie=+ie,he>>>=0,_e||te(se,0,he,8),s.write(se,ie,he,Se,52,8),he+8}r.prototype.slice=function(se,ie){var he=this.length;(se=~~se)<0?(se+=he)<0&&(se=0):se>he&&(se=he),(ie=void 0===ie?he:~~ie)<0?(ie+=he)<0&&(ie=0):ie>he&&(ie=he),ie<se&&(ie=se);var Se=this.subarray(se,ie);return Object.setPrototypeOf(Se,r.prototype),Se},r.prototype.readUintLE=r.prototype.readUIntLE=function(se,ie,he){se>>>=0,ie>>>=0,he||Y(se,ie,this.length);for(var Se=this[se],_e=1,Me=0;++Me<ie&&(_e*=256);)Se+=this[se+Me]*_e;return Se},r.prototype.readUintBE=r.prototype.readUIntBE=function(se,ie,he){se>>>=0,ie>>>=0,he||Y(se,ie,this.length);for(var Se=this[se+--ie],_e=1;ie>0&&(_e*=256);)Se+=this[se+--ie]*_e;return Se},r.prototype.readUint8=r.prototype.readUInt8=function(se,ie){return se>>>=0,ie||Y(se,1,this.length),this[se]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(se,ie){return se>>>=0,ie||Y(se,2,this.length),this[se]|this[se+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(se,ie){return se>>>=0,ie||Y(se,2,this.length),this[se]<<8|this[se+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(se,ie){return se>>>=0,ie||Y(se,4,this.length),(this[se]|this[se+1]<<8|this[se+2]<<16)+16777216*this[se+3]},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(se,ie){return se>>>=0,ie||Y(se,4,this.length),16777216*this[se]+(this[se+1]<<16|this[se+2]<<8|this[se+3])},r.prototype.readBigUInt64LE=ye(function(se){ae(se>>>=0,"offset");var ie=this[se],he=this[se+7];void 0!==ie&&void 0!==he||oe(se,this.length-8);var Se=ie+this[++se]*Math.pow(2,8)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,24),_e=this[++se]+this[++se]*Math.pow(2,8)+this[++se]*Math.pow(2,16)+he*Math.pow(2,24);return BigInt(Se)+(BigInt(_e)<<BigInt(32))}),r.prototype.readBigUInt64BE=ye(function(se){ae(se>>>=0,"offset");var ie=this[se],he=this[se+7];void 0!==ie&&void 0!==he||oe(se,this.length-8);var Se=ie*Math.pow(2,24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+this[++se],_e=this[++se]*Math.pow(2,24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+he;return(BigInt(Se)<<BigInt(32))+BigInt(_e)}),r.prototype.readIntLE=function(se,ie,he){se>>>=0,ie>>>=0,he||Y(se,ie,this.length);for(var Se=this[se],_e=1,Me=0;++Me<ie&&(_e*=256);)Se+=this[se+Me]*_e;return Se>=(_e*=128)&&(Se-=Math.pow(2,8*ie)),Se},r.prototype.readIntBE=function(se,ie,he){se>>>=0,ie>>>=0,he||Y(se,ie,this.length);for(var Se=ie,_e=1,Me=this[se+--Se];Se>0&&(_e*=256);)Me+=this[se+--Se]*_e;return Me>=(_e*=128)&&(Me-=Math.pow(2,8*ie)),Me},r.prototype.readInt8=function(se,ie){return se>>>=0,ie||Y(se,1,this.length),128&this[se]?-1*(255-this[se]+1):this[se]},r.prototype.readInt16LE=function(se,ie){se>>>=0,ie||Y(se,2,this.length);var he=this[se]|this[se+1]<<8;return 32768&he?4294901760|he:he},r.prototype.readInt16BE=function(se,ie){se>>>=0,ie||Y(se,2,this.length);var he=this[se+1]|this[se]<<8;return 32768&he?4294901760|he:he},r.prototype.readInt32LE=function(se,ie){return se>>>=0,ie||Y(se,4,this.length),this[se]|this[se+1]<<8|this[se+2]<<16|this[se+3]<<24},r.prototype.readInt32BE=function(se,ie){return se>>>=0,ie||Y(se,4,this.length),this[se]<<24|this[se+1]<<16|this[se+2]<<8|this[se+3]},r.prototype.readBigInt64LE=ye(function(se){ae(se>>>=0,"offset");var ie=this[se],he=this[se+7];void 0!==ie&&void 0!==he||oe(se,this.length-8);var Se=this[se+4]+this[se+5]*Math.pow(2,8)+this[se+6]*Math.pow(2,16)+(he<<24);return(BigInt(Se)<<BigInt(32))+BigInt(ie+this[++se]*Math.pow(2,8)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,24))}),r.prototype.readBigInt64BE=ye(function(se){ae(se>>>=0,"offset");var ie=this[se],he=this[se+7];void 0!==ie&&void 0!==he||oe(se,this.length-8);var Se=(ie<<24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+this[++se];return(BigInt(Se)<<BigInt(32))+BigInt(this[++se]*Math.pow(2,24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+he)}),r.prototype.readFloatLE=function(se,ie){return se>>>=0,ie||Y(se,4,this.length),s.read(this,se,!0,23,4)},r.prototype.readFloatBE=function(se,ie){return se>>>=0,ie||Y(se,4,this.length),s.read(this,se,!1,23,4)},r.prototype.readDoubleLE=function(se,ie){return se>>>=0,ie||Y(se,8,this.length),s.read(this,se,!0,52,8)},r.prototype.readDoubleBE=function(se,ie){return se>>>=0,ie||Y(se,8,this.length),s.read(this,se,!1,52,8)},r.prototype.writeUintLE=r.prototype.writeUIntLE=function(se,ie,he,Se){se=+se,ie>>>=0,he>>>=0,Se||F(this,se,ie,he,Math.pow(2,8*he)-1,0);var _e=1,Me=0;for(this[ie]=255&se;++Me<he&&(_e*=256);)this[ie+Me]=se/_e&255;return ie+he},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(se,ie,he,Se){se=+se,ie>>>=0,he>>>=0,Se||F(this,se,ie,he,Math.pow(2,8*he)-1,0);var _e=he-1,Me=1;for(this[ie+_e]=255&se;--_e>=0&&(Me*=256);)this[ie+_e]=se/Me&255;return ie+he},r.prototype.writeUint8=r.prototype.writeUInt8=function(se,ie,he){return se=+se,ie>>>=0,he||F(this,se,ie,1,255,0),this[ie]=255&se,ie+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(se,ie,he){return se=+se,ie>>>=0,he||F(this,se,ie,2,65535,0),this[ie]=255&se,this[ie+1]=se>>>8,ie+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(se,ie,he){return se=+se,ie>>>=0,he||F(this,se,ie,2,65535,0),this[ie]=se>>>8,this[ie+1]=255&se,ie+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(se,ie,he){return se=+se,ie>>>=0,he||F(this,se,ie,4,4294967295,0),this[ie+3]=se>>>24,this[ie+2]=se>>>16,this[ie+1]=se>>>8,this[ie]=255&se,ie+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(se,ie,he){return se=+se,ie>>>=0,he||F(this,se,ie,4,4294967295,0),this[ie]=se>>>24,this[ie+1]=se>>>16,this[ie+2]=se>>>8,this[ie+3]=255&se,ie+4},r.prototype.writeBigUInt64LE=ye(function(se){return U(this,se,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=ye(function(se){return V(this,se,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(se,ie,he,Se){if(se=+se,ie>>>=0,!Se){var _e=Math.pow(2,8*he-1);F(this,se,ie,he,_e-1,-_e)}var Me=0,Ee=1,Ie=0;for(this[ie]=255&se;++Me<he&&(Ee*=256);)se<0&&0===Ie&&0!==this[ie+Me-1]&&(Ie=1),this[ie+Me]=(se/Ee>>0)-Ie&255;return ie+he},r.prototype.writeIntBE=function(se,ie,he,Se){if(se=+se,ie>>>=0,!Se){var _e=Math.pow(2,8*he-1);F(this,se,ie,he,_e-1,-_e)}var Me=he-1,Ee=1,Ie=0;for(this[ie+Me]=255&se;--Me>=0&&(Ee*=256);)se<0&&0===Ie&&0!==this[ie+Me+1]&&(Ie=1),this[ie+Me]=(se/Ee>>0)-Ie&255;return ie+he},r.prototype.writeInt8=function(se,ie,he){return se=+se,ie>>>=0,he||F(this,se,ie,1,127,-128),se<0&&(se=255+se+1),this[ie]=255&se,ie+1},r.prototype.writeInt16LE=function(se,ie,he){return se=+se,ie>>>=0,he||F(this,se,ie,2,32767,-32768),this[ie]=255&se,this[ie+1]=se>>>8,ie+2},r.prototype.writeInt16BE=function(se,ie,he){return se=+se,ie>>>=0,he||F(this,se,ie,2,32767,-32768),this[ie]=se>>>8,this[ie+1]=255&se,ie+2},r.prototype.writeInt32LE=function(se,ie,he){return se=+se,ie>>>=0,he||F(this,se,ie,4,2147483647,-2147483648),this[ie]=255&se,this[ie+1]=se>>>8,this[ie+2]=se>>>16,this[ie+3]=se>>>24,ie+4},r.prototype.writeInt32BE=function(se,ie,he){return se=+se,ie>>>=0,he||F(this,se,ie,4,2147483647,-2147483648),se<0&&(se=4294967295+se+1),this[ie]=se>>>24,this[ie+1]=se>>>16,this[ie+2]=se>>>8,this[ie+3]=255&se,ie+4},r.prototype.writeBigInt64LE=ye(function(se){return U(this,se,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=ye(function(se){return V(this,se,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeFloatLE=function(se,ie,he){return $(this,se,ie,!0,he)},r.prototype.writeFloatBE=function(se,ie,he){return $(this,se,ie,!1,he)},r.prototype.writeDoubleLE=function(se,ie,he){return X(this,se,ie,!0,he)},r.prototype.writeDoubleBE=function(se,ie,he){return X(this,se,ie,!1,he)},r.prototype.copy=function(se,ie,he,Se){if(!r.isBuffer(se))throw new TypeError("argument should be a Buffer");if(he||(he=0),Se||0===Se||(Se=this.length),ie>=se.length&&(ie=se.length),ie||(ie=0),Se>0&&Se<he&&(Se=he),Se===he||0===se.length||0===this.length)return 0;if(ie<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(Se<0)throw new RangeError("sourceEnd out of bounds");Se>this.length&&(Se=this.length),se.length-ie<Se-he&&(Se=se.length-ie+he);var _e=Se-he;return this===se&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ie,he,Se):Uint8Array.prototype.set.call(se,this.subarray(he,Se),ie),_e},r.prototype.fill=function(se,ie,he,Se){if("string"==typeof se){if("string"==typeof ie?(Se=ie,ie=0,he=this.length):"string"==typeof he&&(Se=he,he=this.length),void 0!==Se&&"string"!=typeof Se)throw new TypeError("encoding must be a string");if("string"==typeof Se&&!r.isEncoding(Se))throw new TypeError("Unknown encoding: "+Se);if(1===se.length){var _e=se.charCodeAt(0);("utf8"===Se&&_e<128||"latin1"===Se)&&(se=_e)}}else"number"==typeof se?se&=255:"boolean"==typeof se&&(se=Number(se));if(ie<0||this.length<ie||this.length<he)throw new RangeError("Out of range index");if(he<=ie)return this;var Me;if(ie>>>=0,he=void 0===he?this.length:he>>>0,se||(se=0),"number"==typeof se)for(Me=ie;Me<he;++Me)this[Me]=se;else{var Ee=r.isBuffer(se)?se:r.from(se,Se),Ie=Ee.length;if(0===Ie)throw new TypeError('The value "'+se+'" is invalid for argument "value"');for(Me=0;Me<he-ie;++Me)this[Me+ie]=Ee[Me%Ie]}return this};var W={};function J(se,ie,he){W[se]=function(Se){!function(Te,Ce){if("function"!=typeof Ce&&null!==Ce)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),Ce&&k(Te,Ce)}(xe,Se);var _e,Me,Ee,Ie,fe=(Ee=xe,Ie=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Te,Ce=T(Ee);if(Ie){var De=T(this).constructor;Te=Reflect.construct(Ce,arguments,De)}else Te=Ce.apply(this,arguments);return function(ze,Ue){if(Ue&&("object"===b(Ue)||"function"==typeof Ue))return Ue;if(void 0!==Ue)throw new TypeError("Derived constructors may only return object or undefined");return a(ze)}(this,Te)});function xe(){var Te;return function(Ce,De){if(!(Ce instanceof De))throw new TypeError("Cannot call a class as a function")}(this,xe),Te=fe.call(this),Object.defineProperty(a(Te),"message",{value:ie.apply(a(Te),arguments),writable:!0,configurable:!0}),Te.name="".concat(Te.name," [").concat(se,"]"),Te.stack,delete Te.name,Te}return _e=xe,(Me=[{key:"code",get:function(){return se},set:function(Te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Te,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(se,"]: ").concat(this.message)}}])&&M(_e.prototype,Me),Object.defineProperty(_e,"prototype",{writable:!1}),xe}(he)}function Q(se){for(var ie="",he=se.length,Se="-"===se[0]?1:0;he>=Se+4;he-=3)ie="_".concat(se.slice(he-3,he)).concat(ie);return"".concat(se.slice(0,he)).concat(ie)}function re(se,ie,he,Se,_e,Me){if(se>he||se<ie){var Ee,Ie="bigint"==typeof ie?"n":"";throw Ee=Me>3?0===ie||ie===BigInt(0)?">= 0".concat(Ie," and < 2").concat(Ie," ** ").concat(8*(Me+1)).concat(Ie):">= -(2".concat(Ie," ** ").concat(8*(Me+1)-1).concat(Ie,") and < 2 ** ")+"".concat(8*(Me+1)-1).concat(Ie):">= ".concat(ie).concat(Ie," and <= ").concat(he).concat(Ie),new W.ERR_OUT_OF_RANGE("value",Ee,se)}var fe,xe,Te;fe=Se,Te=Me,ae(xe=_e,"offset"),void 0!==fe[xe]&&void 0!==fe[xe+Te]||oe(xe,fe.length-(Te+1))}function ae(se,ie){if("number"!=typeof se)throw new W.ERR_INVALID_ARG_TYPE(ie,"number",se)}function oe(se,ie,he){throw Math.floor(se)!==se?(ae(se,he),new W.ERR_OUT_OF_RANGE(he||"offset","an integer",se)):ie<0?new W.ERR_BUFFER_OUT_OF_BOUNDS:new W.ERR_OUT_OF_RANGE(he||"offset",">= ".concat(he?1:0," and <= ").concat(ie),se)}J("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?"".concat(se," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(se,ie){return'The "'.concat(se,'" argument must be of type number. Received type ').concat(b(ie))},TypeError),J("ERR_OUT_OF_RANGE",function(se,ie,he){var Se='The value of "'.concat(se,'" is out of range.'),_e=he;return Number.isInteger(he)&&Math.abs(he)>Math.pow(2,32)?_e=Q(String(he)):"bigint"==typeof he&&(_e=String(he),(he>Math.pow(BigInt(2),BigInt(32))||he<-Math.pow(BigInt(2),BigInt(32)))&&(_e=Q(_e)),_e+="n"),Se+" It must be ".concat(ie,". Received ").concat(_e)},RangeError);var ue=/[^+/0-9A-Za-z-_]/g;function ve(se,ie){var he;ie=ie||1/0;for(var Se=se.length,_e=null,Me=[],Ee=0;Ee<Se;++Ee){if((he=se.charCodeAt(Ee))>55295&&he<57344){if(!_e){if(he>56319){(ie-=3)>-1&&Me.push(239,191,189);continue}if(Ee+1===Se){(ie-=3)>-1&&Me.push(239,191,189);continue}_e=he;continue}if(he<56320){(ie-=3)>-1&&Me.push(239,191,189),_e=he;continue}he=65536+(_e-55296<<10|he-56320)}else _e&&(ie-=3)>-1&&Me.push(239,191,189);if(_e=null,he<128){if((ie-=1)<0)break;Me.push(he)}else if(he<2048){if((ie-=2)<0)break;Me.push(he>>6|192,63&he|128)}else if(he<65536){if((ie-=3)<0)break;Me.push(he>>12|224,he>>6&63|128,63&he|128)}else{if(!(he<1114112))throw new Error("Invalid code point");if((ie-=4)<0)break;Me.push(he>>18|240,he>>12&63|128,he>>6&63|128,63&he|128)}}return Me}function be(se){return p.toByteArray(function(ie){if((ie=(ie=ie.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;ie.length%4!=0;)ie+="=";return ie}(se))}function de(se,ie,he,Se){var _e;for(_e=0;_e<Se&&!(_e+he>=ie.length||_e>=se.length);++_e)ie[_e+he]=se[_e];return _e}function pe(se,ie){return se instanceof ie||null!=se&&null!=se.constructor&&null!=se.constructor.name&&se.constructor.name===ie.name}function ge(se){return se!=se}var Ae=function(){for(var se="0123456789abcdef",ie=new Array(256),he=0;he<16;++he)for(var Se=16*he,_e=0;_e<16;++_e)ie[Se+_e]=se[he]+se[_e];return ie}();function ye(se){return typeof BigInt>"u"?we:se}function we(){throw new Error("BigInt not supported")}},35791:function(ee){"use strict";ee.exports=k,ee.exports.isMobile=k,ee.exports.default=k;var D=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,M=/android|ipad|playbook|silk/i;function k(a){a||(a={});var T=a.ua;if(T||typeof navigator>"u"||(T=navigator.userAgent),T&&T.headers&&"string"==typeof T.headers["user-agent"]&&(T=T.headers["user-agent"]),"string"!=typeof T)return!1;var b=D.test(T)&&!e.test(T)||!!a.tablet&&M.test(T);return!b&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==T.indexOf("Macintosh")&&-1!==T.indexOf("Safari")&&(b=!0),b}},86781:function(ee,D,e){"use strict";e.r(D),e.d(D,{sankeyCenter:function(){return n},sankeyCircular:function(){return C},sankeyJustify:function(){return i},sankeyLeft:function(){return s},sankeyRight:function(){return t}});var M=e(33064),k=e(15140),a=e(45879),T=e(2502),b=e.n(T);function p(de){return de.target.depth}function s(de){return de.depth}function t(de,pe){return pe-1-de.height}function i(de,pe){return de.sourceLinks.length?de.depth:pe-1}function n(de){return de.targetLinks.length?de.depth:de.sourceLinks.length?(0,M.VV)(de.sourceLinks,p)-1:0}function r(de){return function(){return de}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de};function l(de,pe){return d(de.source,pe.source)||de.index-pe.index}function u(de,pe){return d(de.target,pe.target)||de.index-pe.index}function d(de,pe){return de.partOfCycle===pe.partOfCycle?de.y0-pe.y0:"top"===de.circularLinkType||"bottom"===pe.circularLinkType?-1:1}function c(de){return de.value}function x(de){return(de.y0+de.y1)/2}function g(de){return x(de.source)}function h(de){return x(de.target)}function m(de){return de.index}function y(de){return de.nodes}function v(de){return de.links}function _(de,pe){var ge=de.get(pe);if(!ge)throw new Error("missing: "+pe);return ge}function f(de,pe){return pe(de)}var S=25,w=10,E=.3;function C(){var de,pe,ge=0,Ae=0,ye=1,we=1,se=24,ie=m,he=i,Se=y,_e=v,Me=32,Ee=2,Ie=null;function fe(){var Te={nodes:Se.apply(null,arguments),links:_e.apply(null,arguments)};(function(De){De.nodes.forEach(function(Ue,Ve){Ue.index=Ve,Ue.sourceLinks=[],Ue.targetLinks=[]});var ze=(0,k.UI)(De.nodes,ie);De.links.forEach(function(Ue,Ve){Ue.index=Ve;var Xe=Ue.source,at=Ue.target;"object"!==(void 0===Xe?"undefined":o(Xe))&&(Xe=Ue.source=_(ze,Xe)),"object"!==(void 0===at?"undefined":o(at))&&(at=Ue.target=_(ze,at)),Xe.sourceLinks.push(Ue),at.targetLinks.push(Ue)})})(Te),function(De,ze,Ue){var Ve=0;if(null===Ue){for(var Xe=[],at=0;at<De.links.length;at++){var st=De.links[at],ht=st.source.index,bt=st.target.index;Xe[ht]||(Xe[ht]=[]),Xe[bt]||(Xe[bt]=[]),-1===Xe[ht].indexOf(bt)&&Xe[ht].push(bt)}var vt=b()(Xe);vt.sort(function(wt,Ot){return wt.length-Ot.length});var Qe={};for(at=0;at<vt.length;at++){var nt=vt[at].slice(-2);Qe[nt[0]]||(Qe[nt[0]]={}),Qe[nt[0]][nt[1]]=!0}De.links.forEach(function(wt){var Ot=wt.target.index,Pt=wt.source.index;Ot===Pt||Qe[Pt]&&Qe[Pt][Ot]?(wt.circular=!0,wt.circularLinkID=Ve,Ve+=1):wt.circular=!1})}else De.links.forEach(function(wt){wt.source[Ue]<wt.target[Ue]?wt.circular=!1:(wt.circular=!0,wt.circularLinkID=Ve,Ve+=1)})}(Te,0,Ie),Te.nodes.forEach(function(ze){ze.partOfCycle=!1,ze.value=Math.max((0,M.Sm)(ze.sourceLinks,c),(0,M.Sm)(ze.targetLinks,c)),ze.sourceLinks.forEach(function(Ue){Ue.circular&&(ze.partOfCycle=!0,ze.circularLinkType=Ue.circularLinkType)}),ze.targetLinks.forEach(function(Ue){Ue.circular&&(ze.partOfCycle=!0,ze.circularLinkType=Ue.circularLinkType)})}),function(De){var ze,Ue,Ve;for(ze=De.nodes,Ue=[],Ve=0;ze.length;++Ve,ze=Ue,Ue=[])ze.forEach(function(Xe){Xe.depth=Ve,Xe.sourceLinks.forEach(function(at){Ue.indexOf(at.target)<0&&!at.circular&&Ue.push(at.target)})});for(ze=De.nodes,Ue=[],Ve=0;ze.length;++Ve,ze=Ue,Ue=[])ze.forEach(function(Xe){Xe.height=Ve,Xe.targetLinks.forEach(function(at){Ue.indexOf(at.source)<0&&!at.circular&&Ue.push(at.source)})});De.nodes.forEach(function(Xe){Xe.column=Math.floor(he.call(null,Xe,Ve))})}(Te),O(Te,ie),function(De,ze,Ue){var Ve=(0,k.b1)().key(function(bt){return bt.column}).sortKeys(M.j2).entries(De.nodes).map(function(bt){return bt.values});(function(bt){if(pe){var vt=1/0;Ve.forEach(function(Ot){var Pt=we*pe/(Ot.length+1);vt=Pt<vt?Pt:vt}),de=vt}var Qe=(0,M.VV)(Ve,function(Ot){return(we-Ae-(Ot.length-1)*de)/(0,M.Sm)(Ot,c)});Qe*=E,De.links.forEach(function(Ot){Ot.width=Ot.value*Qe});var Ot,Pt,St,qe,Ze,Ne,nt=(Ot=De,Pt=0,St=0,qe=0,Ze=0,Ne=(0,M.Fp)(Ot.nodes,function(Ge){return Ge.column}),Ot.links.forEach(function(Ge){Ge.circular&&("top"==Ge.circularLinkType?Pt+=Ge.width:St+=Ge.width,0==Ge.target.column&&(Ze+=Ge.width),Ge.source.column==Ne&&(qe+=Ge.width))}),{top:Pt=Pt>0?Pt+S+w:Pt,bottom:St=St>0?St+S+w:St,left:Ze=Ze>0?Ze+S+w:Ze,right:qe=qe>0?qe+S+w:qe}),wt=function(Ot,Pt){var St=(0,M.Fp)(Ot.nodes,function(rt){return rt.column}),qe=ye-ge,Ze=we-Ae,Ne=qe/(qe+Pt.right+Pt.left),Ge=Ze/(Ze+Pt.top+Pt.bottom);return ge=ge*Ne+Pt.left,ye=0==Pt.right?ye:ye*Ne,Ae=Ae*Ge+Pt.top,we*=Ge,Ot.nodes.forEach(function(rt){rt.x0=ge+rt.column*((ye-ge-se)/St),rt.x1=rt.x0+se}),Ge}(De,nt);Qe*=wt,De.links.forEach(function(Ot){Ot.width=Ot.value*Qe}),Ve.forEach(function(Ot){var Pt=Ot.length;Ot.forEach(function(St,qe){St.depth==Ve.length-1&&1==Pt||0==St.depth&&1==Pt?(St.y0=we/2-St.value*Qe,St.y1=St.y0+St.value*Qe):St.partOfCycle?0==R(St,bt)?(St.y0=we/2+qe,St.y1=St.y0+St.value*Qe):"top"==St.circularLinkType?(St.y0=Ae+qe,St.y1=St.y0+St.value*Qe):(St.y0=we-St.value*Qe-qe,St.y1=St.y0+St.value*Qe):0==nt.top||0==nt.bottom?(St.y0=(we-Ae)/Pt*qe,St.y1=St.y0+St.value*Qe):(St.y0=(we-Ae)/2-Pt/2+qe,St.y1=St.y0+St.value*Qe)})})})(Ue),ht();for(var Xe=1,at=ze;at>0;--at)st(Xe*=.99,Ue),ht();function st(bt,vt){var Qe=Ve.length;Ve.forEach(function(nt){var wt=nt.length,Ot=nt[0].depth;nt.forEach(function(Pt){var St;if((Pt.sourceLinks.length||Pt.targetLinks.length)&&!(Pt.partOfCycle&&R(Pt,vt)>0))if(0==Ot&&1==wt)St=Pt.y1-Pt.y0,Pt.y0=we/2-St/2,Pt.y1=we/2+St/2;else if(Ot==Qe-1&&1==wt)St=Pt.y1-Pt.y0,Pt.y0=we/2-St/2,Pt.y1=we/2+St/2;else{var qe=(0,M.J6)(Pt.sourceLinks,h),Ze=(0,M.J6)(Pt.targetLinks,g),Ne=((qe&&Ze?(qe+Ze)/2:qe||Ze)-x(Pt))*bt;Pt.y0+=Ne,Pt.y1+=Ne}})})}function ht(){Ve.forEach(function(bt){var vt,Qe,nt,wt=Ae,Ot=bt.length;for(bt.sort(d),nt=0;nt<Ot;++nt)(Qe=wt-(vt=bt[nt]).y0)>0&&(vt.y0+=Qe,vt.y1+=Qe),wt=vt.y1+de;if((Qe=wt-de-we)>0)for(wt=vt.y0-=Qe,vt.y1-=Qe,nt=Ot-2;nt>=0;--nt)(Qe=(vt=bt[nt]).y1+de-wt)>0&&(vt.y0-=Qe,vt.y1-=Qe),wt=vt.y0})}}(Te,Me,ie),xe(Te);for(var Ce=0;Ce<4;Ce++)ae(Te,we,ie),oe(Te,0,ie),Q(Te,Ae,we,ie),ae(Te,we,ie),oe(Te,0,ie);return function(De,ze,Ue){var Ve=De.nodes,Xe=De.links,at=!1,st=!1;if(Xe.forEach(function(vt){"top"==vt.circularLinkType?at=!0:"bottom"==vt.circularLinkType&&(st=!0)}),0==at||0==st){var ht=(0,M.VV)(Ve,function(vt){return vt.y0}),bt=(Ue-ze)/((0,M.Fp)(Ve,function(vt){return vt.y1})-ht);Ve.forEach(function(vt){var Qe=(vt.y1-vt.y0)*bt;vt.y0=(vt.y0-ht)*bt,vt.y1=vt.y0+Qe}),Xe.forEach(function(vt){vt.y0=(vt.y0-ht)*bt,vt.y1=(vt.y1-ht)*bt,vt.width=vt.width*bt})}}(Te,Ae,we),N(Te,Ee,we,ie),Te}function xe(Te){Te.nodes.forEach(function(Ce){Ce.sourceLinks.sort(u),Ce.targetLinks.sort(l)}),Te.nodes.forEach(function(Ce){var De=Ce.y0,ze=De,Ue=Ce.y1,Ve=Ue;Ce.sourceLinks.forEach(function(Xe){Xe.circular?(Xe.y0=Ue-Xe.width/2,Ue-=Xe.width):(Xe.y0=De+Xe.width/2,De+=Xe.width)}),Ce.targetLinks.forEach(function(Xe){Xe.circular?(Xe.y1=Ve-Xe.width/2,Ve-=Xe.width):(Xe.y1=ze+Xe.width/2,ze+=Xe.width)})})}return fe.nodeId=function(Te){return arguments.length?(ie="function"==typeof Te?Te:r(Te),fe):ie},fe.nodeAlign=function(Te){return arguments.length?(he="function"==typeof Te?Te:r(Te),fe):he},fe.nodeWidth=function(Te){return arguments.length?(se=+Te,fe):se},fe.nodePadding=function(Te){return arguments.length?(de=+Te,fe):de},fe.nodes=function(Te){return arguments.length?(Se="function"==typeof Te?Te:r(Te),fe):Se},fe.links=function(Te){return arguments.length?(_e="function"==typeof Te?Te:r(Te),fe):_e},fe.size=function(Te){return arguments.length?(ge=Ae=0,ye=+Te[0],we=+Te[1],fe):[ye-ge,we-Ae]},fe.extent=function(Te){return arguments.length?(ge=+Te[0][0],ye=+Te[1][0],Ae=+Te[0][1],we=+Te[1][1],fe):[[ge,Ae],[ye,we]]},fe.iterations=function(Te){return arguments.length?(Me=+Te,fe):Me},fe.circularLinkGap=function(Te){return arguments.length?(Ee=+Te,fe):Ee},fe.nodePaddingRatio=function(Te){return arguments.length?(pe=+Te,fe):pe},fe.sortNodes=function(Te){return arguments.length?(Ie=Te,fe):Ie},fe.update=function(Te){return O(Te,ie),xe(Te),Te.links.forEach(function(Ce){Ce.circular&&(Ce.circularLinkType=Ce.y0+Ce.y1<we?"top":"bottom",Ce.source.circularLinkType=Ce.circularLinkType,Ce.target.circularLinkType=Ce.circularLinkType)}),ae(Te,we,ie,!1),oe(Te,0,ie),N(Te,Ee,we,ie),Te},fe}function O(de,pe){var ge=0,Ae=0;de.links.forEach(function(ye){ye.circular&&(ye.source.circularLinkType||ye.target.circularLinkType?ye.circularLinkType=ye.source.circularLinkType?ye.source.circularLinkType:ye.target.circularLinkType:ye.circularLinkType=ge<Ae?"top":"bottom","top"==ye.circularLinkType?ge+=1:Ae+=1,de.nodes.forEach(function(we){f(we,pe)!=f(ye.source,pe)&&f(we,pe)!=f(ye.target,pe)||(we.circularLinkType=ye.circularLinkType)}))}),de.links.forEach(function(ye){ye.circular&&(ye.source.circularLinkType==ye.target.circularLinkType&&(ye.circularLinkType=ye.source.circularLinkType),be(ye,pe)&&(ye.circularLinkType=ye.source.circularLinkType))})}function P(de){var pe=Math.abs(de.y1-de.y0),ge=Math.abs(de.target.x0-de.source.x1);return Math.atan(ge/pe)}function R(de,pe){var ge=0;de.sourceLinks.forEach(function(ye){ge=ye.circular&&!be(ye,pe)?ge+1:ge});var Ae=0;return de.targetLinks.forEach(function(ye){Ae=ye.circular&&!be(ye,pe)?Ae+1:Ae}),ge+Ae}function j(de){var pe=de.source.sourceLinks,ge=0;pe.forEach(function(we){ge=we.circular?ge+1:ge});var Ae=de.target.targetLinks,ye=0;return Ae.forEach(function(we){ye=we.circular?ye+1:ye}),!(ge>1||ye>1)}function z(de,pe,ge){return de.sort(Y),de.forEach(function(Ae,ye){var we,se,ie=0;if(be(Ae,ge)&&j(Ae))Ae.circularPathData.verticalBuffer=ie+Ae.width/2;else{for(var he=0;he<ye;he++)if(we=de[ye],se=de[he],!(we.source.column<se.target.column||we.target.column>se.source.column)){var Se=de[he].circularPathData.verticalBuffer+de[he].width/2+pe;ie=Se>ie?Se:ie}Ae.circularPathData.verticalBuffer=ie+Ae.width/2}}),de}function N(de,pe,ge,Ae){var ye=(0,M.VV)(de.links,function(we){return we.source.y0});de.links.forEach(function(we){we.circular&&(we.circularPathData={})}),z(de.links.filter(function(we){return"top"==we.circularLinkType}),pe,Ae),z(de.links.filter(function(we){return"bottom"==we.circularLinkType}),pe,Ae),de.links.forEach(function(we){if(we.circular){if(we.circularPathData.arcRadius=we.width+w,we.circularPathData.leftNodeBuffer=5,we.circularPathData.rightNodeBuffer=5,we.circularPathData.sourceWidth=we.source.x1-we.source.x0,we.circularPathData.sourceX=we.source.x0+we.circularPathData.sourceWidth,we.circularPathData.targetX=we.target.x0,we.circularPathData.sourceY=we.y0,we.circularPathData.targetY=we.y1,be(we,Ae)&&j(we))we.circularPathData.leftSmallArcRadius=w+we.width/2,we.circularPathData.leftLargeArcRadius=w+we.width/2,we.circularPathData.rightSmallArcRadius=w+we.width/2,we.circularPathData.rightLargeArcRadius=w+we.width/2,"bottom"==we.circularLinkType?(we.circularPathData.verticalFullExtent=we.source.y1+S+we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.rightLargeArcRadius):(we.circularPathData.verticalFullExtent=we.source.y0-S-we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.rightLargeArcRadius);else{var se=we.source.column,ie=we.circularLinkType,he=de.links.filter(function(Me){return Me.source.column==se&&Me.circularLinkType==ie});"bottom"==we.circularLinkType?he.sort(U):he.sort(F);var Se=0;he.forEach(function(Me,Ee){Me.circularLinkID==we.circularLinkID&&(we.circularPathData.leftSmallArcRadius=w+we.width/2+Se,we.circularPathData.leftLargeArcRadius=w+we.width/2+Ee*pe+Se),Se+=Me.width}),se=we.target.column,he=de.links.filter(function(Me){return Me.target.column==se&&Me.circularLinkType==ie}),"bottom"==we.circularLinkType?he.sort(te):he.sort(V),Se=0,he.forEach(function(Me,Ee){Me.circularLinkID==we.circularLinkID&&(we.circularPathData.rightSmallArcRadius=w+we.width/2+Se,we.circularPathData.rightLargeArcRadius=w+we.width/2+Ee*pe+Se),Se+=Me.width}),"bottom"==we.circularLinkType?(we.circularPathData.verticalFullExtent=Math.max(ge,we.source.y1,we.target.y1)+S+we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.rightLargeArcRadius):(we.circularPathData.verticalFullExtent=ye-S-we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.rightLargeArcRadius)}we.circularPathData.leftInnerExtent=we.circularPathData.sourceX+we.circularPathData.leftNodeBuffer,we.circularPathData.rightInnerExtent=we.circularPathData.targetX-we.circularPathData.rightNodeBuffer,we.circularPathData.leftFullExtent=we.circularPathData.sourceX+we.circularPathData.leftLargeArcRadius+we.circularPathData.leftNodeBuffer,we.circularPathData.rightFullExtent=we.circularPathData.targetX-we.circularPathData.rightLargeArcRadius-we.circularPathData.rightNodeBuffer}if(we.circular)we.path="top"==(Me=we).circularLinkType?"M"+Me.circularPathData.sourceX+" "+Me.circularPathData.sourceY+" L"+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.sourceY+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftSmallArcRadius+" 0 0 0 "+Me.circularPathData.leftFullExtent+" "+(Me.circularPathData.sourceY-Me.circularPathData.leftSmallArcRadius)+" L"+Me.circularPathData.leftFullExtent+" "+Me.circularPathData.verticalLeftInnerExtent+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftLargeArcRadius+" 0 0 0 "+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.verticalFullExtent+" L"+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.verticalFullExtent+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightLargeArcRadius+" 0 0 0 "+Me.circularPathData.rightFullExtent+" "+Me.circularPathData.verticalRightInnerExtent+" L"+Me.circularPathData.rightFullExtent+" "+(Me.circularPathData.targetY-Me.circularPathData.rightSmallArcRadius)+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightSmallArcRadius+" 0 0 0 "+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.targetY+" L"+Me.circularPathData.targetX+" "+Me.circularPathData.targetY:"M"+Me.circularPathData.sourceX+" "+Me.circularPathData.sourceY+" L"+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.sourceY+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftSmallArcRadius+" 0 0 1 "+Me.circularPathData.leftFullExtent+" "+(Me.circularPathData.sourceY+Me.circularPathData.leftSmallArcRadius)+" L"+Me.circularPathData.leftFullExtent+" "+Me.circularPathData.verticalLeftInnerExtent+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftLargeArcRadius+" 0 0 1 "+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.verticalFullExtent+" L"+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.verticalFullExtent+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightLargeArcRadius+" 0 0 1 "+Me.circularPathData.rightFullExtent+" "+Me.circularPathData.verticalRightInnerExtent+" L"+Me.circularPathData.rightFullExtent+" "+(Me.circularPathData.targetY+Me.circularPathData.rightSmallArcRadius)+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightSmallArcRadius+" 0 0 1 "+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.targetY+" L"+Me.circularPathData.targetX+" "+Me.circularPathData.targetY;else{var _e=(0,a.h5)().source(function(Me){return[Me.source.x0+(Me.source.x1-Me.source.x0),Me.y0]}).target(function(Me){return[Me.target.x0,Me.y1]});we.path=_e(we)}var Me})}function Y(de,pe){return $(de)==$(pe)?"bottom"==de.circularLinkType?U(de,pe):F(de,pe):$(pe)-$(de)}function F(de,pe){return de.y0-pe.y0}function U(de,pe){return pe.y0-de.y0}function V(de,pe){return de.y1-pe.y1}function te(de,pe){return pe.y1-de.y1}function $(de){return de.target.column-de.source.column}function X(de){return de.target.x0-de.source.x1}function W(de,pe){var ge=P(de),Ae=X(pe)/Math.tan(ge);return"up"==ve(de)?de.y1+Ae:de.y1-Ae}function J(de,pe){var ge=P(de),Ae=X(pe)/Math.tan(ge);return"up"==ve(de)?de.y1-Ae:de.y1+Ae}function Q(de,pe,ge,Ae){de.links.forEach(function(ye){if(!ye.circular&&ye.target.column-ye.source.column>1){var we=ye.source.column+1,se=ye.target.column-1,ie=1,he=se-we+1;for(ie=1;we<=se;we++,ie++)de.nodes.forEach(function(Se){if(Se.column==we){var _e,Me=ie/(he+1),Ee=Math.pow(1-Me,3),Ie=3*Me*Math.pow(1-Me,2),fe=3*Math.pow(Me,2)*(1-Me),xe=Math.pow(Me,3),Te=Ee*ye.y0+Ie*ye.y0+fe*ye.y1+xe*ye.y1,Ce=Te-ye.width/2,De=Te+ye.width/2;Ce>Se.y0&&Ce<Se.y1?(_e=Se.y1-Ce+10,_e="bottom"==Se.circularLinkType?_e:-_e,Se=re(Se,_e,pe,ge),de.nodes.forEach(function(ze){var Ue,Ve;f(ze,Ae)!=f(Se,Ae)&&ze.column==Se.column&&(Ve=ze,(Ue=Se).y0>Ve.y0&&Ue.y0<Ve.y1||Ue.y1>Ve.y0&&Ue.y1<Ve.y1||Ue.y0<Ve.y0&&Ue.y1>Ve.y1)&&re(ze,_e,pe,ge)})):(De>Se.y0&&De<Se.y1||Ce<Se.y0&&De>Se.y1)&&(_e=De-Se.y0+10,Se=re(Se,_e,pe,ge),de.nodes.forEach(function(ze){f(ze,Ae)!=f(Se,Ae)&&ze.column==Se.column&&ze.y0<Se.y1&&ze.y1>Se.y1&&re(ze,_e,pe,ge)}))}})}})}function re(de,pe,ge,Ae){return de.y0+pe>=ge&&de.y1+pe<=Ae&&(de.y0=de.y0+pe,de.y1=de.y1+pe,de.targetLinks.forEach(function(ye){ye.y1=ye.y1+pe}),de.sourceLinks.forEach(function(ye){ye.y0=ye.y0+pe})),de}function ae(de,pe,ge,Ae){de.nodes.forEach(function(ye){Ae&&ye.y+(ye.y1-ye.y0)>pe&&(ye.y=ye.y-(ye.y+(ye.y1-ye.y0)-pe));var we=de.links.filter(function(he){return f(he.source,ge)==f(ye,ge)}),se=we.length;se>1&&we.sort(function(he,Se){if(!he.circular&&!Se.circular){if(he.target.column==Se.target.column||!ue(he,Se))return he.y1-Se.y1;if(he.target.column>Se.target.column){var _e=J(Se,he);return he.y1-_e}if(Se.target.column>he.target.column)return J(he,Se)-Se.y1}return he.circular&&!Se.circular?"top"==he.circularLinkType?-1:1:Se.circular&&!he.circular?"top"==Se.circularLinkType?1:-1:he.circular&&Se.circular?he.circularLinkType===Se.circularLinkType&&"top"==he.circularLinkType?he.target.column===Se.target.column?he.target.y1-Se.target.y1:Se.target.column-he.target.column:he.circularLinkType===Se.circularLinkType&&"bottom"==he.circularLinkType?he.target.column===Se.target.column?Se.target.y1-he.target.y1:he.target.column-Se.target.column:"top"==he.circularLinkType?-1:1:void 0});var ie=ye.y0;we.forEach(function(he){he.y0=ie+he.width/2,ie+=he.width}),we.forEach(function(he,Se){if("bottom"==he.circularLinkType){for(var _e=Se+1,Me=0;_e<se;_e++)Me+=we[_e].width;he.y0=ye.y1-Me-he.width/2}})})}function oe(de,pe,ge){de.nodes.forEach(function(Ae){var ye=de.links.filter(function(ie){return f(ie.target,ge)==f(Ae,ge)}),we=ye.length;we>1&&ye.sort(function(ie,he){if(!ie.circular&&!he.circular){if(ie.source.column==he.source.column||!ue(ie,he))return ie.y0-he.y0;if(he.source.column<ie.source.column){var Se=W(he,ie);return ie.y0-Se}if(ie.source.column<he.source.column)return W(ie,he)-he.y0}return ie.circular&&!he.circular?"top"==ie.circularLinkType?-1:1:he.circular&&!ie.circular?"top"==he.circularLinkType?1:-1:ie.circular&&he.circular?ie.circularLinkType===he.circularLinkType&&"top"==ie.circularLinkType?ie.source.column===he.source.column?ie.source.y1-he.source.y1:ie.source.column-he.source.column:ie.circularLinkType===he.circularLinkType&&"bottom"==ie.circularLinkType?ie.source.column===he.source.column?ie.source.y1-he.source.y1:he.source.column-ie.source.column:"top"==ie.circularLinkType?-1:1:void 0});var se=Ae.y0;ye.forEach(function(ie){ie.y1=se+ie.width/2,se+=ie.width}),ye.forEach(function(ie,he){if("bottom"==ie.circularLinkType){for(var Se=he+1,_e=0;Se<we;Se++)_e+=ye[Se].width;ie.y1=Ae.y1-_e-ie.width/2}})})}function ue(de,pe){return ve(de)==ve(pe)}function ve(de){return de.y0-de.y1>0?"up":"down"}function be(de,pe){return f(de.source,pe)==f(de.target,pe)}},30838:function(ee,D,e){"use strict";e.r(D),e.d(D,{sankey:function(){return m},sankeyCenter:function(){return s},sankeyJustify:function(){return p},sankeyLeft:function(){return T},sankeyLinkHorizontal:function(){return f},sankeyRight:function(){return b}});var M=e(33064),k=e(15140);function a(S){return S.target.depth}function T(S){return S.depth}function b(S,w){return w-1-S.height}function p(S,w){return S.sourceLinks.length?S.depth:w-1}function s(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,M.VV)(S.sourceLinks,a)-1:0}function t(S){return function(){return S}}function i(S,w){return r(S.source,w.source)||S.index-w.index}function n(S,w){return r(S.target,w.target)||S.index-w.index}function r(S,w){return S.y0-w.y0}function o(S){return S.value}function l(S){return(S.y0+S.y1)/2}function u(S){return l(S.source)*S.value}function d(S){return l(S.target)*S.value}function c(S){return S.index}function x(S){return S.nodes}function g(S){return S.links}function h(S,w){var E=S.get(w);if(!E)throw new Error("missing: "+w);return E}function m(){var S=0,w=0,E=1,C=1,O=24,P=8,R=c,j=p,z=x,N=g,Y=32;function F(){var V={nodes:z.apply(null,arguments),links:N.apply(null,arguments)};return function(te){te.nodes.forEach(function(X,W){X.index=W,X.sourceLinks=[],X.targetLinks=[]});var $=(0,k.UI)(te.nodes,R);te.links.forEach(function(X,W){X.index=W;var J=X.source,Q=X.target;"object"!=typeof J&&(J=X.source=h($,J)),"object"!=typeof Q&&(Q=X.target=h($,Q)),J.sourceLinks.push(X),Q.targetLinks.push(X)})}(V),V.nodes.forEach(function($){$.value=Math.max((0,M.Sm)($.sourceLinks,o),(0,M.Sm)($.targetLinks,o))}),function(te){var $,X,W;for($=te.nodes,X=[],W=0;$.length;++W,$=X,X=[])$.forEach(function(Q){Q.depth=W,Q.sourceLinks.forEach(function(re){X.indexOf(re.target)<0&&X.push(re.target)})});for($=te.nodes,X=[],W=0;$.length;++W,$=X,X=[])$.forEach(function(Q){Q.height=W,Q.targetLinks.forEach(function(re){X.indexOf(re.source)<0&&X.push(re.source)})});var J=(E-S-O)/(W-1);te.nodes.forEach(function(Q){Q.x1=(Q.x0=S+Math.max(0,Math.min(W-1,Math.floor(j.call(null,Q,W))))*J)+O})}(V),function(te){var $=(0,k.b1)().key(function(ae){return ae.x0}).sortKeys(M.j2).entries(te.nodes).map(function(ae){return ae.values});(function(){var ae=(0,M.Fp)($,function(ve){return ve.length}),oe=.6666666666666666*(C-w)/(ae-1);P>oe&&(P=oe);var ue=(0,M.VV)($,function(ve){return(C-w-(ve.length-1)*P)/(0,M.Sm)(ve,o)});$.forEach(function(ve){ve.forEach(function(be,de){be.y1=(be.y0=de)+be.value*ue})}),te.links.forEach(function(ve){ve.width=ve.value*ue})})(),re();for(var X=1,W=Y;W>0;--W)Q(X*=.99),re(),J(X),re();function J(ae){$.forEach(function(oe){oe.forEach(function(ue){if(ue.targetLinks.length){var ve=((0,M.Sm)(ue.targetLinks,u)/(0,M.Sm)(ue.targetLinks,o)-l(ue))*ae;ue.y0+=ve,ue.y1+=ve}})})}function Q(ae){$.slice().reverse().forEach(function(oe){oe.forEach(function(ue){if(ue.sourceLinks.length){var ve=((0,M.Sm)(ue.sourceLinks,d)/(0,M.Sm)(ue.sourceLinks,o)-l(ue))*ae;ue.y0+=ve,ue.y1+=ve}})})}function re(){$.forEach(function(ae){var oe,ue,ve,be=w,de=ae.length;for(ae.sort(r),ve=0;ve<de;++ve)(ue=be-(oe=ae[ve]).y0)>0&&(oe.y0+=ue,oe.y1+=ue),be=oe.y1+P;if((ue=be-P-C)>0)for(be=oe.y0-=ue,oe.y1-=ue,ve=de-2;ve>=0;--ve)(ue=(oe=ae[ve]).y1+P-be)>0&&(oe.y0-=ue,oe.y1-=ue),be=oe.y0})}}(V),U(V),V}function U(V){V.nodes.forEach(function(te){te.sourceLinks.sort(n),te.targetLinks.sort(i)}),V.nodes.forEach(function(te){var $=te.y0,X=$;te.sourceLinks.forEach(function(W){W.y0=$+W.width/2,$+=W.width}),te.targetLinks.forEach(function(W){W.y1=X+W.width/2,X+=W.width})})}return F.update=function(V){return U(V),V},F.nodeId=function(V){return arguments.length?(R="function"==typeof V?V:t(V),F):R},F.nodeAlign=function(V){return arguments.length?(j="function"==typeof V?V:t(V),F):j},F.nodeWidth=function(V){return arguments.length?(O=+V,F):O},F.nodePadding=function(V){return arguments.length?(P=+V,F):P},F.nodes=function(V){return arguments.length?(z="function"==typeof V?V:t(V),F):z},F.links=function(V){return arguments.length?(N="function"==typeof V?V:t(V),F):N},F.size=function(V){return arguments.length?(S=w=0,E=+V[0],C=+V[1],F):[E-S,C-w]},F.extent=function(V){return arguments.length?(S=+V[0][0],E=+V[1][0],w=+V[0][1],C=+V[1][1],F):[[S,w],[E,C]]},F.iterations=function(V){return arguments.length?(Y=+V,F):Y},F}var y=e(45879);function v(S){return[S.source.x1,S.y0]}function _(S){return[S.target.x0,S.y1]}function f(){return(0,y.h5)().source(v).target(_)}},39898:function(ee,D,e){var M,k;(function(){var a={version:"3.8.0"},T=[].slice,b=function(L){return T.call(L)},p=self.document;function s(L){return L&&(L.ownerDocument||L.document||L).documentElement}function t(L){return L&&(L.ownerDocument&&L.ownerDocument.defaultView||L.document&&L||L.defaultView)}if(p)try{b(p.documentElement.childNodes)[0].nodeType}catch{b=function(H){for(var K=H.length,ne=new Array(K);K--;)ne[K]=H[K];return ne}}if(Date.now||(Date.now=function(){return+new Date}),p)try{p.createElement("DIV").style.setProperty("opacity",0,"")}catch{var i=this.Element.prototype,n=i.setAttribute,r=i.setAttributeNS,o=this.CSSStyleDeclaration.prototype,l=o.setProperty;i.setAttribute=function(H,K){n.call(this,H,K+"")},i.setAttributeNS=function(H,K,ne){r.call(this,H,K,ne+"")},o.setProperty=function(H,K,ne){l.call(this,H,K+"",ne)}}function u(L,H){return L<H?-1:L>H?1:L>=H?0:NaN}function d(L){return null===L?NaN:+L}function c(L){return!isNaN(L)}function x(L){return{left:function(H,K,ne,ce){for(arguments.length<3&&(ne=0),arguments.length<4&&(ce=H.length);ne<ce;){var me=ne+ce>>>1;L(H[me],K)<0?ne=me+1:ce=me}return ne},right:function(H,K,ne,ce){for(arguments.length<3&&(ne=0),arguments.length<4&&(ce=H.length);ne<ce;){var me=ne+ce>>>1;L(H[me],K)>0?ce=me:ne=me+1}return ne}}}a.ascending=u,a.descending=function(L,H){return H<L?-1:H>L?1:H>=L?0:NaN},a.min=function(L,H){var K,ne,ce=-1,me=L.length;if(1===arguments.length){for(;++ce<me;)if(null!=(ne=L[ce])&&ne>=ne){K=ne;break}for(;++ce<me;)null!=(ne=L[ce])&&K>ne&&(K=ne)}else{for(;++ce<me;)if(null!=(ne=H.call(L,L[ce],ce))&&ne>=ne){K=ne;break}for(;++ce<me;)null!=(ne=H.call(L,L[ce],ce))&&K>ne&&(K=ne)}return K},a.max=function(L,H){var K,ne,ce=-1,me=L.length;if(1===arguments.length){for(;++ce<me;)if(null!=(ne=L[ce])&&ne>=ne){K=ne;break}for(;++ce<me;)null!=(ne=L[ce])&&ne>K&&(K=ne)}else{for(;++ce<me;)if(null!=(ne=H.call(L,L[ce],ce))&&ne>=ne){K=ne;break}for(;++ce<me;)null!=(ne=H.call(L,L[ce],ce))&&ne>K&&(K=ne)}return K},a.extent=function(L,H){var K,ne,ce,me=-1,Le=L.length;if(1===arguments.length){for(;++me<Le;)if(null!=(ne=L[me])&&ne>=ne){K=ce=ne;break}for(;++me<Le;)null!=(ne=L[me])&&(K>ne&&(K=ne),ce<ne&&(ce=ne))}else{for(;++me<Le;)if(null!=(ne=H.call(L,L[me],me))&&ne>=ne){K=ce=ne;break}for(;++me<Le;)null!=(ne=H.call(L,L[me],me))&&(K>ne&&(K=ne),ce<ne&&(ce=ne))}return[K,ce]},a.sum=function(L,H){var K,ne=0,ce=L.length,me=-1;if(1===arguments.length)for(;++me<ce;)c(K=+L[me])&&(ne+=K);else for(;++me<ce;)c(K=+H.call(L,L[me],me))&&(ne+=K);return ne},a.mean=function(L,H){var K,ne=0,ce=L.length,me=-1,Le=ce;if(1===arguments.length)for(;++me<ce;)c(K=d(L[me]))?ne+=K:--Le;else for(;++me<ce;)c(K=d(H.call(L,L[me],me)))?ne+=K:--Le;if(Le)return ne/Le},a.quantile=function(L,H){var K=(L.length-1)*H+1,ne=Math.floor(K),ce=+L[ne-1],me=K-ne;return me?ce+me*(L[ne]-ce):ce},a.median=function(L,H){var K,ne=[],ce=L.length,me=-1;if(1===arguments.length)for(;++me<ce;)c(K=d(L[me]))&&ne.push(K);else for(;++me<ce;)c(K=d(H.call(L,L[me],me)))&&ne.push(K);if(ne.length)return a.quantile(ne.sort(u),.5)},a.variance=function(L,H){var K,ne,ce=L.length,me=0,Le=0,Pe=-1,je=0;if(1===arguments.length)for(;++Pe<ce;)c(K=d(L[Pe]))&&(Le+=(ne=K-me)*(K-(me+=ne/++je)));else for(;++Pe<ce;)c(K=d(H.call(L,L[Pe],Pe)))&&(Le+=(ne=K-me)*(K-(me+=ne/++je)));if(je>1)return Le/(je-1)},a.deviation=function(){var L=a.variance.apply(this,arguments);return L&&Math.sqrt(L)};var g=x(u);function h(L){return L.length}a.bisectLeft=g.left,a.bisect=a.bisectRight=g.right,a.bisector=function(L){return x(1===L.length?function(H,K){return u(L(H),K)}:L)},a.shuffle=function(L,H,K){(me=arguments.length)<3&&(K=L.length,me<2&&(H=0));for(var ne,ce,me=K-H;me;)ce=Math.random()*me--|0,ne=L[me+H],L[me+H]=L[ce+H],L[ce+H]=ne;return L},a.permute=function(L,H){for(var K=H.length,ne=new Array(K);K--;)ne[K]=L[H[K]];return ne},a.pairs=function(L){for(var H=0,K=L.length-1,ne=L[0],ce=new Array(K<0?0:K);H<K;)ce[H]=[ne,ne=L[++H]];return ce},a.transpose=function(L){if(!(ce=L.length))return[];for(var H=-1,K=a.min(L,h),ne=new Array(K);++H<K;)for(var ce,me=-1,Le=ne[H]=new Array(ce);++me<ce;)Le[me]=L[me][H];return ne},a.zip=function(){return a.transpose(arguments)},a.keys=function(L){var H=[];for(var K in L)H.push(K);return H},a.values=function(L){var H=[];for(var K in L)H.push(L[K]);return H},a.entries=function(L){var H=[];for(var K in L)H.push({key:K,value:L[K]});return H},a.merge=function(L){for(var H,K,ne,ce=L.length,me=-1,Le=0;++me<ce;)Le+=L[me].length;for(K=new Array(Le);--ce>=0;)for(H=(ne=L[ce]).length;--H>=0;)K[--Le]=ne[H];return K};var m=Math.abs;function y(L,H){for(var K in H)Object.defineProperty(L.prototype,K,{value:H[K],enumerable:!1})}function v(){this._=Object.create(null)}a.range=function(L,H,K){if(arguments.length<3&&(K=1,arguments.length<2&&(H=L,L=0)),(H-L)/K==1/0)throw new Error("infinite range");var ne,ce=[],me=function(Pe){for(var je=1;Pe*je%1;)je*=10;return je}(m(K)),Le=-1;if(L*=me,H*=me,(K*=me)<0)for(;(ne=L+K*++Le)>H;)ce.push(ne/me);else for(;(ne=L+K*++Le)<H;)ce.push(ne/me);return ce},a.map=function(L,H){var K=new v;if(L instanceof v)L.forEach(function(Pe,je){K.set(Pe,je)});else if(Array.isArray(L)){var ne,ce=-1,me=L.length;if(1===arguments.length)for(;++ce<me;)K.set(ce,L[ce]);else for(;++ce<me;)K.set(H.call(L,ne=L[ce],ce),ne)}else for(var Le in L)K.set(Le,L[Le]);return K};var _="__proto__",f="\0";function S(L){return(L+="")===_||L[0]===f?f+L:L}function w(L){return(L+="")[0]===f?L.slice(1):L}function E(L){return S(L)in this._}function C(L){return(L=S(L))in this._&&delete this._[L]}function O(){var L=[];for(var H in this._)L.push(w(H));return L}function P(){var L=0;for(var H in this._)++L;return L}function R(){for(var L in this._)return!1;return!0}function j(){this._=Object.create(null)}function z(L){return L}function N(L,H,K){return function(){var ne=K.apply(H,arguments);return ne===H?L:ne}}function Y(L,H){if(H in L)return H;H=H.charAt(0).toUpperCase()+H.slice(1);for(var K=0,ne=F.length;K<ne;++K){var ce=F[K]+H;if(ce in L)return ce}}y(v,{has:E,get:function(L){return this._[S(L)]},set:function(L,H){return this._[S(L)]=H},remove:C,keys:O,values:function(){var L=[];for(var H in this._)L.push(this._[H]);return L},entries:function(){var L=[];for(var H in this._)L.push({key:w(H),value:this._[H]});return L},size:P,empty:R,forEach:function(L){for(var H in this._)L.call(this,w(H),this._[H])}}),a.nest=function(){var L,H,K={},ne=[],ce=[];function me(Pe,je,He){if(He>=ne.length)return H?H.call(K,je):L?je.sort(L):je;for(var $e,lt,ft,xt,Mt=-1,Tt=je.length,Dt=ne[He++],Et=new v;++Mt<Tt;)(xt=Et.get($e=Dt(lt=je[Mt])))?xt.push(lt):Et.set($e,[lt]);return Pe?(lt=Pe(),ft=function(Gt,Ut){lt.set(Gt,me(Pe,Ut,He))}):(lt={},ft=function(Gt,Ut){lt[Gt]=me(Pe,Ut,He)}),Et.forEach(ft),lt}function Le(Pe,je){if(je>=ne.length)return Pe;var He=[],$e=ce[je++];return Pe.forEach(function(lt,ft){He.push({key:lt,values:Le(ft,je)})}),$e?He.sort(function(lt,ft){return $e(lt.key,ft.key)}):He}return K.map=function(Pe,je){return me(je,Pe,0)},K.entries=function(Pe){return Le(me(a.map,Pe,0),0)},K.key=function(Pe){return ne.push(Pe),K},K.sortKeys=function(Pe){return ce[ne.length-1]=Pe,K},K.sortValues=function(Pe){return L=Pe,K},K.rollup=function(Pe){return H=Pe,K},K},a.set=function(L){var H=new j;if(L)for(var K=0,ne=L.length;K<ne;++K)H.add(L[K]);return H},y(j,{has:E,add:function(L){return this._[S(L+="")]=!0,L},remove:C,values:O,size:P,empty:R,forEach:function(L){for(var H in this._)L.call(this,w(H))}}),a.behavior={},a.rebind=function(L,H){for(var K,ne=1,ce=arguments.length;++ne<ce;)L[K=arguments[ne]]=N(L,H,H[K]);return L};var F=["webkit","ms","moz","Moz","o","O"];function U(){}function V(){}function te(L){var H=[],K=new v;function ne(){for(var ce,me=H,Le=-1,Pe=me.length;++Le<Pe;)(ce=me[Le].on)&&ce.apply(this,arguments);return L}return ne.on=function(ce,me){var Le,Pe=K.get(ce);return arguments.length<2?Pe&&Pe.on:(Pe&&(Pe.on=null,H=H.slice(0,Le=H.indexOf(Pe)).concat(H.slice(Le+1)),K.remove(ce)),me&&H.push(K.set(ce,{on:me})),L)},ne}function $(){a.event.preventDefault()}function X(){for(var L,H=a.event;L=H.sourceEvent;)H=L;return H}function W(L){for(var H=new V,K=0,ne=arguments.length;++K<ne;)H[arguments[K]]=te(H);return H.of=function(ce,me){return function(Le){try{var Pe=Le.sourceEvent=a.event;Le.target=L,a.event=Le,H[Le.type].apply(ce,me)}finally{a.event=Pe}}},H}a.dispatch=function(){for(var L=new V,H=-1,K=arguments.length;++H<K;)L[arguments[H]]=te(L);return L},V.prototype.on=function(L,H){var K=L.indexOf("."),ne="";if(K>=0&&(ne=L.slice(K+1),L=L.slice(0,K)),L)return arguments.length<2?this[L].on(ne):this[L].on(ne,H);if(2===arguments.length){if(null==H)for(L in this)this.hasOwnProperty(L)&&this[L].on(ne,null);return this}},a.event=null,a.requote=function(L){return L.replace(J,"\\$&")};var J=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Q={}.__proto__?function(L,H){L.__proto__=H}:function(L,H){for(var K in H)L[K]=H[K]};function re(L){return Q(L,ve),L}var ae=function(L,H){return H.querySelector(L)},oe=function(L,H){return H.querySelectorAll(L)},ue=function(L,H){var K=L.matches||L[Y(L,"matchesSelector")];return(ue=function(ne,ce){return K.call(ne,ce)})(L,H)};"function"==typeof Sizzle&&(ae=function(L,H){return Sizzle(L,H)[0]||null},oe=Sizzle,ue=Sizzle.matchesSelector),a.selection=function(){return a.select(p.documentElement)};var ve=a.selection.prototype=[];function be(L){return"function"==typeof L?L:function(){return ae(L,this)}}function de(L){return"function"==typeof L?L:function(){return oe(L,this)}}ve.select=function(L){var H,K,ne,ce,me=[];L=be(L);for(var Le=-1,Pe=this.length;++Le<Pe;){me.push(H=[]),H.parentNode=(ne=this[Le]).parentNode;for(var je=-1,He=ne.length;++je<He;)(ce=ne[je])?(H.push(K=L.call(ce,ce.__data__,je,Le)),K&&"__data__"in ce&&(K.__data__=ce.__data__)):H.push(null)}return re(me)},ve.selectAll=function(L){var H,K,ne=[];L=de(L);for(var ce=-1,me=this.length;++ce<me;)for(var Le=this[ce],Pe=-1,je=Le.length;++Pe<je;)(K=Le[Pe])&&(ne.push(H=b(L.call(K,K.__data__,Pe,ce))),H.parentNode=K);return re(ne)};var pe="http://www.w3.org/1999/xhtml",ge={svg:"http://www.w3.org/2000/svg",xhtml:pe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ae(L,H){return L=a.ns.qualify(L),null==H?L.local?function(){this.removeAttributeNS(L.space,L.local)}:function(){this.removeAttribute(L)}:"function"==typeof H?L.local?function(){var K=H.apply(this,arguments);null==K?this.removeAttributeNS(L.space,L.local):this.setAttributeNS(L.space,L.local,K)}:function(){var K=H.apply(this,arguments);null==K?this.removeAttribute(L):this.setAttribute(L,K)}:L.local?function(){this.setAttributeNS(L.space,L.local,H)}:function(){this.setAttribute(L,H)}}function ye(L){return L.trim().replace(/\s+/g," ")}function we(L){return new RegExp("(?:^|\\s+)"+a.requote(L)+"(?:\\s+|$)","g")}function se(L){return(L+"").trim().split(/^|\s+/)}function ie(L,H){var K=(L=se(L).map(he)).length;return"function"==typeof H?function(){for(var ne=-1,ce=H.apply(this,arguments);++ne<K;)L[ne](this,ce)}:function(){for(var ne=-1;++ne<K;)L[ne](this,H)}}function he(L){var H=we(L);return function(K,ne){if(ce=K.classList)return ne?ce.add(L):ce.remove(L);var ce=K.getAttribute("class")||"";ne?(H.lastIndex=0,H.test(ce)||K.setAttribute("class",ye(ce+" "+L))):K.setAttribute("class",ye(ce.replace(H," ")))}}function Se(L,H,K){return null==H?function(){this.style.removeProperty(L)}:"function"==typeof H?function(){var ne=H.apply(this,arguments);null==ne?this.style.removeProperty(L):this.style.setProperty(L,ne,K)}:function(){this.style.setProperty(L,H,K)}}function _e(L,H){return null==H?function(){delete this[L]}:"function"==typeof H?function(){var K=H.apply(this,arguments);null==K?delete this[L]:this[L]=K}:function(){this[L]=H}}function Me(L){return"function"==typeof L?L:(L=a.ns.qualify(L)).local?function(){return this.ownerDocument.createElementNS(L.space,L.local)}:function(){var H=this.ownerDocument,K=this.namespaceURI;return K===pe&&H.documentElement.namespaceURI===pe?H.createElement(L):H.createElementNS(K,L)}}function Ee(){var L=this.parentNode;L&&L.removeChild(this)}function Ie(L){return{__data__:L}}function fe(L){return function(){return ue(this,L)}}function xe(L){return arguments.length||(L=u),function(H,K){return H&&K?L(H.__data__,K.__data__):!H-!K}}function Te(L,H){for(var K=0,ne=L.length;K<ne;K++)for(var ce,me=L[K],Le=0,Pe=me.length;Le<Pe;Le++)(ce=me[Le])&&H(ce,Le,K);return L}function Ce(L){return Q(L,De),L}a.ns={prefix:ge,qualify:function(L){var H=L.indexOf(":"),K=L;return H>=0&&"xmlns"!==(K=L.slice(0,H))&&(L=L.slice(H+1)),ge.hasOwnProperty(K)?{space:ge[K],local:L}:L}},ve.attr=function(L,H){if(arguments.length<2){if("string"==typeof L){var K=this.node();return(L=a.ns.qualify(L)).local?K.getAttributeNS(L.space,L.local):K.getAttribute(L)}for(H in L)this.each(Ae(H,L[H]));return this}return this.each(Ae(L,H))},ve.classed=function(L,H){if(arguments.length<2){if("string"==typeof L){var K=this.node(),ne=(L=se(L)).length,ce=-1;if(H=K.classList){for(;++ce<ne;)if(!H.contains(L[ce]))return!1}else for(H=K.getAttribute("class");++ce<ne;)if(!we(L[ce]).test(H))return!1;return!0}for(H in L)this.each(ie(H,L[H]));return this}return this.each(ie(L,H))},ve.style=function(L,H,K){var ne=arguments.length;if(ne<3){if("string"!=typeof L){for(K in ne<2&&(H=""),L)this.each(Se(K,L[K],H));return this}if(ne<2){var ce=this.node();return t(ce).getComputedStyle(ce,null).getPropertyValue(L)}K=""}return this.each(Se(L,H,K))},ve.property=function(L,H){if(arguments.length<2){if("string"==typeof L)return this.node()[L];for(H in L)this.each(_e(H,L[H]));return this}return this.each(_e(L,H))},ve.text=function(L){return arguments.length?this.each("function"==typeof L?function(){var H=L.apply(this,arguments);this.textContent=H??""}:null==L?function(){this.textContent=""}:function(){this.textContent=L}):this.node().textContent},ve.html=function(L){return arguments.length?this.each("function"==typeof L?function(){var H=L.apply(this,arguments);this.innerHTML=H??""}:null==L?function(){this.innerHTML=""}:function(){this.innerHTML=L}):this.node().innerHTML},ve.append=function(L){return L=Me(L),this.select(function(){return this.appendChild(L.apply(this,arguments))})},ve.insert=function(L,H){return L=Me(L),H=be(H),this.select(function(){return this.insertBefore(L.apply(this,arguments),H.apply(this,arguments)||null)})},ve.remove=function(){return this.each(Ee)},ve.data=function(L,H){var K,ne,ce=-1,me=this.length;if(!arguments.length){for(L=new Array(me=(K=this[0]).length);++ce<me;)(ne=K[ce])&&(L[ce]=ne.__data__);return L}function Le($e,lt){var ft,xt,Mt,Tt=$e.length,Dt=lt.length,Et=Math.min(Tt,Dt),Gt=new Array(Dt),Ut=new Array(Dt),Bt=new Array(Tt);if(H){var hn,pn=new v,En=new Array(Tt);for(ft=-1;++ft<Tt;)(xt=$e[ft])&&(pn.has(hn=H.call(xt,xt.__data__,ft))?Bt[ft]=xt:pn.set(hn,xt),En[ft]=hn);for(ft=-1;++ft<Dt;)(xt=pn.get(hn=H.call(lt,Mt=lt[ft],ft)))?!0!==xt&&(Gt[ft]=xt,xt.__data__=Mt):Ut[ft]=Ie(Mt),pn.set(hn,!0);for(ft=-1;++ft<Tt;)ft in En&&!0!==pn.get(En[ft])&&(Bt[ft]=$e[ft])}else{for(ft=-1;++ft<Et;)xt=$e[ft],Mt=lt[ft],xt?(xt.__data__=Mt,Gt[ft]=xt):Ut[ft]=Ie(Mt);for(;ft<Dt;++ft)Ut[ft]=Ie(lt[ft]);for(;ft<Tt;++ft)Bt[ft]=$e[ft]}Ut.update=Gt,Ut.parentNode=Gt.parentNode=Bt.parentNode=$e.parentNode,Pe.push(Ut),je.push(Gt),He.push(Bt)}var Pe=Ce([]),je=re([]),He=re([]);if("function"==typeof L)for(;++ce<me;)Le(K=this[ce],L.call(K,K.parentNode.__data__,ce));else for(;++ce<me;)Le(K=this[ce],L);return je.enter=function(){return Pe},je.exit=function(){return He},je},ve.datum=function(L){return arguments.length?this.property("__data__",L):this.property("__data__")},ve.filter=function(L){var H,K,ne,ce=[];"function"!=typeof L&&(L=fe(L));for(var me=0,Le=this.length;me<Le;me++){ce.push(H=[]),H.parentNode=(K=this[me]).parentNode;for(var Pe=0,je=K.length;Pe<je;Pe++)(ne=K[Pe])&&L.call(ne,ne.__data__,Pe,me)&&H.push(ne)}return re(ce)},ve.order=function(){for(var L=-1,H=this.length;++L<H;)for(var K,ne=this[L],ce=ne.length-1,me=ne[ce];--ce>=0;)(K=ne[ce])&&(me&&me!==K.nextSibling&&me.parentNode.insertBefore(K,me),me=K);return this},ve.sort=function(L){L=xe.apply(this,arguments);for(var H=-1,K=this.length;++H<K;)this[H].sort(L);return this.order()},ve.each=function(L){return Te(this,function(H,K,ne){L.call(H,H.__data__,K,ne)})},ve.call=function(L){var H=b(arguments);return L.apply(H[0]=this,H),this},ve.empty=function(){return!this.node()},ve.node=function(){for(var L=0,H=this.length;L<H;L++)for(var K=this[L],ne=0,ce=K.length;ne<ce;ne++){var me=K[ne];if(me)return me}return null},ve.size=function(){var L=0;return Te(this,function(){++L}),L};var De=[];function ze(L,H,K){var ne="__on"+L,ce=L.indexOf("."),me=Ve;ce>0&&(L=L.slice(0,ce));var Le=Ue.get(L);function Pe(){var je=this[ne];je&&(this.removeEventListener(L,je,je.$),delete this[ne])}return Le&&(L=Le,me=Xe),ce?H?function(){var je=me(H,b(arguments));Pe.call(this),this.addEventListener(L,this[ne]=je,je.$=K),je._=H}:Pe:H?U:function(){var je,He=new RegExp("^__on([^.]+)"+a.requote(L)+"$");for(var $e in this)if(je=$e.match(He)){var lt=this[$e];this.removeEventListener(je[1],lt,lt.$),delete this[$e]}}}a.selection.enter=Ce,a.selection.enter.prototype=De,De.append=ve.append,De.empty=ve.empty,De.node=ve.node,De.call=ve.call,De.size=ve.size,De.select=function(L){for(var H,K,ne,ce,me,Le=[],Pe=-1,je=this.length;++Pe<je;){ne=(ce=this[Pe]).update,Le.push(H=[]),H.parentNode=ce.parentNode;for(var He=-1,$e=ce.length;++He<$e;)(me=ce[He])?(H.push(ne[He]=K=L.call(ce.parentNode,me.__data__,He,Pe)),K.__data__=me.__data__):H.push(null)}return re(Le)},De.insert=function(L,H){var K,ne,ce;return arguments.length<2&&(K=this,H=function(me,Le,Pe){var je,He=K[Pe].update,$e=He.length;for(Pe!=ce&&(ce=Pe,ne=0),Le>=ne&&(ne=Le+1);!(je=He[ne])&&++ne<$e;);return je}),ve.insert.call(this,L,H)},a.select=function(L){var H;return"string"==typeof L?(H=[ae(L,p)]).parentNode=p.documentElement:(H=[L]).parentNode=s(L),re([H])},a.selectAll=function(L){var H;return"string"==typeof L?(H=b(oe(L,p))).parentNode=p.documentElement:(H=b(L)).parentNode=null,re([H])},ve.on=function(L,H,K){var ne=arguments.length;if(ne<3){if("string"!=typeof L){for(K in ne<2&&(H=!1),L)this.each(ze(K,L[K],H));return this}if(ne<2)return(ne=this.node()["__on"+L])&&ne._;K=!1}return this.each(ze(L,H,K))};var Ue=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ve(L,H){return function(K){var ne=a.event;a.event=K,H[0]=this.__data__;try{L.apply(this,H)}finally{a.event=ne}}}function Xe(L,H){var K=Ve(L,H);return function(ne){var ce=this,me=ne.relatedTarget;me&&(me===ce||8&me.compareDocumentPosition(ce))||K.call(ce,ne)}}p&&Ue.forEach(function(L){"on"+L in p&&Ue.remove(L)});var at,st=0;function ht(L){var H=".dragsuppress-"+ ++st,K="click"+H,ne=a.select(t(L)).on("touchmove"+H,$).on("dragstart"+H,$).on("selectstart"+H,$);if(null==at&&(at=!("onselectstart"in L)&&Y(L.style,"userSelect")),at){var ce=s(L).style,me=ce[at];ce[at]="none"}return function(Le){if(ne.on(H,null),at&&(ce[at]=me),Le){var Pe=function(){ne.on(K,null)};ne.on(K,function(){$(),Pe()},!0),setTimeout(Pe,0)}}}a.mouse=function(L){return vt(L,X())};var bt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function vt(L,H){H.changedTouches&&(H=H.changedTouches[0]);var K=L.ownerSVGElement||L;if(K.createSVGPoint){var ne=K.createSVGPoint();if(bt<0){var ce=t(L);if(ce.scrollX||ce.scrollY){var me=(K=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();bt=!(me.f||me.e),K.remove()}}return bt?(ne.x=H.pageX,ne.y=H.pageY):(ne.x=H.clientX,ne.y=H.clientY),[(ne=ne.matrixTransform(L.getScreenCTM().inverse())).x,ne.y]}var Le=L.getBoundingClientRect();return[H.clientX-Le.left-L.clientLeft,H.clientY-Le.top-L.clientTop]}function Qe(){return a.event.changedTouches[0].identifier}a.touch=function(L,H,K){if(arguments.length<3&&(K=H,H=X().changedTouches),H)for(var ne,ce=0,me=H.length;ce<me;++ce)if((ne=H[ce]).identifier===K)return vt(L,ne)},a.behavior.drag=function(){var L=W(ce,"drag","dragstart","dragend"),H=null,K=me(U,a.mouse,t,"mousemove","mouseup"),ne=me(Qe,a.touch,z,"touchmove","touchend");function ce(){this.on("mousedown.drag",K).on("touchstart.drag",ne)}function me(Le,Pe,je,He,$e){return function(){var lt,ft=this,xt=a.event.target.correspondingElement||a.event.target,Mt=ft.parentNode,Tt=L.of(ft,arguments),Dt=0,Et=Le(),Gt=".drag"+(null==Et?"":"-"+Et),Ut=a.select(je(xt)).on(He+Gt,function(){var pn,En,Cn=Pe(Mt,Et);Cn&&(pn=Cn[0]-hn[0],En=Cn[1]-hn[1],Dt|=pn|En,hn=Cn,Tt({type:"drag",x:Cn[0]+lt[0],y:Cn[1]+lt[1],dx:pn,dy:En}))}).on($e+Gt,function(){Pe(Mt,Et)&&(Ut.on(He+Gt,null).on($e+Gt,null),Bt(Dt),Tt({type:"dragend"}))}),Bt=ht(xt),hn=Pe(Mt,Et);lt=H?[(lt=H.apply(ft,arguments)).x-hn[0],lt.y-hn[1]]:[0,0],Tt({type:"dragstart"})}}return ce.origin=function(Le){return arguments.length?(H=Le,ce):H},a.rebind(ce,L,"on")},a.touches=function(L,H){return arguments.length<2&&(H=X().touches),H?b(H).map(function(K){var ne=vt(L,K);return ne.identifier=K.identifier,ne}):[]};var nt=1e-6,wt=nt*nt,Ot=Math.PI,Pt=2*Ot,St=Pt-nt,qe=Ot/2,Ze=Ot/180,Ne=180/Ot;function Ge(L){return L>1?qe:L<-1?-qe:Math.asin(L)}function rt(L){return((L=Math.exp(L))+1/L)/2}var tt=Math.SQRT2;a.interpolateZoom=function(L,H){var K,ne,ce=L[0],me=L[1],Le=L[2],Pe=H[0],je=H[1],He=H[2],$e=Pe-ce,lt=je-me,ft=$e*$e+lt*lt;if(ft<wt)ne=Math.log(He/Le)/tt,K=function(Gt){return[ce+Gt*$e,me+Gt*lt,Le*Math.exp(tt*Gt*ne)]};else{var xt=Math.sqrt(ft),Mt=(He*He-Le*Le+4*ft)/(2*Le*2*xt),Tt=(He*He-Le*Le-4*ft)/(2*He*2*xt),Dt=Math.log(Math.sqrt(Mt*Mt+1)-Mt),Et=Math.log(Math.sqrt(Tt*Tt+1)-Tt);ne=(Et-Dt)/tt,K=function(Gt){var Ut,En,Bt=Gt*ne,hn=rt(Dt),pn=Le/(2*xt)*(hn*(Ut=tt*Bt+Dt,((Ut=Math.exp(2*Ut))-1)/(Ut+1))-(En=Dt,((En=Math.exp(En))-1/En)/2));return[ce+pn*$e,me+pn*lt,Le*hn/rt(tt*Bt+Dt)]}}return K.duration=1e3*ne,K},a.behavior.zoom=function(){var L,H,K,ne,ce,me,Le,Pe,je,He={x:0,y:0,k:1},$e=[960,500],lt=et,ft=250,xt=0,Mt="mousedown.zoom",Tt="mousemove.zoom",Dt="mouseup.zoom",Et="touchstart.zoom",Gt=W(Ut,"zoomstart","zoom","zoomend");function Ut(Yn){Yn.on(Mt,Hn).on(Fe+".zoom",gr).on("dblclick.zoom",kr).on(Et,rr)}function Bt(Yn){return[(Yn[0]-He.x)/He.k,(Yn[1]-He.y)/He.k]}function hn(Yn){He.k=Math.max(lt[0],Math.min(lt[1],Yn))}function pn(Yn,nr){var yr;nr=[(yr=nr)[0]*He.k+He.x,yr[1]*He.k+He.y],He.x+=Yn[0]-nr[0],He.y+=Yn[1]-nr[1]}function En(Yn,nr,yr,lr){Yn.__chart__={x:He.x,y:He.y,k:He.k},hn(Math.pow(2,lr)),pn(H=nr,yr),Yn=a.select(Yn),ft>0&&(Yn=Yn.transition().duration(ft)),Yn.call(Ut.event)}function Cn(){Le&&Le.domain(me.range().map(function(Yn){return(Yn-He.x)/He.k}).map(me.invert)),je&&je.domain(Pe.range().map(function(Yn){return(Yn-He.y)/He.k}).map(Pe.invert))}function Nn(Yn){xt++||Yn({type:"zoomstart"})}function Wn(Yn){Cn(),Yn({type:"zoom",scale:He.k,translate:[He.x,He.y]})}function sr(Yn){--xt||(Yn({type:"zoomend"}),H=null)}function Hn(){var Yn=this,nr=Gt.of(Yn,arguments),yr=0,lr=a.select(t(Yn)).on(Tt,function(){yr=1,pn(a.mouse(Yn),_r),Wn(nr)}).on(Dt,function(){lr.on(Tt,null).on(Dt,null),Er(yr),sr(nr)}),_r=Bt(a.mouse(Yn)),Er=ht(Yn);ba.call(Yn),Nn(nr)}function rr(){var Yn,nr=this,yr=Gt.of(nr,arguments),lr={},_r=0,Er=".zoom-"+a.event.changedTouches[0].identifier,Dr="touchmove"+Er,Rr="touchend"+Er,Nr=[],Vr=a.select(nr),ui=ht(nr);function ki(){var di=a.touches(nr);return Yn=He.k,di.forEach(function(qr){qr.identifier in lr&&(lr[qr.identifier]=Bt(qr))}),di}function ea(){var di=a.event.target;a.select(di).on(Dr,Bi).on(Rr,Yi),Nr.push(di);for(var qr=a.event.changedTouches,yi=0,ri=qr.length;yi<ri;++yi)lr[qr[yi].identifier]=null;var Wr=ki(),xi=Date.now();if(1===Wr.length){if(xi-ce<500){var Ai=Wr[0];En(nr,Ai,lr[Ai.identifier],Math.floor(Math.log(He.k)/Math.LN2)+1),$()}ce=xi}else if(Wr.length>1){Ai=Wr[0];var Ii=Wr[1],cs=Ai[0]-Ii[0],fs=Ai[1]-Ii[1];_r=cs*cs+fs*fs}}function Bi(){var di,qr,yi,ri,Wr=a.touches(nr);ba.call(nr);for(var xi=0,Ai=Wr.length;xi<Ai;++xi,ri=null)if(yi=Wr[xi],ri=lr[yi.identifier]){if(qr)break;di=yi,qr=ri}if(ri){var Ii=(Ii=yi[0]-di[0])*Ii+(Ii=yi[1]-di[1])*Ii,cs=_r&&Math.sqrt(Ii/_r);di=[(di[0]+yi[0])/2,(di[1]+yi[1])/2],qr=[(qr[0]+ri[0])/2,(qr[1]+ri[1])/2],hn(cs*Yn)}ce=null,pn(di,qr),Wn(yr)}function Yi(){if(a.event.touches.length){for(var di=a.event.changedTouches,qr=0,yi=di.length;qr<yi;++qr)delete lr[di[qr].identifier];for(var ri in lr)return void ki()}a.selectAll(Nr).on(Er,null),Vr.on(Mt,Hn).on(Et,rr),ui(),sr(yr)}ea(),Nn(yr),Vr.on(Mt,null).on(Et,ea)}function gr(){var Yn=Gt.of(this,arguments);ne?clearTimeout(ne):(ba.call(this),L=Bt(H=K||a.mouse(this)),Nn(Yn)),ne=setTimeout(function(){ne=null,sr(Yn)},50),$(),hn(Math.pow(2,.002*Re())*He.k),pn(H,L),Wn(Yn)}function kr(){var Yn=a.mouse(this),nr=Math.log(He.k)/Math.LN2;En(this,Yn,Bt(Yn),a.event.shiftKey?Math.ceil(nr)-1:Math.floor(nr)+1)}return Fe||(Fe="onwheel"in p?(Re=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in p?(Re=function(){return a.event.wheelDelta},"mousewheel"):(Re=function(){return-a.event.detail},"MozMousePixelScroll")),Ut.event=function(Yn){Yn.each(function(){var nr=Gt.of(this,arguments),yr=He;Ei?a.select(this).transition().each("start.zoom",function(){He=this.__chart__||{x:0,y:0,k:1},Nn(nr)}).tween("zoom:zoom",function(){var lr=$e[0],_r=$e[1],Er=H?H[0]:lr/2,Dr=H?H[1]:_r/2,Rr=a.interpolateZoom([(Er-He.x)/He.k,(Dr-He.y)/He.k,lr/He.k],[(Er-yr.x)/yr.k,(Dr-yr.y)/yr.k,lr/yr.k]);return function(Nr){var Vr=Rr(Nr),ui=lr/Vr[2];this.__chart__=He={x:Er-Vr[0]*ui,y:Dr-Vr[1]*ui,k:ui},Wn(nr)}}).each("interrupt.zoom",function(){sr(nr)}).each("end.zoom",function(){sr(nr)}):(this.__chart__=He,Nn(nr),Wn(nr),sr(nr))})},Ut.translate=function(Yn){return arguments.length?(He={x:+Yn[0],y:+Yn[1],k:He.k},Cn(),Ut):[He.x,He.y]},Ut.scale=function(Yn){return arguments.length?(He={x:He.x,y:He.y,k:null},hn(+Yn),Cn(),Ut):He.k},Ut.scaleExtent=function(Yn){return arguments.length?(lt=null==Yn?et:[+Yn[0],+Yn[1]],Ut):lt},Ut.center=function(Yn){return arguments.length?(K=Yn&&[+Yn[0],+Yn[1]],Ut):K},Ut.size=function(Yn){return arguments.length?($e=Yn&&[+Yn[0],+Yn[1]],Ut):$e},Ut.duration=function(Yn){return arguments.length?(ft=+Yn,Ut):ft},Ut.x=function(Yn){return arguments.length?(Le=Yn,me=Yn.copy(),He={x:0,y:0,k:1},Ut):Le},Ut.y=function(Yn){return arguments.length?(je=Yn,Pe=Yn.copy(),He={x:0,y:0,k:1},Ut):je},a.rebind(Ut,Gt,"on")};var Re,Fe,et=[0,1/0];function We(){}function ct(L,H,K){return this instanceof ct?(this.h=+L,this.s=+H,void(this.l=+K)):arguments.length<2?L instanceof ct?new ct(L.h,L.s,L.l):an(""+L,xn,ct):new ct(L,H,K)}a.color=We,We.prototype.toString=function(){return this.rgb()+""},a.hsl=ct;var pt=ct.prototype=new We;function dt(L,H,K){var ne,ce;function me(Le){return Math.round(255*((Pe=Le)>360?Pe-=360:Pe<0&&(Pe+=360),Pe<60?ne+(ce-ne)*Pe/60:Pe<180?ce:Pe<240?ne+(ce-ne)*(240-Pe)/60:ne));var Pe}return L=isNaN(L)?0:(L%=360)<0?L+360:L,H=isNaN(H)||H<0?0:H>1?1:H,ne=2*(K=K<0?0:K>1?1:K)-(ce=K<=.5?K*(1+H):K+H-K*H),new kn(me(L+120),me(L),me(L-120))}function ut(L,H,K){return this instanceof ut?(this.h=+L,this.c=+H,void(this.l=+K)):arguments.length<2?L instanceof ut?new ut(L.h,L.c,L.l):(ne=L instanceof gt?L.l:(L=_n((L=a.rgb(L)).r,L.g,L.b)).l,ce=L.a,me=L.b,ne>0?new ut(Math.atan2(me,ce)*Ne,Math.sqrt(ce*ce+me*me),ne):new ut(NaN,NaN,ne)):new ut(L,H,K);var ne,ce,me}pt.brighter=function(L){return L=Math.pow(.7,arguments.length?L:1),new ct(this.h,this.s,this.l/L)},pt.darker=function(L){return L=Math.pow(.7,arguments.length?L:1),new ct(this.h,this.s,L*this.l)},pt.rgb=function(){return dt(this.h,this.s,this.l)},a.hcl=ut;var kt=ut.prototype=new We;function yt(L,H,K){return isNaN(L)&&(L=0),isNaN(H)&&(H=0),new gt(K,Math.cos(L*=Ze)*H,Math.sin(L)*H)}function gt(L,H,K){return this instanceof gt?(this.l=+L,this.a=+H,void(this.b=+K)):arguments.length<2?L instanceof gt?new gt(L.l,L.a,L.b):L instanceof ut?yt(L.h,L.c,L.l):_n((L=kn(L)).r,L.g,L.b):new gt(L,H,K)}kt.brighter=function(L){return new ut(this.h,this.c,Math.min(100,this.l+At*(arguments.length?L:1)))},kt.darker=function(L){return new ut(this.h,this.c,Math.max(0,this.l-At*(arguments.length?L:1)))},kt.rgb=function(){return yt(this.h,this.c,this.l).rgb()},a.lab=gt;var At=18,Lt=.95047,It=1,qt=1.08883,Qt=gt.prototype=new We;function Vt(L,H,K){var ne=(L+16)/116,ce=ne+H/500,me=ne-K/200;return new kn(wn(3.2404542*(ce=Ft(ce)*Lt)-1.5371385*(ne=Ft(ne)*It)-.4985314*(me=Ft(me)*qt)),wn(-.969266*ce+1.8760108*ne+.041556*me),wn(.0556434*ce-.2040259*ne+1.0572252*me))}function Ft(L){return L>.206893034?L*L*L:(L-.13793103448275862)/7.787037}function en(L){return L>.008856?Math.pow(L,.3333333333333333):7.787037*L+.13793103448275862}function wn(L){return Math.round(255*(L<=.00304?12.92*L:1.055*Math.pow(L,.4166666666666667)-.055))}function kn(L,H,K){return this instanceof kn?(this.r=~~L,this.g=~~H,void(this.b=~~K)):arguments.length<2?L instanceof kn?new kn(L.r,L.g,L.b):an(""+L,kn,dt):new kn(L,H,K)}function on(L){return new kn(L>>16,L>>8&255,255&L)}function Ht(L){return on(L)+""}Qt.brighter=function(L){return new gt(Math.min(100,this.l+At*(arguments.length?L:1)),this.a,this.b)},Qt.darker=function(L){return new gt(Math.max(0,this.l-At*(arguments.length?L:1)),this.a,this.b)},Qt.rgb=function(){return Vt(this.l,this.a,this.b)},a.rgb=kn;var nn=kn.prototype=new We;function Kt(L){return L<16?"0"+Math.max(0,L).toString(16):Math.min(255,L).toString(16)}function an(L,H,K){var ne,ce,me,Le=0,Pe=0,je=0;if(ne=/([a-z]+)\((.*)\)/.exec(L=L.toLowerCase()))switch(ce=ne[2].split(","),ne[1]){case"hsl":return K(parseFloat(ce[0]),parseFloat(ce[1])/100,parseFloat(ce[2])/100);case"rgb":return H(An(ce[0]),An(ce[1]),An(ce[2]))}return(me=vn.get(L))?H(me.r,me.g,me.b):(null==L||"#"!==L.charAt(0)||isNaN(me=parseInt(L.slice(1),16))||(4===L.length?(Le=(3840&me)>>4,Le|=Le>>4,Pe=240&me,Pe|=Pe>>4,je=15&me,je|=je<<4):7===L.length&&(Le=(16711680&me)>>16,Pe=(65280&me)>>8,je=255&me)),H(Le,Pe,je))}function xn(L,H,K){var ne,ce,me=Math.min(L/=255,H/=255,K/=255),Le=Math.max(L,H,K),Pe=Le-me,je=(Le+me)/2;return Pe?(ce=je<.5?Pe/(Le+me):Pe/(2-Le-me),ne=L==Le?(H-K)/Pe+(H<K?6:0):H==Le?(K-L)/Pe+2:(L-H)/Pe+4,ne*=60):(ne=NaN,ce=je>0&&je<1?0:ne),new ct(ne,ce,je)}function _n(L,H,K){var ne=en((.4124564*(L=mn(L))+.3575761*(H=mn(H))+.1804375*(K=mn(K)))/Lt),ce=en((.2126729*L+.7151522*H+.072175*K)/It);return gt(116*ce-16,500*(ne-ce),200*(ce-en((.0193339*L+.119192*H+.9503041*K)/qt)))}function mn(L){return(L/=255)<=.04045?L/12.92:Math.pow((L+.055)/1.055,2.4)}function An(L){var H=parseFloat(L);return"%"===L.charAt(L.length-1)?Math.round(2.55*H):H}nn.brighter=function(L){L=Math.pow(.7,arguments.length?L:1);var H=this.r,K=this.g,ne=this.b,ce=30;return H||K||ne?(H&&H<ce&&(H=ce),K&&K<ce&&(K=ce),ne&&ne<ce&&(ne=ce),new kn(Math.min(255,H/L),Math.min(255,K/L),Math.min(255,ne/L))):new kn(ce,ce,ce)},nn.darker=function(L){return new kn((L=Math.pow(.7,arguments.length?L:1))*this.r,L*this.g,L*this.b)},nn.hsl=function(){return xn(this.r,this.g,this.b)},nn.toString=function(){return"#"+Kt(this.r)+Kt(this.g)+Kt(this.b)};var vn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function On(L){return"function"==typeof L?L:function(){return L}}function Bn(L){return function(H,K,ne){return 2===arguments.length&&"function"==typeof K&&(ne=K,K=null),er(H,K,L,ne)}}function er(L,H,K,ne){var $e,ce={},me=a.dispatch("beforesend","progress","load","error"),Le={},Pe=new XMLHttpRequest,je=null;function He(){var $e,ft,xt,lt=Pe.status;if(!lt&&((xt=(ft=Pe).responseType)&&"text"!==xt?ft.response:ft.responseText)||lt>=200&&lt<300||304===lt){try{$e=K.call(ce,Pe)}catch(ft){return void me.error.call(ce,ft)}me.load.call(ce,$e)}else me.error.call(ce,Pe)}return self.XDomainRequest&&!("withCredentials"in Pe)&&/^(http(s)?:)?\/\//.test(L)&&(Pe=new XDomainRequest),"onload"in Pe?Pe.onload=Pe.onerror=He:Pe.onreadystatechange=function(){Pe.readyState>3&&He()},Pe.onprogress=function($e){var lt=a.event;a.event=$e;try{me.progress.call(ce,Pe)}finally{a.event=lt}},ce.header=function($e,lt){return $e=($e+"").toLowerCase(),arguments.length<2?Le[$e]:(null==lt?delete Le[$e]:Le[$e]=lt+"",ce)},ce.mimeType=function($e){return arguments.length?(H=null==$e?null:$e+"",ce):H},ce.responseType=function($e){return arguments.length?(je=$e,ce):je},ce.response=function($e){return K=$e,ce},["get","post"].forEach(function($e){ce[$e]=function(){return ce.send.apply(ce,[$e].concat(b(arguments)))}}),ce.send=function($e,lt,ft){if(2===arguments.length&&"function"==typeof lt&&(ft=lt,lt=null),Pe.open($e,L,!0),null==H||"accept"in Le||(Le.accept=H+",*/*"),Pe.setRequestHeader)for(var xt in Le)Pe.setRequestHeader(xt,Le[xt]);return null!=H&&Pe.overrideMimeType&&Pe.overrideMimeType(H),null!=je&&(Pe.responseType=je),null!=ft&&ce.on("error",ft).on("load",function(Mt){ft(null,Mt)}),me.beforesend.call(ce,Pe),Pe.send(lt??null),ce},ce.abort=function(){return Pe.abort(),ce},a.rebind(ce,me,"on"),null==ne?ce:ce.get(1===($e=ne).length?function(lt,ft){$e(null==lt?ft:null)}:$e)}vn.forEach(function(L,H){vn.set(L,on(H))}),a.functor=On,a.xhr=Bn(z),a.dsv=function(L,H){var K=new RegExp('["'+L+"\n]"),ne=L.charCodeAt(0);function ce(He,$e,lt){arguments.length<3&&(lt=$e,$e=null);var ft=er(He,H,null==$e?me:Le($e),lt);return ft.row=function(xt){return arguments.length?ft.response(null==($e=xt)?me:Le(xt)):$e},ft}function me(He){return ce.parse(He.responseText)}function Le(He){return function($e){return ce.parse($e.responseText,He)}}function Pe(He){return He.map(je).join(L)}function je(He){return K.test(He)?'"'+He.replace(/\"/g,'""')+'"':He}return ce.parse=function(He,$e){var lt;return ce.parseRows(He,function(ft,xt){if(lt)return lt(ft,xt-1);var Mt=function(Tt){for(var Dt={},Et=ft.length,Gt=0;Gt<Et;++Gt)Dt[ft[Gt]]=Tt[Gt];return Dt};lt=$e?function(Tt,Dt){return $e(Mt(Tt),Dt)}:Mt})},ce.parseRows=function(He,$e){var lt,ft,xt={},Mt={},Tt=[],Dt=He.length,Et=0,Gt=0;function Ut(){if(Et>=Dt)return Mt;if(ft)return ft=!1,xt;var hn=Et;if(34===He.charCodeAt(hn)){for(var pn=hn;pn++<Dt;)if(34===He.charCodeAt(pn)){if(34!==He.charCodeAt(pn+1))break;++pn}return Et=pn+2,13===(En=He.charCodeAt(pn+1))?(ft=!0,10===He.charCodeAt(pn+2)&&++Et):10===En&&(ft=!0),He.slice(hn+1,pn).replace(/""/g,'"')}for(;Et<Dt;){var En,Cn=1;if(10===(En=He.charCodeAt(Et++)))ft=!0;else if(13===En)ft=!0,10===He.charCodeAt(Et)&&(++Et,++Cn);else if(En!==ne)continue;return He.slice(hn,Et-Cn)}return He.slice(hn)}for(;(lt=Ut())!==Mt;){for(var Bt=[];lt!==xt&&lt!==Mt;)Bt.push(lt),lt=Ut();$e&&null==(Bt=$e(Bt,Gt++))||Tt.push(Bt)}return Tt},ce.format=function(He){if(Array.isArray(He[0]))return ce.formatRows(He);var $e=new j,lt=[];return He.forEach(function(ft){for(var xt in ft)$e.has(xt)||lt.push($e.add(xt))}),[lt.map(je).join(L)].concat(He.map(function(ft){return lt.map(function(xt){return je(ft[xt])}).join(L)})).join("\n")},ce.formatRows=function(He){return He.map(Pe).join("\n")},ce},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var or,$n,qn,cr,Nt=this[Y(this,"requestAnimationFrame")]||function(L){setTimeout(L,17)};function Jt(L,H,K){var ne=arguments.length;ne<2&&(H=0),ne<3&&(K=Date.now());var ce={c:L,t:K+H,n:null};return $n?$n.n=ce:or=ce,$n=ce,qn||(cr=clearTimeout(cr),qn=1,Nt(un)),ce}function un(){var L=fn(),H=Mn()-L;H>24?(isFinite(H)&&(clearTimeout(cr),cr=setTimeout(un,H)),qn=0):(qn=1,Nt(un))}function fn(){for(var L=Date.now(),H=or;H;)L>=H.t&&H.c(L-H.t)&&(H.c=null),H=H.n;return L}function Mn(){for(var L,H=or,K=1/0;H;)H.c?(H.t<K&&(K=H.t),H=(L=H).n):H=L?L.n=H.n:or=H.n;return $n=L,K}function Fn(L){return L[0]}function In(L){return L[1]}function Rn(L){for(var H,K,ne,ce=L.length,me=[0,1],Le=2,Pe=2;Pe<ce;Pe++){for(;Le>1&&(H=L[me[Le-2]],K=L[me[Le-1]],ne=L[Pe],(K[0]-H[0])*(ne[1]-H[1])-(K[1]-H[1])*(ne[0]-H[0])<=0);)--Le;me[Le++]=Pe}return me.slice(0,Le)}function Jn(L,H){return L[0]-H[0]||L[1]-H[1]}a.timer=function(){Jt.apply(this,arguments)},a.timer.flush=function(){fn(),Mn()},a.round=function(L,H){return H?Math.round(L*(H=Math.pow(10,H)))/H:Math.round(L)},a.geom={},a.geom.hull=function(L){var H=Fn,K=In;if(arguments.length)return ne(L);function ne(ce){if(ce.length<3)return[];var me,Le=On(H),Pe=On(K),je=ce.length,He=[],$e=[];for(me=0;me<je;me++)He.push([+Le.call(this,ce[me],me),+Pe.call(this,ce[me],me),me]);for(He.sort(Jn),me=0;me<je;me++)$e.push([He[me][0],-He[me][1]]);var lt=Rn(He),ft=Rn($e),xt=ft[0]===lt[0],Mt=ft[ft.length-1]===lt[lt.length-1],Tt=[];for(me=lt.length-1;me>=0;--me)Tt.push(ce[He[lt[me]][2]]);for(me=+xt;me<ft.length-Mt;++me)Tt.push(ce[He[ft[me]][2]]);return Tt}return ne.x=function(ce){return arguments.length?(H=ce,ne):H},ne.y=function(ce){return arguments.length?(K=ce,ne):K},ne},a.geom.polygon=function(L){return Q(L,Yt),L};var Yt=a.geom.polygon.prototype=[];function gn(L,H,K){return(K[0]-H[0])*(L[1]-H[1])<(K[1]-H[1])*(L[0]-H[0])}function Ct(L,H,K,ne){var ce=L[0],me=K[0],Le=H[0]-ce,Pe=ne[0]-me,je=L[1],He=K[1],$e=H[1]-je,lt=ne[1]-He,ft=(Pe*(je-He)-lt*(ce-me))/(lt*Le-Pe*$e);return[ce+ft*Le,je+ft*$e]}function Zt(L){var H=L[0],K=L[L.length-1];return!(H[0]-K[0]||H[1]-K[1])}Yt.area=function(){for(var L,H=-1,K=this.length,ne=this[K-1],ce=0;++H<K;)L=ne,ne=this[H],ce+=L[1]*ne[0]-L[0]*ne[1];return.5*ce},Yt.centroid=function(L){var H,K,ne=-1,ce=this.length,me=0,Le=0,Pe=this[ce-1];for(arguments.length||(L=-1/(6*this.area()));++ne<ce;)H=Pe,Pe=this[ne],K=H[0]*Pe[1]-Pe[0]*H[1],me+=(H[0]+Pe[0])*K,Le+=(H[1]+Pe[1])*K;return[me*L,Le*L]},Yt.clip=function(L){for(var H,K,ne,ce,me,Le,Pe=Zt(L),je=-1,He=this.length-Zt(this),$e=this[He-1];++je<He;){for(H=L.slice(),L.length=0,ce=this[je],me=H[(ne=H.length-Pe)-1],K=-1;++K<ne;)gn(Le=H[K],$e,ce)?(gn(me,$e,ce)||L.push(Ct(me,Le,$e,ce)),L.push(Le)):gn(me,$e,ce)&&L.push(Ct(me,Le,$e,ce)),me=Le;Pe&&L.push(L[0]),$e=ce}return L};var $t,dn,yn,Sn,ln,Wt=[],Xt=[];function sn(){ii(this),this.edge=this.site=this.circle=null}function cn(L){var H=Wt.pop()||new sn;return H.site=L,H}function Ln(L){hr(L),yn.remove(L),Wt.push(L),ii(L)}function Pn(L){var H=L.circle,K=H.x,ne=H.cy,ce={x:K,y:ne},me=L.P,Le=L.N,Pe=[L];Ln(L);for(var je=me;je.circle&&m(K-je.circle.x)<nt&&m(ne-je.circle.cy)<nt;)me=je.P,Pe.unshift(je),Ln(je),je=me;Pe.unshift(je),hr(je);for(var He=Le;He.circle&&m(K-He.circle.x)<nt&&m(ne-He.circle.cy)<nt;)Le=He.N,Pe.push(He),Ln(He),He=Le;Pe.push(He),hr(He);var $e,lt=Pe.length;for($e=1;$e<lt;++$e)He=Pe[$e],je=Pe[$e-1],vr(He.edge,je.site,He.site,ce);je=Pe[0],(He=Pe[lt-1]).edge=tr(je.site,He.site,null,ce),ir(je),ir(He)}function Vn(L){for(var H,K,ne,ce,me=L.x,Le=L.y,Pe=yn._;Pe;)if((ne=Un(Pe,Le)-me)>nt)Pe=Pe.L;else{if(!((ce=me-Xn(Pe,Le))>nt)){ne>-nt?(H=Pe.P,K=Pe):ce>-nt?(H=Pe,K=Pe.N):H=K=Pe;break}if(!Pe.R){H=Pe;break}Pe=Pe.R}var je=cn(L);if(yn.insert(H,je),H||K){if(H===K)return hr(H),K=cn(H.site),yn.insert(je,K),je.edge=K.edge=tr(H.site,je.site),ir(H),void ir(K);if(K){hr(H),hr(K);var He=H.site,$e=He.x,lt=He.y,ft=L.x-$e,xt=L.y-lt,Mt=K.site,Tt=Mt.x-$e,Dt=Mt.y-lt,Et=2*(ft*Dt-xt*Tt),Gt=ft*ft+xt*xt,Ut=Tt*Tt+Dt*Dt,Bt={x:(Dt*Gt-xt*Ut)/Et+$e,y:(ft*Ut-Tt*Gt)/Et+lt};vr(K.edge,He,Mt,Bt),je.edge=tr(He,L,null,Bt),K.edge=tr(L,Mt,null,Bt),ir(H),ir(K)}else je.edge=tr(H.site,je.site)}}function Un(L,H){var K=L.site,ne=K.x,ce=K.y,me=ce-H;if(!me)return ne;var Le=L.P;if(!Le)return-1/0;var Pe=(K=Le.site).x,je=K.y,He=je-H;if(!He)return Pe;var $e=Pe-ne,lt=1/me-1/He,ft=$e/He;return lt?(-ft+Math.sqrt(ft*ft-2*lt*($e*$e/(-2*He)-je+He/2+ce-me/2)))/lt+ne:(ne+Pe)/2}function Xn(L,H){var K=L.N;if(K)return Un(K,H);var ne=L.site;return ne.y===H?ne.x:1/0}function Zn(L){this.site=L,this.edges=[]}function Qn(L,H){return H.angle-L.angle}function ar(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function ir(L){var H=L.P,K=L.N;if(H&&K){var ne=H.site,ce=L.site,me=K.site;if(ne!==me){var Le=ce.x,Pe=ce.y,je=ne.x-Le,He=ne.y-Pe,$e=me.x-Le,lt=2*(je*(Dt=me.y-Pe)-He*$e);if(!(lt>=-wt)){var ft=je*je+He*He,xt=$e*$e+Dt*Dt,Mt=(Dt*ft-He*xt)/lt,Tt=(je*xt-$e*ft)/lt,Dt=Tt+Pe,Et=Xt.pop()||new ar;Et.arc=L,Et.site=ce,Et.x=Mt+Le,Et.y=Dt+Math.sqrt(Mt*Mt+Tt*Tt),Et.cy=Dt,L.circle=Et;for(var Gt=null,Ut=ln._;Ut;)if(Et.y<Ut.y||Et.y===Ut.y&&Et.x<=Ut.x){if(!Ut.L){Gt=Ut.P;break}Ut=Ut.L}else{if(!Ut.R){Gt=Ut;break}Ut=Ut.R}ln.insert(Gt,Et),Gt||(Sn=Et)}}}}function hr(L){var H=L.circle;H&&(H.P||(Sn=H.N),ln.remove(H),Xt.push(H),ii(H),L.circle=null)}function fr(L,H){var K=L.b;if(K)return!0;var ne,ce,me=L.a,Le=H[0][0],Pe=H[1][0],je=H[0][1],He=H[1][1],$e=L.l,lt=L.r,ft=$e.x,xt=$e.y,Mt=lt.x,Tt=lt.y,Dt=(ft+Mt)/2,Et=(xt+Tt)/2;if(Tt===xt){if(Dt<Le||Dt>=Pe)return;if(ft>Mt){if(me){if(me.y>=He)return}else me={x:Dt,y:je};K={x:Dt,y:He}}else{if(me){if(me.y<je)return}else me={x:Dt,y:He};K={x:Dt,y:je}}}else if(ce=Et-(ne=(ft-Mt)/(Tt-xt))*Dt,ne<-1||ne>1)if(ft>Mt){if(me){if(me.y>=He)return}else me={x:(je-ce)/ne,y:je};K={x:(He-ce)/ne,y:He}}else{if(me){if(me.y<je)return}else me={x:(He-ce)/ne,y:He};K={x:(je-ce)/ne,y:je}}else if(xt<Tt){if(me){if(me.x>=Pe)return}else me={x:Le,y:ne*Le+ce};K={x:Pe,y:ne*Pe+ce}}else{if(me){if(me.x<Le)return}else me={x:Pe,y:ne*Pe+ce};K={x:Le,y:ne*Le+ce}}return L.a=me,L.b=K,!0}function wr(L,H){this.l=L,this.r=H,this.a=this.b=null}function tr(L,H,K,ne){var ce=new wr(L,H);return $t.push(ce),K&&vr(ce,L,H,K),ne&&vr(ce,H,L,ne),dn[L.i].edges.push(new Mr(ce,L,H)),dn[H.i].edges.push(new Mr(ce,H,L)),ce}function vr(L,H,K,ne){L.a||L.b?L.l===K?L.b=ne:L.a=ne:(L.a=ne,L.l=H,L.r=K)}function Mr(L,H,K){var ne=L.a,ce=L.b;this.edge=L,this.site=H,this.angle=K?Math.atan2(K.y-H.y,K.x-H.x):L.l===H?Math.atan2(ce.x-ne.x,ne.y-ce.y):Math.atan2(ne.x-ce.x,ce.y-ne.y)}function Ir(){this._=null}function ii(L){L.U=L.C=L.L=L.R=L.P=L.N=null}function oi(L,H){var K=H,ne=H.R,ce=K.U;ce?ce.L===K?ce.L=ne:ce.R=ne:L._=ne,ne.U=ce,K.U=ne,K.R=ne.L,K.R&&(K.R.U=K),ne.L=K}function Oi(L,H){var K=H,ne=H.L,ce=K.U;ce?ce.L===K?ce.L=ne:ce.R=ne:L._=ne,ne.U=ce,K.U=ne,K.L=ne.R,K.L&&(K.L.U=K),ne.R=K}function ti(L){for(;L.L;)L=L.L;return L}function Ti(L,H){var K,ne,ce,me=L.sort(ra).pop();for($t=[],dn=new Array(L.length),yn=new Ir,ln=new Ir;;)if(ce=Sn,me&&(!ce||me.y<ce.y||me.y===ce.y&&me.x<ce.x))me.x===K&&me.y===ne||(dn[me.i]=new Zn(me),Vn(me),K=me.x,ne=me.y),me=L.pop();else{if(!ce)break;Pn(ce.arc)}H&&(function(Pe){for(var je,He,$e,lt,ft,xt=$t,Mt=(He=Pe[0][0],$e=Pe[0][1],lt=Pe[1][0],ft=Pe[1][1],function(Dt){var Et,Gt=Dt.a,Ut=Dt.b,Bt=Gt.x,hn=Gt.y,pn=0,En=1,Cn=Ut.x-Bt,Nn=Ut.y-hn;if(Et=He-Bt,Cn||!(Et>0)){if(Et/=Cn,Cn<0){if(Et<pn)return;Et<En&&(En=Et)}else if(Cn>0){if(Et>En)return;Et>pn&&(pn=Et)}if(Et=lt-Bt,Cn||!(Et<0)){if(Et/=Cn,Cn<0){if(Et>En)return;Et>pn&&(pn=Et)}else if(Cn>0){if(Et<pn)return;Et<En&&(En=Et)}if(Et=$e-hn,Nn||!(Et>0)){if(Et/=Nn,Nn<0){if(Et<pn)return;Et<En&&(En=Et)}else if(Nn>0){if(Et>En)return;Et>pn&&(pn=Et)}if(Et=ft-hn,Nn||!(Et<0)){if(Et/=Nn,Nn<0){if(Et>En)return;Et>pn&&(pn=Et)}else if(Nn>0){if(Et<pn)return;Et<En&&(En=Et)}return pn>0&&(Dt.a={x:Bt+pn*Cn,y:hn+pn*Nn}),En<1&&(Dt.b={x:Bt+En*Cn,y:hn+En*Nn}),Dt}}}}}),Tt=xt.length;Tt--;)(!fr(je=xt[Tt],Pe)||!Mt(je)||m(je.a.x-je.b.x)<nt&&m(je.a.y-je.b.y)<nt)&&(je.a=je.b=null,xt.splice(Tt,1))}(H),function(Pe){for(var je,He,$e,lt,ft,xt,Mt,Tt,Dt,Et,Gt=Pe[0][0],Ut=Pe[1][0],Bt=Pe[0][1],hn=Pe[1][1],pn=dn,En=pn.length;En--;)if((ft=pn[En])&&ft.prepare())for(Tt=(Mt=ft.edges).length,xt=0;xt<Tt;)$e=(Et=Mt[xt].end()).x,lt=Et.y,je=(Dt=Mt[++xt%Tt].start()).x,He=Dt.y,(m($e-je)>nt||m(lt-He)>nt)&&(Mt.splice(xt,0,new Mr((Cn=ft.site,Nn=Et,Wn=m($e-Gt)<nt&&hn-lt>nt?{x:Gt,y:m(je-Gt)<nt?He:hn}:m(lt-hn)<nt&&Ut-$e>nt?{x:m(He-hn)<nt?je:Ut,y:hn}:m($e-Ut)<nt&&lt-Bt>nt?{x:Ut,y:m(je-Ut)<nt?He:Bt}:m(lt-Bt)<nt&&$e-Gt>nt?{x:m(He-Bt)<nt?je:Gt,y:Bt}:null,sr=void 0,(sr=new wr(Cn,null)).a=Nn,sr.b=Wn,$t.push(sr),sr),ft.site,null)),++Tt);var Cn,Nn,Wn,sr}(H));var Le={cells:dn,edges:$t};return yn=ln=$t=dn=null,Le}function ra(L,H){return H.y-L.y||H.x-L.x}Zn.prototype.prepare=function(){for(var L,H=this.edges,K=H.length;K--;)(L=H[K].edge).b&&L.a||H.splice(K,1);return H.sort(Qn),H.length},Mr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ir.prototype={insert:function(L,H){var K,ne,ce;if(L){if(H.P=L,H.N=L.N,L.N&&(L.N.P=H),L.N=H,L.R){for(L=L.R;L.L;)L=L.L;L.L=H}else L.R=H;K=L}else this._?(L=ti(this._),H.P=null,H.N=L,L.P=L.L=H,K=L):(H.P=H.N=null,this._=H,K=null);for(H.L=H.R=null,H.U=K,H.C=!0,L=H;K&&K.C;)K===(ne=K.U).L?(ce=ne.R)&&ce.C?(K.C=ce.C=!1,ne.C=!0,L=ne):(L===K.R&&(oi(this,K),K=(L=K).U),K.C=!1,ne.C=!0,Oi(this,ne)):(ce=ne.L)&&ce.C?(K.C=ce.C=!1,ne.C=!0,L=ne):(L===K.L&&(Oi(this,K),K=(L=K).U),K.C=!1,ne.C=!0,oi(this,ne)),K=L.U;this._.C=!1},remove:function(L){L.N&&(L.N.P=L.P),L.P&&(L.P.N=L.N),L.N=L.P=null;var H,K,ne,ce=L.U,me=L.L,Le=L.R;if(K=me?Le?ti(Le):me:Le,ce?ce.L===L?ce.L=K:ce.R=K:this._=K,me&&Le?(ne=K.C,K.C=L.C,K.L=me,me.U=K,K!==Le?(ce=K.U,K.U=L.U,L=K.R,ce.L=L,K.R=Le,Le.U=K):(K.U=ce,ce=K,L=K.R)):(ne=L.C,L=K),L&&(L.U=ce),!ne)if(L&&L.C)L.C=!1;else{do{if(L===this._)break;if(L===ce.L){if((H=ce.R).C&&(H.C=!1,ce.C=!0,oi(this,ce),H=ce.R),H.L&&H.L.C||H.R&&H.R.C){H.R&&H.R.C||(H.L.C=!1,H.C=!0,Oi(this,H),H=ce.R),H.C=ce.C,ce.C=H.R.C=!1,oi(this,ce),L=this._;break}}else if((H=ce.L).C&&(H.C=!1,ce.C=!0,Oi(this,ce),H=ce.L),H.L&&H.L.C||H.R&&H.R.C){H.L&&H.L.C||(H.R.C=!1,H.C=!0,oi(this,H),H=ce.L),H.C=ce.C,ce.C=H.L.C=!1,Oi(this,ce),L=this._;break}H.C=!0,L=ce,ce=ce.U}while(!L.C);L&&(L.C=!1)}}},a.geom.voronoi=function(L){var H=Fn,K=In,ne=H,ce=K,me=ia;if(L)return Le(L);function Le(je){var He=new Array(je.length),$e=me[0][0],lt=me[0][1],ft=me[1][0],xt=me[1][1];return Ti(Pe(je),me).cells.forEach(function(Mt,Tt){var Dt=Mt.edges,Et=Mt.site;(He[Tt]=Dt.length?Dt.map(function(Gt){var Ut=Gt.start();return[Ut.x,Ut.y]}):Et.x>=$e&&Et.x<=ft&&Et.y>=lt&&Et.y<=xt?[[$e,xt],[ft,xt],[ft,lt],[$e,lt]]:[]).point=je[Tt]}),He}function Pe(je){return je.map(function(He,$e){return{x:Math.round(ne(He,$e)/nt)*nt,y:Math.round(ce(He,$e)/nt)*nt,i:$e}})}return Le.links=function(je){return Ti(Pe(je)).edges.filter(function(He){return He.l&&He.r}).map(function(He){return{source:je[He.l.i],target:je[He.r.i]}})},Le.triangles=function(je){var He=[];return Ti(Pe(je)).cells.forEach(function($e,lt){for(var ft,xt,Mt,Tt,Dt=$e.site,Et=$e.edges.sort(Qn),Gt=-1,Ut=Et.length,Bt=Et[Ut-1].edge,hn=Bt.l===Dt?Bt.r:Bt.l;++Gt<Ut;)ft=hn,hn=(Bt=Et[Gt].edge).l===Dt?Bt.r:Bt.l,lt<ft.i&&lt<hn.i&&(Mt=ft,Tt=hn,((xt=Dt).x-Tt.x)*(Mt.y-xt.y)-(xt.x-Mt.x)*(Tt.y-xt.y)<0)&&He.push([je[lt],je[ft.i],je[hn.i]])}),He},Le.x=function(je){return arguments.length?(ne=On(H=je),Le):H},Le.y=function(je){return arguments.length?(ce=On(K=je),Le):K},Le.clipExtent=function(je){return arguments.length?(me=je??ia,Le):me===ia?null:me},Le.size=function(je){return arguments.length?Le.clipExtent(je&&[[0,0],je]):me===ia?null:me&&me[1]},Le};var ia=[[-1e6,-1e6],[1e6,1e6]];function Ro(L){return L.x}function xl(L){return L.y}function ds(L,H,K,ne,ce,me){if(!L(H,K,ne,ce,me)){var Le=.5*(K+ce),Pe=.5*(ne+me),je=H.nodes;je[0]&&ds(L,je[0],K,ne,Le,Pe),je[1]&&ds(L,je[1],Le,ne,ce,Pe),je[2]&&ds(L,je[2],K,Pe,Le,me),je[3]&&ds(L,je[3],Le,Pe,ce,me)}}function gs(L,H){L=a.rgb(L),H=a.rgb(H);var K=L.r,ne=L.g,ce=L.b,me=H.r-K,Le=H.g-ne,Pe=H.b-ce;return function(je){return"#"+Kt(Math.round(K+me*je))+Kt(Math.round(ne+Le*je))+Kt(Math.round(ce+Pe*je))}}function Is(L,H){var K,ne={},ce={};for(K in L)K in H?ne[K]=no(L[K],H[K]):ce[K]=L[K];for(K in H)K in L||(ce[K]=H[K]);return function(me){for(K in ne)ce[K]=ne[K](me);return ce}}function Pa(L,H){return L=+L,H=+H,function(K){return L*(1-K)+H*K}}function zs(L,H){var K,ne,ce,me=Ds.lastIndex=Rs.lastIndex=0,Le=-1,Pe=[],je=[];for(L+="",H+="";(K=Ds.exec(L))&&(ne=Rs.exec(H));)(ce=ne.index)>me&&(ce=H.slice(me,ce),Pe[Le]?Pe[Le]+=ce:Pe[++Le]=ce),(K=K[0])===(ne=ne[0])?Pe[Le]?Pe[Le]+=ne:Pe[++Le]=ne:(Pe[++Le]=null,je.push({i:Le,x:Pa(K,ne)})),me=Rs.lastIndex;return me<H.length&&(ce=H.slice(me),Pe[Le]?Pe[Le]+=ce:Pe[++Le]=ce),Pe.length<2?je[0]?(H=je[0].x,function(He){return H(He)+""}):function(){return H}:(H=je.length,function(He){for(var $e,lt=0;lt<H;++lt)Pe[($e=je[lt]).i]=$e.x(He);return Pe.join("")})}a.geom.delaunay=function(L){return a.geom.voronoi().triangles(L)},a.geom.quadtree=function(L,H,K,ne,ce){var me,Le=Fn,Pe=In;if(me=arguments.length)return Le=Ro,Pe=xl,3===me&&(ce=K,ne=H,K=H=0),je(L);function je(He){var $e,lt,ft,xt,Mt,Tt,Dt,Et,Gt,Ut=On(Le),Bt=On(Pe);if(null!=H)Tt=H,Dt=K,Et=ne,Gt=ce;else if(Et=Gt=-(Tt=Dt=1/0),lt=[],ft=[],Mt=He.length,me)for(xt=0;xt<Mt;++xt)($e=He[xt]).x<Tt&&(Tt=$e.x),$e.y<Dt&&(Dt=$e.y),$e.x>Et&&(Et=$e.x),$e.y>Gt&&(Gt=$e.y),lt.push($e.x),ft.push($e.y);else for(xt=0;xt<Mt;++xt){var hn=+Ut($e=He[xt],xt),pn=+Bt($e,xt);hn<Tt&&(Tt=hn),pn<Dt&&(Dt=pn),hn>Et&&(Et=hn),pn>Gt&&(Gt=pn),lt.push(hn),ft.push(pn)}var En=Et-Tt,Cn=Gt-Dt;function Nn(Hn,rr,gr,kr,Yn,nr,yr,lr){if(!isNaN(gr)&&!isNaN(kr))if(Hn.leaf){var _r=Hn.x,Er=Hn.y;if(null!=_r)if(m(_r-gr)+m(Er-kr)<.01)Wn(Hn,rr,gr,kr,Yn,nr,yr,lr);else{var Dr=Hn.point;Hn.x=Hn.y=Hn.point=null,Wn(Hn,Dr,_r,Er,Yn,nr,yr,lr),Wn(Hn,rr,gr,kr,Yn,nr,yr,lr)}else Hn.x=gr,Hn.y=kr,Hn.point=rr}else Wn(Hn,rr,gr,kr,Yn,nr,yr,lr)}function Wn(Hn,rr,gr,kr,Yn,nr,yr,lr){var _r=.5*(Yn+yr),Er=.5*(nr+lr),Dr=gr>=_r,Rr=kr>=Er,Nr=Rr<<1|Dr;Hn.leaf=!1,Dr?Yn=_r:yr=_r,Rr?nr=Er:lr=Er,Nn(Hn=Hn.nodes[Nr]||(Hn.nodes[Nr]={leaf:!0,nodes:[],point:null,x:null,y:null}),rr,gr,kr,Yn,nr,yr,lr)}En>Cn?Gt=Dt+En:Et=Tt+Cn;var sr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Hn){Nn(sr,Hn,+Ut(Hn,++xt),+Bt(Hn,xt),Tt,Dt,Et,Gt)},visit:function(Hn){ds(Hn,sr,Tt,Dt,Et,Gt)},find:function(Hn){return rr=sr,gr=Hn[0],kr=Hn[1],Er=1/0,function Dr(Rr,Nr,Vr,ui,ki){if(!(Nr>yr||Vr>lr||ui<Yn||ki<nr)){if(ea=Rr.point){var ea,Bi=gr-Rr.x,Yi=kr-Rr.y,di=Bi*Bi+Yi*Yi;if(di<Er){var qr=Math.sqrt(Er=di);Yn=gr-qr,nr=kr-qr,yr=gr+qr,lr=kr+qr,_r=ea}}for(var yi=Rr.nodes,ri=.5*(Nr+ui),Wr=.5*(Vr+ki),xi=(kr>=Wr)<<1|gr>=ri,Ai=xi+4;xi<Ai;++xi)if(Rr=yi[3&xi])switch(3&xi){case 0:Dr(Rr,Nr,Vr,ri,Wr);break;case 1:Dr(Rr,ri,Vr,ui,Wr);break;case 2:Dr(Rr,Nr,Wr,ri,ki);break;case 3:Dr(Rr,ri,Wr,ui,ki)}}}(rr,Yn=Tt,nr=Dt,yr=Et,lr=Gt),_r;var rr,gr,kr,Yn,nr,yr,lr,_r,Er}};if(xt=-1,null==H){for(;++xt<Mt;)Nn(sr,He[xt],lt[xt],ft[xt],Tt,Dt,Et,Gt);--xt}else He.forEach(sr.add);return lt=ft=He=$e=null,sr}return je.x=function(He){return arguments.length?(Le=He,je):Le},je.y=function(He){return arguments.length?(Pe=He,je):Pe},je.extent=function(He){return arguments.length?(null==He?H=K=ne=ce=null:(H=+He[0][0],K=+He[0][1],ne=+He[1][0],ce=+He[1][1]),je):null==H?null:[[H,K],[ne,ce]]},je.size=function(He){return arguments.length?(null==He?H=K=ne=ce=null:(H=K=0,ne=+He[0],ce=+He[1]),je):null==H?null:[ne-H,ce-K]},je},a.interpolateRgb=gs,a.interpolateObject=Is,a.interpolateNumber=Pa,a.interpolateString=zs;var Ds=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rs=new RegExp(Ds.source,"g");function no(L,H){for(var K,ne=a.interpolators.length;--ne>=0&&!(K=a.interpolators[ne](L,H)););return K}function mo(L,H){var K,ne=[],ce=[],me=L.length,Le=H.length,Pe=Math.min(L.length,H.length);for(K=0;K<Pe;++K)ne.push(no(L[K],H[K]));for(;K<me;++K)ce[K]=L[K];for(;K<Le;++K)ce[K]=H[K];return function(je){for(K=0;K<Pe;++K)ce[K]=ne[K](je);return ce}}a.interpolate=no,a.interpolators=[function(L,H){var K=typeof H;return("string"===K?vn.has(H.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(H)?gs:zs:H instanceof We?gs:Array.isArray(H)?mo:"object"===K&&isNaN(H)?Is:Pa)(L,H)}],a.interpolateArray=mo;var Fo=function(){return z},hi=a.map({linear:Fo,poly:function(L){return function(H){return Math.pow(H,L)}},quad:function(){return Ia},cubic:function(){return yo},sin:function(){return xo},exp:function(){return io},circle:function(){return bo},elastic:function(L,H){var K;return arguments.length<2&&(H=.45),arguments.length?K=H/Pt*Math.asin(1/L):(L=1,K=H/4),function(ne){return 1+L*Math.pow(2,-10*ne)*Math.sin((ne-K)*Pt/H)}},back:function(L){return L||(L=1.70158),function(H){return H*H*((L+1)*H-L)}},bounce:function(){return Ya}}),Di=a.map({in:z,out:ro,"in-out":Ga,"out-in":function(L){return Ga(ro(L))}});function ro(L){return function(H){return 1-L(1-H)}}function Ga(L){return function(H){return.5*(H<.5?L(2*H):2-L(2-2*H))}}function Ia(L){return L*L}function yo(L){return L*L*L}function Za(L){if(L<=0)return 0;if(L>=1)return 1;var H=L*L,K=H*L;return 4*(L<.5?K:3*(L-H)+K-.75)}function xo(L){return 1-Math.cos(L*qe)}function io(L){return Math.pow(2,10*(L-1))}function bo(L){return 1-Math.sqrt(1-L*L)}function Ya(L){return L<.36363636363636365?7.5625*L*L:L<.7272727272727273?7.5625*(L-=.5454545454545454)*L+.75:L<.9090909090909091?7.5625*(L-=.8181818181818182)*L+.9375:7.5625*(L-=.9545454545454546)*L+.984375}function Js(L,H){return H-=L,function(K){return Math.round(L+H*K)}}function Fs(L){var H,K,ne,ce=[L.a,L.b],me=[L.c,L.d],Le=al(ce),Pe=Bo(ce,me),je=al(((H=me)[0]+=(ne=-Pe)*(K=ce)[0],H[1]+=ne*K[1],H))||0;ce[0]*me[1]<me[0]*ce[1]&&(ce[0]*=-1,ce[1]*=-1,Le*=-1,Pe*=-1),this.rotate=(Le?Math.atan2(ce[1],ce[0]):Math.atan2(-me[0],me[1]))*Ne,this.translate=[L.e,L.f],this.scale=[Le,je],this.skew=je?Math.atan2(Pe,je)*Ne:0}function Bo(L,H){return L[0]*H[0]+L[1]*H[1]}function al(L){var H=Math.sqrt(Bo(L,L));return H&&(L[0]/=H,L[1]/=H),H}a.ease=function(L){var H,K=L.indexOf("-"),ne=K>=0?L.slice(0,K):L,ce=K>=0?L.slice(K+1):"in";return ne=hi.get(ne)||Fo,ce=Di.get(ce)||z,H=ce(ne.apply(null,T.call(arguments,1))),function(me){return me<=0?0:me>=1?1:H(me)}},a.interpolateHcl=function(L,H){L=a.hcl(L),H=a.hcl(H);var K=L.h,ne=L.c,ce=L.l,me=H.h-K,Le=H.c-ne,Pe=H.l-ce;return isNaN(Le)&&(Le=0,ne=isNaN(ne)?H.c:ne),isNaN(me)?(me=0,K=isNaN(K)?H.h:K):me>180?me-=360:me<-180&&(me+=360),function(je){return yt(K+me*je,ne+Le*je,ce+Pe*je)+""}},a.interpolateHsl=function(L,H){L=a.hsl(L),H=a.hsl(H);var K=L.h,ne=L.s,ce=L.l,me=H.h-K,Le=H.s-ne,Pe=H.l-ce;return isNaN(Le)&&(Le=0,ne=isNaN(ne)?H.s:ne),isNaN(me)?(me=0,K=isNaN(K)?H.h:K):me>180?me-=360:me<-180&&(me+=360),function(je){return dt(K+me*je,ne+Le*je,ce+Pe*je)+""}},a.interpolateLab=function(L,H){L=a.lab(L),H=a.lab(H);var K=L.l,ne=L.a,ce=L.b,me=H.l-K,Le=H.a-ne,Pe=H.b-ce;return function(je){return Vt(K+me*je,ne+Le*je,ce+Pe*je)+""}},a.interpolateRound=Js,a.transform=function(L){var H=p.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(K){if(null!=K){H.setAttribute("transform",K);var ne=H.transform.baseVal.consolidate()}return new Fs(ne?ne.matrix:ol)})(L)},Fs.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ol={a:1,b:0,c:0,d:1,e:0,f:0};function No(L){return L.length?L.pop()+",":""}function sl(L,H){var ce,me,Le,Pe,K=[],ne=[];return L=a.transform(L),H=a.transform(H),function(ce,me,Le,Pe){if(ce[0]!==me[0]||ce[1]!==me[1]){var je=Le.push("translate(",null,",",null,")");Pe.push({i:je-4,x:Pa(ce[0],me[0])},{i:je-2,x:Pa(ce[1],me[1])})}else(me[0]||me[1])&&Le.push("translate("+me+")")}(L.translate,H.translate,K,ne),ce=L.rotate,me=H.rotate,Le=K,Pe=ne,ce!==me?(ce-me>180?me+=360:me-ce>180&&(ce+=360),Pe.push({i:Le.push(No(Le)+"rotate(",null,")")-2,x:Pa(ce,me)})):me&&Le.push(No(Le)+"rotate("+me+")"),function(ce,me,Le,Pe){ce!==me?Pe.push({i:Le.push(No(Le)+"skewX(",null,")")-2,x:Pa(ce,me)}):me&&Le.push(No(Le)+"skewX("+me+")")}(L.skew,H.skew,K,ne),function(ce,me,Le,Pe){if(ce[0]!==me[0]||ce[1]!==me[1]){var je=Le.push(No(Le)+"scale(",null,",",null,")");Pe.push({i:je-4,x:Pa(ce[0],me[0])},{i:je-2,x:Pa(ce[1],me[1])})}else 1===me[0]&&1===me[1]||Le.push(No(Le)+"scale("+me+")")}(L.scale,H.scale,K,ne),L=H=null,function(ce){for(var me,Le=-1,Pe=ne.length;++Le<Pe;)K[(me=ne[Le]).i]=me.x(ce);return K.join("")}}function bl(L,H){return H=(H-=L=+L)||1/H,function(K){return(K-L)/H}}function _l(L,H){return H=(H-=L=+L)||1/H,function(K){return Math.max(0,Math.min(1,(K-L)/H))}}function jo(L){for(var H=L.source,K=L.target,ne=function(Le,Pe){if(Le===Pe)return Le;for(var je=Wa(Le),He=Wa(Pe),$e=je.pop(),lt=He.pop(),ft=null;$e===lt;)ft=$e,$e=je.pop(),lt=He.pop();return ft}(H,K),ce=[H];H!==ne;)H=H.parent,ce.push(H);for(var me=ce.length;K!==ne;)ce.splice(me,0,K),K=K.parent;return ce}function Wa(L){for(var H=[],K=L.parent;null!=K;)H.push(L),L=K,K=K.parent;return H.push(L),H}function $o(L){L.fixed|=2}function Uo(L){L.fixed&=-7}function vs(L){L.fixed|=4,L.px=L.x,L.py=L.y}function Vo(L){L.fixed&=-5}function za(L,H,K){var ne=0,ce=0;if(L.charge=0,!L.leaf)for(var me,Le=L.nodes,Pe=Le.length,je=-1;++je<Pe;)null!=(me=Le[je])&&(za(me,H,K),L.charge+=me.charge,ne+=me.charge*me.cx,ce+=me.charge*me.cy);if(L.point){L.leaf||(L.point.x+=Math.random()-.5,L.point.y+=Math.random()-.5);var He=H*K[L.point.index];L.charge+=L.pointCharge=He,ne+=He*L.point.x,ce+=He*L.point.y}L.cx=ne/L.charge,L.cy=ce/L.charge}a.interpolateTransform=sl,a.layout={},a.layout.bundle=function(){return function(L){for(var H=[],K=-1,ne=L.length;++K<ne;)H.push(jo(L[K]));return H}},a.layout.chord=function(){var L,H,K,ne,ce,me,Le,Pe={},je=0;function He(){var lt,ft,xt,Mt,Tt,Dt={},Et=[],Gt=a.range(ne),Ut=[];for(L=[],H=[],lt=0,Mt=-1;++Mt<ne;){for(ft=0,Tt=-1;++Tt<ne;)ft+=K[Mt][Tt];Et.push(ft),Ut.push(a.range(ne)),lt+=ft}for(ce&&Gt.sort(function(sr,Hn){return ce(Et[sr],Et[Hn])}),me&&Ut.forEach(function(sr,Hn){sr.sort(function(rr,gr){return me(K[Hn][rr],K[Hn][gr])})}),lt=(Pt-je*ne)/lt,ft=0,Mt=-1;++Mt<ne;){for(xt=ft,Tt=-1;++Tt<ne;){var Bt=Gt[Mt],hn=Ut[Bt][Tt],pn=K[Bt][hn],En=ft,Cn=ft+=pn*lt;Dt[Bt+"-"+hn]={index:Bt,subindex:hn,startAngle:En,endAngle:Cn,value:pn}}H[Bt]={index:Bt,startAngle:xt,endAngle:ft,value:Et[Bt]},ft+=je}for(Mt=-1;++Mt<ne;)for(Tt=Mt-1;++Tt<ne;){var Nn=Dt[Mt+"-"+Tt],Wn=Dt[Tt+"-"+Mt];(Nn.value||Wn.value)&&L.push(Nn.value<Wn.value?{source:Wn,target:Nn}:{source:Nn,target:Wn})}Le&&$e()}function $e(){L.sort(function(lt,ft){return Le((lt.source.value+lt.target.value)/2,(ft.source.value+ft.target.value)/2)})}return Pe.matrix=function(lt){return arguments.length?(ne=(K=lt)&&K.length,L=H=null,Pe):K},Pe.padding=function(lt){return arguments.length?(je=lt,L=H=null,Pe):je},Pe.sortGroups=function(lt){return arguments.length?(ce=lt,L=H=null,Pe):ce},Pe.sortSubgroups=function(lt){return arguments.length?(me=lt,L=null,Pe):me},Pe.sortChords=function(lt){return arguments.length?(Le=lt,L&&$e(),Pe):Le},Pe.chords=function(){return L||He(),L},Pe.groups=function(){return H||He(),H},Pe},a.layout.force=function(){var L,H,K,ne,ce,me,Le={},Pe=a.dispatch("start","tick","end"),je=[1,1],He=.9,$e=Ks,lt=_o,ft=-30,xt=ao,Mt=.1,Tt=.64,Dt=[],Et=[];function Gt(Bt){return function(hn,pn,En,Cn){if(hn.point!==Bt){var Nn=hn.cx-Bt.x,Wn=hn.cy-Bt.y,sr=Cn-pn,Hn=Nn*Nn+Wn*Wn;if(sr*sr/Tt<Hn){if(Hn<xt){var rr=hn.charge/Hn;Bt.px-=Nn*rr,Bt.py-=Wn*rr}return!0}hn.point&&Hn&&Hn<xt&&(rr=hn.pointCharge/Hn,Bt.px-=Nn*rr,Bt.py-=Wn*rr)}return!hn.charge}}function Ut(Bt){Bt.px=a.event.x,Bt.py=a.event.y,Le.resume()}return Le.tick=function(){if((K*=.99)<.005)return L=null,Pe.end({type:"end",alpha:K=0}),!0;var Bt,hn,pn,En,Cn,Nn,Wn,sr,Hn,rr=Dt.length,gr=Et.length;for(hn=0;hn<gr;++hn)En=(pn=Et[hn]).source,(Nn=(sr=(Cn=pn.target).x-En.x)*sr+(Hn=Cn.y-En.y)*Hn)&&(sr*=Nn=K*ce[hn]*((Nn=Math.sqrt(Nn))-ne[hn])/Nn,Hn*=Nn,Cn.x-=sr*(Wn=En.weight+Cn.weight?En.weight/(En.weight+Cn.weight):.5),Cn.y-=Hn*Wn,En.x+=sr*(Wn=1-Wn),En.y+=Hn*Wn);if((Wn=K*Mt)&&(sr=je[0]/2,Hn=je[1]/2,hn=-1,Wn))for(;++hn<rr;)(pn=Dt[hn]).x+=(sr-pn.x)*Wn,pn.y+=(Hn-pn.y)*Wn;if(ft)for(za(Bt=a.geom.quadtree(Dt),K,me),hn=-1;++hn<rr;)(pn=Dt[hn]).fixed||Bt.visit(Gt(pn));for(hn=-1;++hn<rr;)(pn=Dt[hn]).fixed?(pn.x=pn.px,pn.y=pn.py):(pn.x-=(pn.px-(pn.px=pn.x))*He,pn.y-=(pn.py-(pn.py=pn.y))*He);Pe.tick({type:"tick",alpha:K})},Le.nodes=function(Bt){return arguments.length?(Dt=Bt,Le):Dt},Le.links=function(Bt){return arguments.length?(Et=Bt,Le):Et},Le.size=function(Bt){return arguments.length?(je=Bt,Le):je},Le.linkDistance=function(Bt){return arguments.length?($e="function"==typeof Bt?Bt:+Bt,Le):$e},Le.distance=Le.linkDistance,Le.linkStrength=function(Bt){return arguments.length?(lt="function"==typeof Bt?Bt:+Bt,Le):lt},Le.friction=function(Bt){return arguments.length?(He=+Bt,Le):He},Le.charge=function(Bt){return arguments.length?(ft="function"==typeof Bt?Bt:+Bt,Le):ft},Le.chargeDistance=function(Bt){return arguments.length?(xt=Bt*Bt,Le):Math.sqrt(xt)},Le.gravity=function(Bt){return arguments.length?(Mt=+Bt,Le):Mt},Le.theta=function(Bt){return arguments.length?(Tt=Bt*Bt,Le):Math.sqrt(Tt)},Le.alpha=function(Bt){return arguments.length?(Bt=+Bt,K?Bt>0?K=Bt:(L.c=null,L.t=NaN,L=null,Pe.end({type:"end",alpha:K=0})):Bt>0&&(Pe.start({type:"start",alpha:K=Bt}),L=Jt(Le.tick)),Le):K},Le.start=function(){var Bt,hn,pn,En=Dt.length,Cn=Et.length,Nn=je[0],Wn=je[1];for(Bt=0;Bt<En;++Bt)(pn=Dt[Bt]).index=Bt,pn.weight=0;for(Bt=0;Bt<Cn;++Bt)"number"==typeof(pn=Et[Bt]).source&&(pn.source=Dt[pn.source]),"number"==typeof pn.target&&(pn.target=Dt[pn.target]),++pn.source.weight,++pn.target.weight;for(Bt=0;Bt<En;++Bt)pn=Dt[Bt],isNaN(pn.x)&&(pn.x=sr("x",Nn)),isNaN(pn.y)&&(pn.y=sr("y",Wn)),isNaN(pn.px)&&(pn.px=pn.x),isNaN(pn.py)&&(pn.py=pn.y);if(ne=[],"function"==typeof $e)for(Bt=0;Bt<Cn;++Bt)ne[Bt]=+$e.call(this,Et[Bt],Bt);else for(Bt=0;Bt<Cn;++Bt)ne[Bt]=$e;if(ce=[],"function"==typeof lt)for(Bt=0;Bt<Cn;++Bt)ce[Bt]=+lt.call(this,Et[Bt],Bt);else for(Bt=0;Bt<Cn;++Bt)ce[Bt]=lt;if(me=[],"function"==typeof ft)for(Bt=0;Bt<En;++Bt)me[Bt]=+ft.call(this,Dt[Bt],Bt);else for(Bt=0;Bt<En;++Bt)me[Bt]=ft;function sr(Hn,rr){if(!hn){for(hn=new Array(En),nr=0;nr<En;++nr)hn[nr]=[];for(nr=0;nr<Cn;++nr){var gr=Et[nr];hn[gr.source.index].push(gr.target),hn[gr.target.index].push(gr.source)}}for(var kr,Yn=hn[Bt],nr=-1,yr=Yn.length;++nr<yr;)if(!isNaN(kr=Yn[nr][Hn]))return kr;return Math.random()*rr}return Le.resume()},Le.resume=function(){return Le.alpha(.1)},Le.stop=function(){return Le.alpha(0)},Le.drag=function(){if(H||(H=a.behavior.drag().origin(z).on("dragstart.force",$o).on("drag.force",Ut).on("dragend.force",Uo)),!arguments.length)return H;this.on("mouseover.force",vs).on("mouseout.force",Vo).call(H)},a.rebind(Le,Pe,"on")};var Ks=20,_o=1,ao=1/0;function oo(L,H){return a.rebind(L,H,"sort","children","value"),L.nodes=L,L.links=es,L}function wo(L,H){for(var K=[L];null!=(L=K.pop());)if(H(L),(ce=L.children)&&(ne=ce.length))for(var ne,ce;--ne>=0;)K.push(ce[ne])}function jr(L,H){for(var K=[L],ne=[];null!=(L=K.pop());)if(ne.push(L),(me=L.children)&&(ce=me.length))for(var ce,me,Le=-1;++Le<ce;)K.push(me[Le]);for(;null!=(L=ne.pop());)H(L)}function Qo(L){return L.children}function wl(L){return L.value}function Bs(L,H){return H.value-L.value}function es(L){return a.merge(L.map(function(H){return(H.children||[]).map(function(K){return{source:H,target:K}})}))}a.layout.hierarchy=function(){var L=Bs,H=Qo,K=wl;function ne(ce){var me,Le=[ce],Pe=[];for(ce.depth=0;null!=(me=Le.pop());)if(Pe.push(me),(He=H.call(ne,me,me.depth))&&(je=He.length)){for(var je,He,$e;--je>=0;)Le.push($e=He[je]),$e.parent=me,$e.depth=me.depth+1;K&&(me.value=0),me.children=He}else K&&(me.value=+K.call(ne,me,me.depth)||0),delete me.children;return jr(ce,function(lt){var ft,xt;L&&(ft=lt.children)&&ft.sort(L),K&&(xt=lt.parent)&&(xt.value+=lt.value)}),Pe}return ne.sort=function(ce){return arguments.length?(L=ce,ne):L},ne.children=function(ce){return arguments.length?(H=ce,ne):H},ne.value=function(ce){return arguments.length?(K=ce,ne):K},ne.revalue=function(ce){return K&&(wo(ce,function(me){me.children&&(me.value=0)}),jr(ce,function(me){var Le;me.children||(me.value=+K.call(ne,me,me.depth)||0),(Le=me.parent)&&(Le.value+=me.value)})),ce},ne},a.layout.partition=function(){var L=a.layout.hierarchy(),H=[1,1];function K(me,Le,Pe,je){var He=me.children;if(me.x=Le,me.y=me.depth*je,me.dx=Pe,me.dy=je,He&&($e=He.length)){var $e,lt,ft,xt=-1;for(Pe=me.value?Pe/me.value:0;++xt<$e;)K(lt=He[xt],Le,ft=lt.value*Pe,je),Le+=ft}}function ne(me){var Le=me.children,Pe=0;if(Le&&(je=Le.length))for(var je,He=-1;++He<je;)Pe=Math.max(Pe,ne(Le[He]));return 1+Pe}function ce(me,Le){var Pe=L.call(this,me,Le);return K(Pe[0],0,H[0],H[1]/ne(Pe[0])),Pe}return ce.size=function(me){return arguments.length?(H=me,ce):H},oo(ce,L)},a.layout.pie=function(){var L=Number,H=ll,K=0,ne=Pt,ce=0;function me(Le){var Pe,je=Le.length,He=Le.map(function(Gt,Ut){return+L.call(me,Gt,Ut)}),$e=+("function"==typeof K?K.apply(this,arguments):K),lt=("function"==typeof ne?ne.apply(this,arguments):ne)-$e,ft=Math.min(Math.abs(lt)/je,+("function"==typeof ce?ce.apply(this,arguments):ce)),xt=ft*(lt<0?-1:1),Mt=a.sum(He),Tt=Mt?(lt-je*xt)/Mt:0,Dt=a.range(je),Et=[];return null!=H&&Dt.sort(H===ll?function(Gt,Ut){return He[Ut]-He[Gt]}:function(Gt,Ut){return H(Le[Gt],Le[Ut])}),Dt.forEach(function(Gt){Et[Gt]={data:Le[Gt],value:Pe=He[Gt],startAngle:$e,endAngle:$e+=Pe*Tt+xt,padAngle:ft}}),Et}return me.value=function(Le){return arguments.length?(L=Le,me):L},me.sort=function(Le){return arguments.length?(H=Le,me):H},me.startAngle=function(Le){return arguments.length?(K=Le,me):K},me.endAngle=function(Le){return arguments.length?(ne=Le,me):ne},me.padAngle=function(Le){return arguments.length?(ce=Le,me):ce},me};var ll={};function Tl(L){return L.x}function Ns(L){return L.y}function kl(L,H,K){L.y0=H,L.y=K}a.layout.stack=function(){var L=z,H=so,K=Da,ne=kl,ce=Tl,me=Ns;function Le(Pe,je){if(!(ft=Pe.length))return Pe;var He=Pe.map(function(Gt,Ut){return L.call(Le,Gt,Ut)}),$e=He.map(function(Gt){return Gt.map(function(Ut,Bt){return[ce.call(Le,Ut,Bt),me.call(Le,Ut,Bt)]})}),lt=H.call(Le,$e,je);He=a.permute(He,lt),$e=a.permute($e,lt);var ft,xt,Mt,Tt,Dt=K.call(Le,$e,je),Et=He[0].length;for(Mt=0;Mt<Et;++Mt)for(ne.call(Le,He[0][Mt],Tt=Dt[Mt],$e[0][Mt][1]),xt=1;xt<ft;++xt)ne.call(Le,He[xt][Mt],Tt+=$e[xt-1][Mt][1],$e[xt][Mt][1]);return Pe}return Le.values=function(Pe){return arguments.length?(L=Pe,Le):L},Le.order=function(Pe){return arguments.length?(H="function"==typeof Pe?Pe:To.get(Pe)||so,Le):H},Le.offset=function(Pe){return arguments.length?(K="function"==typeof Pe?Pe:Ho.get(Pe)||Da,Le):K},Le.x=function(Pe){return arguments.length?(ce=Pe,Le):ce},Le.y=function(Pe){return arguments.length?(me=Pe,Le):me},Le.out=function(Pe){return arguments.length?(ne=Pe,Le):ne},Le};var To=a.map({"inside-out":function(L){var H,K,ne=L.length,ce=L.map(ts),me=L.map(ul),Le=a.range(ne).sort(function(lt,ft){return ce[lt]-ce[ft]}),Pe=0,je=0,He=[],$e=[];for(H=0;H<ne;++H)K=Le[H],Pe<je?(Pe+=me[K],He.push(K)):(je+=me[K],$e.push(K));return $e.reverse().concat(He)},reverse:function(L){return a.range(L.length).reverse()},default:so}),Ho=a.map({silhouette:function(L){var H,K,ne,ce=L.length,me=L[0].length,Le=[],Pe=0,je=[];for(K=0;K<me;++K){for(H=0,ne=0;H<ce;H++)ne+=L[H][K][1];ne>Pe&&(Pe=ne),Le.push(ne)}for(K=0;K<me;++K)je[K]=(Pe-Le[K])/2;return je},wiggle:function(L){var H,K,ne,ce,me,Le,Pe,je,He,$e=L.length,lt=L[0],ft=lt.length,xt=[];for(xt[0]=je=He=0,K=1;K<ft;++K){for(H=0,ce=0;H<$e;++H)ce+=L[H][K][1];for(H=0,me=0,Pe=lt[K][0]-lt[K-1][0];H<$e;++H){for(ne=0,Le=(L[H][K][1]-L[H][K-1][1])/(2*Pe);ne<H;++ne)Le+=(L[ne][K][1]-L[ne][K-1][1])/Pe;me+=Le*L[H][K][1]}xt[K]=je-=ce?me/ce*Pe:0,je<He&&(He=je)}for(K=0;K<ft;++K)xt[K]-=He;return xt},expand:function(L){var H,K,ne,ce=L.length,me=L[0].length,Le=1/ce,Pe=[];for(K=0;K<me;++K){for(H=0,ne=0;H<ce;H++)ne+=L[H][K][1];if(ne)for(H=0;H<ce;H++)L[H][K][1]/=ne;else for(H=0;H<ce;H++)L[H][K][1]=Le}for(K=0;K<me;++K)Pe[K]=0;return Pe},zero:Da});function so(L){return a.range(L.length)}function Da(L){for(var H=-1,K=L[0].length,ne=[];++H<K;)ne[H]=0;return ne}function ts(L){for(var H,K=1,ne=0,ce=L[0][1],me=L.length;K<me;++K)(H=L[K][1])>ce&&(ne=K,ce=H);return ne}function ul(L){return L.reduce(ms,0)}function ms(L,H){return L+H[1]}function js(L,H){return ya(L,Math.ceil(Math.log(H.length)/Math.LN2+1))}function ya(L,H){for(var K=-1,ne=+L[0],ce=(L[1]-ne)/H,me=[];++K<=H;)me[K]=ce*K+ne;return me}function Us(L){return[a.min(L),a.max(L)]}function cl(L,H){return L.value-H.value}function ns(L,H){var K=L._pack_next;L._pack_next=H,H._pack_prev=L,H._pack_next=K,K._pack_prev=H}function qo(L,H){L._pack_next=H,H._pack_prev=L}function rs(L,H){var K=H.x-L.x,ne=H.y-L.y,ce=L.r+H.r;return.999*ce*ce>K*K+ne*ne}function Go(L){if((H=L.children)&&(je=H.length)){var H,K,ne,ce,me,Le,Pe,je,He=1/0,$e=-1/0,lt=1/0,ft=-1/0;if(H.forEach(Zo),(K=H[0]).x=-K.r,K.y=0,Ut(K),je>1&&((ne=H[1]).x=ne.r,ne.y=0,Ut(ne),je>2))for($r(K,ne,ce=H[2]),Ut(ce),ns(K,ce),K._pack_prev=ce,ns(ce,ne),ne=K._pack_next,me=3;me<je;me++){$r(K,ne,ce=H[me]);var xt=0,Mt=1,Tt=1;for(Le=ne._pack_next;Le!==ne;Le=Le._pack_next,Mt++)if(rs(Le,ce)){xt=1;break}if(1==xt)for(Pe=K._pack_prev;Pe!==Le._pack_prev&&!rs(Pe,ce);Pe=Pe._pack_prev,Tt++);xt?(Mt<Tt||Mt==Tt&&ne.r<K.r?qo(K,ne=Le):qo(K=Pe,ne),me--):(ns(K,ce),ne=ce,Ut(ce))}var Dt=(He+$e)/2,Et=(lt+ft)/2,Gt=0;for(me=0;me<je;me++)(ce=H[me]).x-=Dt,ce.y-=Et,Gt=Math.max(Gt,ce.r+Math.sqrt(ce.x*ce.x+ce.y*ce.y));L.r=Gt,H.forEach(ys)}function Ut(Bt){He=Math.min(Bt.x-Bt.r,He),$e=Math.max(Bt.x+Bt.r,$e),lt=Math.min(Bt.y-Bt.r,lt),ft=Math.max(Bt.y+Bt.r,ft)}}function Zo(L){L._pack_next=L._pack_prev=L}function ys(L){delete L._pack_next,delete L._pack_prev}function Vs(L,H,K,ne){var ce=L.children;if(L.x=H+=ne*L.x,L.y=K+=ne*L.y,L.r*=ne,ce)for(var me=-1,Le=ce.length;++me<Le;)Vs(ce[me],H,K,ne)}function $r(L,H,K){var ne=L.r+K.r,ce=H.x-L.x,me=H.y-L.y;if(ne&&(ce||me)){var Le=H.r+K.r,Pe=ce*ce+me*me,je=.5+((ne*=ne)-(Le*=Le))/(2*Pe),He=Math.sqrt(Math.max(0,2*Le*(ne+Pe)-(ne-=Pe)*ne-Le*Le))/(2*Pe);K.x=L.x+je*ce+He*me,K.y=L.y+je*me-He*ce}else K.x=L.x+ne,K.y=L.y}function ko(L,H){return L.parent==H.parent?1:2}function Zi(L){var H=L.children;return H.length?H[0]:L.t}function Ra(L){var H,K=L.children;return(H=K.length)?K[H-1]:L.t}function Zr(L,H,K){var ne=K/(H.i-L.i);H.c-=ne,H.s+=K,L.c+=ne,H.z+=K,H.m+=K}function Kr(L,H,K){return L.a.parent===H.parent?L.a:K}function xa(L){var H=L.children;return H&&H.length?xa(H[0]):L}function is(L){var H,K=L.children;return K&&(H=K.length)?is(K[H-1]):L}function xs(L){return{x:L.x,y:L.y,dx:L.dx,dy:L.dy}}function Hs(L,H){var K=L.x+H[3],ne=L.y+H[0],ce=L.dx-H[1]-H[3],me=L.dy-H[0]-H[2];return ce<0&&(K+=ce/2,ce=0),me<0&&(ne+=me/2,me=0),{x:K,y:ne,dx:ce,dy:me}}function bs(L){var H=L[0],K=L[L.length-1];return H<K?[H,K]:[K,H]}function _s(L){return L.rangeExtent?L.rangeExtent():bs(L.range())}function ka(L,H,K,ne){var ce=K(L[0],L[1]),me=ne(H[0],H[1]);return function(Le){return me(ce(Le))}}function Ao(L,H){var K,ne=0,ce=L.length-1,me=L[ne],Le=L[ce];return Le<me&&(K=ne,ne=ce,ce=K,K=me,me=Le,Le=K),L[ne]=H.floor(me),L[ce]=H.ceil(Le),L}function Mo(L){return L?{floor:function(H){return Math.floor(H/L)*L},ceil:function(H){return Math.ceil(H/L)*L}}:$i}a.layout.histogram=function(){var L=!0,H=Number,K=Us,ne=js;function ce(me,Le){for(var Pe,je,He=[],$e=me.map(H,this),lt=K.call(this,$e,Le),ft=ne.call(this,lt,$e,Le),xt=(Le=-1,$e.length),Mt=ft.length-1,Tt=L?1:1/xt;++Le<Mt;)(Pe=He[Le]=[]).dx=ft[Le+1]-(Pe.x=ft[Le]),Pe.y=0;if(Mt>0)for(Le=-1;++Le<xt;)(je=$e[Le])>=lt[0]&&je<=lt[1]&&((Pe=He[a.bisect(ft,je,1,Mt)-1]).y+=Tt,Pe.push(me[Le]));return He}return ce.value=function(me){return arguments.length?(H=me,ce):H},ce.range=function(me){return arguments.length?(K=On(me),ce):K},ce.bins=function(me){return arguments.length?(ne="number"==typeof me?function(Le){return ya(Le,me)}:On(me),ce):ne},ce.frequency=function(me){return arguments.length?(L=!!me,ce):L},ce},a.layout.pack=function(){var L,H=a.layout.hierarchy().sort(cl),K=0,ne=[1,1];function ce(me,Le){var Pe=H.call(this,me,Le),je=Pe[0],He=ne[0],$e=ne[1],lt=null==L?Math.sqrt:"function"==typeof L?L:function(){return L};if(je.x=je.y=0,jr(je,function(xt){xt.r=+lt(xt.value)}),jr(je,Go),K){var ft=K*(L?1:Math.max(2*je.r/He,2*je.r/$e))/2;jr(je,function(xt){xt.r+=ft}),jr(je,Go),jr(je,function(xt){xt.r-=ft})}return Vs(je,He/2,$e/2,L?1:1/Math.max(2*je.r/He,2*je.r/$e)),Pe}return ce.size=function(me){return arguments.length?(ne=me,ce):ne},ce.radius=function(me){return arguments.length?(L=null==me||"function"==typeof me?me:+me,ce):L},ce.padding=function(me){return arguments.length?(K=+me,ce):K},oo(ce,H)},a.layout.tree=function(){var L=a.layout.hierarchy().sort(null).value(null),H=ko,K=[1,1],ne=null;function ce(je,He){var $e=L.call(this,je,He),lt=$e[0],ft=function(Ut){for(var Bt,hn={A:null,children:[Ut]},pn=[hn];null!=(Bt=pn.pop());)for(var En,Cn=Bt.children,Nn=0,Wn=Cn.length;Nn<Wn;++Nn)pn.push((Cn[Nn]=En={_:Cn[Nn],parent:Bt,children:(En=Cn[Nn].children)&&En.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Nn}).a=En);return hn.children[0]}(lt);if(jr(ft,me),ft.parent.m=-ft.z,wo(ft,Le),ne)wo(lt,Pe);else{var xt=lt,Mt=lt,Tt=lt;wo(lt,function(Ut){Ut.x<xt.x&&(xt=Ut),Ut.x>Mt.x&&(Mt=Ut),Ut.depth>Tt.depth&&(Tt=Ut)});var Dt=H(xt,Mt)/2-xt.x,Et=K[0]/(Mt.x+H(Mt,xt)/2+Dt),Gt=K[1]/(Tt.depth||1);wo(lt,function(Ut){Ut.x=(Ut.x+Dt)*Et,Ut.y=Ut.depth*Gt})}return $e}function me(je){var He=je.children,$e=je.parent.children,lt=je.i?$e[je.i-1]:null;if(He.length){!function(xt){for(var Mt,Tt=0,Dt=0,Et=xt.children,Gt=Et.length;--Gt>=0;)(Mt=Et[Gt]).z+=Tt,Mt.m+=Tt,Tt+=Mt.s+(Dt+=Mt.c)}(je);var ft=(He[0].z+He[He.length-1].z)/2;lt?(je.z=lt.z+H(je._,lt._),je.m=je.z-ft):je.z=ft}else lt&&(je.z=lt.z+H(je._,lt._));je.parent.A=function(xt,Mt,Tt){if(Mt){for(var Dt,Et=xt,Gt=xt,Ut=Mt,Bt=Et.parent.children[0],hn=Et.m,pn=Gt.m,En=Ut.m,Cn=Bt.m;Ut=Ra(Ut),Et=Zi(Et),Ut&&Et;)Bt=Zi(Bt),(Gt=Ra(Gt)).a=xt,(Dt=Ut.z+En-Et.z-hn+H(Ut._,Et._))>0&&(Zr(Kr(Ut,xt,Tt),xt,Dt),hn+=Dt,pn+=Dt),En+=Ut.m,hn+=Et.m,Cn+=Bt.m,pn+=Gt.m;Ut&&!Ra(Gt)&&(Gt.t=Ut,Gt.m+=En-pn),Et&&!Zi(Bt)&&(Bt.t=Et,Bt.m+=hn-Cn,Tt=xt)}return Tt}(je,lt,je.parent.A||$e[0])}function Le(je){je._.x=je.z+je.parent.m,je.m+=je.parent.m}function Pe(je){je.x*=K[0],je.y=je.depth*K[1]}return ce.separation=function(je){return arguments.length?(H=je,ce):H},ce.size=function(je){return arguments.length?(ne=null==(K=je)?Pe:null,ce):ne?null:K},ce.nodeSize=function(je){return arguments.length?(ne=null==(K=je)?null:Pe,ce):ne?K:null},oo(ce,L)},a.layout.cluster=function(){var L=a.layout.hierarchy().sort(null).value(null),H=ko,K=[1,1],ne=!1;function ce(me,Le){var Pe,je=L.call(this,me,Le),He=je[0],$e=0;jr(He,function(Tt){var Et,Dt=Tt.children;Dt&&Dt.length?(Tt.x=(Et=Dt).reduce(function(Gt,Ut){return Gt+Ut.x},0)/Et.length,Tt.y=function(Et){return 1+a.max(Et,function(Gt){return Gt.y})}(Dt)):(Tt.x=Pe?$e+=H(Tt,Pe):0,Tt.y=0,Pe=Tt)});var lt=xa(He),ft=is(He),xt=lt.x-H(lt,ft)/2,Mt=ft.x+H(ft,lt)/2;return jr(He,ne?function(Tt){Tt.x=(Tt.x-He.x)*K[0],Tt.y=(He.y-Tt.y)*K[1]}:function(Tt){Tt.x=(Tt.x-xt)/(Mt-xt)*K[0],Tt.y=(1-(He.y?Tt.y/He.y:1))*K[1]}),je}return ce.separation=function(me){return arguments.length?(H=me,ce):H},ce.size=function(me){return arguments.length?(ne=null==(K=me),ce):ne?null:K},ce.nodeSize=function(me){return arguments.length?(ne=null!=(K=me),ce):ne?K:null},oo(ce,L)},a.layout.treemap=function(){var L,H=a.layout.hierarchy(),K=Math.round,ne=[1,1],ce=null,me=xs,Le=!1,Pe="squarify",je=.5*(1+Math.sqrt(5));function He(Tt,Dt){for(var Et,Gt,Ut=-1,Bt=Tt.length;++Ut<Bt;)Gt=(Et=Tt[Ut]).value*(Dt<0?0:Dt),Et.area=isNaN(Gt)||Gt<=0?0:Gt}function $e(Tt){var Dt=Tt.children;if(Dt&&Dt.length){var Et,Gt,Ut,Bt=me(Tt),hn=[],pn=Dt.slice(),En=1/0,Cn="slice"===Pe?Bt.dx:"dice"===Pe?Bt.dy:"slice-dice"===Pe?1&Tt.depth?Bt.dy:Bt.dx:Math.min(Bt.dx,Bt.dy);for(He(pn,Bt.dx*Bt.dy/Tt.value),hn.area=0;(Ut=pn.length)>0;)hn.push(Et=pn[Ut-1]),hn.area+=Et.area,"squarify"!==Pe||(Gt=ft(hn,Cn))<=En?(pn.pop(),En=Gt):(hn.area-=hn.pop().area,xt(hn,Cn,Bt,!1),Cn=Math.min(Bt.dx,Bt.dy),hn.length=hn.area=0,En=1/0);hn.length&&(xt(hn,Cn,Bt,!0),hn.length=hn.area=0),Dt.forEach($e)}}function lt(Tt){var Dt=Tt.children;if(Dt&&Dt.length){var Et,Gt=me(Tt),Ut=Dt.slice(),Bt=[];for(He(Ut,Gt.dx*Gt.dy/Tt.value),Bt.area=0;Et=Ut.pop();)Bt.push(Et),Bt.area+=Et.area,null!=Et.z&&(xt(Bt,Et.z?Gt.dx:Gt.dy,Gt,!Ut.length),Bt.length=Bt.area=0);Dt.forEach(lt)}}function ft(Tt,Dt){for(var Et,Gt=Tt.area,Ut=0,Bt=1/0,hn=-1,pn=Tt.length;++hn<pn;)(Et=Tt[hn].area)&&(Et<Bt&&(Bt=Et),Et>Ut&&(Ut=Et));return Dt*=Dt,(Gt*=Gt)?Math.max(Dt*Ut*je/Gt,Gt/(Dt*Bt*je)):1/0}function xt(Tt,Dt,Et,Gt){var Ut,Bt=-1,hn=Tt.length,pn=Et.x,En=Et.y,Cn=Dt?K(Tt.area/Dt):0;if(Dt==Et.dx){for((Gt||Cn>Et.dy)&&(Cn=Et.dy);++Bt<hn;)(Ut=Tt[Bt]).x=pn,Ut.y=En,Ut.dy=Cn,pn+=Ut.dx=Math.min(Et.x+Et.dx-pn,Cn?K(Ut.area/Cn):0);Ut.z=!0,Ut.dx+=Et.x+Et.dx-pn,Et.y+=Cn,Et.dy-=Cn}else{for((Gt||Cn>Et.dx)&&(Cn=Et.dx);++Bt<hn;)(Ut=Tt[Bt]).x=pn,Ut.y=En,Ut.dx=Cn,En+=Ut.dy=Math.min(Et.y+Et.dy-En,Cn?K(Ut.area/Cn):0);Ut.z=!1,Ut.dy+=Et.y+Et.dy-En,Et.x+=Cn,Et.dx-=Cn}}function Mt(Tt){var Dt=L||H(Tt),Et=Dt[0];return Et.x=Et.y=0,Et.value?(Et.dx=ne[0],Et.dy=ne[1]):Et.dx=Et.dy=0,L&&H.revalue(Et),He([Et],Et.dx*Et.dy/Et.value),(L?lt:$e)(Et),Le&&(L=Dt),Dt}return Mt.size=function(Tt){return arguments.length?(ne=Tt,Mt):ne},Mt.padding=function(Tt){if(!arguments.length)return ce;function Dt(Gt){return Hs(Gt,Tt)}var Et;return me=null==(ce=Tt)?xs:"function"==(Et=typeof Tt)?function(Gt){var Ut=Tt.call(Mt,Gt,Gt.depth);return null==Ut?xs(Gt):Hs(Gt,"number"==typeof Ut?[Ut,Ut,Ut,Ut]:Ut)}:("number"===Et&&(Tt=[Tt,Tt,Tt,Tt]),Dt),Mt},Mt.round=function(Tt){return arguments.length?(K=Tt?Math.round:Number,Mt):K!=Number},Mt.sticky=function(Tt){return arguments.length?(Le=Tt,L=null,Mt):Le},Mt.ratio=function(Tt){return arguments.length?(je=Tt,Mt):je},Mt.mode=function(Tt){return arguments.length?(Pe=Tt+"",Mt):Pe},oo(Mt,H)},a.random={normal:function(L,H){var K=arguments.length;return K<2&&(H=1),K<1&&(L=0),function(){var ne,ce,me;do{me=(ne=2*Math.random()-1)*ne+(ce=2*Math.random()-1)*ce}while(!me||me>1);return L+H*ne*Math.sqrt(-2*Math.log(me)/me)}},logNormal:function(){var L=a.random.normal.apply(a,arguments);return function(){return Math.exp(L())}},bates:function(L){var H=a.random.irwinHall(L);return function(){return H()/L}},irwinHall:function(L){return function(){for(var H=0,K=0;K<L;K++)H+=Math.random();return H}}},a.scale={};var $i={floor:z,ceil:z};function ws(L,H,K,ne){var ce=[],me=[],Le=0,Pe=Math.min(L.length,H.length)-1;for(L[Pe]<L[0]&&(L=L.slice().reverse(),H=H.slice().reverse());++Le<=Pe;)ce.push(K(L[Le-1],L[Le])),me.push(ne(H[Le-1],H[Le]));return function(je){var He=a.bisect(L,je,1,Pe)-1;return me[He](ce[He](je))}}function Aa(L,H,K,ne){var ce,me;function Le(){var je=Math.min(L.length,H.length)>2?ws:ka,He=ne?_l:bl;return ce=je(L,H,He,K),me=je(H,L,He,no),Pe}function Pe(je){return ce(je)}return Pe.invert=function(je){return me(je)},Pe.domain=function(je){return arguments.length?(L=je.map(Number),Le()):L},Pe.range=function(je){return arguments.length?(H=je,Le()):H},Pe.rangeRound=function(je){return Pe.range(je).interpolate(Js)},Pe.clamp=function(je){return arguments.length?(ne=je,Le()):ne},Pe.interpolate=function(je){return arguments.length?(K=je,Le()):K},Pe.ticks=function(je){return Vi(L,je)},Pe.tickFormat=function(je,He){return d3_scale_linearTickFormat(L,je,He)},Pe.nice=function(je){return Ui(L,je),Le()},Pe.copy=function(){return Aa(L,H,K,ne)},Le()}function Ri(L,H){return a.rebind(L,H,"range","rangeRound","interpolate","clamp")}function Ui(L,H){return Ao(L,Mo(ai(L,H)[2])),Ao(L,Mo(ai(L,H)[2])),L}function ai(L,H){null==H&&(H=10);var K=bs(L),ne=K[1]-K[0],ce=Math.pow(10,Math.floor(Math.log(ne/H)/Math.LN10)),me=H/ne*ce;return me<=.15?ce*=10:me<=.35?ce*=5:me<=.75&&(ce*=2),K[0]=Math.ceil(K[0]/ce)*ce,K[1]=Math.floor(K[1]/ce)*ce+.5*ce,K[2]=ce,K}function Vi(L,H){return a.range.apply(a,ai(L,H))}function Xa(L,H,K,ne){function ce(Pe){return(K?Math.log(Pe<0?0:Pe):-Math.log(Pe>0?0:-Pe))/Math.log(H)}function me(Pe){return K?Math.pow(H,Pe):-Math.pow(H,-Pe)}function Le(Pe){return L(ce(Pe))}return Le.invert=function(Pe){return me(L.invert(Pe))},Le.domain=function(Pe){return arguments.length?(K=Pe[0]>=0,L.domain((ne=Pe.map(Number)).map(ce)),Le):ne},Le.base=function(Pe){return arguments.length?(H=+Pe,L.domain(ne.map(ce)),Le):H},Le.nice=function(){var Pe=Ao(ne.map(ce),K?Math:Yo);return L.domain(Pe),ne=Pe.map(me),Le},Le.ticks=function(){var Pe=bs(ne),je=[],He=Pe[0],$e=Pe[1],lt=Math.floor(ce(He)),ft=Math.ceil(ce($e)),xt=H%1?2:H;if(isFinite(ft-lt)){if(K){for(;lt<ft;lt++)for(var Mt=1;Mt<xt;Mt++)je.push(me(lt)*Mt);je.push(me(lt))}else for(je.push(me(lt));lt++<ft;)for(Mt=xt-1;Mt>0;Mt--)je.push(me(lt)*Mt);for(lt=0;je[lt]<He;lt++);for(ft=je.length;je[ft-1]>$e;ft--);je=je.slice(lt,ft)}return je},Le.copy=function(){return Xa(L.copy(),H,K,ne)},Ri(Le,L)}a.scale.linear=function(){return Aa([0,1],[0,1],no,!1)},a.scale.log=function(){return Xa(a.scale.linear().domain([0,1]),10,!0,[1,10])};var Yo={floor:function(L){return-Math.ceil(-L)},ceil:function(L){return-Math.floor(-L)}};function Fa(L,H,K){var ne=So(H),ce=So(1/H);function me(Le){return L(ne(Le))}return me.invert=function(Le){return ce(L.invert(Le))},me.domain=function(Le){return arguments.length?(L.domain((K=Le.map(Number)).map(ne)),me):K},me.ticks=function(Le){return Vi(K,Le)},me.tickFormat=function(Le,Pe){return d3_scale_linearTickFormat(K,Le,Pe)},me.nice=function(Le){return me.domain(Ui(K,Le))},me.exponent=function(Le){return arguments.length?(ne=So(H=Le),ce=So(1/H),L.domain(K.map(ne)),me):H},me.copy=function(){return Fa(L.copy(),H,K)},Ri(me,L)}function So(L){return function(H){return H<0?-Math.pow(-H,L):Math.pow(H,L)}}function aa(L,H){var K,ne,ce;function me(Pe){return ne[((K.get(Pe)||("range"===H.t?K.set(Pe,L.push(Pe)):NaN))-1)%ne.length]}function Le(Pe,je){return a.range(L.length).map(function(He){return Pe+je*He})}return me.domain=function(Pe){if(!arguments.length)return L;L=[],K=new v;for(var je,He=-1,$e=Pe.length;++He<$e;)K.has(je=Pe[He])||K.set(je,L.push(je));return me[H.t].apply(me,H.a)},me.range=function(Pe){return arguments.length?(ne=Pe,ce=0,H={t:"range",a:arguments},me):ne},me.rangePoints=function(Pe,je){arguments.length<2&&(je=0);var He=Pe[0],$e=Pe[1],lt=L.length<2?(He=(He+$e)/2,0):($e-He)/(L.length-1+je);return ne=Le(He+lt*je/2,lt),ce=0,H={t:"rangePoints",a:arguments},me},me.rangeRoundPoints=function(Pe,je){arguments.length<2&&(je=0);var He=Pe[0],$e=Pe[1],lt=L.length<2?(He=$e=Math.round((He+$e)/2),0):($e-He)/(L.length-1+je)|0;return ne=Le(He+Math.round(lt*je/2+($e-He-(L.length-1+je)*lt)/2),lt),ce=0,H={t:"rangeRoundPoints",a:arguments},me},me.rangeBands=function(Pe,je,He){arguments.length<2&&(je=0),arguments.length<3&&(He=je);var $e=Pe[1]<Pe[0],lt=Pe[$e-0],ft=(Pe[1-$e]-lt)/(L.length-je+2*He);return ne=Le(lt+ft*He,ft),$e&&ne.reverse(),ce=ft*(1-je),H={t:"rangeBands",a:arguments},me},me.rangeRoundBands=function(Pe,je,He){arguments.length<2&&(je=0),arguments.length<3&&(He=je);var $e=Pe[1]<Pe[0],lt=Pe[$e-0],ft=Pe[1-$e],xt=Math.floor((ft-lt)/(L.length-je+2*He));return ne=Le(lt+Math.round((ft-lt-(L.length-je)*xt)/2),xt),$e&&ne.reverse(),ce=Math.round(xt*(1-je)),H={t:"rangeRoundBands",a:arguments},me},me.rangeBand=function(){return ce},me.rangeExtent=function(){return bs(H.a[0])},me.copy=function(){return aa(L,H)},me.domain(L)}a.scale.pow=function(){return Fa(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return aa([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(Wo)},a.scale.category20=function(){return a.scale.ordinal().range(lo)},a.scale.category20b=function(){return a.scale.ordinal().range(Ma)},a.scale.category20c=function(){return a.scale.ordinal().range(Sa)};var Wo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ht),lo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ht),Ma=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ht),Sa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ht);function si(L,H){var K;function ne(){var me=0,Le=H.length;for(K=[];++me<Le;)K[me-1]=a.quantile(L,me/Le);return ce}function ce(me){if(!isNaN(me=+me))return H[a.bisect(K,me)]}return ce.domain=function(me){return arguments.length?(L=me.map(d).filter(c).sort(u),ne()):L},ce.range=function(me){return arguments.length?(H=me,ne()):H},ce.quantiles=function(){return K},ce.invertExtent=function(me){return(me=H.indexOf(me))<0?[NaN,NaN]:[me>0?K[me-1]:L[0],me<K.length?K[me]:L[L.length-1]]},ce.copy=function(){return si(L,H)},ne()}function Ba(L,H,K){var ne,ce;function me(Pe){return K[Math.max(0,Math.min(ce,Math.floor(ne*(Pe-L))))]}function Le(){return ne=K.length/(H-L),ce=K.length-1,me}return me.domain=function(Pe){return arguments.length?(L=+Pe[0],H=+Pe[Pe.length-1],Le()):[L,H]},me.range=function(Pe){return arguments.length?(K=Pe,Le()):K},me.invertExtent=function(Pe){return[Pe=(Pe=K.indexOf(Pe))<0?NaN:Pe/ne+L,Pe+1/ne]},me.copy=function(){return Ba(L,H,K)},Le()}function br(L,H){function K(ne){if(ne<=ne)return H[a.bisect(L,ne)]}return K.domain=function(ne){return arguments.length?(L=ne,K):L},K.range=function(ne){return arguments.length?(H=ne,K):H},K.invertExtent=function(ne){return ne=H.indexOf(ne),[L[ne-1],L[ne]]},K.copy=function(){return br(L,H)},K}function Ts(L){function H(K){return+K}return H.invert=H,H.domain=H.range=function(K){return arguments.length?(L=K.map(H),H):L},H.ticks=function(K){return Vi(L,K)},H.tickFormat=function(K,ne){return d3_scale_linearTickFormat(L,K,ne)},H.copy=function(){return Ts(L)},H}function $s(){return 0}a.scale.quantile=function(){return si([],[])},a.scale.quantize=function(){return Ba(0,1,[0,1])},a.scale.threshold=function(){return br([.5],[0,1])},a.scale.identity=function(){return Ts([0,1])},a.svg={},a.svg.arc=function(){var L=Lo,H=Xo,K=$s,ne=Eo,ce=as,me=dr,Le=ks;function Pe(){var He=Math.max(0,+L.apply(this,arguments)),$e=Math.max(0,+H.apply(this,arguments)),lt=ce.apply(this,arguments)-qe,ft=me.apply(this,arguments)-qe,xt=Math.abs(ft-lt),Mt=lt>ft?0:1;if($e<He&&(Tt=$e,$e=He,He=Tt),xt>=St)return je($e,Mt)+(He?je(He,1-Mt):"")+"Z";var Tt,Dt,Et,Gt,Ut,Bt,hn,pn,En,Cn,Nn,Wn,sr=0,Hn=0,rr=[];if((Gt=(+Le.apply(this,arguments)||0)/2)&&(Et=ne===Eo?Math.sqrt(He*He+$e*$e):+ne.apply(this,arguments),Mt||(Hn*=-1),$e&&(Hn=Ge(Et/$e*Math.sin(Gt))),He&&(sr=Ge(Et/He*Math.sin(Gt)))),$e){Ut=$e*Math.cos(lt+Hn),Bt=$e*Math.sin(lt+Hn),hn=$e*Math.cos(ft-Hn),pn=$e*Math.sin(ft-Hn);var gr=Math.abs(ft-lt-2*Hn)<=Ot?0:1;if(Hn&&uo(Ut,Bt,hn,pn)===Mt^gr){var kr=(lt+ft)/2;Ut=$e*Math.cos(kr),Bt=$e*Math.sin(kr),hn=pn=null}}else Ut=Bt=0;if(He){En=He*Math.cos(ft-sr),Cn=He*Math.sin(ft-sr),Nn=He*Math.cos(lt+sr),Wn=He*Math.sin(lt+sr);var Yn=Math.abs(lt-ft+2*sr)<=Ot?0:1;if(sr&&uo(En,Cn,Nn,Wn)===1-Mt^Yn){var nr=(lt+ft)/2;En=He*Math.cos(nr),Cn=He*Math.sin(nr),Nn=Wn=null}}else En=Cn=0;if(xt>nt&&(Tt=Math.min(Math.abs($e-He)/2,+K.apply(this,arguments)))>.001){Dt=He<$e^Mt?0:1;var yr=Tt,lr=Tt;if(xt<Ot){var _r=null==Nn?[En,Cn]:null==hn?[Ut,Bt]:Ct([Ut,Bt],[Nn,Wn],[hn,pn],[En,Cn]),Er=Ut-_r[0],Dr=Bt-_r[1],Rr=hn-_r[0],Nr=pn-_r[1],Vr=1/Math.sin(Math.acos((Er*Rr+Dr*Nr)/(Math.sqrt(Er*Er+Dr*Dr)*Math.sqrt(Rr*Rr+Nr*Nr)))/2),ui=Math.sqrt(_r[0]*_r[0]+_r[1]*_r[1]);lr=Math.min(Tt,(He-ui)/(Vr-1)),yr=Math.min(Tt,($e-ui)/(Vr+1))}if(null!=hn){var ki=Fi(null==Nn?[En,Cn]:[Nn,Wn],[Ut,Bt],$e,yr,Mt),ea=Fi([hn,pn],[En,Cn],$e,yr,Mt);Tt===yr?rr.push("M",ki[0],"A",yr,",",yr," 0 0,",Dt," ",ki[1],"A",$e,",",$e," 0 ",1-Mt^uo(ki[1][0],ki[1][1],ea[1][0],ea[1][1]),",",Mt," ",ea[1],"A",yr,",",yr," 0 0,",Dt," ",ea[0]):rr.push("M",ki[0],"A",yr,",",yr," 0 1,",Dt," ",ea[0])}else rr.push("M",Ut,",",Bt);if(null!=Nn){var Bi=Fi([Ut,Bt],[Nn,Wn],He,-lr,Mt),Yi=Fi([En,Cn],null==hn?[Ut,Bt]:[hn,pn],He,-lr,Mt);Tt===lr?rr.push("L",Yi[0],"A",lr,",",lr," 0 0,",Dt," ",Yi[1],"A",He,",",He," 0 ",Mt^uo(Yi[1][0],Yi[1][1],Bi[1][0],Bi[1][1]),",",1-Mt," ",Bi[1],"A",lr,",",lr," 0 0,",Dt," ",Bi[0]):rr.push("L",Yi[0],"A",lr,",",lr," 0 0,",Dt," ",Bi[0])}else rr.push("L",En,",",Cn)}else rr.push("M",Ut,",",Bt),null!=hn&&rr.push("A",$e,",",$e," 0 ",gr,",",Mt," ",hn,",",pn),rr.push("L",En,",",Cn),null!=Nn&&rr.push("A",He,",",He," 0 ",Yn,",",1-Mt," ",Nn,",",Wn);return rr.push("Z"),rr.join("")}function je(He,$e){return"M0,"+He+"A"+He+","+He+" 0 1,"+$e+" 0,"+-He+"A"+He+","+He+" 0 1,"+$e+" 0,"+He}return Pe.innerRadius=function(He){return arguments.length?(L=On(He),Pe):L},Pe.outerRadius=function(He){return arguments.length?(H=On(He),Pe):H},Pe.cornerRadius=function(He){return arguments.length?(K=On(He),Pe):K},Pe.padRadius=function(He){return arguments.length?(ne=He==Eo?Eo:On(He),Pe):ne},Pe.startAngle=function(He){return arguments.length?(ce=On(He),Pe):ce},Pe.endAngle=function(He){return arguments.length?(me=On(He),Pe):me},Pe.padAngle=function(He){return arguments.length?(Le=On(He),Pe):Le},Pe.centroid=function(){var He=(+L.apply(this,arguments)+ +H.apply(this,arguments))/2,$e=(+ce.apply(this,arguments)+ +me.apply(this,arguments))/2-qe;return[Math.cos($e)*He,Math.sin($e)*He]},Pe};var Eo="auto";function Lo(L){return L.innerRadius}function Xo(L){return L.outerRadius}function as(L){return L.startAngle}function dr(L){return L.endAngle}function ks(L){return L&&L.padAngle}function uo(L,H,K,ne){return(L-K)*H-(H-ne)*L>0?0:1}function Fi(L,H,K,ne,ce){var me=L[0]-H[0],Le=L[1]-H[1],Pe=(ce?ne:-ne)/Math.sqrt(me*me+Le*Le),je=Pe*Le,He=-Pe*me,$e=L[0]+je,lt=L[1]+He,ft=H[0]+je,xt=H[1]+He,Mt=($e+ft)/2,Tt=(lt+xt)/2,Dt=ft-$e,Et=xt-lt,Gt=Dt*Dt+Et*Et,Ut=K-ne,Bt=$e*xt-ft*lt,hn=(Et<0?-1:1)*Math.sqrt(Math.max(0,Ut*Ut*Gt-Bt*Bt)),pn=(Bt*Et-Dt*hn)/Gt,En=(-Bt*Dt-Et*hn)/Gt,Cn=(Bt*Et+Dt*hn)/Gt,Nn=(-Bt*Dt+Et*hn)/Gt,Wn=pn-Mt,sr=En-Tt,Hn=Cn-Mt,rr=Nn-Tt;return Wn*Wn+sr*sr>Hn*Hn+rr*rr&&(pn=Cn,En=Nn),[[pn-je,En-He],[pn*K/Ut,En*K/Ut]]}function Co(){return!0}function Na(L){var H=Fn,K=In,ne=Co,ce=Qi,me=ce.key,Le=.7;function Pe(je){var He,$e=[],lt=[],ft=-1,xt=je.length,Mt=On(H),Tt=On(K);function Dt(){$e.push("M",ce(L(lt),Le))}for(;++ft<xt;)ne.call(this,He=je[ft],ft)?lt.push([+Mt.call(this,He,ft),+Tt.call(this,He,ft)]):lt.length&&(Dt(),lt=[]);return lt.length&&Dt(),$e.length?$e.join(""):null}return Pe.x=function(je){return arguments.length?(H=je,Pe):H},Pe.y=function(je){return arguments.length?(K=je,Pe):K},Pe.defined=function(je){return arguments.length?(ne=je,Pe):ne},Pe.interpolate=function(je){return arguments.length?(me="function"==typeof je?ce=je:(ce=Ea.get(je)||Qi).key,Pe):me},Pe.tension=function(je){return arguments.length?(Le=je,Pe):Le},Pe}a.svg.line=function(){return Na(z)};var Ea=a.map({linear:Qi,"linear-closed":Ja,step:function(L){for(var H=0,K=L.length,ne=L[0],ce=[ne[0],",",ne[1]];++H<K;)ce.push("H",(ne[0]+(ne=L[H])[0])/2,"V",ne[1]);return K>1&&ce.push("H",ne[0]),ce.join("")},"step-before":La,"step-after":co,basis:Hr,"basis-open":function(L){if(L.length<4)return Qi(L);for(var H,K=[],ne=-1,ce=L.length,me=[0],Le=[0];++ne<3;)H=L[ne],me.push(H[0]),Le.push(H[1]);for(K.push(Hi(sa,me)+","+Hi(sa,Le)),--ne;++ne<ce;)H=L[ne],me.shift(),me.push(H[0]),Le.shift(),Le.push(H[1]),os(K,me,Le);return K.join("")},"basis-closed":function(L){for(var H,K,ne=-1,ce=L.length,me=ce+4,Le=[],Pe=[];++ne<4;)K=L[ne%ce],Le.push(K[0]),Pe.push(K[1]);for(H=[Hi(sa,Le),",",Hi(sa,Pe)],--ne;++ne<me;)K=L[ne%ce],Le.shift(),Le.push(K[0]),Pe.shift(),Pe.push(K[1]),os(H,Le,Pe);return H.join("")},bundle:function(L,H){var K=L.length-1;if(K)for(var ne,ce,me=L[0][0],Le=L[0][1],Pe=L[K][0]-me,je=L[K][1]-Le,He=-1;++He<=K;)ce=He/K,(ne=L[He])[0]=H*ne[0]+(1-H)*(me+ce*Pe),ne[1]=H*ne[1]+(1-H)*(Le+ce*je);return Hr(L)},cardinal:function(L,H){return L.length<3?Qi(L):L[0]+As(L,Oo(L,H))},"cardinal-open":function(L,H){return L.length<4?Qi(L):L[1]+As(L.slice(1,-1),Oo(L,H))},"cardinal-closed":function(L,H){return L.length<3?Ja(L):L[0]+As((L.push(L[0]),L),Oo([L[L.length-2]].concat(L,[L[1]]),H))},monotone:function(L){return L.length<3?Qi(L):L[0]+As(L,function(H){for(var K,ne,ce,me,Le=[],Pe=function($e){for(var lt=0,ft=$e.length-1,xt=[],Mt=$e[0],Tt=$e[1],Dt=xt[0]=ss(Mt,Tt);++lt<ft;)xt[lt]=(Dt+(Dt=ss(Mt=Tt,Tt=$e[lt+1])))/2;return xt[lt]=Dt,xt}(H),je=-1,He=H.length-1;++je<He;)K=ss(H[je],H[je+1]),m(K)<nt?Pe[je]=Pe[je+1]=0:(me=(ne=Pe[je]/K)*ne+(ce=Pe[je+1]/K)*ce)>9&&(me=3*K/Math.sqrt(me),Pe[je]=me*ne,Pe[je+1]=me*ce);for(je=-1;++je<=He;)me=(H[Math.min(He,je+1)][0]-H[Math.max(0,je-1)][0])/(6*(1+Pe[je]*Pe[je])),Le.push([me||0,Pe[je]*me||0]);return Le}(L))}});function Qi(L){return L.length>1?L.join("L"):L+"Z"}function Ja(L){return L.join("L")+"Z"}function La(L){for(var H=0,K=L.length,ne=L[0],ce=[ne[0],",",ne[1]];++H<K;)ce.push("V",(ne=L[H])[1],"H",ne[0]);return ce.join("")}function co(L){for(var H=0,K=L.length,ne=L[0],ce=[ne[0],",",ne[1]];++H<K;)ce.push("H",(ne=L[H])[0],"V",ne[1]);return ce.join("")}function As(L,H){if(H.length<1||L.length!=H.length&&L.length!=H.length+2)return Qi(L);var K=L.length!=H.length,ne="",ce=L[0],me=L[1],Le=H[0],Pe=Le,je=1;if(K&&(ne+="Q"+(me[0]-2*Le[0]/3)+","+(me[1]-2*Le[1]/3)+","+me[0]+","+me[1],ce=L[1],je=2),H.length>1){Pe=H[1],me=L[je],je++,ne+="C"+(ce[0]+Le[0])+","+(ce[1]+Le[1])+","+(me[0]-Pe[0])+","+(me[1]-Pe[1])+","+me[0]+","+me[1];for(var He=2;He<H.length;He++,je++)me=L[je],Pe=H[He],ne+="S"+(me[0]-Pe[0])+","+(me[1]-Pe[1])+","+me[0]+","+me[1]}if(K){var $e=L[je];ne+="Q"+(me[0]+2*Pe[0]/3)+","+(me[1]+2*Pe[1]/3)+","+$e[0]+","+$e[1]}return ne}function Oo(L,H){for(var K,ne=[],ce=(1-H)/2,me=L[0],Le=L[1],Pe=1,je=L.length;++Pe<je;)K=me,me=Le,Le=L[Pe],ne.push([ce*(Le[0]-K[0]),ce*(Le[1]-K[1])]);return ne}function Hr(L){if(L.length<3)return Qi(L);var H=1,K=L.length,ne=L[0],ce=ne[0],me=ne[1],Le=[ce,ce,ce,(ne=L[1])[0]],Pe=[me,me,me,ne[1]],je=[ce,",",me,"L",Hi(sa,Le),",",Hi(sa,Pe)];for(L.push(L[K-1]);++H<=K;)ne=L[H],Le.shift(),Le.push(ne[0]),Pe.shift(),Pe.push(ne[1]),os(je,Le,Pe);return L.pop(),je.push("L",ne),je.join("")}function Hi(L,H){return L[0]*H[0]+L[1]*H[1]+L[2]*H[2]+L[3]*H[3]}Ea.forEach(function(L,H){H.key=L,H.closed=/-closed$/.test(L)});var oa=[0,2/3,1/3,0],Ka=[0,1/3,2/3,0],sa=[0,1/6,2/3,1/6];function os(L,H,K){L.push("C",Hi(oa,H),",",Hi(oa,K),",",Hi(Ka,H),",",Hi(Ka,K),",",Hi(sa,H),",",Hi(sa,K))}function ss(L,H){return(H[1]-L[1])/(H[0]-L[0])}function la(L){for(var H,K,ne,ce=-1,me=L.length;++ce<me;)K=(H=L[ce])[0],ne=H[1]-qe,H[0]=K*Math.cos(ne),H[1]=K*Math.sin(ne);return L}function Ur(L){var H=Fn,K=Fn,ne=0,ce=In,me=Co,Le=Qi,Pe=Le.key,je=Le,He="L",$e=.7;function lt(ft){var xt,Mt,Tt,Dt=[],Et=[],Gt=[],Ut=-1,Bt=ft.length,hn=On(H),pn=On(ne),En=H===K?function(){return Mt}:On(K),Cn=ne===ce?function(){return Tt}:On(ce);function Nn(){Dt.push("M",Le(L(Gt),$e),He,je(L(Et.reverse()),$e),"Z")}for(;++Ut<Bt;)me.call(this,xt=ft[Ut],Ut)?(Et.push([Mt=+hn.call(this,xt,Ut),Tt=+pn.call(this,xt,Ut)]),Gt.push([+En.call(this,xt,Ut),+Cn.call(this,xt,Ut)])):Et.length&&(Nn(),Et=[],Gt=[]);return Et.length&&Nn(),Dt.length?Dt.join(""):null}return lt.x=function(ft){return arguments.length?(H=K=ft,lt):K},lt.x0=function(ft){return arguments.length?(H=ft,lt):H},lt.x1=function(ft){return arguments.length?(K=ft,lt):K},lt.y=function(ft){return arguments.length?(ne=ce=ft,lt):ce},lt.y0=function(ft){return arguments.length?(ne=ft,lt):ne},lt.y1=function(ft){return arguments.length?(ce=ft,lt):ce},lt.defined=function(ft){return arguments.length?(me=ft,lt):me},lt.interpolate=function(ft){return arguments.length?(Pe="function"==typeof ft?Le=ft:(Le=Ea.get(ft)||Qi).key,je=Le.reverse||Le,He=Le.closed?"M":"L",lt):Pe},lt.tension=function(ft){return arguments.length?($e=ft,lt):$e},lt}function $a(L){return L.source}function Jo(L){return L.target}function ja(L){return L.radius}function ls(L){return[L.x,L.y]}function us(){return 64}function Ua(){return"circle"}function li(L){var H=Math.sqrt(L/Ot);return"M0,"+H+"A"+H+","+H+" 0 1,1 0,"+-H+"A"+H+","+H+" 0 1,1 0,"+H+"Z"}a.svg.line.radial=function(){var L=Na(la);return L.radius=L.x,delete L.x,L.angle=L.y,delete L.y,L},La.reverse=co,co.reverse=La,a.svg.area=function(){return Ur(z)},a.svg.area.radial=function(){var L=Ur(la);return L.radius=L.x,delete L.x,L.innerRadius=L.x0,delete L.x0,L.outerRadius=L.x1,delete L.x1,L.angle=L.y,delete L.y,L.startAngle=L.y0,delete L.y0,L.endAngle=L.y1,delete L.y1,L},a.svg.chord=function(){var L=$a,H=Jo,K=ja,ne=as,ce=dr;function me(He,$e){var lt,ft,xt=Le(this,L,He,$e),Mt=Le(this,H,He,$e);return"M"+xt.p0+Pe(xt.r,xt.p1,xt.a1-xt.a0)+(ft=Mt,((lt=xt).a0==ft.a0&&lt.a1==ft.a1?je(xt.r,xt.p1,xt.r,xt.p0):je(xt.r,xt.p1,Mt.r,Mt.p0)+Pe(Mt.r,Mt.p1,Mt.a1-Mt.a0)+je(Mt.r,Mt.p1,xt.r,xt.p0))+"Z")}function Le(He,$e,lt,ft){var xt=$e.call(He,lt,ft),Mt=K.call(He,xt,ft),Tt=ne.call(He,xt,ft)-qe,Dt=ce.call(He,xt,ft)-qe;return{r:Mt,a0:Tt,a1:Dt,p0:[Mt*Math.cos(Tt),Mt*Math.sin(Tt)],p1:[Mt*Math.cos(Dt),Mt*Math.sin(Dt)]}}function Pe(He,$e,lt){return"A"+He+","+He+" 0 "+ +(lt>Ot)+",1 "+$e}function je(He,$e,lt,ft){return"Q 0,0 "+ft}return me.radius=function(He){return arguments.length?(K=On(He),me):K},me.source=function(He){return arguments.length?(L=On(He),me):L},me.target=function(He){return arguments.length?(H=On(He),me):H},me.startAngle=function(He){return arguments.length?(ne=On(He),me):ne},me.endAngle=function(He){return arguments.length?(ce=On(He),me):ce},me},a.svg.diagonal=function(){var L=$a,H=Jo,K=ls;function ne(ce,me){var Le=L.call(this,ce,me),Pe=H.call(this,ce,me),je=(Le.y+Pe.y)/2,He=[Le,{x:Le.x,y:je},{x:Pe.x,y:je},Pe];return"M"+(He=He.map(K))[0]+"C"+He[1]+" "+He[2]+" "+He[3]}return ne.source=function(ce){return arguments.length?(L=On(ce),ne):L},ne.target=function(ce){return arguments.length?(H=On(ce),ne):H},ne.projection=function(ce){return arguments.length?(K=ce,ne):K},ne},a.svg.diagonal.radial=function(){var L=a.svg.diagonal(),H=ls,K=L.projection;return L.projection=function(ne){return arguments.length?K((ce=H=ne,function(){var me=ce.apply(this,arguments),Le=me[0],Pe=me[1]-qe;return[Le*Math.cos(Pe),Le*Math.sin(Pe)]})):H;var ce},L},a.svg.symbol=function(){var L=Ua,H=us;function K(ne,ce){return(Ko.get(L.call(this,ne,ce))||li)(H.call(this,ne,ce))}return K.type=function(ne){return arguments.length?(L=On(ne),K):L},K.size=function(ne){return arguments.length?(H=On(ne),K):H},K};var Ko=a.map({circle:li,cross:function(L){var H=Math.sqrt(L/5)/2;return"M"+-3*H+","+-H+"H"+-H+"V"+-3*H+"H"+H+"V"+-H+"H"+3*H+"V"+H+"H"+H+"V"+3*H+"H"+-H+"V"+H+"H"+-3*H+"Z"},diamond:function(L){var H=Math.sqrt(L/(2*Cr)),K=H*Cr;return"M0,"+-H+"L"+K+",0 0,"+H+" "+-K+",0Z"},square:function(L){var H=Math.sqrt(L)/2;return"M"+-H+","+-H+"L"+H+","+-H+" "+H+","+H+" "+-H+","+H+"Z"},"triangle-down":function(L){var H=Math.sqrt(L/Tr),K=H*Tr/2;return"M0,"+K+"L"+H+","+-K+" "+-H+","+-K+"Z"},"triangle-up":function(L){var H=Math.sqrt(L/Tr),K=H*Tr/2;return"M0,"+-K+"L"+H+","+K+" "+-H+","+K+"Z"}});a.svg.symbolTypes=Ko.keys();var Tr=Math.sqrt(3),Cr=Math.tan(30*Ze);ve.transition=function(L){for(var H,K,ne=Ei||++fl,ce=pi(L),me=[],Le=eo||{time:Date.now(),ease:Za,delay:0,duration:250},Pe=-1,je=this.length;++Pe<je;){me.push(H=[]);for(var He=this[Pe],$e=-1,lt=He.length;++$e<lt;)(K=He[$e])&&pa(K,$e,ce,ne,Le),H.push(K)}return fo(me,ce,ne)},ve.interrupt=function(L){return this.each(null==L?ba:Qa(pi(L)))};var ba=Qa(pi());function Qa(L){return function(){var H,K,ne;(H=this[L])&&(ne=H[K=H.active])&&(ne.timer.c=null,ne.timer.t=NaN,--H.count?delete H[K]:delete this[L],H.active+=.5,ne.event&&ne.event.interrupt.call(this,this.__data__,ne.index))}}function fo(L,H,K){return Q(L,Qr),L.namespace=H,L.id=K,L}var Ei,eo,Qr=[],fl=0;function _a(L,H,K,ne){var ce=L.id,me=L.namespace;return Te(L,"function"==typeof K?function(Le,Pe,je){Le[me][ce].tween.set(H,ne(K.call(Le,Le.__data__,Pe,je)))}:(K=ne(K),function(Le){Le[me][ce].tween.set(H,K)}))}function ni(L){return null==L&&(L=""),function(){this.textContent=L}}function pi(L){return null==L?"__transition__":"__transition_"+L+"__"}function pa(L,H,K,ne,ce){var me,Le,Pe,je,He,$e=L[K]||(L[K]={active:0,count:0}),lt=$e[ne];function ft(Mt){var Tt=$e.active,Dt=$e[Tt];for(var Et in Dt&&(Dt.timer.c=null,Dt.timer.t=NaN,--$e.count,delete $e[Tt],Dt.event&&Dt.event.interrupt.call(L,L.__data__,Dt.index)),$e)if(+Et<ne){var Gt=$e[Et];Gt.timer.c=null,Gt.timer.t=NaN,--$e.count,delete $e[Et]}Le.c=xt,Jt(function(){return Le.c&&xt(Mt||1)&&(Le.c=null,Le.t=NaN),1},0,me),$e.active=ne,lt.event&&lt.event.start.call(L,L.__data__,H),He=[],lt.tween.forEach(function(Ut,Bt){(Bt=Bt.call(L,L.__data__,H))&&He.push(Bt)}),je=lt.ease,Pe=lt.duration}function xt(Mt){for(var Tt=Mt/Pe,Dt=je(Tt),Et=He.length;Et>0;)He[--Et].call(L,Dt);if(Tt>=1)return lt.event&&lt.event.end.call(L,L.__data__,H),--$e.count?delete $e[ne]:delete L[K],1}lt||(me=ce.time,Le=Jt(function(Mt){var Tt=lt.delay;if(Le.t=Tt+me,Tt<=Mt)return ft(Mt-Tt);Le.c=ft},0,me),lt=$e[ne]={tween:new v,time:me,timer:Le,delay:ce.delay,duration:ce.duration,ease:ce.ease,index:H},ce=null,++$e.count)}Qr.call=ve.call,Qr.empty=ve.empty,Qr.node=ve.node,Qr.size=ve.size,a.transition=function(L,H){return L&&L.transition?Ei?L.transition(H):L:a.selection().transition(L)},a.transition.prototype=Qr,Qr.select=function(L){var H,K,ne,ce=this.id,me=this.namespace,Le=[];L=be(L);for(var Pe=-1,je=this.length;++Pe<je;){Le.push(H=[]);for(var He=this[Pe],$e=-1,lt=He.length;++$e<lt;)(ne=He[$e])&&(K=L.call(ne,ne.__data__,$e,Pe))?("__data__"in ne&&(K.__data__=ne.__data__),pa(K,$e,me,ce,ne[me][ce]),H.push(K)):H.push(null)}return fo(Le,me,ce)},Qr.selectAll=function(L){var H,K,ne,ce,me,Le=this.id,Pe=this.namespace,je=[];L=de(L);for(var He=-1,$e=this.length;++He<$e;)for(var lt=this[He],ft=-1,xt=lt.length;++ft<xt;)if(ne=lt[ft]){me=ne[Pe][Le],K=L.call(ne,ne.__data__,ft,He),je.push(H=[]);for(var Mt=-1,Tt=K.length;++Mt<Tt;)(ce=K[Mt])&&pa(ce,Mt,Pe,Le,me),H.push(ce)}return fo(je,Pe,Le)},Qr.filter=function(L){var H,K,ne=[];"function"!=typeof L&&(L=fe(L));for(var ce=0,me=this.length;ce<me;ce++){ne.push(H=[]);for(var Le,Pe=0,je=(Le=this[ce]).length;Pe<je;Pe++)(K=Le[Pe])&&L.call(K,K.__data__,Pe,ce)&&H.push(K)}return fo(ne,this.namespace,this.id)},Qr.tween=function(L,H){var K=this.id,ne=this.namespace;return arguments.length<2?this.node()[ne][K].tween.get(L):Te(this,null==H?function(ce){ce[ne][K].tween.remove(L)}:function(ce){ce[ne][K].tween.set(L,H)})},Qr.attr=function(L,H){if(arguments.length<2){for(H in L)this.attr(H,L[H]);return this}var K="transform"==L?sl:no,ne=a.ns.qualify(L);function ce(){this.removeAttribute(ne)}function me(){this.removeAttributeNS(ne.space,ne.local)}return _a(this,"attr."+L,H,ne.local?function(Le){return null==Le?me:(Le+="",function(){var Pe,je=this.getAttributeNS(ne.space,ne.local);return je!==Le&&(Pe=K(je,Le),function(He){this.setAttributeNS(ne.space,ne.local,Pe(He))})})}:function(Le){return null==Le?ce:(Le+="",function(){var Pe,je=this.getAttribute(ne);return je!==Le&&(Pe=K(je,Le),function(He){this.setAttribute(ne,Pe(He))})})})},Qr.attrTween=function(L,H){var K=a.ns.qualify(L);return this.tween("attr."+L,K.local?function(ne,ce){var me=H.call(this,ne,ce,this.getAttributeNS(K.space,K.local));return me&&function(Le){this.setAttributeNS(K.space,K.local,me(Le))}}:function(ne,ce){var me=H.call(this,ne,ce,this.getAttribute(K));return me&&function(Le){this.setAttribute(K,me(Le))}})},Qr.style=function(L,H,K){var ne=arguments.length;if(ne<3){if("string"!=typeof L){for(K in ne<2&&(H=""),L)this.style(K,L[K],H);return this}K=""}function ce(){this.style.removeProperty(L)}return _a(this,"style."+L,H,function(me){return null==me?ce:(me+="",function(){var Le,Pe=t(this).getComputedStyle(this,null).getPropertyValue(L);return Pe!==me&&(Le=no(Pe,me),function(je){this.style.setProperty(L,Le(je),K)})})})},Qr.styleTween=function(L,H,K){return arguments.length<3&&(K=""),this.tween("style."+L,function(ne,ce){var me=H.call(this,ne,ce,t(this).getComputedStyle(this,null).getPropertyValue(L));return me&&function(Le){this.style.setProperty(L,me(Le),K)}})},Qr.text=function(L){return _a(this,"text",L,ni)},Qr.remove=function(){var L=this.namespace;return this.each("end.transition",function(){var H;this[L].count<2&&(H=this.parentNode)&&H.removeChild(this)})},Qr.ease=function(L){var H=this.id,K=this.namespace;return arguments.length<1?this.node()[K][H].ease:("function"!=typeof L&&(L=a.ease.apply(a,arguments)),Te(this,function(ne){ne[K][H].ease=L}))},Qr.delay=function(L){var H=this.id,K=this.namespace;return arguments.length<1?this.node()[K][H].delay:Te(this,"function"==typeof L?function(ne,ce,me){ne[K][H].delay=+L.call(ne,ne.__data__,ce,me)}:(L=+L,function(ne){ne[K][H].delay=L}))},Qr.duration=function(L){var H=this.id,K=this.namespace;return arguments.length<1?this.node()[K][H].duration:Te(this,"function"==typeof L?function(ne,ce,me){ne[K][H].duration=Math.max(1,L.call(ne,ne.__data__,ce,me))}:(L=Math.max(1,L),function(ne){ne[K][H].duration=L}))},Qr.each=function(L,H){var K=this.id,ne=this.namespace;if(arguments.length<2){var ce=eo,me=Ei;try{Ei=K,Te(this,function(Le,Pe,je){eo=Le[ne][K],L.call(Le,Le.__data__,Pe,je)})}finally{eo=ce,Ei=me}}else Te(this,function(Le){var Pe=Le[ne][K];(Pe.event||(Pe.event=a.dispatch("start","end","interrupt"))).on(L,H)});return this},Qr.transition=function(){for(var L,H,K,ne=this.id,ce=++fl,me=this.namespace,Le=[],Pe=0,je=this.length;Pe<je;Pe++){Le.push(L=[]);for(var He,$e=0,lt=(He=this[Pe]).length;$e<lt;$e++)(H=He[$e])&&pa(H,$e,me,ce,{time:(K=H[me][ne]).time,ease:K.ease,delay:K.delay+K.duration,duration:K.duration}),L.push(H)}return fo(Le,me,ce)},a.svg.axis=function(){var L,H=a.scale.linear(),K=Po,ne=6,ce=6,me=3,Le=[10],Pe=null;function je(He){He.each(function(){var $e,lt=a.select(this),ft=this.__chart__||H,xt=this.__chart__=H.copy(),Mt=Pe??(xt.ticks?xt.ticks.apply(xt,Le):xt.domain()),Tt=L??(xt.tickFormat?xt.tickFormat.apply(xt,Le):z),Dt=lt.selectAll(".tick").data(Mt,xt),Et=Dt.enter().insert("g",".domain").attr("class","tick").style("opacity",nt),Gt=a.transition(Dt.exit()).style("opacity",nt).remove(),Ut=a.transition(Dt.order()).style("opacity",1),Bt=Math.max(ne,0)+me,hn=_s(xt),pn=lt.selectAll(".domain").data([0]),En=(pn.enter().append("path").attr("class","domain"),a.transition(pn));Et.append("line"),Et.append("text");var Cn,Nn,Wn,sr,Hn=Et.select("line"),rr=Ut.select("line"),gr=Dt.select("text").text(Tt),kr=Et.select("text"),Yn=Ut.select("text"),nr="top"===K||"left"===K?-1:1;if("bottom"===K||"top"===K?($e=Ye,Cn="x",Wn="y",Nn="x2",sr="y2",gr.attr("dy",nr<0?"0em":".71em").style("text-anchor","middle"),En.attr("d","M"+hn[0]+","+nr*ce+"V0H"+hn[1]+"V"+nr*ce)):($e=Ke,Cn="y",Wn="x",Nn="y2",sr="x2",gr.attr("dy",".32em").style("text-anchor",nr<0?"end":"start"),En.attr("d","M"+nr*ce+","+hn[0]+"H0V"+hn[1]+"H"+nr*ce)),Hn.attr(sr,nr*ne),kr.attr(Wn,nr*Bt),rr.attr(Nn,0).attr(sr,nr*ne),Yn.attr(Cn,0).attr(Wn,nr*Bt),xt.rangeBand){var yr=xt,lr=yr.rangeBand()/2;ft=xt=function(_r){return yr(_r)+lr}}else ft.rangeBand?ft=xt:Gt.call($e,xt,ft);Et.call($e,ft,xt),Ut.call($e,xt,xt)})}return je.scale=function(He){return arguments.length?(H=He,je):H},je.orient=function(He){return arguments.length?(K=He in Qs?He+"":Po,je):K},je.ticks=function(){return arguments.length?(Le=b(arguments),je):Le},je.tickValues=function(He){return arguments.length?(Pe=He,je):Pe},je.tickFormat=function(He){return arguments.length?(L=He,je):L},je.tickSize=function(He){var $e=arguments.length;return $e?(ne=+He,ce=+arguments[$e-1],je):ne},je.innerTickSize=function(He){return arguments.length?(ne=+He,je):ne},je.outerTickSize=function(He){return arguments.length?(ce=+He,je):ce},je.tickPadding=function(He){return arguments.length?(me=+He,je):me},je.tickSubdivide=function(){return arguments.length&&je},je};var Po="bottom",Qs={top:1,right:1,bottom:1,left:1};function Ye(L,H,K){L.attr("transform",function(ne){var ce=H(ne);return"translate("+(isFinite(ce)?ce:K(ne))+",0)"})}function Ke(L,H,K){L.attr("transform",function(ne){var ce=H(ne);return"translate(0,"+(isFinite(ce)?ce:K(ne))+")"})}a.svg.brush=function(){var L,H,K=W($e,"brushstart","brush","brushend"),ne=null,ce=null,me=[0,0],Le=[0,0],Pe=!0,je=!0,He=B[0];function $e(Tt){Tt.each(function(){var Dt=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Mt).on("touchstart.brush",Mt),Et=Dt.selectAll(".background").data([0]);Et.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Dt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Gt=Dt.selectAll(".resize").data(He,z);Gt.exit().remove(),Gt.enter().append("g").attr("class",function(pn){return"resize "+pn}).style("cursor",function(pn){return it[pn]}).append("rect").attr("x",function(pn){return/[ew]$/.test(pn)?-3:null}).attr("y",function(pn){return/^[ns]/.test(pn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Gt.style("display",$e.empty()?"none":null);var Ut,Bt=a.transition(Dt),hn=a.transition(Et);ne&&(Ut=_s(ne),hn.attr("x",Ut[0]).attr("width",Ut[1]-Ut[0]),ft(Bt)),ce&&(Ut=_s(ce),hn.attr("y",Ut[0]).attr("height",Ut[1]-Ut[0]),xt(Bt)),lt(Bt)})}function lt(Tt){Tt.selectAll(".resize").attr("transform",function(Dt){return"translate("+me[+/e$/.test(Dt)]+","+Le[+/^s/.test(Dt)]+")"})}function ft(Tt){Tt.select(".extent").attr("x",me[0]),Tt.selectAll(".extent,.n>rect,.s>rect").attr("width",me[1]-me[0])}function xt(Tt){Tt.select(".extent").attr("y",Le[0]),Tt.selectAll(".extent,.e>rect,.w>rect").attr("height",Le[1]-Le[0])}function Mt(){var Tt,Dt,Et=this,Gt=a.select(a.event.target),Ut=K.of(Et,arguments),Bt=a.select(Et),hn=Gt.datum(),pn=!/^(n|s)$/.test(hn)&&ne,En=!/^(e|w)$/.test(hn)&&ce,Cn=Gt.classed("extent"),Nn=ht(Et),Wn=a.mouse(Et),sr=a.select(t(Et)).on("keydown.brush",function(){32==a.event.keyCode&&(Cn||(Tt=null,Wn[0]-=me[1],Wn[1]-=Le[1],Cn=2),$())}).on("keyup.brush",function(){32==a.event.keyCode&&2==Cn&&(Wn[0]+=me[1],Wn[1]+=Le[1],Cn=0,$())});if(a.event.changedTouches?sr.on("touchmove.brush",gr).on("touchend.brush",Yn):sr.on("mousemove.brush",gr).on("mouseup.brush",Yn),Bt.interrupt().selectAll("*").interrupt(),Cn)Wn[0]=me[0]-Wn[0],Wn[1]=Le[0]-Wn[1];else if(hn){var Hn=+/w$/.test(hn),rr=+/^n/.test(hn);Dt=[me[1-Hn]-Wn[0],Le[1-rr]-Wn[1]],Wn[0]=me[Hn],Wn[1]=Le[rr]}else a.event.altKey&&(Tt=Wn.slice());function gr(){var nr=a.mouse(Et),yr=!1;Dt&&(nr[0]+=Dt[0],nr[1]+=Dt[1]),Cn||(a.event.altKey?(Tt||(Tt=[(me[0]+me[1])/2,(Le[0]+Le[1])/2]),Wn[0]=me[+(nr[0]<Tt[0])],Wn[1]=Le[+(nr[1]<Tt[1])]):Tt=null),pn&&kr(nr,ne,0)&&(ft(Bt),yr=!0),En&&kr(nr,ce,1)&&(xt(Bt),yr=!0),yr&&(lt(Bt),Ut({type:"brush",mode:Cn?"move":"resize"}))}function kr(nr,yr,lr){var _r,Er,Dr=_s(yr),Rr=Dr[0],Nr=Dr[1],Vr=Wn[lr],ui=lr?Le:me,ki=ui[1]-ui[0];if(Cn&&(Rr-=Vr,Nr-=ki+Vr),_r=(lr?je:Pe)?Math.max(Rr,Math.min(Nr,nr[lr])):nr[lr],Cn?Er=(_r+=Vr)+ki:(Tt&&(Vr=Math.max(Rr,Math.min(Nr,2*Tt[lr]-_r))),Vr<_r?(Er=_r,_r=Vr):Er=Vr),ui[0]!=_r||ui[1]!=Er)return lr?H=null:L=null,ui[0]=_r,ui[1]=Er,!0}function Yn(){gr(),Bt.style("pointer-events","all").selectAll(".resize").style("display",$e.empty()?"none":null),a.select("body").style("cursor",null),sr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Nn(),Ut({type:"brushend"})}Bt.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Gt.style("cursor")),Ut({type:"brushstart"}),gr()}return $e.event=function(Tt){Tt.each(function(){var Dt=K.of(this,arguments),Et={x:me,y:Le,i:L,j:H},Gt=this.__chart__||Et;this.__chart__=Et,Ei?a.select(this).transition().each("start.brush",function(){L=Gt.i,H=Gt.j,me=Gt.x,Le=Gt.y,Dt({type:"brushstart"})}).tween("brush:brush",function(){var Ut=mo(me,Et.x),Bt=mo(Le,Et.y);return L=H=null,function(hn){me=Et.x=Ut(hn),Le=Et.y=Bt(hn),Dt({type:"brush",mode:"resize"})}}).each("end.brush",function(){L=Et.i,H=Et.j,Dt({type:"brush",mode:"resize"}),Dt({type:"brushend"})}):(Dt({type:"brushstart"}),Dt({type:"brush",mode:"resize"}),Dt({type:"brushend"}))})},$e.x=function(Tt){return arguments.length?(He=B[!(ne=Tt)<<1|!ce],$e):ne},$e.y=function(Tt){return arguments.length?(He=B[!ne<<1|!(ce=Tt)],$e):ce},$e.clamp=function(Tt){return arguments.length?(ne&&ce?(Pe=!!Tt[0],je=!!Tt[1]):ne?Pe=!!Tt:ce&&(je=!!Tt),$e):ne&&ce?[Pe,je]:ne?Pe:ce?je:null},$e.extent=function(Tt){var Dt,Et,Gt,Ut,Bt;return arguments.length?(ne&&(Dt=Tt[0],Et=Tt[1],ce&&(Dt=Dt[0],Et=Et[0]),L=[Dt,Et],ne.invert&&(Dt=ne(Dt),Et=ne(Et)),Et<Dt&&(Bt=Dt,Dt=Et,Et=Bt),Dt==me[0]&&Et==me[1]||(me=[Dt,Et])),ce&&(Gt=Tt[0],Ut=Tt[1],ne&&(Gt=Gt[1],Ut=Ut[1]),H=[Gt,Ut],ce.invert&&(Gt=ce(Gt),Ut=ce(Ut)),Ut<Gt&&(Bt=Gt,Gt=Ut,Ut=Bt),Gt==Le[0]&&Ut==Le[1]||(Le=[Gt,Ut])),$e):(ne&&(L?(Dt=L[0],Et=L[1]):(Dt=me[0],Et=me[1],ne.invert&&(Dt=ne.invert(Dt),Et=ne.invert(Et)),Et<Dt&&(Bt=Dt,Dt=Et,Et=Bt))),ce&&(H?(Gt=H[0],Ut=H[1]):(Gt=Le[0],Ut=Le[1],ce.invert&&(Gt=ce.invert(Gt),Ut=ce.invert(Ut)),Ut<Gt&&(Bt=Gt,Gt=Ut,Ut=Bt))),ne&&ce?[[Dt,Gt],[Et,Ut]]:ne?[Dt,Et]:ce&&[Gt,Ut])},$e.clear=function(){return $e.empty()||(me=[0,0],Le=[0,0],L=H=null),$e},$e.empty=function(){return!!ne&&me[0]==me[1]||!!ce&&Le[0]==Le[1]},a.rebind($e,K,"on")};var it={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},B=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function G(L){return JSON.parse(L.responseText)}function q(L){var H=p.createRange();return H.selectNode(p.body),H.createContextualFragment(L.responseText)}a.text=Bn(function(L){return L.responseText}),a.json=function(L,H){return er(L,"application/json",G,H)},a.html=function(L,H){return er(L,"text/html",q,H)},a.xml=Bn(function(L){return L.responseXML}),void 0===(k="function"==typeof(M=a)?M.call(D,e,D,ee):M)||(ee.exports=k)}).apply(self)},97433:function(ee){ee.exports=function(){"use strict";var D,e,M;function k(a,T){if(D)if(e){var b="var sharedChunk = {}; ("+D+")(sharedChunk); ("+e+")(sharedChunk);",p={};D(p),M=T(p),typeof window<"u"&&(M.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"})))}else e=T;else D=T}return k(0,function(a){function T(A,I){return A(I={exports:{}},I.exports),I.exports}var b="1.13.4",p=s;function s(A,I,Z,le){this.cx=3*A,this.bx=3*(Z-A)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(le-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=A,this.p1y=le,this.p2x=Z,this.p2y=le}s.prototype.sampleCurveX=function(A){return((this.ax*A+this.bx)*A+this.cx)*A},s.prototype.sampleCurveY=function(A){return((this.ay*A+this.by)*A+this.cy)*A},s.prototype.sampleCurveDerivativeX=function(A){return(3*this.ax*A+2*this.bx)*A+this.cx},s.prototype.solveCurveX=function(A,I){var Z,le,ke,Oe,Be;for(void 0===I&&(I=1e-6),ke=A,Be=0;Be<8;Be++){if(Oe=this.sampleCurveX(ke)-A,Math.abs(Oe)<I)return ke;var Je=this.sampleCurveDerivativeX(ke);if(Math.abs(Je)<1e-6)break;ke-=Oe/Je}if((ke=A)<(Z=0))return Z;if(ke>(le=1))return le;for(;Z<le;){if(Oe=this.sampleCurveX(ke),Math.abs(Oe-A)<I)return ke;A>Oe?Z=ke:le=ke,ke=.5*(le-Z)+Z}return ke},s.prototype.solve=function(A,I){return this.sampleCurveY(this.solveCurveX(A,I))};var t=i;function i(A,I){this.x=A,this.y=I}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(A){return this.clone()._add(A)},sub:function(A){return this.clone()._sub(A)},multByPoint:function(A){return this.clone()._multByPoint(A)},divByPoint:function(A){return this.clone()._divByPoint(A)},mult:function(A){return this.clone()._mult(A)},div:function(A){return this.clone()._div(A)},rotate:function(A){return this.clone()._rotate(A)},rotateAround:function(A,I){return this.clone()._rotateAround(A,I)},matMult:function(A){return this.clone()._matMult(A)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(A){return this.x===A.x&&this.y===A.y},dist:function(A){return Math.sqrt(this.distSqr(A))},distSqr:function(A){var I=A.x-this.x,Z=A.y-this.y;return I*I+Z*Z},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(A){return Math.atan2(this.y-A.y,this.x-A.x)},angleWith:function(A){return this.angleWithSep(A.x,A.y)},angleWithSep:function(A,I){return Math.atan2(this.x*I-this.y*A,this.x*A+this.y*I)},_matMult:function(A){var I=A[0]*this.x+A[1]*this.y,Z=A[2]*this.x+A[3]*this.y;return this.x=I,this.y=Z,this},_add:function(A){return this.x+=A.x,this.y+=A.y,this},_sub:function(A){return this.x-=A.x,this.y-=A.y,this},_mult:function(A){return this.x*=A,this.y*=A,this},_div:function(A){return this.x/=A,this.y/=A,this},_multByPoint:function(A){return this.x*=A.x,this.y*=A.y,this},_divByPoint:function(A){return this.x/=A.x,this.y/=A.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var A=this.y;return this.y=this.x,this.x=-A,this},_rotate:function(A){var I=Math.cos(A),Z=Math.sin(A),le=I*this.x-Z*this.y,ke=Z*this.x+I*this.y;return this.x=le,this.y=ke,this},_rotateAround:function(A,I){var Z=Math.cos(A),le=Math.sin(A),ke=I.x+Z*(this.x-I.x)-le*(this.y-I.y),Oe=I.y+le*(this.x-I.x)+Z*(this.y-I.y);return this.x=ke,this.y=Oe,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(A){return A instanceof i?A:Array.isArray(A)?new i(A[0],A[1]):A};var n=typeof self<"u"?self:{},r=Math.pow(2,53)-1;function o(A,I,Z,le){var ke=new p(A,I,Z,le);return function(Oe){return ke.solve(Oe)}}var l=o(.25,.1,.25,1);function u(A,I,Z){return Math.min(Z,Math.max(I,A))}function d(A,I,Z){var le=Z-I,ke=((A-I)%le+le)%le+I;return ke===I?Z:ke}function c(A){for(var I=[],Z=arguments.length-1;Z-- >0;)I[Z]=arguments[Z+1];for(var le=0,ke=I;le<ke.length;le+=1){var Oe=ke[le];for(var Be in Oe)A[Be]=Oe[Be]}return A}var x=1;function g(){return x++}function h(){return function A(I){return I?(I^16*Math.random()>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,A)}()}function m(A){return!!A&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(A)}function y(A,I){A.forEach(function(Z){I[Z]&&(I[Z]=I[Z].bind(I))})}function v(A,I){return-1!==A.indexOf(I,A.length-I.length)}function _(A,I,Z){var le={};for(var ke in A)le[ke]=I.call(Z||this,A[ke],ke,A);return le}function f(A,I,Z){var le={};for(var ke in A)I.call(Z||this,A[ke],ke,A)&&(le[ke]=A[ke]);return le}function S(A){return Array.isArray(A)?A.map(S):"object"==typeof A&&A?_(A,S):A}var w={};function E(A){w[A]||(typeof console<"u"&&console.warn(A),w[A]=!0)}function C(A,I,Z){return(Z.y-A.y)*(I.x-A.x)>(I.y-A.y)*(Z.x-A.x)}function O(A){for(var I=0,Z=0,le=A.length,ke=le-1,Oe=void 0,Be=void 0;Z<le;ke=Z++)Oe=A[Z],I+=((Be=A[ke]).x-Oe.x)*(Oe.y+Be.y);return I}function P(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function R(A){var I={};if(A.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(le,ke,Oe,Be){var Je=Oe||Be;return I[ke]=!Je||Je.toLowerCase(),""}),I["max-age"]){var Z=parseInt(I["max-age"],10);isNaN(Z)?delete I["max-age"]:I["max-age"]=Z}return I}var j=null;function z(A){if(null==j){var I=A.navigator?A.navigator.userAgent:null;j=!!A.safari||!(!I||!(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return j}function N(A){try{var I=n[A];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch{return!1}}var Y,F,U,V,te=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now.bind(Date),$=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame,X=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.msCancelAnimationFrame,W={now:te,frame:function(A){var I=$(A);return{cancel:function(){return X(I)}}},getImageData:function(A,I){void 0===I&&(I=0);var Z=n.document.createElement("canvas"),le=Z.getContext("2d");if(!le)throw new Error("failed to create canvas 2d context");return Z.width=A.width,Z.height=A.height,le.drawImage(A,0,0,A.width,A.height),le.getImageData(-I,-I,A.width+2*I,A.height+2*I)},resolveURL:function(A){return Y||(Y=n.document.createElement("a")),Y.href=A,Y.href},hardwareConcurrency:n.navigator&&n.navigator.hardwareConcurrency||4,get devicePixelRatio(){return n.devicePixelRatio},get prefersReducedMotion(){return!!n.matchMedia&&(null==F&&(F=n.matchMedia("(prefers-reduced-motion: reduce)")),F.matches)}},J={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Q={supported:!1,testSupport:function(A){!re&&V&&(ae?oe(A):U=A)}},re=!1,ae=!1;function oe(A){var I=A.createTexture();A.bindTexture(A.TEXTURE_2D,I);try{if(A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,V),A.isContextLost())return;Q.supported=!0}catch{}A.deleteTexture(I),re=!0}n.document&&((V=n.document.createElement("img")).onload=function(){U&&oe(U),U=null,ae=!0},V.onerror=function(){re=!0,U=null},V.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var ue="01",ve=function(A,I){this._transformRequestFn=A,this._customAccessToken=I,this._createSkuToken()};function be(A){return 0===A.indexOf("mapbox:")}ve.prototype._createSkuToken=function(){var A=function(){for(var I="",Z=0;Z<10;Z++)I+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ue,I].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=A.token,this._skuTokenExpiresAt=A.tokenExpiresAt},ve.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},ve.prototype.transformRequest=function(A,I){return this._transformRequestFn&&this._transformRequestFn(A,I)||{url:A}},ve.prototype.normalizeStyleURL=function(A,I){if(!be(A))return A;var Z=Ae(A);return Z.path="/styles/v1"+Z.path,this._makeAPIURL(Z,this._customAccessToken||I)},ve.prototype.normalizeGlyphsURL=function(A,I){if(!be(A))return A;var Z=Ae(A);return Z.path="/fonts/v1"+Z.path,this._makeAPIURL(Z,this._customAccessToken||I)},ve.prototype.normalizeSourceURL=function(A,I){if(!be(A))return A;var Z=Ae(A);return Z.path="/v4/"+Z.authority+".json",Z.params.push("secure"),this._makeAPIURL(Z,this._customAccessToken||I)},ve.prototype.normalizeSpriteURL=function(A,I,Z,le){var ke=Ae(A);return be(A)?(ke.path="/styles/v1"+ke.path+"/sprite"+I+Z,this._makeAPIURL(ke,this._customAccessToken||le)):(ke.path+=""+I+Z,ye(ke))},ve.prototype.normalizeTileURL=function(A,I){if(this._isSkuTokenExpired()&&this._createSkuToken(),A&&!be(A))return A;var Z=Ae(A),le=W.devicePixelRatio>=2||512===I?"@2x":"",ke=Q.supported?".webp":"$1";Z.path=Z.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+le+ke),Z.path=Z.path.replace(/^.+\/v4\//,"/"),Z.path="/v4"+Z.path;var Oe=this._customAccessToken||function(Be){for(var Je=0,ot=Be;Je<ot.length;Je+=1){var mt=ot[Je].match(/^access_token=(.*)$/);if(mt)return mt[1]}return null}(Z.params)||J.ACCESS_TOKEN;return J.REQUIRE_ACCESS_TOKEN&&Oe&&this._skuToken&&Z.params.push("sku="+this._skuToken),this._makeAPIURL(Z,Oe)},ve.prototype.canonicalizeTileURL=function(A,I){var Z=Ae(A);if(!Z.path.match(/(^\/v4\/)/)||!Z.path.match(/\.[\w]+$/))return A;var le="mapbox://tiles/";le+=Z.path.replace("/v4/","");var ke=Z.params;return I&&(ke=ke.filter(function(Oe){return!Oe.match(/^access_token=/)})),ke.length&&(le+="?"+ke.join("&")),le},ve.prototype.canonicalizeTileset=function(A,I){for(var Z=!!I&&be(I),le=[],ke=0,Oe=A.tiles||[];ke<Oe.length;ke+=1){var Be=Oe[ke];pe(Be)?le.push(this.canonicalizeTileURL(Be,Z)):le.push(Be)}return le},ve.prototype._makeAPIURL=function(A,I){var Z="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",le=Ae(J.API_URL);if(A.protocol=le.protocol,A.authority=le.authority,"http"===A.protocol){var ke=A.params.indexOf("secure");ke>=0&&A.params.splice(ke,1)}if("/"!==le.path&&(A.path=""+le.path+A.path),!J.REQUIRE_ACCESS_TOKEN)return ye(A);if(!(I=I||J.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+Z);if("s"===I[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+Z);return A.params=A.params.filter(function(Oe){return-1===Oe.indexOf("access_token")}),A.params.push("access_token="+I),ye(A)};var de=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function pe(A){return de.test(A)}var ge=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ae(A){var I=A.match(ge);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function ye(A){var I=A.params.length?"?"+A.params.join("&"):"";return A.protocol+"://"+A.authority+A.path+I}var we="mapbox.eventData";function se(A){if(!A)return null;var I,Z=A.split(".");if(!Z||3!==Z.length)return null;try{return JSON.parse((I=Z[1],decodeURIComponent(n.atob(I).split("").map(function(le){return"%"+("00"+le.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var ie=function(A){this.type=A,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ie.prototype.getStorageKey=function(A){var I,Z,le=se(J.ACCESS_TOKEN);return I=le&&le.u?(Z=le.u,n.btoa(encodeURIComponent(Z).replace(/%([0-9A-F]{2})/g,function(ke,Oe){return String.fromCharCode(Number("0x"+Oe))}))):J.ACCESS_TOKEN||"",A?we+"."+A+":"+I:we+":"+I},ie.prototype.fetchEventData=function(){var A=N("localStorage"),I=this.getStorageKey(),Z=this.getStorageKey("uuid");if(A)try{var le=n.localStorage.getItem(I);le&&(this.eventData=JSON.parse(le));var ke=n.localStorage.getItem(Z);ke&&(this.anonId=ke)}catch{E("Unable to read from LocalStorage")}},ie.prototype.saveEventData=function(){var A=N("localStorage"),I=this.getStorageKey(),Z=this.getStorageKey("uuid");if(A)try{n.localStorage.setItem(Z,this.anonId),Object.keys(this.eventData).length>=1&&n.localStorage.setItem(I,JSON.stringify(this.eventData))}catch{E("Unable to write to LocalStorage")}},ie.prototype.processRequests=function(A){},ie.prototype.postEvent=function(A,I,Z,le){var ke=this;if(J.EVENTS_URL){var Oe=Ae(J.EVENTS_URL);Oe.params.push("access_token="+(le||J.ACCESS_TOKEN||""));var Be={event:this.type,created:new Date(A).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:b,skuId:ue,userId:this.anonId},Je=I?c(Be,I):Be,ot={url:ye(Oe),headers:{"Content-Type":"text/plain"},body:JSON.stringify([Je])};this.pendingRequest=St(ot,function(mt){ke.pendingRequest=null,Z(mt),ke.saveEventData(),ke.processRequests(le)})}},ie.prototype.queueRequest=function(A,I){this.queue.push(A),this.processRequests(I)};var he,Se,_e=function(A){function I(){A.call(this,"map.load"),this.success={},this.skuToken=""}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.postMapLoadEvent=function(Z,le,ke,Oe){this.skuToken=ke,(J.EVENTS_URL&&Oe||J.ACCESS_TOKEN&&Array.isArray(Z)&&Z.some(function(Be){return be(Be)||pe(Be)}))&&this.queueRequest({id:le,timestamp:Date.now()},Oe)},I.prototype.processRequests=function(Z){var le=this;if(!this.pendingRequest&&0!==this.queue.length){var ke=this.queue.shift(),Oe=ke.id,Be=ke.timestamp;Oe&&this.success[Oe]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=h()),this.postEvent(Be,{skuToken:this.skuToken},function(Je){Je||Oe&&(le.success[Oe]=!0)},Z))}},I}(ie),Me=function(A){function I(Z){A.call(this,"appUserTurnstile"),this._customAccessToken=Z}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.postTurnstileEvent=function(Z,le){J.EVENTS_URL&&J.ACCESS_TOKEN&&Array.isArray(Z)&&Z.some(function(ke){return be(ke)||pe(ke)})&&this.queueRequest(Date.now(),le)},I.prototype.processRequests=function(Z){var le=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var ke=se(J.ACCESS_TOKEN),Oe=ke?ke.u:J.ACCESS_TOKEN,Be=Oe!==this.eventData.tokenU;m(this.anonId)||(this.anonId=h(),Be=!0);var Je=this.queue.shift();if(this.eventData.lastSuccess){var ot=new Date(this.eventData.lastSuccess),mt=new Date(Je),_t=(Je-this.eventData.lastSuccess)/864e5;Be=Be||_t>=1||_t<-1||ot.getDate()!==mt.getDate()}else Be=!0;if(!Be)return this.processRequests();this.postEvent(Je,{"enabled.telemetry":!1},function(zt){zt||(le.eventData.lastSuccess=Je,le.eventData.tokenU=Oe)},Z)}},I}(ie),Ee=new Me,Ie=Ee.postTurnstileEvent.bind(Ee),fe=new _e,xe=fe.postMapLoadEvent.bind(fe),Te="mapbox-tiles",Ce=500,De=50,ze=42e4;function Ue(){n.caches&&!he&&(he=n.caches.open(Te))}function Ve(A,I,Z){if(Ue(),he){var le={status:I.status,statusText:I.statusText,headers:new n.Headers};I.headers.forEach(function(Oe,Be){return le.headers.set(Be,Oe)});var ke=R(I.headers.get("Cache-Control")||"");ke["no-store"]||(ke["max-age"]&&le.headers.set("Expires",new Date(Z+1e3*ke["max-age"]).toUTCString()),new Date(le.headers.get("Expires")).getTime()-Z<ze||function(Oe,Be){if(void 0===Se)try{new Response(new ReadableStream),Se=!0}catch{Se=!1}Se?Be(Oe.body):Oe.blob().then(Be)}(I,function(Oe){var Be=new n.Response(Oe,le);Ue(),he&&he.then(function(Je){return Je.put(Xe(A.url),Be)}).catch(function(Je){return E(Je.message)})}))}}function Xe(A){var I=A.indexOf("?");return I<0?A:A.slice(0,I)}function at(A,I){if(Ue(),!he)return I(null);var Z=Xe(A.url);he.then(function(le){le.match(Z).then(function(ke){var Oe=function(Be){if(!Be)return!1;var Je=new Date(Be.headers.get("Expires")||0),ot=R(Be.headers.get("Cache-Control")||"");return Je>Date.now()&&!ot["no-cache"]}(ke);le.delete(Z),Oe&&le.put(Z,ke.clone()),I(null,ke,Oe)}).catch(I)}).catch(I)}var st,ht=1/0;function bt(){return null==st&&(st=n.OffscreenCanvas&&new n.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof n.createImageBitmap),st}var vt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(vt);var Qe=function(A){function I(Z,le,ke){401===le&&pe(ke)&&(Z+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),A.call(this,Z),this.status=le,this.url=ke,this.name=this.constructor.name,this.message=Z}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),nt=P()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===n.location.protocol?n.parent:n).location.href};function wt(A,I){var Z,le=new n.AbortController,ke=new n.Request(A.url,{method:A.method||"GET",body:A.body,credentials:A.credentials,headers:A.headers,referrer:nt(),signal:le.signal}),Oe=!1,Be=!1,Je=(Z=ke.url).indexOf("sku=")>0&&pe(Z);"json"===A.type&&ke.headers.set("Accept","application/json");var ot=function(_t,zt,jt){if(!Be){if(_t&&"SecurityError"!==_t.message&&E(_t),zt&&jt)return mt(zt);var Rt=Date.now();n.fetch(ke).then(function(tn){if(tn.ok){var rn=Je?tn.clone():null;return mt(tn,rn,Rt)}return I(new Qe(tn.statusText,tn.status,A.url))}).catch(function(tn){20!==tn.code&&I(new Error(tn.message))})}},mt=function(_t,zt,jt){("arrayBuffer"===A.type?_t.arrayBuffer():"json"===A.type?_t.json():_t.text()).then(function(Rt){Be||(zt&&jt&&Ve(ke,zt,jt),Oe=!0,I(null,Rt,_t.headers.get("Cache-Control"),_t.headers.get("Expires")))}).catch(function(Rt){Be||I(new Error(Rt.message))})};return Je?at(ke,ot):ot(null,null),{cancel:function(){Be=!0,Oe||le.abort()}}}var qe,Ze,Ot=function(A,I){if(Z=A.url,!(/^file:/.test(Z)||/^file:/.test(nt())&&!/^\w+:/.test(Z))){if(n.fetch&&n.Request&&n.AbortController&&n.Request.prototype.hasOwnProperty("signal"))return wt(A,I);if(P()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",A,I,void 0,!0)}var Z;return function(le,ke){var Oe=new n.XMLHttpRequest;for(var Be in Oe.open(le.method||"GET",le.url,!0),"arrayBuffer"===le.type&&(Oe.responseType="arraybuffer"),le.headers)Oe.setRequestHeader(Be,le.headers[Be]);return"json"===le.type&&(Oe.responseType="text",Oe.setRequestHeader("Accept","application/json")),Oe.withCredentials="include"===le.credentials,Oe.onerror=function(){ke(new Error(Oe.statusText))},Oe.onload=function(){if((Oe.status>=200&&Oe.status<300||0===Oe.status)&&null!==Oe.response){var Je=Oe.response;if("json"===le.type)try{Je=JSON.parse(Oe.response)}catch(ot){return ke(ot)}ke(null,Je,Oe.getResponseHeader("Cache-Control"),Oe.getResponseHeader("Expires"))}else ke(new Qe(Oe.statusText,Oe.status,le.url))},Oe.send(le.body),{cancel:function(){return Oe.abort()}}}(A,I)},Pt=function(A,I){return Ot(c(A,{type:"arrayBuffer"}),I)},St=function(A,I){return Ot(c(A,{method:"POST"}),I)},Ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";qe=[],Ze=0;var Ge=function(A,I){if(Q.supported&&(A.headers||(A.headers={}),A.headers.accept="image/webp,*/*"),Ze>=J.MAX_PARALLEL_IMAGE_REQUESTS){var Z={requestParameters:A,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return qe.push(Z),Z}Ze++;var le=!1,ke=function(){if(!le)for(le=!0,Ze--;qe.length&&Ze<J.MAX_PARALLEL_IMAGE_REQUESTS;){var Be=qe.shift(),Je=Be.requestParameters,ot=Be.callback;Be.cancelled||(Be.cancel=Ge(Je,ot).cancel)}},Oe=Pt(A,function(Be,Je,ot,mt){var _t,zt,jt;ke(),Be?I(Be):Je&&(bt()?(_t=Je,zt=I,jt=new n.Blob([new Uint8Array(_t)],{type:"image/png"}),n.createImageBitmap(jt).then(function(Rt){zt(null,Rt)}).catch(function(Rt){zt(new Error("Could not load image because of "+Rt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(_t,zt,jt,Rt){var tn=new n.Image,rn=n.URL;tn.onload=function(){zt(null,tn),rn.revokeObjectURL(tn.src),tn.onload=null,n.requestAnimationFrame(function(){tn.src=Ne})},tn.onerror=function(){return zt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Tn=new n.Blob([new Uint8Array(_t)],{type:"image/png"});tn.cacheControl=jt,tn.expires=Rt,tn.src=_t.byteLength?rn.createObjectURL(Tn):Ne}(Je,I,ot,mt))});return{cancel:function(){Oe.cancel(),ke()}}};function rt(A,I,Z){Z[A]&&-1!==Z[A].indexOf(I)||(Z[A]=Z[A]||[],Z[A].push(I))}function tt(A,I,Z){if(Z&&Z[A]){var le=Z[A].indexOf(I);-1!==le&&Z[A].splice(le,1)}}var Re=function(A,I){void 0===I&&(I={}),c(this,I),this.type=A},Fe=function(A){function I(Z,le){void 0===le&&(le={}),A.call(this,"error",c({error:Z},le))}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I}(Re),et=function(){};et.prototype.on=function(A,I){return this._listeners=this._listeners||{},rt(A,I,this._listeners),this},et.prototype.off=function(A,I){return tt(A,I,this._listeners),tt(A,I,this._oneTimeListeners),this},et.prototype.once=function(A,I){return this._oneTimeListeners=this._oneTimeListeners||{},rt(A,I,this._oneTimeListeners),this},et.prototype.fire=function(A,I){"string"==typeof A&&(A=new Re(A,I||{}));var Z=A.type;if(this.listens(Z)){A.target=this;for(var le=0,ke=this._listeners&&this._listeners[Z]?this._listeners[Z].slice():[];le<ke.length;le+=1)ke[le].call(this,A);for(var Oe=0,Be=this._oneTimeListeners&&this._oneTimeListeners[Z]?this._oneTimeListeners[Z].slice():[];Oe<Be.length;Oe+=1){var Je=Be[Oe];tt(Z,Je,this._oneTimeListeners),Je.call(this,A)}var ot=this._eventedParent;ot&&(c(A,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),ot.fire(A))}else A instanceof Fe&&console.error(A.error);return this},et.prototype.listens=function(A){return this._listeners&&this._listeners[A]&&this._listeners[A].length>0||this._oneTimeListeners&&this._oneTimeListeners[A]&&this._oneTimeListeners[A].length>0||this._eventedParent&&this._eventedParent.listens(A)},et.prototype.setEventedParent=function(A,I){return this._eventedParent=A,this._eventedParentData=I,this};var We={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},ct=function(A,I,Z,le){this.message=(A?A+": ":"")+Z,le&&(this.identifier=le),null!=I&&I.__line__&&(this.line=I.__line__)};function pt(A){var I=A.key,Z=A.value;return Z?[new ct(I,Z,"constants have been deprecated as of v8")]:[]}function dt(A){for(var I=[],Z=arguments.length-1;Z-- >0;)I[Z]=arguments[Z+1];for(var le=0,ke=I;le<ke.length;le+=1){var Oe=ke[le];for(var Be in Oe)A[Be]=Oe[Be]}return A}function ut(A){return A instanceof Number||A instanceof String||A instanceof Boolean?A.valueOf():A}function kt(A){if(Array.isArray(A))return A.map(kt);if(A instanceof Object&&!(A instanceof Number||A instanceof String||A instanceof Boolean)){var I={};for(var Z in A)I[Z]=kt(A[Z]);return I}return ut(A)}var yt=function(A){function I(Z,le){A.call(this,le),this.message=le,this.key=Z}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I}(Error),gt=function(A,I){void 0===I&&(I=[]),this.parent=A,this.bindings={};for(var Z=0,le=I;Z<le.length;Z+=1){var ke=le[Z],Oe=ke[0],Be=ke[1];this.bindings[Oe]=Be}};gt.prototype.concat=function(A){return new gt(this,A)},gt.prototype.get=function(A){if(this.bindings[A])return this.bindings[A];if(this.parent)return this.parent.get(A);throw new Error(A+" not found in scope.")},gt.prototype.has=function(A){return!!this.bindings[A]||!!this.parent&&this.parent.has(A)};var At={kind:"null"},Lt={kind:"number"},It={kind:"string"},qt={kind:"boolean"},Qt={kind:"color"},Vt={kind:"object"},Ft={kind:"value"},en={kind:"collator"},wn={kind:"formatted"},kn={kind:"resolvedImage"};function on(A,I){return{kind:"array",itemType:A,N:I}}function Ht(A){if("array"===A.kind){var I=Ht(A.itemType);return"number"==typeof A.N?"array<"+I+", "+A.N+">":"value"===A.itemType.kind?"array":"array<"+I+">"}return A.kind}var nn=[At,Lt,It,qt,Qt,wn,Vt,on(Ft),kn];function Kt(A,I){if("error"===I.kind)return null;if("array"===A.kind){if("array"===I.kind&&(0===I.N&&"value"===I.itemType.kind||!Kt(A.itemType,I.itemType))&&("number"!=typeof A.N||A.N===I.N))return null}else{if(A.kind===I.kind)return null;if("value"===A.kind)for(var Z=0,le=nn;Z<le.length;Z+=1)if(!Kt(le[Z],I))return null}return"Expected "+Ht(A)+" but found "+Ht(I)+" instead."}function an(A,I){return I.some(function(Z){return Z.kind===A.kind})}function xn(A,I){return I.some(function(Z){return"null"===Z?null===A:"array"===Z?Array.isArray(A):"object"===Z?A&&!Array.isArray(A)&&"object"==typeof A:Z===typeof A})}var mn=T(function(A,I){var Z={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function le(ot){return(ot=Math.round(ot))<0?0:ot>255?255:ot}function ke(ot){return ot<0?0:ot>1?1:ot}function Oe(ot){return"%"===ot[ot.length-1]?le(parseFloat(ot)/100*255):le(parseInt(ot))}function Be(ot){return"%"===ot[ot.length-1]?ke(parseFloat(ot)/100):ke(parseFloat(ot))}function Je(ot,mt,_t){return _t<0?_t+=1:_t>1&&(_t-=1),6*_t<1?ot+(mt-ot)*_t*6:2*_t<1?mt:3*_t<2?ot+(mt-ot)*(2/3-_t)*6:ot}try{I.parseCSSColor=function(ot){var mt,_t=ot.replace(/ /g,"").toLowerCase();if(_t in Z)return Z[_t].slice();if("#"===_t[0])return 4===_t.length?(mt=parseInt(_t.substr(1),16))>=0&&mt<=4095?[(3840&mt)>>4|(3840&mt)>>8,240&mt|(240&mt)>>4,15&mt|(15&mt)<<4,1]:null:7===_t.length&&(mt=parseInt(_t.substr(1),16))>=0&&mt<=16777215?[(16711680&mt)>>16,(65280&mt)>>8,255&mt,1]:null;var zt=_t.indexOf("("),jt=_t.indexOf(")");if(-1!==zt&&jt+1===_t.length){var Rt=_t.substr(0,zt),tn=_t.substr(zt+1,jt-(zt+1)).split(","),rn=1;switch(Rt){case"rgba":if(4!==tn.length)return null;rn=Be(tn.pop());case"rgb":return 3!==tn.length?null:[Oe(tn[0]),Oe(tn[1]),Oe(tn[2]),rn];case"hsla":if(4!==tn.length)return null;rn=Be(tn.pop());case"hsl":if(3!==tn.length)return null;var Tn=(parseFloat(tn[0])%360+360)%360/360,bn=Be(tn[1]),zn=Be(tn[2]),Dn=zn<=.5?zn*(bn+1):zn+bn-zn*bn,jn=2*zn-Dn;return[le(255*Je(jn,Dn,Tn+1/3)),le(255*Je(jn,Dn,Tn)),le(255*Je(jn,Dn,Tn-1/3)),rn];default:return null}}return null}}catch{}}).parseCSSColor,An=function(A,I,Z,le){void 0===le&&(le=1),this.r=A,this.g=I,this.b=Z,this.a=le};An.parse=function(A){if(A){if(A instanceof An)return A;if("string"==typeof A){var I=mn(A);if(I)return new An(I[0]/255*I[3],I[1]/255*I[3],I[2]/255*I[3],I[3])}}},An.prototype.toString=function(){var A=this.toArray(),I=A[0],Z=A[1],le=A[2],ke=A[3];return"rgba("+Math.round(I)+","+Math.round(Z)+","+Math.round(le)+","+ke+")"},An.prototype.toArray=function(){var A=this,I=A.r,Z=A.g,le=A.b,ke=A.a;return 0===ke?[0,0,0,0]:[255*I/ke,255*Z/ke,255*le/ke,ke]},An.black=new An(0,0,0,1),An.white=new An(1,1,1,1),An.transparent=new An(0,0,0,0),An.red=new An(1,0,0,1);var vn=function(A,I,Z){this.sensitivity=A?I?"variant":"case":I?"accent":"base",this.locale=Z,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};vn.prototype.compare=function(A,I){return this.collator.compare(A,I)},vn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var On=function(A,I,Z,le,ke){this.text=A,this.image=I,this.scale=Z,this.fontStack=le,this.textColor=ke},Bn=function(A){this.sections=A};Bn.fromString=function(A){return new Bn([new On(A,null,null,null,null)])},Bn.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(A){return 0!==A.text.length||A.image&&0!==A.image.name.length})},Bn.factory=function(A){return A instanceof Bn?A:Bn.fromString(A)},Bn.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(A){return A.text}).join("")},Bn.prototype.serialize=function(){for(var A=["format"],I=0,Z=this.sections;I<Z.length;I+=1){var le=Z[I];if(le.image)A.push(["image",le.image.name]);else{A.push(le.text);var ke={};le.fontStack&&(ke["text-font"]=["literal",le.fontStack.split(",")]),le.scale&&(ke["font-scale"]=le.scale),le.textColor&&(ke["text-color"]=["rgba"].concat(le.textColor.toArray())),A.push(ke)}}return A};var er=function(A){this.name=A.name,this.available=A.available};function or(A,I,Z,le){return"number"==typeof A&&A>=0&&A<=255&&"number"==typeof I&&I>=0&&I<=255&&"number"==typeof Z&&Z>=0&&Z<=255?void 0===le||"number"==typeof le&&le>=0&&le<=1?null:"Invalid rgba value ["+[A,I,Z,le].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof le?[A,I,Z,le]:[A,I,Z]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function $n(A){if(null===A||"string"==typeof A||"boolean"==typeof A||"number"==typeof A||A instanceof An||A instanceof vn||A instanceof Bn||A instanceof er)return!0;if(Array.isArray(A)){for(var I=0,Z=A;I<Z.length;I+=1)if(!$n(Z[I]))return!1;return!0}if("object"==typeof A){for(var le in A)if(!$n(A[le]))return!1;return!0}return!1}function qn(A){if(null===A)return At;if("string"==typeof A)return It;if("boolean"==typeof A)return qt;if("number"==typeof A)return Lt;if(A instanceof An)return Qt;if(A instanceof vn)return en;if(A instanceof Bn)return wn;if(A instanceof er)return kn;if(Array.isArray(A)){for(var I,Z=A.length,le=0,ke=A;le<ke.length;le+=1){var Oe=qn(ke[le]);if(I){if(I===Oe)continue;I=Ft;break}I=Oe}return on(I||Ft,Z)}return Vt}function cr(A){var I=typeof A;return null===A?"":"string"===I||"number"===I||"boolean"===I?String(A):A instanceof An||A instanceof Bn||A instanceof er?A.toString():JSON.stringify(A)}er.prototype.toString=function(){return this.name},er.fromString=function(A){return A?new er({name:A,available:!1}):null},er.prototype.serialize=function(){return["image",this.name]};var Nt=function(A,I){this.type=A,this.value=I};Nt.parse=function(A,I){if(2!==A.length)return I.error("'literal' expression requires exactly one argument, but found "+(A.length-1)+" instead.");if(!$n(A[1]))return I.error("invalid value");var Z=A[1],le=qn(Z),ke=I.expectedType;return"array"!==le.kind||0!==le.N||!ke||"array"!==ke.kind||"number"==typeof ke.N&&0!==ke.N||(le=ke),new Nt(le,Z)},Nt.prototype.evaluate=function(){return this.value},Nt.prototype.eachChild=function(){},Nt.prototype.outputDefined=function(){return!0},Nt.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof An?["rgba"].concat(this.value.toArray()):this.value instanceof Bn?this.value.serialize():this.value};var Jt=function(A){this.name="ExpressionEvaluationError",this.message=A};Jt.prototype.toJSON=function(){return this.message};var un={string:It,number:Lt,boolean:qt,object:Vt},fn=function(A,I){this.type=A,this.args=I};fn.parse=function(A,I){if(A.length<2)return I.error("Expected at least one argument.");var Z,le=1,ke=A[0];if("array"===ke){var Oe,Be;if(A.length>2){var Je=A[1];if("string"!=typeof Je||!(Je in un)||"object"===Je)return I.error('The item type argument of "array" must be one of string, number, boolean',1);Oe=un[Je],le++}else Oe=Ft;if(A.length>3){if(null!==A[2]&&("number"!=typeof A[2]||A[2]<0||A[2]!==Math.floor(A[2])))return I.error('The length argument to "array" must be a positive integer literal',2);Be=A[2],le++}Z=on(Oe,Be)}else Z=un[ke];for(var ot=[];le<A.length;le++){var mt=I.parse(A[le],le,Ft);if(!mt)return null;ot.push(mt)}return new fn(Z,ot)},fn.prototype.evaluate=function(A){for(var I=0;I<this.args.length;I++){var Z=this.args[I].evaluate(A);if(!Kt(this.type,qn(Z)))return Z;if(I===this.args.length-1)throw new Jt("Expected value to be of type "+Ht(this.type)+", but found "+Ht(qn(Z))+" instead.")}return null},fn.prototype.eachChild=function(A){this.args.forEach(A)},fn.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},fn.prototype.serialize=function(){var A=this.type,I=[A.kind];if("array"===A.kind){var Z=A.itemType;if("string"===Z.kind||"number"===Z.kind||"boolean"===Z.kind){I.push(Z.kind);var le=A.N;("number"==typeof le||this.args.length>1)&&I.push(le)}}return I.concat(this.args.map(function(ke){return ke.serialize()}))};var Mn=function(A){this.type=wn,this.sections=A};Mn.parse=function(A,I){if(A.length<2)return I.error("Expected at least one argument.");var Z=A[1];if(!Array.isArray(Z)&&"object"==typeof Z)return I.error("First argument must be an image or text section.");for(var le=[],ke=!1,Oe=1;Oe<=A.length-1;++Oe){var Be=A[Oe];if(ke&&"object"==typeof Be&&!Array.isArray(Be)){ke=!1;var Je=null;if(Be["font-scale"]&&!(Je=I.parse(Be["font-scale"],1,Lt)))return null;var ot=null;if(Be["text-font"]&&!(ot=I.parse(Be["text-font"],1,on(It))))return null;var mt=null;if(Be["text-color"]&&!(mt=I.parse(Be["text-color"],1,Qt)))return null;var _t=le[le.length-1];_t.scale=Je,_t.font=ot,_t.textColor=mt}else{var zt=I.parse(A[Oe],1,Ft);if(!zt)return null;var jt=zt.type.kind;if("string"!==jt&&"value"!==jt&&"null"!==jt&&"resolvedImage"!==jt)return I.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");ke=!0,le.push({content:zt,scale:null,font:null,textColor:null})}}return new Mn(le)},Mn.prototype.evaluate=function(A){return new Bn(this.sections.map(function(I){var Z=I.content.evaluate(A);return qn(Z)===kn?new On("",Z,null,null,null):new On(cr(Z),null,I.scale?I.scale.evaluate(A):null,I.font?I.font.evaluate(A).join(","):null,I.textColor?I.textColor.evaluate(A):null)}))},Mn.prototype.eachChild=function(A){for(var I=0,Z=this.sections;I<Z.length;I+=1){var le=Z[I];A(le.content),le.scale&&A(le.scale),le.font&&A(le.font),le.textColor&&A(le.textColor)}},Mn.prototype.outputDefined=function(){return!1},Mn.prototype.serialize=function(){for(var A=["format"],I=0,Z=this.sections;I<Z.length;I+=1){var le=Z[I];A.push(le.content.serialize());var ke={};le.scale&&(ke["font-scale"]=le.scale.serialize()),le.font&&(ke["text-font"]=le.font.serialize()),le.textColor&&(ke["text-color"]=le.textColor.serialize()),A.push(ke)}return A};var Fn=function(A){this.type=kn,this.input=A};Fn.parse=function(A,I){if(2!==A.length)return I.error("Expected two arguments.");var Z=I.parse(A[1],1,It);return Z?new Fn(Z):I.error("No image name provided.")},Fn.prototype.evaluate=function(A){var I=this.input.evaluate(A),Z=er.fromString(I);return Z&&A.availableImages&&(Z.available=A.availableImages.indexOf(I)>-1),Z},Fn.prototype.eachChild=function(A){A(this.input)},Fn.prototype.outputDefined=function(){return!1},Fn.prototype.serialize=function(){return["image",this.input.serialize()]};var In={"to-boolean":qt,"to-color":Qt,"to-number":Lt,"to-string":It},Rn=function(A,I){this.type=A,this.args=I};Rn.parse=function(A,I){if(A.length<2)return I.error("Expected at least one argument.");var Z=A[0];if(("to-boolean"===Z||"to-string"===Z)&&2!==A.length)return I.error("Expected one argument.");for(var le=In[Z],ke=[],Oe=1;Oe<A.length;Oe++){var Be=I.parse(A[Oe],Oe,Ft);if(!Be)return null;ke.push(Be)}return new Rn(le,ke)},Rn.prototype.evaluate=function(A){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(A));if("color"===this.type.kind){for(var I,Z,le=0,ke=this.args;le<ke.length;le+=1){if(Z=null,(I=ke[le].evaluate(A))instanceof An)return I;if("string"==typeof I){var Oe=A.parseColor(I);if(Oe)return Oe}else if(Array.isArray(I)&&!(Z=I.length<3||I.length>4?"Invalid rbga value "+JSON.stringify(I)+": expected an array containing either three or four numeric values.":or(I[0],I[1],I[2],I[3])))return new An(I[0]/255,I[1]/255,I[2]/255,I[3])}throw new Jt(Z||"Could not parse color from value '"+("string"==typeof I?I:String(JSON.stringify(I)))+"'")}if("number"===this.type.kind){for(var Be=null,Je=0,ot=this.args;Je<ot.length;Je+=1){if(null===(Be=ot[Je].evaluate(A)))return 0;var mt=Number(Be);if(!isNaN(mt))return mt}throw new Jt("Could not convert "+JSON.stringify(Be)+" to number.")}return"formatted"===this.type.kind?Bn.fromString(cr(this.args[0].evaluate(A))):"resolvedImage"===this.type.kind?er.fromString(cr(this.args[0].evaluate(A))):cr(this.args[0].evaluate(A))},Rn.prototype.eachChild=function(A){this.args.forEach(A)},Rn.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},Rn.prototype.serialize=function(){if("formatted"===this.type.kind)return new Mn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Fn(this.args[0]).serialize();var A=["to-"+this.type.kind];return this.eachChild(function(I){A.push(I.serialize())}),A};var Jn=["Unknown","Point","LineString","Polygon"],Yt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Yt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Yt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Jn[this.feature.type]:this.feature.type:null},Yt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Yt.prototype.canonicalID=function(){return this.canonical},Yt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Yt.prototype.parseColor=function(A){var I=this._parseColorCache[A];return I||(I=this._parseColorCache[A]=An.parse(A)),I};var gn=function(A,I,Z,le){this.name=A,this.type=I,this._evaluate=Z,this.args=le};gn.prototype.evaluate=function(A){return this._evaluate(A,this.args)},gn.prototype.eachChild=function(A){this.args.forEach(A)},gn.prototype.outputDefined=function(){return!1},gn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(A){return A.serialize()}))},gn.parse=function(A,I){var Z,le=A[0],ke=gn.definitions[le];if(!ke)return I.error('Unknown expression "'+le+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Oe=Array.isArray(ke)?ke[0]:ke.type,Be=Array.isArray(ke)?[[ke[1],ke[2]]]:ke.overloads,Je=Be.filter(function(zr){var Sr=zr[0];return!Array.isArray(Sr)||Sr.length===A.length-1}),ot=null,mt=0,_t=Je;mt<_t.length;mt+=1){var zt=_t[mt],jt=zt[0],Rt=zt[1];ot=new wr(I.registry,I.path,null,I.scope);for(var tn=[],rn=!1,Tn=1;Tn<A.length;Tn++){var bn=A[Tn],zn=Array.isArray(jt)?jt[Tn-1]:jt.type,Dn=ot.parse(bn,1+tn.length,zn);if(!Dn){rn=!0;break}tn.push(Dn)}if(!rn)if(Array.isArray(jt)&&jt.length!==tn.length)ot.error("Expected "+jt.length+" arguments, but found "+tn.length+" instead.");else{for(var jn=0;jn<tn.length;jn++){var Gn=Array.isArray(jt)?jt[jn]:jt.type,Kn=tn[jn];ot.concat(jn+1).checkSubtype(Gn,Kn.type)}if(0===ot.errors.length)return new gn(le,Oe,Rt,tn)}}if(1===Je.length)(Z=I.errors).push.apply(Z,ot.errors);else{for(var pr=(Je.length?Je:Be).map(function(zr){return Sr=zr[0],Array.isArray(Sr)?"("+Sr.map(Ht).join(", ")+")":"("+Ht(Sr.type)+"...)";var Sr}).join(" | "),ur=[],mr=1;mr<A.length;mr++){var xr=I.parse(A[mr],1+ur.length);if(!xr)return null;ur.push(Ht(xr.type))}I.error("Expected arguments of type "+pr+", but found ("+ur.join(", ")+") instead.")}return null},gn.register=function(A,I){for(var Z in gn.definitions=I,I)A[Z]=gn};var Ct=function(A,I,Z){this.type=en,this.locale=Z,this.caseSensitive=A,this.diacriticSensitive=I};Ct.parse=function(A,I){if(2!==A.length)return I.error("Expected one argument.");var Z=A[1];if("object"!=typeof Z||Array.isArray(Z))return I.error("Collator options argument must be an object.");var le=I.parse(void 0!==Z["case-sensitive"]&&Z["case-sensitive"],1,qt);if(!le)return null;var ke=I.parse(void 0!==Z["diacritic-sensitive"]&&Z["diacritic-sensitive"],1,qt);if(!ke)return null;var Oe=null;return Z.locale&&!(Oe=I.parse(Z.locale,1,It))?null:new Ct(le,ke,Oe)},Ct.prototype.evaluate=function(A){return new vn(this.caseSensitive.evaluate(A),this.diacriticSensitive.evaluate(A),this.locale?this.locale.evaluate(A):null)},Ct.prototype.eachChild=function(A){A(this.caseSensitive),A(this.diacriticSensitive),this.locale&&A(this.locale)},Ct.prototype.outputDefined=function(){return!1},Ct.prototype.serialize=function(){var A={};return A["case-sensitive"]=this.caseSensitive.serialize(),A["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(A.locale=this.locale.serialize()),["collator",A]};var Zt=8192;function $t(A,I){A[0]=Math.min(A[0],I[0]),A[1]=Math.min(A[1],I[1]),A[2]=Math.max(A[2],I[0]),A[3]=Math.max(A[3],I[1])}function dn(A,I){return!(A[0]<=I[0]||A[2]>=I[2]||A[1]<=I[1]||A[3]>=I[3])}function yn(A,I){var Z,le=(180+A[0])/360,ke=(Z=A[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Z*Math.PI/360)))/360),Oe=Math.pow(2,I.z);return[Math.round(le*Oe*Zt),Math.round(ke*Oe*Zt)]}function Sn(A,I,Z){return I[1]>A[1]!=Z[1]>A[1]&&A[0]<(Z[0]-I[0])*(A[1]-I[1])/(Z[1]-I[1])+I[0]}function ln(A,I){for(var Z=!1,le=0,ke=I.length;le<ke;le++)for(var Oe=I[le],Be=0,Je=Oe.length;Be<Je-1;Be++){if(ot=A,mt=Oe[Be],_t=Oe[Be+1],zt=void 0,jt=void 0,Rt=void 0,tn=void 0,zt=ot[0]-mt[0],jt=ot[1]-mt[1],Rt=ot[0]-_t[0],zt*(tn=ot[1]-_t[1])-Rt*jt==0&&zt*Rt<=0&&jt*tn<=0)return!1;Sn(A,Oe[Be],Oe[Be+1])&&(Z=!Z)}var ot,mt,_t,zt,jt,Rt,tn;return Z}function Wt(A,I){for(var Z=0;Z<I.length;Z++)if(ln(A,I[Z]))return!0;return!1}function Xt(A,I,Z,le){var ke=A[0]-Z[0],Oe=A[1]-Z[1],Be=I[0]-Z[0],Je=I[1]-Z[1],ot=le[0]-Z[0],mt=le[1]-Z[1],_t=ke*mt-ot*Oe,zt=Be*mt-ot*Je;return _t>0&&zt<0||_t<0&&zt>0}function sn(A,I,Z){for(var le=0,ke=Z;le<ke.length;le+=1)for(var Oe=ke[le],Be=0;Be<Oe.length-1;++Be)if(Je=A,ot=I,mt=Oe[Be],_t=Oe[Be+1],zt=void 0,jt=void 0,jt=[ot[0]-Je[0],ot[1]-Je[1]],(zt=[_t[0]-mt[0],_t[1]-mt[1]])[0]*jt[1]-zt[1]*jt[0]!=0&&Xt(Je,ot,mt,_t)&&Xt(mt,_t,Je,ot))return!0;var Je,ot,mt,_t,zt,jt;return!1}function cn(A,I){for(var Z=0;Z<A.length;++Z)if(!ln(A[Z],I))return!1;for(var le=0;le<A.length-1;++le)if(sn(A[le],A[le+1],I))return!1;return!0}function Ln(A,I){for(var Z=0;Z<I.length;Z++)if(cn(A,I[Z]))return!0;return!1}function Pn(A,I,Z){for(var le=[],ke=0;ke<A.length;ke++){for(var Oe=[],Be=0;Be<A[ke].length;Be++){var Je=yn(A[ke][Be],Z);$t(I,Je),Oe.push(Je)}le.push(Oe)}return le}function Vn(A,I,Z){for(var le=[],ke=0;ke<A.length;ke++){var Oe=Pn(A[ke],I,Z);le.push(Oe)}return le}function Un(A,I,Z,le){if(A[0]<Z[0]||A[0]>Z[2]){var ke=.5*le,Oe=A[0]-Z[0]>ke?-le:Z[0]-A[0]>ke?le:0;0===Oe&&(Oe=A[0]-Z[2]>ke?-le:Z[2]-A[0]>ke?le:0),A[0]+=Oe}$t(I,A)}function Xn(A,I,Z,le){for(var ke=Math.pow(2,le.z)*Zt,Oe=[le.x*Zt,le.y*Zt],Be=[],Je=0,ot=A;Je<ot.length;Je+=1)for(var mt=0,_t=ot[Je];mt<_t.length;mt+=1){var zt=_t[mt],jt=[zt.x+Oe[0],zt.y+Oe[1]];Un(jt,I,Z,ke),Be.push(jt)}return Be}function Zn(A,I,Z,le){for(var ke=Math.pow(2,le.z)*Zt,Oe=[le.x*Zt,le.y*Zt],Be=[],Je=0,ot=A;Je<ot.length;Je+=1){for(var mt=[],_t=0,zt=ot[Je];_t<zt.length;_t+=1){var jt=zt[_t],Rt=[jt.x+Oe[0],jt.y+Oe[1]];$t(I,Rt),mt.push(Rt)}Be.push(mt)}if(I[2]-I[0]<=ke/2){(zn=I)[0]=zn[1]=1/0,zn[2]=zn[3]=-1/0;for(var tn=0,rn=Be;tn<rn.length;tn+=1)for(var Tn=0,bn=rn[tn];Tn<bn.length;Tn+=1)Un(bn[Tn],I,Z,ke)}var zn;return Be}var Qn=function(A,I){this.type=qt,this.geojson=A,this.geometries=I};function ar(A){if(A instanceof gn&&("get"===A.name&&1===A.args.length||"feature-state"===A.name||"has"===A.name&&1===A.args.length||"properties"===A.name||"geometry-type"===A.name||"id"===A.name||/^filter-/.test(A.name))||A instanceof Qn)return!1;var I=!0;return A.eachChild(function(Z){I&&!ar(Z)&&(I=!1)}),I}function ir(A){if(A instanceof gn&&"feature-state"===A.name)return!1;var I=!0;return A.eachChild(function(Z){I&&!ir(Z)&&(I=!1)}),I}function hr(A,I){if(A instanceof gn&&I.indexOf(A.name)>=0)return!1;var Z=!0;return A.eachChild(function(le){Z&&!hr(le,I)&&(Z=!1)}),Z}Qn.parse=function(A,I){if(2!==A.length)return I.error("'within' expression requires exactly one argument, but found "+(A.length-1)+" instead.");if($n(A[1])){var Z=A[1];if("FeatureCollection"===Z.type)for(var le=0;le<Z.features.length;++le){var ke=Z.features[le].geometry.type;if("Polygon"===ke||"MultiPolygon"===ke)return new Qn(Z,Z.features[le].geometry)}else if("Feature"===Z.type){var Oe=Z.geometry.type;if("Polygon"===Oe||"MultiPolygon"===Oe)return new Qn(Z,Z.geometry)}else if("Polygon"===Z.type||"MultiPolygon"===Z.type)return new Qn(Z,Z)}return I.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Qn.prototype.evaluate=function(A){if(null!=A.geometry()&&null!=A.canonicalID()){if("Point"===A.geometryType())return function(I,Z){var le=[1/0,1/0,-1/0,-1/0],ke=[1/0,1/0,-1/0,-1/0],Oe=I.canonicalID();if("Polygon"===Z.type){var Be=Pn(Z.coordinates,ke,Oe),Je=Xn(I.geometry(),le,ke,Oe);if(!dn(le,ke))return!1;for(var ot=0,mt=Je;ot<mt.length;ot+=1)if(!ln(mt[ot],Be))return!1}if("MultiPolygon"===Z.type){var _t=Vn(Z.coordinates,ke,Oe),zt=Xn(I.geometry(),le,ke,Oe);if(!dn(le,ke))return!1;for(var jt=0,Rt=zt;jt<Rt.length;jt+=1)if(!Wt(Rt[jt],_t))return!1}return!0}(A,this.geometries);if("LineString"===A.geometryType())return function(I,Z){var le=[1/0,1/0,-1/0,-1/0],ke=[1/0,1/0,-1/0,-1/0],Oe=I.canonicalID();if("Polygon"===Z.type){var Be=Pn(Z.coordinates,ke,Oe),Je=Zn(I.geometry(),le,ke,Oe);if(!dn(le,ke))return!1;for(var ot=0,mt=Je;ot<mt.length;ot+=1)if(!cn(mt[ot],Be))return!1}if("MultiPolygon"===Z.type){var _t=Vn(Z.coordinates,ke,Oe),zt=Zn(I.geometry(),le,ke,Oe);if(!dn(le,ke))return!1;for(var jt=0,Rt=zt;jt<Rt.length;jt+=1)if(!Ln(Rt[jt],_t))return!1}return!0}(A,this.geometries)}return!1},Qn.prototype.eachChild=function(){},Qn.prototype.outputDefined=function(){return!0},Qn.prototype.serialize=function(){return["within",this.geojson]};var fr=function(A,I){this.type=I.type,this.name=A,this.boundExpression=I};fr.parse=function(A,I){if(2!==A.length||"string"!=typeof A[1])return I.error("'var' expression requires exactly one string literal argument.");var Z=A[1];return I.scope.has(Z)?new fr(Z,I.scope.get(Z)):I.error('Unknown variable "'+Z+'". Make sure "'+Z+'" has been bound in an enclosing "let" expression before using it.',1)},fr.prototype.evaluate=function(A){return this.boundExpression.evaluate(A)},fr.prototype.eachChild=function(){},fr.prototype.outputDefined=function(){return!1},fr.prototype.serialize=function(){return["var",this.name]};var wr=function(A,I,Z,le,ke){void 0===I&&(I=[]),void 0===le&&(le=new gt),void 0===ke&&(ke=[]),this.registry=A,this.path=I,this.key=I.map(function(Oe){return"["+Oe+"]"}).join(""),this.scope=le,this.errors=ke,this.expectedType=Z};function tr(A){if(A instanceof fr)return tr(A.boundExpression);if(A instanceof gn&&"error"===A.name||A instanceof Ct||A instanceof Qn)return!1;var I=A instanceof Rn||A instanceof fn,Z=!0;return A.eachChild(function(le){Z=I?Z&&tr(le):Z&&le instanceof Nt}),!!Z&&ar(A)&&hr(A,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function vr(A,I){for(var Z,le,ke=A.length-1,Oe=0,Be=ke,Je=0;Oe<=Be;)if(Z=A[Je=Math.floor((Oe+Be)/2)],le=A[Je+1],Z<=I){if(Je===ke||I<le)return Je;Oe=Je+1}else{if(!(Z>I))throw new Jt("Input is not a number.");Be=Je-1}return 0}wr.prototype.parse=function(A,I,Z,le,ke){return void 0===ke&&(ke={}),I?this.concat(I,Z,le)._parse(A,ke):this._parse(A,ke)},wr.prototype._parse=function(A,I){function Z(mt,_t,zt){return"assert"===zt?new fn(_t,[mt]):"coerce"===zt?new Rn(_t,[mt]):mt}if(null!==A&&"string"!=typeof A&&"boolean"!=typeof A&&"number"!=typeof A||(A=["literal",A]),Array.isArray(A)){if(0===A.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var le=A[0];if("string"!=typeof le)return this.error("Expression name must be a string, but found "+typeof le+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var ke=this.registry[le];if(ke){var Oe=ke.parse(A,this);if(!Oe)return null;if(this.expectedType){var Be=this.expectedType,Je=Oe.type;if("string"!==Be.kind&&"number"!==Be.kind&&"boolean"!==Be.kind&&"object"!==Be.kind&&"array"!==Be.kind||"value"!==Je.kind)if("color"!==Be.kind&&"formatted"!==Be.kind&&"resolvedImage"!==Be.kind||"value"!==Je.kind&&"string"!==Je.kind){if(this.checkSubtype(Be,Je))return null}else Oe=Z(Oe,Be,I.typeAnnotation||"coerce");else Oe=Z(Oe,Be,I.typeAnnotation||"assert")}if(!(Oe instanceof Nt)&&"resolvedImage"!==Oe.type.kind&&tr(Oe)){var ot=new Yt;try{Oe=new Nt(Oe.type,Oe.evaluate(ot))}catch(mt){return this.error(mt.message),null}}return Oe}return this.error('Unknown expression "'+le+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===A?this.error("'undefined' value invalid. Use null instead."):"object"==typeof A?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof A+" instead.")},wr.prototype.concat=function(A,I,Z){var le="number"==typeof A?this.path.concat(A):this.path,ke=Z?this.scope.concat(Z):this.scope;return new wr(this.registry,le,I||null,ke,this.errors)},wr.prototype.error=function(A){for(var I=[],Z=arguments.length-1;Z-- >0;)I[Z]=arguments[Z+1];var le=""+this.key+I.map(function(ke){return"["+ke+"]"}).join("");this.errors.push(new yt(le,A))},wr.prototype.checkSubtype=function(A,I){var Z=Kt(A,I);return Z&&this.error(Z),Z};var Mr=function(A,I,Z){this.type=A,this.input=I,this.labels=[],this.outputs=[];for(var le=0,ke=Z;le<ke.length;le+=1){var Oe=ke[le],Be=Oe[0],Je=Oe[1];this.labels.push(Be),this.outputs.push(Je)}};function Ir(A,I,Z){return A*(1-Z)+I*Z}Mr.parse=function(A,I){if(A.length-1<4)return I.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if((A.length-1)%2!=0)return I.error("Expected an even number of arguments.");var Z=I.parse(A[1],1,Lt);if(!Z)return null;var le=[],ke=null;I.expectedType&&"value"!==I.expectedType.kind&&(ke=I.expectedType);for(var Oe=1;Oe<A.length;Oe+=2){var Be=1===Oe?-1/0:A[Oe],Je=A[Oe+1],ot=Oe,mt=Oe+1;if("number"!=typeof Be)return I.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ot);if(le.length&&le[le.length-1][0]>=Be)return I.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ot);var _t=I.parse(Je,mt,ke);if(!_t)return null;ke=ke||_t.type,le.push([Be,_t])}return new Mr(ke,Z,le)},Mr.prototype.evaluate=function(A){var I=this.labels,Z=this.outputs;if(1===I.length)return Z[0].evaluate(A);var le=this.input.evaluate(A);if(le<=I[0])return Z[0].evaluate(A);var ke=I.length;return le>=I[ke-1]?Z[ke-1].evaluate(A):Z[vr(I,le)].evaluate(A)},Mr.prototype.eachChild=function(A){A(this.input);for(var I=0,Z=this.outputs;I<Z.length;I+=1)A(Z[I])},Mr.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})},Mr.prototype.serialize=function(){for(var A=["step",this.input.serialize()],I=0;I<this.labels.length;I++)I>0&&A.push(this.labels[I]),A.push(this.outputs[I].serialize());return A};var ii=Object.freeze({__proto__:null,number:Ir,color:function(A,I,Z){return new An(Ir(A.r,I.r,Z),Ir(A.g,I.g,Z),Ir(A.b,I.b,Z),Ir(A.a,I.a,Z))},array:function(A,I,Z){return A.map(function(le,ke){return Ir(le,I[ke],Z)})}}),oi=.95047,Oi=1,ti=1.08883,Ti=4/29,ra=6/29,ia=3*ra*ra,Ro=ra*ra*ra,xl=Math.PI/180,ds=180/Math.PI;function gs(A){return A>Ro?Math.pow(A,.3333333333333333):A/ia+Ti}function Is(A){return A>ra?A*A*A:ia*(A-Ti)}function Pa(A){return 255*(A<=.0031308?12.92*A:1.055*Math.pow(A,.4166666666666667)-.055)}function zs(A){return(A/=255)<=.04045?A/12.92:Math.pow((A+.055)/1.055,2.4)}function Ds(A){var I=zs(A.r),Z=zs(A.g),le=zs(A.b),ke=gs((.4124564*I+.3575761*Z+.1804375*le)/oi),Oe=gs((.2126729*I+.7151522*Z+.072175*le)/Oi);return{l:116*Oe-16,a:500*(ke-Oe),b:200*(Oe-gs((.0193339*I+.119192*Z+.9503041*le)/ti)),alpha:A.a}}function Rs(A){var I=(A.l+16)/116,Z=isNaN(A.a)?I:I+A.a/500,le=isNaN(A.b)?I:I-A.b/200;return I=Oi*Is(I),Z=oi*Is(Z),le=ti*Is(le),new An(Pa(3.2404542*Z-1.5371385*I-.4985314*le),Pa(-.969266*Z+1.8760108*I+.041556*le),Pa(.0556434*Z-.2040259*I+1.0572252*le),A.alpha)}function no(A,I,Z){var le=I-A;return A+Z*(le>180||le<-180?le-360*Math.round(le/360):le)}var mo={forward:Ds,reverse:Rs,interpolate:function(A,I,Z){return{l:Ir(A.l,I.l,Z),a:Ir(A.a,I.a,Z),b:Ir(A.b,I.b,Z),alpha:Ir(A.alpha,I.alpha,Z)}}},Fo={forward:function(A){var I=Ds(A),Z=I.l,le=I.a,ke=I.b,Oe=Math.atan2(ke,le)*ds;return{h:Oe<0?Oe+360:Oe,c:Math.sqrt(le*le+ke*ke),l:Z,alpha:A.a}},reverse:function(A){var I=A.h*xl,Z=A.c;return Rs({l:A.l,a:Math.cos(I)*Z,b:Math.sin(I)*Z,alpha:A.alpha})},interpolate:function(A,I,Z){return{h:no(A.h,I.h,Z),c:Ir(A.c,I.c,Z),l:Ir(A.l,I.l,Z),alpha:Ir(A.alpha,I.alpha,Z)}}},hi=Object.freeze({__proto__:null,lab:mo,hcl:Fo}),Di=function(A,I,Z,le,ke){this.type=A,this.operator=I,this.interpolation=Z,this.input=le,this.labels=[],this.outputs=[];for(var Oe=0,Be=ke;Oe<Be.length;Oe+=1){var Je=Be[Oe],ot=Je[0],mt=Je[1];this.labels.push(ot),this.outputs.push(mt)}};function ro(A,I,Z,le){var ke=le-Z,Oe=A-Z;return 0===ke?0:1===I?Oe/ke:(Math.pow(I,Oe)-1)/(Math.pow(I,ke)-1)}Di.interpolationFactor=function(A,I,Z,le){var ke=0;if("exponential"===A.name)ke=ro(I,A.base,Z,le);else if("linear"===A.name)ke=ro(I,1,Z,le);else if("cubic-bezier"===A.name){var Oe=A.controlPoints;ke=new p(Oe[0],Oe[1],Oe[2],Oe[3]).solve(ro(I,1,Z,le))}return ke},Di.parse=function(A,I){var Z=A[0],le=A[1],ke=A[2],Oe=A.slice(3);if(!Array.isArray(le)||0===le.length)return I.error("Expected an interpolation type expression.",1);if("linear"===le[0])le={name:"linear"};else if("exponential"===le[0]){var Be=le[1];if("number"!=typeof Be)return I.error("Exponential interpolation requires a numeric base.",1,1);le={name:"exponential",base:Be}}else{if("cubic-bezier"!==le[0])return I.error("Unknown interpolation type "+String(le[0]),1,0);var Je=le.slice(1);if(4!==Je.length||Je.some(function(Tn){return"number"!=typeof Tn||Tn<0||Tn>1}))return I.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);le={name:"cubic-bezier",controlPoints:Je}}if(A.length-1<4)return I.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if((A.length-1)%2!=0)return I.error("Expected an even number of arguments.");if(!(ke=I.parse(ke,2,Lt)))return null;var ot=[],mt=null;"interpolate-hcl"===Z||"interpolate-lab"===Z?mt=Qt:I.expectedType&&"value"!==I.expectedType.kind&&(mt=I.expectedType);for(var _t=0;_t<Oe.length;_t+=2){var zt=Oe[_t],jt=Oe[_t+1],Rt=_t+3,tn=_t+4;if("number"!=typeof zt)return I.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Rt);if(ot.length&&ot[ot.length-1][0]>=zt)return I.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Rt);var rn=I.parse(jt,tn,mt);if(!rn)return null;mt=mt||rn.type,ot.push([zt,rn])}return"number"===mt.kind||"color"===mt.kind||"array"===mt.kind&&"number"===mt.itemType.kind&&"number"==typeof mt.N?new Di(mt,Z,le,ke,ot):I.error("Type "+Ht(mt)+" is not interpolatable.")},Di.prototype.evaluate=function(A){var I=this.labels,Z=this.outputs;if(1===I.length)return Z[0].evaluate(A);var le=this.input.evaluate(A);if(le<=I[0])return Z[0].evaluate(A);var ke=I.length;if(le>=I[ke-1])return Z[ke-1].evaluate(A);var Oe=vr(I,le),Be=I[Oe],Je=I[Oe+1],ot=Di.interpolationFactor(this.interpolation,le,Be,Je),mt=Z[Oe].evaluate(A),_t=Z[Oe+1].evaluate(A);return"interpolate"===this.operator?ii[this.type.kind.toLowerCase()](mt,_t,ot):"interpolate-hcl"===this.operator?Fo.reverse(Fo.interpolate(Fo.forward(mt),Fo.forward(_t),ot)):mo.reverse(mo.interpolate(mo.forward(mt),mo.forward(_t),ot))},Di.prototype.eachChild=function(A){A(this.input);for(var I=0,Z=this.outputs;I<Z.length;I+=1)A(Z[I])},Di.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})},Di.prototype.serialize=function(){var A;A="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var I=[this.operator,A,this.input.serialize()],Z=0;Z<this.labels.length;Z++)I.push(this.labels[Z],this.outputs[Z].serialize());return I};var Ga=function(A,I){this.type=A,this.args=I};Ga.parse=function(A,I){if(A.length<2)return I.error("Expectected at least one argument.");var Z=null,le=I.expectedType;le&&"value"!==le.kind&&(Z=le);for(var ke=[],Oe=0,Be=A.slice(1);Oe<Be.length;Oe+=1){var Je=Be[Oe],ot=I.parse(Je,1+ke.length,Z,void 0,{typeAnnotation:"omit"});if(!ot)return null;Z=Z||ot.type,ke.push(ot)}var mt=le&&ke.some(function(_t){return Kt(le,_t.type)});return new Ga(mt?Ft:Z,ke)},Ga.prototype.evaluate=function(A){for(var I,Z=null,le=0,ke=0,Oe=this.args;ke<Oe.length&&(le++,(Z=Oe[ke].evaluate(A))&&Z instanceof er&&!Z.available&&(I||(I=Z.name),Z=null,le===this.args.length&&(Z=I)),null===Z);ke+=1);return Z},Ga.prototype.eachChild=function(A){this.args.forEach(A)},Ga.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},Ga.prototype.serialize=function(){var A=["coalesce"];return this.eachChild(function(I){A.push(I.serialize())}),A};var Ia=function(A,I){this.type=I.type,this.bindings=[].concat(A),this.result=I};Ia.prototype.evaluate=function(A){return this.result.evaluate(A)},Ia.prototype.eachChild=function(A){for(var I=0,Z=this.bindings;I<Z.length;I+=1)A(Z[I][1]);A(this.result)},Ia.parse=function(A,I){if(A.length<4)return I.error("Expected at least 3 arguments, but found "+(A.length-1)+" instead.");for(var Z=[],le=1;le<A.length-1;le+=2){var ke=A[le];if("string"!=typeof ke)return I.error("Expected string, but found "+typeof ke+" instead.",le);if(/[^a-zA-Z0-9_]/.test(ke))return I.error("Variable names must contain only alphanumeric characters or '_'.",le);var Oe=I.parse(A[le+1],le+1);if(!Oe)return null;Z.push([ke,Oe])}var Be=I.parse(A[A.length-1],A.length-1,I.expectedType,Z);return Be?new Ia(Z,Be):null},Ia.prototype.outputDefined=function(){return this.result.outputDefined()},Ia.prototype.serialize=function(){for(var A=["let"],I=0,Z=this.bindings;I<Z.length;I+=1){var le=Z[I],ke=le[0],Oe=le[1];A.push(ke,Oe.serialize())}return A.push(this.result.serialize()),A};var yo=function(A,I,Z){this.type=A,this.index=I,this.input=Z};yo.parse=function(A,I){if(3!==A.length)return I.error("Expected 2 arguments, but found "+(A.length-1)+" instead.");var Z=I.parse(A[1],1,Lt),le=I.parse(A[2],2,on(I.expectedType||Ft));if(!Z||!le)return null;var ke=le.type;return new yo(ke.itemType,Z,le)},yo.prototype.evaluate=function(A){var I=this.index.evaluate(A),Z=this.input.evaluate(A);if(I<0)throw new Jt("Array index out of bounds: "+I+" < 0.");if(I>=Z.length)throw new Jt("Array index out of bounds: "+I+" > "+(Z.length-1)+".");if(I!==Math.floor(I))throw new Jt("Array index must be an integer, but found "+I+" instead.");return Z[I]},yo.prototype.eachChild=function(A){A(this.index),A(this.input)},yo.prototype.outputDefined=function(){return!1},yo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Za=function(A,I){this.type=qt,this.needle=A,this.haystack=I};Za.parse=function(A,I){if(3!==A.length)return I.error("Expected 2 arguments, but found "+(A.length-1)+" instead.");var Z=I.parse(A[1],1,Ft),le=I.parse(A[2],2,Ft);return Z&&le?an(Z.type,[qt,It,Lt,At,Ft])?new Za(Z,le):I.error("Expected first argument to be of type boolean, string, number or null, but found "+Ht(Z.type)+" instead"):null},Za.prototype.evaluate=function(A){var I=this.needle.evaluate(A),Z=this.haystack.evaluate(A);if(!Z)return!1;if(!xn(I,["boolean","string","number","null"]))throw new Jt("Expected first argument to be of type boolean, string, number or null, but found "+Ht(qn(I))+" instead.");if(!xn(Z,["string","array"]))throw new Jt("Expected second argument to be of type array or string, but found "+Ht(qn(Z))+" instead.");return Z.indexOf(I)>=0},Za.prototype.eachChild=function(A){A(this.needle),A(this.haystack)},Za.prototype.outputDefined=function(){return!0},Za.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var xo=function(A,I,Z){this.type=Lt,this.needle=A,this.haystack=I,this.fromIndex=Z};xo.parse=function(A,I){if(A.length<=2||A.length>=5)return I.error("Expected 3 or 4 arguments, but found "+(A.length-1)+" instead.");var Z=I.parse(A[1],1,Ft),le=I.parse(A[2],2,Ft);if(!Z||!le)return null;if(!an(Z.type,[qt,It,Lt,At,Ft]))return I.error("Expected first argument to be of type boolean, string, number or null, but found "+Ht(Z.type)+" instead");if(4===A.length){var ke=I.parse(A[3],3,Lt);return ke?new xo(Z,le,ke):null}return new xo(Z,le)},xo.prototype.evaluate=function(A){var I=this.needle.evaluate(A),Z=this.haystack.evaluate(A);if(!xn(I,["boolean","string","number","null"]))throw new Jt("Expected first argument to be of type boolean, string, number or null, but found "+Ht(qn(I))+" instead.");if(!xn(Z,["string","array"]))throw new Jt("Expected second argument to be of type array or string, but found "+Ht(qn(Z))+" instead.");if(this.fromIndex){var le=this.fromIndex.evaluate(A);return Z.indexOf(I,le)}return Z.indexOf(I)},xo.prototype.eachChild=function(A){A(this.needle),A(this.haystack),this.fromIndex&&A(this.fromIndex)},xo.prototype.outputDefined=function(){return!1},xo.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var A=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),A]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var io=function(A,I,Z,le,ke,Oe){this.inputType=A,this.type=I,this.input=Z,this.cases=le,this.outputs=ke,this.otherwise=Oe};io.parse=function(A,I){if(A.length<5)return I.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if(A.length%2!=1)return I.error("Expected an even number of arguments.");var Z,le;I.expectedType&&"value"!==I.expectedType.kind&&(le=I.expectedType);for(var ke={},Oe=[],Be=2;Be<A.length-1;Be+=2){var Je=A[Be],ot=A[Be+1];Array.isArray(Je)||(Je=[Je]);var mt=I.concat(Be);if(0===Je.length)return mt.error("Expected at least one branch label.");for(var _t=0,zt=Je;_t<zt.length;_t+=1){var jt=zt[_t];if("number"!=typeof jt&&"string"!=typeof jt)return mt.error("Branch labels must be numbers or strings.");if("number"==typeof jt&&Math.abs(jt)>Number.MAX_SAFE_INTEGER)return mt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof jt&&Math.floor(jt)!==jt)return mt.error("Numeric branch labels must be integer values.");if(Z){if(mt.checkSubtype(Z,qn(jt)))return null}else Z=qn(jt);if(void 0!==ke[String(jt)])return mt.error("Branch labels must be unique.");ke[String(jt)]=Oe.length}var Rt=I.parse(ot,Be,le);if(!Rt)return null;le=le||Rt.type,Oe.push(Rt)}var tn=I.parse(A[1],1,Ft);if(!tn)return null;var rn=I.parse(A[A.length-1],A.length-1,le);return rn?"value"!==tn.type.kind&&I.concat(1).checkSubtype(Z,tn.type)?null:new io(Z,le,tn,ke,Oe,rn):null},io.prototype.evaluate=function(A){var I=this.input.evaluate(A);return(qn(I)===this.inputType&&this.outputs[this.cases[I]]||this.otherwise).evaluate(A)},io.prototype.eachChild=function(A){A(this.input),this.outputs.forEach(A),A(this.otherwise)},io.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})&&this.otherwise.outputDefined()},io.prototype.serialize=function(){for(var A=this,I=["match",this.input.serialize()],Z=[],le={},ke=0,Oe=Object.keys(this.cases).sort();ke<Oe.length;ke+=1){var Be=Oe[ke];void 0===(zt=le[this.cases[Be]])?(le[this.cases[Be]]=Z.length,Z.push([this.cases[Be],[Be]])):Z[zt][1].push(Be)}for(var Je=function(Rt){return"number"===A.inputType.kind?Number(Rt):Rt},ot=0,mt=Z;ot<mt.length;ot+=1){var _t=mt[ot],zt=_t[0],jt=_t[1];1===jt.length?I.push(Je(jt[0])):I.push(jt.map(Je)),I.push(this.outputs[outputIndex$1].serialize())}return I.push(this.otherwise.serialize()),I};var bo=function(A,I,Z){this.type=A,this.branches=I,this.otherwise=Z};bo.parse=function(A,I){if(A.length<4)return I.error("Expected at least 3 arguments, but found only "+(A.length-1)+".");if(A.length%2!=0)return I.error("Expected an odd number of arguments.");var Z;I.expectedType&&"value"!==I.expectedType.kind&&(Z=I.expectedType);for(var le=[],ke=1;ke<A.length-1;ke+=2){var Oe=I.parse(A[ke],ke,qt);if(!Oe)return null;var Be=I.parse(A[ke+1],ke+1,Z);if(!Be)return null;le.push([Oe,Be]),Z=Z||Be.type}var Je=I.parse(A[A.length-1],A.length-1,Z);return Je?new bo(Z,le,Je):null},bo.prototype.evaluate=function(A){for(var I=0,Z=this.branches;I<Z.length;I+=1){var le=Z[I],ke=le[0],Oe=le[1];if(ke.evaluate(A))return Oe.evaluate(A)}return this.otherwise.evaluate(A)},bo.prototype.eachChild=function(A){for(var I=0,Z=this.branches;I<Z.length;I+=1){var le=Z[I],ke=le[0],Oe=le[1];A(ke),A(Oe)}A(this.otherwise)},bo.prototype.outputDefined=function(){return this.branches.every(function(A){return A[0],A[1].outputDefined()})&&this.otherwise.outputDefined()},bo.prototype.serialize=function(){var A=["case"];return this.eachChild(function(I){A.push(I.serialize())}),A};var Ya=function(A,I,Z,le){this.type=A,this.input=I,this.beginIndex=Z,this.endIndex=le};function Js(A,I){return"=="===A||"!="===A?"boolean"===I.kind||"string"===I.kind||"number"===I.kind||"null"===I.kind||"value"===I.kind:"string"===I.kind||"number"===I.kind||"value"===I.kind}function Fs(A,I,Z,le){return 0===le.compare(I,Z)}function Bo(A,I,Z){var le="=="!==A&&"!="!==A;return function(){function ke(Oe,Be,Je){this.type=qt,this.lhs=Oe,this.rhs=Be,this.collator=Je,this.hasUntypedArgument="value"===Oe.type.kind||"value"===Be.type.kind}return ke.parse=function(Oe,Be){if(3!==Oe.length&&4!==Oe.length)return Be.error("Expected two or three arguments.");var Je=Oe[0],ot=Be.parse(Oe[1],1,Ft);if(!ot)return null;if(!Js(Je,ot.type))return Be.concat(1).error('"'+Je+"\" comparisons are not supported for type '"+Ht(ot.type)+"'.");var mt=Be.parse(Oe[2],2,Ft);if(!mt)return null;if(!Js(Je,mt.type))return Be.concat(2).error('"'+Je+"\" comparisons are not supported for type '"+Ht(mt.type)+"'.");if(ot.type.kind!==mt.type.kind&&"value"!==ot.type.kind&&"value"!==mt.type.kind)return Be.error("Cannot compare types '"+Ht(ot.type)+"' and '"+Ht(mt.type)+"'.");le&&("value"===ot.type.kind&&"value"!==mt.type.kind?ot=new fn(mt.type,[ot]):"value"!==ot.type.kind&&"value"===mt.type.kind&&(mt=new fn(ot.type,[mt])));var _t=null;if(4===Oe.length){if("string"!==ot.type.kind&&"string"!==mt.type.kind&&"value"!==ot.type.kind&&"value"!==mt.type.kind)return Be.error("Cannot use collator to compare non-string types.");if(!(_t=Be.parse(Oe[3],3,en)))return null}return new ke(ot,mt,_t)},ke.prototype.evaluate=function(Oe){var Be=this.lhs.evaluate(Oe),Je=this.rhs.evaluate(Oe);if(le&&this.hasUntypedArgument){var ot=qn(Be),mt=qn(Je);if(ot.kind!==mt.kind||"string"!==ot.kind&&"number"!==ot.kind)throw new Jt('Expected arguments for "'+A+'" to be (string, string) or (number, number), but found ('+ot.kind+", "+mt.kind+") instead.")}if(this.collator&&!le&&this.hasUntypedArgument){var _t=qn(Be),zt=qn(Je);if("string"!==_t.kind||"string"!==zt.kind)return I(Oe,Be,Je)}return this.collator?Z(Oe,Be,Je,this.collator.evaluate(Oe)):I(Oe,Be,Je)},ke.prototype.eachChild=function(Oe){Oe(this.lhs),Oe(this.rhs),this.collator&&Oe(this.collator)},ke.prototype.outputDefined=function(){return!0},ke.prototype.serialize=function(){var Oe=[A];return this.eachChild(function(Be){Oe.push(Be.serialize())}),Oe},ke}()}Ya.parse=function(A,I){if(A.length<=2||A.length>=5)return I.error("Expected 3 or 4 arguments, but found "+(A.length-1)+" instead.");var Z=I.parse(A[1],1,Ft),le=I.parse(A[2],2,Lt);if(!Z||!le)return null;if(!an(Z.type,[on(Ft),It,Ft]))return I.error("Expected first argument to be of type array or string, but found "+Ht(Z.type)+" instead");if(4===A.length){var ke=I.parse(A[3],3,Lt);return ke?new Ya(Z.type,Z,le,ke):null}return new Ya(Z.type,Z,le)},Ya.prototype.evaluate=function(A){var I=this.input.evaluate(A),Z=this.beginIndex.evaluate(A);if(!xn(I,["string","array"]))throw new Jt("Expected first argument to be of type array or string, but found "+Ht(qn(I))+" instead.");if(this.endIndex){var le=this.endIndex.evaluate(A);return I.slice(Z,le)}return I.slice(Z)},Ya.prototype.eachChild=function(A){A(this.input),A(this.beginIndex),this.endIndex&&A(this.endIndex)},Ya.prototype.outputDefined=function(){return!1},Ya.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var A=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),A]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var al=Bo("==",function(A,I,Z){return I===Z},Fs),ol=Bo("!=",function(A,I,Z){return I!==Z},function(A,I,Z,le){return!Fs(0,I,Z,le)}),No=Bo("<",function(A,I,Z){return I<Z},function(A,I,Z,le){return le.compare(I,Z)<0}),sl=Bo(">",function(A,I,Z){return I>Z},function(A,I,Z,le){return le.compare(I,Z)>0}),bl=Bo("<=",function(A,I,Z){return I<=Z},function(A,I,Z,le){return le.compare(I,Z)<=0}),_l=Bo(">=",function(A,I,Z){return I>=Z},function(A,I,Z,le){return le.compare(I,Z)>=0}),jo=function(A,I,Z,le,ke){this.type=It,this.number=A,this.locale=I,this.currency=Z,this.minFractionDigits=le,this.maxFractionDigits=ke};jo.parse=function(A,I){if(3!==A.length)return I.error("Expected two arguments.");var Z=I.parse(A[1],1,Lt);if(!Z)return null;var le=A[2];if("object"!=typeof le||Array.isArray(le))return I.error("NumberFormat options argument must be an object.");var ke=null;if(le.locale&&!(ke=I.parse(le.locale,1,It)))return null;var Oe=null;if(le.currency&&!(Oe=I.parse(le.currency,1,It)))return null;var Be=null;if(le["min-fraction-digits"]&&!(Be=I.parse(le["min-fraction-digits"],1,Lt)))return null;var Je=null;return le["max-fraction-digits"]&&!(Je=I.parse(le["max-fraction-digits"],1,Lt))?null:new jo(Z,ke,Oe,Be,Je)},jo.prototype.evaluate=function(A){return new Intl.NumberFormat(this.locale?this.locale.evaluate(A):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(A):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(A):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(A):void 0}).format(this.number.evaluate(A))},jo.prototype.eachChild=function(A){A(this.number),this.locale&&A(this.locale),this.currency&&A(this.currency),this.minFractionDigits&&A(this.minFractionDigits),this.maxFractionDigits&&A(this.maxFractionDigits)},jo.prototype.outputDefined=function(){return!1},jo.prototype.serialize=function(){var A={};return this.locale&&(A.locale=this.locale.serialize()),this.currency&&(A.currency=this.currency.serialize()),this.minFractionDigits&&(A["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(A["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),A]};var Wa=function(A){this.type=Lt,this.input=A};Wa.parse=function(A,I){if(2!==A.length)return I.error("Expected 1 argument, but found "+(A.length-1)+" instead.");var Z=I.parse(A[1],1);return Z?"array"!==Z.type.kind&&"string"!==Z.type.kind&&"value"!==Z.type.kind?I.error("Expected argument of type string or array, but found "+Ht(Z.type)+" instead."):new Wa(Z):null},Wa.prototype.evaluate=function(A){var I=this.input.evaluate(A);if("string"==typeof I||Array.isArray(I))return I.length;throw new Jt("Expected value to be of type string or array, but found "+Ht(qn(I))+" instead.")},Wa.prototype.eachChild=function(A){A(this.input)},Wa.prototype.outputDefined=function(){return!1},Wa.prototype.serialize=function(){var A=["length"];return this.eachChild(function(I){A.push(I.serialize())}),A};var $o={"==":al,"!=":ol,">":sl,"<":No,">=":_l,"<=":bl,array:fn,at:yo,boolean:fn,case:bo,coalesce:Ga,collator:Ct,format:Mn,image:Fn,in:Za,"index-of":xo,interpolate:Di,"interpolate-hcl":Di,"interpolate-lab":Di,length:Wa,let:Ia,literal:Nt,match:io,number:fn,"number-format":jo,object:fn,slice:Ya,step:Mr,string:fn,"to-boolean":Rn,"to-color":Rn,"to-number":Rn,"to-string":Rn,var:fr,within:Qn};function Uo(A,I){var Z=I[0],le=I[1],ke=I[2],Oe=I[3];Z=Z.evaluate(A),le=le.evaluate(A),ke=ke.evaluate(A);var Be=Oe?Oe.evaluate(A):1,Je=or(Z,le,ke,Be);if(Je)throw new Jt(Je);return new An(Z/255*Be,le/255*Be,ke/255*Be,Be)}function vs(A,I){return A in I}function Vo(A,I){var Z=I[A];return void 0===Z?null:Z}function za(A){return{type:A}}function Ks(A){return{result:"success",value:A}}function _o(A){return{result:"error",value:A}}function ao(A){return"data-driven"===A["property-type"]||"cross-faded-data-driven"===A["property-type"]}function oo(A){return!!A.expression&&A.expression.parameters.indexOf("zoom")>-1}function wo(A){return!!A.expression&&A.expression.interpolated}function jr(A){return A instanceof Number?"number":A instanceof String?"string":A instanceof Boolean?"boolean":Array.isArray(A)?"array":null===A?"null":typeof A}function Qo(A){return"object"==typeof A&&null!==A&&!Array.isArray(A)}function wl(A){return A}function Bs(A,I){var Z,le,ke,Oe="color"===I.type,Be=A.stops&&"object"==typeof A.stops[0][0],Je=Be||void 0!==A.property,ot=Be||!Je,mt=A.type||(wo(I)?"exponential":"interval");if(Oe&&((A=dt({},A)).stops&&(A.stops=A.stops.map(function(ur){return[ur[0],An.parse(ur[1])]})),A.default?A.default=An.parse(A.default):A.default=An.parse(I.default)),A.colorSpace&&"rgb"!==A.colorSpace&&!hi[A.colorSpace])throw new Error("Unknown color space: "+A.colorSpace);if("exponential"===mt)Z=Ns;else if("interval"===mt)Z=Tl;else if("categorical"===mt){Z=ll,le=Object.create(null);for(var _t=0,zt=A.stops;_t<zt.length;_t+=1){var jt=zt[_t];le[jt[0]]=jt[1]}ke=typeof A.stops[0][0]}else{if("identity"!==mt)throw new Error('Unknown function type "'+mt+'"');Z=kl}if(Be){for(var Rt={},tn=[],rn=0;rn<A.stops.length;rn++){var Tn=A.stops[rn],bn=Tn[0].zoom;void 0===Rt[bn]&&(Rt[bn]={zoom:bn,type:A.type,property:A.property,default:A.default,stops:[]},tn.push(bn)),Rt[bn].stops.push([Tn[0].value,Tn[1]])}for(var zn=[],Dn=0,jn=tn;Dn<jn.length;Dn+=1){var Gn=jn[Dn];zn.push([Rt[Gn].zoom,Bs(Rt[Gn],I)])}var Kn={name:"linear"};return{kind:"composite",interpolationType:Kn,interpolationFactor:Di.interpolationFactor.bind(void 0,Kn),zoomStops:zn.map(function(ur){return ur[0]}),evaluate:function(ur,mr){var xr=ur.zoom;return Ns({stops:zn,base:A.base},I,xr).evaluate(xr,mr)}}}if(ot){var pr="exponential"===mt?{name:"exponential",base:void 0!==A.base?A.base:1}:null;return{kind:"camera",interpolationType:pr,interpolationFactor:Di.interpolationFactor.bind(void 0,pr),zoomStops:A.stops.map(function(ur){return ur[0]}),evaluate:function(ur){var mr=ur.zoom;return Z(A,I,mr,le,ke)}}}return{kind:"source",evaluate:function(ur,mr){var xr=mr&&mr.properties?mr.properties[A.property]:void 0;return void 0===xr?es(A.default,I.default):Z(A,I,xr,le,ke)}}}function es(A,I,Z){return void 0!==A?A:void 0!==I?I:void 0!==Z?Z:void 0}function ll(A,I,Z,le,ke){return es(typeof Z===ke?le[Z]:void 0,A.default,I.default)}function Tl(A,I,Z){if("number"!==jr(Z))return es(A.default,I.default);var le=A.stops.length;if(1===le||Z<=A.stops[0][0])return A.stops[0][1];if(Z>=A.stops[le-1][0])return A.stops[le-1][1];var ke=vr(A.stops.map(function(Oe){return Oe[0]}),Z);return A.stops[ke][1]}function Ns(A,I,Z){var le=void 0!==A.base?A.base:1;if("number"!==jr(Z))return es(A.default,I.default);var ke=A.stops.length;if(1===ke||Z<=A.stops[0][0])return A.stops[0][1];if(Z>=A.stops[ke-1][0])return A.stops[ke-1][1];var zt,jt,Rt,tn,rn,Tn,Oe=vr(A.stops.map(function(zt){return zt[0]}),Z),Be=(zt=Z,jt=le,Rt=A.stops[Oe][0],tn=A.stops[Oe+1][0],Tn=zt-Rt,0==(rn=tn-Rt)?0:1===jt?Tn/rn:(Math.pow(jt,Tn)-1)/(Math.pow(jt,rn)-1)),Je=A.stops[Oe][1],ot=A.stops[Oe+1][1],mt=ii[I.type]||wl;if(A.colorSpace&&"rgb"!==A.colorSpace){var _t=hi[A.colorSpace];mt=function(zt,jt){return _t.reverse(_t.interpolate(_t.forward(zt),_t.forward(jt),Be))}}return"function"==typeof Je.evaluate?{evaluate:function(){for(var zt=[],jt=arguments.length;jt--;)zt[jt]=arguments[jt];var Rt=Je.evaluate.apply(void 0,zt),tn=ot.evaluate.apply(void 0,zt);if(void 0!==Rt&&void 0!==tn)return mt(Rt,tn,Be)}}:mt(Je,ot,Be)}function kl(A,I,Z){return"color"===I.type?Z=An.parse(Z):"formatted"===I.type?Z=Bn.fromString(Z.toString()):"resolvedImage"===I.type?Z=er.fromString(Z.toString()):jr(Z)===I.type||"enum"===I.type&&I.values[Z]||(Z=void 0),es(Z,A.default,I.default)}gn.register($o,{error:[{kind:"error"},[It],function(A,I){var Z=I[0];throw new Jt(Z.evaluate(A))}],typeof:[It,[Ft],function(A,I){return Ht(qn(I[0].evaluate(A)))}],"to-rgba":[on(Lt,4),[Qt],function(A,I){return I[0].evaluate(A).toArray()}],rgb:[Qt,[Lt,Lt,Lt],Uo],rgba:[Qt,[Lt,Lt,Lt,Lt],Uo],has:{type:qt,overloads:[[[It],function(A,I){return vs(I[0].evaluate(A),A.properties())}],[[It,Vt],function(A,I){var Z=I[0],le=I[1];return vs(Z.evaluate(A),le.evaluate(A))}]]},get:{type:Ft,overloads:[[[It],function(A,I){return Vo(I[0].evaluate(A),A.properties())}],[[It,Vt],function(A,I){var Z=I[0],le=I[1];return Vo(Z.evaluate(A),le.evaluate(A))}]]},"feature-state":[Ft,[It],function(A,I){return Vo(I[0].evaluate(A),A.featureState||{})}],properties:[Vt,[],function(A){return A.properties()}],"geometry-type":[It,[],function(A){return A.geometryType()}],id:[Ft,[],function(A){return A.id()}],zoom:[Lt,[],function(A){return A.globals.zoom}],"heatmap-density":[Lt,[],function(A){return A.globals.heatmapDensity||0}],"line-progress":[Lt,[],function(A){return A.globals.lineProgress||0}],accumulated:[Ft,[],function(A){return void 0===A.globals.accumulated?null:A.globals.accumulated}],"+":[Lt,za(Lt),function(A,I){for(var Z=0,le=0,ke=I;le<ke.length;le+=1)Z+=ke[le].evaluate(A);return Z}],"*":[Lt,za(Lt),function(A,I){for(var Z=1,le=0,ke=I;le<ke.length;le+=1)Z*=ke[le].evaluate(A);return Z}],"-":{type:Lt,overloads:[[[Lt,Lt],function(A,I){var Z=I[0],le=I[1];return Z.evaluate(A)-le.evaluate(A)}],[[Lt],function(A,I){return-I[0].evaluate(A)}]]},"/":[Lt,[Lt,Lt],function(A,I){var Z=I[0],le=I[1];return Z.evaluate(A)/le.evaluate(A)}],"%":[Lt,[Lt,Lt],function(A,I){var Z=I[0],le=I[1];return Z.evaluate(A)%le.evaluate(A)}],ln2:[Lt,[],function(){return Math.LN2}],pi:[Lt,[],function(){return Math.PI}],e:[Lt,[],function(){return Math.E}],"^":[Lt,[Lt,Lt],function(A,I){var Z=I[0],le=I[1];return Math.pow(Z.evaluate(A),le.evaluate(A))}],sqrt:[Lt,[Lt],function(A,I){var Z=I[0];return Math.sqrt(Z.evaluate(A))}],log10:[Lt,[Lt],function(A,I){var Z=I[0];return Math.log(Z.evaluate(A))/Math.LN10}],ln:[Lt,[Lt],function(A,I){var Z=I[0];return Math.log(Z.evaluate(A))}],log2:[Lt,[Lt],function(A,I){var Z=I[0];return Math.log(Z.evaluate(A))/Math.LN2}],sin:[Lt,[Lt],function(A,I){var Z=I[0];return Math.sin(Z.evaluate(A))}],cos:[Lt,[Lt],function(A,I){var Z=I[0];return Math.cos(Z.evaluate(A))}],tan:[Lt,[Lt],function(A,I){var Z=I[0];return Math.tan(Z.evaluate(A))}],asin:[Lt,[Lt],function(A,I){var Z=I[0];return Math.asin(Z.evaluate(A))}],acos:[Lt,[Lt],function(A,I){var Z=I[0];return Math.acos(Z.evaluate(A))}],atan:[Lt,[Lt],function(A,I){var Z=I[0];return Math.atan(Z.evaluate(A))}],min:[Lt,za(Lt),function(A,I){return Math.min.apply(Math,I.map(function(Z){return Z.evaluate(A)}))}],max:[Lt,za(Lt),function(A,I){return Math.max.apply(Math,I.map(function(Z){return Z.evaluate(A)}))}],abs:[Lt,[Lt],function(A,I){var Z=I[0];return Math.abs(Z.evaluate(A))}],round:[Lt,[Lt],function(A,I){var Z=I[0].evaluate(A);return Z<0?-Math.round(-Z):Math.round(Z)}],floor:[Lt,[Lt],function(A,I){var Z=I[0];return Math.floor(Z.evaluate(A))}],ceil:[Lt,[Lt],function(A,I){var Z=I[0];return Math.ceil(Z.evaluate(A))}],"filter-==":[qt,[It,Ft],function(A,I){var Z=I[0],le=I[1];return A.properties()[Z.value]===le.value}],"filter-id-==":[qt,[Ft],function(A,I){var Z=I[0];return A.id()===Z.value}],"filter-type-==":[qt,[It],function(A,I){var Z=I[0];return A.geometryType()===Z.value}],"filter-<":[qt,[It,Ft],function(A,I){var Z=I[0],le=I[1],ke=A.properties()[Z.value],Oe=le.value;return typeof ke==typeof Oe&&ke<Oe}],"filter-id-<":[qt,[Ft],function(A,I){var Z=I[0],le=A.id(),ke=Z.value;return typeof le==typeof ke&&le<ke}],"filter->":[qt,[It,Ft],function(A,I){var Z=I[0],le=I[1],ke=A.properties()[Z.value],Oe=le.value;return typeof ke==typeof Oe&&ke>Oe}],"filter-id->":[qt,[Ft],function(A,I){var Z=I[0],le=A.id(),ke=Z.value;return typeof le==typeof ke&&le>ke}],"filter-<=":[qt,[It,Ft],function(A,I){var Z=I[0],le=I[1],ke=A.properties()[Z.value],Oe=le.value;return typeof ke==typeof Oe&&ke<=Oe}],"filter-id-<=":[qt,[Ft],function(A,I){var Z=I[0],le=A.id(),ke=Z.value;return typeof le==typeof ke&&le<=ke}],"filter->=":[qt,[It,Ft],function(A,I){var Z=I[0],le=I[1],ke=A.properties()[Z.value],Oe=le.value;return typeof ke==typeof Oe&&ke>=Oe}],"filter-id->=":[qt,[Ft],function(A,I){var Z=I[0],le=A.id(),ke=Z.value;return typeof le==typeof ke&&le>=ke}],"filter-has":[qt,[Ft],function(A,I){return I[0].value in A.properties()}],"filter-has-id":[qt,[],function(A){return null!==A.id()&&void 0!==A.id()}],"filter-type-in":[qt,[on(It)],function(A,I){return I[0].value.indexOf(A.geometryType())>=0}],"filter-id-in":[qt,[on(Ft)],function(A,I){return I[0].value.indexOf(A.id())>=0}],"filter-in-small":[qt,[It,on(Ft)],function(A,I){var Z=I[0];return I[1].value.indexOf(A.properties()[Z.value])>=0}],"filter-in-large":[qt,[It,on(Ft)],function(A,I){var Z=I[0],le=I[1];return function(ke,Oe,Be,Je){for(;Be<=Je;){var ot=Be+Je>>1;if(Oe[ot]===ke)return!0;Oe[ot]>ke?Je=ot-1:Be=ot+1}return!1}(A.properties()[Z.value],le.value,0,le.value.length-1)}],all:{type:qt,overloads:[[[qt,qt],function(A,I){var Z=I[0],le=I[1];return Z.evaluate(A)&&le.evaluate(A)}],[za(qt),function(A,I){for(var Z=0,le=I;Z<le.length;Z+=1)if(!le[Z].evaluate(A))return!1;return!0}]]},any:{type:qt,overloads:[[[qt,qt],function(A,I){var Z=I[0],le=I[1];return Z.evaluate(A)||le.evaluate(A)}],[za(qt),function(A,I){for(var Z=0,le=I;Z<le.length;Z+=1)if(le[Z].evaluate(A))return!0;return!1}]]},"!":[qt,[qt],function(A,I){return!I[0].evaluate(A)}],"is-supported-script":[qt,[It],function(A,I){var Z=I[0],le=A.globals&&A.globals.isSupportedScript;return!le||le(Z.evaluate(A))}],upcase:[It,[It],function(A,I){return I[0].evaluate(A).toUpperCase()}],downcase:[It,[It],function(A,I){return I[0].evaluate(A).toLowerCase()}],concat:[It,za(Ft),function(A,I){return I.map(function(Z){return cr(Z.evaluate(A))}).join("")}],"resolved-locale":[It,[en],function(A,I){return I[0].evaluate(A).resolvedLocale()}]});var To=function(A,I){var Z;this.expression=A,this._warningHistory={},this._evaluator=new Yt,this._defaultValue=I?"color"===(Z=I).type&&Qo(Z.default)?new An(0,0,0,0):"color"===Z.type?An.parse(Z.default)||null:void 0===Z.default?null:Z.default:null,this._enumValues=I&&"enum"===I.type?I.values:null};function Ho(A){return Array.isArray(A)&&A.length>0&&"string"==typeof A[0]&&A[0]in $o}function so(A,I){var ke,Oe,Z=new wr($o,[],I?(Oe={color:Qt,string:It,number:Lt,enum:It,boolean:qt,formatted:wn,resolvedImage:kn},"array"===(ke=I).type?on(Oe[ke.value]||Ft,ke.length):Oe[ke.type]):void 0),le=Z.parse(A,void 0,void 0,void 0,I&&"string"===I.type?{typeAnnotation:"coerce"}:void 0);return le?Ks(new To(le,I)):_o(Z.errors)}To.prototype.evaluateWithoutErrorHandling=function(A,I,Z,le,ke,Oe){return this._evaluator.globals=A,this._evaluator.feature=I,this._evaluator.featureState=Z,this._evaluator.canonical=le,this._evaluator.availableImages=ke||null,this._evaluator.formattedSection=Oe,this.expression.evaluate(this._evaluator)},To.prototype.evaluate=function(A,I,Z,le,ke,Oe){this._evaluator.globals=A,this._evaluator.feature=I||null,this._evaluator.featureState=Z||null,this._evaluator.canonical=le,this._evaluator.availableImages=ke||null,this._evaluator.formattedSection=Oe||null;try{var Be=this.expression.evaluate(this._evaluator);if(null==Be||"number"==typeof Be&&Be!=Be)return this._defaultValue;if(this._enumValues&&!(Be in this._enumValues))throw new Jt("Expected value to be one of "+Object.keys(this._enumValues).map(function(Je){return JSON.stringify(Je)}).join(", ")+", but found "+JSON.stringify(Be)+" instead.");return Be}catch(Je){return this._warningHistory[Je.message]||(this._warningHistory[Je.message]=!0,typeof console<"u"&&console.warn(Je.message)),this._defaultValue}};var Da=function(A,I){this.kind=A,this._styleExpression=I,this.isStateDependent="constant"!==A&&!ir(I.expression)};Da.prototype.evaluateWithoutErrorHandling=function(A,I,Z,le,ke,Oe){return this._styleExpression.evaluateWithoutErrorHandling(A,I,Z,le,ke,Oe)},Da.prototype.evaluate=function(A,I,Z,le,ke,Oe){return this._styleExpression.evaluate(A,I,Z,le,ke,Oe)};var ts=function(A,I,Z,le){this.kind=A,this.zoomStops=Z,this._styleExpression=I,this.isStateDependent="camera"!==A&&!ir(I.expression),this.interpolationType=le};function ul(A,I){if("error"===(A=so(A,I)).result)return A;var Z=A.value.expression,le=ar(Z);if(!le&&!ao(I))return _o([new yt("","data expressions not supported")]);var ke=hr(Z,["zoom"]);if(!ke&&!oo(I))return _o([new yt("","zoom expressions not supported")]);var Oe=js(Z);if(!Oe&&!ke)return _o([new yt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Oe instanceof yt)return _o([Oe]);if(Oe instanceof Di&&!wo(I))return _o([new yt("",'"interpolate" expressions cannot be used with this property')]);if(!Oe)return Ks(new Da(le?"constant":"source",A.value));var Be=Oe instanceof Di?Oe.interpolation:void 0;return Ks(new ts(le?"camera":"composite",A.value,Oe.labels,Be))}ts.prototype.evaluateWithoutErrorHandling=function(A,I,Z,le,ke,Oe){return this._styleExpression.evaluateWithoutErrorHandling(A,I,Z,le,ke,Oe)},ts.prototype.evaluate=function(A,I,Z,le,ke,Oe){return this._styleExpression.evaluate(A,I,Z,le,ke,Oe)},ts.prototype.interpolationFactor=function(A,I,Z){return this.interpolationType?Di.interpolationFactor(this.interpolationType,A,I,Z):0};var ms=function(A,I){this._parameters=A,this._specification=I,dt(this,Bs(this._parameters,this._specification))};function js(A){var I=null;if(A instanceof Ia)I=js(A.result);else if(A instanceof Ga)for(var Z=0,le=A.args;Z<le.length;Z+=1){var ke=le[Z];if(I=js(ke))break}else(A instanceof Mr||A instanceof Di)&&A.input instanceof gn&&"zoom"===A.input.name&&(I=A);return I instanceof yt||A.eachChild(function(Oe){var Be=js(Oe);Be instanceof yt?I=Be:!I&&Be?I=new yt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&Be&&I!==Be&&(I=new yt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function ya(A){var I=A.key,Z=A.value,le=A.valueSpec||{},ke=A.objectElementValidators||{},Oe=A.style,Be=A.styleSpec,Je=[],ot=jr(Z);if("object"!==ot)return[new ct(I,Z,"object expected, "+ot+" found")];for(var mt in Z){var _t=mt.split(".")[0],zt=le[_t]||le["*"],jt=void 0;if(ke[_t])jt=ke[_t];else if(le[_t])jt=Aa;else if(ke["*"])jt=ke["*"];else{if(!le["*"]){Je.push(new ct(I,Z[mt],'unknown property "'+mt+'"'));continue}jt=Aa}Je=Je.concat(jt({key:(I&&I+".")+mt,value:Z[mt],valueSpec:zt,style:Oe,styleSpec:Be,object:Z,objectKey:mt},Z))}for(var Rt in le)ke[Rt]||le[Rt].required&&void 0===le[Rt].default&&void 0===Z[Rt]&&Je.push(new ct(I,Z,'missing required property "'+Rt+'"'));return Je}function Us(A){var I=A.value,Z=A.valueSpec,le=A.style,ke=A.styleSpec,Oe=A.key,Be=A.arrayElementValidator||Aa;if("array"!==jr(I))return[new ct(Oe,I,"array expected, "+jr(I)+" found")];if(Z.length&&I.length!==Z.length)return[new ct(Oe,I,"array length "+Z.length+" expected, length "+I.length+" found")];if(Z["min-length"]&&I.length<Z["min-length"])return[new ct(Oe,I,"array length at least "+Z["min-length"]+" expected, length "+I.length+" found")];var Je={type:Z.value,values:Z.values};ke.$version<7&&(Je.function=Z.function),"object"===jr(Z.value)&&(Je=Z.value);for(var ot=[],mt=0;mt<I.length;mt++)ot=ot.concat(Be({array:I,arrayIndex:mt,value:I[mt],valueSpec:Je,style:le,styleSpec:ke,key:Oe+"["+mt+"]"}));return ot}function cl(A){var I=A.key,Z=A.value,le=A.valueSpec,ke=jr(Z);return"number"===ke&&Z!=Z&&(ke="NaN"),"number"!==ke?[new ct(I,Z,"number expected, "+ke+" found")]:"minimum"in le&&Z<le.minimum?[new ct(I,Z,Z+" is less than the minimum value "+le.minimum)]:"maximum"in le&&Z>le.maximum?[new ct(I,Z,Z+" is greater than the maximum value "+le.maximum)]:[]}function ns(A){var I,Z,le,ke=A.valueSpec,Oe=ut(A.value.type),Be={},Je="categorical"!==Oe&&void 0===A.value.property,ot=!Je,mt="array"===jr(A.value.stops)&&"array"===jr(A.value.stops[0])&&"object"===jr(A.value.stops[0][0]),_t=ya({key:A.key,value:A.value,valueSpec:A.styleSpec.function,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{stops:function(Rt){if("identity"===Oe)return[new ct(Rt.key,Rt.value,'identity function may not have a "stops" property')];var tn=[],rn=Rt.value;return tn=tn.concat(Us({key:Rt.key,value:rn,valueSpec:Rt.valueSpec,style:Rt.style,styleSpec:Rt.styleSpec,arrayElementValidator:zt})),"array"===jr(rn)&&0===rn.length&&tn.push(new ct(Rt.key,rn,"array must have at least one stop")),tn},default:function(Rt){return Aa({key:Rt.key,value:Rt.value,valueSpec:ke,style:Rt.style,styleSpec:Rt.styleSpec})}}});return"identity"===Oe&&Je&&_t.push(new ct(A.key,A.value,'missing required property "property"')),"identity"===Oe||A.value.stops||_t.push(new ct(A.key,A.value,'missing required property "stops"')),"exponential"===Oe&&A.valueSpec.expression&&!wo(A.valueSpec)&&_t.push(new ct(A.key,A.value,"exponential functions not supported")),A.styleSpec.$version>=8&&(ot&&!ao(A.valueSpec)?_t.push(new ct(A.key,A.value,"property functions not supported")):Je&&!oo(A.valueSpec)&&_t.push(new ct(A.key,A.value,"zoom functions not supported"))),"categorical"!==Oe&&!mt||void 0!==A.value.property||_t.push(new ct(A.key,A.value,'"property" property is required')),_t;function zt(Rt){var tn=[],rn=Rt.value,Tn=Rt.key;if("array"!==jr(rn))return[new ct(Tn,rn,"array expected, "+jr(rn)+" found")];if(2!==rn.length)return[new ct(Tn,rn,"array length 2 expected, length "+rn.length+" found")];if(mt){if("object"!==jr(rn[0]))return[new ct(Tn,rn,"object expected, "+jr(rn[0])+" found")];if(void 0===rn[0].zoom)return[new ct(Tn,rn,"object stop key must have zoom")];if(void 0===rn[0].value)return[new ct(Tn,rn,"object stop key must have value")];if(le&&le>ut(rn[0].zoom))return[new ct(Tn,rn[0].zoom,"stop zoom values must appear in ascending order")];ut(rn[0].zoom)!==le&&(le=ut(rn[0].zoom),Z=void 0,Be={}),tn=tn.concat(ya({key:Tn+"[0]",value:rn[0],valueSpec:{zoom:{}},style:Rt.style,styleSpec:Rt.styleSpec,objectElementValidators:{zoom:cl,value:jt}}))}else tn=tn.concat(jt({key:Tn+"[0]",value:rn[0],valueSpec:{},style:Rt.style,styleSpec:Rt.styleSpec},rn));return Ho(kt(rn[1]))?tn.concat([new ct(Tn+"[1]",rn[1],"expressions are not allowed in function stops.")]):tn.concat(Aa({key:Tn+"[1]",value:rn[1],valueSpec:ke,style:Rt.style,styleSpec:Rt.styleSpec}))}function jt(Rt,tn){var rn=jr(Rt.value),Tn=ut(Rt.value),bn=null!==Rt.value?Rt.value:tn;if(I){if(rn!==I)return[new ct(Rt.key,bn,rn+" stop domain type must match previous stop domain type "+I)]}else I=rn;if("number"!==rn&&"string"!==rn&&"boolean"!==rn)return[new ct(Rt.key,bn,"stop domain value must be a number, string, or boolean")];if("number"!==rn&&"categorical"!==Oe){var zn="number expected, "+rn+" found";return ao(ke)&&void 0===Oe&&(zn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ct(Rt.key,bn,zn)]}return"categorical"!==Oe||"number"!==rn||isFinite(Tn)&&Math.floor(Tn)===Tn?"categorical"!==Oe&&"number"===rn&&void 0!==Z&&Tn<Z?[new ct(Rt.key,bn,"stop domain values must appear in ascending order")]:(Z=Tn,"categorical"===Oe&&Tn in Be?[new ct(Rt.key,bn,"stop domain values must be unique")]:(Be[Tn]=!0,[])):[new ct(Rt.key,bn,"integer expected, found "+Tn)]}}function qo(A){var I=("property"===A.expressionContext?ul:so)(kt(A.value),A.valueSpec);if("error"===I.result)return I.value.map(function(le){return new ct(""+A.key+le.key,A.value,le.message)});var Z=I.value.expression||I.value._styleExpression.expression;if("property"===A.expressionContext&&"text-font"===A.propertyKey&&!Z.outputDefined())return[new ct(A.key,A.value,'Invalid data expression for "'+A.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===A.expressionContext&&"layout"===A.propertyType&&!ir(Z))return[new ct(A.key,A.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===A.expressionContext&&!ir(Z))return[new ct(A.key,A.value,'"feature-state" data expressions are not supported with filters.')];if(A.expressionContext&&0===A.expressionContext.indexOf("cluster")){if(!hr(Z,["zoom","feature-state"]))return[new ct(A.key,A.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===A.expressionContext&&!ar(Z))return[new ct(A.key,A.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rs(A){var I=A.key,Z=A.value,le=A.valueSpec,ke=[];return Array.isArray(le.values)?-1===le.values.indexOf(ut(Z))&&ke.push(new ct(I,Z,"expected one of ["+le.values.join(", ")+"], "+JSON.stringify(Z)+" found")):-1===Object.keys(le.values).indexOf(ut(Z))&&ke.push(new ct(I,Z,"expected one of ["+Object.keys(le.values).join(", ")+"], "+JSON.stringify(Z)+" found")),ke}function Go(A){if(!0===A||!1===A)return!0;if(!Array.isArray(A)||0===A.length)return!1;switch(A[0]){case"has":return A.length>=2&&"$id"!==A[1]&&"$type"!==A[1];case"in":return A.length>=3&&("string"!=typeof A[1]||Array.isArray(A[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==A.length||Array.isArray(A[1])||Array.isArray(A[2]);case"any":case"all":for(var I=0,Z=A.slice(1);I<Z.length;I+=1){var le=Z[I];if(!Go(le)&&"boolean"!=typeof le)return!1}return!0;default:return!0}}ms.deserialize=function(A){return new ms(A._parameters,A._specification)},ms.serialize=function(A){return{_parameters:A._parameters,_specification:A._specification}};var Zo={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ys(A){if(null==A)return{filter:function(){return!0},needGeometry:!1};Go(A)||(A=ko(A));var I=so(A,Zo);if("error"===I.result)throw new Error(I.value.map(function(Z){return Z.key+": "+Z.message}).join(", "));return{filter:function(Z,le,ke){return I.value.evaluate(Z,le,{},ke)},needGeometry:$r(A)}}function Vs(A,I){return A<I?-1:A>I?1:0}function $r(A){if(!Array.isArray(A))return!1;if("within"===A[0])return!0;for(var I=1;I<A.length;I++)if($r(A[I]))return!0;return!1}function ko(A){if(!A)return!0;var I,Z=A[0];return A.length<=1?"any"!==Z:"=="===Z?Zi(A[1],A[2],"=="):"!="===Z?Kr(Zi(A[1],A[2],"==")):"<"===Z||">"===Z||"<="===Z||">="===Z?Zi(A[1],A[2],Z):"any"===Z?(I=A.slice(1),["any"].concat(I.map(ko))):"all"===Z?["all"].concat(A.slice(1).map(ko)):"none"===Z?["all"].concat(A.slice(1).map(ko).map(Kr)):"in"===Z?Ra(A[1],A.slice(2)):"!in"===Z?Kr(Ra(A[1],A.slice(2))):"has"===Z?Zr(A[1]):"!has"===Z?Kr(Zr(A[1])):"within"!==Z||A}function Zi(A,I,Z){switch(A){case"$type":return["filter-type-"+Z,I];case"$id":return["filter-id-"+Z,I];default:return["filter-"+Z,A,I]}}function Ra(A,I){if(0===I.length)return!1;switch(A){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(Z){return typeof Z!=typeof I[0]})?["filter-in-large",A,["literal",I.sort(Vs)]]:["filter-in-small",A,["literal",I]]}}function Zr(A){switch(A){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",A]}}function Kr(A){return["!",A]}function xa(A){return Go(kt(A.value))?qo(dt({},A,{expressionContext:"filter",valueSpec:{value:"boolean"}})):is(A)}function is(A){var I=A.value,Z=A.key;if("array"!==jr(I))return[new ct(Z,I,"array expected, "+jr(I)+" found")];var le,ke=A.styleSpec,Oe=[];if(I.length<1)return[new ct(Z,I,"filter array must have at least 1 element")];switch(Oe=Oe.concat(rs({key:Z+"[0]",value:I[0],valueSpec:ke.filter_operator,style:A.style,styleSpec:A.styleSpec})),ut(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&"$type"===ut(I[1])&&Oe.push(new ct(Z,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":3!==I.length&&Oe.push(new ct(Z,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&"string"!==(le=jr(I[1]))&&Oe.push(new ct(Z+"[1]",I[1],"string expected, "+le+" found"));for(var Be=2;Be<I.length;Be++)le=jr(I[Be]),"$type"===ut(I[1])?Oe=Oe.concat(rs({key:Z+"["+Be+"]",value:I[Be],valueSpec:ke.geometry_type,style:A.style,styleSpec:A.styleSpec})):"string"!==le&&"number"!==le&&"boolean"!==le&&Oe.push(new ct(Z+"["+Be+"]",I[Be],"string, number, or boolean expected, "+le+" found"));break;case"any":case"all":case"none":for(var Je=1;Je<I.length;Je++)Oe=Oe.concat(is({key:Z+"["+Je+"]",value:I[Je],style:A.style,styleSpec:A.styleSpec}));break;case"has":case"!has":le=jr(I[1]),2!==I.length?Oe.push(new ct(Z,I,'filter array for "'+I[0]+'" operator must have 2 elements')):"string"!==le&&Oe.push(new ct(Z+"[1]",I[1],"string expected, "+le+" found"));break;case"within":le=jr(I[1]),2!==I.length?Oe.push(new ct(Z,I,'filter array for "'+I[0]+'" operator must have 2 elements')):"object"!==le&&Oe.push(new ct(Z+"[1]",I[1],"object expected, "+le+" found"))}return Oe}function xs(A,I){var Z=A.key,le=A.style,ke=A.styleSpec,Oe=A.value,Be=A.objectKey,Je=ke[I+"_"+A.layerType];if(!Je)return[];var ot=Be.match(/^(.*)-transition$/);if("paint"===I&&ot&&Je[ot[1]]&&Je[ot[1]].transition)return Aa({key:Z,value:Oe,valueSpec:ke.transition,style:le,styleSpec:ke});var mt,_t=A.valueSpec||Je[Be];if(!_t)return[new ct(Z,Oe,'unknown property "'+Be+'"')];if("string"===jr(Oe)&&ao(_t)&&!_t.tokens&&(mt=/^{([^}]+)}$/.exec(Oe)))return[new ct(Z,Oe,'"'+Be+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(mt[1])+" }`.")];var zt=[];return"symbol"===A.layerType&&("text-field"===Be&&le&&!le.glyphs&&zt.push(new ct(Z,Oe,'use of "text-field" requires a style "glyphs" property')),"text-font"===Be&&Qo(kt(Oe))&&"identity"===ut(Oe.type)&&zt.push(new ct(Z,Oe,'"text-font" does not support identity functions'))),zt.concat(Aa({key:A.key,value:Oe,valueSpec:_t,style:le,styleSpec:ke,expressionContext:"property",propertyType:I,propertyKey:Be}))}function Hs(A){return xs(A,"paint")}function bs(A){return xs(A,"layout")}function _s(A){var I=[],Z=A.value,le=A.key,ke=A.style,Oe=A.styleSpec;Z.type||Z.ref||I.push(new ct(le,Z,'either "type" or "ref" is required'));var Be,Je=ut(Z.type),ot=ut(Z.ref);if(Z.id)for(var mt=ut(Z.id),_t=0;_t<A.arrayIndex;_t++){var zt=ke.layers[_t];ut(zt.id)===mt&&I.push(new ct(le,Z.id,'duplicate layer id "'+Z.id+'", previously used at line '+zt.id.__line__))}if("ref"in Z)["type","source","source-layer","filter","layout"].forEach(function(tn){tn in Z&&I.push(new ct(le,Z[tn],'"'+tn+'" is prohibited for ref layers'))}),ke.layers.forEach(function(tn){ut(tn.id)===ot&&(Be=tn)}),Be?Be.ref?I.push(new ct(le,Z.ref,"ref cannot reference another ref layer")):Je=ut(Be.type):I.push(new ct(le,Z.ref,'ref layer "'+ot+'" not found'));else if("background"!==Je)if(Z.source){var jt=ke.sources&&ke.sources[Z.source],Rt=jt&&ut(jt.type);jt?"vector"===Rt&&"raster"===Je?I.push(new ct(le,Z.source,'layer "'+Z.id+'" requires a raster source')):"raster"===Rt&&"raster"!==Je?I.push(new ct(le,Z.source,'layer "'+Z.id+'" requires a vector source')):"vector"!==Rt||Z["source-layer"]?"raster-dem"===Rt&&"hillshade"!==Je?I.push(new ct(le,Z.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==Je||!Z.paint||!Z.paint["line-gradient"]||"geojson"===Rt&&jt.lineMetrics||I.push(new ct(le,Z,'layer "'+Z.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new ct(le,Z,'layer "'+Z.id+'" must specify a "source-layer"')):I.push(new ct(le,Z.source,'source "'+Z.source+'" not found'))}else I.push(new ct(le,Z,'missing required property "source"'));return I=I.concat(ya({key:le,value:Z,valueSpec:Oe.layer,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Aa({key:le+".type",value:Z.type,valueSpec:Oe.layer.type,style:A.style,styleSpec:A.styleSpec,object:Z,objectKey:"type"})},filter:xa,layout:function(tn){return ya({layer:Z,key:tn.key,value:tn.value,style:tn.style,styleSpec:tn.styleSpec,objectElementValidators:{"*":function(rn){return bs(dt({layerType:Je},rn))}}})},paint:function(tn){return ya({layer:Z,key:tn.key,value:tn.value,style:tn.style,styleSpec:tn.styleSpec,objectElementValidators:{"*":function(rn){return Hs(dt({layerType:Je},rn))}}})}}}))}function ka(A){var I=A.value,Z=A.key,le=jr(I);return"string"!==le?[new ct(Z,I,"string expected, "+le+" found")]:[]}var Ao={promoteId:function(A){var I=A.key,Z=A.value;if("string"===jr(Z))return ka({key:I,value:Z});var le=[];for(var ke in Z)le.push.apply(le,ka({key:I+"."+ke,value:Z[ke]}));return le}};function Mo(A){var I=A.value,Z=A.key,le=A.styleSpec,ke=A.style;if(!I.type)return[new ct(Z,I,'"type" is required')];var Oe,Be=ut(I.type);switch(Be){case"vector":case"raster":case"raster-dem":return ya({key:Z,value:I,valueSpec:le["source_"+Be.replace("-","_")],style:A.style,styleSpec:le,objectElementValidators:Ao});case"geojson":if(Oe=ya({key:Z,value:I,valueSpec:le.source_geojson,style:ke,styleSpec:le,objectElementValidators:Ao}),I.cluster)for(var Je in I.clusterProperties){var ot=I.clusterProperties[Je],mt=ot[0],_t=ot[1],zt="string"==typeof mt?[mt,["accumulated"],["get",Je]]:mt;Oe.push.apply(Oe,qo({key:Z+"."+Je+".map",value:_t,expressionContext:"cluster-map"})),Oe.push.apply(Oe,qo({key:Z+"."+Je+".reduce",value:zt,expressionContext:"cluster-reduce"}))}return Oe;case"video":return ya({key:Z,value:I,valueSpec:le.source_video,style:ke,styleSpec:le});case"image":return ya({key:Z,value:I,valueSpec:le.source_image,style:ke,styleSpec:le});case"canvas":return[new ct(Z,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rs({key:Z+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ke,styleSpec:le})}}function $i(A){var I=A.value,Z=A.styleSpec,le=Z.light,ke=A.style,Oe=[],Be=jr(I);if(void 0===I)return Oe;if("object"!==Be)return Oe.concat([new ct("light",I,"object expected, "+Be+" found")]);for(var Je in I){var ot=Je.match(/^(.*)-transition$/);Oe=ot&&le[ot[1]]&&le[ot[1]].transition?Oe.concat(Aa({key:Je,value:I[Je],valueSpec:Z.transition,style:ke,styleSpec:Z})):le[Je]?Oe.concat(Aa({key:Je,value:I[Je],valueSpec:le[Je],style:ke,styleSpec:Z})):Oe.concat([new ct(Je,I[Je],'unknown property "'+Je+'"')])}return Oe}var ws={"*":function(){return[]},array:Us,boolean:function(A){var I=A.value,Z=A.key,le=jr(I);return"boolean"!==le?[new ct(Z,I,"boolean expected, "+le+" found")]:[]},number:cl,color:function(A){var I=A.key,Z=A.value,le=jr(Z);return"string"!==le?[new ct(I,Z,"color expected, "+le+" found")]:null===mn(Z)?[new ct(I,Z,'color expected, "'+Z+'" found')]:[]},constants:pt,enum:rs,filter:xa,function:ns,layer:_s,object:ya,source:Mo,light:$i,string:ka,formatted:function(A){return 0===ka(A).length?[]:qo(A)},resolvedImage:function(A){return 0===ka(A).length?[]:qo(A)}};function Aa(A){var I=A.value,Z=A.valueSpec,le=A.styleSpec;return Z.expression&&Qo(ut(I))?ns(A):Z.expression&&Ho(kt(I))?qo(A):Z.type&&ws[Z.type]?ws[Z.type](A):ya(dt({},A,{valueSpec:Z.type?le[Z.type]:Z}))}function Ri(A){var I=A.value,Z=A.key,le=ka(A);return le.length||(-1===I.indexOf("{fontstack}")&&le.push(new ct(Z,I,'"glyphs" url must include a "{fontstack}" token')),-1===I.indexOf("{range}")&&le.push(new ct(Z,I,'"glyphs" url must include a "{range}" token'))),le}function Ui(A,I){void 0===I&&(I=We);var Z=[];return Z=Z.concat(Aa({key:"",value:A,valueSpec:I.$root,styleSpec:I,style:A,objectElementValidators:{glyphs:Ri,"*":function(){return[]}}})),A.constants&&(Z=Z.concat(pt({key:"constants",value:A.constants,style:A,styleSpec:I}))),ai(Z)}function ai(A){return[].concat(A).sort(function(I,Z){return I.line-Z.line})}function Vi(A){return function(){for(var I=[],Z=arguments.length;Z--;)I[Z]=arguments[Z];return ai(A.apply(this,I))}}Ui.source=Vi(Mo),Ui.light=Vi($i),Ui.layer=Vi(_s),Ui.filter=Vi(xa),Ui.paintProperty=Vi(Hs),Ui.layoutProperty=Vi(bs);var Xa=Ui,Yo=Xa.light,Fa=Xa.paintProperty,So=Xa.layoutProperty;function aa(A,I){var Z=!1;if(I&&I.length)for(var le=0,ke=I;le<ke.length;le+=1){var Oe=ke[le];A.fire(new Fe(new Error(Oe.message))),Z=!0}return Z}var Wo=Ma,lo=3;function Ma(A,I,Z){var le=this.cells=[];if(A instanceof ArrayBuffer){this.arrayBuffer=A;var ke=new Int32Array(this.arrayBuffer);A=ke[0],I=ke[1],Z=ke[2],this.d=I+2*Z;for(var Oe=0;Oe<this.d*this.d;Oe++){var Be=ke[lo+Oe],Je=ke[lo+Oe+1];le.push(Be===Je?null:ke.subarray(Be,Je))}var ot=ke[lo+le.length],mt=ke[lo+le.length+1];this.keys=ke.subarray(ot,mt),this.bboxes=ke.subarray(mt),this.insert=this._insertReadonly}else{this.d=I+2*Z;for(var _t=0;_t<this.d*this.d;_t++)le.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=A,this.padding=Z,this.scale=I/A,this.uid=0;var zt=Z/I*A;this.min=-zt,this.max=A+zt}Ma.prototype.insert=function(A,I,Z,le,ke){this._forEachCell(I,Z,le,ke,this._insertCell,this.uid++),this.keys.push(A),this.bboxes.push(I),this.bboxes.push(Z),this.bboxes.push(le),this.bboxes.push(ke)},Ma.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ma.prototype._insertCell=function(A,I,Z,le,ke,Oe){this.cells[ke].push(Oe)},Ma.prototype.query=function(A,I,Z,le,ke){var Oe=this.min,Be=this.max;if(A<=Oe&&I<=Oe&&Be<=Z&&Be<=le&&!ke)return Array.prototype.slice.call(this.keys);var Je=[];return this._forEachCell(A,I,Z,le,this._queryCell,Je,{},ke),Je},Ma.prototype._queryCell=function(A,I,Z,le,ke,Oe,Be,Je){var ot=this.cells[ke];if(null!==ot)for(var mt=this.keys,_t=this.bboxes,zt=0;zt<ot.length;zt++){var jt=ot[zt];if(void 0===Be[jt]){var Rt=4*jt;(Je?Je(_t[Rt+0],_t[Rt+1],_t[Rt+2],_t[Rt+3]):A<=_t[Rt+2]&&I<=_t[Rt+3]&&Z>=_t[Rt+0]&&le>=_t[Rt+1])?(Be[jt]=!0,Oe.push(mt[jt])):Be[jt]=!1}}},Ma.prototype._forEachCell=function(A,I,Z,le,ke,Oe,Be,Je){for(var ot=this._convertToCellCoord(A),mt=this._convertToCellCoord(I),_t=this._convertToCellCoord(Z),zt=this._convertToCellCoord(le),jt=ot;jt<=_t;jt++)for(var Rt=mt;Rt<=zt;Rt++){var tn=this.d*Rt+jt;if((!Je||Je(this._convertFromCellCoord(jt),this._convertFromCellCoord(Rt),this._convertFromCellCoord(jt+1),this._convertFromCellCoord(Rt+1)))&&ke.call(this,A,I,Z,le,tn,Oe,Be,Je))return}},Ma.prototype._convertFromCellCoord=function(A){return(A-this.padding)/this.scale},Ma.prototype._convertToCellCoord=function(A){return Math.max(0,Math.min(this.d-1,Math.floor(A*this.scale)+this.padding))},Ma.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var A=this.cells,I=lo+this.cells.length+1+1,Z=0,le=0;le<this.cells.length;le++)Z+=this.cells[le].length;var ke=new Int32Array(I+Z+this.keys.length+this.bboxes.length);ke[0]=this.extent,ke[1]=this.n,ke[2]=this.padding;for(var Oe=I,Be=0;Be<A.length;Be++){var Je=A[Be];ke[lo+Be]=Oe,ke.set(Je,Oe),Oe+=Je.length}return ke[lo+A.length]=Oe,ke.set(this.keys,Oe),Oe+=this.keys.length,ke[lo+A.length+1]=Oe,ke.set(this.bboxes,Oe),Oe+=this.bboxes.length,ke.buffer};var Sa=n.ImageData,si=n.ImageBitmap,Ba={};function br(A,I,Z){void 0===Z&&(Z={}),Object.defineProperty(I,"_classRegistryKey",{value:A,writeable:!1}),Ba[A]={klass:I,omit:Z.omit||[],shallow:Z.shallow||[]}}for(var Ts in br("Object",Object),Wo.serialize=function(A,I){var Z=A.toArrayBuffer();return I&&I.push(Z),{buffer:Z}},Wo.deserialize=function(A){return new Wo(A.buffer)},br("Grid",Wo),br("Color",An),br("Error",Error),br("ResolvedImage",er),br("StylePropertyFunction",ms),br("StyleExpression",To,{omit:["_evaluator"]}),br("ZoomDependentExpression",ts),br("ZoomConstantExpression",Da),br("CompoundExpression",gn,{omit:["_evaluate"]}),$o)$o[Ts]._classRegistryKey||br("Expression_"+Ts,$o[Ts]);function $s(A){return A&&typeof ArrayBuffer<"u"&&(A instanceof ArrayBuffer||A.constructor&&"ArrayBuffer"===A.constructor.name)}function Eo(A){return si&&A instanceof si}function Lo(A,I){if(null==A||"boolean"==typeof A||"number"==typeof A||"string"==typeof A||A instanceof Boolean||A instanceof Number||A instanceof String||A instanceof Date||A instanceof RegExp)return A;if($s(A)||Eo(A))return I&&I.push(A),A;if(ArrayBuffer.isView(A)){var Z=A;return I&&I.push(Z.buffer),Z}if(A instanceof Sa)return I&&I.push(A.data.buffer),A;if(Array.isArray(A)){for(var le=[],ke=0,Oe=A;ke<Oe.length;ke+=1){var Be=Oe[ke];le.push(Lo(Be,I))}return le}if("object"==typeof A){var Je=A.constructor,ot=Je._classRegistryKey;if(!ot)throw new Error("can't serialize object of unregistered class");var mt=Je.serialize?Je.serialize(A,I):{};if(!Je.serialize){for(var _t in A)if(A.hasOwnProperty(_t)&&!(Ba[ot].omit.indexOf(_t)>=0)){var zt=A[_t];mt[_t]=Ba[ot].shallow.indexOf(_t)>=0?zt:Lo(zt,I)}A instanceof Error&&(mt.message=A.message)}if(mt.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==ot&&(mt.$name=ot),mt}throw new Error("can't serialize object of type "+typeof A)}function Xo(A){if(null==A||"boolean"==typeof A||"number"==typeof A||"string"==typeof A||A instanceof Boolean||A instanceof Number||A instanceof String||A instanceof Date||A instanceof RegExp||$s(A)||Eo(A)||ArrayBuffer.isView(A)||A instanceof Sa)return A;if(Array.isArray(A))return A.map(Xo);if("object"==typeof A){var I=A.$name||"Object",Z=Ba[I].klass;if(!Z)throw new Error("can't deserialize unregistered class "+I);if(Z.deserialize)return Z.deserialize(A);for(var le=Object.create(Z.prototype),ke=0,Oe=Object.keys(A);ke<Oe.length;ke+=1){var Be=Oe[ke];if("$name"!==Be){var Je=A[Be];le[Be]=Ba[I].shallow.indexOf(Be)>=0?Je:Xo(Je)}}return le}throw new Error("can't deserialize object of type "+typeof A)}var as=function(){this.first=!0};as.prototype.update=function(A,I){var Z=Math.floor(A);return this.first?(this.first=!1,this.lastIntegerZoom=Z,this.lastIntegerZoomTime=0,this.lastZoom=A,this.lastFloorZoom=Z,!0):(this.lastFloorZoom>Z?(this.lastIntegerZoom=Z+1,this.lastIntegerZoomTime=I):this.lastFloorZoom<Z&&(this.lastIntegerZoom=Z,this.lastIntegerZoomTime=I),A!==this.lastZoom&&(this.lastZoom=A,this.lastFloorZoom=Z,!0))};var dr={"Latin-1 Supplement":function(A){return A>=128&&A<=255},Arabic:function(A){return A>=1536&&A<=1791},"Arabic Supplement":function(A){return A>=1872&&A<=1919},"Arabic Extended-A":function(A){return A>=2208&&A<=2303},"Hangul Jamo":function(A){return A>=4352&&A<=4607},"Unified Canadian Aboriginal Syllabics":function(A){return A>=5120&&A<=5759},Khmer:function(A){return A>=6016&&A<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(A){return A>=6320&&A<=6399},"General Punctuation":function(A){return A>=8192&&A<=8303},"Letterlike Symbols":function(A){return A>=8448&&A<=8527},"Number Forms":function(A){return A>=8528&&A<=8591},"Miscellaneous Technical":function(A){return A>=8960&&A<=9215},"Control Pictures":function(A){return A>=9216&&A<=9279},"Optical Character Recognition":function(A){return A>=9280&&A<=9311},"Enclosed Alphanumerics":function(A){return A>=9312&&A<=9471},"Geometric Shapes":function(A){return A>=9632&&A<=9727},"Miscellaneous Symbols":function(A){return A>=9728&&A<=9983},"Miscellaneous Symbols and Arrows":function(A){return A>=11008&&A<=11263},"CJK Radicals Supplement":function(A){return A>=11904&&A<=12031},"Kangxi Radicals":function(A){return A>=12032&&A<=12255},"Ideographic Description Characters":function(A){return A>=12272&&A<=12287},"CJK Symbols and Punctuation":function(A){return A>=12288&&A<=12351},Hiragana:function(A){return A>=12352&&A<=12447},Katakana:function(A){return A>=12448&&A<=12543},Bopomofo:function(A){return A>=12544&&A<=12591},"Hangul Compatibility Jamo":function(A){return A>=12592&&A<=12687},Kanbun:function(A){return A>=12688&&A<=12703},"Bopomofo Extended":function(A){return A>=12704&&A<=12735},"CJK Strokes":function(A){return A>=12736&&A<=12783},"Katakana Phonetic Extensions":function(A){return A>=12784&&A<=12799},"Enclosed CJK Letters and Months":function(A){return A>=12800&&A<=13055},"CJK Compatibility":function(A){return A>=13056&&A<=13311},"CJK Unified Ideographs Extension A":function(A){return A>=13312&&A<=19903},"Yijing Hexagram Symbols":function(A){return A>=19904&&A<=19967},"CJK Unified Ideographs":function(A){return A>=19968&&A<=40959},"Yi Syllables":function(A){return A>=40960&&A<=42127},"Yi Radicals":function(A){return A>=42128&&A<=42191},"Hangul Jamo Extended-A":function(A){return A>=43360&&A<=43391},"Hangul Syllables":function(A){return A>=44032&&A<=55215},"Hangul Jamo Extended-B":function(A){return A>=55216&&A<=55295},"Private Use Area":function(A){return A>=57344&&A<=63743},"CJK Compatibility Ideographs":function(A){return A>=63744&&A<=64255},"Arabic Presentation Forms-A":function(A){return A>=64336&&A<=65023},"Vertical Forms":function(A){return A>=65040&&A<=65055},"CJK Compatibility Forms":function(A){return A>=65072&&A<=65103},"Small Form Variants":function(A){return A>=65104&&A<=65135},"Arabic Presentation Forms-B":function(A){return A>=65136&&A<=65279},"Halfwidth and Fullwidth Forms":function(A){return A>=65280&&A<=65519}};function ks(A){for(var I=0,Z=A;I<Z.length;I+=1)if(uo(Z[I].charCodeAt(0)))return!0;return!1}function uo(A){return!(746!==A&&747!==A&&(A<4352||!(dr["Bopomofo Extended"](A)||dr.Bopomofo(A)||dr["CJK Compatibility Forms"](A)&&!(A>=65097&&A<=65103)||dr["CJK Compatibility Ideographs"](A)||dr["CJK Compatibility"](A)||dr["CJK Radicals Supplement"](A)||dr["CJK Strokes"](A)||!(!dr["CJK Symbols and Punctuation"](A)||A>=12296&&A<=12305||A>=12308&&A<=12319||12336===A)||dr["CJK Unified Ideographs Extension A"](A)||dr["CJK Unified Ideographs"](A)||dr["Enclosed CJK Letters and Months"](A)||dr["Hangul Compatibility Jamo"](A)||dr["Hangul Jamo Extended-A"](A)||dr["Hangul Jamo Extended-B"](A)||dr["Hangul Jamo"](A)||dr["Hangul Syllables"](A)||dr.Hiragana(A)||dr["Ideographic Description Characters"](A)||dr.Kanbun(A)||dr["Kangxi Radicals"](A)||dr["Katakana Phonetic Extensions"](A)||dr.Katakana(A)&&12540!==A||!(!dr["Halfwidth and Fullwidth Forms"](A)||65288===A||65289===A||65293===A||A>=65306&&A<=65310||65339===A||65341===A||65343===A||A>=65371&&A<=65503||65507===A||A>=65512&&A<=65519)||!(!dr["Small Form Variants"](A)||A>=65112&&A<=65118||A>=65123&&A<=65126)||dr["Unified Canadian Aboriginal Syllabics"](A)||dr["Unified Canadian Aboriginal Syllabics Extended"](A)||dr["Vertical Forms"](A)||dr["Yijing Hexagram Symbols"](A)||dr["Yi Syllables"](A)||dr["Yi Radicals"](A))))}function Fi(A){return!(uo(A)||(I=A,dr["Latin-1 Supplement"](I)&&(167===I||169===I||174===I||177===I||188===I||189===I||190===I||215===I||247===I)||dr["General Punctuation"](I)&&(8214===I||8224===I||8225===I||8240===I||8241===I||8251===I||8252===I||8258===I||8263===I||8264===I||8265===I||8273===I)||dr["Letterlike Symbols"](I)||dr["Number Forms"](I)||dr["Miscellaneous Technical"](I)&&(I>=8960&&I<=8967||I>=8972&&I<=8991||I>=8996&&I<=9e3||9003===I||I>=9085&&I<=9114||I>=9150&&I<=9165||9167===I||I>=9169&&I<=9179||I>=9186&&I<=9215)||dr["Control Pictures"](I)&&9251!==I||dr["Optical Character Recognition"](I)||dr["Enclosed Alphanumerics"](I)||dr["Geometric Shapes"](I)||dr["Miscellaneous Symbols"](I)&&!(I>=9754&&I<=9759)||dr["Miscellaneous Symbols and Arrows"](I)&&(I>=11026&&I<=11055||I>=11088&&I<=11097||I>=11192&&I<=11243)||dr["CJK Symbols and Punctuation"](I)||dr.Katakana(I)||dr["Private Use Area"](I)||dr["CJK Compatibility Forms"](I)||dr["Small Form Variants"](I)||dr["Halfwidth and Fullwidth Forms"](I)||8734===I||8756===I||8757===I||I>=9984&&I<=10087||I>=10102&&I<=10131||65532===I||65533===I));var I}function Co(A){return dr.Arabic(A)||dr["Arabic Supplement"](A)||dr["Arabic Extended-A"](A)||dr["Arabic Presentation Forms-A"](A)||dr["Arabic Presentation Forms-B"](A)}function Na(A){return A>=1424&&A<=2303||dr["Arabic Presentation Forms-A"](A)||dr["Arabic Presentation Forms-B"](A)}function Ea(A,I){return!(!I&&Na(A)||A>=2304&&A<=3583||A>=3840&&A<=4255||dr.Khmer(A))}function Qi(A){for(var I=0,Z=A;I<Z.length;I+=1)if(Na(Z[I].charCodeAt(0)))return!0;return!1}var Ja="deferred",La="loading",co="loaded",As="error",Oo=null,Hr="unavailable",Hi=null,oa=function(A){A&&"string"==typeof A&&A.indexOf("NetworkError")>-1&&(Hr=As),Oo&&Oo(A)};function Ka(){sa.fire(new Re("pluginStateChange",{pluginStatus:Hr,pluginURL:Hi}))}var sa=new et,os=function(){return Hr},ss=function(){if(Hr!==Ja||!Hi)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Hr=La,Ka(),Hi&&Pt({url:Hi},function(A){A?oa(A):(Hr=co,Ka())})},la={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Hr===co||null!=la.applyArabicShaping},isLoading:function(){return Hr===La},setState:function(A){Hr=A.pluginStatus,Hi=A.pluginURL},isParsed:function(){return null!=la.applyArabicShaping&&null!=la.processBidirectionalText&&null!=la.processStyledBidirectionalText},getPluginURL:function(){return Hi}},Ur=function(A,I){this.zoom=A,I?(this.now=I.now,this.fadeDuration=I.fadeDuration,this.zoomHistory=I.zoomHistory,this.transition=I.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new as,this.transition={})};Ur.prototype.isSupportedScript=function(A){return function(I,Z){for(var le=0,ke=I;le<ke.length;le+=1)if(!Ea(ke[le].charCodeAt(0),Z))return!1;return!0}(A,la.isLoaded())},Ur.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ur.prototype.getCrossfadeParameters=function(){var A=this.zoom,I=A-Math.floor(A),Z=this.crossFadingFactor();return A>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:I+(1-I)*Z}:{fromScale:.5,toScale:1,t:1-(1-Z)*I}};var $a=function(A,I){this.property=A,this.value=I,this.expression=function(Z,le){if(Qo(Z))return new ms(Z,le);if(Ho(Z)){var ke=ul(Z,le);if("error"===ke.result)throw new Error(ke.value.map(function(Be){return Be.key+": "+Be.message}).join(", "));return ke.value}var Oe=Z;return"string"==typeof Z&&"color"===le.type&&(Oe=An.parse(Z)),{kind:"constant",evaluate:function(){return Oe}}}(void 0===I?A.specification.default:I,A.specification)};$a.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},$a.prototype.possiblyEvaluate=function(A,I,Z){return this.property.possiblyEvaluate(this,A,I,Z)};var Jo=function(A){this.property=A,this.value=new $a(A,void 0)};Jo.prototype.transitioned=function(A,I){return new ls(this.property,this.value,I,c({},A.transition,this.transition),A.now)},Jo.prototype.untransitioned=function(){return new ls(this.property,this.value,null,{},0)};var ja=function(A){this._properties=A,this._values=Object.create(A.defaultTransitionablePropertyValues)};ja.prototype.getValue=function(A){return S(this._values[A].value.value)},ja.prototype.setValue=function(A,I){this._values.hasOwnProperty(A)||(this._values[A]=new Jo(this._values[A].property)),this._values[A].value=new $a(this._values[A].property,null===I?void 0:S(I))},ja.prototype.getTransition=function(A){return S(this._values[A].transition)},ja.prototype.setTransition=function(A,I){this._values.hasOwnProperty(A)||(this._values[A]=new Jo(this._values[A].property)),this._values[A].transition=S(I)||void 0},ja.prototype.serialize=function(){for(var A={},I=0,Z=Object.keys(this._values);I<Z.length;I+=1){var le=Z[I],ke=this.getValue(le);void 0!==ke&&(A[le]=ke);var Oe=this.getTransition(le);void 0!==Oe&&(A[le+"-transition"]=Oe)}return A},ja.prototype.transitioned=function(A,I){for(var Z=new us(this._properties),le=0,ke=Object.keys(this._values);le<ke.length;le+=1){var Oe=ke[le];Z._values[Oe]=this._values[Oe].transitioned(A,I._values[Oe])}return Z},ja.prototype.untransitioned=function(){for(var A=new us(this._properties),I=0,Z=Object.keys(this._values);I<Z.length;I+=1){var le=Z[I];A._values[le]=this._values[le].untransitioned()}return A};var ls=function(A,I,Z,le,ke){this.property=A,this.value=I,this.begin=ke+le.delay||0,this.end=this.begin+le.duration||0,A.specification.transition&&(le.delay||le.duration)&&(this.prior=Z)};ls.prototype.possiblyEvaluate=function(A,I,Z){var le=A.now||0,ke=this.value.possiblyEvaluate(A,I,Z),Oe=this.prior;if(Oe){if(le>this.end)return this.prior=null,ke;if(this.value.isDataDriven())return this.prior=null,ke;if(le<this.begin)return Oe.possiblyEvaluate(A,I,Z);var Be=(le-this.begin)/(this.end-this.begin);return this.property.interpolate(Oe.possiblyEvaluate(A,I,Z),ke,function(Je){if(Je<=0)return 0;if(Je>=1)return 1;var ot=Je*Je,mt=ot*Je;return 4*(Je<.5?mt:3*(Je-ot)+mt-.75)}(Be))}return ke};var us=function(A){this._properties=A,this._values=Object.create(A.defaultTransitioningPropertyValues)};us.prototype.possiblyEvaluate=function(A,I,Z){for(var le=new Ko(this._properties),ke=0,Oe=Object.keys(this._values);ke<Oe.length;ke+=1){var Be=Oe[ke];le._values[Be]=this._values[Be].possiblyEvaluate(A,I,Z)}return le},us.prototype.hasTransition=function(){for(var A=0,I=Object.keys(this._values);A<I.length;A+=1){var Z=I[A];if(this._values[Z].prior)return!0}return!1};var Ua=function(A){this._properties=A,this._values=Object.create(A.defaultPropertyValues)};Ua.prototype.getValue=function(A){return S(this._values[A].value)},Ua.prototype.setValue=function(A,I){this._values[A]=new $a(this._values[A].property,null===I?void 0:S(I))},Ua.prototype.serialize=function(){for(var A={},I=0,Z=Object.keys(this._values);I<Z.length;I+=1){var le=Z[I],ke=this.getValue(le);void 0!==ke&&(A[le]=ke)}return A},Ua.prototype.possiblyEvaluate=function(A,I,Z){for(var le=new Ko(this._properties),ke=0,Oe=Object.keys(this._values);ke<Oe.length;ke+=1){var Be=Oe[ke];le._values[Be]=this._values[Be].possiblyEvaluate(A,I,Z)}return le};var li=function(A,I,Z){this.property=A,this.value=I,this.parameters=Z};li.prototype.isConstant=function(){return"constant"===this.value.kind},li.prototype.constantOr=function(A){return"constant"===this.value.kind?this.value.value:A},li.prototype.evaluate=function(A,I,Z,le){return this.property.evaluate(this.value,this.parameters,A,I,Z,le)};var Ko=function(A){this._properties=A,this._values=Object.create(A.defaultPossiblyEvaluatedValues)};Ko.prototype.get=function(A){return this._values[A]};var Tr=function(A){this.specification=A};Tr.prototype.possiblyEvaluate=function(A,I){return A.expression.evaluate(I)},Tr.prototype.interpolate=function(A,I,Z){var le=ii[this.specification.type];return le?le(A,I,Z):A};var Cr=function(A,I){this.specification=A,this.overrides=I};Cr.prototype.possiblyEvaluate=function(A,I,Z,le){return"constant"===A.expression.kind||"camera"===A.expression.kind?new li(this,{kind:"constant",value:A.expression.evaluate(I,null,{},Z,le)},I):new li(this,A.expression,I)},Cr.prototype.interpolate=function(A,I,Z){if("constant"!==A.value.kind||"constant"!==I.value.kind)return A;if(void 0===A.value.value||void 0===I.value.value)return new li(this,{kind:"constant",value:void 0},A.parameters);var le=ii[this.specification.type];return le?new li(this,{kind:"constant",value:le(A.value.value,I.value.value,Z)},A.parameters):A},Cr.prototype.evaluate=function(A,I,Z,le,ke,Oe){return"constant"===A.kind?A.value:A.evaluate(I,Z,le,ke,Oe)};var ba=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(Z,le,ke,Oe){if(void 0===Z.value)return new li(this,{kind:"constant",value:void 0},le);if("constant"===Z.expression.kind){var Be=Z.expression.evaluate(le,null,{},ke,Oe),Je="resolvedImage"===Z.property.specification.type&&"string"!=typeof Be?Be.name:Be,ot=this._calculate(Je,Je,Je,le);return new li(this,{kind:"constant",value:ot},le)}if("camera"===Z.expression.kind){var mt=this._calculate(Z.expression.evaluate({zoom:le.zoom-1}),Z.expression.evaluate({zoom:le.zoom}),Z.expression.evaluate({zoom:le.zoom+1}),le);return new li(this,{kind:"constant",value:mt},le)}return new li(this,Z.expression,le)},I.prototype.evaluate=function(Z,le,ke,Oe,Be,Je){if("source"===Z.kind){var ot=Z.evaluate(le,ke,Oe,Be,Je);return this._calculate(ot,ot,ot,le)}return"composite"===Z.kind?this._calculate(Z.evaluate({zoom:Math.floor(le.zoom)-1},ke,Oe),Z.evaluate({zoom:Math.floor(le.zoom)},ke,Oe),Z.evaluate({zoom:Math.floor(le.zoom)+1},ke,Oe),le):Z.value},I.prototype._calculate=function(Z,le,ke,Oe){return Oe.zoom>Oe.zoomHistory.lastIntegerZoom?{from:Z,to:le}:{from:ke,to:le}},I.prototype.interpolate=function(Z){return Z},I}(Cr),Qa=function(A){this.specification=A};Qa.prototype.possiblyEvaluate=function(A,I,Z,le){if(void 0!==A.value){if("constant"===A.expression.kind){var ke=A.expression.evaluate(I,null,{},Z,le);return this._calculate(ke,ke,ke,I)}return this._calculate(A.expression.evaluate(new Ur(Math.floor(I.zoom-1),I)),A.expression.evaluate(new Ur(Math.floor(I.zoom),I)),A.expression.evaluate(new Ur(Math.floor(I.zoom+1),I)),I)}},Qa.prototype._calculate=function(A,I,Z,le){return le.zoom>le.zoomHistory.lastIntegerZoom?{from:A,to:I}:{from:Z,to:I}},Qa.prototype.interpolate=function(A){return A};var fo=function(A){this.specification=A};fo.prototype.possiblyEvaluate=function(A,I,Z,le){return!!A.expression.evaluate(I,null,{},Z,le)},fo.prototype.interpolate=function(){return!1};var Ei=function(A){for(var I in this.properties=A,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],A){var Z=A[I];Z.specification.overridable&&this.overridableProperties.push(I);var le=this.defaultPropertyValues[I]=new $a(Z,void 0),ke=this.defaultTransitionablePropertyValues[I]=new Jo(Z);this.defaultTransitioningPropertyValues[I]=ke.untransitioned(),this.defaultPossiblyEvaluatedValues[I]=le.possiblyEvaluate({})}};br("DataDrivenProperty",Cr),br("DataConstantProperty",Tr),br("CrossFadedDataDrivenProperty",ba),br("CrossFadedProperty",Qa),br("ColorRampProperty",fo);var eo="-transition",Qr=function(A){function I(Z,le){if(A.call(this),this.id=Z.id,this.type=Z.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==Z.type&&(this.metadata=Z.metadata,this.minzoom=Z.minzoom,this.maxzoom=Z.maxzoom,"background"!==Z.type&&(this.source=Z.source,this.sourceLayer=Z["source-layer"],this.filter=Z.filter),le.layout&&(this._unevaluatedLayout=new Ua(le.layout)),le.paint)){for(var ke in this._transitionablePaint=new ja(le.paint),Z.paint)this.setPaintProperty(ke,Z.paint[ke],{validate:!1});for(var Oe in Z.layout)this.setLayoutProperty(Oe,Z.layout[Oe],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ko(le.paint)}}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(Z){return"visibility"===Z?this.visibility:this._unevaluatedLayout.getValue(Z)},I.prototype.setLayoutProperty=function(Z,le,ke){if(void 0===ke&&(ke={}),null!=le){var Oe="layers."+this.id+".layout."+Z;if(this._validate(So,Oe,Z,le,ke))return}"visibility"!==Z?this._unevaluatedLayout.setValue(Z,le):this.visibility=le},I.prototype.getPaintProperty=function(Z){return v(Z,eo)?this._transitionablePaint.getTransition(Z.slice(0,-11)):this._transitionablePaint.getValue(Z)},I.prototype.setPaintProperty=function(Z,le,ke){if(void 0===ke&&(ke={}),null!=le){var Oe="layers."+this.id+".paint."+Z;if(this._validate(Fa,Oe,Z,le,ke))return!1}if(v(Z,eo))return this._transitionablePaint.setTransition(Z.slice(0,-11),le||void 0),!1;var Be=this._transitionablePaint._values[Z],Je="cross-faded-data-driven"===Be.property.specification["property-type"],ot=Be.value.isDataDriven(),mt=Be.value;this._transitionablePaint.setValue(Z,le),this._handleSpecialPaintPropertyUpdate(Z);var _t=this._transitionablePaint._values[Z].value;return _t.isDataDriven()||ot||Je||this._handleOverridablePaintPropertyUpdate(Z,mt,_t)},I.prototype._handleSpecialPaintPropertyUpdate=function(Z){},I.prototype._handleOverridablePaintPropertyUpdate=function(Z,le,ke){return!1},I.prototype.isHidden=function(Z){return!!(this.minzoom&&Z<this.minzoom)||!!(this.maxzoom&&Z>=this.maxzoom)||"none"===this.visibility},I.prototype.updateTransitions=function(Z){this._transitioningPaint=this._transitionablePaint.transitioned(Z,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(Z,le){Z.getCrossfadeParameters&&(this._crossfadeParameters=Z.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(Z,void 0,le)),this.paint=this._transitioningPaint.possiblyEvaluate(Z,void 0,le)},I.prototype.serialize=function(){var Z={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(Z.layout=Z.layout||{},Z.layout.visibility=this.visibility),f(Z,function(le,ke){return!(void 0===le||"layout"===ke&&!Object.keys(le).length||"paint"===ke&&!Object.keys(le).length)})},I.prototype._validate=function(Z,le,ke,Oe,Be){return void 0===Be&&(Be={}),(!Be||!1!==Be.validate)&&aa(this,Z.call(Xa,{key:le,layerType:this.type,objectKey:ke,value:Oe,styleSpec:We,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var Z in this.paint._values){var le=this.paint.get(Z);if(le instanceof li&&ao(le.property.specification)&&("source"===le.value.kind||"composite"===le.value.kind)&&le.value.isStateDependent)return!0}return!1},I}(et),fl={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},_a=function(A,I){this._structArray=A,this._pos1=I*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ni=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function pi(A,I){void 0===I&&(I=1);var Z=0,le=0;return{members:A.map(function(ke){var Oe,Be=(Oe=ke.type,fl[Oe].BYTES_PER_ELEMENT),Je=Z=pa(Z,Math.max(I,Be)),ot=ke.components||1;return le=Math.max(le,Be),Z+=Be*ot,{name:ke.name,type:ke.type,components:ot,offset:Je}}),size:pa(Z,Math.max(le,I)),alignment:I}}function pa(A,I){return Math.ceil(A/I)*I}ni.serialize=function(A,I){return A._trim(),I&&(A.isTransferred=!0,I.push(A.arrayBuffer)),{length:A.length,arrayBuffer:A.arrayBuffer}},ni.deserialize=function(A){var I=Object.create(this.prototype);return I.arrayBuffer=A.arrayBuffer,I.length=A.length,I.capacity=A.arrayBuffer.byteLength/I.bytesPerElement,I._refreshViews(),I},ni.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ni.prototype.clear=function(){this.length=0},ni.prototype.resize=function(A){this.reserve(A),this.length=A},ni.prototype.reserve=function(A){if(A>this.capacity){this.capacity=Math.max(A,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var I=this.uint8;this._refreshViews(),I&&this.uint8.set(I)}},ni.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Po=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le){var ke=this.length;return this.resize(ke+1),this.emplace(ke,Z,le)},I.prototype.emplace=function(Z,le,ke){var Oe=2*Z;return this.int16[Oe+0]=le,this.int16[Oe+1]=ke,Z},I}(ni);Po.prototype.bytesPerElement=4,br("StructArrayLayout2i4",Po);var Qs=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe){var Be=this.length;return this.resize(Be+1),this.emplace(Be,Z,le,ke,Oe)},I.prototype.emplace=function(Z,le,ke,Oe,Be){var Je=4*Z;return this.int16[Je+0]=le,this.int16[Je+1]=ke,this.int16[Je+2]=Oe,this.int16[Je+3]=Be,Z},I}(ni);Qs.prototype.bytesPerElement=8,br("StructArrayLayout4i8",Qs);var Ye=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe,Be,Je){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Z,le,ke,Oe,Be,Je)},I.prototype.emplace=function(Z,le,ke,Oe,Be,Je,ot){var mt=6*Z;return this.int16[mt+0]=le,this.int16[mt+1]=ke,this.int16[mt+2]=Oe,this.int16[mt+3]=Be,this.int16[mt+4]=Je,this.int16[mt+5]=ot,Z},I}(ni);Ye.prototype.bytesPerElement=12,br("StructArrayLayout2i4i12",Ye);var Ke=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe,Be,Je){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Z,le,ke,Oe,Be,Je)},I.prototype.emplace=function(Z,le,ke,Oe,Be,Je,ot){var mt=4*Z,_t=8*Z;return this.int16[mt+0]=le,this.int16[mt+1]=ke,this.uint8[_t+4]=Oe,this.uint8[_t+5]=Be,this.uint8[_t+6]=Je,this.uint8[_t+7]=ot,Z},I}(ni);Ke.prototype.bytesPerElement=8,br("StructArrayLayout2i4ub8",Ke);var it=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le){var ke=this.length;return this.resize(ke+1),this.emplace(ke,Z,le)},I.prototype.emplace=function(Z,le,ke){var Oe=2*Z;return this.float32[Oe+0]=le,this.float32[Oe+1]=ke,Z},I}(ni);it.prototype.bytesPerElement=8,br("StructArrayLayout2f8",it);var B=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe,Be,Je,ot,mt,_t,zt){var jt=this.length;return this.resize(jt+1),this.emplace(jt,Z,le,ke,Oe,Be,Je,ot,mt,_t,zt)},I.prototype.emplace=function(Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt){var Rt=10*Z;return this.uint16[Rt+0]=le,this.uint16[Rt+1]=ke,this.uint16[Rt+2]=Oe,this.uint16[Rt+3]=Be,this.uint16[Rt+4]=Je,this.uint16[Rt+5]=ot,this.uint16[Rt+6]=mt,this.uint16[Rt+7]=_t,this.uint16[Rt+8]=zt,this.uint16[Rt+9]=jt,Z},I}(ni);B.prototype.bytesPerElement=20,br("StructArrayLayout10ui20",B);var G=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt){var tn=this.length;return this.resize(tn+1),this.emplace(tn,Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt)},I.prototype.emplace=function(Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt,tn){var rn=12*Z;return this.int16[rn+0]=le,this.int16[rn+1]=ke,this.int16[rn+2]=Oe,this.int16[rn+3]=Be,this.uint16[rn+4]=Je,this.uint16[rn+5]=ot,this.uint16[rn+6]=mt,this.uint16[rn+7]=_t,this.int16[rn+8]=zt,this.int16[rn+9]=jt,this.int16[rn+10]=Rt,this.int16[rn+11]=tn,Z},I}(ni);G.prototype.bytesPerElement=24,br("StructArrayLayout4i4ui4i24",G);var q=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke){var Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,Z,le,ke)},I.prototype.emplace=function(Z,le,ke,Oe){var Be=3*Z;return this.float32[Be+0]=le,this.float32[Be+1]=ke,this.float32[Be+2]=Oe,Z},I}(ni);q.prototype.bytesPerElement=12,br("StructArrayLayout3f12",q);var L=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z){var le=this.length;return this.resize(le+1),this.emplace(le,Z)},I.prototype.emplace=function(Z,le){var ke=1*Z;return this.uint32[ke+0]=le,Z},I}(ni);L.prototype.bytesPerElement=4,br("StructArrayLayout1ul4",L);var H=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe,Be,Je,ot,mt,_t){var zt=this.length;return this.resize(zt+1),this.emplace(zt,Z,le,ke,Oe,Be,Je,ot,mt,_t)},I.prototype.emplace=function(Z,le,ke,Oe,Be,Je,ot,mt,_t,zt){var jt=10*Z,Rt=5*Z;return this.int16[jt+0]=le,this.int16[jt+1]=ke,this.int16[jt+2]=Oe,this.int16[jt+3]=Be,this.int16[jt+4]=Je,this.int16[jt+5]=ot,this.uint32[Rt+3]=mt,this.uint16[jt+8]=_t,this.uint16[jt+9]=zt,Z},I}(ni);H.prototype.bytesPerElement=20,br("StructArrayLayout6i1ul2ui20",H);var K=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe,Be,Je){var ot=this.length;return this.resize(ot+1),this.emplace(ot,Z,le,ke,Oe,Be,Je)},I.prototype.emplace=function(Z,le,ke,Oe,Be,Je,ot){var mt=6*Z;return this.int16[mt+0]=le,this.int16[mt+1]=ke,this.int16[mt+2]=Oe,this.int16[mt+3]=Be,this.int16[mt+4]=Je,this.int16[mt+5]=ot,Z},I}(ni);K.prototype.bytesPerElement=12,br("StructArrayLayout2i2i2i12",K);var ne=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe,Be){var Je=this.length;return this.resize(Je+1),this.emplace(Je,Z,le,ke,Oe,Be)},I.prototype.emplace=function(Z,le,ke,Oe,Be,Je){var ot=4*Z,mt=8*Z;return this.float32[ot+0]=le,this.float32[ot+1]=ke,this.float32[ot+2]=Oe,this.int16[mt+6]=Be,this.int16[mt+7]=Je,Z},I}(ni);ne.prototype.bytesPerElement=16,br("StructArrayLayout2f1f2i16",ne);var ce=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe){var Be=this.length;return this.resize(Be+1),this.emplace(Be,Z,le,ke,Oe)},I.prototype.emplace=function(Z,le,ke,Oe,Be){var Je=12*Z,ot=3*Z;return this.uint8[Je+0]=le,this.uint8[Je+1]=ke,this.float32[ot+1]=Oe,this.float32[ot+2]=Be,Z},I}(ni);ce.prototype.bytesPerElement=12,br("StructArrayLayout2ub2f12",ce);var me=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke){var Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,Z,le,ke)},I.prototype.emplace=function(Z,le,ke,Oe){var Be=3*Z;return this.uint16[Be+0]=le,this.uint16[Be+1]=ke,this.uint16[Be+2]=Oe,Z},I}(ni);me.prototype.bytesPerElement=6,br("StructArrayLayout3ui6",me);var Le=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt,tn,rn,Tn,bn,zn){var Dn=this.length;return this.resize(Dn+1),this.emplace(Dn,Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt,tn,rn,Tn,bn,zn)},I.prototype.emplace=function(Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt,tn,rn,Tn,bn,zn,Dn){var jn=24*Z,Gn=12*Z,Kn=48*Z;return this.int16[jn+0]=le,this.int16[jn+1]=ke,this.uint16[jn+2]=Oe,this.uint16[jn+3]=Be,this.uint32[Gn+2]=Je,this.uint32[Gn+3]=ot,this.uint32[Gn+4]=mt,this.uint16[jn+10]=_t,this.uint16[jn+11]=zt,this.uint16[jn+12]=jt,this.float32[Gn+7]=Rt,this.float32[Gn+8]=tn,this.uint8[Kn+36]=rn,this.uint8[Kn+37]=Tn,this.uint8[Kn+38]=bn,this.uint32[Gn+10]=zn,this.int16[jn+22]=Dn,Z},I}(ni);Le.prototype.bytesPerElement=48,br("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Le);var Pe=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt,tn,rn,Tn,bn,zn,Dn,jn,Gn,Kn,pr,ur,mr,xr,zr,Sr,Pr){var Lr=this.length;return this.resize(Lr+1),this.emplace(Lr,Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt,tn,rn,Tn,bn,zn,Dn,jn,Gn,Kn,pr,ur,mr,xr,zr,Sr,Pr)},I.prototype.emplace=function(Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt,tn,rn,Tn,bn,zn,Dn,jn,Gn,Kn,pr,ur,mr,xr,zr,Sr,Pr,Lr){var Ar=34*Z,Yr=17*Z;return this.int16[Ar+0]=le,this.int16[Ar+1]=ke,this.int16[Ar+2]=Oe,this.int16[Ar+3]=Be,this.int16[Ar+4]=Je,this.int16[Ar+5]=ot,this.int16[Ar+6]=mt,this.int16[Ar+7]=_t,this.uint16[Ar+8]=zt,this.uint16[Ar+9]=jt,this.uint16[Ar+10]=Rt,this.uint16[Ar+11]=tn,this.uint16[Ar+12]=rn,this.uint16[Ar+13]=Tn,this.uint16[Ar+14]=bn,this.uint16[Ar+15]=zn,this.uint16[Ar+16]=Dn,this.uint16[Ar+17]=jn,this.uint16[Ar+18]=Gn,this.uint16[Ar+19]=Kn,this.uint16[Ar+20]=pr,this.uint16[Ar+21]=ur,this.uint16[Ar+22]=mr,this.uint32[Yr+12]=xr,this.float32[Yr+13]=zr,this.float32[Yr+14]=Sr,this.float32[Yr+15]=Pr,this.float32[Yr+16]=Lr,Z},I}(ni);Pe.prototype.bytesPerElement=68,br("StructArrayLayout8i15ui1ul4f68",Pe);var je=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z){var le=this.length;return this.resize(le+1),this.emplace(le,Z)},I.prototype.emplace=function(Z,le){var ke=1*Z;return this.float32[ke+0]=le,Z},I}(ni);je.prototype.bytesPerElement=4,br("StructArrayLayout1f4",je);var He=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke){var Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,Z,le,ke)},I.prototype.emplace=function(Z,le,ke,Oe){var Be=3*Z;return this.int16[Be+0]=le,this.int16[Be+1]=ke,this.int16[Be+2]=Oe,Z},I}(ni);He.prototype.bytesPerElement=6,br("StructArrayLayout3i6",He);var $e=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke){var Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,Z,le,ke)},I.prototype.emplace=function(Z,le,ke,Oe){var Be=2*Z,Je=4*Z;return this.uint32[Be+0]=le,this.uint16[Je+2]=ke,this.uint16[Je+3]=Oe,Z},I}(ni);$e.prototype.bytesPerElement=8,br("StructArrayLayout1ul2ui8",$e);var lt=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le){var ke=this.length;return this.resize(ke+1),this.emplace(ke,Z,le)},I.prototype.emplace=function(Z,le,ke){var Oe=2*Z;return this.uint16[Oe+0]=le,this.uint16[Oe+1]=ke,Z},I}(ni);lt.prototype.bytesPerElement=4,br("StructArrayLayout2ui4",lt);var ft=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z){var le=this.length;return this.resize(le+1),this.emplace(le,Z)},I.prototype.emplace=function(Z,le){var ke=1*Z;return this.uint16[ke+0]=le,Z},I}(ni);ft.prototype.bytesPerElement=2,br("StructArrayLayout1ui2",ft);var xt=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(Z,le,ke,Oe){var Be=this.length;return this.resize(Be+1),this.emplace(Be,Z,le,ke,Oe)},I.prototype.emplace=function(Z,le,ke,Oe,Be){var Je=4*Z;return this.float32[Je+0]=le,this.float32[Je+1]=ke,this.float32[Je+2]=Oe,this.float32[Je+3]=Be,Z},I}(ni);xt.prototype.bytesPerElement=16,br("StructArrayLayout4f16",xt);var Mt=function(A){function I(){A.apply(this,arguments)}A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I;var Z={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return Z.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},Z.x1.get=function(){return this._structArray.int16[this._pos2+2]},Z.y1.get=function(){return this._structArray.int16[this._pos2+3]},Z.x2.get=function(){return this._structArray.int16[this._pos2+4]},Z.y2.get=function(){return this._structArray.int16[this._pos2+5]},Z.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Z.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},Z.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Z.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,Z),I}(_a);Mt.prototype.size=20;var Tt=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.get=function(Z){return new Mt(this,Z)},I}(H);br("CollisionBoxArray",Tt);var Dt=function(A){function I(){A.apply(this,arguments)}A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I;var Z={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return Z.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Z.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Z.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},Z.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},Z.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Z.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},Z.segment.get=function(){return this._structArray.uint16[this._pos2+10]},Z.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},Z.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},Z.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},Z.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},Z.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},Z.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},Z.placedOrientation.set=function(le){this._structArray.uint8[this._pos1+37]=le},Z.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},Z.hidden.set=function(le){this._structArray.uint8[this._pos1+38]=le},Z.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},Z.crossTileID.set=function(le){this._structArray.uint32[this._pos4+10]=le},Z.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,Z),I}(_a);Dt.prototype.size=48;var Et=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.get=function(Z){return new Dt(this,Z)},I}(Le);br("PlacedSymbolArray",Et);var Gt=function(A){function I(){A.apply(this,arguments)}A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I;var Z={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return Z.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Z.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Z.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},Z.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},Z.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},Z.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},Z.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},Z.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},Z.key.get=function(){return this._structArray.uint16[this._pos2+8]},Z.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Z.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},Z.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},Z.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},Z.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},Z.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},Z.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},Z.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},Z.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},Z.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},Z.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},Z.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},Z.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},Z.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},Z.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},Z.crossTileID.set=function(le){this._structArray.uint32[this._pos4+12]=le},Z.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},Z.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},Z.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},Z.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,Z),I}(_a);Gt.prototype.size=68;var Ut=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.get=function(Z){return new Gt(this,Z)},I}(Pe);br("SymbolInstanceArray",Ut);var Bt=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.getoffsetX=function(Z){return this.float32[1*Z+0]},I}(je);br("GlyphOffsetArray",Bt);var hn=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.getx=function(Z){return this.int16[3*Z+0]},I.prototype.gety=function(Z){return this.int16[3*Z+1]},I.prototype.gettileUnitDistanceFromAnchor=function(Z){return this.int16[3*Z+2]},I}(He);br("SymbolLineVertexArray",hn);var pn=function(A){function I(){A.apply(this,arguments)}A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I;var Z={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return Z.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},Z.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Z.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,Z),I}(_a);pn.prototype.size=8;var En=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.get=function(Z){return new pn(this,Z)},I}($e);br("FeatureIndexArray",En);var Cn=pi([{name:"a_pos",components:2,type:"Int16"}],4).members,Nn=function(A){void 0===A&&(A=[]),this.segments=A};function Wn(A,I){return 256*(A=u(Math.floor(A),0,255))+u(Math.floor(I),0,255)}Nn.prototype.prepareSegment=function(A,I,Z,le){var ke=this.segments[this.segments.length-1];return A>Nn.MAX_VERTEX_ARRAY_LENGTH&&E("Max vertices per segment is "+Nn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+A),(!ke||ke.vertexLength+A>Nn.MAX_VERTEX_ARRAY_LENGTH||ke.sortKey!==le)&&(ke={vertexOffset:I.length,primitiveOffset:Z.length,vertexLength:0,primitiveLength:0},void 0!==le&&(ke.sortKey=le),this.segments.push(ke)),ke},Nn.prototype.get=function(){return this.segments},Nn.prototype.destroy=function(){for(var A=0,I=this.segments;A<I.length;A+=1){var Z=I[A];for(var le in Z.vaos)Z.vaos[le].destroy()}},Nn.simpleSegment=function(A,I,Z,le){return new Nn([{vertexOffset:A,primitiveOffset:I,vertexLength:Z,primitiveLength:le,vaos:{},sortKey:0}])},Nn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,br("SegmentVector",Nn);var sr=pi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Hn=T(function(A){A.exports=function(I,Z){var le,ke,Oe,Be,Je,ot,mt,_t;for(le=3&I.length,ke=I.length-le,Oe=Z,Je=3432918353,ot=461845907,_t=0;_t<ke;)mt=255&I.charCodeAt(_t)|(255&I.charCodeAt(++_t))<<8|(255&I.charCodeAt(++_t))<<16|(255&I.charCodeAt(++_t))<<24,++_t,Oe=27492+(65535&(Be=5*(65535&(Oe=(Oe^=mt=(65535&(mt=(mt=(65535&mt)*Je+(((mt>>>16)*Je&65535)<<16)&4294967295)<<15|mt>>>17))*ot+(((mt>>>16)*ot&65535)<<16)&4294967295)<<13|Oe>>>19))+((5*(Oe>>>16)&65535)<<16)&4294967295))+((58964+(Be>>>16)&65535)<<16);switch(mt=0,le){case 3:mt^=(255&I.charCodeAt(_t+2))<<16;case 2:mt^=(255&I.charCodeAt(_t+1))<<8;case 1:Oe^=mt=(65535&(mt=(mt=(65535&(mt^=255&I.charCodeAt(_t)))*Je+(((mt>>>16)*Je&65535)<<16)&4294967295)<<15|mt>>>17))*ot+(((mt>>>16)*ot&65535)<<16)&4294967295}return Oe^=I.length,Oe=2246822507*(65535&(Oe^=Oe>>>16))+((2246822507*(Oe>>>16)&65535)<<16)&4294967295,Oe=3266489909*(65535&(Oe^=Oe>>>13))+((3266489909*(Oe>>>16)&65535)<<16)&4294967295,(Oe^=Oe>>>16)>>>0}}),rr=T(function(A){A.exports=function(I,Z){for(var le,ke=I.length,Oe=Z^ke,Be=0;ke>=4;)le=1540483477*(65535&(le=255&I.charCodeAt(Be)|(255&I.charCodeAt(++Be))<<8|(255&I.charCodeAt(++Be))<<16|(255&I.charCodeAt(++Be))<<24))+((1540483477*(le>>>16)&65535)<<16),Oe=1540483477*(65535&Oe)+((1540483477*(Oe>>>16)&65535)<<16)^(le=1540483477*(65535&(le^=le>>>24))+((1540483477*(le>>>16)&65535)<<16)),ke-=4,++Be;switch(ke){case 3:Oe^=(255&I.charCodeAt(Be+2))<<16;case 2:Oe^=(255&I.charCodeAt(Be+1))<<8;case 1:Oe=1540483477*(65535&(Oe^=255&I.charCodeAt(Be)))+((1540483477*(Oe>>>16)&65535)<<16)}return Oe=1540483477*(65535&(Oe^=Oe>>>13))+((1540483477*(Oe>>>16)&65535)<<16),(Oe^=Oe>>>15)>>>0}}),gr=Hn,kr=Hn,Yn=rr;gr.murmur3=kr,gr.murmur2=Yn;var nr=function(){this.ids=[],this.positions=[],this.indexed=!1};nr.prototype.add=function(A,I,Z,le){this.ids.push(lr(A)),this.positions.push(I,Z,le)},nr.prototype.getPositions=function(A){for(var I=lr(A),Z=0,le=this.ids.length-1;Z<le;){var ke=Z+le>>1;this.ids[ke]>=I?le=ke:Z=ke+1}for(var Oe=[];this.ids[Z]===I;){var Be=this.positions[3*Z],Je=this.positions[3*Z+1],ot=this.positions[3*Z+2];Oe.push({index:Be,start:Je,end:ot}),Z++}return Oe},nr.serialize=function(A,I){var Z=new Float64Array(A.ids),le=new Uint32Array(A.positions);return _r(Z,le,0,Z.length-1),I&&I.push(Z.buffer,le.buffer),{ids:Z,positions:le}},nr.deserialize=function(A){var I=new nr;return I.ids=A.ids,I.positions=A.positions,I.indexed=!0,I};var yr=Math.pow(2,53)-1;function lr(A){var I=+A;return!isNaN(I)&&I<=yr?I:gr(String(A))}function _r(A,I,Z,le){for(;Z<le;){for(var ke=A[Z+le>>1],Oe=Z-1,Be=le+1;;){do{Oe++}while(A[Oe]<ke);do{Be--}while(A[Be]>ke);if(Oe>=Be)break;Er(A,Oe,Be),Er(I,3*Oe,3*Be),Er(I,3*Oe+1,3*Be+1),Er(I,3*Oe+2,3*Be+2)}Be-Z<le-Be?(_r(A,I,Z,Be),Z=Be+1):(_r(A,I,Be+1,le),le=Be)}}function Er(A,I,Z){var le=A[I];A[I]=A[Z],A[Z]=le}br("FeaturePositionMap",nr);var Dr=function(A,I){this.gl=A.gl,this.location=I},Rr=function(A){function I(Z,le){A.call(this,Z,le),this.current=0}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Z){this.current!==Z&&(this.current=Z,this.gl.uniform1i(this.location,Z))},I}(Dr),Nr=function(A){function I(Z,le){A.call(this,Z,le),this.current=0}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Z){this.current!==Z&&(this.current=Z,this.gl.uniform1f(this.location,Z))},I}(Dr),Vr=function(A){function I(Z,le){A.call(this,Z,le),this.current=[0,0]}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Z){Z[0]===this.current[0]&&Z[1]===this.current[1]||(this.current=Z,this.gl.uniform2f(this.location,Z[0],Z[1]))},I}(Dr),ui=function(A){function I(Z,le){A.call(this,Z,le),this.current=[0,0,0]}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Z){Z[0]===this.current[0]&&Z[1]===this.current[1]&&Z[2]===this.current[2]||(this.current=Z,this.gl.uniform3f(this.location,Z[0],Z[1],Z[2]))},I}(Dr),ki=function(A){function I(Z,le){A.call(this,Z,le),this.current=[0,0,0,0]}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Z){Z[0]===this.current[0]&&Z[1]===this.current[1]&&Z[2]===this.current[2]&&Z[3]===this.current[3]||(this.current=Z,this.gl.uniform4f(this.location,Z[0],Z[1],Z[2],Z[3]))},I}(Dr),ea=function(A){function I(Z,le){A.call(this,Z,le),this.current=An.transparent}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Z){Z.r===this.current.r&&Z.g===this.current.g&&Z.b===this.current.b&&Z.a===this.current.a||(this.current=Z,this.gl.uniform4f(this.location,Z.r,Z.g,Z.b,Z.a))},I}(Dr),Bi=new Float32Array(16),Yi=function(A){function I(Z,le){A.call(this,Z,le),this.current=Bi}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.set=function(Z){if(Z[12]!==this.current[12]||Z[0]!==this.current[0])return this.current=Z,void this.gl.uniformMatrix4fv(this.location,!1,Z);for(var le=1;le<16;le++)if(Z[le]!==this.current[le]){this.current=Z,this.gl.uniformMatrix4fv(this.location,!1,Z);break}},I}(Dr);function di(A){return[Wn(255*A.r,255*A.g),Wn(255*A.b,255*A.a)]}var qr=function(A,I,Z){this.value=A,this.uniformNames=I.map(function(le){return"u_"+le}),this.type=Z};qr.prototype.setUniform=function(A,I,Z){A.set(Z.constantOr(this.value))},qr.prototype.getBinding=function(A,I,Z){return"color"===this.type?new ea(A,I):new Nr(A,I)};var yi=function(A,I){this.uniformNames=I.map(function(Z){return"u_"+Z}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};yi.prototype.setConstantPatternPositions=function(A,I){this.pixelRatioFrom=I.pixelRatio,this.pixelRatioTo=A.pixelRatio,this.patternFrom=I.tlbr,this.patternTo=A.tlbr},yi.prototype.setUniform=function(A,I,Z,le){var ke="u_pattern_to"===le?this.patternTo:"u_pattern_from"===le?this.patternFrom:"u_pixel_ratio_to"===le?this.pixelRatioTo:"u_pixel_ratio_from"===le?this.pixelRatioFrom:null;ke&&A.set(ke)},yi.prototype.getBinding=function(A,I,Z){return"u_pattern"===Z.substr(0,9)?new ki(A,I):new Nr(A,I)};var ri=function(A,I,Z,le){this.expression=A,this.type=Z,this.maxValue=0,this.paintVertexAttributes=I.map(function(ke){return{name:"a_"+ke,type:"Float32",components:"color"===Z?2:1,offset:0}}),this.paintVertexArray=new le};ri.prototype.populatePaintArray=function(A,I,Z,le,ke){var Oe=this.paintVertexArray.length,Be=this.expression.evaluate(new Ur(0),I,{},le,[],ke);this.paintVertexArray.resize(A),this._setPaintValue(Oe,A,Be)},ri.prototype.updatePaintArray=function(A,I,Z,le){var ke=this.expression.evaluate({zoom:0},Z,le);this._setPaintValue(A,I,ke)},ri.prototype._setPaintValue=function(A,I,Z){if("color"===this.type)for(var le=di(Z),ke=A;ke<I;ke++)this.paintVertexArray.emplace(ke,le[0],le[1]);else{for(var Oe=A;Oe<I;Oe++)this.paintVertexArray.emplace(Oe,Z);this.maxValue=Math.max(this.maxValue,Math.abs(Z))}},ri.prototype.upload=function(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ri.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Wr=function(A,I,Z,le,ke,Oe){this.expression=A,this.uniformNames=I.map(function(Be){return"u_"+Be+"_t"}),this.type=Z,this.useIntegerZoom=le,this.zoom=ke,this.maxValue=0,this.paintVertexAttributes=I.map(function(Be){return{name:"a_"+Be,type:"Float32",components:"color"===Z?4:2,offset:0}}),this.paintVertexArray=new Oe};Wr.prototype.populatePaintArray=function(A,I,Z,le,ke){var Oe=this.expression.evaluate(new Ur(this.zoom),I,{},le,[],ke),Be=this.expression.evaluate(new Ur(this.zoom+1),I,{},le,[],ke),Je=this.paintVertexArray.length;this.paintVertexArray.resize(A),this._setPaintValue(Je,A,Oe,Be)},Wr.prototype.updatePaintArray=function(A,I,Z,le){var ke=this.expression.evaluate({zoom:this.zoom},Z,le),Oe=this.expression.evaluate({zoom:this.zoom+1},Z,le);this._setPaintValue(A,I,ke,Oe)},Wr.prototype._setPaintValue=function(A,I,Z,le){if("color"===this.type)for(var ke=di(Z),Oe=di(le),Be=A;Be<I;Be++)this.paintVertexArray.emplace(Be,ke[0],ke[1],Oe[0],Oe[1]);else{for(var Je=A;Je<I;Je++)this.paintVertexArray.emplace(Je,Z,le);this.maxValue=Math.max(this.maxValue,Math.abs(Z),Math.abs(le))}},Wr.prototype.upload=function(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Wr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Wr.prototype.setUniform=function(A,I){var Z=this.useIntegerZoom?Math.floor(I.zoom):I.zoom,le=u(this.expression.interpolationFactor(Z,this.zoom,this.zoom+1),0,1);A.set(le)},Wr.prototype.getBinding=function(A,I,Z){return new Nr(A,I)};var xi=function(A,I,Z,le,ke,Oe){this.expression=A,this.type=I,this.useIntegerZoom=Z,this.zoom=le,this.layerId=Oe,this.zoomInPaintVertexArray=new ke,this.zoomOutPaintVertexArray=new ke};xi.prototype.populatePaintArray=function(A,I,Z){var le=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(A),this.zoomOutPaintVertexArray.resize(A),this._setPaintValues(le,A,I.patterns&&I.patterns[this.layerId],Z)},xi.prototype.updatePaintArray=function(A,I,Z,le,ke){this._setPaintValues(A,I,Z.patterns&&Z.patterns[this.layerId],ke)},xi.prototype._setPaintValues=function(A,I,Z,le){if(le&&Z){var ke=Z.min,Oe=Z.mid,Be=Z.max,Je=le[ke],ot=le[Oe],mt=le[Be];if(Je&&ot&&mt)for(var _t=A;_t<I;_t++)this.zoomInPaintVertexArray.emplace(_t,ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],Je.tl[0],Je.tl[1],Je.br[0],Je.br[1],ot.pixelRatio,Je.pixelRatio),this.zoomOutPaintVertexArray.emplace(_t,ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],mt.tl[0],mt.tl[1],mt.br[0],mt.br[1],ot.pixelRatio,mt.pixelRatio)}},xi.prototype.upload=function(A){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=A.createVertexBuffer(this.zoomInPaintVertexArray,sr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=A.createVertexBuffer(this.zoomOutPaintVertexArray,sr.members,this.expression.isStateDependent))},xi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ai=function(A,I,Z){this.binders={},this._buffers=[];var le=[];for(var ke in A.paint._values)if(Z(ke)){var Oe=A.paint.get(ke);if(Oe instanceof li&&ao(Oe.property.specification)){var Be=cs(ke,A.type),Je=Oe.value,ot=Oe.property.specification.type,mt=Oe.property.useIntegerZoom,_t=Oe.property.specification["property-type"],zt="cross-faded"===_t||"cross-faded-data-driven"===_t;if("constant"===Je.kind)this.binders[ke]=zt?new yi(Je.value,Be):new qr(Je.value,Be,ot),le.push("/u_"+ke);else if("source"===Je.kind||zt){var jt=fs(ke,ot,"source");this.binders[ke]=zt?new xi(Je,ot,mt,I,jt,A.id):new ri(Je,Be,ot,jt),le.push("/a_"+ke)}else{var Rt=fs(ke,ot,"composite");this.binders[ke]=new Wr(Je,Be,ot,mt,I,Rt),le.push("/z_"+ke)}}}this.cacheKey=le.sort().join("")};Ai.prototype.getMaxValue=function(A){var I=this.binders[A];return I instanceof ri||I instanceof Wr?I.maxValue:0},Ai.prototype.populatePaintArrays=function(A,I,Z,le,ke){for(var Oe in this.binders){var Be=this.binders[Oe];(Be instanceof ri||Be instanceof Wr||Be instanceof xi)&&Be.populatePaintArray(A,I,Z,le,ke)}},Ai.prototype.setConstantPatternPositions=function(A,I){for(var Z in this.binders){var le=this.binders[Z];le instanceof yi&&le.setConstantPatternPositions(A,I)}},Ai.prototype.updatePaintArrays=function(A,I,Z,le,ke){var Oe=!1;for(var Be in A)for(var Je=0,ot=I.getPositions(Be);Je<ot.length;Je+=1){var mt=ot[Je],_t=Z.feature(mt.index);for(var zt in this.binders){var jt=this.binders[zt];if((jt instanceof ri||jt instanceof Wr||jt instanceof xi)&&!0===jt.expression.isStateDependent){var Rt=le.paint.get(zt);jt.expression=Rt.value,jt.updatePaintArray(mt.start,mt.end,_t,A[Be],ke),Oe=!0}}}return Oe},Ai.prototype.defines=function(){var A=[];for(var I in this.binders){var Z=this.binders[I];(Z instanceof qr||Z instanceof yi)&&A.push.apply(A,Z.uniformNames.map(function(le){return"#define HAS_UNIFORM_"+le}))}return A},Ai.prototype.getBinderAttributes=function(){var A=[];for(var I in this.binders){var Z=this.binders[I];if(Z instanceof ri||Z instanceof Wr)for(var le=0;le<Z.paintVertexAttributes.length;le++)A.push(Z.paintVertexAttributes[le].name);else if(Z instanceof xi)for(var ke=0;ke<sr.members.length;ke++)A.push(sr.members[ke].name)}return A},Ai.prototype.getBinderUniforms=function(){var A=[];for(var I in this.binders){var Z=this.binders[I];if(Z instanceof qr||Z instanceof yi||Z instanceof Wr)for(var le=0,ke=Z.uniformNames;le<ke.length;le+=1){var Oe=ke[le];A.push(Oe)}}return A},Ai.prototype.getPaintVertexBuffers=function(){return this._buffers},Ai.prototype.getUniforms=function(A,I){var Z=[];for(var le in this.binders){var ke=this.binders[le];if(ke instanceof qr||ke instanceof yi||ke instanceof Wr)for(var Oe=0,Be=ke.uniformNames;Oe<Be.length;Oe+=1){var Je=Be[Oe];if(I[Je]){var ot=ke.getBinding(A,I[Je],Je);Z.push({name:Je,property:le,binding:ot})}}}return Z},Ai.prototype.setUniforms=function(A,I,Z,le){for(var ke=0,Oe=I;ke<Oe.length;ke+=1){var Be=Oe[ke],Je=Be.name,ot=Be.property,mt=Be.binding;this.binders[ot].setUniform(mt,le,Z.get(ot),Je)}},Ai.prototype.updatePaintBuffers=function(A){for(var I in this._buffers=[],this.binders){var Z=this.binders[I];if(A&&Z instanceof xi){var le=2===A.fromScale?Z.zoomInPaintVertexBuffer:Z.zoomOutPaintVertexBuffer;le&&this._buffers.push(le)}else(Z instanceof ri||Z instanceof Wr)&&Z.paintVertexBuffer&&this._buffers.push(Z.paintVertexBuffer)}},Ai.prototype.upload=function(A){for(var I in this.binders){var Z=this.binders[I];(Z instanceof ri||Z instanceof Wr||Z instanceof xi)&&Z.upload(A)}this.updatePaintBuffers()},Ai.prototype.destroy=function(){for(var A in this.binders){var I=this.binders[A];(I instanceof ri||I instanceof Wr||I instanceof xi)&&I.destroy()}};var Ii=function(A,I,Z){void 0===Z&&(Z=function(){return!0}),this.programConfigurations={};for(var le=0,ke=A;le<ke.length;le+=1){var Oe=ke[le];this.programConfigurations[Oe.id]=new Ai(Oe,I,Z)}this.needsUpload=!1,this._featureMap=new nr,this._bufferOffset=0};function cs(A,I){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[A]||[A.replace(I+"-","").replace(/-/g,"_")]}function fs(A,I,Z){var le={color:{source:it,composite:xt},number:{source:je,composite:it}},ke={"line-pattern":{source:B,composite:B},"fill-pattern":{source:B,composite:B},"fill-extrusion-pattern":{source:B,composite:B}}[A];return ke&&ke[Z]||le[I][Z]}Ii.prototype.populatePaintArrays=function(A,I,Z,le,ke,Oe){for(var Be in this.programConfigurations)this.programConfigurations[Be].populatePaintArrays(A,I,le,ke,Oe);void 0!==I.id&&this._featureMap.add(I.id,Z,this._bufferOffset,A),this._bufferOffset=A,this.needsUpload=!0},Ii.prototype.updatePaintArrays=function(A,I,Z,le){for(var ke=0,Oe=Z;ke<Oe.length;ke+=1){var Be=Oe[ke];this.needsUpload=this.programConfigurations[Be.id].updatePaintArrays(A,this._featureMap,I,Be,le)||this.needsUpload}},Ii.prototype.get=function(A){return this.programConfigurations[A]},Ii.prototype.upload=function(A){if(this.needsUpload){for(var I in this.programConfigurations)this.programConfigurations[I].upload(A);this.needsUpload=!1}},Ii.prototype.destroy=function(){for(var A in this.programConfigurations)this.programConfigurations[A].destroy()},br("ConstantBinder",qr),br("CrossFadedConstantBinder",yi),br("SourceExpressionBinder",ri),br("CrossFadedCompositeBinder",xi),br("CompositeExpressionBinder",Wr),br("ProgramConfiguration",Ai,{omit:["_buffers"]}),br("ProgramConfigurationSet",Ii);var Xr=8192,qs=Math.pow(2,14)-1,Ms=-qs-1;function ho(A){for(var I=Xr/A.extent,Z=A.loadGeometry(),le=0;le<Z.length;le++)for(var ke=Z[le],Oe=0;Oe<ke.length;Oe++){var Be=ke[Oe],Je=Math.round(Be.x*I),ot=Math.round(Be.y*I);Be.x=u(Je,Ms,qs),Be.y=u(ot,Ms,qs),(Je<Be.x||Je>Be.x+1||ot<Be.y||ot>Be.y+1)&&E("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return Z}function bi(A,I){return{type:A.type,id:A.id,properties:A.properties,geometry:I?ho(A):[]}}function wa(A,I,Z,le,ke){A.emplaceBack(2*I+(le+1)/2,2*Z+(ke+1)/2)}var qi=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new Po,this.indexArray=new me,this.segments=new Nn,this.programConfigurations=new Ii(A.layers,A.zoom),this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};function Al(A,I){for(var Z=0;Z<A.length;Z++)if(Gs(I,A[Z]))return!0;for(var le=0;le<I.length;le++)if(Gs(A,I[le]))return!0;return!!hl(A,I)}function yc(A,I,Z){return!!Gs(A,I)||!!pl(I,A,Z)}function Pu(A,I){if(1===A.length)return zu(I,A[0]);for(var Z=0;Z<I.length;Z++)for(var le=I[Z],ke=0;ke<le.length;ke++)if(Gs(A,le[ke]))return!0;for(var Oe=0;Oe<A.length;Oe++)if(zu(I,A[Oe]))return!0;for(var Be=0;Be<I.length;Be++)if(hl(A,I[Be]))return!0;return!1}function xc(A,I,Z){if(A.length>1){if(hl(A,I))return!0;for(var le=0;le<I.length;le++)if(pl(I[le],A,Z))return!0}for(var ke=0;ke<A.length;ke++)if(pl(A[ke],I,Z))return!0;return!1}function hl(A,I){if(0===A.length||0===I.length)return!1;for(var Z=0;Z<A.length-1;Z++)for(var le=A[Z],ke=A[Z+1],Oe=0;Oe<I.length-1;Oe++)if(bc(le,ke,I[Oe],I[Oe+1]))return!0;return!1}function bc(A,I,Z,le){return C(A,Z,le)!==C(I,Z,le)&&C(A,I,Z)!==C(A,I,le)}function pl(A,I,Z){var le=Z*Z;if(1===I.length)return A.distSqr(I[0])<le;for(var ke=1;ke<I.length;ke++)if(Iu(A,I[ke-1],I[ke])<le)return!0;return!1}function Iu(A,I,Z){var le=I.distSqr(Z);if(0===le)return A.distSqr(I);var ke=((A.x-I.x)*(Z.x-I.x)+(A.y-I.y)*(Z.y-I.y))/le;return ke<0?A.distSqr(I):ke>1?A.distSqr(Z):A.distSqr(Z.sub(I)._mult(ke)._add(I))}function zu(A,I){for(var Z,le,ke,Oe=!1,Be=0;Be<A.length;Be++)for(var Je=0,ot=(Z=A[Be]).length-1;Je<Z.length;ot=Je++)le=Z[Je],ke=Z[ot],le.y>I.y!=ke.y>I.y&&I.x<(ke.x-le.x)*(I.y-le.y)/(ke.y-le.y)+le.x&&(Oe=!Oe);return Oe}function Gs(A,I){for(var Z=!1,le=0,ke=A.length-1;le<A.length;ke=le++){var Oe=A[le],Be=A[ke];Oe.y>I.y!=Be.y>I.y&&I.x<(Be.x-Oe.x)*(I.y-Oe.y)/(Be.y-Oe.y)+Oe.x&&(Z=!Z)}return Z}function Nh(A,I,Z){var le=Z[0],ke=Z[2];if(A.x<le.x&&I.x<le.x||A.x>ke.x&&I.x>ke.x||A.y<le.y&&I.y<le.y||A.y>ke.y&&I.y>ke.y)return!1;var Oe=C(A,I,Z[0]);return Oe!==C(A,I,Z[1])||Oe!==C(A,I,Z[2])||Oe!==C(A,I,Z[3])}function iu(A,I,Z){var le=I.paint.get(A).value;return"constant"===le.kind?le.value:Z.programConfigurations.get(I.id).getMaxValue(A)}function Du(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function Ru(A,I,Z,le,ke){if(!I[0]&&!I[1])return A;var Oe=t.convert(I)._mult(ke);"viewport"===Z&&Oe._rotate(-le);for(var Be=[],Je=0;Je<A.length;Je++){var ot=A[Je];Be.push(ot.sub(Oe))}return Be}qi.prototype.populate=function(A,I,Z){var le=this.layers[0],ke=[],Oe=null;"circle"===le.type&&(Oe=le.layout.get("circle-sort-key"));for(var Be=0,Je=A;Be<Je.length;Be+=1){var ot=Je[Be],mt=ot.feature,_t=ot.id,zt=ot.index,jt=ot.sourceLayerIndex,Rt=this.layers[0]._featureFilter.needGeometry,tn=bi(mt,Rt);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),tn,Z)){var rn=Oe?Oe.evaluate(tn,{},Z):void 0,Tn={id:_t,properties:mt.properties,type:mt.type,sourceLayerIndex:jt,index:zt,geometry:Rt?tn.geometry:ho(mt),patterns:{},sortKey:rn};ke.push(Tn)}}Oe&&ke.sort(function(mr,xr){return mr.sortKey-xr.sortKey});for(var bn=0,zn=ke;bn<zn.length;bn+=1){var Dn=zn[bn],jn=Dn,Gn=jn.geometry,Kn=jn.index,pr=jn.sourceLayerIndex,ur=A[Kn].feature;this.addFeature(Dn,Gn,Kn,Z),I.featureIndex.insert(ur,Gn,Kn,pr,this.index)}},qi.prototype.update=function(A,I,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,I,this.stateDependentLayers,Z)},qi.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},qi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},qi.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Cn),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},qi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},qi.prototype.addFeature=function(A,I,Z,le){for(var ke=0,Oe=I;ke<Oe.length;ke+=1)for(var Be=0,Je=Oe[ke];Be<Je.length;Be+=1){var ot=Je[Be],mt=ot.x,_t=ot.y;if(!(mt<0||mt>=Xr||_t<0||_t>=Xr)){var zt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,A.sortKey),jt=zt.vertexLength;wa(this.layoutVertexArray,mt,_t,-1,-1),wa(this.layoutVertexArray,mt,_t,1,-1),wa(this.layoutVertexArray,mt,_t,1,1),wa(this.layoutVertexArray,mt,_t,-1,1),this.indexArray.emplaceBack(jt,jt+1,jt+2),this.indexArray.emplaceBack(jt,jt+3,jt+2),zt.vertexLength+=4,zt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Z,{},le)},br("CircleBucket",qi,{omit:["layers"]});var jh=new Ei({"circle-sort-key":new Cr(We.layout_circle["circle-sort-key"])}),Uh={paint:new Ei({"circle-radius":new Cr(We.paint_circle["circle-radius"]),"circle-color":new Cr(We.paint_circle["circle-color"]),"circle-blur":new Cr(We.paint_circle["circle-blur"]),"circle-opacity":new Cr(We.paint_circle["circle-opacity"]),"circle-translate":new Tr(We.paint_circle["circle-translate"]),"circle-translate-anchor":new Tr(We.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Tr(We.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Tr(We.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Cr(We.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Cr(We.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Cr(We.paint_circle["circle-stroke-opacity"])}),layout:jh},Io=typeof Float32Array<"u"?Float32Array:Array;function _c(A){return A[0]=1,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=1,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=1,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}function sf(A,I,Z){var le=I[0],ke=I[1],Oe=I[2],Be=I[3],Je=I[4],ot=I[5],mt=I[6],_t=I[7],zt=I[8],jt=I[9],Rt=I[10],tn=I[11],rn=I[12],Tn=I[13],bn=I[14],zn=I[15],Dn=Z[0],jn=Z[1],Gn=Z[2],Kn=Z[3];return A[0]=Dn*le+jn*Je+Gn*zt+Kn*rn,A[1]=Dn*ke+jn*ot+Gn*jt+Kn*Tn,A[2]=Dn*Oe+jn*mt+Gn*Rt+Kn*bn,A[3]=Dn*Be+jn*_t+Gn*tn+Kn*zn,Dn=Z[4],jn=Z[5],Gn=Z[6],Kn=Z[7],A[4]=Dn*le+jn*Je+Gn*zt+Kn*rn,A[5]=Dn*ke+jn*ot+Gn*jt+Kn*Tn,A[6]=Dn*Oe+jn*mt+Gn*Rt+Kn*bn,A[7]=Dn*Be+jn*_t+Gn*tn+Kn*zn,Dn=Z[8],jn=Z[9],Gn=Z[10],Kn=Z[11],A[8]=Dn*le+jn*Je+Gn*zt+Kn*rn,A[9]=Dn*ke+jn*ot+Gn*jt+Kn*Tn,A[10]=Dn*Oe+jn*mt+Gn*Rt+Kn*bn,A[11]=Dn*Be+jn*_t+Gn*tn+Kn*zn,Dn=Z[12],jn=Z[13],Gn=Z[14],Kn=Z[15],A[12]=Dn*le+jn*Je+Gn*zt+Kn*rn,A[13]=Dn*ke+jn*ot+Gn*jt+Kn*Tn,A[14]=Dn*Oe+jn*mt+Gn*Rt+Kn*bn,A[15]=Dn*Be+jn*_t+Gn*tn+Kn*zn,A}Math.hypot||(Math.hypot=function(){for(var A=arguments,I=0,Z=arguments.length;Z--;)I+=A[Z]*A[Z];return Math.sqrt(I)});var Fu,A,Vh=sf,Hh=function(A,I,Z){return A[0]=I[0]-Z[0],A[1]=I[1]-Z[1],A[2]=I[2]-Z[2],A};function Bu(A,I,Z){var le=I[0],ke=I[1],Oe=I[2],Be=I[3];return A[0]=Z[0]*le+Z[4]*ke+Z[8]*Oe+Z[12]*Be,A[1]=Z[1]*le+Z[5]*ke+Z[9]*Oe+Z[13]*Be,A[2]=Z[2]*le+Z[6]*ke+Z[10]*Oe+Z[14]*Be,A[3]=Z[3]*le+Z[7]*ke+Z[11]*Oe+Z[15]*Be,A}Fu=new Io(3),Io!=Float32Array&&(Fu[0]=0,Fu[1]=0,Fu[2]=0),A=new Io(4),Io!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0,A[3]=0);var qh=function(A){var I=A[0],Z=A[1];return I*I+Z*Z},Gh=(function(){var A=new Io(2);Io!=Float32Array&&(A[0]=0,A[1]=0)}(),function(A){function I(Z){A.call(this,Z,Uh)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(Z){return new qi(Z)},I.prototype.queryRadius=function(Z){var le=Z;return iu("circle-radius",this,le)+iu("circle-stroke-width",this,le)+Du(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(Z,le,ke,Oe,Be,Je,ot,mt){for(var _t=Ru(Z,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),Je.angle,ot),zt=this.paint.get("circle-radius").evaluate(le,ke)+this.paint.get("circle-stroke-width").evaluate(le,ke),jt="map"===this.paint.get("circle-pitch-alignment"),Rt=jt?_t:function(pr,ur){return pr.map(function(mr){return lf(mr,ur)})}(_t,mt),tn=jt?zt*ot:zt,rn=0,Tn=Oe;rn<Tn.length;rn+=1)for(var bn=0,zn=Tn[rn];bn<zn.length;bn+=1){var Dn=zn[bn],jn=jt?Dn:lf(Dn,mt),Gn=tn,Kn=Bu([],[Dn.x,Dn.y,0,1],mt);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Gn*=Kn[3]/Je.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Gn*=Je.cameraToCenterDistance/Kn[3]),yc(Rt,jn,Gn))return!0}return!1},I}(Qr));function lf(A,I){var Z=Bu([],[A.x,A.y,0,1],I);return new t(Z[0]/Z[3],Z[1]/Z[3])}var uf=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I}(qi);function wc(A,I,Z,le){var ke=I.width,Oe=I.height;if(le){if(le instanceof Uint8ClampedArray)le=new Uint8Array(le.buffer);else if(le.length!==ke*Oe*Z)throw new RangeError("mismatched image size")}else le=new Uint8Array(ke*Oe*Z);return A.width=ke,A.height=Oe,A.data=le,A}function cf(A,I,Z){var le=I.width,ke=I.height;if(le!==A.width||ke!==A.height){var Oe=wc({},{width:le,height:ke},Z);Tc(A,Oe,{x:0,y:0},{x:0,y:0},{width:Math.min(A.width,le),height:Math.min(A.height,ke)},Z),A.width=le,A.height=ke,A.data=Oe.data}}function Tc(A,I,Z,le,ke,Oe){if(0===ke.width||0===ke.height)return I;if(ke.width>A.width||ke.height>A.height||Z.x>A.width-ke.width||Z.y>A.height-ke.height)throw new RangeError("out of range source coordinates for image copy");if(ke.width>I.width||ke.height>I.height||le.x>I.width-ke.width||le.y>I.height-ke.height)throw new RangeError("out of range destination coordinates for image copy");for(var Be=A.data,Je=I.data,ot=0;ot<ke.height;ot++)for(var mt=((Z.y+ot)*A.width+Z.x)*Oe,_t=((le.y+ot)*I.width+le.x)*Oe,zt=0;zt<ke.width*Oe;zt++)Je[_t+zt]=Be[mt+zt];return I}br("HeatmapBucket",uf,{omit:["layers"]});var Ml=function(A,I){wc(this,A,1,I)};Ml.prototype.resize=function(A){cf(this,A,1)},Ml.prototype.clone=function(){return new Ml({width:this.width,height:this.height},new Uint8Array(this.data))},Ml.copy=function(A,I,Z,le,ke){Tc(A,I,Z,le,ke,1)};var to=function(A,I){wc(this,A,4,I)};to.prototype.resize=function(A){cf(this,A,4)},to.prototype.replace=function(A,I){I?this.data.set(A):A instanceof Uint8ClampedArray?this.data=new Uint8Array(A.buffer):this.data=A},to.prototype.clone=function(){return new to({width:this.width,height:this.height},new Uint8Array(this.data))},to.copy=function(A,I,Z,le,ke){Tc(A,I,Z,le,ke,4)},br("AlphaImage",Ml),br("RGBAImage",to);var Zh={paint:new Ei({"heatmap-radius":new Cr(We.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Cr(We.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Tr(We.paint_heatmap["heatmap-intensity"]),"heatmap-color":new fo(We.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Tr(We.paint_heatmap["heatmap-opacity"])})};function ff(A){var I={},Z=A.resolution||256,le=A.clips?A.clips.length:1,ke=A.image||new to({width:Z,height:le}),Oe=function(tn,rn,Tn){I[A.evaluationKey]=Tn;var bn=A.expression.evaluate(I);ke.data[tn+rn+0]=Math.floor(255*bn.r/bn.a),ke.data[tn+rn+1]=Math.floor(255*bn.g/bn.a),ke.data[tn+rn+2]=Math.floor(255*bn.b/bn.a),ke.data[tn+rn+3]=Math.floor(255*bn.a)};if(A.clips)for(var Be=0,Je=0;Be<le;++Be,Je+=4*Z)for(var ot=0,mt=0;ot<Z;ot++,mt+=4){var _t=ot/(Z-1),zt=A.clips[Be];Oe(Je,mt,zt.start*(1-_t)+zt.end*_t)}else for(var jt=0,Rt=0;jt<Z;jt++,Rt+=4)Oe(0,Rt,jt/(Z-1));return ke}var Yh=function(A){function I(Z){A.call(this,Z,Zh),this._updateColorRamp()}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(Z){return new uf(Z)},I.prototype._handleSpecialPaintPropertyUpdate=function(Z){"heatmap-color"===Z&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){var Z=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=ff({expression:Z,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},I}(Qr),Wh={paint:new Ei({"hillshade-illumination-direction":new Tr(We.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Tr(We.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Tr(We.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Tr(We.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Tr(We.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Tr(We.paint_hillshade["hillshade-accent-color"])})},Xh=function(A){function I(Z){A.call(this,Z,Wh)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},I}(Qr),Jh=pi([{name:"a_pos",components:2,type:"Int16"}],4).members,kc=Nu,Kh=Nu;function Nu(A,I,Z){Z=Z||2;var le,ke,Oe,Be,Je,ot,mt,_t=I&&I.length,zt=_t?I[0]*Z:A.length,jt=hf(A,0,zt,Z,!0),Rt=[];if(!jt||jt.next===jt.prev)return Rt;if(_t&&(jt=function(rn,Tn,bn,zn){var Dn,jn,Gn,Kn=[];for(Dn=0,jn=Tn.length;Dn<jn;Dn++)(Gn=hf(rn,Tn[Dn]*zn,Dn<jn-1?Tn[Dn+1]*zn:rn.length,zn,!1))===Gn.next&&(Gn.steiner=!0),Kn.push(ap(Gn));for(Kn.sort(np),Dn=0;Dn<Kn.length;Dn++)rp(Kn[Dn],bn),bn=dl(bn,bn.next);return bn}(A,I,jt,Z)),A.length>80*Z){le=Oe=A[0],ke=Be=A[1];for(var tn=Z;tn<zt;tn+=Z)(Je=A[tn])<le&&(le=Je),(ot=A[tn+1])<ke&&(ke=ot),Je>Oe&&(Oe=Je),ot>Be&&(Be=ot);mt=0!==(mt=Math.max(Oe-le,Be-ke))?1/mt:0}return au(jt,Rt,Z,le,ke,mt),Rt}function hf(A,I,Z,le,ke){var Oe,Be;if(ke===Sc(A,I,Z,le)>0)for(Oe=I;Oe<Z;Oe+=le)Be=gf(Oe,A[Oe],A[Oe+1],Be);else for(Oe=Z-le;Oe>=I;Oe-=le)Be=gf(Oe,A[Oe],A[Oe+1],Be);return Be&&ju(Be,Be.next)&&(su(Be),Be=Be.next),Be}function dl(A,I){if(!A)return A;I||(I=A);var Z,le=A;do{if(Z=!1,le.steiner||!ju(le,le.next)&&0!==Wi(le.prev,le,le.next))le=le.next;else{if(su(le),(le=I=le.prev)===le.next)break;Z=!0}}while(Z||le!==I);return I}function au(A,I,Z,le,ke,Oe,Be){if(A){!Be&&Oe&&function(_t,zt,jt,Rt){var tn=_t;do{null===tn.z&&(tn.z=Ac(tn.x,tn.y,zt,jt,Rt)),tn.prevZ=tn.prev,tn.nextZ=tn.next,tn=tn.next}while(tn!==_t);tn.prevZ.nextZ=null,tn.prevZ=null,function(rn){var Tn,bn,zn,Dn,jn,Gn,Kn,pr,ur=1;do{for(bn=rn,rn=null,jn=null,Gn=0;bn;){for(Gn++,zn=bn,Kn=0,Tn=0;Tn<ur&&(Kn++,zn=zn.nextZ);Tn++);for(pr=ur;Kn>0||pr>0&&zn;)0!==Kn&&(0===pr||!zn||bn.z<=zn.z)?(Dn=bn,bn=bn.nextZ,Kn--):(Dn=zn,zn=zn.nextZ,pr--),jn?jn.nextZ=Dn:rn=Dn,Dn.prevZ=jn,jn=Dn;bn=zn}jn.nextZ=null,ur*=2}while(Gn>1)}(tn)}(A,le,ke,Oe);for(var Je,ot,mt=A;A.prev!==A.next;)if(Je=A.prev,ot=A.next,Oe?Qh(A,le,ke,Oe):$h(A))I.push(Je.i/Z),I.push(A.i/Z),I.push(ot.i/Z),su(A),A=ot.next,mt=ot.next;else if((A=ot)===mt){Be?1===Be?au(A=ep(dl(A),I,Z),I,Z,le,ke,Oe,2):2===Be&&tp(A,I,Z,le,ke,Oe):au(dl(A),I,Z,le,ke,Oe,1);break}}}function $h(A){var I=A.prev,Z=A,le=A.next;if(Wi(I,Z,le)>=0)return!1;for(var ke=A.next.next;ke!==A.prev;){if(Rl(I.x,I.y,Z.x,Z.y,le.x,le.y,ke.x,ke.y)&&Wi(ke.prev,ke,ke.next)>=0)return!1;ke=ke.next}return!0}function Qh(A,I,Z,le){var ke=A.prev,Oe=A,Be=A.next;if(Wi(ke,Oe,Be)>=0)return!1;for(var Je=ke.x<Oe.x?ke.x<Be.x?ke.x:Be.x:Oe.x<Be.x?Oe.x:Be.x,ot=ke.y<Oe.y?ke.y<Be.y?ke.y:Be.y:Oe.y<Be.y?Oe.y:Be.y,mt=ke.x>Oe.x?ke.x>Be.x?ke.x:Be.x:Oe.x>Be.x?Oe.x:Be.x,_t=ke.y>Oe.y?ke.y>Be.y?ke.y:Be.y:Oe.y>Be.y?Oe.y:Be.y,zt=Ac(Je,ot,I,Z,le),jt=Ac(mt,_t,I,Z,le),Rt=A.prevZ,tn=A.nextZ;Rt&&Rt.z>=zt&&tn&&tn.z<=jt;){if(Rt!==A.prev&&Rt!==A.next&&Rl(ke.x,ke.y,Oe.x,Oe.y,Be.x,Be.y,Rt.x,Rt.y)&&Wi(Rt.prev,Rt,Rt.next)>=0||(Rt=Rt.prevZ,tn!==A.prev&&tn!==A.next&&Rl(ke.x,ke.y,Oe.x,Oe.y,Be.x,Be.y,tn.x,tn.y)&&Wi(tn.prev,tn,tn.next)>=0))return!1;tn=tn.nextZ}for(;Rt&&Rt.z>=zt;){if(Rt!==A.prev&&Rt!==A.next&&Rl(ke.x,ke.y,Oe.x,Oe.y,Be.x,Be.y,Rt.x,Rt.y)&&Wi(Rt.prev,Rt,Rt.next)>=0)return!1;Rt=Rt.prevZ}for(;tn&&tn.z<=jt;){if(tn!==A.prev&&tn!==A.next&&Rl(ke.x,ke.y,Oe.x,Oe.y,Be.x,Be.y,tn.x,tn.y)&&Wi(tn.prev,tn,tn.next)>=0)return!1;tn=tn.nextZ}return!0}function ep(A,I,Z){var le=A;do{var ke=le.prev,Oe=le.next.next;!ju(ke,Oe)&&pf(ke,le,le.next,Oe)&&ou(ke,Oe)&&ou(Oe,ke)&&(I.push(ke.i/Z),I.push(le.i/Z),I.push(Oe.i/Z),su(le),su(le.next),le=A=Oe),le=le.next}while(le!==A);return dl(le)}function tp(A,I,Z,le,ke,Oe){var Be=A;do{for(var Je=Be.next.next;Je!==Be.prev;){if(Be.i!==Je.i&&op(Be,Je)){var ot=df(Be,Je);return Be=dl(Be,Be.next),ot=dl(ot,ot.next),au(Be,I,Z,le,ke,Oe),void au(ot,I,Z,le,ke,Oe)}Je=Je.next}Be=Be.next}while(Be!==A)}function np(A,I){return A.x-I.x}function rp(A,I){if(I=function(le,ke){var Oe,Be=ke,Je=le.x,ot=le.y,mt=-1/0;do{if(ot<=Be.y&&ot>=Be.next.y&&Be.next.y!==Be.y){var _t=Be.x+(ot-Be.y)*(Be.next.x-Be.x)/(Be.next.y-Be.y);if(_t<=Je&&_t>mt){if(mt=_t,_t===Je){if(ot===Be.y)return Be;if(ot===Be.next.y)return Be.next}Oe=Be.x<Be.next.x?Be:Be.next}}Be=Be.next}while(Be!==ke);if(!Oe)return null;if(Je===mt)return Oe;var zt,jt=Oe,Rt=Oe.x,tn=Oe.y,rn=1/0;Be=Oe;do{Je>=Be.x&&Be.x>=Rt&&Je!==Be.x&&Rl(ot<tn?Je:mt,ot,Rt,tn,ot<tn?mt:Je,ot,Be.x,Be.y)&&(zt=Math.abs(ot-Be.y)/(Je-Be.x),ou(Be,le)&&(zt<rn||zt===rn&&(Be.x>Oe.x||Be.x===Oe.x&&ip(Oe,Be)))&&(Oe=Be,rn=zt)),Be=Be.next}while(Be!==jt);return Oe}(A,I)){var Z=df(I,A);dl(I,I.next),dl(Z,Z.next)}}function ip(A,I){return Wi(A.prev,A,I.prev)<0&&Wi(I.next,A,A.next)<0}function Ac(A,I,Z,le,ke){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-Z)*ke)|A<<8))|A<<4))|A<<2))|A<<1))|(I=1431655765&((I=858993459&((I=252645135&((I=16711935&((I=32767*(I-le)*ke)|I<<8))|I<<4))|I<<2))|I<<1))<<1}function ap(A){var I=A,Z=A;do{(I.x<Z.x||I.x===Z.x&&I.y<Z.y)&&(Z=I),I=I.next}while(I!==A);return Z}function Rl(A,I,Z,le,ke,Oe,Be,Je){return(ke-Be)*(I-Je)-(A-Be)*(Oe-Je)>=0&&(A-Be)*(le-Je)-(Z-Be)*(I-Je)>=0&&(Z-Be)*(Oe-Je)-(ke-Be)*(le-Je)>=0}function op(A,I){return A.next.i!==I.i&&A.prev.i!==I.i&&!function(Z,le){var ke=Z;do{if(ke.i!==Z.i&&ke.next.i!==Z.i&&ke.i!==le.i&&ke.next.i!==le.i&&pf(ke,ke.next,Z,le))return!0;ke=ke.next}while(ke!==Z);return!1}(A,I)&&(ou(A,I)&&ou(I,A)&&function(Z,le){var ke=Z,Oe=!1,Be=(Z.x+le.x)/2,Je=(Z.y+le.y)/2;do{ke.y>Je!=ke.next.y>Je&&ke.next.y!==ke.y&&Be<(ke.next.x-ke.x)*(Je-ke.y)/(ke.next.y-ke.y)+ke.x&&(Oe=!Oe),ke=ke.next}while(ke!==Z);return Oe}(A,I)&&(Wi(A.prev,A,I.prev)||Wi(A,I.prev,I))||ju(A,I)&&Wi(A.prev,A,A.next)>0&&Wi(I.prev,I,I.next)>0)}function Wi(A,I,Z){return(I.y-A.y)*(Z.x-I.x)-(I.x-A.x)*(Z.y-I.y)}function ju(A,I){return A.x===I.x&&A.y===I.y}function pf(A,I,Z,le){var ke=Vu(Wi(A,I,Z)),Oe=Vu(Wi(A,I,le)),Be=Vu(Wi(Z,le,A)),Je=Vu(Wi(Z,le,I));return ke!==Oe&&Be!==Je||!(0!==ke||!Uu(A,Z,I))||!(0!==Oe||!Uu(A,le,I))||!(0!==Be||!Uu(Z,A,le))||!(0!==Je||!Uu(Z,I,le))}function Uu(A,I,Z){return I.x<=Math.max(A.x,Z.x)&&I.x>=Math.min(A.x,Z.x)&&I.y<=Math.max(A.y,Z.y)&&I.y>=Math.min(A.y,Z.y)}function Vu(A){return A>0?1:A<0?-1:0}function ou(A,I){return Wi(A.prev,A,A.next)<0?Wi(A,I,A.next)>=0&&Wi(A,A.prev,I)>=0:Wi(A,I,A.prev)<0||Wi(A,A.next,I)<0}function df(A,I){var Z=new Mc(A.i,A.x,A.y),le=new Mc(I.i,I.x,I.y),ke=A.next,Oe=I.prev;return A.next=I,I.prev=A,Z.next=ke,ke.prev=Z,le.next=Z,Z.prev=le,Oe.next=le,le.prev=Oe,le}function gf(A,I,Z,le){var ke=new Mc(A,I,Z);return le?(ke.next=le.next,ke.prev=le,le.next.prev=ke,le.next=ke):(ke.prev=ke,ke.next=ke),ke}function su(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function Mc(A,I,Z){this.i=A,this.x=I,this.y=Z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Sc(A,I,Z,le){for(var ke=0,Oe=I,Be=Z-le;Oe<Z;Oe+=le)ke+=(A[Be]-A[Oe])*(A[Oe+1]+A[Be+1]),Be=Oe;return ke}function sp(A,I,Z,le,ke){vf(A,I,Z||0,le||A.length-1,ke||lp)}function vf(A,I,Z,le,ke){for(;le>Z;){if(le-Z>600){var Oe=le-Z+1,Be=I-Z+1,Je=Math.log(Oe),ot=.5*Math.exp(2*Je/3),mt=.5*Math.sqrt(Je*ot*(Oe-ot)/Oe)*(Be-Oe/2<0?-1:1);vf(A,I,Math.max(Z,Math.floor(I-Be*ot/Oe+mt)),Math.min(le,Math.floor(I+(Oe-Be)*ot/Oe+mt)),ke)}var _t=A[I],zt=Z,jt=le;for(lu(A,Z,I),ke(A[le],_t)>0&&lu(A,Z,le);zt<jt;){for(lu(A,zt,jt),zt++,jt--;ke(A[zt],_t)<0;)zt++;for(;ke(A[jt],_t)>0;)jt--}0===ke(A[Z],_t)?lu(A,Z,jt):lu(A,++jt,le),jt<=I&&(Z=jt+1),I<=jt&&(le=jt-1)}}function lu(A,I,Z){var le=A[I];A[I]=A[Z],A[Z]=le}function lp(A,I){return A<I?-1:A>I?1:0}function Ec(A,I){var Z=A.length;if(Z<=1)return[A];for(var le,ke,Oe=[],Be=0;Be<Z;Be++){var Je=O(A[Be]);0!==Je&&(A[Be].area=Math.abs(Je),void 0===ke&&(ke=Je<0),ke===Je<0?(le&&Oe.push(le),le=[A[Be]]):le.push(A[Be]))}if(le&&Oe.push(le),I>1)for(var ot=0;ot<Oe.length;ot++)Oe[ot].length<=I||(sp(Oe[ot],I,1,Oe[ot].length-1,up),Oe[ot]=Oe[ot].slice(0,I));return Oe}function up(A,I){return I.area-A.area}function Lc(A,I,Z){for(var le=Z.patternDependencies,ke=!1,Oe=0,Be=I;Oe<Be.length;Oe+=1){var Je=Be[Oe].paint.get(A+"-pattern");Je.isConstant()||(ke=!0);var ot=Je.constantOr(null);ot&&(ke=!0,le[ot.to]=!0,le[ot.from]=!0)}return ke}function Cc(A,I,Z,le,ke){for(var Oe=ke.patternDependencies,Be=0,Je=I;Be<Je.length;Be+=1){var ot=Je[Be],mt=ot.paint.get(A+"-pattern").value;if("constant"!==mt.kind){var _t=mt.evaluate({zoom:le-1},Z,{},ke.availableImages),zt=mt.evaluate({zoom:le},Z,{},ke.availableImages),jt=mt.evaluate({zoom:le+1},Z,{},ke.availableImages);_t=_t&&_t.name?_t.name:_t,zt=zt&&zt.name?zt.name:zt,jt=jt&&jt.name?jt.name:jt,Oe[_t]=!0,Oe[zt]=!0,Oe[jt]=!0,Z.patterns[ot.id]={min:_t,mid:zt,max:jt}}}return Z}Nu.deviation=function(A,I,Z,le){var ke=I&&I.length,Oe=ke?I[0]*Z:A.length,Be=Math.abs(Sc(A,0,Oe,Z));if(ke)for(var Je=0,ot=I.length;Je<ot;Je++){var mt=I[Je]*Z,_t=Je<ot-1?I[Je+1]*Z:A.length;Be-=Math.abs(Sc(A,mt,_t,Z))}var zt=0;for(Je=0;Je<le.length;Je+=3){var jt=le[Je]*Z,Rt=le[Je+1]*Z,tn=le[Je+2]*Z;zt+=Math.abs((A[jt]-A[tn])*(A[Rt+1]-A[jt+1])-(A[jt]-A[Rt])*(A[tn+1]-A[jt+1]))}return 0===Be&&0===zt?0:Math.abs((zt-Be)/Be)},Nu.flatten=function(A){for(var I=A[0][0].length,Z={vertices:[],holes:[],dimensions:I},le=0,ke=0;ke<A.length;ke++){for(var Oe=0;Oe<A[ke].length;Oe++)for(var Be=0;Be<I;Be++)Z.vertices.push(A[ke][Oe][Be]);ke>0&&(le+=A[ke-1].length,Z.holes.push(le))}return Z},kc.default=Kh;var Ss=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Po,this.indexArray=new me,this.indexArray2=new lt,this.programConfigurations=new Ii(A.layers,A.zoom),this.segments=new Nn,this.segments2=new Nn,this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};Ss.prototype.populate=function(A,I,Z){this.hasPattern=Lc("fill",this.layers,I);for(var le=this.layers[0].layout.get("fill-sort-key"),ke=[],Oe=0,Be=A;Oe<Be.length;Oe+=1){var Je=Be[Oe],ot=Je.feature,mt=Je.id,_t=Je.index,zt=Je.sourceLayerIndex,jt=this.layers[0]._featureFilter.needGeometry,Rt=bi(ot,jt);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),Rt,Z)){var tn=le?le.evaluate(Rt,{},Z,I.availableImages):void 0,rn={id:mt,properties:ot.properties,type:ot.type,sourceLayerIndex:zt,index:_t,geometry:jt?Rt.geometry:ho(ot),patterns:{},sortKey:tn};ke.push(rn)}}le&&ke.sort(function(mr,xr){return mr.sortKey-xr.sortKey});for(var Tn=0,bn=ke;Tn<bn.length;Tn+=1){var zn=bn[Tn],Dn=zn,jn=Dn.geometry,Gn=Dn.index,Kn=Dn.sourceLayerIndex;if(this.hasPattern){var pr=Cc("fill",this.layers,zn,this.zoom,I);this.patternFeatures.push(pr)}else this.addFeature(zn,jn,Gn,Z,{});var ur=A[Gn].feature;I.featureIndex.insert(ur,jn,Gn,Kn,this.index)}},Ss.prototype.update=function(A,I,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,I,this.stateDependentLayers,Z)},Ss.prototype.addFeatures=function(A,I,Z){for(var le=0,ke=this.patternFeatures;le<ke.length;le+=1){var Oe=ke[le];this.addFeature(Oe,Oe.geometry,Oe.index,I,Z)}},Ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ss.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Jh),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.indexBuffer2=A.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(A),this.uploaded=!0},Ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Ss.prototype.addFeature=function(A,I,Z,le,ke){for(var Oe=0,Be=Ec(I,500);Oe<Be.length;Oe+=1){for(var Je=Be[Oe],ot=0,mt=0,_t=Je;mt<_t.length;mt+=1)ot+=_t[mt].length;for(var zt=this.segments.prepareSegment(ot,this.layoutVertexArray,this.indexArray),jt=zt.vertexLength,Rt=[],tn=[],rn=0,Tn=Je;rn<Tn.length;rn+=1){var bn=Tn[rn];if(0!==bn.length){bn!==Je[0]&&tn.push(Rt.length/2);var zn=this.segments2.prepareSegment(bn.length,this.layoutVertexArray,this.indexArray2),Dn=zn.vertexLength;this.layoutVertexArray.emplaceBack(bn[0].x,bn[0].y),this.indexArray2.emplaceBack(Dn+bn.length-1,Dn),Rt.push(bn[0].x),Rt.push(bn[0].y);for(var jn=1;jn<bn.length;jn++)this.layoutVertexArray.emplaceBack(bn[jn].x,bn[jn].y),this.indexArray2.emplaceBack(Dn+jn-1,Dn+jn),Rt.push(bn[jn].x),Rt.push(bn[jn].y);zn.vertexLength+=bn.length,zn.primitiveLength+=bn.length}}for(var Gn=kc(Rt,tn),Kn=0;Kn<Gn.length;Kn+=3)this.indexArray.emplaceBack(jt+Gn[Kn],jt+Gn[Kn+1],jt+Gn[Kn+2]);zt.vertexLength+=ot,zt.primitiveLength+=Gn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Z,ke,le)},br("FillBucket",Ss,{omit:["layers","patternFeatures"]});var cp=new Ei({"fill-sort-key":new Cr(We.layout_fill["fill-sort-key"])}),fp={paint:new Ei({"fill-antialias":new Tr(We.paint_fill["fill-antialias"]),"fill-opacity":new Cr(We.paint_fill["fill-opacity"]),"fill-color":new Cr(We.paint_fill["fill-color"]),"fill-outline-color":new Cr(We.paint_fill["fill-outline-color"]),"fill-translate":new Tr(We.paint_fill["fill-translate"]),"fill-translate-anchor":new Tr(We.paint_fill["fill-translate-anchor"]),"fill-pattern":new ba(We.paint_fill["fill-pattern"])}),layout:cp},hp=function(A){function I(Z){A.call(this,Z,fp)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(Z,le){A.prototype.recalculate.call(this,Z,le);var ke=this.paint._values["fill-outline-color"];"constant"===ke.value.kind&&void 0===ke.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(Z){return new Ss(Z)},I.prototype.queryRadius=function(){return Du(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(Z,le,ke,Oe,Be,Je,ot){return Pu(Ru(Z,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),Je.angle,ot),Oe)},I.prototype.isTileClipped=function(){return!0},I}(Qr),pp=pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,mf=Fl;function Fl(A,I,Z,le,ke){this.properties={},this.extent=Z,this.type=0,this._pbf=A,this._geometry=-1,this._keys=le,this._values=ke,A.readFields(dp,this,I)}function dp(A,I,Z){1==A?I.id=Z.readVarint():2==A?function(le,ke){for(var Oe=le.readVarint()+le.pos;le.pos<Oe;){var Be=ke._keys[le.readVarint()],Je=ke._values[le.readVarint()];ke.properties[Be]=Je}}(Z,I):3==A?I.type=Z.readVarint():4==A&&(I._geometry=Z.pos)}function gp(A){for(var I,Z,le=0,ke=0,Oe=A.length,Be=Oe-1;ke<Oe;Be=ke++)I=A[ke],le+=((Z=A[Be]).x-I.x)*(I.y+Z.y);return le}Fl.types=["Unknown","Point","LineString","Polygon"],Fl.prototype.loadGeometry=function(){var A=this._pbf;A.pos=this._geometry;for(var I,Z=A.readVarint()+A.pos,le=1,ke=0,Oe=0,Be=0,Je=[];A.pos<Z;){if(ke<=0){var ot=A.readVarint();le=7&ot,ke=ot>>3}if(ke--,1===le||2===le)Oe+=A.readSVarint(),Be+=A.readSVarint(),1===le&&(I&&Je.push(I),I=[]),I.push(new t(Oe,Be));else{if(7!==le)throw new Error("unknown command "+le);I&&I.push(I[0].clone())}}return I&&Je.push(I),Je},Fl.prototype.bbox=function(){var A=this._pbf;A.pos=this._geometry;for(var I=A.readVarint()+A.pos,Z=1,le=0,ke=0,Oe=0,Be=1/0,Je=-1/0,ot=1/0,mt=-1/0;A.pos<I;){if(le<=0){var _t=A.readVarint();Z=7&_t,le=_t>>3}if(le--,1===Z||2===Z)(ke+=A.readSVarint())<Be&&(Be=ke),ke>Je&&(Je=ke),(Oe+=A.readSVarint())<ot&&(ot=Oe),Oe>mt&&(mt=Oe);else if(7!==Z)throw new Error("unknown command "+Z)}return[Be,ot,Je,mt]},Fl.prototype.toGeoJSON=function(A,I,Z){var le,ke,Oe=this.extent*Math.pow(2,Z),Be=this.extent*A,Je=this.extent*I,ot=this.loadGeometry(),mt=Fl.types[this.type];function _t(Rt){for(var tn=0;tn<Rt.length;tn++){var rn=Rt[tn],Tn=180-360*(rn.y+Je)/Oe;Rt[tn]=[360*(rn.x+Be)/Oe-180,360/Math.PI*Math.atan(Math.exp(Tn*Math.PI/180))-90]}}switch(this.type){case 1:var zt=[];for(le=0;le<ot.length;le++)zt[le]=ot[le][0];_t(ot=zt);break;case 2:for(le=0;le<ot.length;le++)_t(ot[le]);break;case 3:for(ot=function(Rt){var tn=Rt.length;if(tn<=1)return[Rt];for(var rn,Tn,bn=[],zn=0;zn<tn;zn++){var Dn=gp(Rt[zn]);0!==Dn&&(void 0===Tn&&(Tn=Dn<0),Tn===Dn<0?(rn&&bn.push(rn),rn=[Rt[zn]]):rn.push(Rt[zn]))}return rn&&bn.push(rn),bn}(ot),le=0;le<ot.length;le++)for(ke=0;ke<ot[le].length;ke++)_t(ot[le][ke])}1===ot.length?ot=ot[0]:mt="Multi"+mt;var jt={type:"Feature",geometry:{type:mt,coordinates:ot},properties:this.properties};return"id"in this&&(jt.id=this.id),jt};var yf=xf;function xf(A,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=A,this._keys=[],this._values=[],this._features=[],A.readFields(vp,this,I),this.length=this._features.length}function vp(A,I,Z){15===A?I.version=Z.readVarint():1===A?I.name=Z.readString():5===A?I.extent=Z.readVarint():2===A?I._features.push(Z.pos):3===A?I._keys.push(Z.readString()):4===A&&I._values.push(function(le){for(var ke=null,Oe=le.readVarint()+le.pos;le.pos<Oe;){var Be=le.readVarint()>>3;ke=1===Be?le.readString():2===Be?le.readFloat():3===Be?le.readDouble():4===Be?le.readVarint64():5===Be?le.readVarint():6===Be?le.readSVarint():7===Be?le.readBoolean():null}return ke}(Z))}function mp(A,I,Z){if(3===A){var le=new yf(Z,Z.readVarint()+Z.pos);le.length&&(I[le.name]=le)}}xf.prototype.feature=function(A){if(A<0||A>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[A];var I=this._pbf.readVarint()+this._pbf.pos;return new mf(this._pbf,I,this.extent,this._keys,this._values)};var Bl={VectorTile:function(A,I){this.layers=A.readFields(mp,{},I)},VectorTileFeature:mf,VectorTileLayer:yf},yp=Bl.VectorTileFeature.types,Oc=Math.pow(2,13);function uu(A,I,Z,le,ke,Oe,Be,Je){A.emplaceBack(I,Z,2*Math.floor(le*Oc)+Be,ke*Oc*2,Oe*Oc*2,Math.round(Je))}var Es=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(I){return I.id}),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new Ye,this.indexArray=new me,this.programConfigurations=new Ii(A.layers,A.zoom),this.segments=new Nn,this.stateDependentLayerIds=this.layers.filter(function(I){return I.isStateDependent()}).map(function(I){return I.id})};function xp(A,I){return A.x===I.x&&(A.x<0||A.x>Xr)||A.y===I.y&&(A.y<0||A.y>Xr)}Es.prototype.populate=function(A,I,Z){this.features=[],this.hasPattern=Lc("fill-extrusion",this.layers,I);for(var le=0,ke=A;le<ke.length;le+=1){var Oe=ke[le],Be=Oe.feature,Je=Oe.id,ot=Oe.index,mt=Oe.sourceLayerIndex,_t=this.layers[0]._featureFilter.needGeometry,zt=bi(Be,_t);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),zt,Z)){var jt={id:Je,sourceLayerIndex:mt,index:ot,geometry:_t?zt.geometry:ho(Be),properties:Be.properties,type:Be.type,patterns:{}};this.hasPattern?this.features.push(Cc("fill-extrusion",this.layers,jt,this.zoom,I)):this.addFeature(jt,jt.geometry,ot,Z,{}),I.featureIndex.insert(Be,jt.geometry,ot,mt,this.index,!0)}}},Es.prototype.addFeatures=function(A,I,Z){for(var le=0,ke=this.features;le<ke.length;le+=1){var Oe=ke[le],Be=Oe.geometry;this.addFeature(Oe,Be,Oe.index,I,Z)}},Es.prototype.update=function(A,I,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,I,this.stateDependentLayers,Z)},Es.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Es.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,pp),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},Es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Es.prototype.addFeature=function(A,I,Z,le,ke){for(var Oe=0,Be=Ec(I,500);Oe<Be.length;Oe+=1){for(var Je=Be[Oe],ot=0,mt=0,_t=Je;mt<_t.length;mt+=1)ot+=_t[mt].length;for(var zt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),jt=0,Rt=Je;jt<Rt.length;jt+=1){var tn=Rt[jt];if(0!==tn.length&&!((Yr=tn).every(function(Fr){return Fr.x<0})||Yr.every(function(Fr){return Fr.x>Xr})||Yr.every(function(Fr){return Fr.y<0})||Yr.every(function(Fr){return Fr.y>Xr})))for(var rn=0,Tn=0;Tn<tn.length;Tn++){var bn=tn[Tn];if(Tn>=1){var zn=tn[Tn-1];if(!xp(bn,zn)){zt.vertexLength+4>Nn.MAX_VERTEX_ARRAY_LENGTH&&(zt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Dn=bn.sub(zn)._perp()._unit(),jn=zn.dist(bn);rn+jn>32768&&(rn=0),uu(this.layoutVertexArray,bn.x,bn.y,Dn.x,Dn.y,0,0,rn),uu(this.layoutVertexArray,bn.x,bn.y,Dn.x,Dn.y,0,1,rn),rn+=jn,uu(this.layoutVertexArray,zn.x,zn.y,Dn.x,Dn.y,0,0,rn),uu(this.layoutVertexArray,zn.x,zn.y,Dn.x,Dn.y,0,1,rn);var Gn=zt.vertexLength;this.indexArray.emplaceBack(Gn,Gn+2,Gn+1),this.indexArray.emplaceBack(Gn+1,Gn+2,Gn+3),zt.vertexLength+=4,zt.primitiveLength+=2}}}}if(zt.vertexLength+ot>Nn.MAX_VERTEX_ARRAY_LENGTH&&(zt=this.segments.prepareSegment(ot,this.layoutVertexArray,this.indexArray)),"Polygon"===yp[A.type]){for(var Kn=[],pr=[],ur=zt.vertexLength,mr=0,xr=Je;mr<xr.length;mr+=1){var zr=xr[mr];if(0!==zr.length){zr!==Je[0]&&pr.push(Kn.length/2);for(var Sr=0;Sr<zr.length;Sr++){var Pr=zr[Sr];uu(this.layoutVertexArray,Pr.x,Pr.y,0,0,1,1,0),Kn.push(Pr.x),Kn.push(Pr.y)}}}for(var Lr=kc(Kn,pr),Ar=0;Ar<Lr.length;Ar+=3)this.indexArray.emplaceBack(ur+Lr[Ar],ur+Lr[Ar+2],ur+Lr[Ar+1]);zt.primitiveLength+=Lr.length/3,zt.vertexLength+=ot}}var Yr;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Z,ke,le)},br("FillExtrusionBucket",Es,{omit:["layers","features"]});var bp={paint:new Ei({"fill-extrusion-opacity":new Tr(We["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Cr(We["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Tr(We["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Tr(We["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ba(We["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Cr(We["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Cr(We["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Tr(We["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},_p=function(A){function I(Z){A.call(this,Z,bp)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(Z){return new Es(Z)},I.prototype.queryRadius=function(){return Du(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(Z,le,ke,Oe,Be,Je,ot,mt){var _t=Ru(Z,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),Je.angle,ot),zt=this.paint.get("fill-extrusion-height").evaluate(le,ke),jt=this.paint.get("fill-extrusion-base").evaluate(le,ke),Rt=function(rn,Tn,bn,zn){for(var Dn=[],jn=0,Gn=rn;jn<Gn.length;jn+=1){var Kn=Gn[jn],pr=[Kn.x,Kn.y,zn,1];Bu(pr,pr,Tn),Dn.push(new t(pr[0]/pr[3],pr[1]/pr[3]))}return Dn}(_t,mt,0,0),tn=function(rn,Tn,bn,zn){for(var Dn=[],jn=[],Gn=zn[8]*Tn,Kn=zn[9]*Tn,pr=zn[10]*Tn,ur=zn[11]*Tn,mr=zn[8]*bn,xr=zn[9]*bn,zr=zn[10]*bn,Sr=zn[11]*bn,Pr=0,Lr=rn;Pr<Lr.length;Pr+=1){for(var Ar=[],Yr=[],Fr=0,vi=Lr[Pr];Fr<vi.length;Fr+=1){var Or=vi[Fr],fi=Or.x,wi=Or.y,Mi=zn[0]*fi+zn[4]*wi+zn[12],Si=zn[1]*fi+zn[5]*wi+zn[13],mi=zn[2]*fi+zn[6]*wi+zn[14],Ki=zn[3]*fi+zn[7]*wi+zn[15],Pi=mi+pr,ca=Ki+ur,Ta=Mi+mr,ga=Si+xr,Ha=mi+zr,va=Ki+Sr,ta=new t((Mi+Gn)/ca,(Si+Kn)/ca);ta.z=Pi/ca,Ar.push(ta);var ma=new t(Ta/va,ga/va);ma.z=Ha/va,Yr.push(ma)}Dn.push(Ar),jn.push(Yr)}return[Dn,jn]}(Oe,jt,zt,mt);return function(rn,Tn,bn){var zn=1/0;Pu(bn,Tn)&&(zn=bf(bn,Tn[0]));for(var Dn=0;Dn<Tn.length;Dn++)for(var jn=Tn[Dn],Gn=rn[Dn],Kn=0;Kn<jn.length-1;Kn++){var pr=jn[Kn],ur=jn[Kn+1],mr=Gn[Kn],xr=[pr,ur,Gn[Kn+1],mr,pr];Al(bn,xr)&&(zn=Math.min(zn,bf(bn,xr)))}return zn!==1/0&&zn}(tn[0],tn[1],Rt)},I}(Qr);function cu(A,I){return A.x*I.x+A.y*I.y}function bf(A,I){if(1===A.length){for(var Z,le=0,ke=I[le++];!Z||ke.equals(Z);)if(!(Z=I[le++]))return 1/0;for(;le<I.length;le++){var Oe=I[le],Be=A[0],Je=Z.sub(ke),ot=Oe.sub(ke),mt=Be.sub(ke),_t=cu(Je,Je),zt=cu(Je,ot),jt=cu(ot,ot),Rt=cu(mt,Je),tn=cu(mt,ot),rn=_t*jt-zt*zt,Tn=(jt*Rt-zt*tn)/rn,bn=(_t*tn-zt*Rt)/rn,zn=1-Tn-bn,Dn=ke.z*zn+Z.z*Tn+Oe.z*bn;if(isFinite(Dn))return Dn}return 1/0}for(var jn=1/0,Gn=0,Kn=I;Gn<Kn.length;Gn+=1){var pr=Kn[Gn];jn=Math.min(jn,pr.z)}return jn}var wp=pi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Tp=pi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,kp=Bl.VectorTileFeature.types,Ap=Math.cos(Math.PI/180*37.5),_f=Math.pow(2,14)/.5,Va=function(A){var I=this;this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(Z){return Z.id}),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(Z){I.gradients[Z.id]={}}),this.layoutVertexArray=new Ke,this.layoutVertexArray2=new it,this.indexArray=new me,this.programConfigurations=new Ii(A.layers,A.zoom),this.segments=new Nn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(Z){return Z.isStateDependent()}).map(function(Z){return Z.id})};Va.prototype.populate=function(A,I,Z){this.hasPattern=Lc("line",this.layers,I);for(var le=this.layers[0].layout.get("line-sort-key"),ke=[],Oe=0,Be=A;Oe<Be.length;Oe+=1){var Je=Be[Oe],ot=Je.feature,mt=Je.id,_t=Je.index,zt=Je.sourceLayerIndex,jt=this.layers[0]._featureFilter.needGeometry,Rt=bi(ot,jt);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),Rt,Z)){var tn=le?le.evaluate(Rt,{},Z):void 0,rn={id:mt,properties:ot.properties,type:ot.type,sourceLayerIndex:zt,index:_t,geometry:jt?Rt.geometry:ho(ot),patterns:{},sortKey:tn};ke.push(rn)}}le&&ke.sort(function(mr,xr){return mr.sortKey-xr.sortKey});for(var Tn=0,bn=ke;Tn<bn.length;Tn+=1){var zn=bn[Tn],Dn=zn,jn=Dn.geometry,Gn=Dn.index,Kn=Dn.sourceLayerIndex;if(this.hasPattern){var pr=Cc("line",this.layers,zn,this.zoom,I);this.patternFeatures.push(pr)}else this.addFeature(zn,jn,Gn,Z,{});var ur=A[Gn].feature;I.featureIndex.insert(ur,jn,Gn,Kn,this.index)}},Va.prototype.update=function(A,I,Z){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,I,this.stateDependentLayers,Z)},Va.prototype.addFeatures=function(A,I,Z){for(var le=0,ke=this.patternFeatures;le<ke.length;le+=1){var Oe=ke[le];this.addFeature(Oe,Oe.geometry,Oe.index,I,Z)}},Va.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Va.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Va.prototype.upload=function(A){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=A.createVertexBuffer(this.layoutVertexArray2,Tp)),this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,wp),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},Va.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Va.prototype.lineFeatureClips=function(A){if(A.properties&&A.properties.hasOwnProperty("mapbox_clip_start")&&A.properties.hasOwnProperty("mapbox_clip_end"))return{start:+A.properties.mapbox_clip_start,end:+A.properties.mapbox_clip_end}},Va.prototype.addFeature=function(A,I,Z,le,ke){var Oe=this.layers[0].layout,Be=Oe.get("line-join").evaluate(A,{}),Je=Oe.get("line-cap"),ot=Oe.get("line-miter-limit"),mt=Oe.get("line-round-limit");this.lineClips=this.lineFeatureClips(A);for(var _t=0,zt=I;_t<zt.length;_t+=1){var jt=zt[_t];this.addLine(jt,A,Be,Je,ot,mt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,Z,ke,le)},Va.prototype.addLine=function(A,I,Z,le,ke,Oe){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Be=0;Be<A.length-1;Be++)this.totalDistance+=A[Be].dist(A[Be+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var Je="Polygon"===kp[I.type],ot=A.length;ot>=2&&A[ot-1].equals(A[ot-2]);)ot--;for(var mt=0;mt<ot-1&&A[mt].equals(A[mt+1]);)mt++;if(!(ot<(Je?3:2))){"bevel"===Z&&(ke=1.05);var _t,zt=this.overscaling<=16?15*Xr/(512*this.overscaling):0,jt=this.segments.prepareSegment(10*ot,this.layoutVertexArray,this.indexArray),Rt=void 0,tn=void 0,rn=void 0,Tn=void 0;this.e1=this.e2=-1,Je&&(_t=A[ot-2],Tn=A[mt].sub(_t)._unit()._perp());for(var bn=mt;bn<ot;bn++)if(!(tn=bn===ot-1?Je?A[mt+1]:void 0:A[bn+1])||!A[bn].equals(tn)){Tn&&(rn=Tn),_t&&(Rt=_t),_t=A[bn],Tn=tn?tn.sub(_t)._unit()._perp():rn;var zn=(rn=rn||Tn).add(Tn);0===zn.x&&0===zn.y||zn._unit();var Dn=rn.x*Tn.x+rn.y*Tn.y,jn=zn.x*Tn.x+zn.y*Tn.y,Gn=0!==jn?1/jn:1/0,Kn=2*Math.sqrt(2-2*jn),pr=jn<Ap&&Rt&&tn,ur=rn.x*Tn.y-rn.y*Tn.x>0;if(pr&&bn>mt){var mr=_t.dist(Rt);if(mr>2*zt){var xr=_t.sub(_t.sub(Rt)._mult(zt/mr)._round());this.updateDistance(Rt,xr),this.addCurrentVertex(xr,rn,0,0,jt),Rt=xr}}var zr=Rt&&tn,Sr=zr?Z:Je?"butt":le;if(zr&&"round"===Sr&&(Gn<Oe?Sr="miter":Gn<=2&&(Sr="fakeround")),"miter"===Sr&&Gn>ke&&(Sr="bevel"),"bevel"===Sr&&(Gn>2&&(Sr="flipbevel"),Gn<ke&&(Sr="miter")),Rt&&this.updateDistance(Rt,_t),"miter"===Sr)zn._mult(Gn),this.addCurrentVertex(_t,zn,0,0,jt);else if("flipbevel"===Sr){if(Gn>100)zn=Tn.mult(-1);else{var Pr=Gn*rn.add(Tn).mag()/rn.sub(Tn).mag();zn._perp()._mult(Pr*(ur?-1:1))}this.addCurrentVertex(_t,zn,0,0,jt),this.addCurrentVertex(_t,zn.mult(-1),0,0,jt)}else if("bevel"===Sr||"fakeround"===Sr){var Lr=-Math.sqrt(Gn*Gn-1),Ar=ur?Lr:0,Yr=ur?0:Lr;if(Rt&&this.addCurrentVertex(_t,rn,Ar,Yr,jt),"fakeround"===Sr)for(var Fr=Math.round(180*Kn/Math.PI/20),vi=1;vi<Fr;vi++){var Or=vi/Fr;if(.5!==Or){var fi=Or-.5;Or+=Or*fi*(Or-1)*((1.0904+Dn*(Dn*(3.55645-1.43519*Dn)-3.2452))*fi*fi+(.848013+Dn*(.215638*Dn-1.06021)))}var wi=Tn.sub(rn)._mult(Or)._add(rn)._unit()._mult(ur?-1:1);this.addHalfVertex(_t,wi.x,wi.y,!1,ur,0,jt)}tn&&this.addCurrentVertex(_t,Tn,-Ar,-Yr,jt)}else if("butt"===Sr)this.addCurrentVertex(_t,zn,0,0,jt);else if("square"===Sr){var Mi=Rt?1:-1;this.addCurrentVertex(_t,zn,Mi,Mi,jt)}else"round"===Sr&&(Rt&&(this.addCurrentVertex(_t,rn,0,0,jt),this.addCurrentVertex(_t,rn,1,1,jt,!0)),tn&&(this.addCurrentVertex(_t,Tn,-1,-1,jt,!0),this.addCurrentVertex(_t,Tn,0,0,jt)));if(pr&&bn<ot-1){var Si=_t.dist(tn);if(Si>2*zt){var mi=_t.add(tn.sub(_t)._mult(zt/Si)._round());this.updateDistance(_t,mi),this.addCurrentVertex(mi,Tn,0,0,jt),_t=mi}}}}},Va.prototype.addCurrentVertex=function(A,I,Z,le,ke,Oe){void 0===Oe&&(Oe=!1);var Be=I.x+I.y*Z,Je=I.y-I.x*Z,ot=-I.x+I.y*le,mt=-I.y-I.x*le;this.addHalfVertex(A,Be,Je,Oe,!1,Z,ke),this.addHalfVertex(A,ot,mt,Oe,!0,-le,ke),this.distance>_f/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(A,I,Z,le,ke,Oe))},Va.prototype.addHalfVertex=function(A,I,Z,le,ke,Oe,Be){var Je=A.x,ot=A.y,mt=.5*(this.lineClips?this.scaledDistance*(_f-1):this.scaledDistance);if(this.layoutVertexArray.emplaceBack((Je<<1)+(le?1:0),(ot<<1)+(ke?1:0),Math.round(63*I)+128,Math.round(63*Z)+128,1+(0===Oe?0:Oe<0?-1:1)|(63&mt)<<2,mt>>6),this.lineClips){var _t=(this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start);this.layoutVertexArray2.emplaceBack(_t,this.lineClipsArray.length)}var zt=Be.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,zt),Be.primitiveLength++),ke?this.e2=zt:this.e1=zt},Va.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Va.prototype.updateDistance=function(A,I){this.distance+=A.dist(I),this.updateScaledDistance()},br("LineBucket",Va,{omit:["layers","patternFeatures"]});var Mp=new Ei({"line-cap":new Tr(We.layout_line["line-cap"]),"line-join":new Cr(We.layout_line["line-join"]),"line-miter-limit":new Tr(We.layout_line["line-miter-limit"]),"line-round-limit":new Tr(We.layout_line["line-round-limit"]),"line-sort-key":new Cr(We.layout_line["line-sort-key"])}),wf={paint:new Ei({"line-opacity":new Cr(We.paint_line["line-opacity"]),"line-color":new Cr(We.paint_line["line-color"]),"line-translate":new Tr(We.paint_line["line-translate"]),"line-translate-anchor":new Tr(We.paint_line["line-translate-anchor"]),"line-width":new Cr(We.paint_line["line-width"]),"line-gap-width":new Cr(We.paint_line["line-gap-width"]),"line-offset":new Cr(We.paint_line["line-offset"]),"line-blur":new Cr(We.paint_line["line-blur"]),"line-dasharray":new Qa(We.paint_line["line-dasharray"]),"line-pattern":new ba(We.paint_line["line-pattern"]),"line-gradient":new fo(We.paint_line["line-gradient"])}),layout:Mp},Sp=function(A){function I(){A.apply(this,arguments)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(Z,le){return le=new Ur(Math.floor(le.zoom),{now:le.now,fadeDuration:le.fadeDuration,zoomHistory:le.zoomHistory,transition:le.transition}),A.prototype.possiblyEvaluate.call(this,Z,le)},I.prototype.evaluate=function(Z,le,ke,Oe){return le=c({},le,{zoom:Math.floor(le.zoom)}),A.prototype.evaluate.call(this,Z,le,ke,Oe)},I}(Cr),Tf=new Sp(wf.paint.properties["line-width"].specification);Tf.useIntegerZoom=!0;var Ep=function(A){function I(Z){A.call(this,Z,wf),this.gradientVersion=0}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(Z){if("line-gradient"===Z){var le=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=le._styleExpression.expression instanceof Mr,this.gradientVersion=(this.gradientVersion+1)%r}},I.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},I.prototype.recalculate=function(Z,le){A.prototype.recalculate.call(this,Z,le),this.paint._values["line-floorwidth"]=Tf.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,Z)},I.prototype.createBucket=function(Z){return new Va(Z)},I.prototype.queryRadius=function(Z){var le=Z,ke=kf(iu("line-width",this,le),iu("line-gap-width",this,le)),Oe=iu("line-offset",this,le);return ke/2+Math.abs(Oe)+Du(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(Z,le,ke,Oe,Be,Je,ot){var mt=Ru(Z,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),Je.angle,ot),_t=ot/2*kf(this.paint.get("line-width").evaluate(le,ke),this.paint.get("line-gap-width").evaluate(le,ke)),zt=this.paint.get("line-offset").evaluate(le,ke);return zt&&(Oe=function(jt,Rt){for(var tn=[],rn=new t(0,0),Tn=0;Tn<jt.length;Tn++){for(var bn=jt[Tn],zn=[],Dn=0;Dn<bn.length;Dn++){var jn=bn[Dn-1],Gn=bn[Dn],Kn=bn[Dn+1],pr=0===Dn?rn:Gn.sub(jn)._unit()._perp(),ur=Dn===bn.length-1?rn:Kn.sub(Gn)._unit()._perp(),mr=pr._add(ur)._unit(),xr=mr.x*ur.x+mr.y*ur.y;mr._mult(1/xr),zn.push(mr._mult(Rt)._add(Gn))}tn.push(zn)}return tn}(Oe,zt*ot)),function(jt,Rt,tn){for(var rn=0;rn<Rt.length;rn++){var Tn=Rt[rn];if(jt.length>=3)for(var bn=0;bn<Tn.length;bn++)if(Gs(jt,Tn[bn]))return!0;if(xc(jt,Tn,tn))return!0}return!1}(mt,Oe,_t)},I.prototype.isTileClipped=function(){return!0},I}(Qr);function kf(A,I){return I>0?I+2*A:A}var Lp=pi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Cp=pi([{name:"a_projected_pos",components:3,type:"Float32"}],4),Op=(pi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),pi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Af=(pi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Pp=pi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ip(A,I,Z){return A.sections.forEach(function(le){var ke,Be,Je;le.text=(ke=le.text,Be=Z,"uppercase"===(Je=I.layout.get("text-transform").evaluate(Be,{}))?ke=ke.toLocaleUpperCase():"lowercase"===Je&&(ke=ke.toLocaleLowerCase()),la.applyArabicShaping&&(ke=la.applyArabicShaping(ke)),ke)}),A}pi([{name:"triangle",components:3,type:"Uint16"}]),pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),pi([{type:"Float32",name:"offsetX"}]),pi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var fu={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},da=24,Mf=function(A,I,Z,le,ke){var Oe,Be,Je=8*ke-le-1,ot=(1<<Je)-1,mt=ot>>1,_t=-7,zt=Z?ke-1:0,jt=Z?-1:1,Rt=A[I+zt];for(zt+=jt,Oe=Rt&(1<<-_t)-1,Rt>>=-_t,_t+=Je;_t>0;Oe=256*Oe+A[I+zt],zt+=jt,_t-=8);for(Be=Oe&(1<<-_t)-1,Oe>>=-_t,_t+=le;_t>0;Be=256*Be+A[I+zt],zt+=jt,_t-=8);if(0===Oe)Oe=1-mt;else{if(Oe===ot)return Be?NaN:1/0*(Rt?-1:1);Be+=Math.pow(2,le),Oe-=mt}return(Rt?-1:1)*Be*Math.pow(2,Oe-le)},Sf=function(A,I,Z,le,ke,Oe){var Be,Je,ot,mt=8*Oe-ke-1,_t=(1<<mt)-1,zt=_t>>1,jt=23===ke?Math.pow(2,-24)-Math.pow(2,-77):0,Rt=le?0:Oe-1,tn=le?1:-1,rn=I<0||0===I&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(Je=isNaN(I)?1:0,Be=_t):(Be=Math.floor(Math.log(I)/Math.LN2),I*(ot=Math.pow(2,-Be))<1&&(Be--,ot*=2),(I+=Be+zt>=1?jt/ot:jt*Math.pow(2,1-zt))*ot>=2&&(Be++,ot/=2),Be+zt>=_t?(Je=0,Be=_t):Be+zt>=1?(Je=(I*ot-1)*Math.pow(2,ke),Be+=zt):(Je=I*Math.pow(2,zt-1)*Math.pow(2,ke),Be=0));ke>=8;A[Z+Rt]=255&Je,Rt+=tn,Je/=256,ke-=8);for(Be=Be<<ke|Je,mt+=ke;mt>0;A[Z+Rt]=255&Be,Rt+=tn,Be/=256,mt-=8);A[Z+Rt-tn]|=128*rn},Hu=_i;function _i(A){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(A)?A:new Uint8Array(A||0),this.pos=0,this.type=0,this.length=this.buf.length}_i.Varint=0,_i.Fixed64=1,_i.Bytes=2,_i.Fixed32=5;var Pc=4294967296,Ef=1/Pc,Lf=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function el(A){return A.type===_i.Bytes?A.readVarint()+A.pos:A.pos+1}function Nl(A,I,Z){return Z?4294967296*I+(A>>>0):4294967296*(I>>>0)+(A>>>0)}function Cf(A,I,Z){var le=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(7*Math.LN2));Z.realloc(le);for(var ke=Z.pos-1;ke>=A;ke--)Z.buf[ke+le]=Z.buf[ke]}function zp(A,I){for(var Z=0;Z<A.length;Z++)I.writeVarint(A[Z])}function Dp(A,I){for(var Z=0;Z<A.length;Z++)I.writeSVarint(A[Z])}function Rp(A,I){for(var Z=0;Z<A.length;Z++)I.writeFloat(A[Z])}function Fp(A,I){for(var Z=0;Z<A.length;Z++)I.writeDouble(A[Z])}function Bp(A,I){for(var Z=0;Z<A.length;Z++)I.writeBoolean(A[Z])}function Np(A,I){for(var Z=0;Z<A.length;Z++)I.writeFixed32(A[Z])}function jp(A,I){for(var Z=0;Z<A.length;Z++)I.writeSFixed32(A[Z])}function Up(A,I){for(var Z=0;Z<A.length;Z++)I.writeFixed64(A[Z])}function Vp(A,I){for(var Z=0;Z<A.length;Z++)I.writeSFixed64(A[Z])}function qu(A,I){return(A[I]|A[I+1]<<8|A[I+2]<<16)+16777216*A[I+3]}function jl(A,I,Z){A[Z]=I,A[Z+1]=I>>>8,A[Z+2]=I>>>16,A[Z+3]=I>>>24}function Of(A,I){return(A[I]|A[I+1]<<8|A[I+2]<<16)+(A[I+3]<<24)}_i.prototype={destroy:function(){this.buf=null},readFields:function(A,I,Z){for(Z=Z||this.length;this.pos<Z;){var le=this.readVarint(),ke=le>>3,Oe=this.pos;this.type=7&le,A(ke,I,this),this.pos===Oe&&this.skip(le)}return I},readMessage:function(A,I){return this.readFields(A,I,this.readVarint()+this.pos)},readFixed32:function(){var A=qu(this.buf,this.pos);return this.pos+=4,A},readSFixed32:function(){var A=Of(this.buf,this.pos);return this.pos+=4,A},readFixed64:function(){var A=qu(this.buf,this.pos)+qu(this.buf,this.pos+4)*Pc;return this.pos+=8,A},readSFixed64:function(){var A=qu(this.buf,this.pos)+Of(this.buf,this.pos+4)*Pc;return this.pos+=8,A},readFloat:function(){var A=Mf(this.buf,this.pos,!0,23,4);return this.pos+=4,A},readDouble:function(){var A=Mf(this.buf,this.pos,!0,52,8);return this.pos+=8,A},readVarint:function(A){var I,Z,le=this.buf;return I=127&(Z=le[this.pos++]),Z<128?I:(I|=(127&(Z=le[this.pos++]))<<7,Z<128?I:(I|=(127&(Z=le[this.pos++]))<<14,Z<128?I:(I|=(127&(Z=le[this.pos++]))<<21,Z<128?I:function(ke,Oe,Be){var Je,ot,mt=Be.buf;if(Je=(112&(ot=mt[Be.pos++]))>>4,ot<128||(Je|=(127&(ot=mt[Be.pos++]))<<3,ot<128)||(Je|=(127&(ot=mt[Be.pos++]))<<10,ot<128)||(Je|=(127&(ot=mt[Be.pos++]))<<17,ot<128)||(Je|=(127&(ot=mt[Be.pos++]))<<24,ot<128)||(Je|=(1&(ot=mt[Be.pos++]))<<31,ot<128))return Nl(ke,Je,Oe);throw new Error("Expected varint not more than 10 bytes")}(I|=(15&(Z=le[this.pos]))<<28,A,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var A=this.readVarint();return A%2==1?(A+1)/-2:A/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var Z,le,ke,A=this.readVarint()+this.pos,I=this.pos;return this.pos=A,A-I>=12&&Lf?(Z=this.buf,le=I,ke=A,Lf.decode(Z.subarray(le,ke))):function(Z,le,ke){for(var Oe="",Be=le;Be<ke;){var Je,ot,mt,_t=Z[Be],zt=null,jt=_t>239?4:_t>223?3:_t>191?2:1;if(Be+jt>ke)break;1===jt?_t<128&&(zt=_t):2===jt?128==(192&(Je=Z[Be+1]))&&(zt=(31&_t)<<6|63&Je)<=127&&(zt=null):3===jt?(Je=Z[Be+1],ot=Z[Be+2],128==(192&Je)&&128==(192&ot)&&((zt=(15&_t)<<12|(63&Je)<<6|63&ot)<=2047||zt>=55296&&zt<=57343)&&(zt=null)):4===jt&&(Je=Z[Be+1],ot=Z[Be+2],mt=Z[Be+3],128==(192&Je)&&128==(192&ot)&&128==(192&mt)&&((zt=(15&_t)<<18|(63&Je)<<12|(63&ot)<<6|63&mt)<=65535||zt>=1114112)&&(zt=null)),null===zt?(zt=65533,jt=1):zt>65535&&(zt-=65536,Oe+=String.fromCharCode(zt>>>10&1023|55296),zt=56320|1023&zt),Oe+=String.fromCharCode(zt),Be+=jt}return Oe}(this.buf,I,A)},readBytes:function(){var A=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,A);return this.pos=A,I},readPackedVarint:function(A,I){if(this.type!==_i.Bytes)return A.push(this.readVarint(I));var Z=el(this);for(A=A||[];this.pos<Z;)A.push(this.readVarint(I));return A},readPackedSVarint:function(A){if(this.type!==_i.Bytes)return A.push(this.readSVarint());var I=el(this);for(A=A||[];this.pos<I;)A.push(this.readSVarint());return A},readPackedBoolean:function(A){if(this.type!==_i.Bytes)return A.push(this.readBoolean());var I=el(this);for(A=A||[];this.pos<I;)A.push(this.readBoolean());return A},readPackedFloat:function(A){if(this.type!==_i.Bytes)return A.push(this.readFloat());var I=el(this);for(A=A||[];this.pos<I;)A.push(this.readFloat());return A},readPackedDouble:function(A){if(this.type!==_i.Bytes)return A.push(this.readDouble());var I=el(this);for(A=A||[];this.pos<I;)A.push(this.readDouble());return A},readPackedFixed32:function(A){if(this.type!==_i.Bytes)return A.push(this.readFixed32());var I=el(this);for(A=A||[];this.pos<I;)A.push(this.readFixed32());return A},readPackedSFixed32:function(A){if(this.type!==_i.Bytes)return A.push(this.readSFixed32());var I=el(this);for(A=A||[];this.pos<I;)A.push(this.readSFixed32());return A},readPackedFixed64:function(A){if(this.type!==_i.Bytes)return A.push(this.readFixed64());var I=el(this);for(A=A||[];this.pos<I;)A.push(this.readFixed64());return A},readPackedSFixed64:function(A){if(this.type!==_i.Bytes)return A.push(this.readSFixed64());var I=el(this);for(A=A||[];this.pos<I;)A.push(this.readSFixed64());return A},skip:function(A){var I=7&A;if(I===_i.Varint)for(;this.buf[this.pos++]>127;);else if(I===_i.Bytes)this.pos=this.readVarint()+this.pos;else if(I===_i.Fixed32)this.pos+=4;else{if(I!==_i.Fixed64)throw new Error("Unimplemented type: "+I);this.pos+=8}},writeTag:function(A,I){this.writeVarint(A<<3|I)},realloc:function(A){for(var I=this.length||16;I<this.pos+A;)I*=2;if(I!==this.length){var Z=new Uint8Array(I);Z.set(this.buf),this.buf=Z,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(A){this.realloc(4),jl(this.buf,A,this.pos),this.pos+=4},writeSFixed32:function(A){this.realloc(4),jl(this.buf,A,this.pos),this.pos+=4},writeFixed64:function(A){this.realloc(8),jl(this.buf,-1&A,this.pos),jl(this.buf,Math.floor(A*Ef),this.pos+4),this.pos+=8},writeSFixed64:function(A){this.realloc(8),jl(this.buf,-1&A,this.pos),jl(this.buf,Math.floor(A*Ef),this.pos+4),this.pos+=8},writeVarint:function(A){(A=+A||0)>268435455||A<0?function(I,Z){var le,ke,Oe,Je;if(I>=0?(le=I%4294967296|0,ke=I/4294967296|0):(ke=~(-I/4294967296),4294967295^(le=~(-I%4294967296))?le=le+1|0:(le=0,ke=ke+1|0)),I>=0x10000000000000000||I<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");Z.realloc(10),Oe=le,(Je=Z).buf[Je.pos++]=127&Oe|128,Oe>>>=7,Je.buf[Je.pos++]=127&Oe|128,Oe>>>=7,Je.buf[Je.pos++]=127&Oe|128,Oe>>>=7,Je.buf[Je.pos++]=127&Oe|128,Oe>>>=7,Je.buf[Je.pos]=127&Oe,function(Oe,Be){var Je=(7&Oe)<<4;Be.buf[Be.pos++]|=Je|((Oe>>>=3)?128:0),Oe&&(Be.buf[Be.pos++]=127&Oe|((Oe>>>=7)?128:0),Oe&&(Be.buf[Be.pos++]=127&Oe|((Oe>>>=7)?128:0),Oe&&(Be.buf[Be.pos++]=127&Oe|((Oe>>>=7)?128:0),Oe&&(Be.buf[Be.pos++]=127&Oe|((Oe>>>=7)?128:0),Oe&&(Be.buf[Be.pos++]=127&Oe)))))}(ke,Z)}(A,this):(this.realloc(4),this.buf[this.pos++]=127&A|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=A>>>7&127))))},writeSVarint:function(A){this.writeVarint(A<0?2*-A-1:2*A)},writeBoolean:function(A){this.writeVarint(Boolean(A))},writeString:function(A){A=String(A),this.realloc(4*A.length),this.pos++;var I=this.pos;this.pos=function(le,ke,Oe){for(var Be,Je,ot=0;ot<ke.length;ot++){if((Be=ke.charCodeAt(ot))>55295&&Be<57344){if(!Je){Be>56319||ot+1===ke.length?(le[Oe++]=239,le[Oe++]=191,le[Oe++]=189):Je=Be;continue}if(Be<56320){le[Oe++]=239,le[Oe++]=191,le[Oe++]=189,Je=Be;continue}Be=Je-55296<<10|Be-56320|65536,Je=null}else Je&&(le[Oe++]=239,le[Oe++]=191,le[Oe++]=189,Je=null);Be<128?le[Oe++]=Be:(Be<2048?le[Oe++]=Be>>6|192:(Be<65536?le[Oe++]=Be>>12|224:(le[Oe++]=Be>>18|240,le[Oe++]=Be>>12&63|128),le[Oe++]=Be>>6&63|128),le[Oe++]=63&Be|128)}return Oe}(this.buf,A,this.pos);var Z=this.pos-I;Z>=128&&Cf(I,Z,this),this.pos=I-1,this.writeVarint(Z),this.pos+=Z},writeFloat:function(A){this.realloc(4),Sf(this.buf,A,this.pos,!0,23,4),this.pos+=4},writeDouble:function(A){this.realloc(8),Sf(this.buf,A,this.pos,!0,52,8),this.pos+=8},writeBytes:function(A){var I=A.length;this.writeVarint(I),this.realloc(I);for(var Z=0;Z<I;Z++)this.buf[this.pos++]=A[Z]},writeRawMessage:function(A,I){this.pos++;var Z=this.pos;A(I,this);var le=this.pos-Z;le>=128&&Cf(Z,le,this),this.pos=Z-1,this.writeVarint(le),this.pos+=le},writeMessage:function(A,I,Z){this.writeTag(A,_i.Bytes),this.writeRawMessage(I,Z)},writePackedVarint:function(A,I){I.length&&this.writeMessage(A,zp,I)},writePackedSVarint:function(A,I){I.length&&this.writeMessage(A,Dp,I)},writePackedBoolean:function(A,I){I.length&&this.writeMessage(A,Bp,I)},writePackedFloat:function(A,I){I.length&&this.writeMessage(A,Rp,I)},writePackedDouble:function(A,I){I.length&&this.writeMessage(A,Fp,I)},writePackedFixed32:function(A,I){I.length&&this.writeMessage(A,Np,I)},writePackedSFixed32:function(A,I){I.length&&this.writeMessage(A,jp,I)},writePackedFixed64:function(A,I){I.length&&this.writeMessage(A,Up,I)},writePackedSFixed64:function(A,I){I.length&&this.writeMessage(A,Vp,I)},writeBytesField:function(A,I){this.writeTag(A,_i.Bytes),this.writeBytes(I)},writeFixed32Field:function(A,I){this.writeTag(A,_i.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(A,I){this.writeTag(A,_i.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(A,I){this.writeTag(A,_i.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(A,I){this.writeTag(A,_i.Fixed64),this.writeSFixed64(I)},writeVarintField:function(A,I){this.writeTag(A,_i.Varint),this.writeVarint(I)},writeSVarintField:function(A,I){this.writeTag(A,_i.Varint),this.writeSVarint(I)},writeStringField:function(A,I){this.writeTag(A,_i.Bytes),this.writeString(I)},writeFloatField:function(A,I){this.writeTag(A,_i.Fixed32),this.writeFloat(I)},writeDoubleField:function(A,I){this.writeTag(A,_i.Fixed64),this.writeDouble(I)},writeBooleanField:function(A,I){this.writeVarintField(A,Boolean(I))}};var Ic=3;function Hp(A,I,Z){1===A&&Z.readMessage(qp,I)}function qp(A,I,Z){if(3===A){var le=Z.readMessage(Gp,{}),ke=le.id,Oe=le.bitmap,Be=le.width,Je=le.height,ot=le.left,mt=le.top,_t=le.advance;I.push({id:ke,bitmap:new Ml({width:Be+2*Ic,height:Je+2*Ic},Oe),metrics:{width:Be,height:Je,left:ot,top:mt,advance:_t}})}}function Gp(A,I,Z){1===A?I.id=Z.readVarint():2===A?I.bitmap=Z.readBytes():3===A?I.width=Z.readVarint():4===A?I.height=Z.readVarint():5===A?I.left=Z.readSVarint():6===A?I.top=Z.readSVarint():7===A&&(I.advance=Z.readVarint())}var Pf=Ic;function If(A){for(var I=0,Z=0,le=0,ke=A;le<ke.length;le+=1){var Oe=ke[le];I+=Oe.w*Oe.h,Z=Math.max(Z,Oe.w)}A.sort(function(rn,Tn){return Tn.h-rn.h});for(var Be=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(I/.95)),Z),h:1/0}],Je=0,ot=0,mt=0,_t=A;mt<_t.length;mt+=1)for(var zt=_t[mt],jt=Be.length-1;jt>=0;jt--){var Rt=Be[jt];if(!(zt.w>Rt.w||zt.h>Rt.h)){if(zt.x=Rt.x,zt.y=Rt.y,ot=Math.max(ot,zt.y+zt.h),Je=Math.max(Je,zt.x+zt.w),zt.w===Rt.w&&zt.h===Rt.h){var tn=Be.pop();jt<Be.length&&(Be[jt]=tn)}else zt.h===Rt.h?(Rt.x+=zt.w,Rt.w-=zt.w):zt.w===Rt.w?(Rt.y+=zt.h,Rt.h-=zt.h):(Be.push({x:Rt.x+zt.w,y:Rt.y,w:Rt.w-zt.w,h:zt.h}),Rt.y+=zt.h,Rt.h-=zt.h);break}}return{w:Je,h:ot,fill:I/(Je*ot)||0}}var po=1,Gu=function(A,I){var Z=I.pixelRatio,le=I.version,ke=I.stretchX,Oe=I.stretchY,Be=I.content;this.paddedRect=A,this.pixelRatio=Z,this.stretchX=ke,this.stretchY=Oe,this.content=Be,this.version=le},hu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};hu.tl.get=function(){return[this.paddedRect.x+po,this.paddedRect.y+po]},hu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-po,this.paddedRect.y+this.paddedRect.h-po]},hu.tlbr.get=function(){return this.tl.concat(this.br)},hu.displaySize.get=function(){return[(this.paddedRect.w-2*po)/this.pixelRatio,(this.paddedRect.h-2*po)/this.pixelRatio]},Object.defineProperties(Gu.prototype,hu);var pu=function(A,I){var Z={},le={};this.haveRenderCallbacks=[];var ke=[];this.addImages(A,Z,ke),this.addImages(I,le,ke);var Oe=If(ke),Be=Oe.w,Je=Oe.h,ot=new to({width:Be||1,height:Je||1});for(var mt in A){var _t=A[mt],zt=Z[mt].paddedRect;to.copy(_t.data,ot,{x:0,y:0},{x:zt.x+po,y:zt.y+po},_t.data)}for(var jt in I){var Rt=I[jt],tn=le[jt].paddedRect,rn=tn.x+po,Tn=tn.y+po,bn=Rt.data.width,zn=Rt.data.height;to.copy(Rt.data,ot,{x:0,y:0},{x:rn,y:Tn},Rt.data),to.copy(Rt.data,ot,{x:0,y:zn-1},{x:rn,y:Tn-1},{width:bn,height:1}),to.copy(Rt.data,ot,{x:0,y:0},{x:rn,y:Tn+zn},{width:bn,height:1}),to.copy(Rt.data,ot,{x:bn-1,y:0},{x:rn-1,y:Tn},{width:1,height:zn}),to.copy(Rt.data,ot,{x:0,y:0},{x:rn+bn,y:Tn},{width:1,height:zn})}this.image=ot,this.iconPositions=Z,this.patternPositions=le};pu.prototype.addImages=function(A,I,Z){for(var le in A){var ke=A[le],Oe={x:0,y:0,w:ke.data.width+2*po,h:ke.data.height+2*po};Z.push(Oe),I[le]=new Gu(Oe,ke),ke.hasRenderCallback&&this.haveRenderCallbacks.push(le)}},pu.prototype.patchUpdatedImages=function(A,I){for(var Z in A.dispatchRenderCallbacks(this.haveRenderCallbacks),A.updatedImages)this.patchUpdatedImage(this.iconPositions[Z],A.getImage(Z),I),this.patchUpdatedImage(this.patternPositions[Z],A.getImage(Z),I)},pu.prototype.patchUpdatedImage=function(A,I,Z){if(A&&I&&A.version!==I.version){A.version=I.version;var le=A.tl,ke=le[0],Oe=le[1];Z.update(I.data,void 0,{x:ke,y:Oe})}},br("ImagePosition",Gu),br("ImageAtlas",pu);var zo={horizontal:1,vertical:2,horizontalOnly:3},du=-17,Ul=function(){this.scale=1,this.fontStack="",this.imageName=null};Ul.forText=function(A,I){var Z=new Ul;return Z.scale=A||1,Z.fontStack=I,Z},Ul.forImage=function(A){var I=new Ul;return I.imageName=A,I};var Ca=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Zu(A,I,Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt,tn,rn){var Tn,bn=Ca.fromFeature(A,ke);zt===zo.vertical&&bn.verticalizePunctuation();var zn=la.processBidirectionalText,Dn=la.processStyledBidirectionalText;if(zn&&1===bn.sections.length){Tn=[];for(var jn=0,Gn=zn(bn.toString(),zc(bn,mt,Oe,I,le,Rt,tn));jn<Gn.length;jn+=1){var Kn=Gn[jn],pr=new Ca;pr.text=Kn,pr.sections=bn.sections;for(var ur=0;ur<Kn.length;ur++)pr.sectionIndex.push(0);Tn.push(pr)}}else if(Dn){Tn=[];for(var mr=0,xr=Dn(bn.text,bn.sectionIndex,zc(bn,mt,Oe,I,le,Rt,tn));mr<xr.length;mr+=1){var zr=xr[mr],Sr=new Ca;Sr.text=zr[0],Sr.sectionIndex=zr[1],Sr.sections=bn.sections,Tn.push(Sr)}}else Tn=function(Ar,Yr){for(var Fr=[],vi=Ar.text,Or=0,fi=0,wi=Yr;fi<wi.length;fi+=1){var Mi=wi[fi];Fr.push(Ar.substring(Or,Mi)),Or=Mi}return Or<vi.length&&Fr.push(Ar.substring(Or,vi.length)),Fr}(bn,zc(bn,mt,Oe,I,le,Rt,tn));var Pr=[],Lr={positionedLines:Pr,text:bn.toString(),top:_t[1],bottom:_t[1],left:_t[0],right:_t[0],writingMode:zt,iconsInText:!1,verticalizable:!1};return function(Ar,Yr,Fr,vi,Or,fi,wi,Mi,Si,mi,Ki,Pi){for(var ca=0,Ta=du,ga=0,Ha=0,va="right"===Mi?1:"left"===Mi?0:.5,ta=0,ma=0,fa=Or;ma<fa.length;ma+=1){var na=fa[ma];na.trim();var Br=na.getMaxScale(),Jr=(Br-1)*da,Ni={positionedGlyphs:[],lineOffset:0};Ar.positionedLines[ta]=Ni;var gi=Ni.positionedGlyphs,zi=0;if(na.length()){for(var Ci=0;Ci<na.length();Ci++){var ei=na.getSection(Ci),ji=na.getSectionIndex(Ci),qa=na.getCharCode(Ci),vo=0,Oa=null,Cs=null,rl=null,ha=da,Os=!(Si===zo.horizontal||!Ki&&!uo(qa)||Ki&&(Yu[qa]||Co(qa)));if(ei.imageName){var hs=vi[ei.imageName];if(!hs)continue;rl=ei.imageName,Ar.iconsInText=Ar.iconsInText||!0,Cs=hs.paddedRect;var ps=hs.displaySize;ei.scale=ei.scale*da/Pi,Oa={width:ps[0],height:ps[1],left:po,top:-Pf,advance:Os?ps[1]:ps[0]},vo=Jr+(da-ps[1]*ei.scale),ha=Oa.advance;var Cl=Os?ps[0]*ei.scale-da*Br:ps[1]*ei.scale-da*Br;Cl>0&&Cl>zi&&(zi=Cl)}else{var nc=Fr[ei.fontStack],Ol=nc&&nc[qa];if(Ol&&Ol.rect)Cs=Ol.rect,Oa=Ol.metrics;else{var rc=Yr[ei.fontStack],yu=rc&&rc[qa];if(!yu)continue;Oa=yu.metrics}vo=(Br-ei.scale)*da}Os?(Ar.verticalizable=!0,gi.push({glyph:qa,imageName:rl,x:ca,y:Ta+vo,vertical:Os,scale:ei.scale,fontStack:ei.fontStack,sectionIndex:ji,metrics:Oa,rect:Cs}),ca+=ha*ei.scale+mi):(gi.push({glyph:qa,imageName:rl,x:ca,y:Ta+vo,vertical:Os,scale:ei.scale,fontStack:ei.fontStack,sectionIndex:ji,metrics:Oa,rect:Cs}),ca+=Oa.advance*ei.scale+mi)}if(0!==gi.length){var qc=ca-mi;ga=Math.max(qc,ga),Yp(gi,0,gi.length-1,va,zi)}ca=0;var ic=fi*Br+zi;Ni.lineOffset=Math.max(zi,Jr),Ta+=ic,Ha=Math.max(ic,Ha),++ta}else Ta+=fi,++ta}var Kl=Ta-du,ac=Dc(wi),oc=ac.horizontalAlign,xu=ac.verticalAlign;(function(Gc,bu,Pl,$l,sc,lc,Ql,uc,cc){var _u=(bu-Pl)*sc,wu=0;wu=lc!==Ql?-uc*$l-du:(-$l*cc+.5)*Ql;for(var Il=0,Tu=Gc;Il<Tu.length;Il+=1)for(var zl=0,ku=Tu[Il].positionedGlyphs;zl<ku.length;zl+=1){var Au=ku[zl];Au.x+=_u,Au.y+=wu}})(Ar.positionedLines,va,oc,xu,ga,Ha,fi,Kl,Or.length),Ar.top+=-xu*Kl,Ar.bottom=Ar.top+Kl,Ar.left+=-oc*ga,Ar.right=Ar.left+ga}(Lr,I,Z,le,Tn,Be,Je,ot,zt,mt,jt,rn),!function(Ar){for(var Yr=0,Fr=Ar;Yr<Fr.length;Yr+=1)if(0!==Fr[Yr].positionedGlyphs.length)return!1;return!0}(Pr)&&Lr}Ca.fromFeature=function(A,I){for(var Z=new Ca,le=0;le<A.sections.length;le++){var ke=A.sections[le];ke.image?Z.addImageSection(ke):Z.addTextSection(ke,I)}return Z},Ca.prototype.length=function(){return this.text.length},Ca.prototype.getSection=function(A){return this.sections[this.sectionIndex[A]]},Ca.prototype.getSectionIndex=function(A){return this.sectionIndex[A]},Ca.prototype.getCharCode=function(A){return this.text.charCodeAt(A)},Ca.prototype.verticalizePunctuation=function(){this.text=function(A){for(var I="",Z=0;Z<A.length;Z++){var le=A.charCodeAt(Z+1)||null,ke=A.charCodeAt(Z-1)||null;le&&Fi(le)&&!fu[A[Z+1]]||ke&&Fi(ke)&&!fu[A[Z-1]]||!fu[A[Z]]?I+=A[Z]:I+=fu[A[Z]]}return I}(this.text)},Ca.prototype.trim=function(){for(var A=0,I=0;I<this.text.length&&Yu[this.text.charCodeAt(I)];I++)A++;for(var Z=this.text.length,le=this.text.length-1;le>=0&&le>=A&&Yu[this.text.charCodeAt(le)];le--)Z--;this.text=this.text.substring(A,Z),this.sectionIndex=this.sectionIndex.slice(A,Z)},Ca.prototype.substring=function(A,I){var Z=new Ca;return Z.text=this.text.substring(A,I),Z.sectionIndex=this.sectionIndex.slice(A,I),Z.sections=this.sections,Z},Ca.prototype.toString=function(){return this.text},Ca.prototype.getMaxScale=function(){var A=this;return this.sectionIndex.reduce(function(I,Z){return Math.max(I,A.sections[Z].scale)},0)},Ca.prototype.addTextSection=function(A,I){this.text+=A.text,this.sections.push(Ul.forText(A.scale,A.fontStack||I));for(var Z=this.sections.length-1,le=0;le<A.text.length;++le)this.sectionIndex.push(Z)},Ca.prototype.addImageSection=function(A){var I=A.image?A.image.name:"";if(0!==I.length){var Z=this.getNextImageSectionCharCode();Z?(this.text+=String.fromCharCode(Z),this.sections.push(Ul.forImage(I)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}else E("Can't add FormattedSection with an empty image.")},Ca.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Yu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},go={};function zf(A,I,Z,le,ke,Oe){if(I.imageName){var Be=le[I.imageName];return Be?Be.displaySize[0]*I.scale*da/Oe+ke:0}var Je=Z[I.fontStack],ot=Je&&Je[A];return ot?ot.metrics.advance*I.scale+ke:0}function Df(A,I,Z,le){var ke=Math.pow(A-I,2);return le?A<I?ke/2:2*ke:ke+Math.abs(Z)*Z}function Zp(A,I,Z){var le=0;return 10===A&&(le-=1e4),Z&&(le+=150),40!==A&&65288!==A||(le+=50),41!==I&&65289!==I||(le+=50),le}function Rf(A,I,Z,le,ke,Oe){for(var Be=null,Je=Df(I,Z,ke,Oe),ot=0,mt=le;ot<mt.length;ot+=1){var _t=mt[ot],zt=Df(I-_t.x,Z,ke,Oe)+_t.badness;zt<=Je&&(Be=_t,Je=zt)}return{index:A,x:I,priorBreak:Be,badness:Je}}function Ff(A){return A?Ff(A.priorBreak).concat(A.index):[]}function zc(A,I,Z,le,ke,Oe,Be){if("point"!==Oe)return[];if(!A)return[];for(var Je=[],ot=function(Tn,bn,zn,Dn,jn,Gn){for(var Kn=0,pr=0;pr<Tn.length();pr++){var ur=Tn.getSection(pr);Kn+=zf(Tn.getCharCode(pr),ur,Dn,jn,bn,Gn)}return Kn/Math.max(1,Math.ceil(Kn/zn))}(A,I,Z,le,ke,Be),mt=A.text.indexOf("\u200b")>=0,_t=0,zt=0;zt<A.length();zt++){var jt=A.getSection(zt),Rt=A.getCharCode(zt);if(Yu[Rt]||(_t+=zf(Rt,jt,le,ke,I,Be)),zt<A.length()-1){var tn=!((rn=Rt)<11904||!(dr["Bopomofo Extended"](rn)||dr.Bopomofo(rn)||dr["CJK Compatibility Forms"](rn)||dr["CJK Compatibility Ideographs"](rn)||dr["CJK Compatibility"](rn)||dr["CJK Radicals Supplement"](rn)||dr["CJK Strokes"](rn)||dr["CJK Symbols and Punctuation"](rn)||dr["CJK Unified Ideographs Extension A"](rn)||dr["CJK Unified Ideographs"](rn)||dr["Enclosed CJK Letters and Months"](rn)||dr["Halfwidth and Fullwidth Forms"](rn)||dr.Hiragana(rn)||dr["Ideographic Description Characters"](rn)||dr["Kangxi Radicals"](rn)||dr["Katakana Phonetic Extensions"](rn)||dr.Katakana(rn)||dr["Vertical Forms"](rn)||dr["Yi Radicals"](rn)||dr["Yi Syllables"](rn)));(go[Rt]||tn||jt.imageName)&&Je.push(Rf(zt+1,_t,ot,Je,Zp(Rt,A.getCharCode(zt+1),tn&&mt),!1))}}var rn;return Ff(Rf(A.length(),_t,ot,Je,0,!0))}function Dc(A){var I=.5,Z=.5;switch(A){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0}switch(A){case"bottom":case"bottom-right":case"bottom-left":Z=1;break;case"top":case"top-right":case"top-left":Z=0}return{horizontalAlign:I,verticalAlign:Z}}function Yp(A,I,Z,le,ke){if(le||ke)for(var Oe=A[Z],Be=Oe.metrics.advance*Oe.scale,Je=(A[Z].x+Be)*le,ot=I;ot<=Z;ot++)A[ot].x-=Je,A[ot].y+=ke}function Bf(A,I,Z,le,ke,Oe){var Be,Je=A.image;if(Je.content){var ot=Je.content,mt=Je.pixelRatio||1;Be=[ot[0]/mt,ot[1]/mt,Je.displaySize[0]-ot[2]/mt,Je.displaySize[1]-ot[3]/mt]}var _t,zt,jt,Rt,tn=I.left*Oe,rn=I.right*Oe;"width"===Z||"both"===Z?(Rt=ke[0]+tn-le[3],zt=ke[0]+rn+le[1]):zt=(Rt=ke[0]+(tn+rn-Je.displaySize[0])/2)+Je.displaySize[0];var Tn=I.top*Oe,bn=I.bottom*Oe;return"height"===Z||"both"===Z?(_t=ke[1]+Tn-le[0],jt=ke[1]+bn+le[2]):jt=(_t=ke[1]+(Tn+bn-Je.displaySize[1])/2)+Je.displaySize[1],{image:Je,top:_t,right:zt,bottom:jt,left:Rt,collisionPadding:Be}}go[10]=!0,go[32]=!0,go[38]=!0,go[40]=!0,go[41]=!0,go[43]=!0,go[45]=!0,go[47]=!0,go[173]=!0,go[183]=!0,go[8203]=!0,go[8208]=!0,go[8211]=!0,go[8231]=!0;var Vl=function(A){function I(Z,le,ke,Oe){A.call(this,Z,le),this.angle=ke,void 0!==Oe&&(this.segment=Oe)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(t);br("Anchor",Vl);var Ls=128;function Rc(A,I){var Z=I.expression;if("constant"===Z.kind)return{kind:"constant",layoutSize:Z.evaluate(new Ur(A+1))};if("source"===Z.kind)return{kind:"source"};for(var le=Z.zoomStops,ke=Z.interpolationType,Oe=0;Oe<le.length&&le[Oe]<=A;)Oe++;for(var Be=Oe=Math.max(0,Oe-1);Be<le.length&&le[Be]<A+1;)Be++;Be=Math.min(le.length-1,Be);var Je=le[Oe],ot=le[Be];return"composite"===Z.kind?{kind:"composite",minZoom:Je,maxZoom:ot,interpolationType:ke}:{kind:"camera",minZoom:Je,maxZoom:ot,minSize:Z.evaluate(new Ur(Je)),maxSize:Z.evaluate(new Ur(ot)),interpolationType:ke}}function Nf(A,I,Z){var le=I.uSize,ke=I.uSizeT,Oe=Z.lowerSize,Be=Z.upperSize;return"source"===A.kind?Oe/Ls:"composite"===A.kind?Ir(Oe/Ls,Be/Ls,ke):le}function jf(A,I){var Z=0,le=0;if("constant"===A.kind)le=A.layoutSize;else if("source"!==A.kind){var ke=A.interpolationType,Oe=A.minZoom,Be=A.maxZoom,Je=ke?u(Di.interpolationFactor(ke,I,Oe,Be),0,1):0;"camera"===A.kind?le=Ir(A.minSize,A.maxSize,Je):Z=Je}return{uSizeT:Z,uSize:le}}var Wp=Object.freeze({__proto__:null,getSizeData:Rc,evaluateSizeForFeature:Nf,evaluateSizeForZoom:jf,SIZE_PACK_FACTOR:Ls});function Uf(A,I,Z,le,ke){if(void 0===I.segment)return!0;for(var Oe=I,Be=I.segment+1,Je=0;Je>-Z/2;){if(--Be<0)return!1;Je-=A[Be].dist(Oe),Oe=A[Be]}Je+=A[Be].dist(A[Be+1]),Be++;for(var ot=[],mt=0;Je<Z/2;){var _t=A[Be-1],zt=A[Be],jt=A[Be+1];if(!jt)return!1;var Rt=_t.angleTo(zt)-zt.angleTo(jt);for(Rt=Math.abs((Rt+3*Math.PI)%(2*Math.PI)-Math.PI),ot.push({distance:Je,angleDelta:Rt}),mt+=Rt;Je-ot[0].distance>le;)mt-=ot.shift().angleDelta;if(mt>ke)return!1;Be++,Je+=zt.dist(jt)}return!0}function Vf(A){for(var I=0,Z=0;Z<A.length-1;Z++)I+=A[Z].dist(A[Z+1]);return I}function Hf(A,I,Z){return A?.6*I*Z:0}function qf(A,I){return Math.max(A?A.right-A.left:0,I?I.right-I.left:0)}function Xp(A,I,Z,le,ke,Oe){for(var Be=Hf(Z,ke,Oe),Je=qf(Z,le)*Oe,ot=0,mt=Vf(A)/2,_t=0;_t<A.length-1;_t++){var zt=A[_t],jt=A[_t+1],Rt=zt.dist(jt);if(ot+Rt>mt){var tn=(mt-ot)/Rt,rn=Ir(zt.x,jt.x,tn),Tn=Ir(zt.y,jt.y,tn),bn=new Vl(rn,Tn,jt.angleTo(zt),_t);return bn._round(),!Be||Uf(A,bn,Je,Be,I)?bn:void 0}ot+=Rt}}function Jp(A,I,Z,le,ke,Oe,Be,Je,ot){var mt=Hf(le,Oe,Be),_t=qf(le,ke),zt=_t*Be,jt=0===A[0].x||A[0].x===ot||0===A[0].y||A[0].y===ot;return I-zt<I/4&&(I=zt+I/4),Gf(A,jt?I/2*Je%I:(_t/2+2*Oe)*Be*Je%I,I,mt,Z,zt,jt,!1,ot)}function Gf(A,I,Z,le,ke,Oe,Be,Je,ot){for(var mt=Oe/2,_t=Vf(A),zt=0,jt=I-Z,Rt=[],tn=0;tn<A.length-1;tn++){for(var rn=A[tn],Tn=A[tn+1],bn=rn.dist(Tn),zn=Tn.angleTo(rn);jt+Z<zt+bn;){var Dn=((jt+=Z)-zt)/bn,jn=Ir(rn.x,Tn.x,Dn),Gn=Ir(rn.y,Tn.y,Dn);if(jn>=0&&jn<ot&&Gn>=0&&Gn<ot&&jt-mt>=0&&jt+mt<=_t){var Kn=new Vl(jn,Gn,zn,tn);Kn._round(),le&&!Uf(A,Kn,Oe,le,ke)||Rt.push(Kn)}}zt+=bn}return Je||Rt.length||Be||(Rt=Gf(A,zt/2,Z,le,ke,Oe,Be,!0,ot)),Rt}function Zf(A,I,Z,le,ke){for(var Oe=[],Be=0;Be<A.length;Be++)for(var Je=A[Be],ot=void 0,mt=0;mt<Je.length-1;mt++){var _t=Je[mt],zt=Je[mt+1];_t.x<I&&zt.x<I||(_t.x<I?_t=new t(I,_t.y+(zt.y-_t.y)*((I-_t.x)/(zt.x-_t.x)))._round():zt.x<I&&(zt=new t(I,_t.y+(zt.y-_t.y)*((I-_t.x)/(zt.x-_t.x)))._round()),_t.y<Z&&zt.y<Z||(_t.y<Z?_t=new t(_t.x+(zt.x-_t.x)*((Z-_t.y)/(zt.y-_t.y)),Z)._round():zt.y<Z&&(zt=new t(_t.x+(zt.x-_t.x)*((Z-_t.y)/(zt.y-_t.y)),Z)._round()),_t.x>=le&&zt.x>=le||(_t.x>=le?_t=new t(le,_t.y+(zt.y-_t.y)*((le-_t.x)/(zt.x-_t.x)))._round():zt.x>=le&&(zt=new t(le,_t.y+(zt.y-_t.y)*((le-_t.x)/(zt.x-_t.x)))._round()),_t.y>=ke&&zt.y>=ke||(_t.y>=ke?_t=new t(_t.x+(zt.x-_t.x)*((ke-_t.y)/(zt.y-_t.y)),ke)._round():zt.y>=ke&&(zt=new t(_t.x+(zt.x-_t.x)*((ke-_t.y)/(zt.y-_t.y)),ke)._round()),ot&&_t.equals(ot[ot.length-1])||(ot=[_t],Oe.push(ot)),ot.push(zt)))))}return Oe}var Hl=po;function Yf(A,I,Z,le){var ke=[],Oe=A.image,Be=Oe.pixelRatio,Je=Oe.paddedRect.w-2*Hl,ot=Oe.paddedRect.h-2*Hl,mt=A.right-A.left,_t=A.bottom-A.top,zt=Oe.stretchX||[[0,Je]],jt=Oe.stretchY||[[0,ot]],Rt=function(fi,wi){return fi+wi[1]-wi[0]},tn=zt.reduce(Rt,0),rn=jt.reduce(Rt,0),Tn=Je-tn,bn=ot-rn,zn=0,Dn=tn,jn=0,Gn=rn,Kn=0,pr=Tn,ur=0,mr=bn;if(Oe.content&&le){var xr=Oe.content;zn=Wu(zt,0,xr[0]),jn=Wu(jt,0,xr[1]),Dn=Wu(zt,xr[0],xr[2]),Gn=Wu(jt,xr[1],xr[3]),Kn=xr[0]-zn,ur=xr[1]-jn,pr=xr[2]-xr[0]-Dn,mr=xr[3]-xr[1]-Gn}var zr=function(fi,wi,Mi,Si){var mi=Xu(fi.stretch-zn,Dn,mt,A.left),Ki=Ju(fi.fixed-Kn,pr,fi.stretch,tn),Pi=Xu(wi.stretch-jn,Gn,_t,A.top),ca=Ju(wi.fixed-ur,mr,wi.stretch,rn),Ta=Xu(Mi.stretch-zn,Dn,mt,A.left),ga=Ju(Mi.fixed-Kn,pr,Mi.stretch,tn),Ha=Xu(Si.stretch-jn,Gn,_t,A.top),va=Ju(Si.fixed-ur,mr,Si.stretch,rn),ta=new t(mi,Pi),ma=new t(Ta,Pi),fa=new t(Ta,Ha),na=new t(mi,Ha),Br=new t(Ki/Be,ca/Be),Jr=new t(ga/Be,va/Be),Ni=I*Math.PI/180;if(Ni){var gi=Math.sin(Ni),zi=Math.cos(Ni),Ci=[zi,-gi,gi,zi];ta._matMult(Ci),ma._matMult(Ci),na._matMult(Ci),fa._matMult(Ci)}var ei=fi.stretch+fi.fixed,ji=Mi.stretch+Mi.fixed,qa=wi.stretch+wi.fixed,vo=Si.stretch+Si.fixed;return{tl:ta,tr:ma,bl:na,br:fa,tex:{x:Oe.paddedRect.x+Hl+ei,y:Oe.paddedRect.y+Hl+qa,w:ji-ei,h:vo-qa},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Br,pixelOffsetBR:Jr,minFontScaleX:pr/Be/mt,minFontScaleY:mr/Be/_t,isSDF:Z}};if(le&&(Oe.stretchX||Oe.stretchY))for(var Sr=Wf(zt,Tn,tn),Pr=Wf(jt,bn,rn),Lr=0;Lr<Sr.length-1;Lr++)for(var Ar=Sr[Lr],Yr=Sr[Lr+1],Fr=0;Fr<Pr.length-1;Fr++){var vi=Pr[Fr],Or=Pr[Fr+1];ke.push(zr(Ar,vi,Yr,Or))}else ke.push(zr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Je+1},{fixed:0,stretch:ot+1}));return ke}function Wu(A,I,Z){for(var le=0,ke=0,Oe=A;ke<Oe.length;ke+=1){var Be=Oe[ke];le+=Math.max(I,Math.min(Z,Be[1]))-Math.max(I,Math.min(Z,Be[0]))}return le}function Wf(A,I,Z){for(var le=[{fixed:-Hl,stretch:0}],ke=0,Oe=A;ke<Oe.length;ke+=1){var Be=Oe[ke],Je=Be[0],ot=Be[1],mt=le[le.length-1];le.push({fixed:Je-mt.stretch,stretch:mt.stretch}),le.push({fixed:Je-mt.stretch,stretch:mt.stretch+(ot-Je)})}return le.push({fixed:I+Hl,stretch:Z}),le}function Xu(A,I,Z,le){return A/I*Z+le}function Ju(A,I,Z,le){return A-I*Z/le}var Ku=function(A,I,Z,le,ke,Oe,Be,Je,ot,mt){if(this.boxStartIndex=A.length,ot){var _t=Oe.top,zt=Oe.bottom,jt=Oe.collisionPadding;jt&&(_t-=jt[1],zt+=jt[3]);var Rt=zt-_t;Rt>0&&(Rt=Math.max(10,Rt),this.circleDiameter=Rt)}else{var tn=Oe.top*Be-Je,rn=Oe.bottom*Be+Je,Tn=Oe.left*Be-Je,bn=Oe.right*Be+Je,zn=Oe.collisionPadding;if(zn&&(Tn-=zn[0]*Be,tn-=zn[1]*Be,bn+=zn[2]*Be,rn+=zn[3]*Be),mt){var Dn=new t(Tn,tn),jn=new t(bn,tn),Gn=new t(Tn,rn),Kn=new t(bn,rn),pr=mt*Math.PI/180;Dn._rotate(pr),jn._rotate(pr),Gn._rotate(pr),Kn._rotate(pr),Tn=Math.min(Dn.x,jn.x,Gn.x,Kn.x),bn=Math.max(Dn.x,jn.x,Gn.x,Kn.x),tn=Math.min(Dn.y,jn.y,Gn.y,Kn.y),rn=Math.max(Dn.y,jn.y,Gn.y,Kn.y)}A.emplaceBack(I.x,I.y,Tn,tn,bn,rn,Z,le,ke)}this.boxEndIndex=A.length},ql=function(A,I){if(void 0===A&&(A=[]),void 0===I&&(I=Kp),this.data=A,this.length=this.data.length,this.compare=I,this.length>0)for(var Z=(this.length>>1)-1;Z>=0;Z--)this._down(Z)};function Kp(A,I){return A<I?-1:A>I?1:0}function $p(A,I,Z){void 0===I&&(I=1),void 0===Z&&(Z=!1);for(var le=1/0,ke=1/0,Oe=-1/0,Be=-1/0,Je=A[0],ot=0;ot<Je.length;ot++){var mt=Je[ot];(!ot||mt.x<le)&&(le=mt.x),(!ot||mt.y<ke)&&(ke=mt.y),(!ot||mt.x>Oe)&&(Oe=mt.x),(!ot||mt.y>Be)&&(Be=mt.y)}var _t=Oe-le,zt=Be-ke,jt=Math.min(_t,zt),Rt=jt/2,tn=new ql([],Qp);if(0===jt)return new t(le,ke);for(var rn=le;rn<Oe;rn+=jt)for(var Tn=ke;Tn<Be;Tn+=jt)tn.push(new Gl(rn+Rt,Tn+Rt,Rt,A));for(var bn=function(jn){for(var Gn=0,Kn=0,pr=0,ur=jn[0],mr=0,xr=ur.length,zr=xr-1;mr<xr;zr=mr++){var Sr=ur[mr],Pr=ur[zr],Lr=Sr.x*Pr.y-Pr.x*Sr.y;Kn+=(Sr.x+Pr.x)*Lr,pr+=(Sr.y+Pr.y)*Lr,Gn+=3*Lr}return new Gl(Kn/Gn,pr/Gn,0,jn)}(A),zn=tn.length;tn.length;){var Dn=tn.pop();(Dn.d>bn.d||!bn.d)&&(bn=Dn,Z&&console.log("found best %d after %d probes",Math.round(1e4*Dn.d)/1e4,zn)),Dn.max-bn.d<=I||(Rt=Dn.h/2,tn.push(new Gl(Dn.p.x-Rt,Dn.p.y-Rt,Rt,A)),tn.push(new Gl(Dn.p.x+Rt,Dn.p.y-Rt,Rt,A)),tn.push(new Gl(Dn.p.x-Rt,Dn.p.y+Rt,Rt,A)),tn.push(new Gl(Dn.p.x+Rt,Dn.p.y+Rt,Rt,A)),zn+=4)}return Z&&(console.log("num probes: "+zn),console.log("best distance: "+bn.d)),bn.p}function Qp(A,I){return I.max-A.max}function Gl(A,I,Z,le){this.p=new t(A,I),this.h=Z,this.d=function(ke,Oe){for(var Be=!1,Je=1/0,ot=0;ot<Oe.length;ot++)for(var mt=Oe[ot],_t=0,zt=mt.length,jt=zt-1;_t<zt;jt=_t++){var Rt=mt[_t],tn=mt[jt];Rt.y>ke.y!=tn.y>ke.y&&ke.x<(tn.x-Rt.x)*(ke.y-Rt.y)/(tn.y-Rt.y)+Rt.x&&(Be=!Be),Je=Math.min(Je,Iu(ke,Rt,tn))}return(Be?1:-1)*Math.sqrt(Je)}(this.p,le),this.max=this.d+this.h*Math.SQRT2}ql.prototype.push=function(A){this.data.push(A),this.length++,this._up(this.length-1)},ql.prototype.pop=function(){if(0!==this.length){var A=this.data[0],I=this.data.pop();return this.length--,this.length>0&&(this.data[0]=I,this._down(0)),A}},ql.prototype.peek=function(){return this.data[0]},ql.prototype._up=function(A){for(var I=this.data,Z=this.compare,le=I[A];A>0;){var ke=A-1>>1,Oe=I[ke];if(Z(le,Oe)>=0)break;I[A]=Oe,A=ke}I[A]=le},ql.prototype._down=function(A){for(var I=this.data,Z=this.compare,le=this.length>>1,ke=I[A];A<le;){var Oe=1+(A<<1),Be=I[Oe],Je=Oe+1;if(Je<this.length&&Z(I[Je],Be)<0&&(Oe=Je,Be=I[Je]),Z(Be,ke)>=0)break;I[A]=Be,A=Oe}I[A]=ke};var Zl=7,Fc=Number.POSITIVE_INFINITY;function Xf(A,I){return I[1]!==Fc?function(Z,le,ke){var Oe=0,Be=0;switch(le=Math.abs(le),ke=Math.abs(ke),Z){case"top-right":case"top-left":case"top":Be=ke-Zl;break;case"bottom-right":case"bottom-left":case"bottom":Be=-ke+Zl}switch(Z){case"top-right":case"bottom-right":case"right":Oe=-le;break;case"top-left":case"bottom-left":case"left":Oe=le}return[Oe,Be]}(A,I[0],I[1]):function(Z,le){var ke=0,Oe=0;le<0&&(le=0);var Be=le/Math.sqrt(2);switch(Z){case"top-right":case"top-left":Oe=Be-Zl;break;case"bottom-right":case"bottom-left":Oe=-Be+Zl;break;case"bottom":Oe=-le+Zl;break;case"top":Oe=le-Zl}switch(Z){case"top-right":case"bottom-right":ke=-Be;break;case"top-left":case"bottom-left":ke=Be;break;case"left":ke=le;break;case"right":ke=-le}return[ke,Oe]}(A,I[0])}function Bc(A){switch(A){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var gu=255,vl=gu*Ls;function Jf(A,I,Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt,tn){var rn=function(jn,Gn,Kn,pr,ur,mr,xr,zr){for(var Sr=pr.layout.get("text-rotate").evaluate(mr,{})*Math.PI/180,Pr=[],Lr=0,Ar=Gn.positionedLines;Lr<Ar.length;Lr+=1)for(var Yr=Ar[Lr],Fr=0,vi=Yr.positionedGlyphs;Fr<vi.length;Fr+=1){var Or=vi[Fr];if(Or.rect){var fi=Or.rect||{},wi=Pf+1,Mi=!0,Si=1,mi=0,Ki=(ur||zr)&&Or.vertical,Pi=Or.metrics.advance*Or.scale/2;if(zr&&Gn.verticalizable){var ca=(Or.scale-1)*da,Ta=(da-Or.metrics.width*Or.scale)/2;mi=Yr.lineOffset/2-(Or.imageName?-Ta:ca)}if(Or.imageName){var ga=xr[Or.imageName];Mi=ga.sdf,Si=ga.pixelRatio,wi=po/Si}var Ha=ur?[Or.x+Pi,Or.y]:[0,0],va=ur?[0,0]:[Or.x+Pi+Kn[0],Or.y+Kn[1]-mi],ta=[0,0];Ki&&(ta=va,va=[0,0]);var ma=(Or.metrics.left-wi)*Or.scale-Pi+va[0],fa=(-Or.metrics.top-wi)*Or.scale+va[1],na=ma+fi.w*Or.scale/Si,Br=fa+fi.h*Or.scale/Si,Jr=new t(ma,fa),Ni=new t(na,fa),gi=new t(ma,Br),zi=new t(na,Br);if(Ki){var Ci=new t(-Pi,Pi-du),ei=-Math.PI/2,ji=da/2-Pi,qa=Or.imageName?ji:0,vo=new t(5-du-ji,-qa),Oa=new(Function.prototype.bind.apply(t,[null].concat(ta)));Jr._rotateAround(ei,Ci)._add(vo)._add(Oa),Ni._rotateAround(ei,Ci)._add(vo)._add(Oa),gi._rotateAround(ei,Ci)._add(vo)._add(Oa),zi._rotateAround(ei,Ci)._add(vo)._add(Oa)}if(Sr){var Cs=Math.sin(Sr),rl=Math.cos(Sr),ha=[rl,-Cs,Cs,rl];Jr._matMult(ha),Ni._matMult(ha),gi._matMult(ha),zi._matMult(ha)}var Os=new t(0,0),hs=new t(0,0);Pr.push({tl:Jr,tr:Ni,bl:gi,br:zi,tex:fi,writingMode:Gn.writingMode,glyphOffset:Ha,sectionIndex:Or.sectionIndex,isSDF:Mi,pixelOffsetTL:Os,pixelOffsetBR:hs,minFontScaleX:0,minFontScaleY:0})}}return Pr}(0,Z,Je,ke,Oe,Be,le,A.allowVerticalPlacement),Tn=A.textSizeData,bn=null;"source"===Tn.kind?(bn=[Ls*ke.layout.get("text-size").evaluate(Be,{})])[0]>vl&&E(A.layerIds[0]+': Value for "text-size" is >= '+gu+'. Reduce your "text-size".'):"composite"===Tn.kind&&((bn=[Ls*Rt.compositeTextSizes[0].evaluate(Be,{},tn),Ls*Rt.compositeTextSizes[1].evaluate(Be,{},tn)])[0]>vl||bn[1]>vl)&&E(A.layerIds[0]+': Value for "text-size" is >= '+gu+'. Reduce your "text-size".'),A.addSymbols(A.text,rn,bn,Je,Oe,Be,mt,I,ot.lineStartIndex,ot.lineLength,jt,tn);for(var zn=0,Dn=_t;zn<Dn.length;zn+=1)zt[Dn[zn]]=A.text.placedSymbolArray.length-1;return 4*rn.length}function Kf(A){for(var I in A)return A[I];return null}function ed(A,I,Z,le){var ke=A.compareText;if(I in ke){for(var Oe=ke[I],Be=Oe.length-1;Be>=0;Be--)if(le.dist(Oe[Be])<Z)return!0}else ke[I]=[];return ke[I].push(le),!1}var td=Bl.VectorTileFeature.types,nd=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function $u(A,I,Z,le,ke,Oe,Be,Je,ot,mt,_t,zt,jt){var Rt=Je?Math.min(vl,Math.round(Je[0])):0,tn=Je?Math.min(vl,Math.round(Je[1])):0;A.emplaceBack(I,Z,Math.round(32*le),Math.round(32*ke),Oe,Be,(Rt<<1)+(ot?1:0),tn,16*mt,16*_t,256*zt,256*jt)}function Nc(A,I,Z){A.emplaceBack(I.x,I.y,Z),A.emplaceBack(I.x,I.y,Z),A.emplaceBack(I.x,I.y,Z),A.emplaceBack(I.x,I.y,Z)}function rd(A){for(var I=0,Z=A.sections;I<Z.length;I+=1)if(Qi(Z[I].text))return!0;return!1}var Yl=function(A){this.layoutVertexArray=new G,this.indexArray=new me,this.programConfigurations=A,this.segments=new Nn,this.dynamicLayoutVertexArray=new q,this.opacityVertexArray=new L,this.placedSymbolArray=new Et};Yl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Yl.prototype.upload=function(A,I,Z,le){this.isEmpty()||(Z&&(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Lp.members),this.indexBuffer=A.createIndexBuffer(this.indexArray,I),this.dynamicLayoutVertexBuffer=A.createVertexBuffer(this.dynamicLayoutVertexArray,Cp.members,!0),this.opacityVertexBuffer=A.createVertexBuffer(this.opacityVertexArray,nd,!0),this.opacityVertexBuffer.itemSize=1),(Z||le)&&this.programConfigurations.upload(A))},Yl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},br("SymbolBuffers",Yl);var vu=function(A,I,Z){this.layoutVertexArray=new A,this.layoutAttributes=I,this.indexArray=new Z,this.segments=new Nn,this.collisionVertexArray=new ce};vu.prototype.upload=function(A){this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=A.createVertexBuffer(this.collisionVertexArray,Op.members,!0)},vu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},br("CollisionBuffers",vu);var ci=function(A){this.collisionBoxArray=A.collisionBoxArray,this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(Be){return Be.id}),this.index=A.index,this.pixelRatio=A.pixelRatio,this.sourceLayerIndex=A.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=_c([]),this.placementViewportMatrix=_c([]);var I=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Rc(this.zoom,I["text-size"]),this.iconSizeData=Rc(this.zoom,I["icon-size"]);var Z=this.layers[0].layout,le=Z.get("symbol-sort-key"),ke=Z.get("symbol-z-order");this.canOverlap=Z.get("text-allow-overlap")||Z.get("icon-allow-overlap")||Z.get("text-ignore-placement")||Z.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==ke&&void 0!==le.constantOr(1);var Oe="viewport-y"===ke||"auto"===ke&&!this.sortFeaturesByKey;this.sortFeaturesByY=Oe&&this.canOverlap,"point"===Z.get("symbol-placement")&&(this.writingModes=Z.get("text-writing-mode").map(function(Be){return zo[Be]})),this.stateDependentLayerIds=this.layers.filter(function(Be){return Be.isStateDependent()}).map(function(Be){return Be.id}),this.sourceID=A.sourceID};ci.prototype.createArrays=function(){this.text=new Yl(new Ii(this.layers,this.zoom,function(A){return/^text/.test(A)})),this.icon=new Yl(new Ii(this.layers,this.zoom,function(A){return/^icon/.test(A)})),this.glyphOffsetArray=new Bt,this.lineVertexArray=new hn,this.symbolInstances=new Ut},ci.prototype.calculateGlyphDependencies=function(A,I,Z,le,ke){for(var Oe=0;Oe<A.length;Oe++)if(I[A.charCodeAt(Oe)]=!0,(Z||le)&&ke){var Be=fu[A.charAt(Oe)];Be&&(I[Be.charCodeAt(0)]=!0)}},ci.prototype.populate=function(A,I,Z){var le=this.layers[0],ke=le.layout,Oe=ke.get("text-font"),Be=ke.get("text-field"),Je=ke.get("icon-image"),ot=("constant"!==Be.value.kind||Be.value.value instanceof Bn&&!Be.value.value.isEmpty()||Be.value.value.toString().length>0)&&("constant"!==Oe.value.kind||Oe.value.value.length>0),mt="constant"!==Je.value.kind||!!Je.value.value||Object.keys(Je.parameters).length>0,_t=ke.get("symbol-sort-key");if(this.features=[],ot||mt){for(var zt=I.iconDependencies,jt=I.glyphDependencies,Rt=I.availableImages,tn=new Ur(this.zoom),rn=0,Tn=A;rn<Tn.length;rn+=1){var bn=Tn[rn],zn=bn.feature,Dn=bn.id,jn=bn.index,Gn=bn.sourceLayerIndex,Kn=le._featureFilter.needGeometry,pr=bi(zn,Kn);if(le._featureFilter.filter(tn,pr,Z)){Kn||(pr.geometry=ho(zn));var ur=void 0;if(ot){var mr=le.getValueAndResolveTokens("text-field",pr,Z,Rt),xr=Bn.factory(mr);rd(xr)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===os()||this.hasRTLText&&la.isParsed())&&(ur=Ip(xr,le,pr))}var zr=void 0;if(mt){var Sr=le.getValueAndResolveTokens("icon-image",pr,Z,Rt);zr=Sr instanceof er?Sr:er.fromString(Sr)}if(ur||zr){var Pr=this.sortFeaturesByKey?_t.evaluate(pr,{},Z):void 0,Lr={id:Dn,text:ur,icon:zr,index:jn,sourceLayerIndex:Gn,geometry:pr.geometry,properties:zn.properties,type:td[zn.type],sortKey:Pr};if(this.features.push(Lr),zr&&(zt[zr.name]=!0),ur){var Ar=Oe.evaluate(pr,{},Z).join(","),Yr="map"===ke.get("text-rotation-alignment")&&"point"!==ke.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(zo.vertical)>=0;for(var Fr=0,vi=ur.sections;Fr<vi.length;Fr+=1){var Or=vi[Fr];if(Or.image)zt[Or.image.name]=!0;else{var fi=ks(ur.toString()),wi=Or.fontStack||Ar,Mi=jt[wi]=jt[wi]||{};this.calculateGlyphDependencies(Or.text,Mi,Yr,this.allowVerticalPlacement,fi)}}}}}}"line"===ke.get("symbol-placement")&&(this.features=function(Si){var mi={},Ki={},Pi=[],ca=0;function Ta(zi){Pi.push(Si[zi]),ca++}function ga(zi,Ci,ei){var ji=Ki[zi];return delete Ki[zi],Ki[Ci]=ji,Pi[ji].geometry[0].pop(),Pi[ji].geometry[0]=Pi[ji].geometry[0].concat(ei[0]),ji}function Ha(zi,Ci,ei){var ji=mi[Ci];return delete mi[Ci],mi[zi]=ji,Pi[ji].geometry[0].shift(),Pi[ji].geometry[0]=ei[0].concat(Pi[ji].geometry[0]),ji}function va(zi,Ci,ei){var ji=ei?Ci[0][Ci[0].length-1]:Ci[0][0];return zi+":"+ji.x+":"+ji.y}for(var ta=0;ta<Si.length;ta++){var ma=Si[ta],fa=ma.geometry,na=ma.text?ma.text.toString():null;if(na){var Br=va(na,fa),Jr=va(na,fa,!0);if(Br in Ki&&Jr in mi&&Ki[Br]!==mi[Jr]){var Ni=Ha(Br,Jr,fa),gi=ga(Br,Jr,Pi[Ni].geometry);delete mi[Br],delete Ki[Jr],Ki[va(na,Pi[gi].geometry,!0)]=gi,Pi[Ni].geometry=null}else Br in Ki?ga(Br,Jr,fa):Jr in mi?Ha(Br,Jr,fa):(Ta(ta),mi[Br]=ca-1,Ki[Jr]=ca-1)}else Ta(ta)}return Pi.filter(function(zi){return zi.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Si,mi){return Si.sortKey-mi.sortKey})}},ci.prototype.update=function(A,I,Z){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(A,I,this.layers,Z),this.icon.programConfigurations.updatePaintArrays(A,I,this.layers,Z))},ci.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},ci.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ci.prototype.upload=function(A){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(A),this.iconCollisionBox.upload(A)),this.text.upload(A,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(A,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ci.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},ci.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},ci.prototype.addToLineVertexArray=function(A,I){var Z=this.lineVertexArray.length;if(void 0!==A.segment){for(var le=A.dist(I[A.segment+1]),ke=A.dist(I[A.segment]),Oe={},Be=A.segment+1;Be<I.length;Be++)Oe[Be]={x:I[Be].x,y:I[Be].y,tileUnitDistanceFromAnchor:le},Be<I.length-1&&(le+=I[Be+1].dist(I[Be]));for(var Je=A.segment||0;Je>=0;Je--)Oe[Je]={x:I[Je].x,y:I[Je].y,tileUnitDistanceFromAnchor:ke},Je>0&&(ke+=I[Je-1].dist(I[Je]));for(var ot=0;ot<I.length;ot++){var mt=Oe[ot];this.lineVertexArray.emplaceBack(mt.x,mt.y,mt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:Z,lineLength:this.lineVertexArray.length-Z}},ci.prototype.addSymbols=function(A,I,Z,le,ke,Oe,Be,Je,ot,mt,_t,zt){for(var jt=A.indexArray,Rt=A.layoutVertexArray,tn=A.segments.prepareSegment(4*I.length,Rt,jt,this.canOverlap?Oe.sortKey:void 0),rn=this.glyphOffsetArray.length,Tn=tn.vertexLength,bn=this.allowVerticalPlacement&&Be===zo.vertical?Math.PI/2:0,zn=Oe.text&&Oe.text.sections,Dn=0;Dn<I.length;Dn++){var jn=I[Dn],Gn=jn.tl,Kn=jn.tr,pr=jn.bl,ur=jn.br,mr=jn.tex,xr=jn.pixelOffsetTL,zr=jn.pixelOffsetBR,Sr=jn.minFontScaleX,Pr=jn.minFontScaleY,Lr=jn.glyphOffset,Ar=jn.isSDF,Yr=jn.sectionIndex,Fr=tn.vertexLength,vi=Lr[1];$u(Rt,Je.x,Je.y,Gn.x,vi+Gn.y,mr.x,mr.y,Z,Ar,xr.x,xr.y,Sr,Pr),$u(Rt,Je.x,Je.y,Kn.x,vi+Kn.y,mr.x+mr.w,mr.y,Z,Ar,zr.x,xr.y,Sr,Pr),$u(Rt,Je.x,Je.y,pr.x,vi+pr.y,mr.x,mr.y+mr.h,Z,Ar,xr.x,zr.y,Sr,Pr),$u(Rt,Je.x,Je.y,ur.x,vi+ur.y,mr.x+mr.w,mr.y+mr.h,Z,Ar,zr.x,zr.y,Sr,Pr),Nc(A.dynamicLayoutVertexArray,Je,bn),jt.emplaceBack(Fr,Fr+1,Fr+2),jt.emplaceBack(Fr+1,Fr+2,Fr+3),tn.vertexLength+=4,tn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Lr[0]),Dn!==I.length-1&&Yr===I[Dn+1].sectionIndex||A.programConfigurations.populatePaintArrays(Rt.length,Oe,Oe.index,{},zt,zn&&zn[Yr])}A.placedSymbolArray.emplaceBack(Je.x,Je.y,rn,this.glyphOffsetArray.length-rn,Tn,ot,mt,Je.segment,Z?Z[0]:0,Z?Z[1]:0,le[0],le[1],Be,0,!1,0,_t)},ci.prototype._addCollisionDebugVertex=function(A,I,Z,le,ke,Oe){return I.emplaceBack(0,0),A.emplaceBack(Z.x,Z.y,le,ke,Math.round(Oe.x),Math.round(Oe.y))},ci.prototype.addCollisionDebugVertices=function(A,I,Z,le,ke,Oe,Be){var Je=ke.segments.prepareSegment(4,ke.layoutVertexArray,ke.indexArray),ot=Je.vertexLength,mt=ke.layoutVertexArray,_t=ke.collisionVertexArray,zt=Be.anchorX,jt=Be.anchorY;this._addCollisionDebugVertex(mt,_t,Oe,zt,jt,new t(A,I)),this._addCollisionDebugVertex(mt,_t,Oe,zt,jt,new t(Z,I)),this._addCollisionDebugVertex(mt,_t,Oe,zt,jt,new t(Z,le)),this._addCollisionDebugVertex(mt,_t,Oe,zt,jt,new t(A,le)),Je.vertexLength+=4;var Rt=ke.indexArray;Rt.emplaceBack(ot,ot+1),Rt.emplaceBack(ot+1,ot+2),Rt.emplaceBack(ot+2,ot+3),Rt.emplaceBack(ot+3,ot),Je.primitiveLength+=4},ci.prototype.addDebugCollisionBoxes=function(A,I,Z,le){for(var ke=A;ke<I;ke++){var Oe=this.collisionBoxArray.get(ke),Be=Oe.x1,Je=Oe.y1,ot=Oe.x2,mt=Oe.y2;this.addCollisionDebugVertices(Be,Je,ot,mt,le?this.textCollisionBox:this.iconCollisionBox,Oe.anchorPoint,Z)}},ci.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new vu(K,Af.members,lt),this.iconCollisionBox=new vu(K,Af.members,lt);for(var A=0;A<this.symbolInstances.length;A++){var I=this.symbolInstances.get(A);this.addDebugCollisionBoxes(I.textBoxStartIndex,I.textBoxEndIndex,I,!0),this.addDebugCollisionBoxes(I.verticalTextBoxStartIndex,I.verticalTextBoxEndIndex,I,!0),this.addDebugCollisionBoxes(I.iconBoxStartIndex,I.iconBoxEndIndex,I,!1),this.addDebugCollisionBoxes(I.verticalIconBoxStartIndex,I.verticalIconBoxEndIndex,I,!1)}},ci.prototype._deserializeCollisionBoxesForSymbol=function(A,I,Z,le,ke,Oe,Be,Je,ot){for(var mt={},_t=I;_t<Z;_t++){var zt=A.get(_t);mt.textBox={x1:zt.x1,y1:zt.y1,x2:zt.x2,y2:zt.y2,anchorPointX:zt.anchorPointX,anchorPointY:zt.anchorPointY},mt.textFeatureIndex=zt.featureIndex;break}for(var jt=le;jt<ke;jt++){var Rt=A.get(jt);mt.verticalTextBox={x1:Rt.x1,y1:Rt.y1,x2:Rt.x2,y2:Rt.y2,anchorPointX:Rt.anchorPointX,anchorPointY:Rt.anchorPointY},mt.verticalTextFeatureIndex=Rt.featureIndex;break}for(var tn=Oe;tn<Be;tn++){var rn=A.get(tn);mt.iconBox={x1:rn.x1,y1:rn.y1,x2:rn.x2,y2:rn.y2,anchorPointX:rn.anchorPointX,anchorPointY:rn.anchorPointY},mt.iconFeatureIndex=rn.featureIndex;break}for(var Tn=Je;Tn<ot;Tn++){var bn=A.get(Tn);mt.verticalIconBox={x1:bn.x1,y1:bn.y1,x2:bn.x2,y2:bn.y2,anchorPointX:bn.anchorPointX,anchorPointY:bn.anchorPointY},mt.verticalIconFeatureIndex=bn.featureIndex;break}return mt},ci.prototype.deserializeCollisionBoxes=function(A){this.collisionArrays=[];for(var I=0;I<this.symbolInstances.length;I++){var Z=this.symbolInstances.get(I);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(A,Z.textBoxStartIndex,Z.textBoxEndIndex,Z.verticalTextBoxStartIndex,Z.verticalTextBoxEndIndex,Z.iconBoxStartIndex,Z.iconBoxEndIndex,Z.verticalIconBoxStartIndex,Z.verticalIconBoxEndIndex))}},ci.prototype.hasTextData=function(){return this.text.segments.get().length>0},ci.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ci.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},ci.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},ci.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},ci.prototype.addIndicesForPlacedSymbol=function(A,I){for(var Z=A.placedSymbolArray.get(I),le=Z.vertexStartIndex+4*Z.numGlyphs,ke=Z.vertexStartIndex;ke<le;ke+=4)A.indexArray.emplaceBack(ke,ke+1,ke+2),A.indexArray.emplaceBack(ke+1,ke+2,ke+3)},ci.prototype.getSortedSymbolIndexes=function(A){if(this.sortedAngle===A&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var I=Math.sin(A),Z=Math.cos(A),le=[],ke=[],Oe=[],Be=0;Be<this.symbolInstances.length;++Be){Oe.push(Be);var Je=this.symbolInstances.get(Be);le.push(0|Math.round(I*Je.anchorX+Z*Je.anchorY)),ke.push(Je.featureIndex)}return Oe.sort(function(ot,mt){return le[ot]-le[mt]||ke[mt]-ke[ot]}),Oe},ci.prototype.addToSortKeyRanges=function(A,I){var Z=this.sortKeyRanges[this.sortKeyRanges.length-1];Z&&Z.sortKey===I?Z.symbolInstanceEnd=A+1:this.sortKeyRanges.push({sortKey:I,symbolInstanceStart:A,symbolInstanceEnd:A+1})},ci.prototype.sortFeatures=function(A){var I=this;if(this.sortFeaturesByY&&this.sortedAngle!==A&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(A),this.sortedAngle=A,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var Z=0,le=this.symbolInstanceIndexes;Z<le.length;Z+=1){var ke=le[Z],Oe=this.symbolInstances.get(ke);this.featureSortOrder.push(Oe.featureIndex),[Oe.rightJustifiedTextSymbolIndex,Oe.centerJustifiedTextSymbolIndex,Oe.leftJustifiedTextSymbolIndex].forEach(function(Be,Je,ot){Be>=0&&ot.indexOf(Be)===Je&&I.addIndicesForPlacedSymbol(I.text,Be)}),Oe.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Oe.verticalPlacedTextSymbolIndex),Oe.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Oe.placedIconSymbolIndex),Oe.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Oe.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},br("SymbolBucket",ci,{omit:["layers","collisionBoxArray","features","compareText"]}),ci.MAX_GLYPHS=65535,ci.addDynamicAttributes=Nc;var id=new Ei({"symbol-placement":new Tr(We.layout_symbol["symbol-placement"]),"symbol-spacing":new Tr(We.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Tr(We.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Cr(We.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Tr(We.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Tr(We.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Tr(We.layout_symbol["icon-ignore-placement"]),"icon-optional":new Tr(We.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Tr(We.layout_symbol["icon-rotation-alignment"]),"icon-size":new Cr(We.layout_symbol["icon-size"]),"icon-text-fit":new Tr(We.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Tr(We.layout_symbol["icon-text-fit-padding"]),"icon-image":new Cr(We.layout_symbol["icon-image"]),"icon-rotate":new Cr(We.layout_symbol["icon-rotate"]),"icon-padding":new Tr(We.layout_symbol["icon-padding"]),"icon-keep-upright":new Tr(We.layout_symbol["icon-keep-upright"]),"icon-offset":new Cr(We.layout_symbol["icon-offset"]),"icon-anchor":new Cr(We.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Tr(We.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Tr(We.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Tr(We.layout_symbol["text-rotation-alignment"]),"text-field":new Cr(We.layout_symbol["text-field"]),"text-font":new Cr(We.layout_symbol["text-font"]),"text-size":new Cr(We.layout_symbol["text-size"]),"text-max-width":new Cr(We.layout_symbol["text-max-width"]),"text-line-height":new Tr(We.layout_symbol["text-line-height"]),"text-letter-spacing":new Cr(We.layout_symbol["text-letter-spacing"]),"text-justify":new Cr(We.layout_symbol["text-justify"]),"text-radial-offset":new Cr(We.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Tr(We.layout_symbol["text-variable-anchor"]),"text-anchor":new Cr(We.layout_symbol["text-anchor"]),"text-max-angle":new Tr(We.layout_symbol["text-max-angle"]),"text-writing-mode":new Tr(We.layout_symbol["text-writing-mode"]),"text-rotate":new Cr(We.layout_symbol["text-rotate"]),"text-padding":new Tr(We.layout_symbol["text-padding"]),"text-keep-upright":new Tr(We.layout_symbol["text-keep-upright"]),"text-transform":new Cr(We.layout_symbol["text-transform"]),"text-offset":new Cr(We.layout_symbol["text-offset"]),"text-allow-overlap":new Tr(We.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Tr(We.layout_symbol["text-ignore-placement"]),"text-optional":new Tr(We.layout_symbol["text-optional"])}),jc={paint:new Ei({"icon-opacity":new Cr(We.paint_symbol["icon-opacity"]),"icon-color":new Cr(We.paint_symbol["icon-color"]),"icon-halo-color":new Cr(We.paint_symbol["icon-halo-color"]),"icon-halo-width":new Cr(We.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Cr(We.paint_symbol["icon-halo-blur"]),"icon-translate":new Tr(We.paint_symbol["icon-translate"]),"icon-translate-anchor":new Tr(We.paint_symbol["icon-translate-anchor"]),"text-opacity":new Cr(We.paint_symbol["text-opacity"]),"text-color":new Cr(We.paint_symbol["text-color"],{runtimeType:Qt,getOverride:function(A){return A.textColor},hasOverride:function(A){return!!A.textColor}}),"text-halo-color":new Cr(We.paint_symbol["text-halo-color"]),"text-halo-width":new Cr(We.paint_symbol["text-halo-width"]),"text-halo-blur":new Cr(We.paint_symbol["text-halo-blur"]),"text-translate":new Tr(We.paint_symbol["text-translate"]),"text-translate-anchor":new Tr(We.paint_symbol["text-translate-anchor"])}),layout:id},Wl=function(A){this.type=A.property.overrides?A.property.overrides.runtimeType:At,this.defaultValue=A};Wl.prototype.evaluate=function(A){if(A.formattedSection){var I=this.defaultValue.property.overrides;if(I&&I.hasOverride(A.formattedSection))return I.getOverride(A.formattedSection)}return A.feature&&A.featureState?this.defaultValue.evaluate(A.feature,A.featureState):this.defaultValue.property.specification.default},Wl.prototype.eachChild=function(A){this.defaultValue.isConstant()||A(this.defaultValue.value._styleExpression.expression)},Wl.prototype.outputDefined=function(){return!1},Wl.prototype.serialize=function(){return null},br("FormatSectionOverride",Wl,{omit:["defaultValue"]});var ad=function(A){function I(Z){A.call(this,Z,jc)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(Z,le){if(A.prototype.recalculate.call(this,Z,le),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var ke=this.layout.get("text-writing-mode");if(ke){for(var Oe=[],Be=0,Je=ke;Be<Je.length;Be+=1){var ot=Je[Be];Oe.indexOf(ot)<0&&Oe.push(ot)}this.layout._values["text-writing-mode"]=Oe}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(Z,le,ke,Oe){var ot,Be=this.layout.get(Z).evaluate(le,{},ke,Oe),Je=this._unevaluatedLayout._values[Z];return Je.isDataDriven()||Ho(Je.value)||!Be?Be:(ot=le.properties,Be.replace(/{([^{}]+)}/g,function(_t,zt){return zt in ot?String(ot[zt]):""}))},I.prototype.createBucket=function(Z){return new ci(Z)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var Z=0,le=jc.paint.overridableProperties;Z<le.length;Z+=1){var ke=le[Z];if(I.hasPaintOverride(this.layout,ke)){var Oe,Be=this.paint.get(ke),Je=new Wl(Be),ot=new To(Je,Be.property.specification);Oe="constant"===Be.value.kind||"source"===Be.value.kind?new Da("source",ot):new ts("composite",ot,Be.value.zoomStops,Be.value._interpolationType),this.paint._values[ke]=new li(Be.property,Oe,Be.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(Z,le,ke){return!(!this.layout||le.isDataDriven()||ke.isDataDriven())&&I.hasPaintOverride(this.layout,Z)},I.hasPaintOverride=function(Z,le){var ke=Z.get("text-field"),Oe=jc.paint.properties[le],Be=!1,Je=function(_t){for(var zt=0,jt=_t;zt<jt.length;zt+=1){var Rt=jt[zt];if(Oe.overrides&&Oe.overrides.hasOverride(Rt))return void(Be=!0)}};if("constant"===ke.value.kind&&ke.value.value instanceof Bn)Je(ke.value.value.sections);else if("source"===ke.value.kind){var ot=function(_t){if(!Be)if(_t instanceof Nt&&qn(_t.value)===wn){var zt=_t.value;Je(zt.sections)}else _t instanceof Mn?Je(_t.sections):_t.eachChild(ot)},mt=ke.value;mt._styleExpression&&ot(mt._styleExpression.expression)}return Be},I}(Qr),od={paint:new Ei({"background-color":new Tr(We.paint_background["background-color"]),"background-pattern":new Qa(We.paint_background["background-pattern"]),"background-opacity":new Tr(We.paint_background["background-opacity"])})},sd=function(A){function I(Z){A.call(this,Z,od)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I}(Qr),ld={paint:new Ei({"raster-opacity":new Tr(We.paint_raster["raster-opacity"]),"raster-hue-rotate":new Tr(We.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Tr(We.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Tr(We.paint_raster["raster-brightness-max"]),"raster-saturation":new Tr(We.paint_raster["raster-saturation"]),"raster-contrast":new Tr(We.paint_raster["raster-contrast"]),"raster-resampling":new Tr(We.paint_raster["raster-resampling"]),"raster-fade-duration":new Tr(We.paint_raster["raster-fade-duration"])})},ud=function(A){function I(Z){A.call(this,Z,ld)}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I}(Qr),cd=function(A){function I(Z){A.call(this,Z,{}),this.implementation=Z}return A&&(I.__proto__=A),I.prototype=Object.create(A&&A.prototype),I.prototype.constructor=I,I.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},I.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(Z){this.implementation.onAdd&&this.implementation.onAdd(Z,Z.painter.context.gl)},I.prototype.onRemove=function(Z){this.implementation.onRemove&&this.implementation.onRemove(Z,Z.painter.context.gl)},I}(Qr),fd={circle:Gh,heatmap:Yh,hillshade:Xh,fill:hp,"fill-extrusion":_p,line:Ep,symbol:ad,background:sd,raster:ud},$f=n.HTMLImageElement,Qf=n.HTMLCanvasElement,eh=n.HTMLVideoElement,th=n.ImageData,Qu=n.ImageBitmap,Sl=function(A,I,Z,le){this.context=A,this.format=Z,this.texture=A.gl.createTexture(),this.update(I,le)};Sl.prototype.update=function(A,I,Z){var le=A.width,ke=A.height,Oe=!(this.size&&this.size[0]===le&&this.size[1]===ke||Z),Be=this.context,Je=Be.gl;if(this.useMipmap=Boolean(I&&I.useMipmap),Je.bindTexture(Je.TEXTURE_2D,this.texture),Be.pixelStoreUnpackFlipY.set(!1),Be.pixelStoreUnpack.set(1),Be.pixelStoreUnpackPremultiplyAlpha.set(this.format===Je.RGBA&&(!I||!1!==I.premultiply)),Oe)this.size=[le,ke],A instanceof $f||A instanceof Qf||A instanceof eh||A instanceof th||Qu&&A instanceof Qu?Je.texImage2D(Je.TEXTURE_2D,0,this.format,this.format,Je.UNSIGNED_BYTE,A):Je.texImage2D(Je.TEXTURE_2D,0,this.format,le,ke,0,this.format,Je.UNSIGNED_BYTE,A.data);else{var ot=Z||{x:0,y:0},mt=ot.x,_t=ot.y;A instanceof $f||A instanceof Qf||A instanceof eh||A instanceof th||Qu&&A instanceof Qu?Je.texSubImage2D(Je.TEXTURE_2D,0,mt,_t,Je.RGBA,Je.UNSIGNED_BYTE,A):Je.texSubImage2D(Je.TEXTURE_2D,0,mt,_t,le,ke,Je.RGBA,Je.UNSIGNED_BYTE,A.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Je.generateMipmap(Je.TEXTURE_2D)},Sl.prototype.bind=function(A,I,Z){var le=this.context.gl;le.bindTexture(le.TEXTURE_2D,this.texture),Z!==le.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(Z=le.LINEAR),A!==this.filter&&(le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,A),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,Z||A),this.filter=A),I!==this.wrap&&(le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,I),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,I),this.wrap=I)},Sl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Sl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Uc=function(A){var I=this;this._callback=A,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){I._triggered=!1,I._callback()})};Uc.prototype.trigger=function(){var A=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){A._triggered=!1,A._callback()},0))},Uc.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Xl=function(A,I,Z){this.target=A,this.parent=I,this.mapId=Z,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new Uc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=P()?A:n};function nh(A,I,Z){var le=2*Math.PI*6378137/256/Math.pow(2,Z);return[A*le-2*Math.PI*6378137/2,I*le-2*Math.PI*6378137/2]}Xl.prototype.send=function(A,I,Z,le,ke){var Oe=this;void 0===ke&&(ke=!1);var Be=Math.round(1e18*Math.random()).toString(36).substring(0,10);Z&&(this.callbacks[Be]=Z);var Je=z(this.globalScope)?void 0:[];return this.target.postMessage({id:Be,type:A,hasCallback:!!Z,targetMapId:le,mustQueue:ke,sourceMapId:this.mapId,data:Lo(I,Je)},Je),{cancel:function(){Z&&delete Oe.callbacks[Be],Oe.target.postMessage({id:Be,type:"<cancel>",targetMapId:le,sourceMapId:Oe.mapId})}}},Xl.prototype.receive=function(A){var I=A.data,Z=I.id;if(Z&&(!I.targetMapId||this.mapId===I.targetMapId))if("<cancel>"===I.type){delete this.tasks[Z];var le=this.cancelCallbacks[Z];delete this.cancelCallbacks[Z],le&&le()}else P()||I.mustQueue?(this.tasks[Z]=I,this.taskQueue.push(Z),this.invoker.trigger()):this.processTask(Z,I)},Xl.prototype.process=function(){if(this.taskQueue.length){var A=this.taskQueue.shift(),I=this.tasks[A];delete this.tasks[A],this.taskQueue.length&&this.invoker.trigger(),I&&this.processTask(A,I)}},Xl.prototype.processTask=function(A,I){var Z=this;if("<response>"===I.type){var le=this.callbacks[A];delete this.callbacks[A],le&&(I.error?le(Xo(I.error)):le(null,Xo(I.data)))}else{var ke=!1,Oe=z(this.globalScope)?void 0:[],Be=I.hasCallback?function(_t,zt){ke=!0,delete Z.cancelCallbacks[A],Z.target.postMessage({id:A,type:"<response>",sourceMapId:Z.mapId,error:_t?Lo(_t):null,data:Lo(zt,Oe)},Oe)}:function(_t){ke=!0},Je=null,ot=Xo(I.data);if(this.parent[I.type])Je=this.parent[I.type](I.sourceMapId,ot,Be);else if(this.parent.getWorkerSource){var mt=I.type.split(".");Je=this.parent.getWorkerSource(I.sourceMapId,mt[0],ot.source)[mt[1]](ot,Be)}else Be(new Error("Could not find function "+I.type));!ke&&Je&&Je.cancel&&(this.cancelCallbacks[A]=Je.cancel)}},Xl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Xi=function(A,I){A&&(I?this.setSouthWest(A).setNorthEast(I):4===A.length?this.setSouthWest([A[0],A[1]]).setNorthEast([A[2],A[3]]):this.setSouthWest(A[0]).setNorthEast(A[1]))};Xi.prototype.setNorthEast=function(A){return this._ne=A instanceof Li?new Li(A.lng,A.lat):Li.convert(A),this},Xi.prototype.setSouthWest=function(A){return this._sw=A instanceof Li?new Li(A.lng,A.lat):Li.convert(A),this},Xi.prototype.extend=function(A){var I,Z,le=this._sw,ke=this._ne;if(A instanceof Li)I=A,Z=A;else{if(!(A instanceof Xi)){if(Array.isArray(A)){if(4===A.length||A.every(Array.isArray)){var Oe=A;return this.extend(Xi.convert(Oe))}var Be=A;return this.extend(Li.convert(Be))}return this}if(I=A._sw,Z=A._ne,!I||!Z)return this}return le||ke?(le.lng=Math.min(I.lng,le.lng),le.lat=Math.min(I.lat,le.lat),ke.lng=Math.max(Z.lng,ke.lng),ke.lat=Math.max(Z.lat,ke.lat)):(this._sw=new Li(I.lng,I.lat),this._ne=new Li(Z.lng,Z.lat)),this},Xi.prototype.getCenter=function(){return new Li((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Xi.prototype.getSouthWest=function(){return this._sw},Xi.prototype.getNorthEast=function(){return this._ne},Xi.prototype.getNorthWest=function(){return new Li(this.getWest(),this.getNorth())},Xi.prototype.getSouthEast=function(){return new Li(this.getEast(),this.getSouth())},Xi.prototype.getWest=function(){return this._sw.lng},Xi.prototype.getSouth=function(){return this._sw.lat},Xi.prototype.getEast=function(){return this._ne.lng},Xi.prototype.getNorth=function(){return this._ne.lat},Xi.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Xi.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Xi.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Xi.prototype.contains=function(A){var I=Li.convert(A),Z=I.lng,le=I.lat,ke=this._sw.lat<=le&&le<=this._ne.lat,Oe=this._sw.lng<=Z&&Z<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Oe=this._sw.lng>=Z&&Z>=this._ne.lng),ke&&Oe},Xi.convert=function(A){return!A||A instanceof Xi?A:new Xi(A)};var rh=6371008.8,Li=function(A,I){if(isNaN(A)||isNaN(I))throw new Error("Invalid LngLat object: ("+A+", "+I+")");if(this.lng=+A,this.lat=+I,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Li.prototype.wrap=function(){return new Li(d(this.lng,-180,180),this.lat)},Li.prototype.toArray=function(){return[this.lng,this.lat]},Li.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Li.prototype.distanceTo=function(A){var I=Math.PI/180,Z=this.lat*I,le=A.lat*I,ke=Math.sin(Z)*Math.sin(le)+Math.cos(Z)*Math.cos(le)*Math.cos((A.lng-this.lng)*I);return rh*Math.acos(Math.min(ke,1))},Li.prototype.toBounds=function(A){void 0===A&&(A=0);var I=360*A/40075017,Z=I/Math.cos(Math.PI/180*this.lat);return new Xi(new Li(this.lng-Z,this.lat-I),new Li(this.lng+Z,this.lat+I))},Li.convert=function(A){if(A instanceof Li)return A;if(Array.isArray(A)&&(2===A.length||3===A.length))return new Li(Number(A[0]),Number(A[1]));if(!Array.isArray(A)&&"object"==typeof A&&null!==A)return new Li(Number("lng"in A?A.lng:A.lon),Number(A.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var ih=2*Math.PI*rh;function ah(A){return ih*Math.cos(A*Math.PI/180)}function oh(A){return(180+A)/360}function sh(A){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+A*Math.PI/360)))/360}function lh(A,I){return A/ah(I)}function Vc(A){var I=180-360*A;return 360/Math.PI*Math.atan(Math.exp(I*Math.PI/180))-90}var El=function(A,I,Z){void 0===Z&&(Z=0),this.x=+A,this.y=+I,this.z=+Z};El.fromLngLat=function(A,I){void 0===I&&(I=0);var Z=Li.convert(A);return new El(oh(Z.lng),sh(Z.lat),lh(I,Z.lat))},El.prototype.toLngLat=function(){return new Li(360*this.x-180,Vc(this.y))},El.prototype.toAltitude=function(){return this.z*ah(Vc(this.y))},El.prototype.meterInMercatorCoordinateUnits=function(){return 1/ih*(A=Vc(this.y),1/Math.cos(A*Math.PI/180));var A};var Ll=function(A,I,Z){this.z=A,this.x=I,this.y=Z,this.key=mu(0,A,A,I,Z)};Ll.prototype.equals=function(A){return this.z===A.z&&this.x===A.x&&this.y===A.y},Ll.prototype.url=function(A,I){var Z,le,ke,Oe,Be,Je=(Z=this.x,le=this.y,ke=this.z,Oe=nh(256*Z,256*(le=Math.pow(2,ke)-le-1),ke),Be=nh(256*(Z+1),256*(le+1),ke),Oe[0]+","+Oe[1]+","+Be[0]+","+Be[1]),ot=function(mt,_t,zt){for(var jt,Rt="",tn=mt;tn>0;tn--)Rt+=(_t&(jt=1<<tn-1)?1:0)+(zt&jt?2:0);return Rt}(this.z,this.x,this.y);return A[(this.x+this.y)%A.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===I?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ot).replace("{bbox-epsg-3857}",Je)},Ll.prototype.getTilePoint=function(A){var I=Math.pow(2,this.z);return new t((A.x*I-this.x)*Xr,(A.y*I-this.y)*Xr)},Ll.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var uh=function(A,I){this.wrap=A,this.canonical=I,this.key=mu(A,I.z,I.z,I.x,I.y)},Ji=function(A,I,Z,le,ke){this.overscaledZ=A,this.wrap=I,this.canonical=new Ll(Z,+le,+ke),this.key=mu(I,A,Z,le,ke)};function mu(A,I,Z,le,ke){(A*=2)<0&&(A=-1*A-1);var Oe=1<<Z;return(Oe*Oe*A+Oe*ke+le).toString(36)+Z.toString(36)+I.toString(36)}Ji.prototype.equals=function(A){return this.overscaledZ===A.overscaledZ&&this.wrap===A.wrap&&this.canonical.equals(A.canonical)},Ji.prototype.scaledTo=function(A){var I=this.canonical.z-A;return A>this.canonical.z?new Ji(A,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ji(A,this.wrap,A,this.canonical.x>>I,this.canonical.y>>I)},Ji.prototype.calculateScaledKey=function(A,I){var Z=this.canonical.z-A;return A>this.canonical.z?mu(this.wrap*+I,A,this.canonical.z,this.canonical.x,this.canonical.y):mu(this.wrap*+I,A,A,this.canonical.x>>Z,this.canonical.y>>Z)},Ji.prototype.isChildOf=function(A){if(A.wrap!==this.wrap)return!1;var I=this.canonical.z-A.canonical.z;return 0===A.overscaledZ||A.overscaledZ<this.overscaledZ&&A.canonical.x===this.canonical.x>>I&&A.canonical.y===this.canonical.y>>I},Ji.prototype.children=function(A){if(this.overscaledZ>=A)return[new Ji(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var I=this.canonical.z+1,Z=2*this.canonical.x,le=2*this.canonical.y;return[new Ji(I,this.wrap,I,Z,le),new Ji(I,this.wrap,I,Z+1,le),new Ji(I,this.wrap,I,Z,le+1),new Ji(I,this.wrap,I,Z+1,le+1)]},Ji.prototype.isLessThan=function(A){return this.wrap<A.wrap||!(this.wrap>A.wrap)&&(this.overscaledZ<A.overscaledZ||!(this.overscaledZ>A.overscaledZ)&&(this.canonical.x<A.canonical.x||!(this.canonical.x>A.canonical.x)&&this.canonical.y<A.canonical.y))},Ji.prototype.wrapped=function(){return new Ji(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ji.prototype.unwrapTo=function(A){return new Ji(this.overscaledZ,A,this.canonical.z,this.canonical.x,this.canonical.y)},Ji.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ji.prototype.toUnwrapped=function(){return new uh(this.wrap,this.canonical)},Ji.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ji.prototype.getTilePoint=function(A){return this.canonical.getTilePoint(new El(A.x-this.wrap,A.y))},br("CanonicalTileID",Ll),br("OverscaledTileID",Ji,{omit:["posMatrix"]});var tl=function(A,I,Z){if(this.uid=A,I.height!==I.width)throw new RangeError("DEM tiles must be square");if(Z&&"mapbox"!==Z&&"terrarium"!==Z)return E('"'+Z+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=I.height;var le=this.dim=I.height-2;this.data=new Uint32Array(I.data.buffer),this.encoding=Z||"mapbox";for(var ke=0;ke<le;ke++)this.data[this._idx(-1,ke)]=this.data[this._idx(0,ke)],this.data[this._idx(le,ke)]=this.data[this._idx(le-1,ke)],this.data[this._idx(ke,-1)]=this.data[this._idx(ke,0)],this.data[this._idx(ke,le)]=this.data[this._idx(ke,le-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(le,-1)]=this.data[this._idx(le-1,0)],this.data[this._idx(-1,le)]=this.data[this._idx(0,le-1)],this.data[this._idx(le,le)]=this.data[this._idx(le-1,le-1)]};tl.prototype.get=function(A,I){var Z=new Uint8Array(this.data.buffer),le=4*this._idx(A,I);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(Z[le],Z[le+1],Z[le+2])},tl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},tl.prototype._idx=function(A,I){if(A<-1||A>=this.dim+1||I<-1||I>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(I+1)*this.stride+(A+1)},tl.prototype._unpackMapbox=function(A,I,Z){return(256*A*256+256*I+Z)/10-1e4},tl.prototype._unpackTerrarium=function(A,I,Z){return 256*A+I+Z/256-32768},tl.prototype.getPixels=function(){return new to({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},tl.prototype.backfillBorder=function(A,I,Z){if(this.dim!==A.dim)throw new Error("dem dimension mismatch");var le=I*this.dim,ke=I*this.dim+this.dim,Oe=Z*this.dim,Be=Z*this.dim+this.dim;switch(I){case-1:le=ke-1;break;case 1:ke=le+1}switch(Z){case-1:Oe=Be-1;break;case 1:Be=Oe+1}for(var Je=-I*this.dim,ot=-Z*this.dim,mt=Oe;mt<Be;mt++)for(var _t=le;_t<ke;_t++)this.data[this._idx(_t,mt)]=A.data[this._idx(_t+Je,mt+ot)]},br("DEMData",tl);var ec=function(A){this._stringToNumber={},this._numberToString=[];for(var I=0;I<A.length;I++){var Z=A[I];this._stringToNumber[Z]=I,this._numberToString[I]=Z}};ec.prototype.encode=function(A){return this._stringToNumber[A]},ec.prototype.decode=function(A){return this._numberToString[A]};var tc=function(A,I,Z,le,ke){this.type="Feature",this._vectorTileFeature=A,A._z=I,A._x=Z,A._y=le,this.properties=A.properties,this.id=ke},Hc={geometry:{configurable:!0}};Hc.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Hc.geometry.set=function(A){this._geometry=A},tc.prototype.toJSON=function(){var A={geometry:this.geometry};for(var I in this)"_geometry"!==I&&"_vectorTileFeature"!==I&&(A[I]=this[I]);return A},Object.defineProperties(tc.prototype,Hc);var Jl=function(){this.state={},this.stateChanges={},this.deletedStates={}};Jl.prototype.updateState=function(A,I,Z){var le=String(I);if(this.stateChanges[A]=this.stateChanges[A]||{},this.stateChanges[A][le]=this.stateChanges[A][le]||{},c(this.stateChanges[A][le],Z),null===this.deletedStates[A])for(var ke in this.deletedStates[A]={},this.state[A])ke!==le&&(this.deletedStates[A][ke]=null);else if(this.deletedStates[A]&&null===this.deletedStates[A][le])for(var Oe in this.deletedStates[A][le]={},this.state[A][le])Z[Oe]||(this.deletedStates[A][le][Oe]=null);else for(var Be in Z)this.deletedStates[A]&&this.deletedStates[A][le]&&null===this.deletedStates[A][le][Be]&&delete this.deletedStates[A][le][Be]},Jl.prototype.removeFeatureState=function(A,I,Z){if(null!==this.deletedStates[A]){var le=String(I);if(this.deletedStates[A]=this.deletedStates[A]||{},Z&&void 0!==I)null!==this.deletedStates[A][le]&&(this.deletedStates[A][le]=this.deletedStates[A][le]||{},this.deletedStates[A][le][Z]=null);else if(void 0!==I)if(this.stateChanges[A]&&this.stateChanges[A][le])for(Z in this.deletedStates[A][le]={},this.stateChanges[A][le])this.deletedStates[A][le][Z]=null;else this.deletedStates[A][le]=null;else this.deletedStates[A]=null}},Jl.prototype.getState=function(A,I){var Z=String(I),le=this.state[A]||{},ke=this.stateChanges[A]||{},Oe=c({},le[Z],ke[Z]);if(null===this.deletedStates[A])return{};if(this.deletedStates[A]){var Be=this.deletedStates[A][I];if(null===Be)return{};for(var Je in Be)delete Oe[Je]}return Oe},Jl.prototype.initializeTileState=function(A,I){A.setFeatureState(this.state,I)},Jl.prototype.coalesceChanges=function(A,I){var Z={};for(var le in this.stateChanges){this.state[le]=this.state[le]||{};var ke={};for(var Oe in this.stateChanges[le])this.state[le][Oe]||(this.state[le][Oe]={}),c(this.state[le][Oe],this.stateChanges[le][Oe]),ke[Oe]=this.state[le][Oe];Z[le]=ke}for(var Be in this.deletedStates){this.state[Be]=this.state[Be]||{};var Je={};if(null===this.deletedStates[Be])for(var ot in this.state[Be])Je[ot]={},this.state[Be][ot]={};else for(var mt in this.deletedStates[Be]){if(null===this.deletedStates[Be][mt])this.state[Be][mt]={};else for(var _t=0,zt=Object.keys(this.deletedStates[Be][mt]);_t<zt.length;_t+=1){var jt=zt[_t];delete this.state[Be][mt][jt]}Je[mt]=this.state[Be][mt]}Z[Be]=Z[Be]||{},c(Z[Be],Je)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(Z).length)for(var Rt in A)A[Rt].setFeatureState(Z,I)};var nl=function(A,I){this.tileID=A,this.x=A.canonical.x,this.y=A.canonical.y,this.z=A.canonical.z,this.grid=new Wo(Xr,16,0),this.grid3D=new Wo(Xr,16,0),this.featureIndexArray=new En,this.promoteId=I};function ch(A,I,Z,le,ke){return _(A,function(Oe,Be){var Je=I instanceof Ko?I.get(Be):null;return Je&&Je.evaluate?Je.evaluate(Z,le,ke):Je})}function fh(A){for(var I=1/0,Z=1/0,le=-1/0,ke=-1/0,Oe=0,Be=A;Oe<Be.length;Oe+=1){var Je=Be[Oe];I=Math.min(I,Je.x),Z=Math.min(Z,Je.y),le=Math.max(le,Je.x),ke=Math.max(ke,Je.y)}return{minX:I,minY:Z,maxX:le,maxY:ke}}function hd(A,I){return I-A}nl.prototype.insert=function(A,I,Z,le,ke,Oe){var Be=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(Z,le,ke);for(var Je=Oe?this.grid3D:this.grid,ot=0;ot<I.length;ot++){for(var mt=I[ot],_t=[1/0,1/0,-1/0,-1/0],zt=0;zt<mt.length;zt++){var jt=mt[zt];_t[0]=Math.min(_t[0],jt.x),_t[1]=Math.min(_t[1],jt.y),_t[2]=Math.max(_t[2],jt.x),_t[3]=Math.max(_t[3],jt.y)}_t[0]<Xr&&_t[1]<Xr&&_t[2]>=0&&_t[3]>=0&&Je.insert(Be,_t[0],_t[1],_t[2],_t[3])}},nl.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Bl.VectorTile(new Hu(this.rawTileData)).layers,this.sourceLayerCoder=new ec(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},nl.prototype.query=function(A,I,Z,le){var ke=this;this.loadVTLayers();for(var Oe=A.params||{},Be=Xr/A.tileSize/A.scale,Je=ys(Oe.filter),ot=A.queryGeometry,mt=A.queryPadding*Be,_t=fh(ot),zt=this.grid.query(_t.minX-mt,_t.minY-mt,_t.maxX+mt,_t.maxY+mt),jt=fh(A.cameraQueryGeometry),Rt=0,tn=this.grid3D.query(jt.minX-mt,jt.minY-mt,jt.maxX+mt,jt.maxY+mt,function(jn,Gn,Kn,pr){return function(ur,mr,xr,zr,Sr){for(var Pr=0,Lr=ur;Pr<Lr.length;Pr+=1){var Ar=Lr[Pr];if(mr<=Ar.x&&xr<=Ar.y&&zr>=Ar.x&&Sr>=Ar.y)return!0}var Yr=[new t(mr,xr),new t(mr,Sr),new t(zr,Sr),new t(zr,xr)];if(ur.length>2)for(var Fr=0,vi=Yr;Fr<vi.length;Fr+=1)if(Gs(ur,vi[Fr]))return!0;for(var Or=0;Or<ur.length-1;Or++)if(Nh(ur[Or],ur[Or+1],Yr))return!0;return!1}(A.cameraQueryGeometry,jn-mt,Gn-mt,Kn+mt,pr+mt)});Rt<tn.length;Rt+=1){var rn=tn[Rt];zt.push(rn)}zt.sort(hd);for(var Tn,bn={},zn=function(jn){var Gn=zt[jn];if(Gn!==Tn){Tn=Gn;var Kn=ke.featureIndexArray.get(Gn),pr=null;ke.loadMatchingFeature(bn,Kn.bucketIndex,Kn.sourceLayerIndex,Kn.featureIndex,Je,Oe.layers,Oe.availableImages,I,Z,le,function(ur,mr,xr){return pr||(pr=ho(ur)),mr.queryIntersectsFeature(ot,ur,xr,pr,ke.z,A.transform,Be,A.pixelPosMatrix)})}},Dn=0;Dn<zt.length;Dn++)zn(Dn);return bn},nl.prototype.loadMatchingFeature=function(A,I,Z,le,ke,Oe,Be,Je,ot,mt,_t){var zt=this.bucketLayerIDs[I];if(!Oe||function(ur,mr){for(var xr=0;xr<ur.length;xr++)if(mr.indexOf(ur[xr])>=0)return!0;return!1}(Oe,zt)){var jt=this.sourceLayerCoder.decode(Z),Rt=this.vtLayers[jt].feature(le);if(ke.needGeometry){var tn=bi(Rt,!0);if(!ke.filter(new Ur(this.tileID.overscaledZ),tn,this.tileID.canonical))return}else if(!ke.filter(new Ur(this.tileID.overscaledZ),Rt))return;for(var rn=this.getId(Rt,jt),Tn=0;Tn<zt.length;Tn++){var bn=zt[Tn];if(!(Oe&&Oe.indexOf(bn)<0)){var zn=Je[bn];if(zn){var Dn={};void 0!==rn&&mt&&(Dn=mt.getState(zn.sourceLayer||"_geojsonTileLayer",rn));var jn=c({},ot[bn]);jn.paint=ch(jn.paint,zn.paint,Rt,Dn,Be),jn.layout=ch(jn.layout,zn.layout,Rt,Dn,Be);var Gn=!_t||_t(Rt,zn,Dn);if(Gn){var Kn=new tc(Rt,this.z,this.x,this.y,rn);Kn.layer=jn;var pr=A[bn];void 0===pr&&(pr=A[bn]=[]),pr.push({featureIndex:le,feature:Kn,intersectionZ:Gn})}}}}}},nl.prototype.lookupSymbolFeatures=function(A,I,Z,le,ke,Oe,Be,Je){var ot={};this.loadVTLayers();for(var mt=ys(ke),_t=0,zt=A;_t<zt.length;_t+=1){var jt=zt[_t];this.loadMatchingFeature(ot,Z,le,jt,mt,Oe,Be,Je,I)}return ot},nl.prototype.hasLayer=function(A){for(var I=0,Z=this.bucketLayerIDs;I<Z.length;I+=1)for(var le=0,ke=Z[I];le<ke.length;le+=1)if(A===ke[le])return!0;return!1},nl.prototype.getId=function(A,I){var Z=A.id;if(this.promoteId){var le="string"==typeof this.promoteId?this.promoteId:this.promoteId[I];"boolean"==typeof(Z=A.properties[le])&&(Z=Number(Z))}return Z},br("FeatureIndex",nl,{omit:["rawTileData","sourceLayerCoder"]});var ua=function(A,I){this.tileID=A,this.uid=g(),this.uses=0,this.tileSize=I,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ua.prototype.registerFadeDuration=function(A){var I=A+this.timeAdded;I<W.now()||this.fadeEndTime&&I<this.fadeEndTime||(this.fadeEndTime=I)},ua.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ua.prototype.loadVectorData=function(A,I,Z){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",A){for(var le in A.featureIndex&&(this.latestFeatureIndex=A.featureIndex,A.rawTileData?(this.latestRawTileData=A.rawTileData,this.latestFeatureIndex.rawTileData=A.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=A.collisionBoxArray,this.buckets=function(mt,_t){var zt={};if(!_t)return zt;for(var jt=function(){var rn=tn[Rt],Tn=rn.layerIds.map(function(jn){return _t.getLayer(jn)}).filter(Boolean);if(0!==Tn.length){rn.layers=Tn,rn.stateDependentLayerIds&&(rn.stateDependentLayers=rn.stateDependentLayerIds.map(function(jn){return Tn.filter(function(Gn){return Gn.id===jn})[0]}));for(var bn=0,zn=Tn;bn<zn.length;bn+=1){var Dn=zn[bn];zt[Dn.id]=rn}}},Rt=0,tn=mt;Rt<tn.length;Rt+=1)jt();return zt}(A.buckets,I.style),this.hasSymbolBuckets=!1,this.buckets){var ke=this.buckets[le];if(ke instanceof ci){if(this.hasSymbolBuckets=!0,!Z)break;ke.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Oe in this.buckets){var Be=this.buckets[Oe];if(Be instanceof ci&&Be.hasRTLText){this.hasRTLText=!0,la.isLoading()||la.isLoaded()||"deferred"!==os()||ss();break}}for(var Je in this.queryPadding=0,this.buckets){var ot=this.buckets[Je];this.queryPadding=Math.max(this.queryPadding,I.style.getLayer(Je).queryRadius(ot))}A.imageAtlas&&(this.imageAtlas=A.imageAtlas),A.glyphAtlasImage&&(this.glyphAtlasImage=A.glyphAtlasImage)}else this.collisionBoxArray=new Tt},ua.prototype.unloadVectorData=function(){for(var A in this.buckets)this.buckets[A].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ua.prototype.getBucket=function(A){return this.buckets[A.id]},ua.prototype.upload=function(A){for(var I in this.buckets){var Z=this.buckets[I];Z.uploadPending()&&Z.upload(A)}var le=A.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Sl(A,this.imageAtlas.image,le.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Sl(A,this.glyphAtlasImage,le.ALPHA),this.glyphAtlasImage=null)},ua.prototype.prepare=function(A){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(A,this.imageAtlasTexture)},ua.prototype.queryRenderedFeatures=function(A,I,Z,le,ke,Oe,Be,Je,ot,mt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:le,cameraQueryGeometry:ke,scale:Oe,tileSize:this.tileSize,pixelPosMatrix:mt,transform:Je,params:Be,queryPadding:this.queryPadding*ot},A,I,Z):{}},ua.prototype.querySourceFeatures=function(A,I){var Z=this.latestFeatureIndex;if(Z&&Z.rawTileData){var le=Z.loadVTLayers(),ke=I?I.sourceLayer:"",Oe=le._geojsonTileLayer||le[ke];if(Oe)for(var Be=ys(I&&I.filter),Je=this.tileID.canonical,ot=Je.z,mt=Je.x,_t=Je.y,zt={z:ot,x:mt,y:_t},jt=0;jt<Oe.length;jt++){var Rt=Oe.feature(jt);if(Be.needGeometry){var tn=bi(Rt,!0);if(!Be.filter(new Ur(this.tileID.overscaledZ),tn,this.tileID.canonical))continue}else if(!Be.filter(new Ur(this.tileID.overscaledZ),Rt))continue;var rn=Z.getId(Rt,ke),Tn=new tc(Rt,ot,mt,_t,rn);Tn.tile=zt,A.push(Tn)}}},ua.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ua.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ua.prototype.setExpiryData=function(A){var I=this.expirationTime;if(A.cacheControl){var Z=R(A.cacheControl);Z["max-age"]&&(this.expirationTime=Date.now()+1e3*Z["max-age"])}else A.expires&&(this.expirationTime=new Date(A.expires).getTime());if(this.expirationTime){var le=Date.now(),ke=!1;if(this.expirationTime>le)ke=!1;else if(I)if(this.expirationTime<I)ke=!0;else{var Oe=this.expirationTime-I;Oe?this.expirationTime=le+Math.max(Oe,3e4):ke=!0}else ke=!0;ke?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ua.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ua.prototype.setFeatureState=function(A,I){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(A).length){var Z=this.latestFeatureIndex.loadVTLayers();for(var le in this.buckets)if(I.style.hasLayer(le)){var ke=this.buckets[le],Oe=ke.layers[0].sourceLayer||"_geojsonTileLayer",Be=Z[Oe],Je=A[Oe];if(Be&&Je&&0!==Object.keys(Je).length){ke.update(Je,Be,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ot=I&&I.style&&I.style.getLayer(le);ot&&(this.queryPadding=Math.max(this.queryPadding,ot.queryRadius(ke)))}}}},ua.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ua.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<W.now()},ua.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ua.prototype.setHoldDuration=function(A){this.symbolFadeHoldUntil=W.now()+A},ua.prototype.setDependencies=function(A,I){for(var Z={},le=0,ke=I;le<ke.length;le+=1)Z[ke[le]]=!0;this.dependencies[A]=Z},ua.prototype.hasDependency=function(A,I){for(var Z=0,le=A;Z<le.length;Z+=1){var ke=le[Z],Oe=this.dependencies[ke];if(Oe)for(var Be=0,Je=I;Be<Je.length;Be+=1)if(Oe[Je[Be]])return!0}return!1};var ml=n.performance,hh=function(A){this._marks={start:[A.url,"start"].join("#"),end:[A.url,"end"].join("#"),measure:A.url.toString()},ml.mark(this._marks.start)};hh.prototype.finish=function(){ml.mark(this._marks.end);var A=ml.getEntriesByName(this._marks.measure);return 0===A.length&&(ml.measure(this._marks.measure,this._marks.start,this._marks.end),A=ml.getEntriesByName(this._marks.measure),ml.clearMarks(this._marks.start),ml.clearMarks(this._marks.end),ml.clearMeasures(this._marks.measure)),A},a.Actor=Xl,a.AlphaImage=Ml,a.CanonicalTileID=Ll,a.CollisionBoxArray=Tt,a.Color=An,a.DEMData=tl,a.DataConstantProperty=Tr,a.DictionaryCoder=ec,a.EXTENT=Xr,a.ErrorEvent=Fe,a.EvaluationParameters=Ur,a.Event=Re,a.Evented=et,a.FeatureIndex=nl,a.FillBucket=Ss,a.FillExtrusionBucket=Es,a.ImageAtlas=pu,a.ImagePosition=Gu,a.LineBucket=Va,a.LngLat=Li,a.LngLatBounds=Xi,a.MercatorCoordinate=El,a.ONE_EM=da,a.OverscaledTileID=Ji,a.Point=t,a.Point$1=t,a.Properties=Ei,a.Protobuf=Hu,a.RGBAImage=to,a.RequestManager=ve,a.RequestPerformance=hh,a.ResourceType=vt,a.SegmentVector=Nn,a.SourceFeatureState=Jl,a.StructArrayLayout1ui2=ft,a.StructArrayLayout2f1f2i16=ne,a.StructArrayLayout2i4=Po,a.StructArrayLayout3ui6=me,a.StructArrayLayout4i8=Qs,a.SymbolBucket=ci,a.Texture=Sl,a.Tile=ua,a.Transitionable=ja,a.Uniform1f=Nr,a.Uniform1i=Rr,a.Uniform2f=Vr,a.Uniform3f=ui,a.Uniform4f=ki,a.UniformColor=ea,a.UniformMatrix4f=Yi,a.UnwrappedTileID=uh,a.ValidationError=ct,a.WritingMode=zo,a.ZoomHistory=as,a.add=function(A,I,Z){return A[0]=I[0]+Z[0],A[1]=I[1]+Z[1],A[2]=I[2]+Z[2],A},a.addDynamicAttributes=Nc,a.asyncAll=function(A,I,Z){if(!A.length)return Z(null,[]);var le=A.length,ke=new Array(A.length),Oe=null;A.forEach(function(Be,Je){I(Be,function(ot,mt){ot&&(Oe=ot),ke[Je]=mt,0==--le&&Z(Oe,ke)})})},a.bezier=o,a.bindAll=y,a.browser=W,a.cacheEntryPossiblyAdded=function(A){++ht>De&&(A.getActor().send("enforceCacheSizeLimit",Ce),ht=0)},a.clamp=u,a.clearTileCache=function(A){var I=n.caches.delete(Te);A&&I.catch(A).then(function(){return A()})},a.clipLine=Zf,a.clone=function(A){var I=new Io(16);return I[0]=A[0],I[1]=A[1],I[2]=A[2],I[3]=A[3],I[4]=A[4],I[5]=A[5],I[6]=A[6],I[7]=A[7],I[8]=A[8],I[9]=A[9],I[10]=A[10],I[11]=A[11],I[12]=A[12],I[13]=A[13],I[14]=A[14],I[15]=A[15],I},a.clone$1=S,a.clone$2=function(A){var I=new Io(3);return I[0]=A[0],I[1]=A[1],I[2]=A[2],I},a.collisionCircleLayout=Pp,a.config=J,a.create=function(){var A=new Io(16);return Io!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=0,A[12]=0,A[13]=0,A[14]=0),A[0]=1,A[5]=1,A[10]=1,A[15]=1,A},a.create$1=function(){var A=new Io(9);return Io!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[5]=0,A[6]=0,A[7]=0),A[0]=1,A[4]=1,A[8]=1,A},a.create$2=function(){var A=new Io(4);return Io!=Float32Array&&(A[1]=0,A[2]=0),A[0]=1,A[3]=1,A},a.createCommonjsModule=T,a.createExpression=so,a.createLayout=pi,a.createStyleLayer=function(A){return"custom"===A.type?new cd(A):new fd[A.type](A)},a.cross=function(A,I,Z){var le=I[0],ke=I[1],Oe=I[2],Be=Z[0],Je=Z[1],ot=Z[2];return A[0]=ke*ot-Oe*Je,A[1]=Oe*Be-le*ot,A[2]=le*Je-ke*Be,A},a.deepEqual=function A(I,Z){if(Array.isArray(I)){if(!Array.isArray(Z)||I.length!==Z.length)return!1;for(var le=0;le<I.length;le++)if(!A(I[le],Z[le]))return!1;return!0}if("object"==typeof I&&null!==I&&null!==Z){if("object"!=typeof Z||Object.keys(I).length!==Object.keys(Z).length)return!1;for(var ke in I)if(!A(I[ke],Z[ke]))return!1;return!0}return I===Z},a.dot=function(A,I){return A[0]*I[0]+A[1]*I[1]+A[2]*I[2]},a.dot$1=function(A,I){return A[0]*I[0]+A[1]*I[1]+A[2]*I[2]+A[3]*I[3]},a.ease=l,a.emitValidationErrors=aa,a.endsWith=v,a.enforceCacheSizeLimit=function(A){Ue(),he&&he.then(function(I){I.keys().then(function(Z){for(var le=0;le<Z.length-A;le++)I.delete(Z[le])})})},a.evaluateSizeForFeature=Nf,a.evaluateSizeForZoom=jf,a.evaluateVariableOffset=Xf,a.evented=sa,a.extend=c,a.featureFilter=ys,a.filterObject=f,a.fromRotation=function(A,I){var Z=Math.sin(I),le=Math.cos(I);return A[0]=le,A[1]=Z,A[2]=0,A[3]=-Z,A[4]=le,A[5]=0,A[6]=0,A[7]=0,A[8]=1,A},a.getAnchorAlignment=Dc,a.getAnchorJustification=Bc,a.getArrayBuffer=Pt,a.getImage=Ge,a.getJSON=function(A,I){return Ot(c(A,{type:"json"}),I)},a.getRTLTextPluginStatus=os,a.getReferrer=nt,a.getVideo=function(A,I){var Z,le,ke=n.document.createElement("video");ke.muted=!0,ke.onloadstart=function(){I(null,ke)};for(var Oe=0;Oe<A.length;Oe++){var Be=n.document.createElement("source");Z=A[Oe],le=void 0,(le=n.document.createElement("a")).href=Z,le.protocol===n.document.location.protocol&&le.host===n.document.location.host||(ke.crossOrigin="Anonymous"),Be.src=A[Oe],ke.appendChild(Be)}return{cancel:function(){}}},a.identity=_c,a.invert=function(A,I){var Z=I[0],le=I[1],ke=I[2],Oe=I[3],Be=I[4],Je=I[5],ot=I[6],mt=I[7],_t=I[8],zt=I[9],jt=I[10],Rt=I[11],tn=I[12],rn=I[13],Tn=I[14],bn=I[15],zn=Z*Je-le*Be,Dn=Z*ot-ke*Be,jn=Z*mt-Oe*Be,Gn=le*ot-ke*Je,Kn=le*mt-Oe*Je,pr=ke*mt-Oe*ot,ur=_t*rn-zt*tn,mr=_t*Tn-jt*tn,xr=_t*bn-Rt*tn,zr=zt*Tn-jt*rn,Sr=zt*bn-Rt*rn,Pr=jt*bn-Rt*Tn,Lr=zn*Pr-Dn*Sr+jn*zr+Gn*xr-Kn*mr+pr*ur;return Lr?(Lr=1/Lr,A[0]=(Je*Pr-ot*Sr+mt*zr)*Lr,A[1]=(ke*Sr-le*Pr-Oe*zr)*Lr,A[2]=(rn*pr-Tn*Kn+bn*Gn)*Lr,A[3]=(jt*Kn-zt*pr-Rt*Gn)*Lr,A[4]=(ot*xr-Be*Pr-mt*mr)*Lr,A[5]=(Z*Pr-ke*xr+Oe*mr)*Lr,A[6]=(Tn*jn-tn*pr-bn*Dn)*Lr,A[7]=(_t*pr-jt*jn+Rt*Dn)*Lr,A[8]=(Be*Sr-Je*xr+mt*ur)*Lr,A[9]=(le*xr-Z*Sr-Oe*ur)*Lr,A[10]=(tn*Kn-rn*jn+bn*zn)*Lr,A[11]=(zt*jn-_t*Kn-Rt*zn)*Lr,A[12]=(Je*mr-Be*zr-ot*ur)*Lr,A[13]=(Z*zr-le*mr+ke*ur)*Lr,A[14]=(rn*Dn-tn*Gn-Tn*zn)*Lr,A[15]=(_t*Gn-zt*Dn+jt*zn)*Lr,A):null},a.isChar=dr,a.isMapboxURL=be,a.keysDifference=function(A,I){var Z=[];for(var le in A)le in I||Z.push(le);return Z},a.makeRequest=Ot,a.mapObject=_,a.mercatorXfromLng=oh,a.mercatorYfromLat=sh,a.mercatorZfromAltitude=lh,a.mul=Vh,a.multiply=sf,a.mvt=Bl,a.nextPowerOfTwo=function(A){return A<=1?1:Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))},a.normalize=function(A,I){var Z=I[0],le=I[1],ke=I[2],Oe=Z*Z+le*le+ke*ke;return Oe>0&&(Oe=1/Math.sqrt(Oe)),A[0]=I[0]*Oe,A[1]=I[1]*Oe,A[2]=I[2]*Oe,A},a.number=Ir,a.offscreenCanvasSupported=bt,a.ortho=function(A,I,Z,le,ke,Oe,Be){var Je=1/(I-Z),ot=1/(le-ke),mt=1/(Oe-Be);return A[0]=-2*Je,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=-2*ot,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=2*mt,A[11]=0,A[12]=(I+Z)*Je,A[13]=(ke+le)*ot,A[14]=(Be+Oe)*mt,A[15]=1,A},a.parseGlyphPBF=function(A){return new Hu(A).readFields(Hp,[])},a.pbf=Hu,a.performSymbolLayout=function(A,I,Z,le,ke,Oe,Be){A.createArrays();var Je=512*A.overscaling;A.tilePixelRatio=Xr/Je,A.compareText={},A.iconsNeedLinear=!1;var ot=A.layers[0].layout,mt=A.layers[0]._unevaluatedLayout._values,_t={};if("composite"===A.textSizeData.kind){var zt=A.textSizeData,jt=zt.minZoom,Rt=zt.maxZoom;_t.compositeTextSizes=[mt["text-size"].possiblyEvaluate(new Ur(jt),Be),mt["text-size"].possiblyEvaluate(new Ur(Rt),Be)]}if("composite"===A.iconSizeData.kind){var tn=A.iconSizeData,rn=tn.minZoom,Tn=tn.maxZoom;_t.compositeIconSizes=[mt["icon-size"].possiblyEvaluate(new Ur(rn),Be),mt["icon-size"].possiblyEvaluate(new Ur(Tn),Be)]}_t.layoutTextSize=mt["text-size"].possiblyEvaluate(new Ur(A.zoom+1),Be),_t.layoutIconSize=mt["icon-size"].possiblyEvaluate(new Ur(A.zoom+1),Be),_t.textMaxSize=mt["text-size"].possiblyEvaluate(new Ur(18));for(var bn=ot.get("text-line-height")*da,zn="map"===ot.get("text-rotation-alignment")&&"point"!==ot.get("symbol-placement"),Dn=ot.get("text-keep-upright"),jn=ot.get("text-size"),Gn=function(){var ur=pr[Kn],mr=ot.get("text-font").evaluate(ur,{},Be).join(","),xr=jn.evaluate(ur,{},Be),zr=_t.layoutTextSize.evaluate(ur,{},Be),Sr=_t.layoutIconSize.evaluate(ur,{},Be),Pr={horizontal:{},vertical:void 0},Lr=ur.text,Ar=[0,0];if(Lr){var Yr=Lr.toString(),Fr=ot.get("text-letter-spacing").evaluate(ur,{},Be)*da,vi=function(Br){for(var Jr=0,Ni=Br;Jr<Ni.length;Jr+=1)if(gi=Ni[Jr].charCodeAt(0),dr.Arabic(gi)||dr["Arabic Supplement"](gi)||dr["Arabic Extended-A"](gi)||dr["Arabic Presentation Forms-A"](gi)||dr["Arabic Presentation Forms-B"](gi))return!1;var gi;return!0}(Yr)?Fr:0,Or=ot.get("text-anchor").evaluate(ur,{},Be),fi=ot.get("text-variable-anchor");if(!fi){var wi=ot.get("text-radial-offset").evaluate(ur,{},Be);Ar=wi?Xf(Or,[wi*da,Fc]):ot.get("text-offset").evaluate(ur,{},Be).map(function(Br){return Br*da})}var Mi=zn?"center":ot.get("text-justify").evaluate(ur,{},Be),Si=ot.get("symbol-placement"),mi="point"===Si?ot.get("text-max-width").evaluate(ur,{},Be)*da:0,Ki=function(){A.allowVerticalPlacement&&ks(Yr)&&(Pr.vertical=Zu(Lr,I,Z,ke,mr,mi,bn,Or,"left",vi,Ar,zo.vertical,!0,Si,zr,xr))};if(!zn&&fi){for(var Pi="auto"===Mi?fi.map(function(Br){return Bc(Br)}):[Mi],ca=!1,Ta=0;Ta<Pi.length;Ta++){var ga=Pi[Ta];if(!Pr.horizontal[ga])if(ca)Pr.horizontal[ga]=Pr.horizontal[0];else{var Ha=Zu(Lr,I,Z,ke,mr,mi,bn,"center",ga,vi,Ar,zo.horizontal,!1,Si,zr,xr);Ha&&(Pr.horizontal[ga]=Ha,ca=1===Ha.positionedLines.length)}}Ki()}else{"auto"===Mi&&(Mi=Bc(Or));var va=Zu(Lr,I,Z,ke,mr,mi,bn,Or,Mi,vi,Ar,zo.horizontal,!1,Si,zr,xr);va&&(Pr.horizontal[Mi]=va),Ki(),ks(Yr)&&zn&&Dn&&(Pr.vertical=Zu(Lr,I,Z,ke,mr,mi,bn,Or,Mi,vi,Ar,zo.vertical,!1,Si,zr,xr))}}var Br,Jr,Ni,gi,zi,Ci,ei,ji,qa,vo,Oa,ta=void 0,ma=!1;if(ur.icon&&ur.icon.name){var fa=le[ur.icon.name];fa&&(Br=ke[ur.icon.name],Jr=ot.get("icon-offset").evaluate(ur,{},Be),Ni=ot.get("icon-anchor").evaluate(ur,{},Be),gi=Dc(Ni),zi=gi.horizontalAlign,Ci=gi.verticalAlign,ei=Jr[0],ji=Jr[1],qa=ei-Br.displaySize[0]*zi,vo=qa+Br.displaySize[0],Oa=ji-Br.displaySize[1]*Ci,ta={image:Br,top:Oa,bottom:Oa+Br.displaySize[1],left:qa,right:vo},ma=fa.sdf,void 0===A.sdfIcons?A.sdfIcons=fa.sdf:A.sdfIcons!==fa.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(fa.pixelRatio!==A.pixelRatio||0!==ot.get("icon-rotate").constantOr(1))&&(A.iconsNeedLinear=!0))}var na=Kf(Pr.horizontal)||Pr.vertical;A.iconsInText=!!na&&na.iconsInText,(na||ta)&&function(Br,Jr,Ni,gi,zi,Ci,ei,ji,qa,vo,Oa){var Cs=Ci.textMaxSize.evaluate(Jr,{});void 0===Cs&&(Cs=ei);var rl,ha=Br.layers[0].layout,Os=ha.get("icon-offset").evaluate(Jr,{},Oa),hs=Kf(Ni.horizontal),ps=24,Cl=ei/ps,nc=Br.tilePixelRatio*Cl,Ol=Br.tilePixelRatio*Cs/ps,rc=Br.tilePixelRatio*ji,yu=Br.tilePixelRatio*ha.get("symbol-spacing"),qc=ha.get("text-padding")*Br.tilePixelRatio,ic=ha.get("icon-padding")*Br.tilePixelRatio,Kl=ha.get("text-max-angle")/180*Math.PI,ac="map"===ha.get("text-rotation-alignment")&&"point"!==ha.get("symbol-placement"),oc="map"===ha.get("icon-rotation-alignment")&&"point"!==ha.get("symbol-placement"),xu=ha.get("symbol-placement"),Gc=yu/2,bu=ha.get("icon-text-fit");gi&&"none"!==bu&&(Br.allowVerticalPlacement&&Ni.vertical&&(rl=Bf(gi,Ni.vertical,bu,ha.get("icon-text-fit-padding"),Os,Cl)),hs&&(gi=Bf(gi,hs,bu,ha.get("icon-text-fit-padding"),Os,Cl)));var Pl=function(pd,Mu){Mu.x<0||Mu.x>=Xr||Mu.y<0||Mu.y>=Xr||function(Gi,Ps,dd,yl,Kc,mh,fc,Zs,hc,Su,pc,dc,$c,yh,Eu,xh,bh,_h,wh,Th,Do,gc,kh,Ys,gd){var Ah,Dl,eu,tu,nu,ru=Gi.addToLineVertexArray(Ps,dd),Mh=0,Sh=0,Eh=0,Lh=0,Qc=-1,ef=-1,il={},Ch=gr(""),tf=0,nf=0;if(void 0===Zs._unevaluatedLayout.getValue("text-radial-offset")?(tf=(Ah=Zs.layout.get("text-offset").evaluate(Do,{},Ys).map(function(Cu){return Cu*da}))[0],nf=Ah[1]):(tf=Zs.layout.get("text-radial-offset").evaluate(Do,{},Ys)*da,nf=Fc),Gi.allowVerticalPlacement&&yl.vertical){var Oh=Zs.layout.get("text-rotate").evaluate(Do,{},Ys)+90,vd=yl.vertical;tu=new Ku(hc,Ps,Su,pc,dc,vd,$c,yh,Eu,Oh),fc&&(nu=new Ku(hc,Ps,Su,pc,dc,fc,bh,_h,Eu,Oh))}if(Kc){var rf=Zs.layout.get("icon-rotate").evaluate(Do,{}),Ph="none"!==Zs.layout.get("icon-text-fit"),Ih=Yf(Kc,rf,kh,Ph),af=fc?Yf(fc,rf,kh,Ph):void 0;eu=new Ku(hc,Ps,Su,pc,dc,Kc,bh,_h,!1,rf),Mh=4*Ih.length;var zh=Gi.iconSizeData,Lu=null;"source"===zh.kind?(Lu=[Ls*Zs.layout.get("icon-size").evaluate(Do,{})])[0]>vl&&E(Gi.layerIds[0]+': Value for "icon-size" is >= '+gu+'. Reduce your "icon-size".'):"composite"===zh.kind&&((Lu=[Ls*gc.compositeIconSizes[0].evaluate(Do,{},Ys),Ls*gc.compositeIconSizes[1].evaluate(Do,{},Ys)])[0]>vl||Lu[1]>vl)&&E(Gi.layerIds[0]+': Value for "icon-size" is >= '+gu+'. Reduce your "icon-size".'),Gi.addSymbols(Gi.icon,Ih,Lu,Th,wh,Do,!1,Ps,ru.lineStartIndex,ru.lineLength,-1,Ys),Qc=Gi.icon.placedSymbolArray.length-1,af&&(Sh=4*af.length,Gi.addSymbols(Gi.icon,af,Lu,Th,wh,Do,zo.vertical,Ps,ru.lineStartIndex,ru.lineLength,-1,Ys),ef=Gi.icon.placedSymbolArray.length-1)}for(var Dh in yl.horizontal){var vc=yl.horizontal[Dh];if(!Dl){Ch=gr(vc.text);var md=Zs.layout.get("text-rotate").evaluate(Do,{},Ys);Dl=new Ku(hc,Ps,Su,pc,dc,vc,$c,yh,Eu,md)}var Rh=1===vc.positionedLines.length;if(Eh+=Jf(Gi,Ps,vc,mh,Zs,Eu,Do,xh,ru,yl.vertical?zo.horizontal:zo.horizontalOnly,Rh?Object.keys(yl.horizontal):[Dh],il,Qc,gc,Ys),Rh)break}yl.vertical&&(Lh+=Jf(Gi,Ps,yl.vertical,mh,Zs,Eu,Do,xh,ru,zo.vertical,["vertical"],il,ef,gc,Ys));var yd=Dl?Dl.boxStartIndex:Gi.collisionBoxArray.length,xd=Dl?Dl.boxEndIndex:Gi.collisionBoxArray.length,bd=tu?tu.boxStartIndex:Gi.collisionBoxArray.length,_d=tu?tu.boxEndIndex:Gi.collisionBoxArray.length,wd=eu?eu.boxStartIndex:Gi.collisionBoxArray.length,Td=eu?eu.boxEndIndex:Gi.collisionBoxArray.length,kd=nu?nu.boxStartIndex:Gi.collisionBoxArray.length,Ad=nu?nu.boxEndIndex:Gi.collisionBoxArray.length,Ws=-1,mc=function(Cu,Bh){return Cu&&Cu.circleDiameter?Math.max(Cu.circleDiameter,Bh):Bh};Ws=mc(Dl,Ws),Ws=mc(tu,Ws),Ws=mc(eu,Ws);var Fh=(Ws=mc(nu,Ws))>-1?1:0;Fh&&(Ws*=gd/da),Gi.glyphOffsetArray.length>=ci.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Do.sortKey&&Gi.addToSortKeyRanges(Gi.symbolInstances.length,Do.sortKey),Gi.symbolInstances.emplaceBack(Ps.x,Ps.y,il.right>=0?il.right:-1,il.center>=0?il.center:-1,il.left>=0?il.left:-1,il.vertical||-1,Qc,ef,Ch,yd,xd,bd,_d,wd,Td,kd,Ad,Su,Eh,Lh,Mh,Sh,Fh,0,$c,tf,nf,Ws)}(Br,Mu,pd,Ni,gi,zi,rl,Br.layers[0],Br.collisionBoxArray,Jr.index,Jr.sourceLayerIndex,Br.index,nc,qc,ac,qa,rc,ic,oc,Os,Jr,Ci,vo,Oa,ei)};if("line"===xu)for(var $l=0,sc=Zf(Jr.geometry,0,0,Xr,Xr);$l<sc.length;$l+=1)for(var lc=sc[$l],Ql=0,uc=Jp(lc,yu,Kl,Ni.vertical||hs,gi,ps,Ol,Br.overscaling,Xr);Ql<uc.length;Ql+=1){var cc=uc[Ql];hs&&ed(Br,hs.text,Gc,cc)||Pl(lc,cc)}else if("line-center"===xu)for(var _u=0,wu=Jr.geometry;_u<wu.length;_u+=1){var Il=wu[_u];if(Il.length>1){var Tu=Xp(Il,Kl,Ni.vertical||hs,gi,ps,Ol);Tu&&Pl(Il,Tu)}}else if("Polygon"===Jr.type)for(var zl=0,ku=Ec(Jr.geometry,0);zl<ku.length;zl+=1){var Au=ku[zl],ph=$p(Au,16);Pl(Au[0],new Vl(ph.x,ph.y,0))}else if("LineString"===Jr.type)for(var Zc=0,dh=Jr.geometry;Zc<dh.length;Zc+=1){var Yc=dh[Zc];Pl(Yc,new Vl(Yc[0].x,Yc[0].y,0))}else if("Point"===Jr.type)for(var Wc=0,gh=Jr.geometry;Wc<gh.length;Wc+=1)for(var Xc=0,vh=gh[Wc];Xc<vh.length;Xc+=1){var Jc=vh[Xc];Pl([Jc],new Vl(Jc.x,Jc.y,0))}}(A,ur,Pr,ta,le,_t,zr,Sr,Ar,ma,Be)},Kn=0,pr=A.features;Kn<pr.length;Kn+=1)Gn();Oe&&A.generateCollisionDebugBuffers()},a.perspective=function(A,I,Z,le,ke){var Oe,Be=1/Math.tan(I/2);return A[0]=Be/Z,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=Be,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=-1,A[12]=0,A[13]=0,A[15]=0,null!=ke&&ke!==1/0?(Oe=1/(le-ke),A[10]=(ke+le)*Oe,A[14]=2*ke*le*Oe):(A[10]=-1,A[14]=-2*le),A},a.pick=function(A,I){for(var Z={},le=0;le<I.length;le++){var ke=I[le];ke in A&&(Z[ke]=A[ke])}return Z},a.plugin=la,a.polygonIntersectsPolygon=Al,a.postMapLoadEvent=xe,a.postTurnstileEvent=Ie,a.potpack=If,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=br,a.registerForPluginStateChange=function(A){return A({pluginStatus:Hr,pluginURL:Hi}),sa.on("pluginStateChange",A),A},a.renderColorRamp=ff,a.rotate=function(A,I,Z){var le=I[0],ke=I[1],Oe=I[2],Be=I[3],Je=Math.sin(Z),ot=Math.cos(Z);return A[0]=le*ot+Oe*Je,A[1]=ke*ot+Be*Je,A[2]=le*-Je+Oe*ot,A[3]=ke*-Je+Be*ot,A},a.rotateX=function(A,I,Z){var le=Math.sin(Z),ke=Math.cos(Z),Oe=I[4],Be=I[5],Je=I[6],ot=I[7],mt=I[8],_t=I[9],zt=I[10],jt=I[11];return I!==A&&(A[0]=I[0],A[1]=I[1],A[2]=I[2],A[3]=I[3],A[12]=I[12],A[13]=I[13],A[14]=I[14],A[15]=I[15]),A[4]=Oe*ke+mt*le,A[5]=Be*ke+_t*le,A[6]=Je*ke+zt*le,A[7]=ot*ke+jt*le,A[8]=mt*ke-Oe*le,A[9]=_t*ke-Be*le,A[10]=zt*ke-Je*le,A[11]=jt*ke-ot*le,A},a.rotateZ=function(A,I,Z){var le=Math.sin(Z),ke=Math.cos(Z),Oe=I[0],Be=I[1],Je=I[2],ot=I[3],mt=I[4],_t=I[5],zt=I[6],jt=I[7];return I!==A&&(A[8]=I[8],A[9]=I[9],A[10]=I[10],A[11]=I[11],A[12]=I[12],A[13]=I[13],A[14]=I[14],A[15]=I[15]),A[0]=Oe*ke+mt*le,A[1]=Be*ke+_t*le,A[2]=Je*ke+zt*le,A[3]=ot*ke+jt*le,A[4]=mt*ke-Oe*le,A[5]=_t*ke-Be*le,A[6]=zt*ke-Je*le,A[7]=jt*ke-ot*le,A},a.scale=function(A,I,Z){var le=Z[0],ke=Z[1],Oe=Z[2];return A[0]=I[0]*le,A[1]=I[1]*le,A[2]=I[2]*le,A[3]=I[3]*le,A[4]=I[4]*ke,A[5]=I[5]*ke,A[6]=I[6]*ke,A[7]=I[7]*ke,A[8]=I[8]*Oe,A[9]=I[9]*Oe,A[10]=I[10]*Oe,A[11]=I[11]*Oe,A[12]=I[12],A[13]=I[13],A[14]=I[14],A[15]=I[15],A},a.scale$1=function(A,I,Z){return A[0]=I[0]*Z,A[1]=I[1]*Z,A[2]=I[2]*Z,A[3]=I[3]*Z,A},a.scale$2=function(A,I,Z){return A[0]=I[0]*Z,A[1]=I[1]*Z,A[2]=I[2]*Z,A},a.setCacheLimits=function(A,I){Ce=A,De=I},a.setRTLTextPlugin=function(A,I,Z){if(void 0===Z&&(Z=!1),Hr===Ja||Hr===La||Hr===co)throw new Error("setRTLTextPlugin cannot be called multiple times.");Hi=W.resolveURL(A),Hr=Ja,Oo=I,Ka(),Z||ss()},a.sphericalToCartesian=function(A){var I=A[0],Z=A[1],le=A[2];return Z+=90,Z*=Math.PI/180,le*=Math.PI/180,{x:I*Math.cos(Z)*Math.sin(le),y:I*Math.sin(Z)*Math.sin(le),z:I*Math.cos(le)}},a.sqrLen=qh,a.styleSpec=We,a.sub=Hh,a.symbolSize=Wp,a.transformMat3=function(A,I,Z){var le=I[0],ke=I[1],Oe=I[2];return A[0]=le*Z[0]+ke*Z[3]+Oe*Z[6],A[1]=le*Z[1]+ke*Z[4]+Oe*Z[7],A[2]=le*Z[2]+ke*Z[5]+Oe*Z[8],A},a.transformMat4=Bu,a.translate=function(A,I,Z){var le,ke,Oe,Be,Je,ot,mt,_t,zt,jt,Rt,tn,rn=Z[0],Tn=Z[1],bn=Z[2];return I===A?(A[12]=I[0]*rn+I[4]*Tn+I[8]*bn+I[12],A[13]=I[1]*rn+I[5]*Tn+I[9]*bn+I[13],A[14]=I[2]*rn+I[6]*Tn+I[10]*bn+I[14],A[15]=I[3]*rn+I[7]*Tn+I[11]*bn+I[15]):(le=I[0],ke=I[1],Oe=I[2],Be=I[3],Je=I[4],ot=I[5],mt=I[6],_t=I[7],zt=I[8],jt=I[9],Rt=I[10],tn=I[11],A[0]=le,A[1]=ke,A[2]=Oe,A[3]=Be,A[4]=Je,A[5]=ot,A[6]=mt,A[7]=_t,A[8]=zt,A[9]=jt,A[10]=Rt,A[11]=tn,A[12]=le*rn+Je*Tn+zt*bn+I[12],A[13]=ke*rn+ot*Tn+jt*bn+I[13],A[14]=Oe*rn+mt*Tn+Rt*bn+I[14],A[15]=Be*rn+_t*Tn+tn*bn+I[15]),A},a.triggerPluginCompletionEvent=oa,a.uniqueId=g,a.validateCustomStyleLayer=function(A){var I=[],Z=A.id;return void 0===Z&&I.push({message:"layers."+Z+': missing required property "id"'}),void 0===A.render&&I.push({message:"layers."+Z+': missing required method "render"'}),A.renderingMode&&"2d"!==A.renderingMode&&"3d"!==A.renderingMode&&I.push({message:"layers."+Z+': property "renderingMode" must be either "2d" or "3d"'}),I},a.validateLight=Yo,a.validateStyle=Xa,a.values=function(A){var I=[];for(var Z in A)I.push(A[Z]);return I},a.vectorTile=Bl,a.version=b,a.warnOnce=E,a.webpSupported=Q,a.window=n,a.wrap=d}),k(0,function(a){function T(qe){var Ze=typeof qe;if("number"===Ze||"boolean"===Ze||"string"===Ze||null==qe)return JSON.stringify(qe);if(Array.isArray(qe)){for(var Ne="[",Ge=0,rt=qe;Ge<rt.length;Ge+=1)Ne+=T(rt[Ge])+",";return Ne+"]"}for(var tt=Object.keys(qe).sort(),Re="{",Fe=0;Fe<tt.length;Fe++)Re+=JSON.stringify(tt[Fe])+":"+T(qe[tt[Fe]])+",";return Re+"}"}function b(qe){for(var Ze="",Ne=0,Ge=a.refProperties;Ne<Ge.length;Ne+=1)Ze+="/"+T(qe[Ge[Ne]]);return Ze}var p=function(qe){this.keyCache={},qe&&this.replace(qe)};p.prototype.replace=function(qe){this._layerConfigs={},this._layers={},this.update(qe,[])},p.prototype.update=function(qe,Ze){for(var Ne=this,Ge=0,rt=qe;Ge<rt.length;Ge+=1){var tt=rt[Ge];this._layerConfigs[tt.id]=tt;var Re=this._layers[tt.id]=a.createStyleLayer(tt);Re._featureFilter=a.featureFilter(Re.filter),this.keyCache[tt.id]&&delete this.keyCache[tt.id]}for(var Fe=0,et=Ze;Fe<et.length;Fe+=1){var We=et[Fe];delete this.keyCache[We],delete this._layerConfigs[We],delete this._layers[We]}this.familiesBySource={};for(var ct=0,pt=function(Lt,It){for(var qt={},Qt=0;Qt<Lt.length;Qt++){var Vt=It&&It[Lt[Qt].id]||b(Lt[Qt]);It&&(It[Lt[Qt].id]=Vt);var Ft=qt[Vt];Ft||(Ft=qt[Vt]=[]),Ft.push(Lt[Qt])}var en=[];for(var wn in qt)en.push(qt[wn]);return en}(a.values(this._layerConfigs),this.keyCache);ct<pt.length;ct+=1){var dt=pt[ct].map(function(Lt){return Ne._layers[Lt.id]}),ut=dt[0];if("none"!==ut.visibility){var kt=ut.source||"",yt=this.familiesBySource[kt];yt||(yt=this.familiesBySource[kt]={});var gt=ut.sourceLayer||"_geojsonTileLayer",At=yt[gt];At||(At=yt[gt]=[]),At.push(dt)}}};var s=function(qe){var Ze={},Ne=[];for(var Ge in qe){var rt=qe[Ge],tt=Ze[Ge]={};for(var Re in rt){var Fe=rt[+Re];if(Fe&&0!==Fe.bitmap.width&&0!==Fe.bitmap.height){var et={x:0,y:0,w:Fe.bitmap.width+2,h:Fe.bitmap.height+2};Ne.push(et),tt[Re]={rect:et,metrics:Fe.metrics}}}}var We=a.potpack(Ne),ct=We.w,pt=We.h,dt=new a.AlphaImage({width:ct||1,height:pt||1});for(var ut in qe){var kt=qe[ut];for(var yt in kt){var gt=kt[+yt];if(gt&&0!==gt.bitmap.width&&0!==gt.bitmap.height){var At=Ze[ut][yt].rect;a.AlphaImage.copy(gt.bitmap,dt,{x:0,y:0},{x:At.x+1,y:At.y+1},gt.bitmap)}}}this.image=dt,this.positions=Ze};a.register("GlyphAtlas",s);var t=function(qe){this.tileID=new a.OverscaledTileID(qe.tileID.overscaledZ,qe.tileID.wrap,qe.tileID.canonical.z,qe.tileID.canonical.x,qe.tileID.canonical.y),this.uid=qe.uid,this.zoom=qe.zoom,this.pixelRatio=qe.pixelRatio,this.tileSize=qe.tileSize,this.source=qe.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=qe.showCollisionBoxes,this.collectResourceTiming=!!qe.collectResourceTiming,this.returnDependencies=!!qe.returnDependencies,this.promoteId=qe.promoteId};function i(qe,Ze,Ne){for(var Ge=new a.EvaluationParameters(Ze),rt=0,tt=qe;rt<tt.length;rt+=1)tt[rt].recalculate(Ge,Ne)}function n(qe,Ze){var Ne=a.getArrayBuffer(qe.request,function(Ge,rt,tt,Re){Ge?Ze(Ge):rt&&Ze(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(rt)),rawData:rt,cacheControl:tt,expires:Re})});return function(){Ne.cancel(),Ze()}}t.prototype.parse=function(qe,Ze,Ne,Ge,rt){var tt=this;this.status="parsing",this.data=qe,this.collisionBoxArray=new a.CollisionBoxArray;var Re=new a.DictionaryCoder(Object.keys(qe.layers).sort()),Fe=new a.FeatureIndex(this.tileID,this.promoteId);Fe.bucketLayerIDs=[];var et,We,ct,pt,dt={},ut={featureIndex:Fe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ne},kt=Ze.familiesBySource[this.source];for(var yt in kt){var gt=qe.layers[yt];if(gt){1===gt.version&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+yt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var At=Re.encode(yt),Lt=[],It=0;It<gt.length;It++){var qt=gt.feature(It),Qt=Fe.getId(qt,yt);Lt.push({feature:qt,id:Qt,index:It,sourceLayerIndex:At})}for(var Vt=0,Ft=kt[yt];Vt<Ft.length;Vt+=1){var en=Ft[Vt],wn=en[0];wn.minzoom&&this.zoom<Math.floor(wn.minzoom)||wn.maxzoom&&this.zoom>=wn.maxzoom||"none"!==wn.visibility&&(i(en,this.zoom,Ne),(dt[wn.id]=wn.createBucket({index:Fe.bucketLayerIDs.length,layers:en,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:At,sourceID:this.source})).populate(Lt,ut,this.tileID.canonical),Fe.bucketLayerIDs.push(en.map(function(Kt){return Kt.id})))}}}var kn=a.mapObject(ut.glyphDependencies,function(Kt){return Object.keys(Kt).map(Number)});Object.keys(kn).length?Ge.send("getGlyphs",{uid:this.uid,stacks:kn},function(Kt,an){et||(et=Kt,We=an,nn.call(tt))}):We={};var on=Object.keys(ut.iconDependencies);on.length?Ge.send("getImages",{icons:on,source:this.source,tileID:this.tileID,type:"icons"},function(Kt,an){et||(et=Kt,ct=an,nn.call(tt))}):ct={};var Ht=Object.keys(ut.patternDependencies);function nn(){if(et)return rt(et);if(We&&ct&&pt){var Kt=new s(We),an=new a.ImageAtlas(ct,pt);for(var xn in dt){var _n=dt[xn];_n instanceof a.SymbolBucket?(i(_n.layers,this.zoom,Ne),a.performSymbolLayout(_n,We,Kt.positions,ct,an.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):_n.hasPattern&&(_n instanceof a.LineBucket||_n instanceof a.FillBucket||_n instanceof a.FillExtrusionBucket)&&(i(_n.layers,this.zoom,Ne),_n.addFeatures(ut,this.tileID.canonical,an.patternPositions))}this.status="done",rt(null,{buckets:a.values(dt).filter(function(mn){return!mn.isEmpty()}),featureIndex:Fe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Kt.image,imageAtlas:an,glyphMap:this.returnDependencies?We:null,iconMap:this.returnDependencies?ct:null,glyphPositions:this.returnDependencies?Kt.positions:null})}}Ht.length?Ge.send("getImages",{icons:Ht,source:this.source,tileID:this.tileID,type:"patterns"},function(Kt,an){et||(et=Kt,pt=an,nn.call(tt))}):pt={},nn.call(this)};var r=function(qe,Ze,Ne,Ge){this.actor=qe,this.layerIndex=Ze,this.availableImages=Ne,this.loadVectorData=Ge||n,this.loading={},this.loaded={}};r.prototype.loadTile=function(qe,Ze){var Ne=this,Ge=qe.uid;this.loading||(this.loading={});var rt=!!(qe&&qe.request&&qe.request.collectResourceTiming)&&new a.RequestPerformance(qe.request),tt=this.loading[Ge]=new t(qe);tt.abort=this.loadVectorData(qe,function(Re,Fe){if(delete Ne.loading[Ge],Re||!Fe)return tt.status="done",Ne.loaded[Ge]=tt,Ze(Re);var et=Fe.rawData,We={};Fe.expires&&(We.expires=Fe.expires),Fe.cacheControl&&(We.cacheControl=Fe.cacheControl);var ct={};if(rt){var pt=rt.finish();pt&&(ct.resourceTiming=JSON.parse(JSON.stringify(pt)))}tt.vectorTile=Fe.vectorTile,tt.parse(Fe.vectorTile,Ne.layerIndex,Ne.availableImages,Ne.actor,function(dt,ut){if(dt||!ut)return Ze(dt);Ze(null,a.extend({rawTileData:et.slice(0)},ut,We,ct))}),Ne.loaded=Ne.loaded||{},Ne.loaded[Ge]=tt})},r.prototype.reloadTile=function(qe,Ze){var Ne=this,Ge=this.loaded,rt=qe.uid,tt=this;if(Ge&&Ge[rt]){var Re=Ge[rt];Re.showCollisionBoxes=qe.showCollisionBoxes;var Fe=function(et,We){var ct=Re.reloadCallback;ct&&(delete Re.reloadCallback,Re.parse(Re.vectorTile,tt.layerIndex,Ne.availableImages,tt.actor,ct)),Ze(et,We)};"parsing"===Re.status?Re.reloadCallback=Fe:"done"===Re.status&&(Re.vectorTile?Re.parse(Re.vectorTile,this.layerIndex,this.availableImages,this.actor,Fe):Fe())}},r.prototype.abortTile=function(qe,Ze){var Ne=this.loading,Ge=qe.uid;Ne&&Ne[Ge]&&Ne[Ge].abort&&(Ne[Ge].abort(),delete Ne[Ge]),Ze()},r.prototype.removeTile=function(qe,Ze){var Ne=this.loaded,Ge=qe.uid;Ne&&Ne[Ge]&&delete Ne[Ge],Ze()};var o=a.window.ImageBitmap,l=function(){this.loaded={}};l.prototype.loadTile=function(qe,Ze){var Ne=qe.uid,Ge=qe.encoding,rt=qe.rawImageData,tt=o&&rt instanceof o?this.getImageData(rt):rt,Re=new a.DEMData(Ne,tt,Ge);this.loaded=this.loaded||{},this.loaded[Ne]=Re,Ze(null,Re)},l.prototype.getImageData=function(qe){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(qe.width,qe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=qe.width,this.offscreenCanvas.height=qe.height,this.offscreenCanvasContext.drawImage(qe,0,0,qe.width,qe.height);var Ze=this.offscreenCanvasContext.getImageData(-1,-1,qe.width+2,qe.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:Ze.width,height:Ze.height},Ze.data)},l.prototype.removeTile=function(qe){var Ze=this.loaded,Ne=qe.uid;Ze&&Ze[Ne]&&delete Ze[Ne]};var u=function qe(Ze,Ne){var Ge,rt=Ze&&Ze.type;if("FeatureCollection"===rt)for(Ge=0;Ge<Ze.features.length;Ge++)qe(Ze.features[Ge],Ne);else if("GeometryCollection"===rt)for(Ge=0;Ge<Ze.geometries.length;Ge++)qe(Ze.geometries[Ge],Ne);else if("Feature"===rt)qe(Ze.geometry,Ne);else if("Polygon"===rt)d(Ze.coordinates,Ne);else if("MultiPolygon"===rt)for(Ge=0;Ge<Ze.coordinates.length;Ge++)d(Ze.coordinates[Ge],Ne);return Ze};function d(qe,Ze){if(0!==qe.length){c(qe[0],Ze);for(var Ne=1;Ne<qe.length;Ne++)c(qe[Ne],!Ze)}}function c(qe,Ze){for(var Ne=0,Ge=0,rt=qe.length,tt=rt-1;Ge<rt;tt=Ge++)Ne+=(qe[Ge][0]-qe[tt][0])*(qe[tt][1]+qe[Ge][1]);Ne>=0!=!!Ze&&qe.reverse()}var x=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,g=function(qe){this._feature=qe,this.extent=a.EXTENT,this.type=qe.type,this.properties=qe.tags,"id"in qe&&!isNaN(qe.id)&&(this.id=parseInt(qe.id,10))};g.prototype.loadGeometry=function(){if(1===this._feature.type){for(var qe=[],Ze=0,Ne=this._feature.geometry;Ze<Ne.length;Ze+=1){var Ge=Ne[Ze];qe.push([new a.Point$1(Ge[0],Ge[1])])}return qe}for(var rt=[],tt=0,Re=this._feature.geometry;tt<Re.length;tt+=1){for(var Fe=[],et=0,We=Re[tt];et<We.length;et+=1){var ct=We[et];Fe.push(new a.Point$1(ct[0],ct[1]))}rt.push(Fe)}return rt},g.prototype.toGeoJSON=function(qe,Ze,Ne){return x.call(this,qe,Ze,Ne)};var h=function(qe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=qe.length,this._features=qe};h.prototype.feature=function(qe){return new g(this._features[qe])};var m=a.vectorTile.VectorTileFeature,y=v;function v(qe,Ze){this.options=Ze||{},this.features=qe,this.length=qe.length}function _(qe,Ze){this.id="number"==typeof qe.id?qe.id:void 0,this.type=qe.type,this.rawGeometry=1===qe.type?[qe.geometry]:qe.geometry,this.properties=qe.tags,this.extent=Ze||4096}v.prototype.feature=function(qe){return new _(this.features[qe],this.options.extent)},_.prototype.loadGeometry=function(){var qe=this.rawGeometry;this.geometry=[];for(var Ze=0;Ze<qe.length;Ze++){for(var Ne=qe[Ze],Ge=[],rt=0;rt<Ne.length;rt++)Ge.push(new a.Point$1(Ne[rt][0],Ne[rt][1]));this.geometry.push(Ge)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var qe=this.geometry,Ze=1/0,Ne=-1/0,Ge=1/0,rt=-1/0,tt=0;tt<qe.length;tt++)for(var Re=qe[tt],Fe=0;Fe<Re.length;Fe++){var et=Re[Fe];Ze=Math.min(Ze,et.x),Ne=Math.max(Ne,et.x),Ge=Math.min(Ge,et.y),rt=Math.max(rt,et.y)}return[Ze,Ge,Ne,rt]},_.prototype.toGeoJSON=m.prototype.toGeoJSON;var f=C,S=C,w=function(qe,Ze){Ze=Ze||{};var Ne={};for(var Ge in qe)Ne[Ge]=new y(qe[Ge].features,Ze),Ne[Ge].name=Ge,Ne[Ge].version=Ze.version,Ne[Ge].extent=Ze.extent;return C({layers:Ne})},E=y;function C(qe){var Ze=new a.pbf;return function(Ne,Ge){for(var rt in Ne.layers)Ge.writeMessage(3,O,Ne.layers[rt])}(qe,Ze),Ze.finish()}function O(qe,Ze){var Ne;Ze.writeVarintField(15,qe.version||1),Ze.writeStringField(1,qe.name||""),Ze.writeVarintField(5,qe.extent||4096);var Ge={keys:[],values:[],keycache:{},valuecache:{}};for(Ne=0;Ne<qe.length;Ne++)Ge.feature=qe.feature(Ne),Ze.writeMessage(2,P,Ge);var rt=Ge.keys;for(Ne=0;Ne<rt.length;Ne++)Ze.writeStringField(3,rt[Ne]);var tt=Ge.values;for(Ne=0;Ne<tt.length;Ne++)Ze.writeMessage(4,Y,tt[Ne])}function P(qe,Ze){var Ne=qe.feature;void 0!==Ne.id&&Ze.writeVarintField(1,Ne.id),Ze.writeMessage(2,R,qe),Ze.writeVarintField(3,Ne.type),Ze.writeMessage(4,N,Ne)}function R(qe,Ze){var Ne=qe.feature,Ge=qe.keys,rt=qe.values,tt=qe.keycache,Re=qe.valuecache;for(var Fe in Ne.properties){var et=tt[Fe];void 0===et&&(Ge.push(Fe),et=Ge.length-1,tt[Fe]=et),Ze.writeVarint(et);var We=Ne.properties[Fe],ct=typeof We;"string"!==ct&&"boolean"!==ct&&"number"!==ct&&(We=JSON.stringify(We));var pt=ct+":"+We,dt=Re[pt];void 0===dt&&(rt.push(We),dt=rt.length-1,Re[pt]=dt),Ze.writeVarint(dt)}}function j(qe,Ze){return(Ze<<3)+(7&qe)}function z(qe){return qe<<1^qe>>31}function N(qe,Ze){for(var Ne=qe.loadGeometry(),Ge=qe.type,rt=0,tt=0,Re=Ne.length,Fe=0;Fe<Re;Fe++){var et=Ne[Fe],We=1;1===Ge&&(We=et.length),Ze.writeVarint(j(1,We));for(var ct=3===Ge?et.length-1:et.length,pt=0;pt<ct;pt++){1===pt&&1!==Ge&&Ze.writeVarint(j(2,ct-1));var dt=et[pt].x-rt,ut=et[pt].y-tt;Ze.writeVarint(z(dt)),Ze.writeVarint(z(ut)),rt+=dt,tt+=ut}3===Ge&&Ze.writeVarint(j(7,1))}}function Y(qe,Ze){var Ne=typeof qe;"string"===Ne?Ze.writeStringField(1,qe):"boolean"===Ne?Ze.writeBooleanField(7,qe):"number"===Ne&&(qe%1!=0?Ze.writeDoubleField(3,qe):qe<0?Ze.writeSVarintField(6,qe):Ze.writeVarintField(5,qe))}function F(qe,Ze,Ne,Ge,rt,tt){if(!(rt-Ge<=Ne)){var Re=Ge+rt>>1;U(qe,Ze,Re,Ge,rt,tt%2),F(qe,Ze,Ne,Ge,Re-1,tt+1),F(qe,Ze,Ne,Re+1,rt,tt+1)}}function U(qe,Ze,Ne,Ge,rt,tt){for(;rt>Ge;){if(rt-Ge>600){var Re=rt-Ge+1,Fe=Ne-Ge+1,et=Math.log(Re),We=.5*Math.exp(2*et/3),ct=.5*Math.sqrt(et*We*(Re-We)/Re)*(Fe-Re/2<0?-1:1);U(qe,Ze,Ne,Math.max(Ge,Math.floor(Ne-Fe*We/Re+ct)),Math.min(rt,Math.floor(Ne+(Re-Fe)*We/Re+ct)),tt)}var pt=Ze[2*Ne+tt],dt=Ge,ut=rt;for(V(qe,Ze,Ge,Ne),Ze[2*rt+tt]>pt&&V(qe,Ze,Ge,rt);dt<ut;){for(V(qe,Ze,dt,ut),dt++,ut--;Ze[2*dt+tt]<pt;)dt++;for(;Ze[2*ut+tt]>pt;)ut--}Ze[2*Ge+tt]===pt?V(qe,Ze,Ge,ut):V(qe,Ze,++ut,rt),ut<=Ne&&(Ge=ut+1),Ne<=ut&&(rt=ut-1)}}function V(qe,Ze,Ne,Ge){te(qe,Ne,Ge),te(Ze,2*Ne,2*Ge),te(Ze,2*Ne+1,2*Ge+1)}function te(qe,Ze,Ne){var Ge=qe[Ze];qe[Ze]=qe[Ne],qe[Ne]=Ge}function $(qe,Ze,Ne,Ge){var rt=qe-Ne,tt=Ze-Ge;return rt*rt+tt*tt}f.fromVectorTileJs=S,f.fromGeojsonVt=w,f.GeoJSONWrapper=E;var X=function(qe){return qe[0]},W=function(qe){return qe[1]},J=function(qe,Ze,Ne,Ge,rt){void 0===Ze&&(Ze=X),void 0===Ne&&(Ne=W),void 0===Ge&&(Ge=64),void 0===rt&&(rt=Float64Array),this.nodeSize=Ge,this.points=qe;for(var tt=qe.length<65536?Uint16Array:Uint32Array,Re=this.ids=new tt(qe.length),Fe=this.coords=new rt(2*qe.length),et=0;et<qe.length;et++)Re[et]=et,Fe[2*et]=Ze(qe[et]),Fe[2*et+1]=Ne(qe[et]);F(Re,Fe,Ge,0,Re.length-1,0)};J.prototype.range=function(qe,Ze,Ne,Ge){return function(rt,tt,Re,Fe,et,We,ct){for(var pt,dt,ut=[0,rt.length-1,0],kt=[];ut.length;){var yt=ut.pop(),gt=ut.pop(),At=ut.pop();if(gt-At<=ct)for(var Lt=At;Lt<=gt;Lt++)pt=tt[2*Lt],dt=tt[2*Lt+1],pt>=Re&&pt<=et&&dt>=Fe&&dt<=We&&kt.push(rt[Lt]);else{var It=Math.floor((At+gt)/2);pt=tt[2*It],dt=tt[2*It+1],pt>=Re&&pt<=et&&dt>=Fe&&dt<=We&&kt.push(rt[It]);var qt=(yt+1)%2;(0===yt?Re<=pt:Fe<=dt)&&(ut.push(At),ut.push(It-1),ut.push(qt)),(0===yt?et>=pt:We>=dt)&&(ut.push(It+1),ut.push(gt),ut.push(qt))}}return kt}(this.ids,this.coords,qe,Ze,Ne,Ge,this.nodeSize)},J.prototype.within=function(qe,Ze,Ne){return function(Ge,rt,tt,Re,Fe,et){for(var We=[0,Ge.length-1,0],ct=[],pt=Fe*Fe;We.length;){var dt=We.pop(),ut=We.pop(),kt=We.pop();if(ut-kt<=et)for(var yt=kt;yt<=ut;yt++)$(rt[2*yt],rt[2*yt+1],tt,Re)<=pt&&ct.push(Ge[yt]);else{var gt=Math.floor((kt+ut)/2),At=rt[2*gt],Lt=rt[2*gt+1];$(At,Lt,tt,Re)<=pt&&ct.push(Ge[gt]);var It=(dt+1)%2;(0===dt?tt-Fe<=At:Re-Fe<=Lt)&&(We.push(kt),We.push(gt-1),We.push(It)),(0===dt?tt+Fe>=At:Re+Fe>=Lt)&&(We.push(gt+1),We.push(ut),We.push(It))}}return ct}(this.ids,this.coords,qe,Ze,Ne,this.nodeSize)};var Q={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(qe){return qe}},re=function(qe){this.options=pe(Object.create(Q),qe),this.trees=new Array(this.options.maxZoom+1)};function ae(qe,Ze,Ne,Ge,rt){return{x:qe,y:Ze,zoom:1/0,id:Ne,parentId:-1,numPoints:Ge,properties:rt}}function oe(qe,Ze){var Ne=qe.geometry.coordinates,Ge=Ne[0],rt=Ne[1];return{x:be(Ge),y:de(rt),zoom:1/0,index:Ze,parentId:-1}}function ue(qe){return{type:"Feature",id:qe.id,properties:ve(qe),geometry:{type:"Point",coordinates:[(Ge=qe.x,360*(Ge-.5)),(Ze=qe.y,Ne=(180-360*Ze)*Math.PI/180,360*Math.atan(Math.exp(Ne))/Math.PI-90)]}};var Ze,Ne,Ge}function ve(qe){var Ze=qe.numPoints,Ne=Ze>=1e4?Math.round(Ze/1e3)+"k":Ze>=1e3?Math.round(Ze/100)/10+"k":Ze;return pe(pe({},qe.properties),{cluster:!0,cluster_id:qe.id,point_count:Ze,point_count_abbreviated:Ne})}function be(qe){return qe/360+.5}function de(qe){var Ze=Math.sin(qe*Math.PI/180),Ne=.5-.25*Math.log((1+Ze)/(1-Ze))/Math.PI;return Ne<0?0:Ne>1?1:Ne}function pe(qe,Ze){for(var Ne in Ze)qe[Ne]=Ze[Ne];return qe}function ge(qe){return qe.x}function Ae(qe){return qe.y}function ye(qe,Ze,Ne,Ge){for(var rt,tt=Ge,Re=Ne-Ze>>1,Fe=Ne-Ze,et=qe[Ze],We=qe[Ze+1],ct=qe[Ne],pt=qe[Ne+1],dt=Ze+3;dt<Ne;dt+=3){var ut=we(qe[dt],qe[dt+1],et,We,ct,pt);if(ut>tt)rt=dt,tt=ut;else if(ut===tt){var kt=Math.abs(dt-Re);kt<Fe&&(rt=dt,Fe=kt)}}tt>Ge&&(rt-Ze>3&&ye(qe,Ze,rt,Ge),qe[rt+2]=tt,Ne-rt>3&&ye(qe,rt,Ne,Ge))}function we(qe,Ze,Ne,Ge,rt,tt){var Re=rt-Ne,Fe=tt-Ge;if(0!==Re||0!==Fe){var et=((qe-Ne)*Re+(Ze-Ge)*Fe)/(Re*Re+Fe*Fe);et>1?(Ne=rt,Ge=tt):et>0&&(Ne+=Re*et,Ge+=Fe*et)}return(Re=qe-Ne)*Re+(Fe=Ze-Ge)*Fe}function se(qe,Ze,Ne,Ge){var rt={id:void 0===qe?null:qe,type:Ze,geometry:Ne,tags:Ge,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(tt){var Re=tt.geometry,Fe=tt.type;if("Point"===Fe||"MultiPoint"===Fe||"LineString"===Fe)ie(tt,Re);else if("Polygon"===Fe||"MultiLineString"===Fe)for(var et=0;et<Re.length;et++)ie(tt,Re[et]);else if("MultiPolygon"===Fe)for(et=0;et<Re.length;et++)for(var We=0;We<Re[et].length;We++)ie(tt,Re[et][We])}(rt),rt}function ie(qe,Ze){for(var Ne=0;Ne<Ze.length;Ne+=3)qe.minX=Math.min(qe.minX,Ze[Ne]),qe.minY=Math.min(qe.minY,Ze[Ne+1]),qe.maxX=Math.max(qe.maxX,Ze[Ne]),qe.maxY=Math.max(qe.maxY,Ze[Ne+1])}function he(qe,Ze,Ne,Ge){if(Ze.geometry){var rt=Ze.geometry.coordinates,tt=Ze.geometry.type,Re=Math.pow(Ne.tolerance/((1<<Ne.maxZoom)*Ne.extent),2),Fe=[],et=Ze.id;if(Ne.promoteId?et=Ze.properties[Ne.promoteId]:Ne.generateId&&(et=Ge||0),"Point"===tt)Se(rt,Fe);else if("MultiPoint"===tt)for(var We=0;We<rt.length;We++)Se(rt[We],Fe);else if("LineString"===tt)_e(rt,Fe,Re,!1);else if("MultiLineString"===tt){if(Ne.lineMetrics){for(We=0;We<rt.length;We++)Fe=[],_e(rt[We],Fe,Re,!1),qe.push(se(et,"LineString",Fe,Ze.properties));return}Me(rt,Fe,Re,!1)}else if("Polygon"===tt)Me(rt,Fe,Re,!0);else{if("MultiPolygon"!==tt){if("GeometryCollection"===tt){for(We=0;We<Ze.geometry.geometries.length;We++)he(qe,{id:et,geometry:Ze.geometry.geometries[We],properties:Ze.properties},Ne,Ge);return}throw new Error("Input data is not a valid GeoJSON object.")}for(We=0;We<rt.length;We++){var ct=[];Me(rt[We],ct,Re,!0),Fe.push(ct)}}qe.push(se(et,tt,Fe,Ze.properties))}}function Se(qe,Ze){Ze.push(Ee(qe[0])),Ze.push(Ie(qe[1])),Ze.push(0)}function _e(qe,Ze,Ne,Ge){for(var rt,tt,Re=0,Fe=0;Fe<qe.length;Fe++){var et=Ee(qe[Fe][0]),We=Ie(qe[Fe][1]);Ze.push(et),Ze.push(We),Ze.push(0),Fe>0&&(Re+=Ge?(rt*We-et*tt)/2:Math.sqrt(Math.pow(et-rt,2)+Math.pow(We-tt,2))),rt=et,tt=We}var ct=Ze.length-3;Ze[2]=1,ye(Ze,0,ct,Ne),Ze[ct+2]=1,Ze.size=Math.abs(Re),Ze.start=0,Ze.end=Ze.size}function Me(qe,Ze,Ne,Ge){for(var rt=0;rt<qe.length;rt++){var tt=[];_e(qe[rt],tt,Ne,Ge),Ze.push(tt)}}function Ee(qe){return qe/360+.5}function Ie(qe){var Ze=Math.sin(qe*Math.PI/180),Ne=.5-.25*Math.log((1+Ze)/(1-Ze))/Math.PI;return Ne<0?0:Ne>1?1:Ne}function fe(qe,Ze,Ne,Ge,rt,tt,Re,Fe){if(Ge/=Ze,tt>=(Ne/=Ze)&&Re<Ge)return qe;if(Re<Ne||tt>=Ge)return null;for(var et=[],We=0;We<qe.length;We++){var ct=qe[We],pt=ct.geometry,dt=ct.type,ut=0===rt?ct.minX:ct.minY,kt=0===rt?ct.maxX:ct.maxY;if(ut>=Ne&&kt<Ge)et.push(ct);else if(!(kt<Ne||ut>=Ge)){var yt=[];if("Point"===dt||"MultiPoint"===dt)xe(pt,yt,Ne,Ge,rt);else if("LineString"===dt)Te(pt,yt,Ne,Ge,rt,!1,Fe.lineMetrics);else if("MultiLineString"===dt)De(pt,yt,Ne,Ge,rt,!1);else if("Polygon"===dt)De(pt,yt,Ne,Ge,rt,!0);else if("MultiPolygon"===dt)for(var gt=0;gt<pt.length;gt++){var At=[];De(pt[gt],At,Ne,Ge,rt,!0),At.length&&yt.push(At)}if(yt.length){if(Fe.lineMetrics&&"LineString"===dt){for(gt=0;gt<yt.length;gt++)et.push(se(ct.id,dt,yt[gt],ct.tags));continue}"LineString"!==dt&&"MultiLineString"!==dt||(1===yt.length?(dt="LineString",yt=yt[0]):dt="MultiLineString"),"Point"!==dt&&"MultiPoint"!==dt||(dt=3===yt.length?"Point":"MultiPoint"),et.push(se(ct.id,dt,yt,ct.tags))}}}return et.length?et:null}function xe(qe,Ze,Ne,Ge,rt){for(var tt=0;tt<qe.length;tt+=3){var Re=qe[tt+rt];Re>=Ne&&Re<=Ge&&(Ze.push(qe[tt]),Ze.push(qe[tt+1]),Ze.push(qe[tt+2]))}}function Te(qe,Ze,Ne,Ge,rt,tt,Re){for(var Fe,et,We=Ce(qe),ct=0===rt?Ue:Ve,pt=qe.start,dt=0;dt<qe.length-3;dt+=3){var ut=qe[dt],kt=qe[dt+1],yt=qe[dt+2],gt=qe[dt+3],At=qe[dt+4],Lt=0===rt?ut:kt,It=0===rt?gt:At,qt=!1;Re&&(Fe=Math.sqrt(Math.pow(ut-gt,2)+Math.pow(kt-At,2))),Lt<Ne?It>Ne&&(et=ct(We,ut,kt,gt,At,Ne),Re&&(We.start=pt+Fe*et)):Lt>Ge?It<Ge&&(et=ct(We,ut,kt,gt,At,Ge),Re&&(We.start=pt+Fe*et)):ze(We,ut,kt,yt),It<Ne&&Lt>=Ne&&(et=ct(We,ut,kt,gt,At,Ne),qt=!0),It>Ge&&Lt<=Ge&&(et=ct(We,ut,kt,gt,At,Ge),qt=!0),!tt&&qt&&(Re&&(We.end=pt+Fe*et),Ze.push(We),We=Ce(qe)),Re&&(pt+=Fe)}var Qt=qe.length-3;ut=qe[Qt],kt=qe[Qt+1],yt=qe[Qt+2],(Lt=0===rt?ut:kt)>=Ne&&Lt<=Ge&&ze(We,ut,kt,yt),Qt=We.length-3,tt&&Qt>=3&&(We[Qt]!==We[0]||We[Qt+1]!==We[1])&&ze(We,We[0],We[1],We[2]),We.length&&Ze.push(We)}function Ce(qe){var Ze=[];return Ze.size=qe.size,Ze.start=qe.start,Ze.end=qe.end,Ze}function De(qe,Ze,Ne,Ge,rt,tt){for(var Re=0;Re<qe.length;Re++)Te(qe[Re],Ze,Ne,Ge,rt,tt,!1)}function ze(qe,Ze,Ne,Ge){qe.push(Ze),qe.push(Ne),qe.push(Ge)}function Ue(qe,Ze,Ne,Ge,rt,tt){var Re=(tt-Ze)/(Ge-Ze);return qe.push(tt),qe.push(Ne+(rt-Ne)*Re),qe.push(1),Re}function Ve(qe,Ze,Ne,Ge,rt,tt){var Re=(tt-Ne)/(rt-Ne);return qe.push(Ze+(Ge-Ze)*Re),qe.push(tt),qe.push(1),Re}function Xe(qe,Ze){for(var Ne=[],Ge=0;Ge<qe.length;Ge++){var rt,tt=qe[Ge],Re=tt.type;if("Point"===Re||"MultiPoint"===Re||"LineString"===Re)rt=at(tt.geometry,Ze);else if("MultiLineString"===Re||"Polygon"===Re){rt=[];for(var Fe=0;Fe<tt.geometry.length;Fe++)rt.push(at(tt.geometry[Fe],Ze))}else if("MultiPolygon"===Re)for(rt=[],Fe=0;Fe<tt.geometry.length;Fe++){for(var et=[],We=0;We<tt.geometry[Fe].length;We++)et.push(at(tt.geometry[Fe][We],Ze));rt.push(et)}Ne.push(se(tt.id,Re,rt,tt.tags))}return Ne}function at(qe,Ze){var Ne=[];Ne.size=qe.size,void 0!==qe.start&&(Ne.start=qe.start,Ne.end=qe.end);for(var Ge=0;Ge<qe.length;Ge+=3)Ne.push(qe[Ge]+Ze,qe[Ge+1],qe[Ge+2]);return Ne}function st(qe,Ze){if(qe.transformed)return qe;var Ne,Ge,rt,tt=1<<qe.z,Re=qe.x,Fe=qe.y;for(Ne=0;Ne<qe.features.length;Ne++){var et=qe.features[Ne],We=et.geometry,ct=et.type;if(et.geometry=[],1===ct)for(Ge=0;Ge<We.length;Ge+=2)et.geometry.push(ht(We[Ge],We[Ge+1],Ze,tt,Re,Fe));else for(Ge=0;Ge<We.length;Ge++){var pt=[];for(rt=0;rt<We[Ge].length;rt+=2)pt.push(ht(We[Ge][rt],We[Ge][rt+1],Ze,tt,Re,Fe));et.geometry.push(pt)}}return qe.transformed=!0,qe}function ht(qe,Ze,Ne,Ge,rt,tt){return[Math.round(Ne*(qe*Ge-rt)),Math.round(Ne*(Ze*Ge-tt))]}function bt(qe,Ze,Ne,Ge,rt){for(var tt=Ze===rt.maxZoom?0:rt.tolerance/((1<<Ze)*rt.extent),Re={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ne,y:Ge,z:Ze,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Fe=0;Fe<qe.length;Fe++){Re.numFeatures++,vt(Re,qe[Fe],tt,rt);var et=qe[Fe].minX,We=qe[Fe].minY,ct=qe[Fe].maxX,pt=qe[Fe].maxY;et<Re.minX&&(Re.minX=et),We<Re.minY&&(Re.minY=We),ct>Re.maxX&&(Re.maxX=ct),pt>Re.maxY&&(Re.maxY=pt)}return Re}function vt(qe,Ze,Ne,Ge){var rt=Ze.geometry,tt=Ze.type,Re=[];if("Point"===tt||"MultiPoint"===tt)for(var Fe=0;Fe<rt.length;Fe+=3)Re.push(rt[Fe]),Re.push(rt[Fe+1]),qe.numPoints++,qe.numSimplified++;else if("LineString"===tt)Qe(Re,rt,qe,Ne,!1,!1);else if("MultiLineString"===tt||"Polygon"===tt)for(Fe=0;Fe<rt.length;Fe++)Qe(Re,rt[Fe],qe,Ne,"Polygon"===tt,0===Fe);else if("MultiPolygon"===tt)for(var et=0;et<rt.length;et++){var We=rt[et];for(Fe=0;Fe<We.length;Fe++)Qe(Re,We[Fe],qe,Ne,!0,0===Fe)}if(Re.length){var ct=Ze.tags||null;if("LineString"===tt&&Ge.lineMetrics){for(var pt in ct={},Ze.tags)ct[pt]=Ze.tags[pt];ct.mapbox_clip_start=rt.start/rt.size,ct.mapbox_clip_end=rt.end/rt.size}var dt={geometry:Re,type:"Polygon"===tt||"MultiPolygon"===tt?3:"LineString"===tt||"MultiLineString"===tt?2:1,tags:ct};null!==Ze.id&&(dt.id=Ze.id),qe.features.push(dt)}}function Qe(qe,Ze,Ne,Ge,rt,tt){var Re=Ge*Ge;if(Ge>0&&Ze.size<(rt?Re:Ge))Ne.numPoints+=Ze.length/3;else{for(var Fe=[],et=0;et<Ze.length;et+=3)(0===Ge||Ze[et+2]>Re)&&(Ne.numSimplified++,Fe.push(Ze[et]),Fe.push(Ze[et+1])),Ne.numPoints++;rt&&function(We,ct){for(var pt=0,dt=0,ut=We.length,kt=ut-2;dt<ut;kt=dt,dt+=2)pt+=(We[dt]-We[kt])*(We[dt+1]+We[kt+1]);if(pt>0===ct)for(dt=0,ut=We.length;dt<ut/2;dt+=2){var yt=We[dt],gt=We[dt+1];We[dt]=We[ut-2-dt],We[dt+1]=We[ut-1-dt],We[ut-2-dt]=yt,We[ut-1-dt]=gt}}(Fe,tt),qe.push(Fe)}}function nt(qe,Ze){var Ne=(Ze=this.options=function(rt,tt){for(var Re in tt)rt[Re]=tt[Re];return rt}(Object.create(this.options),Ze)).debug;if(Ne&&console.time("preprocess data"),Ze.maxZoom<0||Ze.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ze.promoteId&&Ze.generateId)throw new Error("promoteId and generateId cannot be used together.");var rt,tt,Re,Fe,et,We,Ge=function(rt,tt){var Re=[];if("FeatureCollection"===rt.type)for(var Fe=0;Fe<rt.features.length;Fe++)he(Re,rt.features[Fe],tt,Fe);else"Feature"===rt.type?he(Re,rt,tt):he(Re,{geometry:rt},tt);return Re}(qe,Ze);this.tiles={},this.tileCoords=[],Ne&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ze.indexMaxZoom,Ze.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(rt=Ge,tt=Ze,Re=tt.buffer/tt.extent,Fe=rt,et=fe(rt,1,-1-Re,Re,0,-1,2,tt),We=fe(rt,1,1-Re,2+Re,0,-1,2,tt),(et||We)&&(Fe=fe(rt,1,-Re,1+Re,0,-1,2,tt)||[],et&&(Fe=Xe(et,1).concat(Fe)),We&&(Fe=Fe.concat(Xe(We,-1)))),Ge=Fe).length&&this.splitTile(Ge,0,0,0),Ne&&(Ge.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function wt(qe,Ze,Ne){return 32*((1<<qe)*Ne+Ze)+qe}function Ot(qe,Ze){var Ne=qe.tileID.canonical;if(!this._geoJSONIndex)return Ze(null,null);var Ge=this._geoJSONIndex.getTile(Ne.z,Ne.x,Ne.y);if(!Ge)return Ze(null,null);var rt=new h(Ge.features),tt=f(rt);0===tt.byteOffset&&tt.byteLength===tt.buffer.byteLength||(tt=new Uint8Array(tt)),Ze(null,{vectorTile:rt,rawData:tt.buffer})}re.prototype.load=function(qe){var Ze=this.options,Ne=Ze.log,Ge=Ze.minZoom,rt=Ze.maxZoom,tt=Ze.nodeSize;Ne&&console.time("total time");var Re="prepare "+qe.length+" points";Ne&&console.time(Re),this.points=qe;for(var Fe=[],et=0;et<qe.length;et++)qe[et].geometry&&Fe.push(oe(qe[et],et));this.trees[rt+1]=new J(Fe,ge,Ae,tt,Float32Array),Ne&&console.timeEnd(Re);for(var We=rt;We>=Ge;We--){var ct=+Date.now();Fe=this._cluster(Fe,We),this.trees[We]=new J(Fe,ge,Ae,tt,Float32Array),Ne&&console.log("z%d: %d clusters in %dms",We,Fe.length,+Date.now()-ct)}return Ne&&console.timeEnd("total time"),this},re.prototype.getClusters=function(qe,Ze){var Ne=((qe[0]+180)%360+360)%360-180,Ge=Math.max(-90,Math.min(90,qe[1])),rt=180===qe[2]?180:((qe[2]+180)%360+360)%360-180,tt=Math.max(-90,Math.min(90,qe[3]));if(qe[2]-qe[0]>=360)Ne=-180,rt=180;else if(Ne>rt){var Re=this.getClusters([Ne,Ge,180,tt],Ze),Fe=this.getClusters([-180,Ge,rt,tt],Ze);return Re.concat(Fe)}for(var et=this.trees[this._limitZoom(Ze)],We=[],ct=0,pt=et.range(be(Ne),de(tt),be(rt),de(Ge));ct<pt.length;ct+=1){var dt=pt[ct],ut=et.points[dt];We.push(ut.numPoints?ue(ut):this.points[ut.index])}return We},re.prototype.getChildren=function(qe){var Ze=this._getOriginId(qe),Ne=this._getOriginZoom(qe),Ge="No cluster with the specified id.",rt=this.trees[Ne];if(!rt)throw new Error(Ge);var tt=rt.points[Ze];if(!tt)throw new Error(Ge);for(var Re=this.options.radius/(this.options.extent*Math.pow(2,Ne-1)),Fe=[],et=0,We=rt.within(tt.x,tt.y,Re);et<We.length;et+=1){var ct=We[et],pt=rt.points[ct];pt.parentId===qe&&Fe.push(pt.numPoints?ue(pt):this.points[pt.index])}if(0===Fe.length)throw new Error(Ge);return Fe},re.prototype.getLeaves=function(qe,Ze,Ne){Ze=Ze||10,Ne=Ne||0;var Ge=[];return this._appendLeaves(Ge,qe,Ze,Ne,0),Ge},re.prototype.getTile=function(qe,Ze,Ne){var Ge=this.trees[this._limitZoom(qe)],rt=Math.pow(2,qe),tt=this.options,Re=tt.extent,Fe=tt.radius/Re,et=(Ne-Fe)/rt,We=(Ne+1+Fe)/rt,ct={features:[]};return this._addTileFeatures(Ge.range((Ze-Fe)/rt,et,(Ze+1+Fe)/rt,We),Ge.points,Ze,Ne,rt,ct),0===Ze&&this._addTileFeatures(Ge.range(1-Fe/rt,et,1,We),Ge.points,rt,Ne,rt,ct),Ze===rt-1&&this._addTileFeatures(Ge.range(0,et,Fe/rt,We),Ge.points,-1,Ne,rt,ct),ct.features.length?ct:null},re.prototype.getClusterExpansionZoom=function(qe){for(var Ze=this._getOriginZoom(qe)-1;Ze<=this.options.maxZoom;){var Ne=this.getChildren(qe);if(Ze++,1!==Ne.length)break;qe=Ne[0].properties.cluster_id}return Ze},re.prototype._appendLeaves=function(qe,Ze,Ne,Ge,rt){for(var tt=0,Re=this.getChildren(Ze);tt<Re.length;tt+=1){var Fe=Re[tt],et=Fe.properties;if(et&&et.cluster?rt+et.point_count<=Ge?rt+=et.point_count:rt=this._appendLeaves(qe,et.cluster_id,Ne,Ge,rt):rt<Ge?rt++:qe.push(Fe),qe.length===Ne)break}return rt},re.prototype._addTileFeatures=function(qe,Ze,Ne,Ge,rt,tt){for(var Re=0,Fe=qe;Re<Fe.length;Re+=1){var et=Ze[Fe[Re]],We=et.numPoints,ct={type:1,geometry:[[Math.round(this.options.extent*(et.x*rt-Ne)),Math.round(this.options.extent*(et.y*rt-Ge))]],tags:We?ve(et):this.points[et.index].properties},pt=void 0;We?pt=et.id:this.options.generateId?pt=et.index:this.points[et.index].id&&(pt=this.points[et.index].id),void 0!==pt&&(ct.id=pt),tt.features.push(ct)}},re.prototype._limitZoom=function(qe){return Math.max(this.options.minZoom,Math.min(+qe,this.options.maxZoom+1))},re.prototype._cluster=function(qe,Ze){for(var Ne=[],Ge=this.options,rt=Ge.radius,tt=Ge.extent,Re=Ge.reduce,Fe=Ge.minPoints,et=rt/(tt*Math.pow(2,Ze)),We=0;We<qe.length;We++){var ct=qe[We];if(!(ct.zoom<=Ze)){ct.zoom=Ze;for(var pt=this.trees[Ze+1],dt=pt.within(ct.x,ct.y,et),ut=ct.numPoints||1,kt=ut,yt=0,gt=dt;yt<gt.length;yt+=1){var At=gt[yt],Lt=pt.points[At];Lt.zoom>Ze&&(kt+=Lt.numPoints||1)}if(kt>=Fe){for(var It=ct.x*ut,qt=ct.y*ut,Qt=Re&&ut>1?this._map(ct,!0):null,Vt=(We<<5)+(Ze+1)+this.points.length,Ft=0,en=dt;Ft<en.length;Ft+=1){var wn=en[Ft],kn=pt.points[wn];if(!(kn.zoom<=Ze)){kn.zoom=Ze;var on=kn.numPoints||1;It+=kn.x*on,qt+=kn.y*on,kn.parentId=Vt,Re&&(Qt||(Qt=this._map(ct,!0)),Re(Qt,this._map(kn)))}}ct.parentId=Vt,Ne.push(ae(It/kt,qt/kt,Vt,kt,Qt))}else if(Ne.push(ct),kt>1)for(var Ht=0,nn=dt;Ht<nn.length;Ht+=1){var Kt=nn[Ht],an=pt.points[Kt];an.zoom<=Ze||(an.zoom=Ze,Ne.push(an))}}}return Ne},re.prototype._getOriginId=function(qe){return qe-this.points.length>>5},re.prototype._getOriginZoom=function(qe){return(qe-this.points.length)%32},re.prototype._map=function(qe,Ze){if(qe.numPoints)return Ze?pe({},qe.properties):qe.properties;var Ne=this.points[qe.index].properties,Ge=this.options.map(Ne);return Ze&&Ge===Ne?pe({},Ge):Ge},nt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},nt.prototype.splitTile=function(qe,Ze,Ne,Ge,rt,tt,Re){for(var Fe=[qe,Ze,Ne,Ge],et=this.options,We=et.debug;Fe.length;){Ge=Fe.pop(),Ne=Fe.pop(),Ze=Fe.pop(),qe=Fe.pop();var ct=1<<Ze,pt=wt(Ze,Ne,Ge),dt=this.tiles[pt];if(!dt&&(We>1&&console.time("creation"),dt=this.tiles[pt]=bt(qe,Ze,Ne,Ge,et),this.tileCoords.push({z:Ze,x:Ne,y:Ge}),We)){We>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ze,Ne,Ge,dt.numFeatures,dt.numPoints,dt.numSimplified),console.timeEnd("creation"));var ut="z"+Ze;this.stats[ut]=(this.stats[ut]||0)+1,this.total++}if(dt.source=qe,rt){if(Ze===et.maxZoom||Ze===rt)continue;var kt=1<<rt-Ze;if(Ne!==Math.floor(tt/kt)||Ge!==Math.floor(Re/kt))continue}else if(Ze===et.indexMaxZoom||dt.numPoints<=et.indexMaxPoints)continue;if(dt.source=null,0!==qe.length){We>1&&console.time("clipping");var yt,gt,At,Lt,It,qt,Qt=.5*et.buffer/et.extent,Vt=.5-Qt,Ft=.5+Qt,en=1+Qt;yt=gt=At=Lt=null,It=fe(qe,ct,Ne-Qt,Ne+Ft,0,dt.minX,dt.maxX,et),qt=fe(qe,ct,Ne+Vt,Ne+en,0,dt.minX,dt.maxX,et),qe=null,It&&(yt=fe(It,ct,Ge-Qt,Ge+Ft,1,dt.minY,dt.maxY,et),gt=fe(It,ct,Ge+Vt,Ge+en,1,dt.minY,dt.maxY,et),It=null),qt&&(At=fe(qt,ct,Ge-Qt,Ge+Ft,1,dt.minY,dt.maxY,et),Lt=fe(qt,ct,Ge+Vt,Ge+en,1,dt.minY,dt.maxY,et),qt=null),We>1&&console.timeEnd("clipping"),Fe.push(yt||[],Ze+1,2*Ne,2*Ge),Fe.push(gt||[],Ze+1,2*Ne,2*Ge+1),Fe.push(At||[],Ze+1,2*Ne+1,2*Ge),Fe.push(Lt||[],Ze+1,2*Ne+1,2*Ge+1)}}},nt.prototype.getTile=function(qe,Ze,Ne){var Ge=this.options,rt=Ge.extent,tt=Ge.debug;if(qe<0||qe>24)return null;var Re=1<<qe,Fe=wt(qe,Ze=(Ze%Re+Re)%Re,Ne);if(this.tiles[Fe])return st(this.tiles[Fe],rt);tt>1&&console.log("drilling down to z%d-%d-%d",qe,Ze,Ne);for(var et,We=qe,ct=Ze,pt=Ne;!et&&We>0;)We--,ct=Math.floor(ct/2),pt=Math.floor(pt/2),et=this.tiles[wt(We,ct,pt)];return et&&et.source?(tt>1&&console.log("found parent tile z%d-%d-%d",We,ct,pt),tt>1&&console.time("drilling down"),this.splitTile(et.source,We,ct,pt,qe,Ze,Ne),tt>1&&console.timeEnd("drilling down"),this.tiles[Fe]?st(this.tiles[Fe],rt):null):null};var Pt=function(qe){function Ze(Ne,Ge,rt,tt){qe.call(this,Ne,Ge,rt,Ot),tt&&(this.loadGeoJSON=tt)}return qe&&(Ze.__proto__=qe),Ze.prototype=Object.create(qe&&qe.prototype),Ze.prototype.constructor=Ze,Ze.prototype.loadData=function(Ne,Ge){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ge,this._pendingLoadDataParams=Ne,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Ze.prototype._loadData=function(){var Ne=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Ge=this._pendingCallback,rt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var tt=!!(rt&&rt.request&&rt.request.collectResourceTiming)&&new a.RequestPerformance(rt.request);this.loadGeoJSON(rt,function(Re,Fe){if(Re||!Fe)return Ge(Re);if("object"!=typeof Fe)return Ge(new Error("Input data given to '"+rt.source+"' is not a valid GeoJSON object."));u(Fe,!0);try{if(rt.filter){var et=a.createExpression(rt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===et.result)throw new Error(et.value.map(function(dt){return dt.key+": "+dt.message}).join(", "));var We=Fe.features.filter(function(dt){return et.value.evaluate({zoom:0},dt)});Fe={type:"FeatureCollection",features:We}}Ne._geoJSONIndex=rt.cluster?new re(function(dt){var ut=dt.superclusterOptions,kt=dt.clusterProperties;if(!kt||!ut)return ut;for(var yt={},gt={},At={accumulated:null,zoom:0},Lt={properties:null},It=Object.keys(kt),qt=0,Qt=It;qt<Qt.length;qt+=1){var Vt=Qt[qt],Ft=kt[Vt],en=Ft[0],wn=Ft[1],kn=a.createExpression(wn),on=a.createExpression("string"==typeof en?[en,["accumulated"],["get",Vt]]:en);yt[Vt]=kn.value,gt[Vt]=on.value}return ut.map=function(Ht){Lt.properties=Ht;for(var nn={},Kt=0,an=It;Kt<an.length;Kt+=1){var xn=an[Kt];nn[xn]=yt[xn].evaluate(At,Lt)}return nn},ut.reduce=function(Ht,nn){Lt.properties=nn;for(var Kt=0,an=It;Kt<an.length;Kt+=1){var xn=an[Kt];At.accumulated=Ht[xn],Ht[xn]=gt[xn].evaluate(At,Lt)}},ut}(rt)).load(Fe.features):(dt=Fe,ut=rt.geojsonVtOptions,new nt(dt,ut))}catch(dt){return Ge(dt)}var dt,ut;Ne.loaded={};var ct={};if(tt){var pt=tt.finish();pt&&(ct.resourceTiming={},ct.resourceTiming[rt.source]=JSON.parse(JSON.stringify(pt)))}Ge(null,ct)})}},Ze.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},Ze.prototype.reloadTile=function(Ne,Ge){var rt=this.loaded,tt=Ne.uid;return rt&&rt[tt]?qe.prototype.reloadTile.call(this,Ne,Ge):this.loadTile(Ne,Ge)},Ze.prototype.loadGeoJSON=function(Ne,Ge){if(Ne.request)a.getJSON(Ne.request,Ge);else{if("string"!=typeof Ne.data)return Ge(new Error("Input data given to '"+Ne.source+"' is not a valid GeoJSON object."));try{return Ge(null,JSON.parse(Ne.data))}catch{return Ge(new Error("Input data given to '"+Ne.source+"' is not a valid GeoJSON object."))}}},Ze.prototype.removeSource=function(Ne,Ge){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ge()},Ze.prototype.getClusterExpansionZoom=function(Ne,Ge){try{Ge(null,this._geoJSONIndex.getClusterExpansionZoom(Ne.clusterId))}catch(rt){Ge(rt)}},Ze.prototype.getClusterChildren=function(Ne,Ge){try{Ge(null,this._geoJSONIndex.getChildren(Ne.clusterId))}catch(rt){Ge(rt)}},Ze.prototype.getClusterLeaves=function(Ne,Ge){try{Ge(null,this._geoJSONIndex.getLeaves(Ne.clusterId,Ne.limit,Ne.offset))}catch(rt){Ge(rt)}},Ze}(r),St=function(qe){var Ze=this;this.self=qe,this.actor=new a.Actor(qe,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:r,geojson:Pt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ne,Ge){if(Ze.workerSourceTypes[Ne])throw new Error('Worker source with name "'+Ne+'" already registered.');Ze.workerSourceTypes[Ne]=Ge},this.self.registerRTLTextPlugin=function(Ne){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Ne.applyArabicShaping,a.plugin.processBidirectionalText=Ne.processBidirectionalText,a.plugin.processStyledBidirectionalText=Ne.processStyledBidirectionalText}};return St.prototype.setReferrer=function(qe,Ze){this.referrer=Ze},St.prototype.setImages=function(qe,Ze,Ne){for(var Ge in this.availableImages[qe]=Ze,this.workerSources[qe]){var rt=this.workerSources[qe][Ge];for(var tt in rt)rt[tt].availableImages=Ze}Ne()},St.prototype.setLayers=function(qe,Ze,Ne){this.getLayerIndex(qe).replace(Ze),Ne()},St.prototype.updateLayers=function(qe,Ze,Ne){this.getLayerIndex(qe).update(Ze.layers,Ze.removedIds),Ne()},St.prototype.loadTile=function(qe,Ze,Ne){this.getWorkerSource(qe,Ze.type,Ze.source).loadTile(Ze,Ne)},St.prototype.loadDEMTile=function(qe,Ze,Ne){this.getDEMWorkerSource(qe,Ze.source).loadTile(Ze,Ne)},St.prototype.reloadTile=function(qe,Ze,Ne){this.getWorkerSource(qe,Ze.type,Ze.source).reloadTile(Ze,Ne)},St.prototype.abortTile=function(qe,Ze,Ne){this.getWorkerSource(qe,Ze.type,Ze.source).abortTile(Ze,Ne)},St.prototype.removeTile=function(qe,Ze,Ne){this.getWorkerSource(qe,Ze.type,Ze.source).removeTile(Ze,Ne)},St.prototype.removeDEMTile=function(qe,Ze){this.getDEMWorkerSource(qe,Ze.source).removeTile(Ze)},St.prototype.removeSource=function(qe,Ze,Ne){if(this.workerSources[qe]&&this.workerSources[qe][Ze.type]&&this.workerSources[qe][Ze.type][Ze.source]){var Ge=this.workerSources[qe][Ze.type][Ze.source];delete this.workerSources[qe][Ze.type][Ze.source],void 0!==Ge.removeSource?Ge.removeSource(Ze,Ne):Ne()}},St.prototype.loadWorkerSource=function(qe,Ze,Ne){try{this.self.importScripts(Ze.url),Ne()}catch(Ge){Ne(Ge.toString())}},St.prototype.syncRTLPluginState=function(qe,Ze,Ne){try{a.plugin.setState(Ze);var Ge=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&null!=Ge){this.self.importScripts(Ge);var rt=a.plugin.isParsed();Ne(rt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ge),rt)}}catch(tt){Ne(tt.toString())}},St.prototype.getAvailableImages=function(qe){var Ze=this.availableImages[qe];return Ze||(Ze=[]),Ze},St.prototype.getLayerIndex=function(qe){var Ze=this.layerIndexes[qe];return Ze||(Ze=this.layerIndexes[qe]=new p),Ze},St.prototype.getWorkerSource=function(qe,Ze,Ne){var Ge=this;if(this.workerSources[qe]||(this.workerSources[qe]={}),this.workerSources[qe][Ze]||(this.workerSources[qe][Ze]={}),!this.workerSources[qe][Ze][Ne]){var rt={send:function(tt,Re,Fe){Ge.actor.send(tt,Re,Fe,qe)}};this.workerSources[qe][Ze][Ne]=new this.workerSourceTypes[Ze](rt,this.getLayerIndex(qe),this.getAvailableImages(qe))}return this.workerSources[qe][Ze][Ne]},St.prototype.getDEMWorkerSource=function(qe,Ze){return this.demWorkerSources[qe]||(this.demWorkerSources[qe]={}),this.demWorkerSources[qe][Ze]||(this.demWorkerSources[qe][Ze]=new l),this.demWorkerSources[qe][Ze]},St.prototype.enforceCacheSizeLimit=function(qe,Ze){a.enforceCacheSizeLimit(Ze)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new St(self)),St}),k(0,function(a){var T=a.createCommonjsModule(function(B){function G(H){return!q(H)}function q(H){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var ne,ce,me=new Blob([""],{type:"text/javascript"}),Le=URL.createObjectURL(me);try{ce=new Worker(Le),ne=!0}catch{ne=!1}return ce&&ce.terminate(),URL.revokeObjectURL(Le),ne}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var ne=document.createElement("canvas");ne.width=ne.height=1;var ce=ne.getContext("2d");if(!ce)return!1;var me=ce.getImageData(0,0,1,1);return me&&me.width===ne.width}()?(K=H&&H.failIfMajorPerformanceCaveat,void 0===L[K]&&(L[K]=function(ne){var Le,Pe,je,ce=(Le=ne,Pe=document.createElement("canvas"),(je=Object.create(G.webGLContextAttributes)).failIfMajorPerformanceCaveat=Le,Pe.probablySupportsContext?Pe.probablySupportsContext("webgl",je)||Pe.probablySupportsContext("experimental-webgl",je):Pe.supportsContext?Pe.supportsContext("webgl",je)||Pe.supportsContext("experimental-webgl",je):Pe.getContext("webgl",je)||Pe.getContext("experimental-webgl",je));if(!ce)return!1;var me=ce.createShader(ce.VERTEX_SHADER);return!(!me||ce.isContextLost())&&(ce.shaderSource(me,"void main() {}"),ce.compileShader(me),!0===ce.getShaderParameter(me,ce.COMPILE_STATUS))}(K)),L[K]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var K}B.exports?B.exports=G:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=G,window.mapboxgl.notSupportedReason=q);var L={};G.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),b={create:function(B,G,q){var L=a.window.document.createElement(B);return void 0!==G&&(L.className=G),q&&q.appendChild(L),L},createNS:function(B,G){return a.window.document.createElementNS(B,G)}},p=a.window.document&&a.window.document.documentElement.style;function s(B){if(!p)return B[0];for(var G=0;G<B.length;G++)if(B[G]in p)return B[G];return B[0]}var t,i=s(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);b.disableDrag=function(){p&&i&&(t=p[i],p[i]="none")},b.enableDrag=function(){p&&i&&(p[i]=t)};var n=s(["transform","WebkitTransform"]);b.setTransform=function(B,G){B.style[n]=G};var r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});a.window.addEventListener("test",o,o),a.window.removeEventListener("test",o,o)}catch{r=!1}b.addEventListener=function(B,G,q,L){void 0===L&&(L={}),"passive"in L&&r?B.addEventListener(G,q,L):B.addEventListener(G,q,L.capture)},b.removeEventListener=function(B,G,q,L){void 0===L&&(L={}),"passive"in L&&r?B.removeEventListener(G,q,L):B.removeEventListener(G,q,L.capture)};var l=function(B){B.preventDefault(),B.stopPropagation(),a.window.removeEventListener("click",l,!0)};function u(B){var G=B.userImage;return!!(G&&G.render&&G.render())&&(B.data.replace(new Uint8Array(G.data.buffer)),!0)}b.suppressClick=function(){a.window.addEventListener("click",l,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",l,!0)},0)},b.mousePos=function(B,G){var q=B.getBoundingClientRect();return new a.Point(G.clientX-q.left-B.clientLeft,G.clientY-q.top-B.clientTop)},b.touchPos=function(B,G){for(var q=B.getBoundingClientRect(),L=[],H=0;H<G.length;H++)L.push(new a.Point(G[H].clientX-q.left-B.clientLeft,G[H].clientY-q.top-B.clientTop));return L},b.mouseButton=function(B){return void 0!==a.window.InstallTrigger&&2===B.button&&B.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:B.button},b.remove=function(B){B.parentNode&&B.parentNode.removeChild(B)};var d=function(B){function G(){B.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.isLoaded=function(){return this.loaded},G.prototype.setLoaded=function(q){if(this.loaded!==q&&(this.loaded=q,q)){for(var L=0,H=this.requestors;L<H.length;L+=1){var K=H[L],ne=K.ids,ce=K.callback;this._notify(ne,ce)}this.requestors=[]}},G.prototype.getImage=function(q){return this.images[q]},G.prototype.addImage=function(q,L){this._validate(q,L)&&(this.images[q]=L)},G.prototype._validate=function(q,L){var H=!0;return this._validateStretch(L.stretchX,L.data&&L.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchX" value'))),H=!1),this._validateStretch(L.stretchY,L.data&&L.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchY" value'))),H=!1),this._validateContent(L.content,L)||(this.fire(new a.ErrorEvent(new Error('Image "'+q+'" has invalid "content" value'))),H=!1),H},G.prototype._validateStretch=function(q,L){if(!q)return!0;for(var H=0,K=0,ne=q;K<ne.length;K+=1){var ce=ne[K];if(ce[0]<H||ce[1]<ce[0]||L<ce[1])return!1;H=ce[1]}return!0},G.prototype._validateContent=function(q,L){return!(q&&(4!==q.length||q[0]<0||L.data.width<q[0]||q[1]<0||L.data.height<q[1]||q[2]<0||L.data.width<q[2]||q[3]<0||L.data.height<q[3]||q[2]<q[0]||q[3]<q[1]))},G.prototype.updateImage=function(q,L){var H=this.images[q];L.version=H.version+1,this.images[q]=L,this.updatedImages[q]=!0},G.prototype.removeImage=function(q){var L=this.images[q];delete this.images[q],delete this.patterns[q],L.userImage&&L.userImage.onRemove&&L.userImage.onRemove()},G.prototype.listImages=function(){return Object.keys(this.images)},G.prototype.getImages=function(q,L){var H=!0;if(!this.isLoaded())for(var K=0,ne=q;K<ne.length;K+=1){var ce=ne[K];this.images[ce]||(H=!1)}this.isLoaded()||H?this._notify(q,L):this.requestors.push({ids:q,callback:L})},G.prototype._notify=function(q,L){for(var H={},K=0,ne=q;K<ne.length;K+=1){var ce=ne[K];this.images[ce]||this.fire(new a.Event("styleimagemissing",{id:ce}));var me=this.images[ce];me?H[ce]={data:me.data.clone(),pixelRatio:me.pixelRatio,sdf:me.sdf,version:me.version,stretchX:me.stretchX,stretchY:me.stretchY,content:me.content,hasRenderCallback:Boolean(me.userImage&&me.userImage.render)}:a.warnOnce('Image "'+ce+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}L(null,H)},G.prototype.getPixelSize=function(){var q=this.atlasImage;return{width:q.width,height:q.height}},G.prototype.getPattern=function(q){var L=this.patterns[q],H=this.getImage(q);if(!H)return null;if(L&&L.position.version===H.version)return L.position;if(L)L.position.version=H.version;else{var K={w:H.data.width+2,h:H.data.height+2,x:0,y:0},ne=new a.ImagePosition(K,H);this.patterns[q]={bin:K,position:ne}}return this._updatePatternAtlas(),this.patterns[q].position},G.prototype.bind=function(q){var L=q.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(q,this.atlasImage,L.RGBA),this.atlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE)},G.prototype._updatePatternAtlas=function(){var q=[];for(var L in this.patterns)q.push(this.patterns[L].bin);var H=a.potpack(q),K=H.w,ne=H.h,ce=this.atlasImage;for(var me in ce.resize({width:K||1,height:ne||1}),this.patterns){var Le=this.patterns[me].bin,Pe=Le.x+1,je=Le.y+1,He=this.images[me].data,$e=He.width,lt=He.height;a.RGBAImage.copy(He,ce,{x:0,y:0},{x:Pe,y:je},{width:$e,height:lt}),a.RGBAImage.copy(He,ce,{x:0,y:lt-1},{x:Pe,y:je-1},{width:$e,height:1}),a.RGBAImage.copy(He,ce,{x:0,y:0},{x:Pe,y:je+lt},{width:$e,height:1}),a.RGBAImage.copy(He,ce,{x:$e-1,y:0},{x:Pe-1,y:je},{width:1,height:lt}),a.RGBAImage.copy(He,ce,{x:0,y:0},{x:Pe+$e,y:je},{width:1,height:lt})}this.dirty=!0},G.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},G.prototype.dispatchRenderCallbacks=function(q){for(var L=0,H=q;L<H.length;L+=1){var K=H[L];if(!this.callbackDispatchedThisFrame[K]){this.callbackDispatchedThisFrame[K]=!0;var ne=this.images[K];u(ne)&&this.updateImage(K,ne)}}},G}(a.Evented),c=h,x=h,g=1e20;function h(B,G,q,L,H,K){this.fontSize=B||24,this.buffer=void 0===G?3:G,this.cutoff=L||.25,this.fontFamily=H||"sans-serif",this.fontWeight=K||"normal",this.radius=q||8;var ne=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=ne,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(ne*ne),this.gridInner=new Float64Array(ne*ne),this.f=new Float64Array(ne),this.d=new Float64Array(ne),this.z=new Float64Array(ne+1),this.v=new Int16Array(ne),this.middle=Math.round(ne/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function m(B,G,q,L,H,K,ne){for(var ce=0;ce<G;ce++){for(var me=0;me<q;me++)L[me]=B[me*G+ce];for(y(L,H,K,ne,q),me=0;me<q;me++)B[me*G+ce]=H[me]}for(me=0;me<q;me++){for(ce=0;ce<G;ce++)L[ce]=B[me*G+ce];for(y(L,H,K,ne,G),ce=0;ce<G;ce++)B[me*G+ce]=Math.sqrt(H[ce])}}function y(B,G,q,L,H){q[0]=0,L[0]=-g,L[1]=+g;for(var K=1,ne=0;K<H;K++){for(var ce=(B[K]+K*K-(B[q[ne]]+q[ne]*q[ne]))/(2*K-2*q[ne]);ce<=L[ne];)ne--,ce=(B[K]+K*K-(B[q[ne]]+q[ne]*q[ne]))/(2*K-2*q[ne]);q[++ne]=K,L[ne]=ce,L[ne+1]=+g}for(K=0,ne=0;K<H;K++){for(;L[ne+1]<K;)ne++;G[K]=(K-q[ne])*(K-q[ne])+B[q[ne]]}}h.prototype.draw=function(B){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(B,this.buffer,this.middle);for(var G=this.ctx.getImageData(0,0,this.size,this.size),q=new Uint8ClampedArray(this.size*this.size),L=0;L<this.size*this.size;L++){var H=G.data[4*L+3]/255;this.gridOuter[L]=1===H?0:0===H?g:Math.pow(Math.max(0,.5-H),2),this.gridInner[L]=1===H?g:0===H?0:Math.pow(Math.max(0,H-.5),2)}for(m(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),m(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),L=0;L<this.size*this.size;L++){var K=this.gridOuter[L]-this.gridInner[L];q[L]=Math.max(0,Math.min(255,Math.round(255-255*(K/this.radius+this.cutoff))))}return q},c.default=x;var v=function(B,G){this.requestManager=B,this.localIdeographFontFamily=G,this.entries={}};v.prototype.setURL=function(B){this.url=B},v.prototype.getGlyphs=function(B,G){var q=this,L=[];for(var H in B)for(var K=0,ne=B[H];K<ne.length;K+=1){var ce=ne[K];L.push({stack:H,id:ce})}a.asyncAll(L,function(me,Le){var Pe=me.stack,je=me.id,He=q.entries[Pe];He||(He=q.entries[Pe]={glyphs:{},requests:{},ranges:{}});var $e=He.glyphs[je];if(void 0===$e){if($e=q._tinySDF(He,Pe,je))return He.glyphs[je]=$e,void Le(null,{stack:Pe,id:je,glyph:$e});var lt=Math.floor(je/256);if(256*lt>65535)Le(new Error("glyphs > 65535 not supported"));else if(He.ranges[lt])Le(null,{stack:Pe,id:je,glyph:$e});else{var ft=He.requests[lt];ft||(ft=He.requests[lt]=[],v.loadGlyphRange(Pe,lt,q.url,q.requestManager,function(xt,Mt){if(Mt){for(var Tt in Mt)q._doesCharSupportLocalGlyph(+Tt)||(He.glyphs[+Tt]=Mt[+Tt]);He.ranges[lt]=!0}for(var Dt=0,Et=ft;Dt<Et.length;Dt+=1)(0,Et[Dt])(xt,Mt);delete He.requests[lt]})),ft.push(function(xt,Mt){xt?Le(xt):Mt&&Le(null,{stack:Pe,id:je,glyph:Mt[je]||null})})}}else Le(null,{stack:Pe,id:je,glyph:$e})},function(me,Le){if(me)G(me);else if(Le){for(var Pe={},je=0,He=Le;je<He.length;je+=1){var $e=He[je],lt=$e.stack,ft=$e.id,xt=$e.glyph;(Pe[lt]||(Pe[lt]={}))[ft]=xt&&{id:xt.id,bitmap:xt.bitmap.clone(),metrics:xt.metrics}}G(null,Pe)}})},v.prototype._doesCharSupportLocalGlyph=function(B){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](B)||a.isChar["Hangul Syllables"](B)||a.isChar.Hiragana(B)||a.isChar.Katakana(B))},v.prototype._tinySDF=function(B,G,q){var L=this.localIdeographFontFamily;if(L&&this._doesCharSupportLocalGlyph(q)){var H=B.tinySDF;if(!H){var K="400";/bold/i.test(G)?K="900":/medium/i.test(G)?K="500":/light/i.test(G)&&(K="200"),H=B.tinySDF=new v.TinySDF(24,3,8,.25,L,K)}return{id:q,bitmap:new a.AlphaImage({width:30,height:30},H.draw(String.fromCharCode(q))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},v.loadGlyphRange=function(B,G,q,L,H){var K=256*G,ne=K+255,ce=L.transformRequest(L.normalizeGlyphsURL(q).replace("{fontstack}",B).replace("{range}",K+"-"+ne),a.ResourceType.Glyphs);a.getArrayBuffer(ce,function(me,Le){if(me)H(me);else if(Le){for(var Pe={},je=0,He=a.parseGlyphPBF(Le);je<He.length;je+=1){var $e=He[je];Pe[$e.id]=$e}H(null,Pe)}})},v.TinySDF=c;var _=function(){this.specification=a.styleSpec.light.position};_.prototype.possiblyEvaluate=function(B,G){return a.sphericalToCartesian(B.expression.evaluate(G))},_.prototype.interpolate=function(B,G,q){return{x:a.number(B.x,G.x,q),y:a.number(B.y,G.y,q),z:a.number(B.z,G.z,q)}};var f=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new _,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),S="-transition",w=function(B){function G(q){B.call(this),this._transitionable=new a.Transitionable(f),this.setLight(q),this._transitioning=this._transitionable.untransitioned()}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getLight=function(){return this._transitionable.serialize()},G.prototype.setLight=function(q,L){if(void 0===L&&(L={}),!this._validate(a.validateLight,q,L))for(var H in q){var K=q[H];a.endsWith(H,S)?this._transitionable.setTransition(H.slice(0,-11),K):this._transitionable.setValue(H,K)}},G.prototype.updateTransitions=function(q){this._transitioning=this._transitionable.transitioned(q,this._transitioning)},G.prototype.hasTransition=function(){return this._transitioning.hasTransition()},G.prototype.recalculate=function(q){this.properties=this._transitioning.possiblyEvaluate(q)},G.prototype._validate=function(q,L,H){return(!H||!1!==H.validate)&&a.emitValidationErrors(this,q.call(a.validateStyle,a.extend({value:L,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},G}(a.Evented),E=function(B,G){this.width=B,this.height=G,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};E.prototype.getDash=function(B,G){var q=B.join(",")+String(G);return this.dashEntry[q]||(this.dashEntry[q]=this.addDash(B,G)),this.dashEntry[q]},E.prototype.getDashRanges=function(B,G,q){var L=[],H=B.length%2==1?-B[B.length-1]*q:0,K=B[0]*q,ne=!0;L.push({left:H,right:K,isDash:ne,zeroLength:0===B[0]});for(var ce=B[0],me=1;me<B.length;me++){ne=!ne;var Le=B[me];H=ce*q,K=(ce+=Le)*q,L.push({left:H,right:K,isDash:ne,zeroLength:0===Le})}return L},E.prototype.addRoundDash=function(B,G,q){for(var L=G/2,H=-q;H<=q;H++)for(var K=this.nextRow+q+H,ne=this.width*K,ce=0,me=B[ce],Le=0;Le<this.width;Le++){Le/me.right>1&&(me=B[++ce]);var Pe=Math.abs(Le-me.left),je=Math.abs(Le-me.right),He=Math.min(Pe,je),$e=void 0,lt=H/q*(L+1);if(me.isDash){var ft=L-Math.abs(lt);$e=Math.sqrt(He*He+ft*ft)}else $e=L-Math.sqrt(He*He+lt*lt);this.data[ne+Le]=Math.max(0,Math.min(255,$e+128))}},E.prototype.addRegularDash=function(B){for(var G=B.length-1;G>=0;--G){var q=B[G],L=B[G+1];q.zeroLength?B.splice(G,1):L&&L.isDash===q.isDash&&(L.left=q.left,B.splice(G,1))}var H=B[0],K=B[B.length-1];H.isDash===K.isDash&&(H.left=K.left-this.width,K.right=H.right+this.width);for(var ne=this.width*this.nextRow,ce=0,me=B[ce],Le=0;Le<this.width;Le++){Le/me.right>1&&(me=B[++ce]);var Pe=Math.abs(Le-me.left),je=Math.abs(Le-me.right),He=Math.min(Pe,je),$e=me.isDash?He:-He;this.data[ne+Le]=Math.max(0,Math.min(255,$e+128))}},E.prototype.addDash=function(B,G){var q=G?7:0,L=2*q+1;if(this.nextRow+L>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var H=0,K=0;K<B.length;K++)H+=B[K];if(0!==H){var ne=this.width/H,ce=this.getDashRanges(B,this.width,ne);G?this.addRoundDash(ce,ne,q):this.addRegularDash(ce)}var me={y:(this.nextRow+q+.5)/this.height,height:2*q/this.height,width:H};return this.nextRow+=L,this.dirty=!0,me},E.prototype.bind=function(B){var G=B.gl;this.texture?(G.bindTexture(G.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,G.texSubImage2D(G.TEXTURE_2D,0,0,0,this.width,this.height,G.ALPHA,G.UNSIGNED_BYTE,this.data))):(this.texture=G.createTexture(),G.bindTexture(G.TEXTURE_2D,this.texture),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_S,G.REPEAT),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_T,G.REPEAT),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.LINEAR),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.LINEAR),G.texImage2D(G.TEXTURE_2D,0,G.ALPHA,this.width,this.height,0,G.ALPHA,G.UNSIGNED_BYTE,this.data))};var C=function B(G,q){this.workerPool=G,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var L=this.workerPool.acquire(this.id),H=0;H<L.length;H++){var K=L[H],ne=new B.Actor(K,q,this.id);ne.name="Worker "+H,this.actors.push(ne)}};function O(B,G,q){var L=function(H,K){if(H)return q(H);if(K){var ne=a.pick(a.extend(K,B),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);K.vector_layers&&(ne.vectorLayers=K.vector_layers,ne.vectorLayerIds=ne.vectorLayers.map(function(ce){return ce.id})),ne.tiles=G.canonicalizeTileset(ne,B.url),q(null,ne)}};return B.url?a.getJSON(G.transformRequest(G.normalizeSourceURL(B.url),a.ResourceType.Source),L):a.browser.frame(function(){return L(null,B)})}C.prototype.broadcast=function(B,G,q){q=q||function(){},a.asyncAll(this.actors,function(L,H){L.send(B,G,H)},q)},C.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},C.prototype.remove=function(){this.actors.forEach(function(B){B.remove()}),this.actors=[],this.workerPool.release(this.id)},C.Actor=a.Actor;var P=function(B,G,q){this.bounds=a.LngLatBounds.convert(this.validateBounds(B)),this.minzoom=G||0,this.maxzoom=q||24};P.prototype.validateBounds=function(B){return Array.isArray(B)&&4===B.length?[Math.max(-180,B[0]),Math.max(-90,B[1]),Math.min(180,B[2]),Math.min(90,B[3])]:[-180,-90,180,90]},P.prototype.contains=function(B){var G=Math.pow(2,B.z),q=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*G),L=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*G),H=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*G),K=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*G);return B.x>=q&&B.x<H&&B.y>=L&&B.y<K};var R=function(B){function G(q,L,H,K){if(B.call(this),this.id=q,this.dispatcher=H,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(L,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},L),this._collectResourceTiming=L.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(K)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,function(L,H){q._tileJSONRequest=null,q._loaded=!0,L?q.fire(new a.ErrorEvent(L)):H&&(a.extend(q,H),H.bounds&&(q.tileBounds=new P(H.bounds,q.minzoom,q.maxzoom)),a.postTurnstileEvent(H.tiles,q.map._requestManager._customAccessToken),a.postMapLoadEvent(H.tiles,q.map._getMapId(),q.map._requestManager._skuToken,q.map._requestManager._customAccessToken),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},G.prototype.loaded=function(){return this._loaded},G.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},G.prototype.onAdd=function(q){this.map=q,this.load()},G.prototype.setSourceProperty=function(q){this._tileJSONRequest&&this._tileJSONRequest.cancel(),q(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},G.prototype.setTiles=function(q){var L=this;return this.setSourceProperty(function(){L._options.tiles=q}),this},G.prototype.setUrl=function(q){var L=this;return this.setSourceProperty(function(){L.url=q,L._options.url=q}),this},G.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},G.prototype.serialize=function(){return a.extend({},this._options)},G.prototype.loadTile=function(q,L){var H=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme)),K={request:this.map._requestManager.transformRequest(H,a.ResourceType.Tile),uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,tileSize:this.tileSize*q.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function ne(ce,me){return delete q.request,q.aborted?L(null):ce&&404!==ce.status?L(ce):(me&&me.resourceTiming&&(q.resourceTiming=me.resourceTiming),this.map._refreshExpiredTiles&&me&&q.setExpiryData(me),q.loadVectorData(me,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),L(null),void(q.reloadCallback&&(this.loadTile(q,q.reloadCallback),q.reloadCallback=null)))}K.request.collectResourceTiming=this._collectResourceTiming,q.actor&&"expired"!==q.state?"loading"===q.state?q.reloadCallback=L:q.request=q.actor.send("reloadTile",K,ne.bind(this)):(q.actor=this.dispatcher.getActor(),q.request=q.actor.send("loadTile",K,ne.bind(this)))},G.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.actor&&q.actor.send("abortTile",{uid:q.uid,type:this.type,source:this.id},void 0)},G.prototype.unloadTile=function(q){q.unloadVectorData(),q.actor&&q.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id},void 0)},G.prototype.hasTransition=function(){return!1},G}(a.Evented),j=function(B){function G(q,L,H,K){B.call(this),this.id=q,this.dispatcher=H,this.setEventedParent(K),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},L),a.extend(this,a.pick(L,["url","scheme","tileSize"]))}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,function(L,H){q._tileJSONRequest=null,q._loaded=!0,L?q.fire(new a.ErrorEvent(L)):H&&(a.extend(q,H),H.bounds&&(q.tileBounds=new P(H.bounds,q.minzoom,q.maxzoom)),a.postTurnstileEvent(H.tiles),a.postMapLoadEvent(H.tiles,q.map._getMapId(),q.map._requestManager._skuToken),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},G.prototype.loaded=function(){return this._loaded},G.prototype.onAdd=function(q){this.map=q,this.load()},G.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},G.prototype.serialize=function(){return a.extend({},this._options)},G.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},G.prototype.loadTile=function(q,L){var H=this,K=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);q.request=a.getImage(this.map._requestManager.transformRequest(K,a.ResourceType.Tile),function(ne,ce){if(delete q.request,q.aborted)q.state="unloaded",L(null);else if(ne)q.state="errored",L(ne);else if(ce){H.map._refreshExpiredTiles&&q.setExpiryData(ce),delete ce.cacheControl,delete ce.expires;var me=H.map.painter.context,Le=me.gl;q.texture=H.map.painter.getTileTexture(ce.width),q.texture?q.texture.update(ce,{useMipmap:!0}):(q.texture=new a.Texture(me,ce,Le.RGBA,{useMipmap:!0}),q.texture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE,Le.LINEAR_MIPMAP_NEAREST),me.extTextureFilterAnisotropic&&Le.texParameterf(Le.TEXTURE_2D,me.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,me.extTextureFilterAnisotropicMax)),q.state="loaded",a.cacheEntryPossiblyAdded(H.dispatcher),L(null)}})},G.prototype.abortTile=function(q,L){q.request&&(q.request.cancel(),delete q.request),L()},G.prototype.unloadTile=function(q,L){q.texture&&this.map.painter.saveTileTexture(q.texture),L()},G.prototype.hasTransition=function(){return!1},G}(a.Evented),z=function(B){function G(q,L,H,K){B.call(this,q,L,H,K),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},L),this.encoding=L.encoding||"mapbox"}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},G.prototype.loadTile=function(q,L){var H=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function K(ne,ce){ne&&(q.state="errored",L(ne)),ce&&(q.dem=ce,q.needsHillshadePrepare=!0,q.state="loaded",L(null))}q.request=a.getImage(this.map._requestManager.transformRequest(H,a.ResourceType.Tile),function(ne,ce){if(delete q.request,q.aborted)q.state="unloaded",L(null);else if(ne)q.state="errored",L(ne);else if(ce){this.map._refreshExpiredTiles&&q.setExpiryData(ce),delete ce.cacheControl,delete ce.expires;var me=a.window.ImageBitmap&&ce instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?ce:a.browser.getImageData(ce,1),Le={uid:q.uid,coord:q.tileID,source:this.id,rawImageData:me,encoding:this.encoding};q.actor&&"expired"!==q.state||(q.actor=this.dispatcher.getActor(),q.actor.send("loadDEMTile",Le,K.bind(this)))}}.bind(this)),q.neighboringTiles=this._getNeighboringTiles(q.tileID)},G.prototype._getNeighboringTiles=function(q){var L=q.canonical,H=Math.pow(2,L.z),K=(L.x-1+H)%H,ne=0===L.x?q.wrap-1:q.wrap,ce=(L.x+1+H)%H,me=L.x+1===H?q.wrap+1:q.wrap,Le={};return Le[new a.OverscaledTileID(q.overscaledZ,ne,L.z,K,L.y).key]={backfilled:!1},Le[new a.OverscaledTileID(q.overscaledZ,me,L.z,ce,L.y).key]={backfilled:!1},L.y>0&&(Le[new a.OverscaledTileID(q.overscaledZ,ne,L.z,K,L.y-1).key]={backfilled:!1},Le[new a.OverscaledTileID(q.overscaledZ,q.wrap,L.z,L.x,L.y-1).key]={backfilled:!1},Le[new a.OverscaledTileID(q.overscaledZ,me,L.z,ce,L.y-1).key]={backfilled:!1}),L.y+1<H&&(Le[new a.OverscaledTileID(q.overscaledZ,ne,L.z,K,L.y+1).key]={backfilled:!1},Le[new a.OverscaledTileID(q.overscaledZ,q.wrap,L.z,L.x,L.y+1).key]={backfilled:!1},Le[new a.OverscaledTileID(q.overscaledZ,me,L.z,ce,L.y+1).key]={backfilled:!1}),Le},G.prototype.unloadTile=function(q){q.demTexture&&this.map.painter.saveTileTexture(q.demTexture),q.fbo&&(q.fbo.destroy(),delete q.fbo),q.dem&&delete q.dem,delete q.neighboringTiles,q.state="unloaded",q.actor&&q.actor.send("removeDEMTile",{uid:q.uid,source:this.id})},G}(j),N=function(B){function G(q,L,H,K){B.call(this),this.id=q,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=H.getActor(),this.setEventedParent(K),this._data=L.data,this._options=a.extend({},L),this._collectResourceTiming=L.collectResourceTiming,this._resourceTiming=[],void 0!==L.maxzoom&&(this.maxzoom=L.maxzoom),L.type&&(this.type=L.type),L.attribution&&(this.attribution=L.attribution),this.promoteId=L.promoteId;var ne=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:L.cluster||!1,geojsonVtOptions:{buffer:(void 0!==L.buffer?L.buffer:128)*ne,tolerance:(void 0!==L.tolerance?L.tolerance:.375)*ne,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:L.lineMetrics||!1,generateId:L.generateId||!1},superclusterOptions:{maxZoom:void 0!==L.clusterMaxZoom?Math.min(L.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,L.clusterMinPoints||2),extent:a.EXTENT,radius:(L.clusterRadius||50)*ne,log:!1,generateId:L.generateId||!1},clusterProperties:L.clusterProperties,filter:L.filter},L.workerOptions)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(){var q=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(L){if(L)q.fire(new a.ErrorEvent(L));else{var H={dataType:"source",sourceDataType:"metadata"};q._collectResourceTiming&&q._resourceTiming&&q._resourceTiming.length>0&&(H.resourceTiming=q._resourceTiming,q._resourceTiming=[]),q.fire(new a.Event("data",H))}})},G.prototype.onAdd=function(q){this.map=q,this.load()},G.prototype.setData=function(q){var L=this;return this._data=q,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(H){if(H)L.fire(new a.ErrorEvent(H));else{var K={dataType:"source",sourceDataType:"content"};L._collectResourceTiming&&L._resourceTiming&&L._resourceTiming.length>0&&(K.resourceTiming=L._resourceTiming,L._resourceTiming=[]),L.fire(new a.Event("data",K))}}),this},G.prototype.getClusterExpansionZoom=function(q,L){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:q,source:this.id},L),this},G.prototype.getClusterChildren=function(q,L){return this.actor.send("geojson.getClusterChildren",{clusterId:q,source:this.id},L),this},G.prototype.getClusterLeaves=function(q,L,H,K){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:q,limit:L,offset:H},K),this},G.prototype._updateWorkerData=function(q){var L=this;this._loaded=!1;var H=a.extend({},this.workerOptions),K=this._data;"string"==typeof K?(H.request=this.map._requestManager.transformRequest(a.browser.resolveURL(K),a.ResourceType.Source),H.request.collectResourceTiming=this._collectResourceTiming):H.data=JSON.stringify(K),this.actor.send(this.type+".loadData",H,function(ne,ce){L._removed||ce&&ce.abandoned||(L._loaded=!0,ce&&ce.resourceTiming&&ce.resourceTiming[L.id]&&(L._resourceTiming=ce.resourceTiming[L.id].slice(0)),L.actor.send(L.type+".coalesce",{source:H.source},null),q(ne))})},G.prototype.loaded=function(){return this._loaded},G.prototype.loadTile=function(q,L){var H=this,K=q.actor?"reloadTile":"loadTile";q.actor=this.actor;var ne={type:this.type,uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};q.request=this.actor.send(K,ne,function(ce,me){return delete q.request,q.unloadVectorData(),q.aborted?L(null):ce?L(ce):(q.loadVectorData(me,H.map.painter,"reloadTile"===K),L(null))})},G.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.aborted=!0},G.prototype.unloadTile=function(q){q.unloadVectorData(),this.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id})},G.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},G.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},G.prototype.hasTransition=function(){return!1},G}(a.Evented),Y=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),F=function(B){function G(q,L,H,K){B.call(this),this.id=q,this.dispatcher=H,this.coordinates=L.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(K),this.options=L}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(q,L){var H=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(K,ne){H._loaded=!0,K?H.fire(new a.ErrorEvent(K)):ne&&(H.image=ne,q&&(H.coordinates=q),L&&L(),H._finishLoading())})},G.prototype.loaded=function(){return this._loaded},G.prototype.updateImage=function(q){var L=this;return this.image&&q.url?(this.options.url=q.url,this.load(q.coordinates,function(){L.texture=null}),this):this},G.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},G.prototype.onAdd=function(q){this.map=q,this.load()},G.prototype.setCoordinates=function(q){var L=this;this.coordinates=q;var H=q.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(ne){for(var ce=1/0,me=1/0,Le=-1/0,Pe=-1/0,je=0,He=ne;je<He.length;je+=1){var $e=He[je];ce=Math.min(ce,$e.x),me=Math.min(me,$e.y),Le=Math.max(Le,$e.x),Pe=Math.max(Pe,$e.y)}var lt=Le-ce,ft=Pe-me,xt=Math.max(lt,ft),Mt=Math.max(0,Math.floor(-Math.log(xt)/Math.LN2)),Tt=Math.pow(2,Mt);return new a.CanonicalTileID(Mt,Math.floor((ce+Le)/2*Tt),Math.floor((me+Pe)/2*Tt))}(H),this.minzoom=this.maxzoom=this.tileID.z;var K=H.map(function(ne){return L.tileID.getTilePoint(ne)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(K[0].x,K[0].y,0,0),this._boundsArray.emplaceBack(K[1].x,K[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(K[3].x,K[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(K[2].x,K[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},G.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var q=this.map.painter.context,L=q.gl;for(var H in this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(q,this.image,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var K=this.tiles[H];"loaded"!==K.state&&(K.state="loaded",K.texture=this.texture)}}},G.prototype.loadTile=function(q,L){this.tileID&&this.tileID.equals(q.tileID.canonical)?(this.tiles[String(q.tileID.wrap)]=q,q.buckets={},L(null)):(q.state="errored",L(null))},G.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},G.prototype.hasTransition=function(){return!1},G}(a.Evented),U=function(B){function G(q,L,H,K){B.call(this,q,L,H,K),this.roundZoom=!0,this.type="video",this.options=L}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(){var q=this;this._loaded=!1;var L=this.options;this.urls=[];for(var H=0,K=L.urls;H<K.length;H+=1){var ne=K[H];this.urls.push(this.map._requestManager.transformRequest(ne,a.ResourceType.Source).url)}a.getVideo(this.urls,function(ce,me){q._loaded=!0,ce?q.fire(new a.ErrorEvent(ce)):me&&(q.video=me,q.video.loop=!0,q.video.addEventListener("playing",function(){q.map.triggerRepaint()}),q.map&&q.video.play(),q._finishLoading())})},G.prototype.pause=function(){this.video&&this.video.pause()},G.prototype.play=function(){this.video&&this.video.play()},G.prototype.seek=function(q){if(this.video){var L=this.video.seekable;q<L.start(0)||q>L.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+L.start(0)+" and "+L.end(0)+"-second mark."))):this.video.currentTime=q}},G.prototype.getVideo=function(){return this.video},G.prototype.onAdd=function(q){this.map||(this.map=q,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},G.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var q=this.map.painter.context,L=q.gl;for(var H in this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE),L.texSubImage2D(L.TEXTURE_2D,0,0,0,L.RGBA,L.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(q,this.video,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var K=this.tiles[H];"loaded"!==K.state&&(K.state="loaded",K.texture=this.texture)}}},G.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},G.prototype.hasTransition=function(){return this.video&&!this.video.paused},G}(F),V=function(B){function G(q,L,H,K){B.call(this,q,L,H,K),L.coordinates?Array.isArray(L.coordinates)&&4===L.coordinates.length&&!L.coordinates.some(function(ne){return!Array.isArray(ne)||2!==ne.length||ne.some(function(ce){return"number"!=typeof ce})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+q,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+q,null,'missing required property "coordinates"'))),L.animate&&"boolean"!=typeof L.animate&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+q,null,'optional "animate" property must be a boolean value'))),L.canvas?"string"==typeof L.canvas||L.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+q,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+q,null,'missing required property "canvas"'))),this.options=L,this.animate=void 0===L.animate||L.animate}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},G.prototype.getCanvas=function(){return this.canvas},G.prototype.onAdd=function(q){this.map=q,this.load(),this.canvas&&this.animate&&this.play()},G.prototype.onRemove=function(){this.pause()},G.prototype.prepare=function(){var q=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,q=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,q=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var L=this.map.painter.context,H=L.gl;for(var K in this.boundsBuffer||(this.boundsBuffer=L.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(q||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(L,this.canvas,H.RGBA,{premultiply:!0}),this.tiles){var ne=this.tiles[K];"loaded"!==ne.state&&(ne.state="loaded",ne.texture=this.texture)}}},G.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},G.prototype.hasTransition=function(){return this._playing},G.prototype._hasInvalidDimensions=function(){for(var q=0,L=[this.canvas.width,this.canvas.height];q<L.length;q+=1){var H=L[q];if(isNaN(H)||H<=0)return!0}return!1},G}(F),te={vector:R,raster:j,"raster-dem":z,geojson:N,video:U,image:F,canvas:V};function $(B,G){var q=a.identity([]);return a.translate(q,q,[1,1,0]),a.scale(q,q,[.5*B.width,.5*B.height,1]),a.multiply(q,q,B.calculatePosMatrix(G.toUnwrapped()))}function X(B,G,q,L,H,K){var ne=function(ft,xt,Mt){if(ft)for(var Tt=0,Dt=ft;Tt<Dt.length;Tt+=1){var Et=xt[Dt[Tt]];if(Et&&Et.source===Mt&&"fill-extrusion"===Et.type)return!0}else for(var Gt in xt){var Ut=xt[Gt];if(Ut.source===Mt&&"fill-extrusion"===Ut.type)return!0}return!1}(H&&H.layers,G,B.id),ce=K.maxPitchScaleFactor(),me=B.tilesIn(L,ce,ne);me.sort(W);for(var Le=[],Pe=0,je=me;Pe<je.length;Pe+=1){var He=je[Pe];Le.push({wrappedTileID:He.tileID.wrapped().key,queryResults:He.tile.queryRenderedFeatures(G,q,B._state,He.queryGeometry,He.cameraQueryGeometry,He.scale,H,K,ce,$(B.transform,He.tileID))})}var $e=function(ft){for(var xt={},Mt={},Tt=0,Dt=ft;Tt<Dt.length;Tt+=1){var Et=Dt[Tt],Gt=Et.queryResults,Ut=Et.wrappedTileID,Bt=Mt[Ut]=Mt[Ut]||{};for(var hn in Gt)for(var pn=Gt[hn],En=Bt[hn]=Bt[hn]||{},Cn=xt[hn]=xt[hn]||[],Nn=0,Wn=pn;Nn<Wn.length;Nn+=1){var sr=Wn[Nn];En[sr.featureIndex]||(En[sr.featureIndex]=!0,Cn.push(sr))}}return xt}(Le);for(var lt in $e)$e[lt].forEach(function(ft){var xt=ft.feature,Mt=B.getFeatureState(xt.layer["source-layer"],xt.id);xt.source=xt.layer.source,xt.layer["source-layer"]&&(xt.sourceLayer=xt.layer["source-layer"]),xt.state=Mt});return $e}function W(B,G){var q=B.tileID,L=G.tileID;return q.overscaledZ-L.overscaledZ||q.canonical.y-L.canonical.y||q.wrap-L.wrap||q.canonical.x-L.canonical.x}var J=function(B,G){this.max=B,this.onRemove=G,this.reset()};J.prototype.reset=function(){for(var B in this.data)for(var G=0,q=this.data[B];G<q.length;G+=1){var L=q[G];L.timeout&&clearTimeout(L.timeout),this.onRemove(L.value)}return this.data={},this.order=[],this},J.prototype.add=function(B,G,q){var L=this,H=B.wrapped().key;void 0===this.data[H]&&(this.data[H]=[]);var K={value:G,timeout:void 0};if(void 0!==q&&(K.timeout=setTimeout(function(){L.remove(B,K)},q)),this.data[H].push(K),this.order.push(H),this.order.length>this.max){var ne=this._getAndRemoveByKey(this.order[0]);ne&&this.onRemove(ne)}return this},J.prototype.has=function(B){return B.wrapped().key in this.data},J.prototype.getAndRemove=function(B){return this.has(B)?this._getAndRemoveByKey(B.wrapped().key):null},J.prototype._getAndRemoveByKey=function(B){var G=this.data[B].shift();return G.timeout&&clearTimeout(G.timeout),0===this.data[B].length&&delete this.data[B],this.order.splice(this.order.indexOf(B),1),G.value},J.prototype.getByKey=function(B){var G=this.data[B];return G?G[0].value:null},J.prototype.get=function(B){return this.has(B)?this.data[B.wrapped().key][0].value:null},J.prototype.remove=function(B,G){if(!this.has(B))return this;var q=B.wrapped().key,L=void 0===G?0:this.data[q].indexOf(G),H=this.data[q][L];return this.data[q].splice(L,1),H.timeout&&clearTimeout(H.timeout),0===this.data[q].length&&delete this.data[q],this.onRemove(H.value),this.order.splice(this.order.indexOf(q),1),this},J.prototype.setMaxSize=function(B){for(this.max=B;this.order.length>this.max;){var G=this._getAndRemoveByKey(this.order[0]);G&&this.onRemove(G)}return this},J.prototype.filter=function(B){var G=[];for(var q in this.data)for(var L=0,H=this.data[q];L<H.length;L+=1){var K=H[L];B(K.value)||G.push(K)}for(var ne=0,ce=G;ne<ce.length;ne+=1){var me=ce[ne];this.remove(me.value.tileID,me)}};var Q=function(B,G,q){this.context=B;var L=B.gl;this.buffer=L.createBuffer(),this.dynamicDraw=Boolean(q),this.context.unbindVAO(),B.bindElementBuffer.set(this.buffer),L.bufferData(L.ELEMENT_ARRAY_BUFFER,G.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||delete G.arrayBuffer};Q.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Q.prototype.updateData=function(B){var G=this.context.gl;this.context.unbindVAO(),this.bind(),G.bufferSubData(G.ELEMENT_ARRAY_BUFFER,0,B.arrayBuffer)},Q.prototype.destroy=function(){var B=this.context.gl;this.buffer&&(B.deleteBuffer(this.buffer),delete this.buffer)};var re={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ae=function(B,G,q,L){this.length=G.length,this.attributes=q,this.itemSize=G.bytesPerElement,this.dynamicDraw=L,this.context=B;var H=B.gl;this.buffer=H.createBuffer(),B.bindVertexBuffer.set(this.buffer),H.bufferData(H.ARRAY_BUFFER,G.arrayBuffer,this.dynamicDraw?H.DYNAMIC_DRAW:H.STATIC_DRAW),this.dynamicDraw||delete G.arrayBuffer};ae.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ae.prototype.updateData=function(B){var G=this.context.gl;this.bind(),G.bufferSubData(G.ARRAY_BUFFER,0,B.arrayBuffer)},ae.prototype.enableAttributes=function(B,G){for(var q=0;q<this.attributes.length;q++){var L=this.attributes[q],H=G.attributes[L.name];void 0!==H&&B.enableVertexAttribArray(H)}},ae.prototype.setVertexAttribPointers=function(B,G,q){for(var L=0;L<this.attributes.length;L++){var H=this.attributes[L],K=G.attributes[H.name];void 0!==K&&B.vertexAttribPointer(K,H.components,B[re[H.type]],!1,this.itemSize,H.offset+this.itemSize*(q||0))}},ae.prototype.destroy=function(){var B=this.context.gl;this.buffer&&(B.deleteBuffer(this.buffer),delete this.buffer)};var oe=function(B){this.gl=B.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};oe.prototype.get=function(){return this.current},oe.prototype.set=function(B){},oe.prototype.getDefault=function(){return this.default},oe.prototype.setDefault=function(){this.set(this.default)};var ue=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return a.Color.transparent},G.prototype.set=function(q){var L=this.current;(q.r!==L.r||q.g!==L.g||q.b!==L.b||q.a!==L.a||this.dirty)&&(this.gl.clearColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},G}(oe),ve=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return 1},G.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.clearDepth(q),this.current=q,this.dirty=!1)},G}(oe),be=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return 0},G.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.clearStencil(q),this.current=q,this.dirty=!1)},G}(oe),de=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return[!0,!0,!0,!0]},G.prototype.set=function(q){var L=this.current;(q[0]!==L[0]||q[1]!==L[1]||q[2]!==L[2]||q[3]!==L[3]||this.dirty)&&(this.gl.colorMask(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},G}(oe),pe=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!0},G.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.depthMask(q),this.current=q,this.dirty=!1)},G}(oe),ge=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return 255},G.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.stencilMask(q),this.current=q,this.dirty=!1)},G}(oe),Ae=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},G.prototype.set=function(q){var L=this.current;(q.func!==L.func||q.ref!==L.ref||q.mask!==L.mask||this.dirty)&&(this.gl.stencilFunc(q.func,q.ref,q.mask),this.current=q,this.dirty=!1)},G}(oe),ye=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){var q=this.gl;return[q.KEEP,q.KEEP,q.KEEP]},G.prototype.set=function(q){var L=this.current;(q[0]!==L[0]||q[1]!==L[1]||q[2]!==L[2]||this.dirty)&&(this.gl.stencilOp(q[0],q[1],q[2]),this.current=q,this.dirty=!1)},G}(oe),we=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;q?L.enable(L.STENCIL_TEST):L.disable(L.STENCIL_TEST),this.current=q,this.dirty=!1}},G}(oe),se=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return[0,1]},G.prototype.set=function(q){var L=this.current;(q[0]!==L[0]||q[1]!==L[1]||this.dirty)&&(this.gl.depthRange(q[0],q[1]),this.current=q,this.dirty=!1)},G}(oe),ie=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;q?L.enable(L.DEPTH_TEST):L.disable(L.DEPTH_TEST),this.current=q,this.dirty=!1}},G}(oe),he=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return this.gl.LESS},G.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.depthFunc(q),this.current=q,this.dirty=!1)},G}(oe),Se=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;q?L.enable(L.BLEND):L.disable(L.BLEND),this.current=q,this.dirty=!1}},G}(oe),_e=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){var q=this.gl;return[q.ONE,q.ZERO]},G.prototype.set=function(q){var L=this.current;(q[0]!==L[0]||q[1]!==L[1]||this.dirty)&&(this.gl.blendFunc(q[0],q[1]),this.current=q,this.dirty=!1)},G}(oe),Me=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return a.Color.transparent},G.prototype.set=function(q){var L=this.current;(q.r!==L.r||q.g!==L.g||q.b!==L.b||q.a!==L.a||this.dirty)&&(this.gl.blendColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},G}(oe),Ee=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return this.gl.FUNC_ADD},G.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.blendEquation(q),this.current=q,this.dirty=!1)},G}(oe),Ie=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;q?L.enable(L.CULL_FACE):L.disable(L.CULL_FACE),this.current=q,this.dirty=!1}},G}(oe),fe=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return this.gl.BACK},G.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.cullFace(q),this.current=q,this.dirty=!1)},G}(oe),xe=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return this.gl.CCW},G.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.frontFace(q),this.current=q,this.dirty=!1)},G}(oe),Te=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.useProgram(q),this.current=q,this.dirty=!1)},G}(oe),Ce=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return this.gl.TEXTURE0},G.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.activeTexture(q),this.current=q,this.dirty=!1)},G}(oe),De=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){var q=this.gl;return[0,0,q.drawingBufferWidth,q.drawingBufferHeight]},G.prototype.set=function(q){var L=this.current;(q[0]!==L[0]||q[1]!==L[1]||q[2]!==L[2]||q[3]!==L[3]||this.dirty)&&(this.gl.viewport(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},G}(oe),ze=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,q),this.current=q,this.dirty=!1}},G}(oe),Ue=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.bindRenderbuffer(L.RENDERBUFFER,q),this.current=q,this.dirty=!1}},G}(oe),Ve=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.bindTexture(L.TEXTURE_2D,q),this.current=q,this.dirty=!1}},G}(oe),Xe=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.bindBuffer(L.ARRAY_BUFFER,q),this.current=q,this.dirty=!1}},G}(oe),at=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(q){var L=this.gl;L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,q),this.current=q,this.dirty=!1},G}(oe),st=function(B){function G(q){B.call(this,q),this.vao=q.extVertexArrayObject}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function(q){this.vao&&(q!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(q),this.current=q,this.dirty=!1)},G}(oe),ht=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return 4},G.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_ALIGNMENT,q),this.current=q,this.dirty=!1}},G}(oe),bt=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q),this.current=q,this.dirty=!1}},G}(oe),vt=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,q),this.current=q,this.dirty=!1}},G}(oe),Qe=function(B){function G(q,L){B.call(this,q),this.context=q,this.parent=L}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getDefault=function(){return null},G}(oe),nt=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.setDirty=function(){this.dirty=!0},G.prototype.set=function(q){if(q!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,q,0),this.current=q,this.dirty=!1}},G}(Qe),wt=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.set=function(q){if(q!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferRenderbuffer(L.FRAMEBUFFER,L.DEPTH_ATTACHMENT,L.RENDERBUFFER,q),this.current=q,this.dirty=!1}},G}(Qe),Ot=function(B,G,q,L){this.context=B,this.width=G,this.height=q;var H=B.gl,K=this.framebuffer=H.createFramebuffer();this.colorAttachment=new nt(B,K),L&&(this.depthAttachment=new wt(B,K))};Ot.prototype.destroy=function(){var B=this.context.gl,G=this.colorAttachment.get();if(G&&B.deleteTexture(G),this.depthAttachment){var q=this.depthAttachment.get();q&&B.deleteRenderbuffer(q)}B.deleteFramebuffer(this.framebuffer)};var Pt=function(B,G,q){this.func=B,this.mask=G,this.range=q};Pt.ReadOnly=!1,Pt.ReadWrite=!0,Pt.disabled=new Pt(519,Pt.ReadOnly,[0,1]);var St=7680,qe=function(B,G,q,L,H,K){this.test=B,this.ref=G,this.mask=q,this.fail=L,this.depthFail=H,this.pass=K};qe.disabled=new qe({func:519,mask:0},0,0,St,St,St);var Ze=function(B,G,q){this.blendFunction=B,this.blendColor=G,this.mask=q};Ze.Replace=[1,0],Ze.disabled=new Ze(Ze.Replace,a.Color.transparent,[!1,!1,!1,!1]),Ze.unblended=new Ze(Ze.Replace,a.Color.transparent,[!0,!0,!0,!0]),Ze.alphaBlended=new Ze([1,771],a.Color.transparent,[!0,!0,!0,!0]);var Ne=function(B,G,q){this.enable=B,this.mode=G,this.frontFace=q};Ne.disabled=new Ne(!1,1029,2305),Ne.backCCW=new Ne(!0,1029,2305);var Ge=function(B){this.gl=B,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ue(this),this.clearDepth=new ve(this),this.clearStencil=new be(this),this.colorMask=new de(this),this.depthMask=new pe(this),this.stencilMask=new ge(this),this.stencilFunc=new Ae(this),this.stencilOp=new ye(this),this.stencilTest=new we(this),this.depthRange=new se(this),this.depthTest=new ie(this),this.depthFunc=new he(this),this.blend=new Se(this),this.blendFunc=new _e(this),this.blendColor=new Me(this),this.blendEquation=new Ee(this),this.cullFace=new Ie(this),this.cullFaceSide=new fe(this),this.frontFace=new xe(this),this.program=new Te(this),this.activeTexture=new Ce(this),this.viewport=new De(this),this.bindFramebuffer=new ze(this),this.bindRenderbuffer=new Ue(this),this.bindTexture=new Ve(this),this.bindVertexBuffer=new Xe(this),this.bindElementBuffer=new at(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new st(this),this.pixelStoreUnpack=new ht(this),this.pixelStoreUnpackPremultiplyAlpha=new bt(this),this.pixelStoreUnpackFlipY=new vt(this),this.extTextureFilterAnisotropic=B.getExtension("EXT_texture_filter_anisotropic")||B.getExtension("MOZ_EXT_texture_filter_anisotropic")||B.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=B.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=B.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(B.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=B.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=B.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=B.getParameter(B.MAX_TEXTURE_SIZE)};Ge.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ge.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ge.prototype.createIndexBuffer=function(B,G){return new Q(this,B,G)},Ge.prototype.createVertexBuffer=function(B,G,q){return new ae(this,B,G,q)},Ge.prototype.createRenderbuffer=function(B,G,q){var L=this.gl,H=L.createRenderbuffer();return this.bindRenderbuffer.set(H),L.renderbufferStorage(L.RENDERBUFFER,B,G,q),this.bindRenderbuffer.set(null),H},Ge.prototype.createFramebuffer=function(B,G,q){return new Ot(this,B,G,q)},Ge.prototype.clear=function(B){var G=B.color,q=B.depth,L=this.gl,H=0;G&&(H|=L.COLOR_BUFFER_BIT,this.clearColor.set(G),this.colorMask.set([!0,!0,!0,!0])),void 0!==q&&(H|=L.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(q),this.depthMask.set(!0)),L.clear(H)},Ge.prototype.setCullFace=function(B){!1===B.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(B.mode),this.frontFace.set(B.frontFace))},Ge.prototype.setDepthMode=function(B){B.func!==this.gl.ALWAYS||B.mask?(this.depthTest.set(!0),this.depthFunc.set(B.func),this.depthMask.set(B.mask),this.depthRange.set(B.range)):this.depthTest.set(!1)},Ge.prototype.setStencilMode=function(B){B.test.func!==this.gl.ALWAYS||B.mask?(this.stencilTest.set(!0),this.stencilMask.set(B.mask),this.stencilOp.set([B.fail,B.depthFail,B.pass]),this.stencilFunc.set({func:B.test.func,ref:B.ref,mask:B.test.mask})):this.stencilTest.set(!1)},Ge.prototype.setColorMode=function(B){a.deepEqual(B.blendFunction,Ze.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(B.blendFunction),this.blendColor.set(B.blendColor)),this.colorMask.set(B.mask)},Ge.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var rt=function(B){function G(q,L,H){var K=this;B.call(this),this.id=q,this.dispatcher=H,this.on("data",function(ne){"source"===ne.dataType&&"metadata"===ne.sourceDataType&&(K._sourceLoaded=!0),K._sourceLoaded&&!K._paused&&"source"===ne.dataType&&"content"===ne.sourceDataType&&(K.reload(),K.transform&&K.update(K.transform))}),this.on("error",function(){K._sourceErrored=!0}),this._source=function(ne,ce,me,Le){var Pe=new te[ce.type](ne,ce,me,Le);if(Pe.id!==ne)throw new Error("Expected Source id to be "+ne+" instead of "+Pe.id);return a.bindAll(["load","abort","unload","serialize","prepare"],Pe),Pe}(q,L,H,this),this._tiles={},this._cache=new J(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.onAdd=function(q){this.map=q,this._maxTileCacheSize=q?q._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(q)},G.prototype.onRemove=function(q){this._source&&this._source.onRemove&&this._source.onRemove(q)},G.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var q in this._tiles){var L=this._tiles[q];if("loaded"!==L.state&&"errored"!==L.state)return!1}return!0},G.prototype.getSource=function(){return this._source},G.prototype.pause=function(){this._paused=!0},G.prototype.resume=function(){if(this._paused){var q=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,q&&this.reload(),this.transform&&this.update(this.transform)}},G.prototype._loadTile=function(q,L){return this._source.loadTile(q,L)},G.prototype._unloadTile=function(q){if(this._source.unloadTile)return this._source.unloadTile(q,function(){})},G.prototype._abortTile=function(q){if(this._source.abortTile)return this._source.abortTile(q,function(){})},G.prototype.serialize=function(){return this._source.serialize()},G.prototype.prepare=function(q){for(var L in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var H=this._tiles[L];H.upload(q),H.prepare(this.map.style.imageManager)}},G.prototype.getIds=function(){return a.values(this._tiles).map(function(q){return q.tileID}).sort(tt).map(function(q){return q.key})},G.prototype.getRenderableIds=function(q){var L=this,H=[];for(var K in this._tiles)this._isIdRenderable(K,q)&&H.push(this._tiles[K]);return q?H.sort(function(ne,ce){var me=ne.tileID,Le=ce.tileID,Pe=new a.Point(me.canonical.x,me.canonical.y)._rotate(L.transform.angle),je=new a.Point(Le.canonical.x,Le.canonical.y)._rotate(L.transform.angle);return me.overscaledZ-Le.overscaledZ||je.y-Pe.y||je.x-Pe.x}).map(function(ne){return ne.tileID.key}):H.map(function(ne){return ne.tileID}).sort(tt).map(function(ne){return ne.key})},G.prototype.hasRenderableParent=function(q){var L=this.findLoadedParent(q,0);return!!L&&this._isIdRenderable(L.tileID.key)},G.prototype._isIdRenderable=function(q,L){return this._tiles[q]&&this._tiles[q].hasData()&&!this._coveredTiles[q]&&(L||!this._tiles[q].holdingForFade())},G.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var q in this._cache.reset(),this._tiles)"errored"!==this._tiles[q].state&&this._reloadTile(q,"reloading")},G.prototype._reloadTile=function(q,L){var H=this._tiles[q];H&&("loading"!==H.state&&(H.state=L),this._loadTile(H,this._tileLoaded.bind(this,H,q,L)))},G.prototype._tileLoaded=function(q,L,H,K){if(K)return q.state="errored",void(404!==K.status?this._source.fire(new a.ErrorEvent(K,{tile:q})):this.update(this.transform));q.timeAdded=a.browser.now(),"expired"===H&&(q.refreshedUponExpiration=!0),this._setTileReloadTimer(L,q),"raster-dem"===this.getSource().type&&q.dem&&this._backfillDEM(q),this._state.initializeTileState(q,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:q,coord:q.tileID}))},G.prototype._backfillDEM=function(q){for(var L=this.getRenderableIds(),H=0;H<L.length;H++){var K=L[H];if(q.neighboringTiles&&q.neighboringTiles[K]){var ne=this.getTileByID(K);ce(q,ne),ce(ne,q)}}function ce(me,Le){me.needsHillshadePrepare=!0;var Pe=Le.tileID.canonical.x-me.tileID.canonical.x,je=Le.tileID.canonical.y-me.tileID.canonical.y,He=Math.pow(2,me.tileID.canonical.z),$e=Le.tileID.key;0===Pe&&0===je||Math.abs(je)>1||(Math.abs(Pe)>1&&(1===Math.abs(Pe+He)?Pe+=He:1===Math.abs(Pe-He)&&(Pe-=He)),Le.dem&&me.dem&&(me.dem.backfillBorder(Le.dem,Pe,je),me.neighboringTiles&&me.neighboringTiles[$e]&&(me.neighboringTiles[$e].backfilled=!0)))}},G.prototype.getTile=function(q){return this.getTileByID(q.key)},G.prototype.getTileByID=function(q){return this._tiles[q]},G.prototype._retainLoadedChildren=function(q,L,H,K){for(var ne in this._tiles){var ce=this._tiles[ne];if(!(K[ne]||!ce.hasData()||ce.tileID.overscaledZ<=L||ce.tileID.overscaledZ>H)){for(var me=ce.tileID;ce&&ce.tileID.overscaledZ>L+1;){var Le=ce.tileID.scaledTo(ce.tileID.overscaledZ-1);(ce=this._tiles[Le.key])&&ce.hasData()&&(me=Le)}for(var Pe=me;Pe.overscaledZ>L;)if(q[(Pe=Pe.scaledTo(Pe.overscaledZ-1)).key]){K[me.key]=me;break}}}},G.prototype.findLoadedParent=function(q,L){if(q.key in this._loadedParentTiles){var H=this._loadedParentTiles[q.key];return H&&H.tileID.overscaledZ>=L?H:null}for(var K=q.overscaledZ-1;K>=L;K--){var ne=q.scaledTo(K),ce=this._getLoadedTile(ne);if(ce)return ce}},G.prototype._getLoadedTile=function(q){var L=this._tiles[q.key];return L&&L.hasData()?L:this._cache.getByKey(q.wrapped().key)},G.prototype.updateCacheSize=function(q){var L=(Math.ceil(q.width/this._source.tileSize)+1)*(Math.ceil(q.height/this._source.tileSize)+1),H=Math.floor(5*L),K="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,H):H;this._cache.setMaxSize(K)},G.prototype.handleWrapJump=function(q){var L=(q-(void 0===this._prevLng?q:this._prevLng))/360,H=Math.round(L);if(this._prevLng=q,H){var K={};for(var ne in this._tiles){var ce=this._tiles[ne];ce.tileID=ce.tileID.unwrapTo(ce.tileID.wrap+H),K[ce.tileID.key]=ce}for(var me in this._tiles=K,this._timers)clearTimeout(this._timers[me]),delete this._timers[me];for(var Le in this._tiles){var Pe=this._tiles[Le];this._setTileReloadTimer(Le,Pe)}}},G.prototype.update=function(q){var L=this;if(this.transform=q,this._sourceLoaded&&!this._paused){var H;this.updateCacheSize(q),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?H=q.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Bt){return new a.OverscaledTileID(Bt.canonical.z,Bt.wrap,Bt.canonical.z,Bt.canonical.x,Bt.canonical.y)}):(H=q.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(H=H.filter(function(Bt){return L._source.hasTile(Bt)}))):H=[];var K=q.coveringZoomLevel(this._source),ne=Math.max(K-G.maxOverzooming,this._source.minzoom),ce=Math.max(K+G.maxUnderzooming,this._source.minzoom),me=this._updateRetainedTiles(H,K);if(Re(this._source.type)){for(var Le={},Pe={},je=0,He=Object.keys(me);je<He.length;je+=1){var $e=He[je],lt=me[$e],ft=this._tiles[$e];if(ft&&!(ft.fadeEndTime&&ft.fadeEndTime<=a.browser.now())){var xt=this.findLoadedParent(lt,ne);xt&&(this._addTile(xt.tileID),Le[xt.tileID.key]=xt.tileID),Pe[$e]=lt}}for(var Mt in this._retainLoadedChildren(Pe,K,ce,me),Le)me[Mt]||(this._coveredTiles[Mt]=!0,me[Mt]=Le[Mt])}for(var Tt in me)this._tiles[Tt].clearFadeHold();for(var Dt=0,Et=a.keysDifference(this._tiles,me);Dt<Et.length;Dt+=1){var Gt=Et[Dt],Ut=this._tiles[Gt];Ut.hasSymbolBuckets&&!Ut.holdingForFade()?Ut.setHoldDuration(this.map._fadeDuration):Ut.hasSymbolBuckets&&!Ut.symbolFadeFinished()||this._removeTile(Gt)}this._updateLoadedParentTileCache()}},G.prototype.releaseSymbolFadeTiles=function(){for(var q in this._tiles)this._tiles[q].holdingForFade()&&this._removeTile(q)},G.prototype._updateRetainedTiles=function(q,L){for(var H={},K={},ne=Math.max(L-G.maxOverzooming,this._source.minzoom),ce=Math.max(L+G.maxUnderzooming,this._source.minzoom),me={},Le=0,Pe=q;Le<Pe.length;Le+=1){var je=Pe[Le],He=this._addTile(je);H[je.key]=je,He.hasData()||L<this._source.maxzoom&&(me[je.key]=je)}this._retainLoadedChildren(me,L,ce,H);for(var $e=0,lt=q;$e<lt.length;$e+=1){var ft=lt[$e],xt=this._tiles[ft.key];if(!xt.hasData()){if(L+1>this._source.maxzoom){var Mt=ft.children(this._source.maxzoom)[0],Tt=this.getTile(Mt);if(Tt&&Tt.hasData()){H[Mt.key]=Mt;continue}}else{var Dt=ft.children(this._source.maxzoom);if(H[Dt[0].key]&&H[Dt[1].key]&&H[Dt[2].key]&&H[Dt[3].key])continue}for(var Et=xt.wasRequested(),Gt=ft.overscaledZ-1;Gt>=ne;--Gt){var Ut=ft.scaledTo(Gt);if(K[Ut.key]||(K[Ut.key]=!0,!(xt=this.getTile(Ut))&&Et&&(xt=this._addTile(Ut)),xt&&(H[Ut.key]=Ut,Et=xt.wasRequested(),xt.hasData())))break}}}return H},G.prototype._updateLoadedParentTileCache=function(){for(var q in this._loadedParentTiles={},this._tiles){for(var L=[],H=void 0,K=this._tiles[q].tileID;K.overscaledZ>0;){if(K.key in this._loadedParentTiles){H=this._loadedParentTiles[K.key];break}L.push(K.key);var ne=K.scaledTo(K.overscaledZ-1);if(H=this._getLoadedTile(ne))break;K=ne}for(var ce=0,me=L;ce<me.length;ce+=1){var Le=me[ce];this._loadedParentTiles[Le]=H}}},G.prototype._addTile=function(q){var L=this._tiles[q.key];if(L)return L;(L=this._cache.getAndRemove(q))&&(this._setTileReloadTimer(q.key,L),L.tileID=q,this._state.initializeTileState(L,this.map?this.map.painter:null),this._cacheTimers[q.key]&&(clearTimeout(this._cacheTimers[q.key]),delete this._cacheTimers[q.key],this._setTileReloadTimer(q.key,L)));var H=Boolean(L);return H||(L=new a.Tile(q,this._source.tileSize*q.overscaleFactor()),this._loadTile(L,this._tileLoaded.bind(this,L,q.key,L.state))),L?(L.uses++,this._tiles[q.key]=L,H||this._source.fire(new a.Event("dataloading",{tile:L,coord:L.tileID,dataType:"source"})),L):null},G.prototype._setTileReloadTimer=function(q,L){var H=this;q in this._timers&&(clearTimeout(this._timers[q]),delete this._timers[q]);var K=L.getExpiryTimeout();K&&(this._timers[q]=setTimeout(function(){H._reloadTile(q,"expired"),delete H._timers[q]},K))},G.prototype._removeTile=function(q){var L=this._tiles[q];L&&(L.uses--,delete this._tiles[q],this._timers[q]&&(clearTimeout(this._timers[q]),delete this._timers[q]),L.uses>0||(L.hasData()&&"reloading"!==L.state?this._cache.add(L.tileID,L,L.getExpiryTimeout()):(L.aborted=!0,this._abortTile(L),this._unloadTile(L))))},G.prototype.clearTiles=function(){for(var q in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(q);this._cache.reset()},G.prototype.tilesIn=function(q,L,H){var K=this,ne=[],ce=this.transform;if(!ce)return ne;for(var me=H?ce.getCameraQueryGeometry(q):q,Le=q.map(function(Gt){return ce.pointCoordinate(Gt)}),Pe=me.map(function(Gt){return ce.pointCoordinate(Gt)}),je=this.getIds(),He=1/0,$e=1/0,lt=-1/0,ft=-1/0,xt=0,Mt=Pe;xt<Mt.length;xt+=1){var Tt=Mt[xt];He=Math.min(He,Tt.x),$e=Math.min($e,Tt.y),lt=Math.max(lt,Tt.x),ft=Math.max(ft,Tt.y)}for(var Dt=function(Gt){var Ut=K._tiles[je[Gt]];if(!Ut.holdingForFade()){var Bt=Ut.tileID,hn=Math.pow(2,ce.zoom-Ut.tileID.overscaledZ),pn=L*Ut.queryPadding*a.EXTENT/Ut.tileSize/hn,En=[Bt.getTilePoint(new a.MercatorCoordinate(He,$e)),Bt.getTilePoint(new a.MercatorCoordinate(lt,ft))];if(En[0].x-pn<a.EXTENT&&En[0].y-pn<a.EXTENT&&En[1].x+pn>=0&&En[1].y+pn>=0){var Cn=Le.map(function(Wn){return Bt.getTilePoint(Wn)}),Nn=Pe.map(function(Wn){return Bt.getTilePoint(Wn)});ne.push({tile:Ut,tileID:Bt,queryGeometry:Cn,cameraQueryGeometry:Nn,scale:hn})}}},Et=0;Et<je.length;Et++)Dt(Et);return ne},G.prototype.getVisibleCoordinates=function(q){for(var L=this,H=this.getRenderableIds(q).map(function(me){return L._tiles[me].tileID}),K=0,ne=H;K<ne.length;K+=1){var ce=ne[K];ce.posMatrix=this.transform.calculatePosMatrix(ce.toUnwrapped())}return H},G.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Re(this._source.type))for(var q in this._tiles){var L=this._tiles[q];if(void 0!==L.fadeEndTime&&L.fadeEndTime>=a.browser.now())return!0}return!1},G.prototype.setFeatureState=function(q,L,H){q=q||"_geojsonTileLayer",this._state.updateState(q,L,H)},G.prototype.removeFeatureState=function(q,L,H){q=q||"_geojsonTileLayer",this._state.removeFeatureState(q,L,H)},G.prototype.getFeatureState=function(q,L){return q=q||"_geojsonTileLayer",this._state.getState(q,L)},G.prototype.setDependencies=function(q,L,H){var K=this._tiles[q];K&&K.setDependencies(L,H)},G.prototype.reloadTilesForDependencies=function(q,L){for(var H in this._tiles)this._tiles[H].hasDependency(q,L)&&this._reloadTile(H,"reloading");this._cache.filter(function(K){return!K.hasDependency(q,L)})},G}(a.Evented);function tt(B,G){var q=Math.abs(2*B.wrap)-+(B.wrap<0),L=Math.abs(2*G.wrap)-+(G.wrap<0);return B.overscaledZ-G.overscaledZ||L-q||G.canonical.y-B.canonical.y||G.canonical.x-B.canonical.x}function Re(B){return"raster"===B||"image"===B||"video"===B}function Fe(){return new a.window.Worker(it.workerUrl)}rt.maxOverzooming=10,rt.maxUnderzooming=3;var et="mapboxgl_preloaded_worker_pool",We=function(){this.active={}};We.prototype.acquire=function(B){if(!this.workers)for(this.workers=[];this.workers.length<We.workerCount;)this.workers.push(new Fe);return this.active[B]=!0,this.workers.slice()},We.prototype.release=function(B){delete this.active[B],0===this.numActive()&&(this.workers.forEach(function(G){G.terminate()}),this.workers=null)},We.prototype.isPreloaded=function(){return!!this.active[et]},We.prototype.numActive=function(){return Object.keys(this.active).length};var ct,pt=Math.floor(a.browser.hardwareConcurrency/2);function dt(){return ct||(ct=new We),ct}function ut(B,G){var q={};for(var L in B)"ref"!==L&&(q[L]=B[L]);return a.refProperties.forEach(function(H){H in G&&(q[H]=G[H])}),q}function kt(B){B=B.slice();for(var G=Object.create(null),q=0;q<B.length;q++)G[B[q].id]=B[q];for(var L=0;L<B.length;L++)"ref"in B[L]&&(B[L]=ut(B[L],G[B[L].ref]));return B}We.workerCount=Math.max(Math.min(pt,6),1);var yt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function gt(B,G,q){q.push({command:yt.addSource,args:[B,G[B]]})}function At(B,G,q){G.push({command:yt.removeSource,args:[B]}),q[B]=!0}function Lt(B,G,q,L){At(B,q,L),gt(B,G,q)}function It(B,G,q){var L;for(L in B[q])if(B[q].hasOwnProperty(L)&&"data"!==L&&!a.deepEqual(B[q][L],G[q][L]))return!1;for(L in G[q])if(G[q].hasOwnProperty(L)&&"data"!==L&&!a.deepEqual(B[q][L],G[q][L]))return!1;return!0}function qt(B,G,q,L,H,K){var ne;for(ne in G=G||{},B=B||{})B.hasOwnProperty(ne)&&(a.deepEqual(B[ne],G[ne])||q.push({command:K,args:[L,ne,G[ne],H]}));for(ne in G)G.hasOwnProperty(ne)&&!B.hasOwnProperty(ne)&&(a.deepEqual(B[ne],G[ne])||q.push({command:K,args:[L,ne,G[ne],H]}))}function Qt(B){return B.id}function Vt(B,G){return B[G.id]=G,B}function Ft(B,G){if(!B)return[{command:yt.setStyle,args:[G]}];var q=[];try{if(!a.deepEqual(B.version,G.version))return[{command:yt.setStyle,args:[G]}];a.deepEqual(B.center,G.center)||q.push({command:yt.setCenter,args:[G.center]}),a.deepEqual(B.zoom,G.zoom)||q.push({command:yt.setZoom,args:[G.zoom]}),a.deepEqual(B.bearing,G.bearing)||q.push({command:yt.setBearing,args:[G.bearing]}),a.deepEqual(B.pitch,G.pitch)||q.push({command:yt.setPitch,args:[G.pitch]}),a.deepEqual(B.sprite,G.sprite)||q.push({command:yt.setSprite,args:[G.sprite]}),a.deepEqual(B.glyphs,G.glyphs)||q.push({command:yt.setGlyphs,args:[G.glyphs]}),a.deepEqual(B.transition,G.transition)||q.push({command:yt.setTransition,args:[G.transition]}),a.deepEqual(B.light,G.light)||q.push({command:yt.setLight,args:[G.light]});var L={},H=[];!function(ne,ce,me,Le){var Pe;for(Pe in ce=ce||{},ne=ne||{})ne.hasOwnProperty(Pe)&&(ce.hasOwnProperty(Pe)||At(Pe,me,Le));for(Pe in ce)ce.hasOwnProperty(Pe)&&(ne.hasOwnProperty(Pe)?a.deepEqual(ne[Pe],ce[Pe])||("geojson"===ne[Pe].type&&"geojson"===ce[Pe].type&&It(ne,ce,Pe)?me.push({command:yt.setGeoJSONSourceData,args:[Pe,ce[Pe].data]}):Lt(Pe,ce,me,Le)):gt(Pe,ce,me))}(B.sources,G.sources,H,L);var K=[];B.layers&&B.layers.forEach(function(ne){L[ne.source]?q.push({command:yt.removeLayer,args:[ne.id]}):K.push(ne)}),q=q.concat(H),function(ne,ce,me){ce=ce||[];var Le,Pe,je,He,$e,lt,ft,xt=(ne=ne||[]).map(Qt),Mt=ce.map(Qt),Tt=ne.reduce(Vt,{}),Dt=ce.reduce(Vt,{}),Et=xt.slice(),Gt=Object.create(null);for(Le=0,Pe=0;Le<xt.length;Le++)je=xt[Le],Dt.hasOwnProperty(je)?Pe++:(me.push({command:yt.removeLayer,args:[je]}),Et.splice(Et.indexOf(je,Pe),1));for(Le=0,Pe=0;Le<Mt.length;Le++)je=Mt[Mt.length-1-Le],Et[Et.length-1-Le]!==je&&(Tt.hasOwnProperty(je)?(me.push({command:yt.removeLayer,args:[je]}),Et.splice(Et.lastIndexOf(je,Et.length-Pe),1)):Pe++,lt=Et[Et.length-Le],me.push({command:yt.addLayer,args:[Dt[je],lt]}),Et.splice(Et.length-Le,0,je),Gt[je]=!0);for(Le=0;Le<Mt.length;Le++)if(He=Tt[je=Mt[Le]],$e=Dt[je],!Gt[je]&&!a.deepEqual(He,$e))if(a.deepEqual(He.source,$e.source)&&a.deepEqual(He["source-layer"],$e["source-layer"])&&a.deepEqual(He.type,$e.type)){for(ft in qt(He.layout,$e.layout,me,je,null,yt.setLayoutProperty),qt(He.paint,$e.paint,me,je,null,yt.setPaintProperty),a.deepEqual(He.filter,$e.filter)||me.push({command:yt.setFilter,args:[je,$e.filter]}),a.deepEqual(He.minzoom,$e.minzoom)&&a.deepEqual(He.maxzoom,$e.maxzoom)||me.push({command:yt.setLayerZoomRange,args:[je,$e.minzoom,$e.maxzoom]}),He)He.hasOwnProperty(ft)&&"layout"!==ft&&"paint"!==ft&&"filter"!==ft&&"metadata"!==ft&&"minzoom"!==ft&&"maxzoom"!==ft&&(0===ft.indexOf("paint.")?qt(He[ft],$e[ft],me,je,ft.slice(6),yt.setPaintProperty):a.deepEqual(He[ft],$e[ft])||me.push({command:yt.setLayerProperty,args:[je,ft,$e[ft]]}));for(ft in $e)$e.hasOwnProperty(ft)&&!He.hasOwnProperty(ft)&&"layout"!==ft&&"paint"!==ft&&"filter"!==ft&&"metadata"!==ft&&"minzoom"!==ft&&"maxzoom"!==ft&&(0===ft.indexOf("paint.")?qt(He[ft],$e[ft],me,je,ft.slice(6),yt.setPaintProperty):a.deepEqual(He[ft],$e[ft])||me.push({command:yt.setLayerProperty,args:[je,ft,$e[ft]]}))}else me.push({command:yt.removeLayer,args:[je]}),lt=Et[Et.lastIndexOf(je)+1],me.push({command:yt.addLayer,args:[$e,lt]})}(K,G.layers,q)}catch(ne){console.warn("Unable to compute style diff:",ne),q=[{command:yt.setStyle,args:[G]}]}return q}var en=function(B,G){this.reset(B,G)};en.prototype.reset=function(B,G){this.points=B||[],this._distances=[0];for(var q=1;q<this.points.length;q++)this._distances[q]=this._distances[q-1]+this.points[q].dist(this.points[q-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(G||0,.5*this.length),this.paddedLength=this.length-2*this.padding},en.prototype.lerp=function(B){if(1===this.points.length)return this.points[0];B=a.clamp(B,0,1);for(var G=1,q=this._distances[G],L=B*this.paddedLength+this.padding;q<L&&G<this._distances.length;)q=this._distances[++G];var H=G-1,K=this._distances[H],ne=q-K,ce=ne>0?(L-K)/ne:0;return this.points[H].mult(1-ce).add(this.points[G].mult(ce))};var wn=function(B,G,q){var L=this.boxCells=[],H=this.circleCells=[];this.xCellCount=Math.ceil(B/q),this.yCellCount=Math.ceil(G/q);for(var K=0;K<this.xCellCount*this.yCellCount;K++)L.push([]),H.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=B,this.height=G,this.xScale=this.xCellCount/B,this.yScale=this.yCellCount/G,this.boxUid=0,this.circleUid=0};function kn(B,G,q,L,H){var K=a.create();return G?(a.scale(K,K,[1/H,1/H,1]),q||a.rotateZ(K,K,L.angle)):a.multiply(K,L.labelPlaneMatrix,B),K}function on(B,G,q,L,H){if(G){var K=a.clone(B);return a.scale(K,K,[H,H,1]),q||a.rotateZ(K,K,-L.angle),K}return L.glCoordMatrix}function Ht(B,G){var q=[B.x,B.y,0,1];er(q,q,G);var L=q[3];return{point:new a.Point(q[0]/L,q[1]/L),signedDistanceFromCamera:L}}function nn(B,G){return.5+B/G*.5}function Kt(B,G){var q=B[0]/B[3],L=B[1]/B[3];return q>=-G[0]&&q<=G[0]&&L>=-G[1]&&L<=G[1]}function an(B,G,q,L,H,K,ne,ce){var me=L?B.textSizeData:B.iconSizeData,Le=a.evaluateSizeForZoom(me,q.transform.zoom),Pe=[256/q.width*2+1,256/q.height*2+1],je=L?B.text.dynamicLayoutVertexArray:B.icon.dynamicLayoutVertexArray;je.clear();for(var He=B.lineVertexArray,$e=L?B.text.placedSymbolArray:B.icon.placedSymbolArray,lt=q.transform.width/q.transform.height,ft=!1,xt=0;xt<$e.length;xt++){var Mt=$e.get(xt);if(Mt.hidden||Mt.writingMode===a.WritingMode.vertical&&!ft)Bn(Mt.numGlyphs,je);else{ft=!1;var Tt=[Mt.anchorX,Mt.anchorY,0,1];if(a.transformMat4(Tt,Tt,G),Kt(Tt,Pe)){var Dt=Tt[3],Et=nn(q.transform.cameraToCenterDistance,Dt),Gt=a.evaluateSizeForFeature(me,Le,Mt),Ut=ne?Gt/Et:Gt*Et,Bt=new a.Point(Mt.anchorX,Mt.anchorY),hn=Ht(Bt,H).point,pn={},En=mn(Mt,Ut,!1,ce,G,H,K,B.glyphOffsetArray,He,je,hn,Bt,pn,lt);ft=En.useVertical,(En.notEnoughRoom||ft||En.needsFlipping&&mn(Mt,Ut,!0,ce,G,H,K,B.glyphOffsetArray,He,je,hn,Bt,pn,lt).notEnoughRoom)&&Bn(Mt.numGlyphs,je)}else Bn(Mt.numGlyphs,je)}}L?B.text.dynamicLayoutVertexBuffer.updateData(je):B.icon.dynamicLayoutVertexBuffer.updateData(je)}function xn(B,G,q,L,H,K,ne,ce,me,Le,Pe){var je=ce.glyphStartIndex+ce.numGlyphs,He=ce.lineStartIndex,$e=ce.lineStartIndex+ce.lineLength,lt=G.getoffsetX(ce.glyphStartIndex),ft=G.getoffsetX(je-1),xt=vn(B*lt,q,L,H,K,ne,ce.segment,He,$e,me,Le,Pe);if(!xt)return null;var Mt=vn(B*ft,q,L,H,K,ne,ce.segment,He,$e,me,Le,Pe);return Mt?{first:xt,last:Mt}:null}function _n(B,G,q,L){return B===a.WritingMode.horizontal&&Math.abs(q.y-G.y)>Math.abs(q.x-G.x)*L?{useVertical:!0}:(B===a.WritingMode.vertical?G.y<q.y:G.x>q.x)?{needsFlipping:!0}:null}function mn(B,G,q,L,H,K,ne,ce,me,Le,Pe,je,He,$e){var lt,ft=G/24,xt=B.lineOffsetX*ft,Mt=B.lineOffsetY*ft;if(B.numGlyphs>1){var Tt=B.glyphStartIndex+B.numGlyphs,Dt=B.lineStartIndex,Et=B.lineStartIndex+B.lineLength,Gt=xn(ft,ce,xt,Mt,q,Pe,je,B,me,K,He);if(!Gt)return{notEnoughRoom:!0};var Ut=Ht(Gt.first.point,ne).point,Bt=Ht(Gt.last.point,ne).point;if(L&&!q){var hn=_n(B.writingMode,Ut,Bt,$e);if(hn)return hn}lt=[Gt.first];for(var pn=B.glyphStartIndex+1;pn<Tt-1;pn++)lt.push(vn(ft*ce.getoffsetX(pn),xt,Mt,q,Pe,je,B.segment,Dt,Et,me,K,He));lt.push(Gt.last)}else{if(L&&!q){var En=Ht(je,H).point,Cn=B.lineStartIndex+B.segment+1,Nn=new a.Point(me.getx(Cn),me.gety(Cn)),Wn=Ht(Nn,H),sr=Wn.signedDistanceFromCamera>0?Wn.point:An(je,Nn,En,1,H),Hn=_n(B.writingMode,En,sr,$e);if(Hn)return Hn}var rr=vn(ft*ce.getoffsetX(B.glyphStartIndex),xt,Mt,q,Pe,je,B.segment,B.lineStartIndex,B.lineStartIndex+B.lineLength,me,K,He);if(!rr)return{notEnoughRoom:!0};lt=[rr]}for(var gr=0,kr=lt;gr<kr.length;gr+=1){var Yn=kr[gr];a.addDynamicAttributes(Le,Yn.point,Yn.angle)}return{}}function An(B,G,q,L,H){var K=Ht(B.add(B.sub(G)._unit()),H).point,ne=q.sub(K);return q.add(ne._mult(L/ne.mag()))}function vn(B,G,q,L,H,K,ne,ce,me,Le,Pe,je){var He=L?B-G:B+G,$e=He>0?1:-1,lt=0;L&&($e*=-1,lt=Math.PI),$e<0&&(lt+=Math.PI);for(var ft=$e>0?ce+ne:ce+ne+1,xt=H,Mt=H,Tt=0,Dt=0,Et=Math.abs(He),Gt=[];Tt+Dt<=Et;){if((ft+=$e)<ce||ft>=me)return null;if(Mt=xt,Gt.push(xt),void 0===(xt=je[ft])){var Ut=new a.Point(Le.getx(ft),Le.gety(ft)),Bt=Ht(Ut,Pe);if(Bt.signedDistanceFromCamera>0)xt=je[ft]=Bt.point;else{var hn=ft-$e;xt=An(0===Tt?K:new a.Point(Le.getx(hn),Le.gety(hn)),Ut,Mt,Et-Tt+1,Pe)}}Tt+=Dt,Dt=Mt.dist(xt)}var pn=(Et-Tt)/Dt,En=xt.sub(Mt),Cn=En.mult(pn)._add(Mt);Cn._add(En._unit()._perp()._mult(q*$e));var Nn=lt+Math.atan2(xt.y-Mt.y,xt.x-Mt.x);return Gt.push(Cn),{point:Cn,angle:Nn,path:Gt}}wn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},wn.prototype.insert=function(B,G,q,L,H){this._forEachCell(G,q,L,H,this._insertBoxCell,this.boxUid++),this.boxKeys.push(B),this.bboxes.push(G),this.bboxes.push(q),this.bboxes.push(L),this.bboxes.push(H)},wn.prototype.insertCircle=function(B,G,q,L){this._forEachCell(G-L,q-L,G+L,q+L,this._insertCircleCell,this.circleUid++),this.circleKeys.push(B),this.circles.push(G),this.circles.push(q),this.circles.push(L)},wn.prototype._insertBoxCell=function(B,G,q,L,H,K){this.boxCells[H].push(K)},wn.prototype._insertCircleCell=function(B,G,q,L,H,K){this.circleCells[H].push(K)},wn.prototype._query=function(B,G,q,L,H,K){if(q<0||B>this.width||L<0||G>this.height)return!H&&[];var ne=[];if(B<=0&&G<=0&&this.width<=q&&this.height<=L){if(H)return!0;for(var ce=0;ce<this.boxKeys.length;ce++)ne.push({key:this.boxKeys[ce],x1:this.bboxes[4*ce],y1:this.bboxes[4*ce+1],x2:this.bboxes[4*ce+2],y2:this.bboxes[4*ce+3]});for(var me=0;me<this.circleKeys.length;me++){var Le=this.circles[3*me],Pe=this.circles[3*me+1],je=this.circles[3*me+2];ne.push({key:this.circleKeys[me],x1:Le-je,y1:Pe-je,x2:Le+je,y2:Pe+je})}return K?ne.filter(K):ne}var He={hitTest:H,seenUids:{box:{},circle:{}}};return this._forEachCell(B,G,q,L,this._queryCell,ne,He,K),H?ne.length>0:ne},wn.prototype._queryCircle=function(B,G,q,L,H){var K=B-q,ne=B+q,ce=G-q,me=G+q;if(ne<0||K>this.width||me<0||ce>this.height)return!L&&[];var Le=[],Pe={hitTest:L,circle:{x:B,y:G,radius:q},seenUids:{box:{},circle:{}}};return this._forEachCell(K,ce,ne,me,this._queryCellCircle,Le,Pe,H),L?Le.length>0:Le},wn.prototype.query=function(B,G,q,L,H){return this._query(B,G,q,L,!1,H)},wn.prototype.hitTest=function(B,G,q,L,H){return this._query(B,G,q,L,!0,H)},wn.prototype.hitTestCircle=function(B,G,q,L){return this._queryCircle(B,G,q,!0,L)},wn.prototype._queryCell=function(B,G,q,L,H,K,ne,ce){var me=ne.seenUids,Le=this.boxCells[H];if(null!==Le)for(var Pe=this.bboxes,je=0,He=Le;je<He.length;je+=1){var $e=He[je];if(!me.box[$e]){me.box[$e]=!0;var lt=4*$e;if(B<=Pe[lt+2]&&G<=Pe[lt+3]&&q>=Pe[lt+0]&&L>=Pe[lt+1]&&(!ce||ce(this.boxKeys[$e]))){if(ne.hitTest)return K.push(!0),!0;K.push({key:this.boxKeys[$e],x1:Pe[lt],y1:Pe[lt+1],x2:Pe[lt+2],y2:Pe[lt+3]})}}}var ft=this.circleCells[H];if(null!==ft)for(var xt=this.circles,Mt=0,Tt=ft;Mt<Tt.length;Mt+=1){var Dt=Tt[Mt];if(!me.circle[Dt]){me.circle[Dt]=!0;var Et=3*Dt;if(this._circleAndRectCollide(xt[Et],xt[Et+1],xt[Et+2],B,G,q,L)&&(!ce||ce(this.circleKeys[Dt]))){if(ne.hitTest)return K.push(!0),!0;var Gt=xt[Et],Ut=xt[Et+1],Bt=xt[Et+2];K.push({key:this.circleKeys[Dt],x1:Gt-Bt,y1:Ut-Bt,x2:Gt+Bt,y2:Ut+Bt})}}}},wn.prototype._queryCellCircle=function(B,G,q,L,H,K,ne,ce){var me=ne.circle,Le=ne.seenUids,Pe=this.boxCells[H];if(null!==Pe)for(var je=this.bboxes,He=0,$e=Pe;He<$e.length;He+=1){var lt=$e[He];if(!Le.box[lt]){Le.box[lt]=!0;var ft=4*lt;if(this._circleAndRectCollide(me.x,me.y,me.radius,je[ft+0],je[ft+1],je[ft+2],je[ft+3])&&(!ce||ce(this.boxKeys[lt])))return K.push(!0),!0}}var xt=this.circleCells[H];if(null!==xt)for(var Mt=this.circles,Tt=0,Dt=xt;Tt<Dt.length;Tt+=1){var Et=Dt[Tt];if(!Le.circle[Et]){Le.circle[Et]=!0;var Gt=3*Et;if(this._circlesCollide(Mt[Gt],Mt[Gt+1],Mt[Gt+2],me.x,me.y,me.radius)&&(!ce||ce(this.circleKeys[Et])))return K.push(!0),!0}}},wn.prototype._forEachCell=function(B,G,q,L,H,K,ne,ce){for(var me=this._convertToXCellCoord(B),Le=this._convertToYCellCoord(G),Pe=this._convertToXCellCoord(q),je=this._convertToYCellCoord(L),He=me;He<=Pe;He++)for(var $e=Le;$e<=je;$e++){var lt=this.xCellCount*$e+He;if(H.call(this,B,G,q,L,lt,K,ne,ce))return}},wn.prototype._convertToXCellCoord=function(B){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(B*this.xScale)))},wn.prototype._convertToYCellCoord=function(B){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(B*this.yScale)))},wn.prototype._circlesCollide=function(B,G,q,L,H,K){var ne=L-B,ce=H-G,me=q+K;return me*me>ne*ne+ce*ce},wn.prototype._circleAndRectCollide=function(B,G,q,L,H,K,ne){var ce=(K-L)/2,me=Math.abs(B-(L+ce));if(me>ce+q)return!1;var Le=(ne-H)/2,Pe=Math.abs(G-(H+Le));if(Pe>Le+q)return!1;if(me<=ce||Pe<=Le)return!0;var je=me-ce,He=Pe-Le;return je*je+He*He<=q*q};var On=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Bn(B,G){for(var q=0;q<B;q++){var L=G.length;G.resize(L+4),G.float32.set(On,3*L)}}function er(B,G,q){var L=G[0],H=G[1];return B[0]=q[0]*L+q[4]*H+q[12],B[1]=q[1]*L+q[5]*H+q[13],B[3]=q[3]*L+q[7]*H+q[15],B}var or=100,$n=function(B,G,q){void 0===G&&(G=new wn(B.width+200,B.height+200,25)),void 0===q&&(q=new wn(B.width+200,B.height+200,25)),this.transform=B,this.grid=G,this.ignoredGrid=q,this.pitchfactor=Math.cos(B._pitch)*B.cameraToCenterDistance,this.screenRightBoundary=B.width+or,this.screenBottomBoundary=B.height+or,this.gridRightBoundary=B.width+200,this.gridBottomBoundary=B.height+200};function qn(B,G,q){return G*(a.EXTENT/(B.tileSize*Math.pow(2,q-B.tileID.overscaledZ)))}$n.prototype.placeCollisionBox=function(B,G,q,L,H){var K=this.projectAndGetPerspectiveRatio(L,B.anchorPointX,B.anchorPointY),ne=q*K.perspectiveRatio,ce=B.x1*ne+K.point.x,me=B.y1*ne+K.point.y,Le=B.x2*ne+K.point.x,Pe=B.y2*ne+K.point.y;return!this.isInsideGrid(ce,me,Le,Pe)||!G&&this.grid.hitTest(ce,me,Le,Pe,H)?{box:[],offscreen:!1}:{box:[ce,me,Le,Pe],offscreen:this.isOffscreen(ce,me,Le,Pe)}},$n.prototype.placeCollisionCircles=function(B,G,q,L,H,K,ne,ce,me,Le,Pe,je,He){var $e=[],lt=new a.Point(G.anchorX,G.anchorY),ft=Ht(lt,K),xt=nn(this.transform.cameraToCenterDistance,ft.signedDistanceFromCamera),Mt=(Le?H/xt:H*xt)/a.ONE_EM,Tt=Ht(lt,ne).point,Dt=xn(Mt,L,G.lineOffsetX*Mt,G.lineOffsetY*Mt,!1,Tt,lt,G,q,ne,{}),Et=!1,Gt=!1,Ut=!0;if(Dt){for(var Bt=.5*je*xt+He,hn=new a.Point(-100,-100),pn=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),En=new en,Cn=Dt.first,Nn=Dt.last,Wn=[],sr=Cn.path.length-1;sr>=1;sr--)Wn.push(Cn.path[sr]);for(var Hn=1;Hn<Nn.path.length;Hn++)Wn.push(Nn.path[Hn]);var rr=2.5*Bt;if(ce){var gr=Wn.map(function(qr){return Ht(qr,ce)});Wn=gr.some(function(qr){return qr.signedDistanceFromCamera<=0})?[]:gr.map(function(qr){return qr.point})}var kr=[];if(Wn.length>0){for(var Yn=Wn[0].clone(),nr=Wn[0].clone(),yr=1;yr<Wn.length;yr++)Yn.x=Math.min(Yn.x,Wn[yr].x),Yn.y=Math.min(Yn.y,Wn[yr].y),nr.x=Math.max(nr.x,Wn[yr].x),nr.y=Math.max(nr.y,Wn[yr].y);kr=Yn.x>=hn.x&&nr.x<=pn.x&&Yn.y>=hn.y&&nr.y<=pn.y?[Wn]:nr.x<hn.x||Yn.x>pn.x||nr.y<hn.y||Yn.y>pn.y?[]:a.clipLine([Wn],hn.x,hn.y,pn.x,pn.y)}for(var lr=0,_r=kr;lr<_r.length;lr+=1){var Dr,Er=_r[lr];En.reset(Er,.25*Bt),Dr=En.length<=.5*Bt?1:Math.ceil(En.paddedLength/rr)+1;for(var Rr=0;Rr<Dr;Rr++){var Nr=Rr/Math.max(Dr-1,1),Vr=En.lerp(Nr),ui=Vr.x+or,ki=Vr.y+or;$e.push(ui,ki,Bt,0);var ea=ui-Bt,Bi=ki-Bt,Yi=ui+Bt,di=ki+Bt;if(Ut=Ut&&this.isOffscreen(ea,Bi,Yi,di),Gt=Gt||this.isInsideGrid(ea,Bi,Yi,di),!B&&this.grid.hitTestCircle(ui,ki,Bt,Pe)&&(Et=!0,!me))return{circles:[],offscreen:!1,collisionDetected:Et}}}}return{circles:!me&&Et||!Gt?[]:$e,offscreen:Ut,collisionDetected:Et}},$n.prototype.queryRenderedSymbols=function(B){if(0===B.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var G=[],q=1/0,L=1/0,H=-1/0,K=-1/0,ne=0,ce=B;ne<ce.length;ne+=1){var me=ce[ne],Le=new a.Point(me.x+or,me.y+or);q=Math.min(q,Le.x),L=Math.min(L,Le.y),H=Math.max(H,Le.x),K=Math.max(K,Le.y),G.push(Le)}for(var Pe={},je={},He=0,$e=this.grid.query(q,L,H,K).concat(this.ignoredGrid.query(q,L,H,K));He<$e.length;He+=1){var lt=$e[He],ft=lt.key;if(void 0===Pe[ft.bucketInstanceId]&&(Pe[ft.bucketInstanceId]={}),!Pe[ft.bucketInstanceId][ft.featureIndex]){var xt=[new a.Point(lt.x1,lt.y1),new a.Point(lt.x2,lt.y1),new a.Point(lt.x2,lt.y2),new a.Point(lt.x1,lt.y2)];a.polygonIntersectsPolygon(G,xt)&&(Pe[ft.bucketInstanceId][ft.featureIndex]=!0,void 0===je[ft.bucketInstanceId]&&(je[ft.bucketInstanceId]=[]),je[ft.bucketInstanceId].push(ft.featureIndex))}}return je},$n.prototype.insertCollisionBox=function(B,G,q,L,H){var K={bucketInstanceId:q,featureIndex:L,collisionGroupID:H};(G?this.ignoredGrid:this.grid).insert(K,B[0],B[1],B[2],B[3])},$n.prototype.insertCollisionCircles=function(B,G,q,L,H){for(var K=G?this.ignoredGrid:this.grid,ne={bucketInstanceId:q,featureIndex:L,collisionGroupID:H},ce=0;ce<B.length;ce+=4)K.insertCircle(ne,B[ce],B[ce+1],B[ce+2])},$n.prototype.projectAndGetPerspectiveRatio=function(B,G,q){var L=[G,q,0,1];return er(L,L,B),{point:new a.Point((L[0]/L[3]+1)/2*this.transform.width+or,(-L[1]/L[3]+1)/2*this.transform.height+or),perspectiveRatio:.5+this.transform.cameraToCenterDistance/L[3]*.5}},$n.prototype.isOffscreen=function(B,G,q,L){return q<or||B>=this.screenRightBoundary||L<or||G>this.screenBottomBoundary},$n.prototype.isInsideGrid=function(B,G,q,L){return q>=0&&B<this.gridRightBoundary&&L>=0&&G<this.gridBottomBoundary},$n.prototype.getViewportMatrix=function(){var B=a.identity([]);return a.translate(B,B,[-100,-100,0]),B};var cr=function(B,G,q,L){this.opacity=B?Math.max(0,Math.min(1,B.opacity+(B.placed?G:-G))):L&&q?1:0,this.placed=q};cr.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Nt=function(B,G,q,L,H){this.text=new cr(B?B.text:null,G,q,H),this.icon=new cr(B?B.icon:null,G,L,H)};Nt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Jt=function(B,G,q){this.text=B,this.icon=G,this.skipFade=q},un=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},fn=function(B,G,q,L,H){this.bucketInstanceId=B,this.featureIndex=G,this.sourceLayerIndex=q,this.bucketIndex=L,this.tileID=H},Mn=function(B){this.crossSourceCollisions=B,this.maxGroupID=0,this.collisionGroups={}};function Fn(B,G,q,L,H){var K=a.getAnchorAlignment(B),ne=-(K.horizontalAlign-.5)*G,ce=-(K.verticalAlign-.5)*q,me=a.evaluateVariableOffset(B,L);return new a.Point(ne+me[0]*H,ce+me[1]*H)}function In(B,G,q,L,H,K){var ne=B.x1,ce=B.x2,me=B.y1,Le=B.y2,Pe=B.anchorPointX,je=B.anchorPointY,He=new a.Point(G,q);return L&&He._rotate(H?K:-K),{x1:ne+He.x,y1:me+He.y,x2:ce+He.x,y2:Le+He.y,anchorPointX:Pe,anchorPointY:je}}Mn.prototype.get=function(B){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[B]){var G=++this.maxGroupID;this.collisionGroups[B]={ID:G,predicate:function(q){return q.collisionGroupID===G}}}return this.collisionGroups[B]};var Rn=function(B,G,q,L){this.transform=B.clone(),this.collisionIndex=new $n(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=G,this.retainedQueryData={},this.collisionGroups=new Mn(q),this.collisionCircleArrays={},this.prevPlacement=L,L&&(L.prevPlacement=void 0),this.placedOrientations={}};function Jn(B,G,q,L,H){B.emplaceBack(G?1:0,q?1:0,L||0,H||0),B.emplaceBack(G?1:0,q?1:0,L||0,H||0),B.emplaceBack(G?1:0,q?1:0,L||0,H||0),B.emplaceBack(G?1:0,q?1:0,L||0,H||0)}Rn.prototype.getBucketParts=function(B,G,q,L){var H=q.getBucket(G),K=q.latestFeatureIndex;if(H&&K&&G.id===H.layerIds[0]){var ne=q.collisionBoxArray,ce=H.layers[0].layout,me=Math.pow(2,this.transform.zoom-q.tileID.overscaledZ),Le=q.tileSize/a.EXTENT,Pe=this.transform.calculatePosMatrix(q.tileID.toUnwrapped()),je="map"===ce.get("text-pitch-alignment"),He="map"===ce.get("text-rotation-alignment"),$e=qn(q,1,this.transform.zoom),lt=kn(Pe,je,He,this.transform,$e),ft=null;if(je){var xt=on(Pe,je,He,this.transform,$e);ft=a.multiply([],this.transform.labelPlaneMatrix,xt)}this.retainedQueryData[H.bucketInstanceId]=new fn(H.bucketInstanceId,K,H.sourceLayerIndex,H.index,q.tileID);var Mt={bucket:H,layout:ce,posMatrix:Pe,textLabelPlaneMatrix:lt,labelToScreenMatrix:ft,scale:me,textPixelRatio:Le,holdingForFade:q.holdingForFade(),collisionBoxArray:ne,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(H.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(H.sourceID)};if(L)for(var Tt=0,Dt=H.sortKeyRanges;Tt<Dt.length;Tt+=1){var Et=Dt[Tt],Gt=Et.sortKey,Ut=Et.symbolInstanceStart,Bt=Et.symbolInstanceEnd;B.push({sortKey:Gt,symbolInstanceStart:Ut,symbolInstanceEnd:Bt,parameters:Mt})}else B.push({symbolInstanceStart:0,symbolInstanceEnd:H.symbolInstances.length,parameters:Mt})}},Rn.prototype.attemptAnchorPlacement=function(B,G,q,L,H,K,ne,ce,me,Le,Pe,je,He,$e,lt){var ft,xt=[je.textOffset0,je.textOffset1],Mt=Fn(B,q,L,xt,H),Tt=this.collisionIndex.placeCollisionBox(In(G,Mt.x,Mt.y,K,ne,this.transform.angle),Pe,ce,me,Le.predicate);if(!lt||0!==this.collisionIndex.placeCollisionBox(In(lt,Mt.x,Mt.y,K,ne,this.transform.angle),Pe,ce,me,Le.predicate).box.length)return Tt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[je.crossTileID]&&this.prevPlacement.placements[je.crossTileID]&&this.prevPlacement.placements[je.crossTileID].text&&(ft=this.prevPlacement.variableOffsets[je.crossTileID].anchor),this.variableOffsets[je.crossTileID]={textOffset:xt,width:q,height:L,anchor:B,textBoxScale:H,prevAnchor:ft},this.markUsedJustification(He,B,je,$e),He.allowVerticalPlacement&&(this.markUsedOrientation(He,$e,je),this.placedOrientations[je.crossTileID]=$e),{shift:Mt,placedGlyphBoxes:Tt}):void 0},Rn.prototype.placeLayerBucketPart=function(B,G,q){var L=this,H=B.parameters,K=H.bucket,ne=H.layout,ce=H.posMatrix,me=H.textLabelPlaneMatrix,Le=H.labelToScreenMatrix,Pe=H.textPixelRatio,je=H.holdingForFade,He=H.collisionBoxArray,$e=H.partiallyEvaluatedTextSize,lt=H.collisionGroup,ft=ne.get("text-optional"),xt=ne.get("icon-optional"),Mt=ne.get("text-allow-overlap"),Tt=ne.get("icon-allow-overlap"),Dt="map"===ne.get("text-rotation-alignment"),Et="map"===ne.get("text-pitch-alignment"),Gt="none"!==ne.get("icon-text-fit"),Ut="viewport-y"===ne.get("symbol-z-order"),Bt=Mt&&(Tt||!K.hasIconData()||xt),hn=Tt&&(Mt||!K.hasTextData()||ft);!K.collisionArrays&&He&&K.deserializeCollisionBoxes(He);var pn=function(Hn,rr){if(!G[Hn.crossTileID])if(je)L.placements[Hn.crossTileID]=new Jt(!1,!1,!1);else{var gr,kr=!1,Yn=!1,nr=!0,yr=null,lr={box:null,offscreen:null},_r={box:null,offscreen:null},Er=null,Dr=null,Rr=0,Nr=0,Vr=0;rr.textFeatureIndex?Rr=rr.textFeatureIndex:Hn.useRuntimeCollisionCircles&&(Rr=Hn.featureIndex),rr.verticalTextFeatureIndex&&(Nr=rr.verticalTextFeatureIndex);var ui=rr.textBox;if(ui){var ki=function(bi){var wa=a.WritingMode.horizontal;if(K.allowVerticalPlacement&&!bi&&L.prevPlacement){var qi=L.prevPlacement.placedOrientations[Hn.crossTileID];qi&&(L.placedOrientations[Hn.crossTileID]=qi,wa=qi,L.markUsedOrientation(K,wa,Hn))}return wa},ea=function(bi,wa){if(K.allowVerticalPlacement&&Hn.numVerticalGlyphVertices>0&&rr.verticalTextBox)for(var qi=0,Al=K.writingModes;qi<Al.length&&(Al[qi]===a.WritingMode.vertical?(lr=wa(),_r=lr):lr=bi(),!(lr&&lr.box&&lr.box.length));qi+=1);else lr=bi()};if(ne.get("text-variable-anchor")){var Bi=ne.get("text-variable-anchor");if(L.prevPlacement&&L.prevPlacement.variableOffsets[Hn.crossTileID]){var Yi=L.prevPlacement.variableOffsets[Hn.crossTileID];Bi.indexOf(Yi.anchor)>0&&(Bi=Bi.filter(function(bi){return bi!==Yi.anchor})).unshift(Yi.anchor)}var di=function(bi,wa,qi){for(var Al=bi.x2-bi.x1,yc=bi.y2-bi.y1,Pu=Hn.textBoxScale,xc=Gt&&!Tt?wa:null,hl={box:[],offscreen:!1},bc=Mt?2*Bi.length:Bi.length,pl=0;pl<bc;++pl){var Iu=Bi[pl%Bi.length],zu=pl>=Bi.length,Gs=L.attemptAnchorPlacement(Iu,bi,Al,yc,Pu,Dt,Et,Pe,ce,lt,zu,Hn,K,qi,xc);if(Gs&&(hl=Gs.placedGlyphBoxes)&&hl.box&&hl.box.length){kr=!0,yr=Gs.shift;break}}return hl};ea(function(){return di(ui,rr.iconBox,a.WritingMode.horizontal)},function(){var bi=rr.verticalTextBox,wa=lr&&lr.box&&lr.box.length;return K.allowVerticalPlacement&&!wa&&Hn.numVerticalGlyphVertices>0&&bi?di(bi,rr.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),lr&&(kr=lr.box,nr=lr.offscreen);var qr=ki(lr&&lr.box);if(!kr&&L.prevPlacement){var yi=L.prevPlacement.variableOffsets[Hn.crossTileID];yi&&(L.variableOffsets[Hn.crossTileID]=yi,L.markUsedJustification(K,yi.anchor,Hn,qr))}}else{var ri=function(bi,wa){var qi=L.collisionIndex.placeCollisionBox(bi,Mt,Pe,ce,lt.predicate);return qi&&qi.box&&qi.box.length&&(L.markUsedOrientation(K,wa,Hn),L.placedOrientations[Hn.crossTileID]=wa),qi};ea(function(){return ri(ui,a.WritingMode.horizontal)},function(){var bi=rr.verticalTextBox;return K.allowVerticalPlacement&&Hn.numVerticalGlyphVertices>0&&bi?ri(bi,a.WritingMode.vertical):{box:null,offscreen:null}}),ki(lr&&lr.box&&lr.box.length)}}if(kr=(gr=lr)&&gr.box&&gr.box.length>0,nr=gr&&gr.offscreen,Hn.useRuntimeCollisionCircles){var Wr=K.text.placedSymbolArray.get(Hn.centerJustifiedTextSymbolIndex),xi=a.evaluateSizeForFeature(K.textSizeData,$e,Wr),Ai=ne.get("text-padding"),Ii=Hn.collisionCircleDiameter;Er=L.collisionIndex.placeCollisionCircles(Mt,Wr,K.lineVertexArray,K.glyphOffsetArray,xi,ce,me,Le,q,Et,lt.predicate,Ii,Ai),kr=Mt||Er.circles.length>0&&!Er.collisionDetected,nr=nr&&Er.offscreen}if(rr.iconFeatureIndex&&(Vr=rr.iconFeatureIndex),rr.iconBox){var cs=function(bi){var wa=Gt&&yr?In(bi,yr.x,yr.y,Dt,Et,L.transform.angle):bi;return L.collisionIndex.placeCollisionBox(wa,Tt,Pe,ce,lt.predicate)};Yn=_r&&_r.box&&_r.box.length&&rr.verticalIconBox?(Dr=cs(rr.verticalIconBox)).box.length>0:(Dr=cs(rr.iconBox)).box.length>0,nr=nr&&Dr.offscreen}var fs=ft||0===Hn.numHorizontalGlyphVertices&&0===Hn.numVerticalGlyphVertices,Xr=xt||0===Hn.numIconVertices;if(fs||Xr?Xr?fs||(Yn=Yn&&kr):kr=Yn&&kr:Yn=kr=Yn&&kr,kr&&gr&&gr.box&&(_r&&_r.box&&Nr?L.collisionIndex.insertCollisionBox(gr.box,ne.get("text-ignore-placement"),K.bucketInstanceId,Nr,lt.ID):L.collisionIndex.insertCollisionBox(gr.box,ne.get("text-ignore-placement"),K.bucketInstanceId,Rr,lt.ID)),Yn&&Dr&&L.collisionIndex.insertCollisionBox(Dr.box,ne.get("icon-ignore-placement"),K.bucketInstanceId,Vr,lt.ID),Er&&(kr&&L.collisionIndex.insertCollisionCircles(Er.circles,ne.get("text-ignore-placement"),K.bucketInstanceId,Rr,lt.ID),q)){var qs=K.bucketInstanceId,Ms=L.collisionCircleArrays[qs];void 0===Ms&&(Ms=L.collisionCircleArrays[qs]=new un);for(var ho=0;ho<Er.circles.length;ho+=4)Ms.circles.push(Er.circles[ho+0]),Ms.circles.push(Er.circles[ho+1]),Ms.circles.push(Er.circles[ho+2]),Ms.circles.push(Er.collisionDetected?1:0)}L.placements[Hn.crossTileID]=new Jt(kr||Bt,Yn||hn,nr||K.justReloaded),G[Hn.crossTileID]=!0}};if(Ut)for(var En=K.getSortedSymbolIndexes(this.transform.angle),Cn=En.length-1;Cn>=0;--Cn){var Nn=En[Cn];pn(K.symbolInstances.get(Nn),K.collisionArrays[Nn])}else for(var Wn=B.symbolInstanceStart;Wn<B.symbolInstanceEnd;Wn++)pn(K.symbolInstances.get(Wn),K.collisionArrays[Wn]);if(q&&K.bucketInstanceId in this.collisionCircleArrays){var sr=this.collisionCircleArrays[K.bucketInstanceId];a.invert(sr.invProjMatrix,ce),sr.viewportMatrix=this.collisionIndex.getViewportMatrix()}K.justReloaded=!1},Rn.prototype.markUsedJustification=function(B,G,q,L){var H,K={left:q.leftJustifiedTextSymbolIndex,center:q.centerJustifiedTextSymbolIndex,right:q.rightJustifiedTextSymbolIndex};H=L===a.WritingMode.vertical?q.verticalPlacedTextSymbolIndex:K[a.getAnchorJustification(G)];for(var ne=0,ce=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex,q.verticalPlacedTextSymbolIndex];ne<ce.length;ne+=1){var me=ce[ne];me>=0&&(B.text.placedSymbolArray.get(me).crossTileID=H>=0&&me!==H?0:q.crossTileID)}},Rn.prototype.markUsedOrientation=function(B,G,q){for(var L=G===a.WritingMode.horizontal||G===a.WritingMode.horizontalOnly?G:0,H=G===a.WritingMode.vertical?G:0,K=0,ne=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex];K<ne.length;K+=1){var ce=ne[K];B.text.placedSymbolArray.get(ce).placedOrientation=L}q.verticalPlacedTextSymbolIndex&&(B.text.placedSymbolArray.get(q.verticalPlacedTextSymbolIndex).placedOrientation=H)},Rn.prototype.commit=function(B){this.commitTime=B,this.zoomAtLastRecencyCheck=this.transform.zoom;var G=this.prevPlacement,q=!1;this.prevZoomAdjustment=G?G.zoomAdjustment(this.transform.zoom):0;var L=G?G.symbolFadeChange(B):1,H=G?G.opacities:{},K=G?G.variableOffsets:{},ne=G?G.placedOrientations:{};for(var ce in this.placements){var me=this.placements[ce],Le=H[ce];Le?(this.opacities[ce]=new Nt(Le,L,me.text,me.icon),q=q||me.text!==Le.text.placed||me.icon!==Le.icon.placed):(this.opacities[ce]=new Nt(null,L,me.text,me.icon,me.skipFade),q=q||me.text||me.icon)}for(var Pe in H){var je=H[Pe];if(!this.opacities[Pe]){var He=new Nt(je,L,!1,!1);He.isHidden()||(this.opacities[Pe]=He,q=q||je.text.placed||je.icon.placed)}}for(var $e in K)this.variableOffsets[$e]||!this.opacities[$e]||this.opacities[$e].isHidden()||(this.variableOffsets[$e]=K[$e]);for(var lt in ne)this.placedOrientations[lt]||!this.opacities[lt]||this.opacities[lt].isHidden()||(this.placedOrientations[lt]=ne[lt]);q?this.lastPlacementChangeTime=B:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=G?G.lastPlacementChangeTime:B)},Rn.prototype.updateLayerOpacities=function(B,G){for(var q={},L=0,H=G;L<H.length;L+=1){var K=H[L],ne=K.getBucket(B);ne&&K.latestFeatureIndex&&B.id===ne.layerIds[0]&&this.updateBucketOpacities(ne,q,K.collisionBoxArray)}},Rn.prototype.updateBucketOpacities=function(B,G,q){var L=this;B.hasTextData()&&B.text.opacityVertexArray.clear(),B.hasIconData()&&B.icon.opacityVertexArray.clear(),B.hasIconCollisionBoxData()&&B.iconCollisionBox.collisionVertexArray.clear(),B.hasTextCollisionBoxData()&&B.textCollisionBox.collisionVertexArray.clear();var H=B.layers[0].layout,K=new Nt(null,0,!1,!1,!0),ne=H.get("text-allow-overlap"),ce=H.get("icon-allow-overlap"),me=H.get("text-variable-anchor"),Le="map"===H.get("text-rotation-alignment"),Pe="map"===H.get("text-pitch-alignment"),je="none"!==H.get("icon-text-fit"),He=new Nt(null,0,ne&&(ce||!B.hasIconData()||H.get("icon-optional")),ce&&(ne||!B.hasTextData()||H.get("text-optional")),!0);!B.collisionArrays&&q&&(B.hasIconCollisionBoxData()||B.hasTextCollisionBoxData())&&B.deserializeCollisionBoxes(q);for(var $e=function(Mt,Tt,Dt){for(var Et=0;Et<Tt/4;Et++)Mt.opacityVertexArray.emplaceBack(Dt)},lt=function(Mt){var Tt=B.symbolInstances.get(Mt),Dt=Tt.numHorizontalGlyphVertices,Et=Tt.numVerticalGlyphVertices,Gt=Tt.crossTileID,Ut=G[Gt],Bt=L.opacities[Gt];Ut?Bt=K:Bt||(Bt=He,L.opacities[Gt]=Bt),G[Gt]=!0;var hn=Dt>0||Et>0,pn=Tt.numIconVertices>0,En=L.placedOrientations[Tt.crossTileID],Cn=En===a.WritingMode.vertical,Nn=En===a.WritingMode.horizontal||En===a.WritingMode.horizontalOnly;if(hn){var Wn=Sn(Bt.text),sr=Cn?ln:Wn;$e(B.text,Dt,sr);var Hn=Nn?ln:Wn;$e(B.text,Et,Hn);var rr=Bt.text.isHidden();[Tt.rightJustifiedTextSymbolIndex,Tt.centerJustifiedTextSymbolIndex,Tt.leftJustifiedTextSymbolIndex].forEach(function(Vr){Vr>=0&&(B.text.placedSymbolArray.get(Vr).hidden=rr||Cn?1:0)}),Tt.verticalPlacedTextSymbolIndex>=0&&(B.text.placedSymbolArray.get(Tt.verticalPlacedTextSymbolIndex).hidden=rr||Nn?1:0);var gr=L.variableOffsets[Tt.crossTileID];gr&&L.markUsedJustification(B,gr.anchor,Tt,En);var kr=L.placedOrientations[Tt.crossTileID];kr&&(L.markUsedJustification(B,"left",Tt,kr),L.markUsedOrientation(B,kr,Tt))}if(pn){var Yn=Sn(Bt.icon),nr=!(je&&Tt.verticalPlacedIconSymbolIndex&&Cn);if(Tt.placedIconSymbolIndex>=0){var yr=nr?Yn:ln;$e(B.icon,Tt.numIconVertices,yr),B.icon.placedSymbolArray.get(Tt.placedIconSymbolIndex).hidden=Bt.icon.isHidden()}if(Tt.verticalPlacedIconSymbolIndex>=0){var lr=nr?ln:Yn;$e(B.icon,Tt.numVerticalIconVertices,lr),B.icon.placedSymbolArray.get(Tt.verticalPlacedIconSymbolIndex).hidden=Bt.icon.isHidden()}}if(B.hasIconCollisionBoxData()||B.hasTextCollisionBoxData()){var _r=B.collisionArrays[Mt];if(_r){var Er=new a.Point(0,0);if(_r.textBox||_r.verticalTextBox){var Dr=!0;if(me){var Rr=L.variableOffsets[Gt];Rr?(Er=Fn(Rr.anchor,Rr.width,Rr.height,Rr.textOffset,Rr.textBoxScale),Le&&Er._rotate(Pe?L.transform.angle:-L.transform.angle)):Dr=!1}_r.textBox&&Jn(B.textCollisionBox.collisionVertexArray,Bt.text.placed,!Dr||Cn,Er.x,Er.y),_r.verticalTextBox&&Jn(B.textCollisionBox.collisionVertexArray,Bt.text.placed,!Dr||Nn,Er.x,Er.y)}var Nr=Boolean(!Nn&&_r.verticalIconBox);_r.iconBox&&Jn(B.iconCollisionBox.collisionVertexArray,Bt.icon.placed,Nr,je?Er.x:0,je?Er.y:0),_r.verticalIconBox&&Jn(B.iconCollisionBox.collisionVertexArray,Bt.icon.placed,!Nr,je?Er.x:0,je?Er.y:0)}}},ft=0;ft<B.symbolInstances.length;ft++)lt(ft);if(B.sortFeatures(this.transform.angle),this.retainedQueryData[B.bucketInstanceId]&&(this.retainedQueryData[B.bucketInstanceId].featureSortOrder=B.featureSortOrder),B.hasTextData()&&B.text.opacityVertexBuffer&&B.text.opacityVertexBuffer.updateData(B.text.opacityVertexArray),B.hasIconData()&&B.icon.opacityVertexBuffer&&B.icon.opacityVertexBuffer.updateData(B.icon.opacityVertexArray),B.hasIconCollisionBoxData()&&B.iconCollisionBox.collisionVertexBuffer&&B.iconCollisionBox.collisionVertexBuffer.updateData(B.iconCollisionBox.collisionVertexArray),B.hasTextCollisionBoxData()&&B.textCollisionBox.collisionVertexBuffer&&B.textCollisionBox.collisionVertexBuffer.updateData(B.textCollisionBox.collisionVertexArray),B.bucketInstanceId in this.collisionCircleArrays){var xt=this.collisionCircleArrays[B.bucketInstanceId];B.placementInvProjMatrix=xt.invProjMatrix,B.placementViewportMatrix=xt.viewportMatrix,B.collisionCircleArray=xt.circles,delete this.collisionCircleArrays[B.bucketInstanceId]}},Rn.prototype.symbolFadeChange=function(B){return 0===this.fadeDuration?1:(B-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Rn.prototype.zoomAdjustment=function(B){return Math.max(0,(this.transform.zoom-B)/1.5)},Rn.prototype.hasTransitions=function(B){return this.stale||B-this.lastPlacementChangeTime<this.fadeDuration},Rn.prototype.stillRecent=function(B,G){var q=this.zoomAtLastRecencyCheck===G?1-this.zoomAdjustment(G):1;return this.zoomAtLastRecencyCheck=G,this.commitTime+this.fadeDuration*q>B},Rn.prototype.setStale=function(){this.stale=!0};var Yt=Math.pow(2,25),gn=Math.pow(2,24),Ct=Math.pow(2,17),Zt=Math.pow(2,16),$t=Math.pow(2,9),dn=Math.pow(2,8),yn=Math.pow(2,1);function Sn(B){if(0===B.opacity&&!B.placed)return 0;if(1===B.opacity&&B.placed)return 4294967295;var G=B.placed?1:0,q=Math.floor(127*B.opacity);return q*Yt+G*gn+q*Ct+G*Zt+q*$t+G*dn+q*yn+G}var ln=0,Wt=function(B){this._sortAcrossTiles="viewport-y"!==B.layout.get("symbol-z-order")&&void 0!==B.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Wt.prototype.continuePlacement=function(B,G,q,L,H){for(var K=this._bucketParts;this._currentTileIndex<B.length;){var ne=B[this._currentTileIndex];if(G.getBucketParts(K,L,ne,this._sortAcrossTiles),this._currentTileIndex++,H())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,K.sort(function(me,Le){return me.sortKey-Le.sortKey}));this._currentPartIndex<K.length;){var ce=K[this._currentPartIndex];if(G.placeLayerBucketPart(ce,this._seenCrossTileIDs,q),this._currentPartIndex++,H())return!0}return!1};var Xt=function(B,G,q,L,H,K,ne){this.placement=new Rn(B,H,K,ne),this._currentPlacementIndex=G.length-1,this._forceFullPlacement=q,this._showCollisionBoxes=L,this._done=!1};Xt.prototype.isDone=function(){return this._done},Xt.prototype.continuePlacement=function(B,G,q){for(var L=this,H=a.browser.now(),K=function(){var me=a.browser.now()-H;return!L._forceFullPlacement&&me>2};this._currentPlacementIndex>=0;){var ne=G[B[this._currentPlacementIndex]],ce=this.placement.collisionIndex.transform.zoom;if("symbol"===ne.type&&(!ne.minzoom||ne.minzoom<=ce)&&(!ne.maxzoom||ne.maxzoom>ce)){if(this._inProgressLayer||(this._inProgressLayer=new Wt(ne)),this._inProgressLayer.continuePlacement(q[ne.source],this.placement,this._showCollisionBoxes,ne,K))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Xt.prototype.commit=function(B){return this.placement.commit(B),this.placement};var sn=512/a.EXTENT/2,cn=function(B,G,q){this.tileID=B,this.indexedSymbolInstances={},this.bucketInstanceId=q;for(var L=0;L<G.length;L++){var H=G.get(L),K=H.key;this.indexedSymbolInstances[K]||(this.indexedSymbolInstances[K]=[]),this.indexedSymbolInstances[K].push({crossTileID:H.crossTileID,coord:this.getScaledCoordinates(H,B)})}};cn.prototype.getScaledCoordinates=function(B,G){var q=G.canonical.z-this.tileID.canonical.z,L=sn/Math.pow(2,q);return{x:Math.floor((G.canonical.x*a.EXTENT+B.anchorX)*L),y:Math.floor((G.canonical.y*a.EXTENT+B.anchorY)*L)}},cn.prototype.findMatches=function(B,G,q){for(var L=this.tileID.canonical.z<G.canonical.z?1:Math.pow(2,this.tileID.canonical.z-G.canonical.z),H=0;H<B.length;H++){var K=B.get(H);if(!K.crossTileID){var ne=this.indexedSymbolInstances[K.key];if(ne)for(var ce=this.getScaledCoordinates(K,G),me=0,Le=ne;me<Le.length;me+=1){var Pe=Le[me];if(Math.abs(Pe.coord.x-ce.x)<=L&&Math.abs(Pe.coord.y-ce.y)<=L&&!q[Pe.crossTileID]){q[Pe.crossTileID]=!0,K.crossTileID=Pe.crossTileID;break}}}}};var Ln=function(){this.maxCrossTileID=0};Ln.prototype.generate=function(){return++this.maxCrossTileID};var Pn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Pn.prototype.handleWrapJump=function(B){var G=Math.round((B-this.lng)/360);if(0!==G)for(var q in this.indexes){var L=this.indexes[q],H={};for(var K in L){var ne=L[K];ne.tileID=ne.tileID.unwrapTo(ne.tileID.wrap+G),H[ne.tileID.key]=ne}this.indexes[q]=H}this.lng=B},Pn.prototype.addBucket=function(B,G,q){if(this.indexes[B.overscaledZ]&&this.indexes[B.overscaledZ][B.key]){if(this.indexes[B.overscaledZ][B.key].bucketInstanceId===G.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(B.overscaledZ,this.indexes[B.overscaledZ][B.key])}for(var L=0;L<G.symbolInstances.length;L++)G.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[B.overscaledZ]||(this.usedCrossTileIDs[B.overscaledZ]={});var H=this.usedCrossTileIDs[B.overscaledZ];for(var K in this.indexes){var ne=this.indexes[K];if(Number(K)>B.overscaledZ)for(var ce in ne){var me=ne[ce];me.tileID.isChildOf(B)&&me.findMatches(G.symbolInstances,B,H)}else{var Le=ne[B.scaledTo(Number(K)).key];Le&&Le.findMatches(G.symbolInstances,B,H)}}for(var Pe=0;Pe<G.symbolInstances.length;Pe++){var je=G.symbolInstances.get(Pe);je.crossTileID||(je.crossTileID=q.generate(),H[je.crossTileID]=!0)}return void 0===this.indexes[B.overscaledZ]&&(this.indexes[B.overscaledZ]={}),this.indexes[B.overscaledZ][B.key]=new cn(B,G.symbolInstances,G.bucketInstanceId),!0},Pn.prototype.removeBucketCrossTileIDs=function(B,G){for(var q in G.indexedSymbolInstances)for(var L=0,H=G.indexedSymbolInstances[q];L<H.length;L+=1){var K=H[L];delete this.usedCrossTileIDs[B][K.crossTileID]}},Pn.prototype.removeStaleBuckets=function(B){var G=!1;for(var q in this.indexes){var L=this.indexes[q];for(var H in L)B[L[H].bucketInstanceId]||(this.removeBucketCrossTileIDs(q,L[H]),delete L[H],G=!0)}return G};var Vn=function(){this.layerIndexes={},this.crossTileIDs=new Ln,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Vn.prototype.addLayer=function(B,G,q){var L=this.layerIndexes[B.id];void 0===L&&(L=this.layerIndexes[B.id]=new Pn);var H=!1,K={};L.handleWrapJump(q);for(var ne=0,ce=G;ne<ce.length;ne+=1){var me=ce[ne],Le=me.getBucket(B);Le&&B.id===Le.layerIds[0]&&(Le.bucketInstanceId||(Le.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(me.tileID,Le,this.crossTileIDs)&&(H=!0),K[Le.bucketInstanceId]=!0)}return L.removeStaleBuckets(K)&&(H=!0),H},Vn.prototype.pruneUnusedLayers=function(B){var G={};for(var q in B.forEach(function(L){G[L]=!0}),this.layerIndexes)G[q]||delete this.layerIndexes[q]};var Un=function(B,G){return a.emitValidationErrors(B,G&&G.filter(function(q){return"source.canvas"!==q.identifier}))},Xn=a.pick(yt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Zn=a.pick(yt,["setCenter","setZoom","setBearing","setPitch"]),Qn=function(){var B={},G=a.styleSpec.$version;for(var q in a.styleSpec.$root){var H,L=a.styleSpec.$root[q];L.required&&null!=(H="version"===q?G:"array"===L.type?[]:{})&&(B[q]=H)}return B}(),ar=function(B){function G(q,L){var H=this;void 0===L&&(L={}),B.call(this),this.map=q,this.dispatcher=new C(dt(),this),this.imageManager=new d,this.imageManager.setEventedParent(this),this.glyphManager=new v(q._requestManager,L.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new Vn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var K=this;this._rtlTextPluginCallback=G.registerForPluginStateChange(function(ne){var ce={pluginStatus:ne.pluginStatus,pluginURL:ne.pluginURL};K.dispatcher.broadcast("syncRTLPluginState",ce,function(me,Le){if(a.triggerPluginCompletionEvent(me),Le&&Le.every(function(je){return je}))for(var Pe in K.sourceCaches)K.sourceCaches[Pe].reload()})}),this.on("data",function(ne){if("source"===ne.dataType&&"metadata"===ne.sourceDataType){var ce=H.sourceCaches[ne.sourceId];if(ce){var me=ce.getSource();if(me&&me.vectorLayerIds)for(var Le in H._layers){var Pe=H._layers[Le];Pe.source===me.id&&H._validateLayer(Pe)}}}})}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.loadURL=function(q,L){var H=this;void 0===L&&(L={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var K="boolean"==typeof L.validate?L.validate:!a.isMapboxURL(q);q=this.map._requestManager.normalizeStyleURL(q,L.accessToken);var ne=this.map._requestManager.transformRequest(q,a.ResourceType.Style);this._request=a.getJSON(ne,function(ce,me){H._request=null,ce?H.fire(new a.ErrorEvent(ce)):me&&H._load(me,K)})},G.prototype.loadJSON=function(q,L){var H=this;void 0===L&&(L={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){H._request=null,H._load(q,!1!==L.validate)})},G.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Qn,!1)},G.prototype._load=function(q,L){if(!L||!Un(this,a.validateStyle(q))){for(var H in this._loaded=!0,this.stylesheet=q,q.sources)this.addSource(H,q.sources[H],{validate:!1});q.sprite?this._loadSprite(q.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(q.glyphs);var K=kt(this.stylesheet.layers);this._order=K.map(function(Le){return Le.id}),this._layers={},this._serializedLayers={};for(var ne=0,ce=K;ne<ce.length;ne+=1){var me=ce[ne];(me=a.createStyleLayer(me)).setEventedParent(this,{layer:{id:me.id}}),this._layers[me.id]=me,this._serializedLayers[me.id]=me.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},G.prototype._loadSprite=function(q){var L=this;this._spriteRequest=function(H,K,ne){var ce,me,Le,Pe=a.browser.devicePixelRatio>1?"@2x":"",je=a.getJSON(K.transformRequest(K.normalizeSpriteURL(H,Pe,".json"),a.ResourceType.SpriteJSON),function(lt,ft){je=null,Le||(Le=lt,ce=ft,$e())}),He=a.getImage(K.transformRequest(K.normalizeSpriteURL(H,Pe,".png"),a.ResourceType.SpriteImage),function(lt,ft){He=null,Le||(Le=lt,me=ft,$e())});function $e(){if(Le)ne(Le);else if(ce&&me){var lt=a.browser.getImageData(me),ft={};for(var xt in ce){var Mt=ce[xt],Tt=Mt.width,Dt=Mt.height,Et=Mt.x,Gt=Mt.y,Ut=Mt.sdf,Bt=Mt.pixelRatio,hn=Mt.stretchX,pn=Mt.stretchY,En=Mt.content,Cn=new a.RGBAImage({width:Tt,height:Dt});a.RGBAImage.copy(lt,Cn,{x:Et,y:Gt},{x:0,y:0},{width:Tt,height:Dt}),ft[xt]={data:Cn,pixelRatio:Bt,sdf:Ut,stretchX:hn,stretchY:pn,content:En}}ne(null,ft)}}return{cancel:function(){je&&(je.cancel(),je=null),He&&(He.cancel(),He=null)}}}(q,this.map._requestManager,function(H,K){if(L._spriteRequest=null,H)L.fire(new a.ErrorEvent(H));else if(K)for(var ne in K)L.imageManager.addImage(ne,K[ne]);L.imageManager.setLoaded(!0),L._availableImages=L.imageManager.listImages(),L.dispatcher.broadcast("setImages",L._availableImages),L.fire(new a.Event("data",{dataType:"style"}))})},G.prototype._validateLayer=function(q){var L=this.sourceCaches[q.source];if(L){var H=q.sourceLayer;if(H){var K=L.getSource();("geojson"===K.type||K.vectorLayerIds&&-1===K.vectorLayerIds.indexOf(H))&&this.fire(new a.ErrorEvent(new Error('Source layer "'+H+'" does not exist on source "'+K.id+'" as specified by style layer "'+q.id+'"')))}}},G.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var q in this.sourceCaches)if(!this.sourceCaches[q].loaded())return!1;return!!this.imageManager.isLoaded()},G.prototype._serializeLayers=function(q){for(var L=[],H=0,K=q;H<K.length;H+=1){var ne=K[H],ce=this._layers[ne];"custom"!==ce.type&&L.push(ce.serialize())}return L},G.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var q in this.sourceCaches)if(this.sourceCaches[q].hasTransition())return!0;for(var L in this._layers)if(this._layers[L].hasTransition())return!0;return!1},G.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},G.prototype.update=function(q){if(this._loaded){var L=this._changed;if(this._changed){var H=Object.keys(this._updatedLayers),K=Object.keys(this._removedLayers);for(var ne in(H.length||K.length)&&this._updateWorkerLayers(H,K),this._updatedSources){var ce=this._updatedSources[ne];"reload"===ce?this._reloadSource(ne):"clear"===ce&&this._clearSource(ne)}for(var me in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[me].updateTransitions(q);this.light.updateTransitions(q),this._resetUpdates()}var Le={};for(var Pe in this.sourceCaches){var je=this.sourceCaches[Pe];Le[Pe]=je.used,je.used=!1}for(var He=0,$e=this._order;He<$e.length;He+=1){var lt=$e[He],ft=this._layers[lt];ft.recalculate(q,this._availableImages),!ft.isHidden(q.zoom)&&ft.source&&(this.sourceCaches[ft.source].used=!0)}for(var xt in Le){var Mt=this.sourceCaches[xt];Le[xt]!==Mt.used&&Mt.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:xt}))}this.light.recalculate(q),this.z=q.zoom,L&&this.fire(new a.Event("data",{dataType:"style"}))}},G.prototype._updateTilesForChangedImages=function(){var q=Object.keys(this._changedImages);if(q.length){for(var L in this.sourceCaches)this.sourceCaches[L].reloadTilesForDependencies(["icons","patterns"],q);this._changedImages={}}},G.prototype._updateWorkerLayers=function(q,L){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(q),removedIds:L})},G.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},G.prototype.setState=function(q){var L=this;if(this._checkLoaded(),Un(this,a.validateStyle(q)))return!1;(q=a.clone$1(q)).layers=kt(q.layers);var H=Ft(this.serialize(),q).filter(function(ne){return!(ne.command in Zn)});if(0===H.length)return!1;var K=H.filter(function(ne){return!(ne.command in Xn)});if(K.length>0)throw new Error("Unimplemented: "+K.map(function(ne){return ne.command}).join(", ")+".");return H.forEach(function(ne){"setTransition"!==ne.command&&L[ne.command].apply(L,ne.args)}),this.stylesheet=q,!0},G.prototype.addImage=function(q,L){if(this.getImage(q))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(q,L),this._afterImageUpdated(q)},G.prototype.updateImage=function(q,L){this.imageManager.updateImage(q,L)},G.prototype.getImage=function(q){return this.imageManager.getImage(q)},G.prototype.removeImage=function(q){if(!this.getImage(q))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(q),this._afterImageUpdated(q)},G.prototype._afterImageUpdated=function(q){this._availableImages=this.imageManager.listImages(),this._changedImages[q]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},G.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},G.prototype.addSource=function(q,L,H){var K=this;if(void 0===H&&(H={}),this._checkLoaded(),void 0!==this.sourceCaches[q])throw new Error("There is already a source with this ID");if(!L.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(L).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(L.type)>=0&&this._validate(a.validateStyle.source,"sources."+q,L,null,H))){this.map&&this.map._collectResourceTiming&&(L.collectResourceTiming=!0);var ne=this.sourceCaches[q]=new rt(q,L,this.dispatcher);ne.style=this,ne.setEventedParent(this,function(){return{isSourceLoaded:K.loaded(),source:ne.serialize(),sourceId:q}}),ne.onAdd(this.map),this._changed=!0}},G.prototype.removeSource=function(q){if(this._checkLoaded(),void 0===this.sourceCaches[q])throw new Error("There is no source with this ID");for(var L in this._layers)if(this._layers[L].source===q)return this.fire(new a.ErrorEvent(new Error('Source "'+q+'" cannot be removed while layer "'+L+'" is using it.')));var H=this.sourceCaches[q];delete this.sourceCaches[q],delete this._updatedSources[q],H.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:q})),H.setEventedParent(null),H.clearTiles(),H.onRemove&&H.onRemove(this.map),this._changed=!0},G.prototype.setGeoJSONSourceData=function(q,L){this._checkLoaded(),this.sourceCaches[q].getSource().setData(L),this._changed=!0},G.prototype.getSource=function(q){return this.sourceCaches[q]&&this.sourceCaches[q].getSource()},G.prototype.addLayer=function(q,L,H){void 0===H&&(H={}),this._checkLoaded();var K=q.id;if(this.getLayer(K))this.fire(new a.ErrorEvent(new Error('Layer with id "'+K+'" already exists on this map')));else{var ne;if("custom"===q.type){if(Un(this,a.validateCustomStyleLayer(q)))return;ne=a.createStyleLayer(q)}else{if("object"==typeof q.source&&(this.addSource(K,q.source),q=a.clone$1(q),q=a.extend(q,{source:K})),this._validate(a.validateStyle.layer,"layers."+K,q,{arrayIndex:-1},H))return;ne=a.createStyleLayer(q),this._validateLayer(ne),ne.setEventedParent(this,{layer:{id:K}}),this._serializedLayers[ne.id]=ne.serialize()}var ce=L?this._order.indexOf(L):this._order.length;if(L&&-1===ce)this.fire(new a.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.')));else{if(this._order.splice(ce,0,K),this._layerOrderChanged=!0,this._layers[K]=ne,this._removedLayers[K]&&ne.source&&"custom"!==ne.type){var me=this._removedLayers[K];delete this._removedLayers[K],me.type!==ne.type?this._updatedSources[ne.source]="clear":(this._updatedSources[ne.source]="reload",this.sourceCaches[ne.source].pause())}this._updateLayer(ne),ne.onAdd&&ne.onAdd(this.map)}}},G.prototype.moveLayer=function(q,L){if(this._checkLoaded(),this._changed=!0,this._layers[q]){if(q!==L){var H=this._order.indexOf(q);this._order.splice(H,1);var K=L?this._order.indexOf(L):this._order.length;L&&-1===K?this.fire(new a.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.'))):(this._order.splice(K,0,q),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be moved.")))},G.prototype.removeLayer=function(q){this._checkLoaded();var L=this._layers[q];if(L){L.setEventedParent(null);var H=this._order.indexOf(q);this._order.splice(H,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[q]=L,delete this._layers[q],delete this._serializedLayers[q],delete this._updatedLayers[q],delete this._updatedPaintProps[q],L.onRemove&&L.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be removed.")))},G.prototype.getLayer=function(q){return this._layers[q]},G.prototype.hasLayer=function(q){return q in this._layers},G.prototype.setLayerZoomRange=function(q,L,H){this._checkLoaded();var K=this.getLayer(q);K?K.minzoom===L&&K.maxzoom===H||(null!=L&&(K.minzoom=L),null!=H&&(K.maxzoom=H),this._updateLayer(K)):this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot have zoom extent.")))},G.prototype.setFilter=function(q,L,H){void 0===H&&(H={}),this._checkLoaded();var K=this.getLayer(q);if(K){if(!a.deepEqual(K.filter,L))return null==L?(K.filter=void 0,void this._updateLayer(K)):void(this._validate(a.validateStyle.filter,"layers."+K.id+".filter",L,null,H)||(K.filter=a.clone$1(L),this._updateLayer(K)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be filtered.")))},G.prototype.getFilter=function(q){return a.clone$1(this.getLayer(q).filter)},G.prototype.setLayoutProperty=function(q,L,H,K){void 0===K&&(K={}),this._checkLoaded();var ne=this.getLayer(q);ne?a.deepEqual(ne.getLayoutProperty(L),H)||(ne.setLayoutProperty(L,H,K),this._updateLayer(ne)):this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")))},G.prototype.getLayoutProperty=function(q,L){var H=this.getLayer(q);if(H)return H.getLayoutProperty(L);this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style.")))},G.prototype.setPaintProperty=function(q,L,H,K){void 0===K&&(K={}),this._checkLoaded();var ne=this.getLayer(q);ne?a.deepEqual(ne.getPaintProperty(L),H)||(ne.setPaintProperty(L,H,K)&&this._updateLayer(ne),this._changed=!0,this._updatedPaintProps[q]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")))},G.prototype.getPaintProperty=function(q,L){return this.getLayer(q).getPaintProperty(L)},G.prototype.setFeatureState=function(q,L){this._checkLoaded();var H=q.source,K=q.sourceLayer,ne=this.sourceCaches[H];if(void 0!==ne){var ce=ne.getSource().type;"geojson"===ce&&K?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==ce||K?(void 0===q.id&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ne.setFeatureState(K,q.id,L)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+H+"' does not exist in the map's style.")))},G.prototype.removeFeatureState=function(q,L){this._checkLoaded();var H=q.source,K=this.sourceCaches[H];if(void 0!==K){var ne=K.getSource().type,ce="vector"===ne?q.sourceLayer:void 0;"vector"!==ne||ce?L&&"string"!=typeof q.id&&"number"!=typeof q.id?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):K.removeFeatureState(ce,q.id,L):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+H+"' does not exist in the map's style.")))},G.prototype.getFeatureState=function(q){this._checkLoaded();var L=q.source,H=q.sourceLayer,K=this.sourceCaches[L];if(void 0!==K){if("vector"!==K.getSource().type||H)return void 0===q.id&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),K.getFeatureState(H,q.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+L+"' does not exist in the map's style.")))},G.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},G.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(q){return q.serialize()}),layers:this._serializeLayers(this._order)},function(q){return void 0!==q})},G.prototype._updateLayer=function(q){this._updatedLayers[q.id]=!0,q.source&&!this._updatedSources[q.source]&&"raster"!==this.sourceCaches[q.source].getSource().type&&(this._updatedSources[q.source]="reload",this.sourceCaches[q.source].pause()),this._changed=!0},G.prototype._flattenAndSortRenderedFeatures=function(q){for(var L=this,H=function(En){return"fill-extrusion"===L._layers[En].type},K={},ne=[],ce=this._order.length-1;ce>=0;ce--){var me=this._order[ce];if(H(me)){K[me]=ce;for(var Le=0,Pe=q;Le<Pe.length;Le+=1){var je=Pe[Le][me];if(je)for(var He=0,$e=je;He<$e.length;He+=1){var lt=$e[He];ne.push(lt)}}}}ne.sort(function(En,Cn){return Cn.intersectionZ-En.intersectionZ});for(var ft=[],xt=this._order.length-1;xt>=0;xt--){var Mt=this._order[xt];if(H(Mt))for(var Tt=ne.length-1;Tt>=0;Tt--){var Dt=ne[Tt].feature;if(K[Dt.layer.id]<xt)break;ft.push(Dt),ne.pop()}else for(var Et=0,Gt=q;Et<Gt.length;Et+=1){var Ut=Gt[Et][Mt];if(Ut)for(var Bt=0,hn=Ut;Bt<hn.length;Bt+=1){var pn=hn[Bt];ft.push(pn.feature)}}}return ft},G.prototype.queryRenderedFeatures=function(q,L,H){L&&L.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",L.filter,null,L);var K={};if(L&&L.layers){if(!Array.isArray(L.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ne=0,ce=L.layers;ne<ce.length;ne+=1){var me=ce[ne],Le=this._layers[me];if(!Le)return this.fire(new a.ErrorEvent(new Error("The layer '"+me+"' does not exist in the map's style and cannot be queried for features."))),[];K[Le.source]=!0}}var Pe=[];for(var je in L.availableImages=this._availableImages,this.sourceCaches)L.layers&&!K[je]||Pe.push(X(this.sourceCaches[je],this._layers,this._serializedLayers,q,L,H));return this.placement&&Pe.push(function(He,$e,lt,ft,xt,Mt,Tt){for(var Dt={},Et=Mt.queryRenderedSymbols(ft),Gt=[],Ut=0,Bt=Object.keys(Et).map(Number);Ut<Bt.length;Ut+=1){var hn=Bt[Ut];Gt.push(Tt[hn])}Gt.sort(W);for(var pn=function(){var sr=Cn[En],Hn=sr.featureIndex.lookupSymbolFeatures(Et[sr.bucketInstanceId],$e,sr.bucketIndex,sr.sourceLayerIndex,xt.filter,xt.layers,xt.availableImages,He);for(var rr in Hn){var gr=Dt[rr]=Dt[rr]||[],kr=Hn[rr];kr.sort(function(lr,_r){var Er=sr.featureSortOrder;if(Er){var Dr=Er.indexOf(lr.featureIndex);return Er.indexOf(_r.featureIndex)-Dr}return _r.featureIndex-lr.featureIndex});for(var Yn=0,nr=kr;Yn<nr.length;Yn+=1){var yr=nr[Yn];gr.push(yr)}}},En=0,Cn=Gt;En<Cn.length;En+=1)pn();var Nn=function(sr){Dt[sr].forEach(function(Hn){var rr=Hn.feature,gr=He[sr],kr=lt[gr.source].getFeatureState(rr.layer["source-layer"],rr.id);rr.source=rr.layer.source,rr.layer["source-layer"]&&(rr.sourceLayer=rr.layer["source-layer"]),rr.state=kr})};for(var Wn in Dt)Nn(Wn);return Dt}(this._layers,this._serializedLayers,this.sourceCaches,q,L,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Pe)},G.prototype.querySourceFeatures=function(q,L){L&&L.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",L.filter,null,L);var H=this.sourceCaches[q];return H?function(K,ne){for(var ce=K.getRenderableIds().map(function($e){return K.getTileByID($e)}),me=[],Le={},Pe=0;Pe<ce.length;Pe++){var je=ce[Pe],He=je.tileID.canonical.key;Le[He]||(Le[He]=!0,je.querySourceFeatures(me,ne))}return me}(H,L):[]},G.prototype.addSourceType=function(q,L,H){return G.getSourceType(q)?H(new Error('A source type called "'+q+'" already exists.')):(G.setSourceType(q,L),L.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:q,url:L.workerSourceURL},H):H(null,null))},G.prototype.getLight=function(){return this.light.getLight()},G.prototype.setLight=function(q,L){void 0===L&&(L={}),this._checkLoaded();var H=this.light.getLight(),K=!1;for(var ne in q)if(!a.deepEqual(q[ne],H[ne])){K=!0;break}if(K){var ce={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(q,L),this.light.updateTransitions(ce)}},G.prototype._validate=function(q,L,H,K,ne){return void 0===ne&&(ne={}),(!ne||!1!==ne.validate)&&Un(this,q.call(a.validateStyle,a.extend({key:L,style:this.serialize(),value:H,styleSpec:a.styleSpec},K)))},G.prototype._remove=function(){for(var q in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[q].setEventedParent(null);for(var L in this.sourceCaches)this.sourceCaches[L].clearTiles(),this.sourceCaches[L].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},G.prototype._clearSource=function(q){this.sourceCaches[q].clearTiles()},G.prototype._reloadSource=function(q){this.sourceCaches[q].resume(),this.sourceCaches[q].reload()},G.prototype._updateSources=function(q){for(var L in this.sourceCaches)this.sourceCaches[L].update(q)},G.prototype._generateCollisionBoxes=function(){for(var q in this.sourceCaches)this._reloadSource(q)},G.prototype._updatePlacement=function(q,L,H,K,ne){void 0===ne&&(ne=!1);for(var ce=!1,me=!1,Le={},Pe=0,je=this._order;Pe<je.length;Pe+=1){var He=je[Pe],$e=this._layers[He];if("symbol"===$e.type){if(!Le[$e.source]){var lt=this.sourceCaches[$e.source];Le[$e.source]=lt.getRenderableIds(!0).map(function(Et){return lt.getTileByID(Et)}).sort(function(Et,Gt){return Gt.tileID.overscaledZ-Et.tileID.overscaledZ||(Et.tileID.isLessThan(Gt.tileID)?-1:1)})}var ft=this.crossTileSymbolIndex.addLayer($e,Le[$e.source],q.center.lng);ce=ce||ft}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((ne=ne||this._layerOrderChanged||0===H)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),q.zoom))&&(this.pauseablePlacement=new Xt(q,this._order,ne,L,H,K,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Le),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),me=!0),ce&&this.pauseablePlacement.placement.setStale()),me||ce)for(var xt=0,Mt=this._order;xt<Mt.length;xt+=1){var Tt=Mt[xt],Dt=this._layers[Tt];"symbol"===Dt.type&&this.placement.updateLayerOpacities(Dt,Le[Dt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},G.prototype._releaseSymbolFadeTiles=function(){for(var q in this.sourceCaches)this.sourceCaches[q].releaseSymbolFadeTiles()},G.prototype.getImages=function(q,L,H){this.imageManager.getImages(L.icons,H),this._updateTilesForChangedImages();var K=this.sourceCaches[L.source];K&&K.setDependencies(L.tileID.key,L.type,L.icons)},G.prototype.getGlyphs=function(q,L,H){this.glyphManager.getGlyphs(L.stacks,H)},G.prototype.getResource=function(q,L,H){return a.makeRequest(L,H)},G}(a.Evented);ar.getSourceType=function(B){return te[B]},ar.setSourceType=function(B,G){te[B]=G},ar.registerForPluginStateChange=a.registerForPluginStateChange;var ir=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),hr=hi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),fr=hi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),wr=hi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),tr=hi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),vr=hi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Mr=hi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Ir=hi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),ii=hi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),oi=hi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Oi=hi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),ti=hi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Ti=hi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ra=hi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ia=hi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Ro=hi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),xl=hi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),ds=hi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),gs=hi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Is=hi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Pa=hi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),zs=hi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),Ds=hi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Rs=hi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),no=hi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),mo=hi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),Fo=hi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function hi(B,G){var q=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,L=G.match(/attribute ([\w]+) ([\w]+)/g),H=B.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),K=G.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ne=K?K.concat(H):H,ce={};return{fragmentSource:B=B.replace(q,function(me,Le,Pe,je,He){return ce[He]=!0,"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+He+"\nvarying "+Pe+" "+je+" "+He+";\n#else\nuniform "+Pe+" "+je+" u_"+He+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+He+"\n    "+Pe+" "+je+" "+He+" = u_"+He+";\n#endif\n"}),vertexSource:G=G.replace(q,function(me,Le,Pe,je,He){var $e="float"===je?"vec2":"vec4",lt=He.match(/color/)?"color":$e;return ce[He]?"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+He+"\nuniform lowp float u_"+He+"_t;\nattribute "+Pe+" "+$e+" a_"+He+";\nvarying "+Pe+" "+je+" "+He+";\n#else\nuniform "+Pe+" "+je+" u_"+He+";\n#endif\n":"vec4"===lt?"\n#ifndef HAS_UNIFORM_u_"+He+"\n    "+He+" = a_"+He+";\n#else\n    "+Pe+" "+je+" "+He+" = u_"+He+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+He+"\n    "+He+" = unpack_mix_"+lt+"(a_"+He+", u_"+He+"_t);\n#else\n    "+Pe+" "+je+" "+He+" = u_"+He+";\n#endif\n":"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+He+"\nuniform lowp float u_"+He+"_t;\nattribute "+Pe+" "+$e+" a_"+He+";\n#else\nuniform "+Pe+" "+je+" u_"+He+";\n#endif\n":"vec4"===lt?"\n#ifndef HAS_UNIFORM_u_"+He+"\n    "+Pe+" "+je+" "+He+" = a_"+He+";\n#else\n    "+Pe+" "+je+" "+He+" = u_"+He+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+He+"\n    "+Pe+" "+je+" "+He+" = unpack_mix_"+lt+"(a_"+He+", u_"+He+"_t);\n#else\n    "+Pe+" "+je+" "+He+" = u_"+He+";\n#endif\n"}),staticAttributes:L,staticUniforms:ne}}var Di=Object.freeze({__proto__:null,prelude:hr,background:fr,backgroundPattern:wr,circle:tr,clippingMask:vr,heatmap:Mr,heatmapTexture:Ir,collisionBox:ii,collisionCircle:oi,debug:Oi,fill:ti,fillOutline:Ti,fillOutlinePattern:ra,fillPattern:ia,fillExtrusion:Ro,fillExtrusionPattern:xl,hillshadePrepare:ds,hillshade:gs,line:Is,lineGradient:Pa,linePattern:zs,lineSDF:Ds,raster:Rs,symbolIcon:no,symbolSDF:mo,symbolTextAndIcon:Fo}),ro=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Ga(B){for(var G=[],q=0;q<B.length;q++)if(null!==B[q]){var L=B[q].split(" ");G.push(L.pop())}return G}ro.prototype.bind=function(B,G,q,L,H,K,ne,ce){this.context=B;for(var me=this.boundPaintVertexBuffers.length!==L.length,Le=0;!me&&Le<L.length;Le++)this.boundPaintVertexBuffers[Le]!==L[Le]&&(me=!0);var Pe=!this.vao||this.boundProgram!==G||this.boundLayoutVertexBuffer!==q||me||this.boundIndexBuffer!==H||this.boundVertexOffset!==K||this.boundDynamicVertexBuffer!==ne||this.boundDynamicVertexBuffer2!==ce;!B.extVertexArrayObject||Pe?this.freshBind(G,q,L,H,K,ne,ce):(B.bindVertexArrayOES.set(this.vao),ne&&ne.bind(),H&&H.dynamicDraw&&H.bind(),ce&&ce.bind())},ro.prototype.freshBind=function(B,G,q,L,H,K,ne){var ce,me=B.numAttributes,Le=this.context,Pe=Le.gl;if(Le.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Le.extVertexArrayObject.createVertexArrayOES(),Le.bindVertexArrayOES.set(this.vao),ce=0,this.boundProgram=B,this.boundLayoutVertexBuffer=G,this.boundPaintVertexBuffers=q,this.boundIndexBuffer=L,this.boundVertexOffset=H,this.boundDynamicVertexBuffer=K,this.boundDynamicVertexBuffer2=ne;else{ce=Le.currentNumAttributes||0;for(var je=me;je<ce;je++)Pe.disableVertexAttribArray(je)}G.enableAttributes(Pe,B);for(var He=0,$e=q;He<$e.length;He+=1)$e[He].enableAttributes(Pe,B);K&&K.enableAttributes(Pe,B),ne&&ne.enableAttributes(Pe,B),G.bind(),G.setVertexAttribPointers(Pe,B,H);for(var lt=0,ft=q;lt<ft.length;lt+=1){var xt=ft[lt];xt.bind(),xt.setVertexAttribPointers(Pe,B,H)}K&&(K.bind(),K.setVertexAttribPointers(Pe,B,H)),L&&L.bind(),ne&&(ne.bind(),ne.setVertexAttribPointers(Pe,B,H)),Le.currentNumAttributes=me},ro.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Ia=function(B,G,q,L,H,K){var ne=B.gl;this.program=ne.createProgram();for(var ce=Ga(q.staticAttributes),me=L?L.getBinderAttributes():[],Le=ce.concat(me),Pe=q.staticUniforms?Ga(q.staticUniforms):[],je=L?L.getBinderUniforms():[],He=[],$e=0,lt=Pe.concat(je);$e<lt.length;$e+=1){var ft=lt[$e];He.indexOf(ft)<0&&He.push(ft)}var xt=L?L.defines():[];K&&xt.push("#define OVERDRAW_INSPECTOR;");var Mt=xt.concat(hr.fragmentSource,q.fragmentSource).join("\n"),Tt=xt.concat(hr.vertexSource,q.vertexSource).join("\n"),Dt=ne.createShader(ne.FRAGMENT_SHADER);if(ne.isContextLost())this.failedToCreate=!0;else{ne.shaderSource(Dt,Mt),ne.compileShader(Dt),ne.attachShader(this.program,Dt);var Et=ne.createShader(ne.VERTEX_SHADER);if(ne.isContextLost())this.failedToCreate=!0;else{ne.shaderSource(Et,Tt),ne.compileShader(Et),ne.attachShader(this.program,Et),this.attributes={};var Gt={};this.numAttributes=Le.length;for(var Ut=0;Ut<this.numAttributes;Ut++)Le[Ut]&&(ne.bindAttribLocation(this.program,Ut,Le[Ut]),this.attributes[Le[Ut]]=Ut);ne.linkProgram(this.program),ne.deleteShader(Et),ne.deleteShader(Dt);for(var Bt=0;Bt<He.length;Bt++){var hn=He[Bt];if(hn&&!Gt[hn]){var pn=ne.getUniformLocation(this.program,hn);pn&&(Gt[hn]=pn)}}this.fixedUniforms=H(B,Gt),this.binderUniforms=L?L.getUniforms(B,Gt):[]}}};function yo(B,G,q){var L=1/qn(q,1,G.transform.tileZoom),H=Math.pow(2,q.tileID.overscaledZ),K=q.tileSize*Math.pow(2,G.transform.tileZoom)/H,ne=K*(q.tileID.canonical.x+q.tileID.wrap*H),ce=K*q.tileID.canonical.y;return{u_image:0,u_texsize:q.imageAtlasTexture.size,u_scale:[L,B.fromScale,B.toScale],u_fade:B.t,u_pixel_coord_upper:[ne>>16,ce>>16],u_pixel_coord_lower:[65535&ne,65535&ce]}}Ia.prototype.draw=function(B,G,q,L,H,K,ne,ce,me,Le,Pe,je,He,$e,lt,ft){var xt,Mt=B.gl;if(!this.failedToCreate){for(var Tt in B.program.set(this.program),B.setDepthMode(q),B.setStencilMode(L),B.setColorMode(H),B.setCullFace(K),this.fixedUniforms)this.fixedUniforms[Tt].set(ne[Tt]);$e&&$e.setUniforms(B,this.binderUniforms,je,{zoom:He});for(var Dt=(xt={},xt[Mt.LINES]=2,xt[Mt.TRIANGLES]=3,xt[Mt.LINE_STRIP]=1,xt)[G],Et=0,Gt=Pe.get();Et<Gt.length;Et+=1){var Ut=Gt[Et],Bt=Ut.vaos||(Ut.vaos={});(Bt[ce]||(Bt[ce]=new ro)).bind(B,this,me,$e?$e.getPaintVertexBuffers():[],Le,Ut.vertexOffset,lt,ft),Mt.drawElements(G,Ut.primitiveLength*Dt,Mt.UNSIGNED_SHORT,Ut.primitiveOffset*Dt*2)}}};var Za=function(B,G,q,L){var H=G.style.light,K=H.properties.get("position"),ne=[K.x,K.y,K.z],ce=a.create$1();"viewport"===H.properties.get("anchor")&&a.fromRotation(ce,-G.transform.angle),a.transformMat3(ne,ne,ce);var me=H.properties.get("color");return{u_matrix:B,u_lightpos:ne,u_lightintensity:H.properties.get("intensity"),u_lightcolor:[me.r,me.g,me.b],u_vertical_gradient:+q,u_opacity:L}},xo=function(B,G,q,L,H,K,ne){return a.extend(Za(B,G,q,L),yo(K,G,ne),{u_height_factor:-Math.pow(2,H.overscaledZ)/ne.tileSize/8})},io=function(B){return{u_matrix:B}},bo=function(B,G,q,L){return a.extend(io(B),yo(q,G,L))},Ya=function(B,G){return{u_matrix:B,u_world:G}},Js=function(B,G,q,L,H){return a.extend(bo(B,G,q,L),{u_world:H})},Fs=function(B,G,q,L){var H,K,ne=B.transform;if("map"===L.paint.get("circle-pitch-alignment")){var ce=qn(q,1,ne.zoom);H=!0,K=[ce,ce]}else H=!1,K=ne.pixelsToGLUnits;return{u_camera_to_center_distance:ne.cameraToCenterDistance,u_scale_with_map:+("map"===L.paint.get("circle-pitch-scale")),u_matrix:B.translatePosMatrix(G.posMatrix,q,L.paint.get("circle-translate"),L.paint.get("circle-translate-anchor")),u_pitch_with_map:+H,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:K}},Bo=function(B,G,q){var L=qn(q,1,G.zoom),H=Math.pow(2,G.zoom-q.tileID.overscaledZ),K=q.tileID.overscaleFactor();return{u_matrix:B,u_camera_to_center_distance:G.cameraToCenterDistance,u_pixels_to_tile_units:L,u_extrude_scale:[G.pixelsToGLUnits[0]/(L*H),G.pixelsToGLUnits[1]/(L*H)],u_overscale_factor:K}},al=function(B,G,q){return{u_matrix:B,u_inv_matrix:G,u_camera_to_center_distance:q.cameraToCenterDistance,u_viewport_size:[q.width,q.height]}},ol=function(B,G,q){return void 0===q&&(q=1),{u_matrix:B,u_color:G,u_overlay:0,u_overlay_scale:q}},No=function(B){return{u_matrix:B}},sl=function(B,G,q,L){return{u_matrix:B,u_extrude_scale:qn(G,1,q),u_intensity:L}},bl=function(B,G,q,L){var H=a.create();a.ortho(H,0,B.width,B.height,0,0,1);var K=B.context.gl;return{u_matrix:H,u_world:[K.drawingBufferWidth,K.drawingBufferHeight],u_image:q,u_color_ramp:L,u_opacity:G.paint.get("heatmap-opacity")}},_l=function(B,G,q){var L=q.paint.get("hillshade-shadow-color"),H=q.paint.get("hillshade-highlight-color"),K=q.paint.get("hillshade-accent-color"),ne=q.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===q.paint.get("hillshade-illumination-anchor")&&(ne-=B.transform.angle);var ce,me,Le,Pe=!B.options.moving;return{u_matrix:B.transform.calculatePosMatrix(G.tileID.toUnwrapped(),Pe),u_image:0,u_latrange:(ce=G.tileID,me=Math.pow(2,ce.canonical.z),Le=ce.canonical.y,[new a.MercatorCoordinate(0,Le/me).toLngLat().lat,new a.MercatorCoordinate(0,(Le+1)/me).toLngLat().lat]),u_light:[q.paint.get("hillshade-exaggeration"),ne],u_shadow:L,u_highlight:H,u_accent:K}},jo=function(B,G){var q=G.stride,L=a.create();return a.ortho(L,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(L,L,[0,-a.EXTENT,0]),{u_matrix:L,u_image:1,u_dimension:[q,q],u_zoom:B.overscaledZ,u_unpack:G.getUnpackVector()}},Wa=function(B,G,q){var L=B.transform;return{u_matrix:za(B,G,q),u_ratio:1/qn(G,1,L.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]]}},$o=function(B,G,q,L){return a.extend(Wa(B,G,q),{u_image:0,u_image_height:L})},Uo=function(B,G,q,L){var H=B.transform,K=Vo(G,H);return{u_matrix:za(B,G,q),u_texsize:G.imageAtlasTexture.size,u_ratio:1/qn(G,1,H.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[K,L.fromScale,L.toScale],u_fade:L.t,u_units_to_pixels:[1/H.pixelsToGLUnits[0],1/H.pixelsToGLUnits[1]]}},vs=function(B,G,q,L,H){var K=B.transform,ne=B.lineAtlas,ce=Vo(G,K),me="round"===q.layout.get("line-cap"),Le=ne.getDash(L.from,me),Pe=ne.getDash(L.to,me),je=Le.width*H.fromScale,He=Pe.width*H.toScale;return a.extend(Wa(B,G,q),{u_patternscale_a:[ce/je,-Le.height/2],u_patternscale_b:[ce/He,-Pe.height/2],u_sdfgamma:ne.width/(256*Math.min(je,He)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Le.y,u_tex_y_b:Pe.y,u_mix:H.t})};function Vo(B,G){return 1/qn(B,1,G.tileZoom)}function za(B,G,q){return B.translatePosMatrix(G.tileID.posMatrix,G,q.paint.get("line-translate"),q.paint.get("line-translate-anchor"))}var Ks=function(B,G,q,L,H){return{u_matrix:B,u_tl_parent:G,u_scale_parent:q,u_buffer_scale:1,u_fade_t:L.mix,u_opacity:L.opacity*H.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:H.paint.get("raster-brightness-min"),u_brightness_high:H.paint.get("raster-brightness-max"),u_saturation_factor:(ne=H.paint.get("raster-saturation"),ne>0?1-1/(1.001-ne):-ne),u_contrast_factor:(K=H.paint.get("raster-contrast"),K>0?1/(1-K):1+K),u_spin_weights:_o(H.paint.get("raster-hue-rotate"))};var K,ne};function _o(B){B*=Math.PI/180;var G=Math.sin(B),q=Math.cos(B);return[(2*q+1)/3,(-Math.sqrt(3)*G-q+1)/3,(Math.sqrt(3)*G-q+1)/3]}var ao,oo=function(B,G,q,L,H,K,ne,ce,me,Le){var Pe=H.transform;return{u_is_size_zoom_constant:+("constant"===B||"source"===B),u_is_size_feature_constant:+("constant"===B||"camera"===B),u_size_t:G?G.uSizeT:0,u_size:G?G.uSize:0,u_camera_to_center_distance:Pe.cameraToCenterDistance,u_pitch:Pe.pitch/360*2*Math.PI,u_rotate_symbol:+q,u_aspect_ratio:Pe.width/Pe.height,u_fade_change:H.options.fadeDuration?H.symbolFadeChange:1,u_matrix:K,u_label_plane_matrix:ne,u_coord_matrix:ce,u_is_text:+me,u_pitch_with_map:+L,u_texsize:Le,u_texture:0}},wo=function(B,G,q,L,H,K,ne,ce,me,Le,Pe){var je=H.transform;return a.extend(oo(B,G,q,L,H,K,ne,ce,me,Le),{u_gamma_scale:L?Math.cos(je._pitch)*je.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+Pe})},jr=function(B,G,q,L,H,K,ne,ce,me,Le){return a.extend(wo(B,G,q,L,H,K,ne,ce,!0,me,!0),{u_texsize_icon:Le,u_texture_icon:1})},Qo=function(B,G,q){return{u_matrix:B,u_opacity:G,u_color:q}},wl=function(B,G,q,L,H,K){return a.extend((ne=L,ce=K,Le=H,Pe=(me=q).imageManager.getPattern(ne.from.toString()),je=me.imageManager.getPattern(ne.to.toString()),He=me.imageManager.getPixelSize(),$e=He.width,lt=He.height,ft=Math.pow(2,Le.tileID.overscaledZ),xt=Le.tileSize*Math.pow(2,me.transform.tileZoom)/ft,Mt=xt*(Le.tileID.canonical.x+Le.tileID.wrap*ft),Tt=xt*Le.tileID.canonical.y,{u_image:0,u_pattern_tl_a:Pe.tl,u_pattern_br_a:Pe.br,u_pattern_tl_b:je.tl,u_pattern_br_b:je.br,u_texsize:[$e,lt],u_mix:ce.t,u_pattern_size_a:Pe.displaySize,u_pattern_size_b:je.displaySize,u_scale_a:ce.fromScale,u_scale_b:ce.toScale,u_tile_units_to_pixels:1/qn(Le,1,me.transform.tileZoom),u_pixel_coord_upper:[Mt>>16,Tt>>16],u_pixel_coord_lower:[65535&Mt,65535&Tt]}),{u_matrix:B,u_opacity:G});var ne,ce,me,Le,Pe,je,He,$e,lt,ft,xt,Mt,Tt},Bs={fillExtrusion:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_lightpos:new a.Uniform3f(B,G.u_lightpos),u_lightintensity:new a.Uniform1f(B,G.u_lightintensity),u_lightcolor:new a.Uniform3f(B,G.u_lightcolor),u_vertical_gradient:new a.Uniform1f(B,G.u_vertical_gradient),u_opacity:new a.Uniform1f(B,G.u_opacity)}},fillExtrusionPattern:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_lightpos:new a.Uniform3f(B,G.u_lightpos),u_lightintensity:new a.Uniform1f(B,G.u_lightintensity),u_lightcolor:new a.Uniform3f(B,G.u_lightcolor),u_vertical_gradient:new a.Uniform1f(B,G.u_vertical_gradient),u_height_factor:new a.Uniform1f(B,G.u_height_factor),u_image:new a.Uniform1i(B,G.u_image),u_texsize:new a.Uniform2f(B,G.u_texsize),u_pixel_coord_upper:new a.Uniform2f(B,G.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,G.u_pixel_coord_lower),u_scale:new a.Uniform3f(B,G.u_scale),u_fade:new a.Uniform1f(B,G.u_fade),u_opacity:new a.Uniform1f(B,G.u_opacity)}},fill:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix)}},fillPattern:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_image:new a.Uniform1i(B,G.u_image),u_texsize:new a.Uniform2f(B,G.u_texsize),u_pixel_coord_upper:new a.Uniform2f(B,G.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,G.u_pixel_coord_lower),u_scale:new a.Uniform3f(B,G.u_scale),u_fade:new a.Uniform1f(B,G.u_fade)}},fillOutline:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_world:new a.Uniform2f(B,G.u_world)}},fillOutlinePattern:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_world:new a.Uniform2f(B,G.u_world),u_image:new a.Uniform1i(B,G.u_image),u_texsize:new a.Uniform2f(B,G.u_texsize),u_pixel_coord_upper:new a.Uniform2f(B,G.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,G.u_pixel_coord_lower),u_scale:new a.Uniform3f(B,G.u_scale),u_fade:new a.Uniform1f(B,G.u_fade)}},circle:function(B,G){return{u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(B,G.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(B,G.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(B,G.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(B,G.u_matrix)}},collisionBox:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(B,G.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(B,G.u_extrude_scale),u_overscale_factor:new a.Uniform1f(B,G.u_overscale_factor)}},collisionCircle:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_inv_matrix:new a.UniformMatrix4f(B,G.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(B,G.u_viewport_size)}},debug:function(B,G){return{u_color:new a.UniformColor(B,G.u_color),u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_overlay:new a.Uniform1i(B,G.u_overlay),u_overlay_scale:new a.Uniform1f(B,G.u_overlay_scale)}},clippingMask:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix)}},heatmap:function(B,G){return{u_extrude_scale:new a.Uniform1f(B,G.u_extrude_scale),u_intensity:new a.Uniform1f(B,G.u_intensity),u_matrix:new a.UniformMatrix4f(B,G.u_matrix)}},heatmapTexture:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_world:new a.Uniform2f(B,G.u_world),u_image:new a.Uniform1i(B,G.u_image),u_color_ramp:new a.Uniform1i(B,G.u_color_ramp),u_opacity:new a.Uniform1f(B,G.u_opacity)}},hillshade:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_image:new a.Uniform1i(B,G.u_image),u_latrange:new a.Uniform2f(B,G.u_latrange),u_light:new a.Uniform2f(B,G.u_light),u_shadow:new a.UniformColor(B,G.u_shadow),u_highlight:new a.UniformColor(B,G.u_highlight),u_accent:new a.UniformColor(B,G.u_accent)}},hillshadePrepare:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_image:new a.Uniform1i(B,G.u_image),u_dimension:new a.Uniform2f(B,G.u_dimension),u_zoom:new a.Uniform1f(B,G.u_zoom),u_unpack:new a.Uniform4f(B,G.u_unpack)}},line:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_ratio:new a.Uniform1f(B,G.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(B,G.u_units_to_pixels)}},lineGradient:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_ratio:new a.Uniform1f(B,G.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(B,G.u_units_to_pixels),u_image:new a.Uniform1i(B,G.u_image),u_image_height:new a.Uniform1f(B,G.u_image_height)}},linePattern:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_texsize:new a.Uniform2f(B,G.u_texsize),u_ratio:new a.Uniform1f(B,G.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_image:new a.Uniform1i(B,G.u_image),u_units_to_pixels:new a.Uniform2f(B,G.u_units_to_pixels),u_scale:new a.Uniform3f(B,G.u_scale),u_fade:new a.Uniform1f(B,G.u_fade)}},lineSDF:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_ratio:new a.Uniform1f(B,G.u_ratio),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(B,G.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(B,G.u_patternscale_a),u_patternscale_b:new a.Uniform2f(B,G.u_patternscale_b),u_sdfgamma:new a.Uniform1f(B,G.u_sdfgamma),u_image:new a.Uniform1i(B,G.u_image),u_tex_y_a:new a.Uniform1f(B,G.u_tex_y_a),u_tex_y_b:new a.Uniform1f(B,G.u_tex_y_b),u_mix:new a.Uniform1f(B,G.u_mix)}},raster:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_tl_parent:new a.Uniform2f(B,G.u_tl_parent),u_scale_parent:new a.Uniform1f(B,G.u_scale_parent),u_buffer_scale:new a.Uniform1f(B,G.u_buffer_scale),u_fade_t:new a.Uniform1f(B,G.u_fade_t),u_opacity:new a.Uniform1f(B,G.u_opacity),u_image0:new a.Uniform1i(B,G.u_image0),u_image1:new a.Uniform1i(B,G.u_image1),u_brightness_low:new a.Uniform1f(B,G.u_brightness_low),u_brightness_high:new a.Uniform1f(B,G.u_brightness_high),u_saturation_factor:new a.Uniform1f(B,G.u_saturation_factor),u_contrast_factor:new a.Uniform1f(B,G.u_contrast_factor),u_spin_weights:new a.Uniform3f(B,G.u_spin_weights)}},symbolIcon:function(B,G){return{u_is_size_zoom_constant:new a.Uniform1i(B,G.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(B,G.u_is_size_feature_constant),u_size_t:new a.Uniform1f(B,G.u_size_t),u_size:new a.Uniform1f(B,G.u_size),u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_pitch:new a.Uniform1f(B,G.u_pitch),u_rotate_symbol:new a.Uniform1i(B,G.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(B,G.u_aspect_ratio),u_fade_change:new a.Uniform1f(B,G.u_fade_change),u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(B,G.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(B,G.u_coord_matrix),u_is_text:new a.Uniform1i(B,G.u_is_text),u_pitch_with_map:new a.Uniform1i(B,G.u_pitch_with_map),u_texsize:new a.Uniform2f(B,G.u_texsize),u_texture:new a.Uniform1i(B,G.u_texture)}},symbolSDF:function(B,G){return{u_is_size_zoom_constant:new a.Uniform1i(B,G.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(B,G.u_is_size_feature_constant),u_size_t:new a.Uniform1f(B,G.u_size_t),u_size:new a.Uniform1f(B,G.u_size),u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_pitch:new a.Uniform1f(B,G.u_pitch),u_rotate_symbol:new a.Uniform1i(B,G.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(B,G.u_aspect_ratio),u_fade_change:new a.Uniform1f(B,G.u_fade_change),u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(B,G.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(B,G.u_coord_matrix),u_is_text:new a.Uniform1i(B,G.u_is_text),u_pitch_with_map:new a.Uniform1i(B,G.u_pitch_with_map),u_texsize:new a.Uniform2f(B,G.u_texsize),u_texture:new a.Uniform1i(B,G.u_texture),u_gamma_scale:new a.Uniform1f(B,G.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(B,G.u_is_halo)}},symbolTextAndIcon:function(B,G){return{u_is_size_zoom_constant:new a.Uniform1i(B,G.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(B,G.u_is_size_feature_constant),u_size_t:new a.Uniform1f(B,G.u_size_t),u_size:new a.Uniform1f(B,G.u_size),u_camera_to_center_distance:new a.Uniform1f(B,G.u_camera_to_center_distance),u_pitch:new a.Uniform1f(B,G.u_pitch),u_rotate_symbol:new a.Uniform1i(B,G.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(B,G.u_aspect_ratio),u_fade_change:new a.Uniform1f(B,G.u_fade_change),u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(B,G.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(B,G.u_coord_matrix),u_is_text:new a.Uniform1i(B,G.u_is_text),u_pitch_with_map:new a.Uniform1i(B,G.u_pitch_with_map),u_texsize:new a.Uniform2f(B,G.u_texsize),u_texsize_icon:new a.Uniform2f(B,G.u_texsize_icon),u_texture:new a.Uniform1i(B,G.u_texture),u_texture_icon:new a.Uniform1i(B,G.u_texture_icon),u_gamma_scale:new a.Uniform1f(B,G.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(B,G.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(B,G.u_is_halo)}},background:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_opacity:new a.Uniform1f(B,G.u_opacity),u_color:new a.UniformColor(B,G.u_color)}},backgroundPattern:function(B,G){return{u_matrix:new a.UniformMatrix4f(B,G.u_matrix),u_opacity:new a.Uniform1f(B,G.u_opacity),u_image:new a.Uniform1i(B,G.u_image),u_pattern_tl_a:new a.Uniform2f(B,G.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(B,G.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(B,G.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(B,G.u_pattern_br_b),u_texsize:new a.Uniform2f(B,G.u_texsize),u_mix:new a.Uniform1f(B,G.u_mix),u_pattern_size_a:new a.Uniform2f(B,G.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(B,G.u_pattern_size_b),u_scale_a:new a.Uniform1f(B,G.u_scale_a),u_scale_b:new a.Uniform1f(B,G.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(B,G.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(B,G.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(B,G.u_tile_units_to_pixels)}}};function es(B,G,q,L,H,K,ne){for(var ce=B.context,me=ce.gl,Le=B.useProgram("collisionBox"),Pe=[],je=0,He=0,$e=0;$e<L.length;$e++){var lt=L[$e],ft=G.getTile(lt),xt=ft.getBucket(q);if(xt){var Mt=lt.posMatrix;0===H[0]&&0===H[1]||(Mt=B.translatePosMatrix(lt.posMatrix,ft,H,K));var Tt=ne?xt.textCollisionBox:xt.iconCollisionBox,Dt=xt.collisionCircleArray;if(Dt.length>0){var Et=a.create(),Gt=Mt;a.mul(Et,xt.placementInvProjMatrix,B.transform.glCoordMatrix),a.mul(Et,Et,xt.placementViewportMatrix),Pe.push({circleArray:Dt,circleOffset:He,transform:Gt,invTransform:Et}),He=je+=Dt.length/4}Tt&&Le.draw(ce,me.LINES,Pt.disabled,qe.disabled,B.colorModeForRenderPass(),Ne.disabled,Bo(Mt,B.transform,ft),q.id,Tt.layoutVertexBuffer,Tt.indexBuffer,Tt.segments,null,B.transform.zoom,null,null,Tt.collisionVertexBuffer)}}if(ne&&Pe.length){var Ut=B.useProgram("collisionCircle"),Bt=new a.StructArrayLayout2f1f2i16;Bt.resize(4*je),Bt._trim();for(var hn=0,pn=0,En=Pe;pn<En.length;pn+=1)for(var Cn=En[pn],Nn=0;Nn<Cn.circleArray.length/4;Nn++){var Wn=4*Nn,sr=Cn.circleArray[Wn+0],Hn=Cn.circleArray[Wn+1],rr=Cn.circleArray[Wn+2],gr=Cn.circleArray[Wn+3];Bt.emplace(hn++,sr,Hn,rr,gr,0),Bt.emplace(hn++,sr,Hn,rr,gr,1),Bt.emplace(hn++,sr,Hn,rr,gr,2),Bt.emplace(hn++,sr,Hn,rr,gr,3)}(!ao||ao.length<2*je)&&(ao=function(Er){var Dr=2*Er,Rr=new a.StructArrayLayout3ui6;Rr.resize(Dr),Rr._trim();for(var Nr=0;Nr<Dr;Nr++){var Vr=6*Nr;Rr.uint16[Vr+0]=4*Nr+0,Rr.uint16[Vr+1]=4*Nr+1,Rr.uint16[Vr+2]=4*Nr+2,Rr.uint16[Vr+3]=4*Nr+2,Rr.uint16[Vr+4]=4*Nr+3,Rr.uint16[Vr+5]=4*Nr+0}return Rr}(je));for(var kr=ce.createIndexBuffer(ao,!0),Yn=ce.createVertexBuffer(Bt,a.collisionCircleLayout.members,!0),nr=0,yr=Pe;nr<yr.length;nr+=1){var lr=yr[nr],_r=al(lr.transform,lr.invTransform,B.transform);Ut.draw(ce,me.TRIANGLES,Pt.disabled,qe.disabled,B.colorModeForRenderPass(),Ne.disabled,_r,q.id,Yn,kr,a.SegmentVector.simpleSegment(0,2*lr.circleOffset,lr.circleArray.length,lr.circleArray.length/2),null,B.transform.zoom,null,null,null)}Yn.destroy(),kr.destroy()}}var ll=a.identity(new Float32Array(16));function Tl(B,G,q,L,H,K){var ne=a.getAnchorAlignment(B),ce=-(ne.horizontalAlign-.5)*G,me=-(ne.verticalAlign-.5)*q,Le=a.evaluateVariableOffset(B,L);return new a.Point((ce/H+Le[0])*K,(me/H+Le[1])*K)}function Ns(B,G,q,L,H,K,ne,ce,me,Le,Pe){var je=B.text.placedSymbolArray,He=B.text.dynamicLayoutVertexArray,$e=B.icon.dynamicLayoutVertexArray,lt={};He.clear();for(var ft=0;ft<je.length;ft++){var xt=je.get(ft),Mt=B.allowVerticalPlacement&&!xt.placedOrientation,Tt=xt.hidden||!xt.crossTileID||Mt?null:L[xt.crossTileID];if(Tt){var Dt=new a.Point(xt.anchorX,xt.anchorY),Et=Ht(Dt,q?ce:ne),Gt=nn(K.cameraToCenterDistance,Et.signedDistanceFromCamera),Ut=H.evaluateSizeForFeature(B.textSizeData,Le,xt)*Gt/a.ONE_EM;q&&(Ut*=B.tilePixelRatio/me);for(var Bt=Tt.width,hn=Tt.height,pn=Tl(Tt.anchor,Bt,hn,Tt.textOffset,Tt.textBoxScale,Ut),En=q?Ht(Dt.add(pn),ne).point:Et.point.add(G?pn.rotate(-K.angle):pn),Cn=B.allowVerticalPlacement&&xt.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Nn=0;Nn<xt.numGlyphs;Nn++)a.addDynamicAttributes(He,En,Cn);Pe&&xt.associatedIconIndex>=0&&(lt[xt.associatedIconIndex]={shiftedAnchor:En,angle:Cn})}else Bn(xt.numGlyphs,He)}if(Pe){$e.clear();for(var Wn=B.icon.placedSymbolArray,sr=0;sr<Wn.length;sr++){var Hn=Wn.get(sr);if(Hn.hidden)Bn(Hn.numGlyphs,$e);else{var rr=lt[sr];if(rr)for(var gr=0;gr<Hn.numGlyphs;gr++)a.addDynamicAttributes($e,rr.shiftedAnchor,rr.angle);else Bn(Hn.numGlyphs,$e)}}B.icon.dynamicLayoutVertexBuffer.updateData($e)}B.text.dynamicLayoutVertexBuffer.updateData(He)}function kl(B,G,q){return q.iconsInText&&G?"symbolTextAndIcon":B?"symbolSDF":"symbolIcon"}function To(B,G,q,L,H,K,ne,ce,me,Le,Pe,je){for(var He=B.context,$e=He.gl,lt=B.transform,ft="map"===ce,xt="map"===me,Mt=ft&&"point"!==q.layout.get("symbol-placement"),Tt=ft&&!xt&&!Mt,Dt=void 0!==q.layout.get("symbol-sort-key").constantOr(1),Et=!1,Gt=B.depthModeForSublayer(0,Pt.ReadOnly),Ut=q.layout.get("text-variable-anchor"),Bt=[],hn=0,pn=L;hn<pn.length;hn+=1){var En=pn[hn],Cn=G.getTile(En),Nn=Cn.getBucket(q);if(Nn){var Wn=H?Nn.text:Nn.icon;if(Wn&&Wn.segments.get().length){var sr=Wn.programConfigurations.get(q.id),Hn=H||Nn.sdfIcons,rr=H?Nn.textSizeData:Nn.iconSizeData,gr=xt||0!==lt.pitch,kr=B.useProgram(kl(Hn,H,Nn),sr),Yn=a.evaluateSizeForZoom(rr,lt.zoom),nr=void 0,yr=[0,0],lr=void 0,_r=void 0,Er=null,Dr=void 0;if(H){if(lr=Cn.glyphAtlasTexture,_r=$e.LINEAR,nr=Cn.glyphAtlasTexture.size,Nn.iconsInText){yr=Cn.imageAtlasTexture.size,Er=Cn.imageAtlasTexture;var Rr="composite"===rr.kind||"camera"===rr.kind;Dr=gr||B.options.rotating||B.options.zooming||Rr?$e.LINEAR:$e.NEAREST}}else{var Nr=1!==q.layout.get("icon-size").constantOr(0)||Nn.iconsNeedLinear;lr=Cn.imageAtlasTexture,_r=Hn||B.options.rotating||B.options.zooming||Nr||gr?$e.LINEAR:$e.NEAREST,nr=Cn.imageAtlasTexture.size}var Vr=qn(Cn,1,B.transform.zoom),ui=kn(En.posMatrix,xt,ft,B.transform,Vr),ki=on(En.posMatrix,xt,ft,B.transform,Vr),ea=Ut&&Nn.hasTextData(),Bi="none"!==q.layout.get("icon-text-fit")&&ea&&Nn.hasIconData();Mt&&an(Nn,En.posMatrix,B,H,ui,ki,xt,Le);var Yi=B.translatePosMatrix(En.posMatrix,Cn,K,ne),di=Mt||H&&Ut||Bi?ll:ui,qr=B.translatePosMatrix(ki,Cn,K,ne,!0),yi=Hn&&0!==q.paint.get(H?"text-halo-width":"icon-halo-width").constantOr(1),ri={program:kr,buffers:Wn,uniformValues:Hn?Nn.iconsInText?jr(rr.kind,Yn,Tt,xt,B,Yi,di,qr,nr,yr):wo(rr.kind,Yn,Tt,xt,B,Yi,di,qr,H,nr,!0):oo(rr.kind,Yn,Tt,xt,B,Yi,di,qr,H,nr),atlasTexture:lr,atlasTextureIcon:Er,atlasInterpolation:_r,atlasInterpolationIcon:Dr,isSDF:Hn,hasHalo:yi};if(Dt&&Nn.canOverlap){Et=!0;for(var Wr=0,xi=Wn.segments.get();Wr<xi.length;Wr+=1){var Ai=xi[Wr];Bt.push({segments:new a.SegmentVector([Ai]),sortKey:Ai.sortKey,state:ri})}}else Bt.push({segments:Wn.segments,sortKey:0,state:ri})}}}Et&&Bt.sort(function(Ms,ho){return Ms.sortKey-ho.sortKey});for(var Ii=0,cs=Bt;Ii<cs.length;Ii+=1){var fs=cs[Ii],Xr=fs.state;if(He.activeTexture.set($e.TEXTURE0),Xr.atlasTexture.bind(Xr.atlasInterpolation,$e.CLAMP_TO_EDGE),Xr.atlasTextureIcon&&(He.activeTexture.set($e.TEXTURE1),Xr.atlasTextureIcon&&Xr.atlasTextureIcon.bind(Xr.atlasInterpolationIcon,$e.CLAMP_TO_EDGE)),Xr.isSDF){var qs=Xr.uniformValues;Xr.hasHalo&&(qs.u_is_halo=1,Ho(Xr.buffers,fs.segments,q,B,Xr.program,Gt,Pe,je,qs)),qs.u_is_halo=0}Ho(Xr.buffers,fs.segments,q,B,Xr.program,Gt,Pe,je,Xr.uniformValues)}}function Ho(B,G,q,L,H,K,ne,ce,me){var Le=L.context,Pe=Le.gl;H.draw(Le,Pe.TRIANGLES,K,ne,ce,Ne.disabled,me,q.id,B.layoutVertexBuffer,B.indexBuffer,G,q.paint,L.transform.zoom,B.programConfigurations.get(q.id),B.dynamicLayoutVertexBuffer,B.opacityVertexBuffer)}function so(B,G,q,L,H,K,ne){var ce,me,Le,Pe,je,He=B.context.gl,$e=q.paint.get("fill-pattern"),lt=$e&&$e.constantOr(1),ft=q.getCrossfadeParameters();ne?(me=lt&&!q.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ce=He.LINES):(me=lt?"fillPattern":"fill",ce=He.TRIANGLES);for(var xt=0,Mt=L;xt<Mt.length;xt+=1){var Tt=Mt[xt],Dt=G.getTile(Tt);if(!lt||Dt.patternsLoaded()){var Et=Dt.getBucket(q);if(Et){var Gt=Et.programConfigurations.get(q.id),Ut=B.useProgram(me,Gt);lt&&(B.context.activeTexture.set(He.TEXTURE0),Dt.imageAtlasTexture.bind(He.LINEAR,He.CLAMP_TO_EDGE),Gt.updatePaintBuffers(ft));var Bt=$e.constantOr(null);if(Bt&&Dt.imageAtlas){var hn=Dt.imageAtlas,pn=hn.patternPositions[Bt.to.toString()],En=hn.patternPositions[Bt.from.toString()];pn&&En&&Gt.setConstantPatternPositions(pn,En)}var Cn=B.translatePosMatrix(Tt.posMatrix,Dt,q.paint.get("fill-translate"),q.paint.get("fill-translate-anchor"));if(ne){Pe=Et.indexBuffer2,je=Et.segments2;var Nn=[He.drawingBufferWidth,He.drawingBufferHeight];Le="fillOutlinePattern"===me&&lt?Js(Cn,B,ft,Dt,Nn):Ya(Cn,Nn)}else Pe=Et.indexBuffer,je=Et.segments,Le=lt?bo(Cn,B,ft,Dt):io(Cn);Ut.draw(B.context,ce,H,B.stencilModeForClipping(Tt),K,Ne.disabled,Le,q.id,Et.layoutVertexBuffer,Pe,je,q.paint,B.transform.zoom,Gt)}}}}function Da(B,G,q,L,H,K,ne){for(var ce=B.context,me=ce.gl,Le=q.paint.get("fill-extrusion-pattern"),Pe=Le.constantOr(1),je=q.getCrossfadeParameters(),He=q.paint.get("fill-extrusion-opacity"),$e=0,lt=L;$e<lt.length;$e+=1){var ft=lt[$e],xt=G.getTile(ft),Mt=xt.getBucket(q);if(Mt){var Tt=Mt.programConfigurations.get(q.id),Dt=B.useProgram(Pe?"fillExtrusionPattern":"fillExtrusion",Tt);Pe&&(B.context.activeTexture.set(me.TEXTURE0),xt.imageAtlasTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE),Tt.updatePaintBuffers(je));var Et=Le.constantOr(null);if(Et&&xt.imageAtlas){var Gt=xt.imageAtlas,Ut=Gt.patternPositions[Et.to.toString()],Bt=Gt.patternPositions[Et.from.toString()];Ut&&Bt&&Tt.setConstantPatternPositions(Ut,Bt)}var hn=B.translatePosMatrix(ft.posMatrix,xt,q.paint.get("fill-extrusion-translate"),q.paint.get("fill-extrusion-translate-anchor")),pn=q.paint.get("fill-extrusion-vertical-gradient"),En=Pe?xo(hn,B,pn,He,ft,je,xt):Za(hn,B,pn,He);Dt.draw(ce,ce.gl.TRIANGLES,H,K,ne,Ne.backCCW,En,q.id,Mt.layoutVertexBuffer,Mt.indexBuffer,Mt.segments,q.paint,B.transform.zoom,Tt)}}}function ts(B,G,q,L,H,K){var ne=B.context,ce=ne.gl,me=G.fbo;if(me){var Le=B.useProgram("hillshade");ne.activeTexture.set(ce.TEXTURE0),ce.bindTexture(ce.TEXTURE_2D,me.colorAttachment.get());var Pe=_l(B,G,q);Le.draw(ne,ce.TRIANGLES,L,H,K,Ne.disabled,Pe,q.id,B.rasterBoundsBuffer,B.quadTriangleIndexBuffer,B.rasterBoundsSegments)}}function ul(B,G,q,L,H,K){var ne=B.context,ce=ne.gl,me=G.dem;if(me&&me.data){var Le=me.dim,Pe=me.stride,je=me.getPixels();if(ne.activeTexture.set(ce.TEXTURE1),ne.pixelStoreUnpackPremultiplyAlpha.set(!1),G.demTexture=G.demTexture||B.getTileTexture(Pe),G.demTexture){var He=G.demTexture;He.update(je,{premultiply:!1}),He.bind(ce.NEAREST,ce.CLAMP_TO_EDGE)}else G.demTexture=new a.Texture(ne,je,ce.RGBA,{premultiply:!1}),G.demTexture.bind(ce.NEAREST,ce.CLAMP_TO_EDGE);ne.activeTexture.set(ce.TEXTURE0);var $e=G.fbo;if(!$e){var lt=new a.Texture(ne,{width:Le,height:Le,data:null},ce.RGBA);lt.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),($e=G.fbo=ne.createFramebuffer(Le,Le,!0)).colorAttachment.set(lt.texture)}ne.bindFramebuffer.set($e.framebuffer),ne.viewport.set([0,0,Le,Le]),B.useProgram("hillshadePrepare").draw(ne,ce.TRIANGLES,L,H,K,Ne.disabled,jo(G.tileID,me),q.id,B.rasterBoundsBuffer,B.quadTriangleIndexBuffer,B.rasterBoundsSegments),G.needsHillshadePrepare=!1}}function ms(B,G,q,L,H){var K=L.paint.get("raster-fade-duration");if(K>0){var ne=a.browser.now(),ce=(ne-B.timeAdded)/K,me=G?(ne-G.timeAdded)/K:-1,Le=q.getSource(),Pe=H.coveringZoomLevel({tileSize:Le.tileSize,roundZoom:Le.roundZoom}),je=!G||Math.abs(G.tileID.overscaledZ-Pe)>Math.abs(B.tileID.overscaledZ-Pe),He=je&&B.refreshedUponExpiration?1:a.clamp(je?ce:1-me,0,1);return B.refreshedUponExpiration&&ce>=1&&(B.refreshedUponExpiration=!1),G?{opacity:1,mix:1-He}:{opacity:He,mix:0}}return{opacity:1,mix:0}}var js=new a.Color(1,0,0,1),ya=new a.Color(0,1,0,1),Us=new a.Color(0,0,1,1),cl=new a.Color(1,0,1,1),ns=new a.Color(0,1,1,1);function qo(B){var G=B.transform.padding;rs(B,B.transform.height-(G.top||0),3,js),rs(B,G.bottom||0,3,ya),Go(B,G.left||0,3,Us),Go(B,B.transform.width-(G.right||0),3,cl);var L,H,K,ne,ce,me,q=B.transform.centerPoint;L=B,H=q.x,K=B.transform.height-q.y,Zo(L,H-(me=2)/2,K-(ce=20)/2,me,ce,ne=ns),Zo(L,H-ce/2,K-me/2,ce,me,ne)}function rs(B,G,q,L){Zo(B,0,G+q/2,B.transform.width,q,L)}function Go(B,G,q,L){Zo(B,G-q/2,0,q,B.transform.height,L)}function Zo(B,G,q,L,H,K){var ne=B.context,ce=ne.gl;ce.enable(ce.SCISSOR_TEST),ce.scissor(G*a.browser.devicePixelRatio,q*a.browser.devicePixelRatio,L*a.browser.devicePixelRatio,H*a.browser.devicePixelRatio),ne.clear({color:K}),ce.disable(ce.SCISSOR_TEST)}function ys(B,G,q){var L=B.context,H=L.gl,K=q.posMatrix,ne=B.useProgram("debug"),ce=Pt.disabled,me=qe.disabled,Le=B.colorModeForRenderPass(),Pe="$debug";L.activeTexture.set(H.TEXTURE0),B.emptyTexture.bind(H.LINEAR,H.CLAMP_TO_EDGE),ne.draw(L,H.LINE_STRIP,ce,me,Le,Ne.disabled,ol(K,a.Color.red),Pe,B.debugBuffer,B.tileBorderIndexBuffer,B.debugSegments);var je=G.getTileByID(q.key).latestRawTileData,He=je&&je.byteLength||0,$e=Math.floor(He/1024),lt=G.getTile(q).tileSize,ft=512/Math.min(lt,512)*(q.overscaledZ/B.transform.zoom)*.5,xt=q.canonical.toString();q.overscaledZ!==q.canonical.z&&(xt+=" => "+q.overscaledZ),function(Mt,Tt){Mt.initDebugOverlayCanvas();var Dt=Mt.debugOverlayCanvas,Et=Mt.context.gl,Gt=Mt.debugOverlayCanvas.getContext("2d");Gt.clearRect(0,0,Dt.width,Dt.height),Gt.shadowColor="white",Gt.shadowBlur=2,Gt.lineWidth=1.5,Gt.strokeStyle="white",Gt.textBaseline="top",Gt.font="bold 36px Open Sans, sans-serif",Gt.fillText(Tt,5,5),Gt.strokeText(Tt,5,5),Mt.debugOverlayTexture.update(Dt),Mt.debugOverlayTexture.bind(Et.LINEAR,Et.CLAMP_TO_EDGE)}(B,xt+" "+$e+"kb"),ne.draw(L,H.TRIANGLES,ce,me,Ze.alphaBlended,Ne.disabled,ol(K,a.Color.transparent,ft),Pe,B.debugBuffer,B.quadTriangleIndexBuffer,B.debugSegments)}var Vs={symbol:function(B,G,q,L,H){if("translucent"===B.renderPass){var K=qe.disabled,ne=B.colorModeForRenderPass();q.layout.get("text-variable-anchor")&&function(ce,me,Le,Pe,je,He,$e){for(var lt=me.transform,ft="map"===je,xt="map"===He,Mt=0,Tt=ce;Mt<Tt.length;Mt+=1){var Dt=Tt[Mt],Et=Pe.getTile(Dt),Gt=Et.getBucket(Le);if(Gt&&Gt.text&&Gt.text.segments.get().length){var Ut=Gt.textSizeData,Bt=a.evaluateSizeForZoom(Ut,lt.zoom),hn=qn(Et,1,me.transform.zoom),pn=kn(Dt.posMatrix,xt,ft,me.transform,hn),En="none"!==Le.layout.get("icon-text-fit")&&Gt.hasIconData();if(Bt){var Cn=Math.pow(2,lt.zoom-Et.tileID.overscaledZ);Ns(Gt,ft,xt,$e,a.symbolSize,lt,pn,Dt.posMatrix,Cn,Bt,En)}}}}(L,B,q,G,q.layout.get("text-rotation-alignment"),q.layout.get("text-pitch-alignment"),H),0!==q.paint.get("icon-opacity").constantOr(1)&&To(B,G,q,L,!1,q.paint.get("icon-translate"),q.paint.get("icon-translate-anchor"),q.layout.get("icon-rotation-alignment"),q.layout.get("icon-pitch-alignment"),q.layout.get("icon-keep-upright"),K,ne),0!==q.paint.get("text-opacity").constantOr(1)&&To(B,G,q,L,!0,q.paint.get("text-translate"),q.paint.get("text-translate-anchor"),q.layout.get("text-rotation-alignment"),q.layout.get("text-pitch-alignment"),q.layout.get("text-keep-upright"),K,ne),G.map.showCollisionBoxes&&(es(B,G,q,L,q.paint.get("text-translate"),q.paint.get("text-translate-anchor"),!0),es(B,G,q,L,q.paint.get("icon-translate"),q.paint.get("icon-translate-anchor"),!1))}},circle:function(B,G,q,L){if("translucent"===B.renderPass){var H=q.paint.get("circle-opacity"),K=q.paint.get("circle-stroke-width"),ne=q.paint.get("circle-stroke-opacity"),ce=void 0!==q.layout.get("circle-sort-key").constantOr(1);if(0!==H.constantOr(1)||0!==K.constantOr(1)&&0!==ne.constantOr(1)){for(var me=B.context,Le=me.gl,Pe=B.depthModeForSublayer(0,Pt.ReadOnly),je=qe.disabled,He=B.colorModeForRenderPass(),$e=[],lt=0;lt<L.length;lt++){var ft=L[lt],xt=G.getTile(ft),Mt=xt.getBucket(q);if(Mt){var Tt=Mt.programConfigurations.get(q.id),Dt={programConfiguration:Tt,program:B.useProgram("circle",Tt),layoutVertexBuffer:Mt.layoutVertexBuffer,indexBuffer:Mt.indexBuffer,uniformValues:Fs(B,ft,xt,q)};if(ce)for(var Et=0,Gt=Mt.segments.get();Et<Gt.length;Et+=1){var Ut=Gt[Et];$e.push({segments:new a.SegmentVector([Ut]),sortKey:Ut.sortKey,state:Dt})}else $e.push({segments:Mt.segments,sortKey:0,state:Dt})}}ce&&$e.sort(function(gr,kr){return gr.sortKey-kr.sortKey});for(var Bt=0,hn=$e;Bt<hn.length;Bt+=1){var pn=hn[Bt],En=pn.state,Cn=En.programConfiguration,Nn=En.program,Wn=En.layoutVertexBuffer,sr=En.indexBuffer,Hn=En.uniformValues,rr=pn.segments;Nn.draw(me,Le.TRIANGLES,Pe,je,He,Ne.disabled,Hn,q.id,Wn,sr,rr,q.paint,B.transform.zoom,Cn)}}}},heatmap:function(B,G,q,L){if(0!==q.paint.get("heatmap-opacity"))if("offscreen"===B.renderPass){var H=B.context,K=H.gl,ne=qe.disabled,ce=new Ze([K.ONE,K.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(ft,xt,Mt){var Tt=ft.gl;ft.activeTexture.set(Tt.TEXTURE1),ft.viewport.set([0,0,xt.width/4,xt.height/4]);var Gt,Ut,Bt,hn,pn,En,Dt=Mt.heatmapFbo;if(Dt)Tt.bindTexture(Tt.TEXTURE_2D,Dt.colorAttachment.get()),ft.bindFramebuffer.set(Dt.framebuffer);else{var Et=Tt.createTexture();Tt.bindTexture(Tt.TEXTURE_2D,Et),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_WRAP_S,Tt.CLAMP_TO_EDGE),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_WRAP_T,Tt.CLAMP_TO_EDGE),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_MIN_FILTER,Tt.LINEAR),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_MAG_FILTER,Tt.LINEAR),Dt=Mt.heatmapFbo=ft.createFramebuffer(xt.width/4,xt.height/4,!1),Ut=xt,Bt=Et,hn=Dt,pn=(Gt=ft).gl,En=Gt.extRenderToTextureHalfFloat?Gt.extTextureHalfFloat.HALF_FLOAT_OES:pn.UNSIGNED_BYTE,pn.texImage2D(pn.TEXTURE_2D,0,pn.RGBA,Ut.width/4,Ut.height/4,0,pn.RGBA,En,null),hn.colorAttachment.set(Bt)}})(H,B,q),H.clear({color:a.Color.transparent});for(var me=0;me<L.length;me++){var Le=L[me];if(!G.hasRenderableParent(Le)){var Pe=G.getTile(Le),je=Pe.getBucket(q);if(je){var He=je.programConfigurations.get(q.id),$e=B.useProgram("heatmap",He),lt=B.transform.zoom;$e.draw(H,K.TRIANGLES,Pt.disabled,ne,ce,Ne.disabled,sl(Le.posMatrix,Pe,lt,q.paint.get("heatmap-intensity")),q.id,je.layoutVertexBuffer,je.indexBuffer,je.segments,q.paint,B.transform.zoom,He)}}}H.viewport.set([0,0,B.width,B.height])}else"translucent"===B.renderPass&&(B.context.setColorMode(B.colorModeForRenderPass()),function(ft,xt){var Mt=ft.context,Tt=Mt.gl,Dt=xt.heatmapFbo;if(Dt){Mt.activeTexture.set(Tt.TEXTURE0),Tt.bindTexture(Tt.TEXTURE_2D,Dt.colorAttachment.get()),Mt.activeTexture.set(Tt.TEXTURE1);var Et=xt.colorRampTexture;Et||(Et=xt.colorRampTexture=new a.Texture(Mt,xt.colorRamp,Tt.RGBA)),Et.bind(Tt.LINEAR,Tt.CLAMP_TO_EDGE),ft.useProgram("heatmapTexture").draw(Mt,Tt.TRIANGLES,Pt.disabled,qe.disabled,ft.colorModeForRenderPass(),Ne.disabled,bl(ft,xt,0,1),xt.id,ft.viewportBuffer,ft.quadTriangleIndexBuffer,ft.viewportSegments,xt.paint,ft.transform.zoom)}}(B,q))},line:function(B,G,q,L){if("translucent"===B.renderPass){var H=q.paint.get("line-opacity"),K=q.paint.get("line-width");if(0!==H.constantOr(1)&&0!==K.constantOr(1))for(var ne=B.depthModeForSublayer(0,Pt.ReadOnly),ce=B.colorModeForRenderPass(),me=q.paint.get("line-dasharray"),Le=q.paint.get("line-pattern"),Pe=Le.constantOr(1),je=q.paint.get("line-gradient"),He=q.getCrossfadeParameters(),$e=Pe?"linePattern":me?"lineSDF":je?"lineGradient":"line",lt=B.context,ft=lt.gl,xt=!0,Mt=0,Tt=L;Mt<Tt.length;Mt+=1){var Dt=Tt[Mt],Et=G.getTile(Dt);if(!Pe||Et.patternsLoaded()){var Gt=Et.getBucket(q);if(Gt){var Ut=Gt.programConfigurations.get(q.id),Bt=B.context.program.get(),hn=B.useProgram($e,Ut),pn=xt||hn.program!==Bt,En=Le.constantOr(null);if(En&&Et.imageAtlas){var Cn=Et.imageAtlas,Nn=Cn.patternPositions[En.to.toString()],Wn=Cn.patternPositions[En.from.toString()];Nn&&Wn&&Ut.setConstantPatternPositions(Nn,Wn)}var sr=Pe?Uo(B,Et,q,He):me?vs(B,Et,q,me,He):je?$o(B,Et,q,Gt.lineClipsArray.length):Wa(B,Et,q);if(Pe)lt.activeTexture.set(ft.TEXTURE0),Et.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Ut.updatePaintBuffers(He);else if(me&&(pn||B.lineAtlas.dirty))lt.activeTexture.set(ft.TEXTURE0),B.lineAtlas.bind(lt);else if(je){var Hn=Gt.gradients[q.id],rr=Hn.texture;if(q.gradientVersion!==Hn.version){var gr=256;if(q.stepInterpolant){var kr=G.getSource().maxzoom,Yn=Dt.canonical.z===kr?Math.ceil(1<<B.transform.maxZoom-Dt.canonical.z):1,nr=Gt.maxLineLength/a.EXTENT*1024*Yn;gr=a.clamp(a.nextPowerOfTwo(nr),256,lt.maxTextureSize)}Hn.gradient=a.renderColorRamp({expression:q.gradientExpression(),evaluationKey:"lineProgress",resolution:gr,image:Hn.gradient||void 0,clips:Gt.lineClipsArray}),Hn.texture?Hn.texture.update(Hn.gradient):Hn.texture=new a.Texture(lt,Hn.gradient,ft.RGBA),Hn.version=q.gradientVersion,rr=Hn.texture}lt.activeTexture.set(ft.TEXTURE0),rr.bind(q.stepInterpolant?ft.NEAREST:ft.LINEAR,ft.CLAMP_TO_EDGE)}hn.draw(lt,ft.TRIANGLES,ne,B.stencilModeForClipping(Dt),ce,Ne.disabled,sr,q.id,Gt.layoutVertexBuffer,Gt.indexBuffer,Gt.segments,q.paint,B.transform.zoom,Ut,Gt.layoutVertexBuffer2),xt=!1}}}}},fill:function(B,G,q,L){var H=q.paint.get("fill-color"),K=q.paint.get("fill-opacity");if(0!==K.constantOr(1)){var ne=B.colorModeForRenderPass(),ce=q.paint.get("fill-pattern"),me=B.opaquePassEnabledForLayer()&&!ce.constantOr(1)&&1===H.constantOr(a.Color.transparent).a&&1===K.constantOr(0)?"opaque":"translucent";if(B.renderPass===me){var Le=B.depthModeForSublayer(1,"opaque"===B.renderPass?Pt.ReadWrite:Pt.ReadOnly);so(B,G,q,L,Le,ne,!1)}if("translucent"===B.renderPass&&q.paint.get("fill-antialias")){var Pe=B.depthModeForSublayer(q.getPaintProperty("fill-outline-color")?2:0,Pt.ReadOnly);so(B,G,q,L,Pe,ne,!0)}}},"fill-extrusion":function(B,G,q,L){var H=q.paint.get("fill-extrusion-opacity");if(0!==H&&"translucent"===B.renderPass){var K=new Pt(B.context.gl.LEQUAL,Pt.ReadWrite,B.depthRangeFor3D);if(1!==H||q.paint.get("fill-extrusion-pattern").constantOr(1))Da(B,G,q,L,K,qe.disabled,Ze.disabled),Da(B,G,q,L,K,B.stencilModeFor3D(),B.colorModeForRenderPass());else{var ne=B.colorModeForRenderPass();Da(B,G,q,L,K,qe.disabled,ne)}}},hillshade:function(B,G,q,L){if("offscreen"===B.renderPass||"translucent"===B.renderPass){for(var H=B.context,K=B.depthModeForSublayer(0,Pt.ReadOnly),ne=B.colorModeForRenderPass(),ce="translucent"===B.renderPass?B.stencilConfigForOverlap(L):[{},L],me=ce[0],Le=0,Pe=ce[1];Le<Pe.length;Le+=1){var je=Pe[Le],He=G.getTile(je);He.needsHillshadePrepare&&"offscreen"===B.renderPass?ul(B,He,q,K,qe.disabled,ne):"translucent"===B.renderPass&&ts(B,He,q,K,me[je.overscaledZ],ne)}H.viewport.set([0,0,B.width,B.height])}},raster:function(B,G,q,L){if("translucent"===B.renderPass&&0!==q.paint.get("raster-opacity")&&L.length)for(var H=B.context,K=H.gl,ne=G.getSource(),ce=B.useProgram("raster"),me=B.colorModeForRenderPass(),Le=ne instanceof F?[{},L]:B.stencilConfigForOverlap(L),Pe=Le[0],je=Le[1],He=je[je.length-1].overscaledZ,$e=!B.options.moving,lt=0,ft=je;lt<ft.length;lt+=1){var xt=ft[lt],Mt=B.depthModeForSublayer(xt.overscaledZ-He,1===q.paint.get("raster-opacity")?Pt.ReadWrite:Pt.ReadOnly,K.LESS),Tt=G.getTile(xt),Dt=B.transform.calculatePosMatrix(xt.toUnwrapped(),$e);Tt.registerFadeDuration(q.paint.get("raster-fade-duration"));var Et=G.findLoadedParent(xt,0),Gt=ms(Tt,Et,G,q,B.transform),Ut=void 0,Bt=void 0,hn="nearest"===q.paint.get("raster-resampling")?K.NEAREST:K.LINEAR;H.activeTexture.set(K.TEXTURE0),Tt.texture.bind(hn,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),H.activeTexture.set(K.TEXTURE1),Et?(Et.texture.bind(hn,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),Ut=Math.pow(2,Et.tileID.overscaledZ-Tt.tileID.overscaledZ),Bt=[Tt.tileID.canonical.x*Ut%1,Tt.tileID.canonical.y*Ut%1]):Tt.texture.bind(hn,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST);var pn=Ks(Dt,Bt||[0,0],Ut||1,Gt,q);ne instanceof F?ce.draw(H,K.TRIANGLES,Mt,qe.disabled,me,Ne.disabled,pn,q.id,ne.boundsBuffer,B.quadTriangleIndexBuffer,ne.boundsSegments):ce.draw(H,K.TRIANGLES,Mt,Pe[xt.overscaledZ],me,Ne.disabled,pn,q.id,B.rasterBoundsBuffer,B.quadTriangleIndexBuffer,B.rasterBoundsSegments)}},background:function(B,G,q){var L=q.paint.get("background-color"),H=q.paint.get("background-opacity");if(0!==H){var K=B.context,ne=K.gl,ce=B.transform,me=ce.tileSize,Le=q.paint.get("background-pattern");if(!B.isPatternMissing(Le)){var Pe=!Le&&1===L.a&&1===H&&B.opaquePassEnabledForLayer()?"opaque":"translucent";if(B.renderPass===Pe){var je=qe.disabled,He=B.depthModeForSublayer(0,"opaque"===Pe?Pt.ReadWrite:Pt.ReadOnly),$e=B.colorModeForRenderPass(),lt=B.useProgram(Le?"backgroundPattern":"background"),ft=ce.coveringTiles({tileSize:me});Le&&(K.activeTexture.set(ne.TEXTURE0),B.imageManager.bind(B.context));for(var xt=q.getCrossfadeParameters(),Mt=0,Tt=ft;Mt<Tt.length;Mt+=1){var Dt=Tt[Mt],Et=B.transform.calculatePosMatrix(Dt.toUnwrapped()),Gt=Le?wl(Et,H,B,Le,{tileID:Dt,tileSize:me},xt):Qo(Et,H,L);lt.draw(K,ne.TRIANGLES,He,je,$e,Ne.disabled,Gt,q.id,B.tileExtentBuffer,B.quadTriangleIndexBuffer,B.tileExtentSegments)}}}}},debug:function(B,G,q){for(var L=0;L<q.length;L++)ys(B,G,q[L])},custom:function(B,G,q){var L=B.context,H=q.implementation;if("offscreen"===B.renderPass){var K=H.prerender;K&&(B.setCustomLayerDefaults(),L.setColorMode(B.colorModeForRenderPass()),K.call(H,L.gl,B.transform.customLayerMatrix()),L.setDirty(),B.setBaseState())}else if("translucent"===B.renderPass){B.setCustomLayerDefaults(),L.setColorMode(B.colorModeForRenderPass()),L.setStencilMode(qe.disabled);var ne="3d"===H.renderingMode?new Pt(B.context.gl.LEQUAL,Pt.ReadWrite,B.depthRangeFor3D):B.depthModeForSublayer(0,Pt.ReadOnly);L.setDepthMode(ne),H.render(L.gl,B.transform.customLayerMatrix()),L.setDirty(),B.setBaseState(),L.bindFramebuffer.set(null)}}},$r=function(B,G){this.context=new Ge(B),this.transform=G,this._tileTextures={},this.setup(),this.numSublayers=rt.maxUnderzooming+rt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Vn,this.gpuTimers={}};$r.prototype.resize=function(B,G){if(this.width=B*a.browser.devicePixelRatio,this.height=G*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var q=0,L=this.style._order;q<L.length;q+=1){var H=L[q];this.style._layers[H].resize()}},$r.prototype.setup=function(){var B=this.context,G=new a.StructArrayLayout2i4;G.emplaceBack(0,0),G.emplaceBack(a.EXTENT,0),G.emplaceBack(0,a.EXTENT),G.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=B.createVertexBuffer(G,ir.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var q=new a.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(a.EXTENT,0),q.emplaceBack(0,a.EXTENT),q.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=B.createVertexBuffer(q,ir.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var L=new a.StructArrayLayout4i8;L.emplaceBack(0,0,0,0),L.emplaceBack(a.EXTENT,0,a.EXTENT,0),L.emplaceBack(0,a.EXTENT,0,a.EXTENT),L.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=B.createVertexBuffer(L,Y.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var H=new a.StructArrayLayout2i4;H.emplaceBack(0,0),H.emplaceBack(1,0),H.emplaceBack(0,1),H.emplaceBack(1,1),this.viewportBuffer=B.createVertexBuffer(H,ir.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var K=new a.StructArrayLayout1ui2;K.emplaceBack(0),K.emplaceBack(1),K.emplaceBack(3),K.emplaceBack(2),K.emplaceBack(0),this.tileBorderIndexBuffer=B.createIndexBuffer(K);var ne=new a.StructArrayLayout3ui6;ne.emplaceBack(0,1,2),ne.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=B.createIndexBuffer(ne),this.emptyTexture=new a.Texture(B,{width:1,height:1,data:new Uint8Array([0,0,0,0])},B.gl.RGBA);var ce=this.context.gl;this.stencilClearMode=new qe({func:ce.ALWAYS,mask:0},0,255,ce.ZERO,ce.ZERO,ce.ZERO)},$r.prototype.clearStencil=function(){var B=this.context,G=B.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var q=a.create();a.ortho(q,0,this.width,this.height,0,0,1),a.scale(q,q,[G.drawingBufferWidth,G.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(B,G.TRIANGLES,Pt.disabled,this.stencilClearMode,Ze.disabled,Ne.disabled,No(q),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},$r.prototype._renderTileClippingMasks=function(B,G){if(this.currentStencilSource!==B.source&&B.isTileClipped()&&G&&G.length){this.currentStencilSource=B.source;var q=this.context,L=q.gl;this.nextStencilID+G.length>256&&this.clearStencil(),q.setColorMode(Ze.disabled),q.setDepthMode(Pt.disabled);var H=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var K=0,ne=G;K<ne.length;K+=1){var ce=ne[K],me=this._tileClippingMaskIDs[ce.key]=this.nextStencilID++;H.draw(q,L.TRIANGLES,Pt.disabled,new qe({func:L.ALWAYS,mask:0},me,255,L.KEEP,L.KEEP,L.REPLACE),Ze.disabled,Ne.disabled,No(ce.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},$r.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var B=this.nextStencilID++,G=this.context.gl;return new qe({func:G.NOTEQUAL,mask:255},B,255,G.KEEP,G.KEEP,G.REPLACE)},$r.prototype.stencilModeForClipping=function(B){var G=this.context.gl;return new qe({func:G.EQUAL,mask:255},this._tileClippingMaskIDs[B.key],0,G.KEEP,G.KEEP,G.REPLACE)},$r.prototype.stencilConfigForOverlap=function(B){var G,q=this.context.gl,L=B.sort(function(me,Le){return Le.overscaledZ-me.overscaledZ}),H=L[L.length-1].overscaledZ,K=L[0].overscaledZ-H+1;if(K>1){this.currentStencilSource=void 0,this.nextStencilID+K>256&&this.clearStencil();for(var ne={},ce=0;ce<K;ce++)ne[ce+H]=new qe({func:q.GEQUAL,mask:255},ce+this.nextStencilID,255,q.KEEP,q.KEEP,q.REPLACE);return this.nextStencilID+=K,[ne,L]}return[(G={},G[H]=qe.disabled,G),L]},$r.prototype.colorModeForRenderPass=function(){var B=this.context.gl;if(this._showOverdrawInspector){var G=.125;return new Ze([B.CONSTANT_COLOR,B.ONE],new a.Color(G,G,G,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?Ze.unblended:Ze.alphaBlended},$r.prototype.depthModeForSublayer=function(B,G,q){if(!this.opaquePassEnabledForLayer())return Pt.disabled;var L=1-((1+this.currentLayer)*this.numSublayers+B)*this.depthEpsilon;return new Pt(q||this.context.gl.LEQUAL,G,[L,L])},$r.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},$r.prototype.render=function(B,G){var q=this;this.style=B,this.options=G,this.lineAtlas=B.lineAtlas,this.imageManager=B.imageManager,this.glyphManager=B.glyphManager,this.symbolFadeChange=B.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var L=this.style._order,H=this.style.sourceCaches;for(var K in H){var ne=H[K];ne.used&&ne.prepare(this.context)}var ce,me,Le={},Pe={},je={};for(var He in H){var $e=H[He];Le[He]=$e.getVisibleCoordinates(),Pe[He]=Le[He].slice().reverse(),je[He]=$e.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var lt=0;lt<L.length;lt++){var ft=L[lt];if(this.style._layers[ft].is3D()){this.opaquePassCutoff=lt;break}}this.renderPass="offscreen";for(var xt=0,Mt=L;xt<Mt.length;xt+=1){var Tt=Mt[xt],Dt=this.style._layers[Tt];if(Dt.hasOffscreenPass()&&!Dt.isHidden(this.transform.zoom)){var Et=Pe[Dt.source];("custom"===Dt.type||Et.length)&&this.renderLayer(this,H[Dt.source],Dt,Et)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:G.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=G.showOverdrawInspector,this.depthRangeFor3D=[0,1-(B._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){var Gt=this.style._layers[L[this.currentLayer]],Ut=H[Gt.source],Bt=Le[Gt.source];this._renderTileClippingMasks(Gt,Bt),this.renderLayer(this,Ut,Gt,Bt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){var hn=this.style._layers[L[this.currentLayer]],pn=H[hn.source],En=("symbol"===hn.type?je:Pe)[hn.source];this._renderTileClippingMasks(hn,Le[hn.source]),this.renderLayer(this,pn,hn,En)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(Cn){Cn.source&&!Cn.isHidden(q.transform.zoom)&&(Cn.source!==(me&&me.id)&&(me=q.style.sourceCaches[Cn.source]),(!ce||ce.getSource().maxzoom<me.getSource().maxzoom)&&(ce=me))}),ce&&Vs.debug(this,ce,ce.getVisibleCoordinates())),this.options.showPadding&&qo(this),this.context.setDefault()},$r.prototype.renderLayer=function(B,G,q,L){q.isHidden(this.transform.zoom)||("background"===q.type||"custom"===q.type||L.length)&&(this.id=q.id,this.gpuTimingStart(q),Vs[q.type](B,G,q,L,this.style.placement.variableOffsets),this.gpuTimingEnd())},$r.prototype.gpuTimingStart=function(B){if(this.options.gpuTiming){var G=this.context.extTimerQuery,q=this.gpuTimers[B.id];q||(q=this.gpuTimers[B.id]={calls:0,cpuTime:0,query:G.createQueryEXT()}),q.calls++,G.beginQueryEXT(G.TIME_ELAPSED_EXT,q.query)}},$r.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var B=this.context.extTimerQuery;B.endQueryEXT(B.TIME_ELAPSED_EXT)}},$r.prototype.collectGpuTimers=function(){var B=this.gpuTimers;return this.gpuTimers={},B},$r.prototype.queryGpuTimers=function(B){var G={};for(var q in B){var L=B[q],H=this.context.extTimerQuery,K=H.getQueryObjectEXT(L.query,H.QUERY_RESULT_EXT)/1e6;H.deleteQueryEXT(L.query),G[q]=K}return G},$r.prototype.translatePosMatrix=function(B,G,q,L,H){if(!q[0]&&!q[1])return B;var K=H?"map"===L?this.transform.angle:0:"viewport"===L?-this.transform.angle:0;if(K){var ne=Math.sin(K),ce=Math.cos(K);q=[q[0]*ce-q[1]*ne,q[0]*ne+q[1]*ce]}var me=[H?q[0]:qn(G,q[0],this.transform.zoom),H?q[1]:qn(G,q[1],this.transform.zoom),0],Le=new Float32Array(16);return a.translate(Le,B,me),Le},$r.prototype.saveTileTexture=function(B){var G=this._tileTextures[B.size[0]];G?G.push(B):this._tileTextures[B.size[0]]=[B]},$r.prototype.getTileTexture=function(B){var G=this._tileTextures[B];return G&&G.length>0?G.pop():null},$r.prototype.isPatternMissing=function(B){if(!B)return!1;if(!B.from||!B.to)return!0;var G=this.imageManager.getPattern(B.from.toString()),q=this.imageManager.getPattern(B.to.toString());return!G||!q},$r.prototype.useProgram=function(B,G){this.cache=this.cache||{};var q=""+B+(G?G.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[q]||(this.cache[q]=new Ia(this.context,B,Di[B],G,Bs[B],this._showOverdrawInspector)),this.cache[q]},$r.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},$r.prototype.setBaseState=function(){var B=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(B.FUNC_ADD)},$r.prototype.initDebugOverlayCanvas=function(){if(null==this.debugOverlayCanvas){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var B=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,B.RGBA)}},$r.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var ko=function(B,G){this.points=B,this.planes=G};ko.fromInvProjectionMatrix=function(B,G,q){var L=Math.pow(2,q),H=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(ne){return a.transformMat4([],ne,B)}).map(function(ne){return a.scale$1([],ne,1/ne[3]/G*L)}),K=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(ne){var ce=a.sub([],H[ne[0]],H[ne[1]]),me=a.sub([],H[ne[2]],H[ne[1]]),Le=a.normalize([],a.cross([],ce,me)),Pe=-a.dot(Le,H[ne[1]]);return Le.concat(Pe)});return new ko(H,K)};var Zi=function(B,G){this.min=B,this.max=G,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};Zi.prototype.quadrant=function(B){for(var G=[B%2==0,B<2],q=a.clone$2(this.min),L=a.clone$2(this.max),H=0;H<G.length;H++)q[H]=G[H]?this.min[H]:this.center[H],L[H]=G[H]?this.center[H]:this.max[H];return L[2]=this.max[2],new Zi(q,L)},Zi.prototype.distanceX=function(B){return Math.max(Math.min(this.max[0],B[0]),this.min[0])-B[0]},Zi.prototype.distanceY=function(B){return Math.max(Math.min(this.max[1],B[1]),this.min[1])-B[1]},Zi.prototype.intersects=function(B){for(var G=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],q=!0,L=0;L<B.planes.length;L++){for(var H=B.planes[L],K=0,ne=0;ne<G.length;ne++)K+=a.dot$1(H,G[ne])>=0;if(0===K)return 0;K!==G.length&&(q=!1)}if(q)return 2;for(var ce=0;ce<3;ce++){for(var me=Number.MAX_VALUE,Le=-Number.MAX_VALUE,Pe=0;Pe<B.points.length;Pe++){var je=B.points[Pe][ce]-this.min[ce];me=Math.min(me,je),Le=Math.max(Le,je)}if(Le<0||me>this.max[ce]-this.min[ce])return 0}return 1};var Ra=function(B,G,q,L){if(void 0===B&&(B=0),void 0===G&&(G=0),void 0===q&&(q=0),void 0===L&&(L=0),isNaN(B)||B<0||isNaN(G)||G<0||isNaN(q)||q<0||isNaN(L)||L<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=B,this.bottom=G,this.left=q,this.right=L};Ra.prototype.interpolate=function(B,G,q){return null!=G.top&&null!=B.top&&(this.top=a.number(B.top,G.top,q)),null!=G.bottom&&null!=B.bottom&&(this.bottom=a.number(B.bottom,G.bottom,q)),null!=G.left&&null!=B.left&&(this.left=a.number(B.left,G.left,q)),null!=G.right&&null!=B.right&&(this.right=a.number(B.right,G.right,q)),this},Ra.prototype.getCenter=function(B,G){var q=a.clamp((this.left+B-this.right)/2,0,B),L=a.clamp((this.top+G-this.bottom)/2,0,G);return new a.Point(q,L)},Ra.prototype.equals=function(B){return this.top===B.top&&this.bottom===B.bottom&&this.left===B.left&&this.right===B.right},Ra.prototype.clone=function(){return new Ra(this.top,this.bottom,this.left,this.right)},Ra.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Zr=function(B,G,q,L,H){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===H||H,this._minZoom=B||0,this._maxZoom=G||22,this._minPitch=q??0,this._maxPitch=L??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ra,this._posMatrixCache={},this._alignedPosMatrixCache={}},Kr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Zr.prototype.clone=function(){var B=new Zr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return B.tileSize=this.tileSize,B.latRange=this.latRange,B.width=this.width,B.height=this.height,B._center=this._center,B.zoom=this.zoom,B.angle=this.angle,B._fov=this._fov,B._pitch=this._pitch,B._unmodified=this._unmodified,B._edgeInsets=this._edgeInsets.clone(),B._calcMatrices(),B},Kr.minZoom.get=function(){return this._minZoom},Kr.minZoom.set=function(B){this._minZoom!==B&&(this._minZoom=B,this.zoom=Math.max(this.zoom,B))},Kr.maxZoom.get=function(){return this._maxZoom},Kr.maxZoom.set=function(B){this._maxZoom!==B&&(this._maxZoom=B,this.zoom=Math.min(this.zoom,B))},Kr.minPitch.get=function(){return this._minPitch},Kr.minPitch.set=function(B){this._minPitch!==B&&(this._minPitch=B,this.pitch=Math.max(this.pitch,B))},Kr.maxPitch.get=function(){return this._maxPitch},Kr.maxPitch.set=function(B){this._maxPitch!==B&&(this._maxPitch=B,this.pitch=Math.min(this.pitch,B))},Kr.renderWorldCopies.get=function(){return this._renderWorldCopies},Kr.renderWorldCopies.set=function(B){void 0===B?B=!0:null===B&&(B=!1),this._renderWorldCopies=B},Kr.worldSize.get=function(){return this.tileSize*this.scale},Kr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Kr.size.get=function(){return new a.Point(this.width,this.height)},Kr.bearing.get=function(){return-this.angle/Math.PI*180},Kr.bearing.set=function(B){var G=-a.wrap(B,-180,180)*Math.PI/180;this.angle!==G&&(this._unmodified=!1,this.angle=G,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Kr.pitch.get=function(){return this._pitch/Math.PI*180},Kr.pitch.set=function(B){var G=a.clamp(B,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==G&&(this._unmodified=!1,this._pitch=G,this._calcMatrices())},Kr.fov.get=function(){return this._fov/Math.PI*180},Kr.fov.set=function(B){B=Math.max(.01,Math.min(60,B)),this._fov!==B&&(this._unmodified=!1,this._fov=B/180*Math.PI,this._calcMatrices())},Kr.zoom.get=function(){return this._zoom},Kr.zoom.set=function(B){var G=Math.min(Math.max(B,this.minZoom),this.maxZoom);this._zoom!==G&&(this._unmodified=!1,this._zoom=G,this.scale=this.zoomScale(G),this.tileZoom=Math.floor(G),this.zoomFraction=G-this.tileZoom,this._constrain(),this._calcMatrices())},Kr.center.get=function(){return this._center},Kr.center.set=function(B){B.lat===this._center.lat&&B.lng===this._center.lng||(this._unmodified=!1,this._center=B,this._constrain(),this._calcMatrices())},Kr.padding.get=function(){return this._edgeInsets.toJSON()},Kr.padding.set=function(B){this._edgeInsets.equals(B)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,B,1),this._calcMatrices())},Kr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Zr.prototype.isPaddingEqual=function(B){return this._edgeInsets.equals(B)},Zr.prototype.interpolatePadding=function(B,G,q){this._unmodified=!1,this._edgeInsets.interpolate(B,G,q),this._constrain(),this._calcMatrices()},Zr.prototype.coveringZoomLevel=function(B){var G=(B.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/B.tileSize));return Math.max(0,G)},Zr.prototype.getVisibleUnwrappedCoordinates=function(B){var G=[new a.UnwrappedTileID(0,B)];if(this._renderWorldCopies)for(var q=this.pointCoordinate(new a.Point(0,0)),L=this.pointCoordinate(new a.Point(this.width,0)),H=this.pointCoordinate(new a.Point(this.width,this.height)),K=this.pointCoordinate(new a.Point(0,this.height)),ne=Math.floor(Math.min(q.x,L.x,H.x,K.x)),ce=Math.floor(Math.max(q.x,L.x,H.x,K.x)),me=ne-1;me<=ce+1;me++)0!==me&&G.push(new a.UnwrappedTileID(me,B));return G},Zr.prototype.coveringTiles=function(B){var G=this.coveringZoomLevel(B),q=G;if(void 0!==B.minzoom&&G<B.minzoom)return[];void 0!==B.maxzoom&&G>B.maxzoom&&(G=B.maxzoom);var L=a.MercatorCoordinate.fromLngLat(this.center),H=Math.pow(2,G),K=[H*L.x,H*L.y,0],ne=ko.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,G),ce=B.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(ce=G);var me=function(En){return{aabb:new Zi([En*H,0,0],[(En+1)*H,H,0]),zoom:0,x:0,y:0,wrap:En,fullyVisible:!1}},Le=[],Pe=[],je=G,He=B.reparseOverscaled?q:G;if(this._renderWorldCopies)for(var $e=1;$e<=3;$e++)Le.push(me(-$e)),Le.push(me($e));for(Le.push(me(0));Le.length>0;){var lt=Le.pop(),ft=lt.x,xt=lt.y,Mt=lt.fullyVisible;if(!Mt){var Tt=lt.aabb.intersects(ne);if(0===Tt)continue;Mt=2===Tt}var Dt=lt.aabb.distanceX(K),Et=lt.aabb.distanceY(K),Gt=Math.max(Math.abs(Dt),Math.abs(Et)),Ut=3+(1<<je-lt.zoom)-2;if(lt.zoom===je||Gt>Ut&&lt.zoom>=ce)Pe.push({tileID:new a.OverscaledTileID(lt.zoom===je?He:lt.zoom,lt.wrap,lt.zoom,ft,xt),distanceSq:a.sqrLen([K[0]-.5-ft,K[1]-.5-xt])});else for(var Bt=0;Bt<4;Bt++){var hn=(ft<<1)+Bt%2,pn=(xt<<1)+(Bt>>1);Le.push({aabb:lt.aabb.quadrant(Bt),zoom:lt.zoom+1,x:hn,y:pn,wrap:lt.wrap,fullyVisible:Mt})}}return Pe.sort(function(En,Cn){return En.distanceSq-Cn.distanceSq}).map(function(En){return En.tileID})},Zr.prototype.resize=function(B,G){this.width=B,this.height=G,this.pixelsToGLUnits=[2/B,-2/G],this._constrain(),this._calcMatrices()},Kr.unmodified.get=function(){return this._unmodified},Zr.prototype.zoomScale=function(B){return Math.pow(2,B)},Zr.prototype.scaleZoom=function(B){return Math.log(B)/Math.LN2},Zr.prototype.project=function(B){var G=a.clamp(B.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(B.lng)*this.worldSize,a.mercatorYfromLat(G)*this.worldSize)},Zr.prototype.unproject=function(B){return new a.MercatorCoordinate(B.x/this.worldSize,B.y/this.worldSize).toLngLat()},Kr.point.get=function(){return this.project(this.center)},Zr.prototype.setLocationAtPoint=function(B,G){var q=this.pointCoordinate(G),L=this.pointCoordinate(this.centerPoint),H=this.locationCoordinate(B),K=new a.MercatorCoordinate(H.x-(q.x-L.x),H.y-(q.y-L.y));this.center=this.coordinateLocation(K),this._renderWorldCopies&&(this.center=this.center.wrap())},Zr.prototype.locationPoint=function(B){return this.coordinatePoint(this.locationCoordinate(B))},Zr.prototype.pointLocation=function(B){return this.coordinateLocation(this.pointCoordinate(B))},Zr.prototype.locationCoordinate=function(B){return a.MercatorCoordinate.fromLngLat(B)},Zr.prototype.coordinateLocation=function(B){return B.toLngLat()},Zr.prototype.pointCoordinate=function(B){var G=[B.x,B.y,0,1],q=[B.x,B.y,1,1];a.transformMat4(G,G,this.pixelMatrixInverse),a.transformMat4(q,q,this.pixelMatrixInverse);var L=G[3],H=q[3],K=G[0]/L,ne=q[0]/H,ce=G[1]/L,me=q[1]/H,Le=G[2]/L,Pe=q[2]/H,je=Le===Pe?0:(0-Le)/(Pe-Le);return new a.MercatorCoordinate(a.number(K,ne,je)/this.worldSize,a.number(ce,me,je)/this.worldSize)},Zr.prototype.coordinatePoint=function(B){var G=[B.x*this.worldSize,B.y*this.worldSize,0,1];return a.transformMat4(G,G,this.pixelMatrix),new a.Point(G[0]/G[3],G[1]/G[3])},Zr.prototype.getBounds=function(){return(new a.LngLatBounds).extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Zr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Zr.prototype.setMaxBounds=function(B){B?(this.lngRange=[B.getWest(),B.getEast()],this.latRange=[B.getSouth(),B.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Zr.prototype.calculatePosMatrix=function(B,G){void 0===G&&(G=!1);var q=B.key,L=G?this._alignedPosMatrixCache:this._posMatrixCache;if(L[q])return L[q];var H=B.canonical,K=this.worldSize/this.zoomScale(H.z),ne=H.x+Math.pow(2,H.z)*B.wrap,ce=a.identity(new Float64Array(16));return a.translate(ce,ce,[ne*K,H.y*K,0]),a.scale(ce,ce,[K/a.EXTENT,K/a.EXTENT,1]),a.multiply(ce,G?this.alignedProjMatrix:this.projMatrix,ce),L[q]=new Float32Array(ce),L[q]},Zr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Zr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var B,G,q,L,H=-90,K=90,ne=-180,ce=180,me=this.size,Le=this._unmodified;if(this.latRange){var Pe=this.latRange;H=a.mercatorYfromLat(Pe[1])*this.worldSize,B=(K=a.mercatorYfromLat(Pe[0])*this.worldSize)-H<me.y?me.y/(K-H):0}if(this.lngRange){var je=this.lngRange;ne=a.mercatorXfromLng(je[0])*this.worldSize,G=(ce=a.mercatorXfromLng(je[1])*this.worldSize)-ne<me.x?me.x/(ce-ne):0}var He=this.point,$e=Math.max(G||0,B||0);if($e)return this.center=this.unproject(new a.Point(G?(ce+ne)/2:He.x,B?(K+H)/2:He.y)),this.zoom+=this.scaleZoom($e),this._unmodified=Le,void(this._constraining=!1);if(this.latRange){var lt=He.y,ft=me.y/2;lt-ft<H&&(L=H+ft),lt+ft>K&&(L=K-ft)}if(this.lngRange){var xt=He.x,Mt=me.x/2;xt-Mt<ne&&(q=ne+Mt),xt+Mt>ce&&(q=ce-Mt)}void 0===q&&void 0===L||(this.center=this.unproject(new a.Point(void 0!==q?q:He.x,void 0!==L?L:He.y))),this._unmodified=Le,this._constraining=!1}},Zr.prototype._calcMatrices=function(){if(this.height){var B=this._fov/2,G=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(B)*this.height;var q=Math.PI/2+this._pitch,L=this._fov*(.5+G.y/this.height),H=Math.sin(L)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-q-L,.01,Math.PI-.01)),K=this.point,ne=K.x,ce=K.y,me=1.01*(Math.cos(Math.PI/2-this._pitch)*H+this.cameraToCenterDistance),Le=this.height/50,Pe=new Float64Array(16);a.perspective(Pe,this._fov,this.width/this.height,Le,me),Pe[8]=2*-G.x/this.width,Pe[9]=2*G.y/this.height,a.scale(Pe,Pe,[1,-1,1]),a.translate(Pe,Pe,[0,0,-this.cameraToCenterDistance]),a.rotateX(Pe,Pe,this._pitch),a.rotateZ(Pe,Pe,this.angle),a.translate(Pe,Pe,[-ne,-ce,0]),this.mercatorMatrix=a.scale([],Pe,[this.worldSize,this.worldSize,this.worldSize]),a.scale(Pe,Pe,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Pe,this.invProjMatrix=a.invert([],this.projMatrix);var je=this.width%2/2,He=this.height%2/2,$e=Math.cos(this.angle),lt=Math.sin(this.angle),ft=ne-Math.round(ne)+$e*je+lt*He,xt=ce-Math.round(ce)+$e*He+lt*je,Mt=new Float64Array(Pe);if(a.translate(Mt,Mt,[ft>.5?ft-1:ft,xt>.5?xt-1:xt,0]),this.alignedProjMatrix=Mt,Pe=a.create(),a.scale(Pe,Pe,[this.width/2,-this.height/2,1]),a.translate(Pe,Pe,[1,-1,0]),this.labelPlaneMatrix=Pe,Pe=a.create(),a.scale(Pe,Pe,[1,-1,1]),a.translate(Pe,Pe,[-1,-1,0]),a.scale(Pe,Pe,[2/this.width,2/this.height,1]),this.glCoordMatrix=Pe,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Pe=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Pe,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Zr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var B=this.pointCoordinate(new a.Point(0,0)),G=[B.x*this.worldSize,B.y*this.worldSize,0,1];return a.transformMat4(G,G,this.pixelMatrix)[3]/this.cameraToCenterDistance},Zr.prototype.getCameraPoint=function(){var B=this._pitch,G=Math.tan(B)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,G))},Zr.prototype.getCameraQueryGeometry=function(B){var G=this.getCameraPoint();if(1===B.length)return[B[0],G];for(var q=G.x,L=G.y,H=G.x,K=G.y,ne=0,ce=B;ne<ce.length;ne+=1){var me=ce[ne];q=Math.min(q,me.x),L=Math.min(L,me.y),H=Math.max(H,me.x),K=Math.max(K,me.y)}return[new a.Point(q,L),new a.Point(H,L),new a.Point(H,K),new a.Point(q,K),new a.Point(q,L)]},Object.defineProperties(Zr.prototype,Kr);var xa=function(B){var G,q,L,H,K;this._hashName=B&&encodeURIComponent(B),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(G=this._updateHashUnthrottled.bind(this),q=300,L=!1,H=null,K=function(){H=null,L&&(G(),H=setTimeout(K,q),L=!1)},function(){return L=!0,H||K(),H})};xa.prototype.addTo=function(B){return this._map=B,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},xa.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},xa.prototype.getHashString=function(B){var G=this._map.getCenter(),q=Math.round(100*this._map.getZoom())/100,L=Math.ceil((q*Math.LN2+Math.log(512/360/.5))/Math.LN10),H=Math.pow(10,L),K=Math.round(G.lng*H)/H,ne=Math.round(G.lat*H)/H,ce=this._map.getBearing(),me=this._map.getPitch(),Le="";if(Le+=B?"/"+K+"/"+ne+"/"+q:q+"/"+ne+"/"+K,(ce||me)&&(Le+="/"+Math.round(10*ce)/10),me&&(Le+="/"+Math.round(me)),this._hashName){var Pe=this._hashName,je=!1,He=a.window.location.hash.slice(1).split("&").map(function($e){var lt=$e.split("=")[0];return lt===Pe?(je=!0,lt+"="+Le):$e}).filter(function($e){return $e});return je||He.push(Pe+"="+Le),"#"+He.join("&")}return"#"+Le},xa.prototype._getCurrentHash=function(){var B,G=this,q=a.window.location.hash.replace("#","");return this._hashName?(q.split("&").map(function(L){return L.split("=")}).forEach(function(L){L[0]===G._hashName&&(B=L)}),(B&&B[1]||"").split("/")):q.split("/")},xa.prototype._onHashChange=function(){var B=this._getCurrentHash();if(B.length>=3&&!B.some(function(q){return isNaN(q)})){var G=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(B[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+B[2],+B[1]],zoom:+B[0],bearing:G,pitch:+(B[4]||0)}),!0}return!1},xa.prototype._updateHashUnthrottled=function(){var B=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,B)}catch{}};var is={linearity:.3,easing:a.bezier(0,0,.3,1)},xs=a.extend({deceleration:2500,maxSpeed:1400},is),Hs=a.extend({deceleration:20,maxSpeed:1400},is),bs=a.extend({deceleration:1e3,maxSpeed:360},is),_s=a.extend({deceleration:1e3,maxSpeed:90},is),ka=function(B){this._map=B,this.clear()};function Ao(B,G){(!B.duration||B.duration<G.duration)&&(B.duration=G.duration,B.easing=G.easing)}function Mo(B,G,q){var L=q.maxSpeed,H=q.linearity,K=q.deceleration,ne=a.clamp(B*H/(G/1e3),-L,L),ce=Math.abs(ne)/(K*H);return{easing:q.easing,duration:1e3*ce,amount:ne*(ce/2)}}ka.prototype.clear=function(){this._inertiaBuffer=[]},ka.prototype.record=function(B){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:B})},ka.prototype._drainInertiaBuffer=function(){for(var B=this._inertiaBuffer,G=a.browser.now();B.length>0&&G-B[0].time>160;)B.shift()},ka.prototype._onMoveEnd=function(B){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var G={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},q=0,L=this._inertiaBuffer;q<L.length;q+=1){var H=L[q].settings;G.zoom+=H.zoomDelta||0,G.bearing+=H.bearingDelta||0,G.pitch+=H.pitchDelta||0,H.panDelta&&G.pan._add(H.panDelta),H.around&&(G.around=H.around),H.pinchAround&&(G.pinchAround=H.pinchAround)}var K=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,ne={};if(G.pan.mag()){var ce=Mo(G.pan.mag(),K,a.extend({},xs,B||{}));ne.offset=G.pan.mult(ce.amount/G.pan.mag()),ne.center=this._map.transform.center,Ao(ne,ce)}if(G.zoom){var me=Mo(G.zoom,K,Hs);ne.zoom=this._map.transform.zoom+me.amount,Ao(ne,me)}if(G.bearing){var Le=Mo(G.bearing,K,bs);ne.bearing=this._map.transform.bearing+a.clamp(Le.amount,-179,179),Ao(ne,Le)}if(G.pitch){var Pe=Mo(G.pitch,K,_s);ne.pitch=this._map.transform.pitch+Pe.amount,Ao(ne,Pe)}if(ne.zoom||ne.bearing){var je=void 0===G.pinchAround?G.around:G.pinchAround;ne.around=je?this._map.unproject(je):this._map.getCenter()}return this.clear(),a.extend(ne,{noMoveStart:!0})}};var $i=function(B){function G(L,H,K,ne){void 0===ne&&(ne={});var ce=b.mousePos(H.getCanvasContainer(),K),me=H.unproject(ce);B.call(this,L,a.extend({point:ce,lngLat:me,originalEvent:K},ne)),this._defaultPrevented=!1,this.target=H}B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G;var q={defaultPrevented:{configurable:!0}};return G.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(G.prototype,q),G}(a.Event),ws=function(B){function G(L,H,K){var ne="touchend"===L?K.changedTouches:K.touches,ce=b.touchPos(H.getCanvasContainer(),ne),me=ce.map(function(je){return H.unproject(je)}),Le=ce.reduce(function(je,He,$e,lt){return je.add(He.div(lt.length))},new a.Point(0,0)),Pe=H.unproject(Le);B.call(this,L,{points:ce,point:Le,lngLats:me,lngLat:Pe,originalEvent:K}),this._defaultPrevented=!1}B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G;var q={defaultPrevented:{configurable:!0}};return G.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(G.prototype,q),G}(a.Event),Aa=function(B){function G(L,H,K){B.call(this,L,{originalEvent:K}),this._defaultPrevented=!1}B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G;var q={defaultPrevented:{configurable:!0}};return G.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(G.prototype,q),G}(a.Event),Ri=function(B,G){this._map=B,this._clickTolerance=G.clickTolerance};Ri.prototype.reset=function(){delete this._mousedownPos},Ri.prototype.wheel=function(B){return this._firePreventable(new Aa(B.type,this._map,B))},Ri.prototype.mousedown=function(B,G){return this._mousedownPos=G,this._firePreventable(new $i(B.type,this._map,B))},Ri.prototype.mouseup=function(B){this._map.fire(new $i(B.type,this._map,B))},Ri.prototype.click=function(B,G){this._mousedownPos&&this._mousedownPos.dist(G)>=this._clickTolerance||this._map.fire(new $i(B.type,this._map,B))},Ri.prototype.dblclick=function(B){return this._firePreventable(new $i(B.type,this._map,B))},Ri.prototype.mouseover=function(B){this._map.fire(new $i(B.type,this._map,B))},Ri.prototype.mouseout=function(B){this._map.fire(new $i(B.type,this._map,B))},Ri.prototype.touchstart=function(B){return this._firePreventable(new ws(B.type,this._map,B))},Ri.prototype.touchmove=function(B){this._map.fire(new ws(B.type,this._map,B))},Ri.prototype.touchend=function(B){this._map.fire(new ws(B.type,this._map,B))},Ri.prototype.touchcancel=function(B){this._map.fire(new ws(B.type,this._map,B))},Ri.prototype._firePreventable=function(B){if(this._map.fire(B),B.defaultPrevented)return{}},Ri.prototype.isEnabled=function(){return!0},Ri.prototype.isActive=function(){return!1},Ri.prototype.enable=function(){},Ri.prototype.disable=function(){};var Ui=function(B){this._map=B};Ui.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ui.prototype.mousemove=function(B){this._map.fire(new $i(B.type,this._map,B))},Ui.prototype.mousedown=function(){this._delayContextMenu=!0},Ui.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new $i("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ui.prototype.contextmenu=function(B){this._delayContextMenu?this._contextMenuEvent=B:this._map.fire(new $i(B.type,this._map,B)),this._map.listens("contextmenu")&&B.preventDefault()},Ui.prototype.isEnabled=function(){return!0},Ui.prototype.isActive=function(){return!1},Ui.prototype.enable=function(){},Ui.prototype.disable=function(){};var ai=function(B,G){this._map=B,this._el=B.getCanvasContainer(),this._container=B.getContainer(),this._clickTolerance=G.clickTolerance||1};function Vi(B,G){for(var q={},L=0;L<B.length;L++)q[B[L].identifier]=G[L];return q}ai.prototype.isEnabled=function(){return!!this._enabled},ai.prototype.isActive=function(){return!!this._active},ai.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ai.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ai.prototype.mousedown=function(B,G){this.isEnabled()&&B.shiftKey&&0===B.button&&(b.disableDrag(),this._startPos=this._lastPos=G,this._active=!0)},ai.prototype.mousemoveWindow=function(B,G){if(this._active){var q=G;if(!(this._lastPos.equals(q)||!this._box&&q.dist(this._startPos)<this._clickTolerance)){var L=this._startPos;this._lastPos=q,this._box||(this._box=b.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",B));var H=Math.min(L.x,q.x),K=Math.max(L.x,q.x),ne=Math.min(L.y,q.y),ce=Math.max(L.y,q.y);b.setTransform(this._box,"translate("+H+"px,"+ne+"px)"),this._box.style.width=K-H+"px",this._box.style.height=ce-ne+"px"}}},ai.prototype.mouseupWindow=function(B,G){var q=this;if(this._active&&0===B.button){var L=this._startPos,H=G;if(this.reset(),b.suppressClick(),L.x!==H.x||L.y!==H.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:B})),{cameraAnimation:function(K){return K.fitScreenCoordinates(L,H,q._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",B)}},ai.prototype.keydown=function(B){this._active&&27===B.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",B))},ai.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(b.remove(this._box),this._box=null),b.enableDrag(),delete this._startPos,delete this._lastPos},ai.prototype._fireEvent=function(B,G){return this._map.fire(new a.Event(B,{originalEvent:G}))};var Xa=function(B){this.reset(),this.numTouches=B.numTouches};Xa.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Xa.prototype.touchstart=function(B,G,q){(this.centroid||q.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=B.timeStamp),q.length===this.numTouches&&(this.centroid=function(L){for(var H=new a.Point(0,0),K=0,ne=L;K<ne.length;K+=1){var ce=ne[K];H._add(ce)}return H.div(L.length)}(G),this.touches=Vi(q,G)))},Xa.prototype.touchmove=function(B,G,q){if(!this.aborted&&this.centroid){var L=Vi(q,G);for(var H in this.touches){var K=this.touches[H],ne=L[H];(!ne||ne.dist(K)>30)&&(this.aborted=!0)}}},Xa.prototype.touchend=function(B,G,q){if((!this.centroid||B.timeStamp-this.startTime>500)&&(this.aborted=!0),0===q.length){var L=!this.aborted&&this.centroid;if(this.reset(),L)return L}};var Yo=function(B){this.singleTap=new Xa(B),this.numTaps=B.numTaps,this.reset()};Yo.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Yo.prototype.touchstart=function(B,G,q){this.singleTap.touchstart(B,G,q)},Yo.prototype.touchmove=function(B,G,q){this.singleTap.touchmove(B,G,q)},Yo.prototype.touchend=function(B,G,q){var L=this.singleTap.touchend(B,G,q);if(L){var H=B.timeStamp-this.lastTime<500,K=!this.lastTap||this.lastTap.dist(L)<30;if(H&&K||this.reset(),this.count++,this.lastTime=B.timeStamp,this.lastTap=L,this.count===this.numTaps)return this.reset(),L}};var Fa=function(){this._zoomIn=new Yo({numTouches:1,numTaps:2}),this._zoomOut=new Yo({numTouches:2,numTaps:1}),this.reset()};Fa.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Fa.prototype.touchstart=function(B,G,q){this._zoomIn.touchstart(B,G,q),this._zoomOut.touchstart(B,G,q)},Fa.prototype.touchmove=function(B,G,q){this._zoomIn.touchmove(B,G,q),this._zoomOut.touchmove(B,G,q)},Fa.prototype.touchend=function(B,G,q){var L=this,H=this._zoomIn.touchend(B,G,q),K=this._zoomOut.touchend(B,G,q);return H?(this._active=!0,B.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(ne){return ne.easeTo({duration:300,zoom:ne.getZoom()+1,around:ne.unproject(H)},{originalEvent:B})}}):K?(this._active=!0,B.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(ne){return ne.easeTo({duration:300,zoom:ne.getZoom()-1,around:ne.unproject(K)},{originalEvent:B})}}):void 0},Fa.prototype.touchcancel=function(){this.reset()},Fa.prototype.enable=function(){this._enabled=!0},Fa.prototype.disable=function(){this._enabled=!1,this.reset()},Fa.prototype.isEnabled=function(){return this._enabled},Fa.prototype.isActive=function(){return this._active};var So={0:1,2:2},aa=function(B){this.reset(),this._clickTolerance=B.clickTolerance||1};aa.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},aa.prototype._correctButton=function(B,G){return!1},aa.prototype._move=function(B,G){return{}},aa.prototype.mousedown=function(B,G){if(!this._lastPoint){var q=b.mouseButton(B);this._correctButton(B,q)&&(this._lastPoint=G,this._eventButton=q)}},aa.prototype.mousemoveWindow=function(B,G){var L,H,K,q=this._lastPoint;if(q)if(B.preventDefault(),L=B,H=this._eventButton,K=So[H],void 0===L.buttons||(L.buttons&K)!==K)this.reset();else if(this._moved||!(G.dist(q)<this._clickTolerance))return this._moved=!0,this._lastPoint=G,this._move(q,G)},aa.prototype.mouseupWindow=function(B){this._lastPoint&&b.mouseButton(B)===this._eventButton&&(this._moved&&b.suppressClick(),this.reset())},aa.prototype.enable=function(){this._enabled=!0},aa.prototype.disable=function(){this._enabled=!1,this.reset()},aa.prototype.isEnabled=function(){return this._enabled},aa.prototype.isActive=function(){return this._active};var Wo=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.mousedown=function(q,L){B.prototype.mousedown.call(this,q,L),this._lastPoint&&(this._active=!0)},G.prototype._correctButton=function(q,L){return 0===L&&!q.ctrlKey},G.prototype._move=function(q,L){return{around:L,panDelta:L.sub(q)}},G}(aa),lo=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype._correctButton=function(q,L){return 0===L&&q.ctrlKey||2===L},G.prototype._move=function(q,L){var H=.8*(L.x-q.x);if(H)return this._active=!0,{bearingDelta:H}},G.prototype.contextmenu=function(q){q.preventDefault()},G}(aa),Ma=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype._correctButton=function(q,L){return 0===L&&q.ctrlKey||2===L},G.prototype._move=function(q,L){var H=-.5*(L.y-q.y);if(H)return this._active=!0,{pitchDelta:H}},G.prototype.contextmenu=function(q){q.preventDefault()},G}(aa),Sa=function(B){this._minTouches=1,this._clickTolerance=B.clickTolerance||1,this.reset()};Sa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},Sa.prototype.touchstart=function(B,G,q){return this._calculateTransform(B,G,q)},Sa.prototype.touchmove=function(B,G,q){if(this._active&&!(q.length<this._minTouches))return B.preventDefault(),this._calculateTransform(B,G,q)},Sa.prototype.touchend=function(B,G,q){this._calculateTransform(B,G,q),this._active&&q.length<this._minTouches&&this.reset()},Sa.prototype.touchcancel=function(){this.reset()},Sa.prototype._calculateTransform=function(B,G,q){q.length>0&&(this._active=!0);var L=Vi(q,G),H=new a.Point(0,0),K=new a.Point(0,0),ne=0;for(var ce in L){var me=L[ce],Le=this._touches[ce];Le&&(H._add(me),K._add(me.sub(Le)),ne++,L[ce]=me)}if(this._touches=L,!(ne<this._minTouches)&&K.mag()){var Pe=K.div(ne);if(this._sum._add(Pe),!(this._sum.mag()<this._clickTolerance))return{around:H.div(ne),panDelta:Pe}}},Sa.prototype.enable=function(){this._enabled=!0},Sa.prototype.disable=function(){this._enabled=!1,this.reset()},Sa.prototype.isEnabled=function(){return this._enabled},Sa.prototype.isActive=function(){return this._active};var si=function(){this.reset()};function Ba(B,G,q){for(var L=0;L<B.length;L++)if(B[L].identifier===q)return G[L]}function br(B,G){return Math.log(B/G)/Math.LN2}si.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},si.prototype._start=function(B){},si.prototype._move=function(B,G,q){return{}},si.prototype.touchstart=function(B,G,q){this._firstTwoTouches||q.length<2||(this._firstTwoTouches=[q[0].identifier,q[1].identifier],this._start([G[0],G[1]]))},si.prototype.touchmove=function(B,G,q){if(this._firstTwoTouches){B.preventDefault();var L=this._firstTwoTouches,H=L[0],K=L[1],ne=Ba(q,G,H),ce=Ba(q,G,K);if(ne&&ce){var me=this._aroundCenter?null:ne.add(ce).div(2);return this._move([ne,ce],me,B)}}},si.prototype.touchend=function(B,G,q){if(this._firstTwoTouches){var L=this._firstTwoTouches,H=L[0],K=L[1],ne=Ba(q,G,H),ce=Ba(q,G,K);ne&&ce||(this._active&&b.suppressClick(),this.reset())}},si.prototype.touchcancel=function(){this.reset()},si.prototype.enable=function(B){this._enabled=!0,this._aroundCenter=!!B&&"center"===B.around},si.prototype.disable=function(){this._enabled=!1,this.reset()},si.prototype.isEnabled=function(){return this._enabled},si.prototype.isActive=function(){return this._active};var Ts=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.reset=function(){B.prototype.reset.call(this),delete this._distance,delete this._startDistance},G.prototype._start=function(q){this._startDistance=this._distance=q[0].dist(q[1])},G.prototype._move=function(q,L){var H=this._distance;if(this._distance=q[0].dist(q[1]),this._active||!(Math.abs(br(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:br(this._distance,H),pinchAround:L}},G}(si);function $s(B,G){return 180*B.angleWith(G)/Math.PI}var Eo=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.reset=function(){B.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},G.prototype._start=function(q){this._startVector=this._vector=q[0].sub(q[1]),this._minDiameter=q[0].dist(q[1])},G.prototype._move=function(q,L){var H=this._vector;if(this._vector=q[0].sub(q[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:$s(this._vector,H),pinchAround:L}},G.prototype._isBelowThreshold=function(q){this._minDiameter=Math.min(this._minDiameter,q.mag());var L=25/(Math.PI*this._minDiameter)*360,H=$s(q,this._startVector);return Math.abs(H)<L},G}(si);function Lo(B){return Math.abs(B.y)>Math.abs(B.x)}var Xo=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.reset=function(){B.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},G.prototype._start=function(q){this._lastPoints=q,Lo(q[0].sub(q[1]))&&(this._valid=!1)},G.prototype._move=function(q,L,H){var K=q[0].sub(this._lastPoints[0]),ne=q[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(K,ne,H.timeStamp),this._valid)return this._lastPoints=q,this._active=!0,{pitchDelta:(K.y+ne.y)/2*-.5}},G.prototype.gestureBeginsVertically=function(q,L,H){if(void 0!==this._valid)return this._valid;var K=q.mag()>=2,ne=L.mag()>=2;if(K||ne){if(!K||!ne)return void 0===this._firstMove&&(this._firstMove=H),H-this._firstMove<100&&void 0;var ce=q.y>0==L.y>0;return Lo(q)&&Lo(L)&&ce}},G}(si),as={panStep:100,bearingStep:15,pitchStep:10},dr=function(){var B=as;this._panStep=B.panStep,this._bearingStep=B.bearingStep,this._pitchStep=B.pitchStep,this._rotationDisabled=!1};function ks(B){return B*(2-B)}dr.prototype.reset=function(){this._active=!1},dr.prototype.keydown=function(B){var G=this;if(!(B.altKey||B.ctrlKey||B.metaKey)){var q=0,L=0,H=0,K=0,ne=0;switch(B.keyCode){case 61:case 107:case 171:case 187:q=1;break;case 189:case 109:case 173:q=-1;break;case 37:B.shiftKey?L=-1:(B.preventDefault(),K=-1);break;case 39:B.shiftKey?L=1:(B.preventDefault(),K=1);break;case 38:B.shiftKey?H=1:(B.preventDefault(),ne=-1);break;case 40:B.shiftKey?H=-1:(B.preventDefault(),ne=1);break;default:return}return this._rotationDisabled&&(L=0,H=0),{cameraAnimation:function(ce){var me=ce.getZoom();ce.easeTo({duration:300,easeId:"keyboardHandler",easing:ks,zoom:q?Math.round(me)+q*(B.shiftKey?2:1):me,bearing:ce.getBearing()+L*G._bearingStep,pitch:ce.getPitch()+H*G._pitchStep,offset:[-K*G._panStep,-ne*G._panStep],center:ce.getCenter()},{originalEvent:B})}}}},dr.prototype.enable=function(){this._enabled=!0},dr.prototype.disable=function(){this._enabled=!1,this.reset()},dr.prototype.isEnabled=function(){return this._enabled},dr.prototype.isActive=function(){return this._active},dr.prototype.disableRotation=function(){this._rotationDisabled=!0},dr.prototype.enableRotation=function(){this._rotationDisabled=!1};var uo=4.000244140625,Fi=function(B,G){this._map=B,this._el=B.getCanvasContainer(),this._handler=G,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout"],this)};Fi.prototype.setZoomRate=function(B){this._defaultZoomRate=B},Fi.prototype.setWheelZoomRate=function(B){this._wheelZoomRate=B},Fi.prototype.isEnabled=function(){return!!this._enabled},Fi.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Fi.prototype.isZooming=function(){return!!this._zooming},Fi.prototype.enable=function(B){this.isEnabled()||(this._enabled=!0,this._aroundCenter=B&&"center"===B.around)},Fi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Fi.prototype.wheel=function(B){if(this.isEnabled()){var G=B.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*B.deltaY:B.deltaY,q=a.browser.now(),L=q-(this._lastWheelEventTime||0);this._lastWheelEventTime=q,0!==G&&G%uo==0?this._type="wheel":0!==G&&Math.abs(G)<4?this._type="trackpad":L>400?(this._type=null,this._lastValue=G,this._timeout=setTimeout(this._onTimeout,40,B)):this._type||(this._type=Math.abs(L*G)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,G+=this._lastValue)),B.shiftKey&&G&&(G/=4),this._type&&(this._lastWheelEvent=B,this._delta-=G,this._active||this._start(B)),B.preventDefault()}},Fi.prototype._onTimeout=function(B){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(B)},Fi.prototype._start=function(B){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var G=b.mousePos(this._el,B);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(G)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Fi.prototype.renderFrame=function(){var B=this;if(this._frameId&&(this._frameId=null,this.isActive())){var G=this._map.transform;if(0!==this._delta){var q="wheel"===this._type&&Math.abs(this._delta)>uo?this._wheelZoomRate:this._defaultZoomRate,L=2/(1+Math.exp(-Math.abs(this._delta*q)));this._delta<0&&0!==L&&(L=1/L);var H="number"==typeof this._targetZoom?G.zoomScale(this._targetZoom):G.scale;this._targetZoom=Math.min(G.maxZoom,Math.max(G.minZoom,G.scaleZoom(H*L))),"wheel"===this._type&&(this._startZoom=G.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var K,ne="number"==typeof this._targetZoom?this._targetZoom:G.zoom,ce=this._startZoom,me=this._easing,Le=!1;if("wheel"===this._type&&ce&&me){var Pe=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),je=me(Pe);K=a.number(ce,ne,je),Pe<1?this._frameId||(this._frameId=!0):Le=!0}else K=ne,Le=!0;return this._active=!0,Le&&(this._active=!1,this._finishTimeout=setTimeout(function(){B._zooming=!1,B._handler._triggerRenderFrame(),delete B._targetZoom,delete B._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Le,zoomDelta:K-G.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Fi.prototype._smoothOutEasing=function(B){var G=a.ease;if(this._prevEase){var q=this._prevEase,L=(a.browser.now()-q.start)/q.duration,H=q.easing(L+.01)-q.easing(L),K=.27/Math.sqrt(H*H+1e-4)*.01,ne=Math.sqrt(.0729-K*K);G=a.bezier(K,ne,.25,1)}return this._prevEase={start:a.browser.now(),duration:B,easing:G},G},Fi.prototype.reset=function(){this._active=!1};var Co=function(B,G){this._clickZoom=B,this._tapZoom=G};Co.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Co.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Co.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Co.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Na=function(){this.reset()};Na.prototype.reset=function(){this._active=!1},Na.prototype.dblclick=function(B,G){return B.preventDefault(),{cameraAnimation:function(q){q.easeTo({duration:300,zoom:q.getZoom()+(B.shiftKey?-1:1),around:q.unproject(G)},{originalEvent:B})}}},Na.prototype.enable=function(){this._enabled=!0},Na.prototype.disable=function(){this._enabled=!1,this.reset()},Na.prototype.isEnabled=function(){return this._enabled},Na.prototype.isActive=function(){return this._active};var Ea=function(){this._tap=new Yo({numTouches:1,numTaps:1}),this.reset()};Ea.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ea.prototype.touchstart=function(B,G,q){this._swipePoint||(this._tapTime&&B.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?q.length>0&&(this._swipePoint=G[0],this._swipeTouch=q[0].identifier):this._tap.touchstart(B,G,q))},Ea.prototype.touchmove=function(B,G,q){if(this._tapTime){if(this._swipePoint){if(q[0].identifier!==this._swipeTouch)return;var L=G[0],H=L.y-this._swipePoint.y;return this._swipePoint=L,B.preventDefault(),this._active=!0,{zoomDelta:H/128}}}else this._tap.touchmove(B,G,q)},Ea.prototype.touchend=function(B,G,q){this._tapTime?this._swipePoint&&0===q.length&&this.reset():this._tap.touchend(B,G,q)&&(this._tapTime=B.timeStamp)},Ea.prototype.touchcancel=function(){this.reset()},Ea.prototype.enable=function(){this._enabled=!0},Ea.prototype.disable=function(){this._enabled=!1,this.reset()},Ea.prototype.isEnabled=function(){return this._enabled},Ea.prototype.isActive=function(){return this._active};var Qi=function(B,G,q){this._el=B,this._mousePan=G,this._touchPan=q};Qi.prototype.enable=function(B){this._inertiaOptions=B||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Qi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Qi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Qi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Ja=function(B,G,q){this._pitchWithRotate=B.pitchWithRotate,this._mouseRotate=G,this._mousePitch=q};Ja.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Ja.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Ja.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Ja.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var La=function(B,G,q,L){this._el=B,this._touchZoom=G,this._touchRotate=q,this._tapDragZoom=L,this._rotationDisabled=!1,this._enabled=!0};La.prototype.enable=function(B){this._touchZoom.enable(B),this._rotationDisabled||this._touchRotate.enable(B),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},La.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},La.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},La.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},La.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},La.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var co=function(B){return B.zoom||B.drag||B.pitch||B.rotate},As=function(B){function G(){B.apply(this,arguments)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G}(a.Event);function Oo(B){return B.panDelta&&B.panDelta.mag()||B.zoomDelta||B.bearingDelta||B.pitchDelta}var Hr=function(B,G){this._map=B,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ka(B),this._bearingSnap=G.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(G),a.bindAll(["handleEvent","handleWindowEvent"],this);var q=this._el;this._listeners=[[q,"touchstart",{passive:!0}],[q,"touchmove",{passive:!1}],[q,"touchend",void 0],[q,"touchcancel",void 0],[q,"mousedown",void 0],[q,"mousemove",void 0],[q,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[q,"mouseover",void 0],[q,"mouseout",void 0],[q,"dblclick",void 0],[q,"click",void 0],[q,"keydown",{capture:!1}],[q,"keyup",void 0],[q,"wheel",{passive:!1}],[q,"contextmenu",void 0],[a.window,"blur",void 0]];for(var L=0,H=this._listeners;L<H.length;L+=1){var K=H[L],ne=K[0],ce=K[1],me=K[2];b.addEventListener(ne,ce,ne===a.window.document?this.handleWindowEvent:this.handleEvent,me)}};Hr.prototype.destroy=function(){for(var B=0,G=this._listeners;B<G.length;B+=1){var q=G[B],L=q[0],H=q[1],K=q[2];b.removeEventListener(L,H,L===a.window.document?this.handleWindowEvent:this.handleEvent,K)}},Hr.prototype._addDefaultHandlers=function(B){var G=this._map,q=G.getCanvasContainer();this._add("mapEvent",new Ri(G,B));var L=G.boxZoom=new ai(G,B);this._add("boxZoom",L);var H=new Fa,K=new Na;G.doubleClickZoom=new Co(K,H),this._add("tapZoom",H),this._add("clickZoom",K);var ne=new Ea;this._add("tapDragZoom",ne);var ce=G.touchPitch=new Xo;this._add("touchPitch",ce);var me=new lo(B),Le=new Ma(B);G.dragRotate=new Ja(B,me,Le),this._add("mouseRotate",me,["mousePitch"]),this._add("mousePitch",Le,["mouseRotate"]);var Pe=new Wo(B),je=new Sa(B);G.dragPan=new Qi(q,Pe,je),this._add("mousePan",Pe),this._add("touchPan",je,["touchZoom","touchRotate"]);var He=new Eo,$e=new Ts;G.touchZoomRotate=new La(q,$e,He,ne),this._add("touchRotate",He,["touchPan","touchZoom"]),this._add("touchZoom",$e,["touchPan","touchRotate"]);var lt=G.scrollZoom=new Fi(G,this);this._add("scrollZoom",lt,["mousePan"]);var ft=G.keyboard=new dr;this._add("keyboard",ft),this._add("blockableMapEvent",new Ui(G));for(var xt=0,Mt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];xt<Mt.length;xt+=1){var Tt=Mt[xt];B.interactive&&B[Tt]&&G[Tt].enable(B[Tt])}},Hr.prototype._add=function(B,G,q){this._handlers.push({handlerName:B,handler:G,allowed:q}),this._handlersById[B]=G},Hr.prototype.stop=function(B){if(!this._updatingCamera){for(var G=0,q=this._handlers;G<q.length;G+=1)q[G].handler.reset();this._inertia.clear(),this._fireEvents({},{},B),this._changes=[]}},Hr.prototype.isActive=function(){for(var B=0,G=this._handlers;B<G.length;B+=1)if(G[B].handler.isActive())return!0;return!1},Hr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Hr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Hr.prototype.isMoving=function(){return Boolean(co(this._eventsInProgress))||this.isZooming()},Hr.prototype._blockedByActive=function(B,G,q){for(var L in B)if(L!==q&&(!G||G.indexOf(L)<0))return!0;return!1},Hr.prototype.handleWindowEvent=function(B){this.handleEvent(B,B.type+"Window")},Hr.prototype._getMapTouches=function(B){for(var G=[],q=0,L=B;q<L.length;q+=1){var H=L[q],K=H.target;this._el.contains(K)&&G.push(H)}return G},Hr.prototype.handleEvent=function(B,G){if("blur"!==B.type){this._updatingCamera=!0;for(var q="renderFrame"===B.type?void 0:B,L={needsRenderFrame:!1},H={},K={},ne=B.touches?this._getMapTouches(B.touches):void 0,ce=ne?b.touchPos(this._el,ne):b.mousePos(this._el,B),me=0,Le=this._handlers;me<Le.length;me+=1){var Pe=Le[me],je=Pe.handlerName,He=Pe.handler,$e=Pe.allowed;if(He.isEnabled()){var lt=void 0;this._blockedByActive(K,$e,je)?He.reset():He[G||B.type]&&(lt=He[G||B.type](B,ce,ne),this.mergeHandlerResult(L,H,lt,je,q),lt&&lt.needsRenderFrame&&this._triggerRenderFrame()),(lt||He.isActive())&&(K[je]=He)}}var ft={};for(var xt in this._previousActiveHandlers)K[xt]||(ft[xt]=q);this._previousActiveHandlers=K,(Object.keys(ft).length||Oo(L))&&(this._changes.push([L,H,ft]),this._triggerRenderFrame()),(Object.keys(K).length||Oo(L))&&this._map._stop(!0),this._updatingCamera=!1;var Mt=L.cameraAnimation;Mt&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Mt(this._map))}else this.stop(!0)},Hr.prototype.mergeHandlerResult=function(B,G,q,L,H){if(q){a.extend(B,q);var K={handlerName:L,originalEvent:q.originalEvent||H};void 0!==q.zoomDelta&&(G.zoom=K),void 0!==q.panDelta&&(G.drag=K),void 0!==q.pitchDelta&&(G.pitch=K),void 0!==q.bearingDelta&&(G.rotate=K)}},Hr.prototype._applyChanges=function(){for(var B={},G={},q={},L=0,H=this._changes;L<H.length;L+=1){var K=H[L],ne=K[0],ce=K[1],me=K[2];ne.panDelta&&(B.panDelta=(B.panDelta||new a.Point(0,0))._add(ne.panDelta)),ne.zoomDelta&&(B.zoomDelta=(B.zoomDelta||0)+ne.zoomDelta),ne.bearingDelta&&(B.bearingDelta=(B.bearingDelta||0)+ne.bearingDelta),ne.pitchDelta&&(B.pitchDelta=(B.pitchDelta||0)+ne.pitchDelta),void 0!==ne.around&&(B.around=ne.around),void 0!==ne.pinchAround&&(B.pinchAround=ne.pinchAround),ne.noInertia&&(B.noInertia=ne.noInertia),a.extend(G,ce),a.extend(q,me)}this._updateMapTransform(B,G,q),this._changes=[]},Hr.prototype._updateMapTransform=function(B,G,q){var L=this._map,H=L.transform;if(!Oo(B))return this._fireEvents(G,q,!0);var K=B.panDelta,ne=B.zoomDelta,ce=B.bearingDelta,me=B.pitchDelta,Le=B.around,Pe=B.pinchAround;void 0!==Pe&&(Le=Pe),L._stop(!0),Le=Le||L.transform.centerPoint;var je=H.pointLocation(K?Le.sub(K):Le);ce&&(H.bearing+=ce),me&&(H.pitch+=me),ne&&(H.zoom+=ne),H.setLocationAtPoint(je,Le),this._map._update(),B.noInertia||this._inertia.record(B),this._fireEvents(G,q,!0)},Hr.prototype._fireEvents=function(B,G,q){var L=this,H=co(this._eventsInProgress),K=co(B),ne={};for(var ce in B){var me=B[ce].originalEvent;this._eventsInProgress[ce]||(ne[ce+"start"]=me),this._eventsInProgress[ce]=B[ce]}for(var Le in!H&&K&&this._fireEvent("movestart",K.originalEvent),ne)this._fireEvent(Le,ne[Le]);for(var Pe in K&&this._fireEvent("move",K.originalEvent),B){var je=B[Pe].originalEvent;this._fireEvent(Pe,je)}var He,$e={};for(var lt in this._eventsInProgress){var ft=this._eventsInProgress[lt],xt=ft.handlerName,Mt=ft.originalEvent;this._handlersById[xt].isActive()||(delete this._eventsInProgress[lt],He=G[xt]||Mt,$e[lt+"end"]=He)}for(var Tt in $e)this._fireEvent(Tt,$e[Tt]);var Dt=co(this._eventsInProgress);if(q&&(H||K)&&!Dt){this._updatingCamera=!0;var Et=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Gt=function(Ut){return 0!==Ut&&-L._bearingSnap<Ut&&Ut<L._bearingSnap};Et?(Gt(Et.bearing||this._map.getBearing())&&(Et.bearing=0),this._map.easeTo(Et,{originalEvent:He})):(this._map.fire(new a.Event("moveend",{originalEvent:He})),Gt(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Hr.prototype._fireEvent=function(B,G){this._map.fire(new a.Event(B,G?{originalEvent:G}:{}))},Hr.prototype._requestFrame=function(){var B=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(G){delete B._frameId,B.handleEvent(new As("renderFrame",{timeStamp:G})),B._applyChanges()})},Hr.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var Hi=function(B){function G(q,L){B.call(this),this._moving=!1,this._zooming=!1,this.transform=q,this._bearingSnap=L.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},G.prototype.setCenter=function(q,L){return this.jumpTo({center:q},L)},G.prototype.panBy=function(q,L,H){return q=a.Point.convert(q).mult(-1),this.panTo(this.transform.center,a.extend({offset:q},L),H)},G.prototype.panTo=function(q,L,H){return this.easeTo(a.extend({center:q},L),H)},G.prototype.getZoom=function(){return this.transform.zoom},G.prototype.setZoom=function(q,L){return this.jumpTo({zoom:q},L),this},G.prototype.zoomTo=function(q,L,H){return this.easeTo(a.extend({zoom:q},L),H)},G.prototype.zoomIn=function(q,L){return this.zoomTo(this.getZoom()+1,q,L),this},G.prototype.zoomOut=function(q,L){return this.zoomTo(this.getZoom()-1,q,L),this},G.prototype.getBearing=function(){return this.transform.bearing},G.prototype.setBearing=function(q,L){return this.jumpTo({bearing:q},L),this},G.prototype.getPadding=function(){return this.transform.padding},G.prototype.setPadding=function(q,L){return this.jumpTo({padding:q},L),this},G.prototype.rotateTo=function(q,L,H){return this.easeTo(a.extend({bearing:q},L),H)},G.prototype.resetNorth=function(q,L){return this.rotateTo(0,a.extend({duration:1e3},q),L),this},G.prototype.resetNorthPitch=function(q,L){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},q),L),this},G.prototype.snapToNorth=function(q,L){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(q,L):this},G.prototype.getPitch=function(){return this.transform.pitch},G.prototype.setPitch=function(q,L){return this.jumpTo({pitch:q},L),this},G.prototype.cameraForBounds=function(q,L){q=a.LngLatBounds.convert(q);var H=L&&L.bearing||0;return this._cameraForBoxAndBearing(q.getNorthWest(),q.getSouthEast(),H,L)},G.prototype._cameraForBoxAndBearing=function(q,L,H,K){var ne={top:0,bottom:0,right:0,left:0};if("number"==typeof(K=a.extend({padding:ne,offset:[0,0],maxZoom:this.transform.maxZoom},K)).padding){var ce=K.padding;K.padding={top:ce,bottom:ce,right:ce,left:ce}}K.padding=a.extend(ne,K.padding);var me=this.transform,Le=me.padding,Pe=me.project(a.LngLat.convert(q)),je=me.project(a.LngLat.convert(L)),He=Pe.rotate(-H*Math.PI/180),$e=je.rotate(-H*Math.PI/180),lt=new a.Point(Math.max(He.x,$e.x),Math.max(He.y,$e.y)),ft=new a.Point(Math.min(He.x,$e.x),Math.min(He.y,$e.y)),xt=lt.sub(ft),Mt=(me.width-(Le.left+Le.right+K.padding.left+K.padding.right))/xt.x,Tt=(me.height-(Le.top+Le.bottom+K.padding.top+K.padding.bottom))/xt.y;if(!(Tt<0||Mt<0)){var Dt=Math.min(me.scaleZoom(me.scale*Math.min(Mt,Tt)),K.maxZoom),Et="number"==typeof K.offset.x?new a.Point(K.offset.x,K.offset.y):a.Point.convert(K.offset),Gt=(K.padding.left-K.padding.right)/2,Ut=(K.padding.top-K.padding.bottom)/2,Bt=new a.Point(Gt,Ut).rotate(H*Math.PI/180),hn=Et.add(Bt).mult(me.scale/me.zoomScale(Dt));return{center:me.unproject(Pe.add(je).div(2).sub(hn)),zoom:Dt,bearing:H}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},G.prototype.fitBounds=function(q,L,H){return this._fitInternal(this.cameraForBounds(q,L),L,H)},G.prototype.fitScreenCoordinates=function(q,L,H,K,ne){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(q)),this.transform.pointLocation(a.Point.convert(L)),H,K),K,ne)},G.prototype._fitInternal=function(q,L,H){return q?(delete(L=a.extend(q,L)).padding,L.linear?this.easeTo(L,H):this.flyTo(L,H)):this},G.prototype.jumpTo=function(q,L){this.stop();var H=this.transform,K=!1,ne=!1,ce=!1;return"zoom"in q&&H.zoom!==+q.zoom&&(K=!0,H.zoom=+q.zoom),void 0!==q.center&&(H.center=a.LngLat.convert(q.center)),"bearing"in q&&H.bearing!==+q.bearing&&(ne=!0,H.bearing=+q.bearing),"pitch"in q&&H.pitch!==+q.pitch&&(ce=!0,H.pitch=+q.pitch),null==q.padding||H.isPaddingEqual(q.padding)||(H.padding=q.padding),this.fire(new a.Event("movestart",L)).fire(new a.Event("move",L)),K&&this.fire(new a.Event("zoomstart",L)).fire(new a.Event("zoom",L)).fire(new a.Event("zoomend",L)),ne&&this.fire(new a.Event("rotatestart",L)).fire(new a.Event("rotate",L)).fire(new a.Event("rotateend",L)),ce&&this.fire(new a.Event("pitchstart",L)).fire(new a.Event("pitch",L)).fire(new a.Event("pitchend",L)),this.fire(new a.Event("moveend",L))},G.prototype.easeTo=function(q,L){var H=this;this._stop(!1,q.easeId),(!1===(q=a.extend({offset:[0,0],duration:500,easing:a.ease},q)).animate||!q.essential&&a.browser.prefersReducedMotion)&&(q.duration=0);var K=this.transform,ne=this.getZoom(),ce=this.getBearing(),me=this.getPitch(),Le=this.getPadding(),Pe="zoom"in q?+q.zoom:ne,je="bearing"in q?this._normalizeBearing(q.bearing,ce):ce,He="pitch"in q?+q.pitch:me,$e="padding"in q?q.padding:K.padding,lt=a.Point.convert(q.offset),ft=K.centerPoint.add(lt),xt=K.pointLocation(ft),Mt=a.LngLat.convert(q.center||xt);this._normalizeCenter(Mt);var Tt,Dt,Et=K.project(xt),Gt=K.project(Mt).sub(Et),Ut=K.zoomScale(Pe-ne);q.around&&(Tt=a.LngLat.convert(q.around),Dt=K.locationPoint(Tt));var Bt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Pe!==ne,this._rotating=this._rotating||ce!==je,this._pitching=this._pitching||He!==me,this._padding=!K.isPaddingEqual($e),this._easeId=q.easeId,this._prepareEase(L,q.noMoveStart,Bt),this._ease(function(hn){if(H._zooming&&(K.zoom=a.number(ne,Pe,hn)),H._rotating&&(K.bearing=a.number(ce,je,hn)),H._pitching&&(K.pitch=a.number(me,He,hn)),H._padding&&(K.interpolatePadding(Le,$e,hn),ft=K.centerPoint.add(lt)),Tt)K.setLocationAtPoint(Tt,Dt);else{var pn=K.zoomScale(K.zoom-ne),En=Pe>ne?Math.min(2,Ut):Math.max(.5,Ut),Cn=Math.pow(En,1-hn),Nn=K.unproject(Et.add(Gt.mult(hn*Cn)).mult(pn));K.setLocationAtPoint(K.renderWorldCopies?Nn.wrap():Nn,ft)}H._fireMoveEvents(L)},function(hn){H._afterEase(L,hn)},q),this},G.prototype._prepareEase=function(q,L,H){void 0===H&&(H={}),this._moving=!0,L||H.moving||this.fire(new a.Event("movestart",q)),this._zooming&&!H.zooming&&this.fire(new a.Event("zoomstart",q)),this._rotating&&!H.rotating&&this.fire(new a.Event("rotatestart",q)),this._pitching&&!H.pitching&&this.fire(new a.Event("pitchstart",q))},G.prototype._fireMoveEvents=function(q){this.fire(new a.Event("move",q)),this._zooming&&this.fire(new a.Event("zoom",q)),this._rotating&&this.fire(new a.Event("rotate",q)),this._pitching&&this.fire(new a.Event("pitch",q))},G.prototype._afterEase=function(q,L){if(!this._easeId||!L||this._easeId!==L){delete this._easeId;var H=this._zooming,K=this._rotating,ne=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,H&&this.fire(new a.Event("zoomend",q)),K&&this.fire(new a.Event("rotateend",q)),ne&&this.fire(new a.Event("pitchend",q)),this.fire(new a.Event("moveend",q))}},G.prototype.flyTo=function(q,L){var H=this;if(!q.essential&&a.browser.prefersReducedMotion){var K=a.pick(q,["center","zoom","bearing","pitch","around"]);return this.jumpTo(K,L)}this.stop(),q=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},q);var ne=this.transform,ce=this.getZoom(),me=this.getBearing(),Le=this.getPitch(),Pe=this.getPadding(),je="zoom"in q?a.clamp(+q.zoom,ne.minZoom,ne.maxZoom):ce,He="bearing"in q?this._normalizeBearing(q.bearing,me):me,$e="pitch"in q?+q.pitch:Le,lt="padding"in q?q.padding:ne.padding,ft=ne.zoomScale(je-ce),xt=a.Point.convert(q.offset),Mt=ne.centerPoint.add(xt),Tt=ne.pointLocation(Mt),Dt=a.LngLat.convert(q.center||Tt);this._normalizeCenter(Dt);var Et=ne.project(Tt),Gt=ne.project(Dt).sub(Et),Ut=q.curve,Bt=Math.max(ne.width,ne.height),hn=Bt/ft,pn=Gt.mag();if("minZoom"in q){var En=a.clamp(Math.min(q.minZoom,ce,je),ne.minZoom,ne.maxZoom),Cn=Bt/ne.zoomScale(En-ce);Ut=Math.sqrt(Cn/pn*2)}var Nn=Ut*Ut;function Wn(lr){var _r=(hn*hn-Bt*Bt+(lr?-1:1)*Nn*Nn*pn*pn)/(2*(lr?hn:Bt)*Nn*pn);return Math.log(Math.sqrt(_r*_r+1)-_r)}function sr(lr){return(Math.exp(lr)-Math.exp(-lr))/2}function Hn(lr){return(Math.exp(lr)+Math.exp(-lr))/2}var rr=Wn(0),gr=function(lr){return Hn(rr)/Hn(rr+Ut*lr)},kr=function(lr){return Bt*((Hn(rr)*(sr(_r=rr+Ut*lr)/Hn(_r))-sr(rr))/Nn)/pn;var _r},Yn=(Wn(1)-rr)/Ut;if(Math.abs(pn)<1e-6||!isFinite(Yn)){if(Math.abs(Bt-hn)<1e-6)return this.easeTo(q,L);var nr=hn<Bt?-1:1;Yn=Math.abs(Math.log(hn/Bt))/Ut,kr=function(){return 0},gr=function(lr){return Math.exp(nr*Ut*lr)}}if("duration"in q)q.duration=+q.duration;else{var yr="screenSpeed"in q?+q.screenSpeed/Ut:+q.speed;q.duration=1e3*Yn/yr}return q.maxDuration&&q.duration>q.maxDuration&&(q.duration=0),this._zooming=!0,this._rotating=me!==He,this._pitching=$e!==Le,this._padding=!ne.isPaddingEqual(lt),this._prepareEase(L,!1),this._ease(function(lr){var _r=lr*Yn,Er=1/gr(_r);ne.zoom=1===lr?je:ce+ne.scaleZoom(Er),H._rotating&&(ne.bearing=a.number(me,He,lr)),H._pitching&&(ne.pitch=a.number(Le,$e,lr)),H._padding&&(ne.interpolatePadding(Pe,lt,lr),Mt=ne.centerPoint.add(xt));var Dr=1===lr?Dt:ne.unproject(Et.add(Gt.mult(kr(_r))).mult(Er));ne.setLocationAtPoint(ne.renderWorldCopies?Dr.wrap():Dr,Mt),H._fireMoveEvents(L)},function(){return H._afterEase(L)},q),this},G.prototype.isEasing=function(){return!!this._easeFrameId},G.prototype.stop=function(){return this._stop()},G.prototype._stop=function(q,L){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var H=this._onEaseEnd;delete this._onEaseEnd,H.call(this,L)}if(!q){var K=this.handlers;K&&K.stop(!1)}return this},G.prototype._ease=function(q,L,H){!1===H.animate||0===H.duration?(q(1),L()):(this._easeStart=a.browser.now(),this._easeOptions=H,this._onEaseFrame=q,this._onEaseEnd=L,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},G.prototype._renderFrameCallback=function(){var q=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(q)),q<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},G.prototype._normalizeBearing=function(q,L){q=a.wrap(q,-180,180);var H=Math.abs(q-L);return Math.abs(q-360-L)<H&&(q-=360),Math.abs(q+360-L)<H&&(q+=360),q},G.prototype._normalizeCenter=function(q){var L=this.transform;if(L.renderWorldCopies&&!L.lngRange){var H=q.lng-L.center.lng;q.lng+=H>180?-360:H<-180?360:0}},G}(a.Evented),oa=function(B){void 0===B&&(B={}),this.options=B,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};oa.prototype.getDefaultPosition=function(){return"bottom-right"},oa.prototype.onAdd=function(B){var G=this.options&&this.options.compact;return this._map=B,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=b.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=b.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),G&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===G&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},oa.prototype.onRemove=function(){b.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},oa.prototype._setElementTitle=function(B,G){var q=this._map._getUIString("AttributionControl."+G);B.title=q,B.setAttribute("aria-label",q)},oa.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},oa.prototype._updateEditLink=function(){var B=this._editLink;B||(B=this._editLink=this._container.querySelector(".mapbox-improve-map"));var G=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(B){var q=G.reduce(function(L,H,K){return H.value&&(L+=H.key+"="+H.value+(K<G.length-1?"&":"")),L},"?");B.href=a.config.FEEDBACK_URL+"/"+q+(this._map._hash?this._map._hash.getHashString(!0):""),B.rel="noopener nofollow",this._setElementTitle(B,"MapFeedback")}},oa.prototype._updateData=function(B){!B||"metadata"!==B.sourceDataType&&"visibility"!==B.sourceDataType&&"style"!==B.dataType||(this._updateAttributions(),this._updateEditLink())},oa.prototype._updateAttributions=function(){if(this._map.style){var B=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?B=B.concat(this.options.customAttribution.map(function(ce){return"string"!=typeof ce?"":ce})):"string"==typeof this.options.customAttribution&&B.push(this.options.customAttribution)),this._map.style.stylesheet){var G=this._map.style.stylesheet;this.styleOwner=G.owner,this.styleId=G.id}var q=this._map.style.sourceCaches;for(var L in q){var H=q[L];if(H.used){var K=H.getSource();K.attribution&&B.indexOf(K.attribution)<0&&B.push(K.attribution)}}B.sort(function(ce,me){return ce.length-me.length});var ne=(B=B.filter(function(ce,me){for(var Le=me+1;Le<B.length;Le++)if(B[Le].indexOf(ce)>=0)return!1;return!0})).join(" | ");ne!==this._attribHTML&&(this._attribHTML=ne,B.length?(this._innerContainer.innerHTML=ne,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},oa.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Ka=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Ka.prototype.onAdd=function(B){this._map=B,this._container=b.create("div","mapboxgl-ctrl");var G=b.create("a","mapboxgl-ctrl-logo");return G.target="_blank",G.rel="noopener nofollow",G.href="https://www.mapbox.com/",G.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),G.setAttribute("rel","noopener nofollow"),this._container.appendChild(G),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ka.prototype.onRemove=function(){b.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ka.prototype.getDefaultPosition=function(){return"bottom-left"},Ka.prototype._updateLogo=function(B){B&&"metadata"!==B.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Ka.prototype._logoRequired=function(){if(this._map.style){var B=this._map.style.sourceCaches;for(var G in B)if(B[G].getSource().mapbox_logo)return!0;return!1}},Ka.prototype._updateCompact=function(){var B=this._container.children;if(B.length){var G=B[0];this._map.getCanvasContainer().offsetWidth<250?G.classList.add("mapboxgl-compact"):G.classList.remove("mapboxgl-compact")}};var sa=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};sa.prototype.add=function(B){var G=++this._id;return this._queue.push({callback:B,id:G,cancelled:!1}),G},sa.prototype.remove=function(B){for(var G=this._currentlyRunning,q=0,L=G?this._queue.concat(G):this._queue;q<L.length;q+=1){var H=L[q];if(H.id===B)return void(H.cancelled=!0)}},sa.prototype.run=function(B){void 0===B&&(B=0);var G=this._currentlyRunning=this._queue;this._queue=[];for(var q=0,L=G;q<L.length;q+=1){var H=L[q];if(!H.cancelled&&(H.callback(B),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},sa.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var os={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},ss=a.window.HTMLImageElement,la=a.window.HTMLElement,Ur=a.window.ImageBitmap,$a=60,Jo={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:$a,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},ja=function(B){function G(L){var H=this;if(null!=(L=a.extend({},Jo,L)).minZoom&&null!=L.maxZoom&&L.minZoom>L.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=L.minPitch&&null!=L.maxPitch&&L.minPitch>L.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=L.minPitch&&L.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=L.maxPitch&&L.maxPitch>$a)throw new Error("maxPitch must be less than or equal to 60");var K=new Zr(L.minZoom,L.maxZoom,L.minPitch,L.maxPitch,L.renderWorldCopies);if(B.call(this,K,L),this._interactive=L.interactive,this._maxTileCacheSize=L.maxTileCacheSize,this._failIfMajorPerformanceCaveat=L.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=L.preserveDrawingBuffer,this._antialias=L.antialias,this._trackResize=L.trackResize,this._bearingSnap=L.bearingSnap,this._refreshExpiredTiles=L.refreshExpiredTiles,this._fadeDuration=L.fadeDuration,this._crossSourceCollisions=L.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=L.collectResourceTiming,this._renderTaskQueue=new sa,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},os,L.locale),this._clickTolerance=L.clickTolerance,this._requestManager=new a.RequestManager(L.transformRequest,L.accessToken),"string"==typeof L.container){if(this._container=a.window.document.getElementById(L.container),!this._container)throw new Error("Container '"+L.container+"' not found.")}else{if(!(L.container instanceof la))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=L.container}if(L.maxBounds&&this.setMaxBounds(L.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return H._update(!1)}),this.on("moveend",function(){return H._update(!1)}),this.on("zoom",function(){return H._update(!0)}),void 0!==a.window&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Hr(this,L);var ne="string"==typeof L.hash&&L.hash||void 0;this._hash=L.hash&&new xa(ne).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:L.center,zoom:L.zoom,bearing:L.bearing,pitch:L.pitch}),L.bounds&&(this.resize(),this.fitBounds(L.bounds,a.extend({},L.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=L.localIdeographFontFamily,L.style&&this.setStyle(L.style,{localIdeographFontFamily:L.localIdeographFontFamily}),L.attributionControl&&this.addControl(new oa({customAttribution:L.customAttribution})),this.addControl(new Ka,L.logoPosition),this.on("style.load",function(){H.transform.unmodified&&H.jumpTo(H.style.stylesheet)}),this.on("data",function(ce){H._update("style"===ce.dataType),H.fire(new a.Event(ce.dataType+"data",ce))}),this.on("dataloading",function(ce){H.fire(new a.Event(ce.dataType+"dataloading",ce))})}B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G;var q={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return G.prototype._getMapId=function(){return this._mapId},G.prototype.addControl=function(L,H){if(void 0===H&&(H=L.getDefaultPosition?L.getDefaultPosition():"top-right"),!L||!L.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var K=L.onAdd(this);this._controls.push(L);var ne=this._controlPositions[H];return-1!==H.indexOf("bottom")?ne.insertBefore(K,ne.firstChild):ne.appendChild(K),this},G.prototype.removeControl=function(L){if(!L||!L.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var H=this._controls.indexOf(L);return H>-1&&this._controls.splice(H,1),L.onRemove(this),this},G.prototype.hasControl=function(L){return this._controls.indexOf(L)>-1},G.prototype.resize=function(L){var H=this._containerDimensions(),K=H[0],ne=H[1];this._resizeCanvas(K,ne),this.transform.resize(K,ne),this.painter.resize(K,ne);var ce=!this._moving;return ce&&(this.stop(),this.fire(new a.Event("movestart",L)).fire(new a.Event("move",L))),this.fire(new a.Event("resize",L)),ce&&this.fire(new a.Event("moveend",L)),this},G.prototype.getBounds=function(){return this.transform.getBounds()},G.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},G.prototype.setMaxBounds=function(L){return this.transform.setMaxBounds(a.LngLatBounds.convert(L)),this._update()},G.prototype.setMinZoom=function(L){if((L=L??-2)>=-2&&L<=this.transform.maxZoom)return this.transform.minZoom=L,this._update(),this.getZoom()<L&&this.setZoom(L),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},G.prototype.getMinZoom=function(){return this.transform.minZoom},G.prototype.setMaxZoom=function(L){if((L=L??22)>=this.transform.minZoom)return this.transform.maxZoom=L,this._update(),this.getZoom()>L&&this.setZoom(L),this;throw new Error("maxZoom must be greater than the current minZoom")},G.prototype.getMaxZoom=function(){return this.transform.maxZoom},G.prototype.setMinPitch=function(L){if((L=L??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(L>=0&&L<=this.transform.maxPitch)return this.transform.minPitch=L,this._update(),this.getPitch()<L&&this.setPitch(L),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},G.prototype.getMinPitch=function(){return this.transform.minPitch},G.prototype.setMaxPitch=function(L){if((L=L??$a)>$a)throw new Error("maxPitch must be less than or equal to 60");if(L>=this.transform.minPitch)return this.transform.maxPitch=L,this._update(),this.getPitch()>L&&this.setPitch(L),this;throw new Error("maxPitch must be greater than the current minPitch")},G.prototype.getMaxPitch=function(){return this.transform.maxPitch},G.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},G.prototype.setRenderWorldCopies=function(L){return this.transform.renderWorldCopies=L,this._update()},G.prototype.project=function(L){return this.transform.locationPoint(a.LngLat.convert(L))},G.prototype.unproject=function(L){return this.transform.pointLocation(a.Point.convert(L))},G.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},G.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},G.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},G.prototype._createDelegatedListener=function(L,H,K){var ne,ce=this;if("mouseenter"===L||"mouseover"===L){var me=!1;return{layer:H,listener:K,delegates:{mousemove:function(Pe){var je=ce.getLayer(H)?ce.queryRenderedFeatures(Pe.point,{layers:[H]}):[];je.length?me||(me=!0,K.call(ce,new $i(L,ce,Pe.originalEvent,{features:je}))):me=!1},mouseout:function(){me=!1}}}}if("mouseleave"===L||"mouseout"===L){var Le=!1;return{layer:H,listener:K,delegates:{mousemove:function(Pe){(ce.getLayer(H)?ce.queryRenderedFeatures(Pe.point,{layers:[H]}):[]).length?Le=!0:Le&&(Le=!1,K.call(ce,new $i(L,ce,Pe.originalEvent)))},mouseout:function(Pe){Le&&(Le=!1,K.call(ce,new $i(L,ce,Pe.originalEvent)))}}}}return{layer:H,listener:K,delegates:(ne={},ne[L]=function(Pe){var je=ce.getLayer(H)?ce.queryRenderedFeatures(Pe.point,{layers:[H]}):[];je.length&&(Pe.features=je,K.call(ce,Pe),delete Pe.features)},ne)}},G.prototype.on=function(L,H,K){if(void 0===K)return B.prototype.on.call(this,L,H);var ne=this._createDelegatedListener(L,H,K);for(var ce in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[L]=this._delegatedListeners[L]||[],this._delegatedListeners[L].push(ne),ne.delegates)this.on(ce,ne.delegates[ce]);return this},G.prototype.once=function(L,H,K){if(void 0===K)return B.prototype.once.call(this,L,H);var ne=this._createDelegatedListener(L,H,K);for(var ce in ne.delegates)this.once(ce,ne.delegates[ce]);return this},G.prototype.off=function(L,H,K){var ne=this;return void 0===K?B.prototype.off.call(this,L,H):(this._delegatedListeners&&this._delegatedListeners[L]&&function(ce){for(var me=ce[L],Le=0;Le<me.length;Le++){var Pe=me[Le];if(Pe.layer===H&&Pe.listener===K){for(var je in Pe.delegates)ne.off(je,Pe.delegates[je]);return me.splice(Le,1),ne}}}(this._delegatedListeners),this)},G.prototype.queryRenderedFeatures=function(L,H){if(!this.style)return[];var K;if(void 0!==H||void 0===L||L instanceof a.Point||Array.isArray(L)||(H=L,L=void 0),H=H||{},(L=L||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||"number"==typeof L[0])K=[a.Point.convert(L)];else{var ne=a.Point.convert(L[0]),ce=a.Point.convert(L[1]);K=[ne,new a.Point(ce.x,ne.y),ce,new a.Point(ne.x,ce.y),ne]}return this.style.queryRenderedFeatures(K,H,this.transform)},G.prototype.querySourceFeatures=function(L,H){return this.style.querySourceFeatures(L,H)},G.prototype.setStyle=function(L,H){return!1!==(H=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},H)).diff&&H.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&L?(this._diffStyle(L,H),this):(this._localIdeographFontFamily=H.localIdeographFontFamily,this._updateStyle(L,H))},G.prototype._getUIString=function(L){var H=this._locale[L];if(null==H)throw new Error("Missing UI string '"+L+"'");return H},G.prototype._updateStyle=function(L,H){return this.style&&(this.style.setEventedParent(null),this.style._remove()),L?(this.style=new ar(this,H||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof L?this.style.loadURL(L):this.style.loadJSON(L),this):(delete this.style,this)},G.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new ar(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},G.prototype._diffStyle=function(L,H){var K=this;if("string"==typeof L){var ne=this._requestManager.normalizeStyleURL(L),ce=this._requestManager.transformRequest(ne,a.ResourceType.Style);a.getJSON(ce,function(me,Le){me?K.fire(new a.ErrorEvent(me)):Le&&K._updateDiff(Le,H)})}else"object"==typeof L&&this._updateDiff(L,H)},G.prototype._updateDiff=function(L,H){try{this.style.setState(L)&&this._update(!0)}catch(K){a.warnOnce("Unable to perform style diff: "+(K.message||K.error||K)+".  Rebuilding the style from scratch."),this._updateStyle(L,H)}},G.prototype.getStyle=function(){if(this.style)return this.style.serialize()},G.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},G.prototype.addSource=function(L,H){return this._lazyInitEmptyStyle(),this.style.addSource(L,H),this._update(!0)},G.prototype.isSourceLoaded=function(L){var H=this.style&&this.style.sourceCaches[L];if(void 0!==H)return H.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+L+"'")))},G.prototype.areTilesLoaded=function(){var L=this.style&&this.style.sourceCaches;for(var H in L){var K=L[H]._tiles;for(var ne in K){var ce=K[ne];if("loaded"!==ce.state&&"errored"!==ce.state)return!1}}return!0},G.prototype.addSourceType=function(L,H,K){return this._lazyInitEmptyStyle(),this.style.addSourceType(L,H,K)},G.prototype.removeSource=function(L){return this.style.removeSource(L),this._update(!0)},G.prototype.getSource=function(L){return this.style.getSource(L)},G.prototype.addImage=function(L,H,K){void 0===K&&(K={});var ne=K.pixelRatio;void 0===ne&&(ne=1);var ce=K.sdf;void 0===ce&&(ce=!1);var me=K.stretchX,Le=K.stretchY,Pe=K.content;if(this._lazyInitEmptyStyle(),H instanceof ss||Ur&&H instanceof Ur){var je=a.browser.getImageData(H),He=je.width,$e=je.height,lt=je.data;this.style.addImage(L,{data:new a.RGBAImage({width:He,height:$e},lt),pixelRatio:ne,stretchX:me,stretchY:Le,content:Pe,sdf:ce,version:0})}else{if(void 0===H.width||void 0===H.height)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ft=H.width,xt=H.height,Mt=H.data,Tt=H;this.style.addImage(L,{data:new a.RGBAImage({width:ft,height:xt},new Uint8Array(Mt)),pixelRatio:ne,stretchX:me,stretchY:Le,content:Pe,sdf:ce,version:0,userImage:Tt}),Tt.onAdd&&Tt.onAdd(this,L)}},G.prototype.updateImage=function(L,H){var K=this.style.getImage(L);if(!K)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ne=H instanceof ss||Ur&&H instanceof Ur?a.browser.getImageData(H):H,ce=ne.width,me=ne.height,Le=ne.data;if(void 0===ce||void 0===me)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(ce!==K.data.width||me!==K.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var Pe=!(H instanceof ss||Ur&&H instanceof Ur);K.data.replace(Le,Pe),this.style.updateImage(L,K)},G.prototype.hasImage=function(L){return L?!!this.style.getImage(L):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},G.prototype.removeImage=function(L){this.style.removeImage(L)},G.prototype.loadImage=function(L,H){a.getImage(this._requestManager.transformRequest(L,a.ResourceType.Image),H)},G.prototype.listImages=function(){return this.style.listImages()},G.prototype.addLayer=function(L,H){return this._lazyInitEmptyStyle(),this.style.addLayer(L,H),this._update(!0)},G.prototype.moveLayer=function(L,H){return this.style.moveLayer(L,H),this._update(!0)},G.prototype.removeLayer=function(L){return this.style.removeLayer(L),this._update(!0)},G.prototype.getLayer=function(L){return this.style.getLayer(L)},G.prototype.setLayerZoomRange=function(L,H,K){return this.style.setLayerZoomRange(L,H,K),this._update(!0)},G.prototype.setFilter=function(L,H,K){return void 0===K&&(K={}),this.style.setFilter(L,H,K),this._update(!0)},G.prototype.getFilter=function(L){return this.style.getFilter(L)},G.prototype.setPaintProperty=function(L,H,K,ne){return void 0===ne&&(ne={}),this.style.setPaintProperty(L,H,K,ne),this._update(!0)},G.prototype.getPaintProperty=function(L,H){return this.style.getPaintProperty(L,H)},G.prototype.setLayoutProperty=function(L,H,K,ne){return void 0===ne&&(ne={}),this.style.setLayoutProperty(L,H,K,ne),this._update(!0)},G.prototype.getLayoutProperty=function(L,H){return this.style.getLayoutProperty(L,H)},G.prototype.setLight=function(L,H){return void 0===H&&(H={}),this._lazyInitEmptyStyle(),this.style.setLight(L,H),this._update(!0)},G.prototype.getLight=function(){return this.style.getLight()},G.prototype.setFeatureState=function(L,H){return this.style.setFeatureState(L,H),this._update()},G.prototype.removeFeatureState=function(L,H){return this.style.removeFeatureState(L,H),this._update()},G.prototype.getFeatureState=function(L){return this.style.getFeatureState(L)},G.prototype.getContainer=function(){return this._container},G.prototype.getCanvasContainer=function(){return this._canvasContainer},G.prototype.getCanvas=function(){return this._canvas},G.prototype._containerDimensions=function(){var L=0,H=0;return this._container&&(L=this._container.clientWidth||400,H=this._container.clientHeight||300),[L,H]},G.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},G.prototype._setupContainer=function(){var L=this._container;L.classList.add("mapboxgl-map"),(this._missingCSSCanary=b.create("div","mapboxgl-canary",L)).style.visibility="hidden",this._detectMissingCSS();var H=this._canvasContainer=b.create("div","mapboxgl-canvas-container",L);this._interactive&&H.classList.add("mapboxgl-interactive"),this._canvas=b.create("canvas","mapboxgl-canvas",H),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var K=this._containerDimensions();this._resizeCanvas(K[0],K[1]);var ne=this._controlContainer=b.create("div","mapboxgl-control-container",L),ce=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(me){ce[me]=b.create("div","mapboxgl-ctrl-"+me,ne)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},G.prototype._resizeCanvas=function(L,H){var K=a.browser.devicePixelRatio||1;this._canvas.width=K*L,this._canvas.height=K*H,this._canvas.style.width=L+"px",this._canvas.style.height=H+"px"},G.prototype._setupPainter=function(){var L=a.extend({},T.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),H=this._canvas.getContext("webgl",L)||this._canvas.getContext("experimental-webgl",L);H?(this.painter=new $r(H,this.transform),a.webpSupported.testSupport(H)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},G.prototype._contextLost=function(L){L.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:L}))},G.prototype._contextRestored=function(L){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:L}))},G.prototype._onMapScroll=function(L){if(L.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},G.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},G.prototype._update=function(L){return this.style?(this._styleDirty=this._styleDirty||L,this._sourcesDirty=!0,this.triggerRepaint(),this):this},G.prototype._requestRenderFrame=function(L){return this._update(),this._renderTaskQueue.add(L)},G.prototype._cancelRenderFrame=function(L){this._renderTaskQueue.remove(L)},G.prototype._render=function(L){var H,K=this,ne=0,ce=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(H=ce.createQueryEXT(),ce.beginQueryEXT(ce.TIME_ELAPSED_EXT,H),ne=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(L),!this._removed){var me=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Le=this.transform.zoom,Pe=a.browser.now();this.style.zoomHistory.update(Le,Pe);var je=new a.EvaluationParameters(Le,{now:Pe,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),He=je.crossFadingFactor();1===He&&He===this._crossFadingFactor||(me=!0,this._crossFadingFactor=He),this.style.update(je)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||me)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var $e=a.browser.now()-ne;ce.endQueryEXT(ce.TIME_ELAPSED_EXT,H),setTimeout(function(){var xt=ce.getQueryObjectEXT(H,ce.QUERY_RESULT_EXT)/1e6;ce.deleteQueryEXT(H),K.fire(new a.Event("gpu-timing-frame",{cpuTime:$e,gpuTime:xt}))},50)}if(this.listens("gpu-timing-layer")){var lt=this.painter.collectGpuTimers();setTimeout(function(){var xt=K.painter.queryGpuTimers(lt);K.fire(new a.Event("gpu-timing-layer",{layerTimes:xt}))},50)}var ft=this._sourcesDirty||this._styleDirty||this._placementDirty;return ft||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||ft||(this._fullyLoaded=!0),this}},G.prototype.remove=function(){this._hash&&this._hash.remove();for(var L=0,H=this._controls;L<H.length;L+=1)H[L].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==a.window&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var K=this.painter.context.gl.getExtension("WEBGL_lose_context");K&&K.loseContext&&K.loseContext(),ls(this._canvasContainer),ls(this._controlContainer),ls(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},G.prototype.triggerRepaint=function(){var L=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(H){L._frame=null,L._render(H)}))},G.prototype._onWindowOnline=function(){this._update()},G.prototype._onWindowResize=function(L){this._trackResize&&this.resize({originalEvent:L})._update()},q.showTileBoundaries.get=function(){return!!this._showTileBoundaries},q.showTileBoundaries.set=function(L){this._showTileBoundaries!==L&&(this._showTileBoundaries=L,this._update())},q.showPadding.get=function(){return!!this._showPadding},q.showPadding.set=function(L){this._showPadding!==L&&(this._showPadding=L,this._update())},q.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},q.showCollisionBoxes.set=function(L){this._showCollisionBoxes!==L&&(this._showCollisionBoxes=L,L?this.style._generateCollisionBoxes():this._update())},q.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},q.showOverdrawInspector.set=function(L){this._showOverdrawInspector!==L&&(this._showOverdrawInspector=L,this._update())},q.repaint.get=function(){return!!this._repaint},q.repaint.set=function(L){this._repaint!==L&&(this._repaint=L,this.triggerRepaint())},q.vertices.get=function(){return!!this._vertices},q.vertices.set=function(L){this._vertices=L,this._update()},G.prototype._setCacheLimits=function(L,H){a.setCacheLimits(L,H)},q.version.get=function(){return a.version},Object.defineProperties(G.prototype,q),G}(Hi);function ls(B){B.parentNode&&B.parentNode.removeChild(B)}var us={showCompass:!0,showZoom:!0,visualizePitch:!1},Ua=function(B){var G=this;this.options=a.extend({},us,B),this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(q){return q.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(q){return G._map.zoomIn({},{originalEvent:q})}),b.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(q){return G._map.zoomOut({},{originalEvent:q})}),b.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(q){G.options.visualizePitch?G._map.resetNorthPitch({},{originalEvent:q}):G._map.resetNorth({},{originalEvent:q})}),this._compassIcon=b.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ua.prototype._updateZoomButtons=function(){var B=this._map.getZoom(),G=B===this._map.getMaxZoom(),q=B===this._map.getMinZoom();this._zoomInButton.disabled=G,this._zoomOutButton.disabled=q,this._zoomInButton.setAttribute("aria-disabled",G.toString()),this._zoomOutButton.setAttribute("aria-disabled",q.toString())},Ua.prototype._rotateCompassArrow=function(){var B=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=B},Ua.prototype.onAdd=function(B){return this._map=B,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new li(this._map,this._compass,this.options.visualizePitch)),this._container},Ua.prototype.onRemove=function(){b.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ua.prototype._createButton=function(B,G){var q=b.create("button",B,this._container);return q.type="button",q.addEventListener("click",G),q},Ua.prototype._setButtonTitle=function(B,G){var q=this._map._getUIString("NavigationControl."+G);B.title=q,B.setAttribute("aria-label",q)};var li=function(B,G,q){void 0===q&&(q=!1),this._clickTolerance=10,this.element=G,this.mouseRotate=new lo({clickTolerance:B.dragRotate._mouseRotate._clickTolerance}),this.map=B,q&&(this.mousePitch=new Ma({clickTolerance:B.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),b.addEventListener(G,"mousedown",this.mousedown),b.addEventListener(G,"touchstart",this.touchstart,{passive:!1}),b.addEventListener(G,"touchmove",this.touchmove),b.addEventListener(G,"touchend",this.touchend),b.addEventListener(G,"touchcancel",this.reset)};function Ko(B,G,q){if(B=new a.LngLat(B.lng,B.lat),G){var L=new a.LngLat(B.lng-360,B.lat),H=new a.LngLat(B.lng+360,B.lat),K=q.locationPoint(B).distSqr(G);q.locationPoint(L).distSqr(G)<K?B=L:q.locationPoint(H).distSqr(G)<K&&(B=H)}for(;Math.abs(B.lng-q.center.lng)>180;){var ne=q.locationPoint(B);if(ne.x>=0&&ne.y>=0&&ne.x<=q.width&&ne.y<=q.height)break;B.lng>q.center.lng?B.lng-=360:B.lng+=360}return B}li.prototype.down=function(B,G){this.mouseRotate.mousedown(B,G),this.mousePitch&&this.mousePitch.mousedown(B,G),b.disableDrag()},li.prototype.move=function(B,G){var q=this.map,L=this.mouseRotate.mousemoveWindow(B,G);if(L&&L.bearingDelta&&q.setBearing(q.getBearing()+L.bearingDelta),this.mousePitch){var H=this.mousePitch.mousemoveWindow(B,G);H&&H.pitchDelta&&q.setPitch(q.getPitch()+H.pitchDelta)}},li.prototype.off=function(){var B=this.element;b.removeEventListener(B,"mousedown",this.mousedown),b.removeEventListener(B,"touchstart",this.touchstart,{passive:!1}),b.removeEventListener(B,"touchmove",this.touchmove),b.removeEventListener(B,"touchend",this.touchend),b.removeEventListener(B,"touchcancel",this.reset),this.offTemp()},li.prototype.offTemp=function(){b.enableDrag(),b.removeEventListener(a.window,"mousemove",this.mousemove),b.removeEventListener(a.window,"mouseup",this.mouseup)},li.prototype.mousedown=function(B){this.down(a.extend({},B,{ctrlKey:!0,preventDefault:function(){return B.preventDefault()}}),b.mousePos(this.element,B)),b.addEventListener(a.window,"mousemove",this.mousemove),b.addEventListener(a.window,"mouseup",this.mouseup)},li.prototype.mousemove=function(B){this.move(B,b.mousePos(this.element,B))},li.prototype.mouseup=function(B){this.mouseRotate.mouseupWindow(B),this.mousePitch&&this.mousePitch.mouseupWindow(B),this.offTemp()},li.prototype.touchstart=function(B){1!==B.targetTouches.length?this.reset():(this._startPos=this._lastPos=b.touchPos(this.element,B.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return B.preventDefault()}},this._startPos))},li.prototype.touchmove=function(B){1!==B.targetTouches.length?this.reset():(this._lastPos=b.touchPos(this.element,B.targetTouches)[0],this.move({preventDefault:function(){return B.preventDefault()}},this._lastPos))},li.prototype.touchend=function(B){0===B.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},li.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Tr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Cr(B,G,q){var L=B.classList;for(var H in Tr)L.remove("mapboxgl-"+q+"-anchor-"+H);L.add("mapboxgl-"+q+"-anchor-"+G)}var ba,Qa=function(B){function G(q,L){if(B.call(this),(q instanceof a.window.HTMLElement||L)&&(q=a.extend({element:q},L)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=q&&q.anchor||"center",this._color=q&&q.color||"#3FB1CE",this._scale=q&&q.scale||1,this._draggable=q&&q.draggable||!1,this._clickTolerance=q&&q.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=q&&q.rotation||0,this._rotationAlignment=q&&q.rotationAlignment||"auto",this._pitchAlignment=q&&q.pitchAlignment&&"auto"!==q.pitchAlignment?q.pitchAlignment:this._rotationAlignment,q&&q.element)this._element=q.element,this._offset=a.Point.convert(q&&q.offset||[0,0]);else{this._defaultMarker=!0,this._element=b.create("div"),this._element.setAttribute("aria-label","Map marker");var H=b.createNS("http://www.w3.org/2000/svg","svg");H.setAttributeNS(null,"display","block"),H.setAttributeNS(null,"height","41px"),H.setAttributeNS(null,"width","27px"),H.setAttributeNS(null,"viewBox","0 0 27 41");var K=b.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"stroke","none"),K.setAttributeNS(null,"stroke-width","1"),K.setAttributeNS(null,"fill","none"),K.setAttributeNS(null,"fill-rule","evenodd");var ne=b.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"fill-rule","nonzero");var ce=b.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ce.setAttributeNS(null,"fill","#000000");for(var me=0,Le=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];me<Le.length;me+=1){var Pe=Le[me],je=b.createNS("http://www.w3.org/2000/svg","ellipse");je.setAttributeNS(null,"opacity","0.04"),je.setAttributeNS(null,"cx","10.5"),je.setAttributeNS(null,"cy","5.80029008"),je.setAttributeNS(null,"rx",Pe.rx),je.setAttributeNS(null,"ry",Pe.ry),ce.appendChild(je)}var He=b.createNS("http://www.w3.org/2000/svg","g");He.setAttributeNS(null,"fill",this._color);var $e=b.createNS("http://www.w3.org/2000/svg","path");$e.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),He.appendChild($e);var lt=b.createNS("http://www.w3.org/2000/svg","g");lt.setAttributeNS(null,"opacity","0.25"),lt.setAttributeNS(null,"fill","#000000");var ft=b.createNS("http://www.w3.org/2000/svg","path");ft.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),lt.appendChild(ft);var xt=b.createNS("http://www.w3.org/2000/svg","g");xt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),xt.setAttributeNS(null,"fill","#FFFFFF");var Mt=b.createNS("http://www.w3.org/2000/svg","g");Mt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Tt=b.createNS("http://www.w3.org/2000/svg","circle");Tt.setAttributeNS(null,"fill","#000000"),Tt.setAttributeNS(null,"opacity","0.25"),Tt.setAttributeNS(null,"cx","5.5"),Tt.setAttributeNS(null,"cy","5.5"),Tt.setAttributeNS(null,"r","5.4999962");var Dt=b.createNS("http://www.w3.org/2000/svg","circle");Dt.setAttributeNS(null,"fill","#FFFFFF"),Dt.setAttributeNS(null,"cx","5.5"),Dt.setAttributeNS(null,"cy","5.5"),Dt.setAttributeNS(null,"r","5.4999962"),Mt.appendChild(Tt),Mt.appendChild(Dt),ne.appendChild(ce),ne.appendChild(He),ne.appendChild(lt),ne.appendChild(xt),ne.appendChild(Mt),H.appendChild(ne),H.setAttributeNS(null,"height",41*this._scale+"px"),H.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(H),this._offset=a.Point.convert(q&&q.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Et){Et.preventDefault()}),this._element.addEventListener("mousedown",function(Et){Et.preventDefault()}),Cr(this._element,this._anchor,"marker"),this._popup=null}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.addTo=function(q){return this.remove(),this._map=q,q.getCanvasContainer().appendChild(this._element),q.on("move",this._update),q.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},G.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),b.remove(this._element),this._popup&&this._popup.remove(),this},G.prototype.getLngLat=function(){return this._lngLat},G.prototype.setLngLat=function(q){return this._lngLat=a.LngLat.convert(q),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},G.prototype.getElement=function(){return this._element},G.prototype.setPopup=function(q){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),q){if(!("offset"in q.options)){var L=13.5,H=Math.sqrt(Math.pow(L,2)/2);q.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[H,-1*(24.6+H)],"bottom-right":[-H,-1*(24.6+H)],left:[L,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=q,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},G.prototype._onKeyPress=function(q){var L=q.code,H=q.charCode||q.keyCode;"Space"!==L&&"Enter"!==L&&32!==H&&13!==H||this.togglePopup()},G.prototype._onMapClick=function(q){var L=q.originalEvent.target,H=this._element;this._popup&&(L===H||H.contains(L))&&this.togglePopup()},G.prototype.getPopup=function(){return this._popup},G.prototype.togglePopup=function(){var q=this._popup;return q?(q.isOpen()?q.remove():q.addTo(this._map),this):this},G.prototype._update=function(q){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ko(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var L="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?L="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(L="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var H="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?H="rotateX(0deg)":"map"===this._pitchAlignment&&(H="rotateX("+this._map.getPitch()+"deg)"),q&&"moveend"!==q.type||(this._pos=this._pos.round()),b.setTransform(this._element,Tr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+H+" "+L)}},G.prototype.getOffset=function(){return this._offset},G.prototype.setOffset=function(q){return this._offset=a.Point.convert(q),this._update(),this},G.prototype._onMove=function(q){if(!this._isDragging){var L=this._clickTolerance||this._map._clickTolerance;this._isDragging=q.point.dist(this._pointerdownPos)>=L}this._isDragging&&(this._pos=q.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},G.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new a.Event("dragend")),this._state="inactive"},G.prototype._addDragHandler=function(q){this._element.contains(q.originalEvent.target)&&(q.preventDefault(),this._positionDelta=q.point.sub(this._pos).add(this._offset),this._pointerdownPos=q.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},G.prototype.setDraggable=function(q){return this._draggable=!!q,this._map&&(q?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},G.prototype.isDraggable=function(){return this._draggable},G.prototype.setRotation=function(q){return this._rotation=q||0,this._update(),this},G.prototype.getRotation=function(){return this._rotation},G.prototype.setRotationAlignment=function(q){return this._rotationAlignment=q||"auto",this._update(),this},G.prototype.getRotationAlignment=function(){return this._rotationAlignment},G.prototype.setPitchAlignment=function(q){return this._pitchAlignment=q&&"auto"!==q?q:this._rotationAlignment,this._update(),this},G.prototype.getPitchAlignment=function(){return this._pitchAlignment},G}(a.Evented),fo={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ei=0,eo=!1,Qr=function(B){function G(q){B.call(this),this.options=a.extend({},fo,q),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.onAdd=function(q){return this._map=q,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),L=this._setupUI,void 0!==ba?L(ba):void 0!==a.window.navigator.permissions?a.window.navigator.permissions.query({name:"geolocation"}).then(function(H){ba="denied"!==H.state,L(ba)}):(ba=!!a.window.navigator.geolocation,L(ba)),this._container;var L},G.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),b.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ei=0,eo=!1},G.prototype._isOutOfMapMaxBounds=function(q){var L=this._map.getMaxBounds(),H=q.coords;return L&&(H.longitude<L.getWest()||H.longitude>L.getEast()||H.latitude<L.getSouth()||H.latitude>L.getNorth())},G.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},G.prototype._onSuccess=function(q){if(this._map){if(this._isOutOfMapMaxBounds(q))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",q)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=q,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(q),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(q),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",q)),this._finish()}},G.prototype._updateCamera=function(q){var L=new a.LngLat(q.coords.longitude,q.coords.latitude),H=q.coords.accuracy,K=this._map.getBearing(),ne=a.extend({bearing:K},this.options.fitBoundsOptions);this._map.fitBounds(L.toBounds(H),ne,{geolocateSource:!0})},G.prototype._updateMarker=function(q){if(q){var L=new a.LngLat(q.coords.longitude,q.coords.latitude);this._accuracyCircleMarker.setLngLat(L).addTo(this._map),this._userLocationDotMarker.setLngLat(L).addTo(this._map),this._accuracy=q.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},G.prototype._updateCircleRadius=function(){var q=this._map._container.clientHeight/2,L=this._map.unproject([0,q]),H=this._map.unproject([1,q]),K=L.distanceTo(H),ne=Math.ceil(2*this._accuracy/K);this._circleElement.style.width=ne+"px",this._circleElement.style.height=ne+"px"},G.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},G.prototype._onError=function(q){if(this._map){if(this.options.trackUserLocation)if(1===q.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var L=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=L,this._geolocateButton.setAttribute("aria-label",L),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===q.code&&eo)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",q)),this._finish()}},G.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},G.prototype._setupUI=function(q){var L=this;if(this._container.addEventListener("contextmenu",function(ne){return ne.preventDefault()}),this._geolocateButton=b.create("button","mapboxgl-ctrl-geolocate",this._container),b.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===q){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var H=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=H,this._geolocateButton.setAttribute("aria-label",H)}else{var K=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=K,this._geolocateButton.setAttribute("aria-label",K)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=b.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Qa(this._dotElement),this._circleElement=b.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Qa({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ne){var ce=ne.originalEvent&&"resize"===ne.originalEvent.type;ne.geolocateSource||"ACTIVE_LOCK"!==L._watchState||ce||(L._watchState="BACKGROUND",L._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),L._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),L.fire(new a.Event("trackuserlocationend")))})},G.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ei--,eo=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var q;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ei>1?(q={maximumAge:6e5,timeout:0},eo=!0):(q=this.options.positionOptions,eo=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,q)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},G.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},G}(a.Evented),fl={maxWidth:100,unit:"metric"},_a=function(B){this.options=a.extend({},fl,B),a.bindAll(["_onMove","setUnit"],this)};function ni(B,G,q){var L=q&&q.maxWidth||100,H=B._container.clientHeight/2,K=B.unproject([0,H]),ne=B.unproject([L,H]),ce=K.distanceTo(ne);if(q&&"imperial"===q.unit){var me=3.2808*ce;me>5280?pi(G,L,me/5280,B._getUIString("ScaleControl.Miles")):pi(G,L,me,B._getUIString("ScaleControl.Feet"))}else q&&"nautical"===q.unit?pi(G,L,ce/1852,B._getUIString("ScaleControl.NauticalMiles")):ce>=1e3?pi(G,L,ce/1e3,B._getUIString("ScaleControl.Kilometers")):pi(G,L,ce,B._getUIString("ScaleControl.Meters"))}function pi(B,G,q,L){var H,K,ne,Le,Pe,ce=(H=q,(K=Math.pow(10,(""+Math.floor(H)).length-1))*((ne=H/K)>=10?10:ne>=5?5:ne>=3?3:ne>=2?2:ne>=1?1:(Le=ne,Pe=Math.pow(10,Math.ceil(-Math.log(Le)/Math.LN10)),Math.round(Le*Pe)/Pe))),me=ce/q;B.style.width=G*me+"px",B.innerHTML=ce+"&nbsp;"+L}_a.prototype.getDefaultPosition=function(){return"bottom-left"},_a.prototype._onMove=function(){ni(this._map,this._container,this.options)},_a.prototype.onAdd=function(B){return this._map=B,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",B.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},_a.prototype.onRemove=function(){b.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},_a.prototype.setUnit=function(B){this.options.unit=B,ni(this._map,this._container,this.options)};var pa=function(B){this._fullscreen=!1,B&&B.container&&(B.container instanceof a.window.HTMLElement?this._container=B.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};pa.prototype.onAdd=function(B){return this._map=B,this._container||(this._container=this._map.getContainer()),this._controlContainer=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},pa.prototype.onRemove=function(){b.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},pa.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},pa.prototype._setupUI=function(){var B=this._fullscreenButton=b.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);b.create("span","mapboxgl-ctrl-icon",B).setAttribute("aria-hidden",!0),B.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},pa.prototype._updateTitle=function(){var B=this._getTitle();this._fullscreenButton.setAttribute("aria-label",B),this._fullscreenButton.title=B},pa.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},pa.prototype._isFullscreen=function(){return this._fullscreen},pa.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},pa.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Po={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Qs=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Ye=function(B){function G(q){B.call(this),this.options=a.extend(Object.create(Po),q),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return B&&(G.__proto__=B),G.prototype=Object.create(B&&B.prototype),G.prototype.constructor=G,G.prototype.addTo=function(q){return this._map&&this.remove(),this._map=q,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},G.prototype.isOpen=function(){return!!this._map},G.prototype.remove=function(){return this._content&&b.remove(this._content),this._container&&(b.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},G.prototype.getLngLat=function(){return this._lngLat},G.prototype.setLngLat=function(q){return this._lngLat=a.LngLat.convert(q),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},G.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},G.prototype.getElement=function(){return this._container},G.prototype.setText=function(q){return this.setDOMContent(a.window.document.createTextNode(q))},G.prototype.setHTML=function(q){var L,H=a.window.document.createDocumentFragment(),K=a.window.document.createElement("body");for(K.innerHTML=q;L=K.firstChild;)H.appendChild(L);return this.setDOMContent(H)},G.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},G.prototype.setMaxWidth=function(q){return this.options.maxWidth=q,this._update(),this},G.prototype.setDOMContent=function(q){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=b.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(q),this._createCloseButton(),this._update(),this._focusFirstElement(),this},G.prototype.addClassName=function(q){this._container&&this._container.classList.add(q)},G.prototype.removeClassName=function(q){this._container&&this._container.classList.remove(q)},G.prototype.setOffset=function(q){return this.options.offset=q,this._update(),this},G.prototype.toggleClassName=function(q){if(this._container)return this._container.classList.toggle(q)},G.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=b.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},G.prototype._onMouseUp=function(q){this._update(q.point)},G.prototype._onMouseMove=function(q){this._update(q.point)},G.prototype._onDrag=function(q){this._update(q.point)},G.prototype._update=function(q){var L=this,H=this._lngLat||this._trackPointer;if(this._map&&H&&this._content&&(this._container||(this._container=b.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=b.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(He){return L._container.classList.add(He)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ko(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||q)){var K=this._pos=this._trackPointer&&q?q:this._map.project(this._lngLat),ne=this.options.anchor,ce=Ke(this.options.offset);if(!ne){var me,Le=this._container.offsetWidth,Pe=this._container.offsetHeight;me=K.y+ce.bottom.y<Pe?["top"]:K.y>this._map.transform.height-Pe?["bottom"]:[],K.x<Le/2?me.push("left"):K.x>this._map.transform.width-Le/2&&me.push("right"),ne=0===me.length?"bottom":me.join("-")}var je=K.add(ce[ne]).round();b.setTransform(this._container,Tr[ne]+" translate("+je.x+"px,"+je.y+"px)"),Cr(this._container,ne,"popup")}},G.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var q=this._container.querySelector(Qs);q&&q.focus()}},G.prototype._onClose=function(){this.remove()},G}(a.Evented);function Ke(B){if(B){if("number"==typeof B){var G=Math.round(Math.sqrt(.5*Math.pow(B,2)));return{center:new a.Point(0,0),top:new a.Point(0,B),"top-left":new a.Point(G,G),"top-right":new a.Point(-G,G),bottom:new a.Point(0,-B),"bottom-left":new a.Point(G,-G),"bottom-right":new a.Point(-G,-G),left:new a.Point(B,0),right:new a.Point(-B,0)}}if(B instanceof a.Point||Array.isArray(B)){var q=a.Point.convert(B);return{center:q,top:q,"top-left":q,"top-right":q,bottom:q,"bottom-left":q,"bottom-right":q,left:q,right:q}}return{center:a.Point.convert(B.center||[0,0]),top:a.Point.convert(B.top||[0,0]),"top-left":a.Point.convert(B["top-left"]||[0,0]),"top-right":a.Point.convert(B["top-right"]||[0,0]),bottom:a.Point.convert(B.bottom||[0,0]),"bottom-left":a.Point.convert(B["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(B["bottom-right"]||[0,0]),left:a.Point.convert(B.left||[0,0]),right:a.Point.convert(B.right||[0,0])}}return Ke(new a.Point(0,0))}var it={version:a.version,supported:T,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:ja,NavigationControl:Ua,GeolocateControl:Qr,AttributionControl:oa,ScaleControl:_a,FullscreenControl:pa,Popup:Ye,Marker:Qa,Style:ar,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:function(){dt().acquire(et)},clearPrewarmedResources:function(){var B=ct;B&&(B.isPreloaded()&&1===B.numActive()?(B.release(et),ct=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(B){a.config.ACCESS_TOKEN=B},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(B){a.config.API_URL=B},get workerCount(){return We.workerCount},set workerCount(B){We.workerCount=B},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(B){a.config.MAX_PARALLEL_IMAGE_REQUESTS=B},clearStorage:function(B){a.clearTileCache(B)},workerUrl:""};return it}),M}()},88294:function(ee,D,e){"use strict";ee.exports=e(62849)},62849:function(ee,D,e){"use strict";var M=e(91358),k=e(53435),a=e(18863),T=e(21527),b=e(71299),p=e(46775),s=e(30120),t=e(64941),i=e(90660),n=e(27084);function r(o,l){for(var u=l[0],d=l[1],c=1/(l[2]-u),x=1/(l[3]-d),g=new Array(o.length),h=0,m=o.length/2;h<m;h++)g[2*h]=k((o[2*h]-u)*c,0,1),g[2*h+1]=k((o[2*h+1]-d)*x,0,1);return g}ee.exports=function(o,l){l||(l={}),o=s(o,"float64"),l=b(l,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=p(l.maxDepth,255),d=p(l.bounds,T(o,2));d[0]===d[2]&&d[2]++,d[1]===d[3]&&d[3]++;var c,x=r(o,d),g=o.length>>>1;l.dtype||(l.dtype="array"),"string"==typeof l.dtype?c=new(i(l.dtype))(g):l.dtype&&(c=l.dtype,Array.isArray(c)&&(c.length=g));for(var h=0;h<g;++h)c[h]=h;var m=[],y=[],v=[],_=[];!function R(j,z,N,Y,F,U){if(!Y.length)return null;var V=m[F]||(m[F]=[]),te=v[F]||(v[F]=[]),$=y[F]||(y[F]=[]),X=V.length;if(++F>u||U>1073741824){for(var W=0;W<Y.length;W++)V.push(Y[W]),te.push(U),$.push(null,null,null,null);return X}if(V.push(Y[0]),te.push(U),Y.length<=1)return $.push(null,null,null,null),X;for(var J=.5*N,Q=j+J,re=z+J,ae=[],oe=[],ue=[],ve=[],be=1,de=Y.length;be<de;be++){var pe=Y[be],ge=x[2*pe],Ae=x[2*pe+1];ge<Q?Ae<re?ae.push(pe):oe.push(pe):Ae<re?ue.push(pe):ve.push(pe)}return U<<=2,$.push(R(j,z,J,ae,F,U),R(j,re,J,oe,F,U+1),R(Q,z,J,ue,F,U+2),R(Q,re,J,ve,F,U+3)),X}(0,0,1,c,0,1);for(var f=0,S=0;S<m.length;S++){var w=m[S];if(c.set)c.set(w,f);else for(var E=0,C=w.length;E<C;E++)c[E+f]=w[E];var O=f+m[S].length;_[S]=[f,O],f=O}return c.range=function(){for(var R,j=[],z=arguments.length;z--;)j[z]=arguments[z];if(t(j[j.length-1])){var N=j.pop();j.length||null==N.x&&null==N.l&&null==N.left||(j=[N],R={}),R=b(N,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else R={};j.length||(j=d);var Y,F=a.apply(void 0,j),U=[Math.min(F.x,F.x+F.width),Math.min(F.y,F.y+F.height),Math.max(F.x,F.x+F.width),Math.max(F.y,F.y+F.height)],V=U[0],te=U[1],$=U[2],X=U[3],W=r([V,te,$,X],d),J=W[0],Q=W[1],re=W[2],ae=W[3],oe=p(R.level,m.length);if(null!=R.d&&("number"==typeof R.d?Y=[R.d,R.d]:R.d.length&&(Y=R.d),oe=Math.min(Math.max(Math.ceil(-n(Math.abs(Y[0])/(d[2]-d[0]))),Math.ceil(-n(Math.abs(Y[1])/(d[3]-d[1])))),oe)),oe=Math.min(oe,m.length),R.lod)return function(ve,be,de,pe,ge){for(var Ae=[],ye=0;ye<ge;ye++){var we=v[ye],se=_[ye][0],ie=P(ve,be,ye),he=P(de,pe,ye),Se=M.ge(we,ie),_e=M.gt(we,he,Se,we.length-1);Ae[ye]=[Se+se,_e+se]}return Ae}(J,Q,re,ae,oe);var ue=[];return function ve(be,de,pe,ge,Ae,ye){if(null!==Ae&&null!==ye&&!(J>be+pe||Q>de+pe||re<be||ae<de||ge>=oe||Ae===ye)){var we=m[ge];void 0===ye&&(ye=we.length);for(var se=Ae;se<ye;se++){var ie=we[se],he=o[2*ie],Se=o[2*ie+1];he>=V&&he<=$&&Se>=te&&Se<=X&&ue.push(ie)}var _e=y[ge],Me=_e[4*Ae+0],Ee=_e[4*Ae+1],Ie=_e[4*Ae+2],fe=_e[4*Ae+3],xe=function(De,ze){for(var Ue=null,Ve=0;null===Ue;)if(Ue=De[4*ze+Ve],++Ve>De.length)return null;return Ue}(_e,Ae+1),Te=.5*pe,Ce=ge+1;ve(be,de,Te,Ce,Me,Ee||Ie||fe||xe),ve(be,de+Te,Te,Ce,Ee,Ie||fe||xe),ve(be+Te,de,Te,Ce,Ie,fe||xe),ve(be+Te,de+Te,Te,Ce,fe,xe)}}(0,0,1,0,0,1),ue},c;function P(R,j,z){for(var N=1,Y=.5,F=.5,U=.5,V=0;V<z;V++)N<<=2,N+=R<Y?j<F?0:1:j<F?2:3,U*=.5,Y+=R<Y?-U:U,F+=j<F?-U:U;return N}}},30774:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var M=e(60302),k=6378137;function a(p){var s=0;if(p&&p.length>0){s+=Math.abs(T(p[0]));for(var t=1;t<p.length;t++)s-=Math.abs(T(p[t]))}return s}function T(p){var s,t,i,n,r,o,l=0,u=p.length;if(u>2){for(o=0;o<u;o++)o===u-2?(i=u-2,n=u-1,r=0):o===u-1?(i=u-1,n=0,r=1):(i=o,n=o+1,r=o+2),s=p[i],t=p[n],l+=(b(p[r][0])-b(s[0]))*Math.sin(b(t[1]));l=l*k*k/2}return l}function b(p){return p*Math.PI/180}D.default=function(p){return M.geomReduce(p,function(s,t){return s+function(i){var n,r=0;switch(i.type){case"Polygon":return a(i.coordinates);case"MultiPolygon":for(n=0;n<i.coordinates.length;n++)r+=a(i.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},23132:function(ee,D){"use strict";function e(o,l,u){void 0===u&&(u={});var d={type:"Feature"};return(0===u.id||u.id)&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.properties=l||{},d.geometry=o,d}function M(o,l,u){if(void 0===u&&(u={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!r(o[0])||!r(o[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:o},l,u)}function k(o,l,u){void 0===u&&(u={});for(var d=0,c=o;d<c.length;d++){var x=c[d];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},l,u)}function a(o,l,u){if(void 0===u&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},l,u)}function T(o,l){void 0===l&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=o,u}function b(o,l,u){return void 0===u&&(u={}),e({type:"MultiLineString",coordinates:o},l,u)}function p(o,l,u){return void 0===u&&(u={}),e({type:"MultiPoint",coordinates:o},l,u)}function s(o,l,u){return void 0===u&&(u={}),e({type:"MultiPolygon",coordinates:o},l,u)}function t(o,l){void 0===l&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o*u}function i(o,l){void 0===l&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o/u}function n(o){return o%(2*Math.PI)*180/Math.PI}function r(o){return!isNaN(o)&&null!==o&&!Array.isArray(o)}Object.defineProperty(D,"__esModule",{value:!0}),D.earthRadius=6371008.8,D.factors={centimeters:100*D.earthRadius,centimetres:100*D.earthRadius,degrees:D.earthRadius/111325,feet:3.28084*D.earthRadius,inches:39.37*D.earthRadius,kilometers:D.earthRadius/1e3,kilometres:D.earthRadius/1e3,meters:D.earthRadius,metres:D.earthRadius,miles:D.earthRadius/1609.344,millimeters:1e3*D.earthRadius,millimetres:1e3*D.earthRadius,nauticalmiles:D.earthRadius/1852,radians:1,yards:1.0936*D.earthRadius},D.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/D.earthRadius,yards:1.0936133},D.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},D.feature=e,D.geometry=function(o,l,u){switch(void 0===u&&(u={}),o){case"Point":return M(l).geometry;case"LineString":return a(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return p(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(o+" is invalid")}},D.point=M,D.points=function(o,l,u){return void 0===u&&(u={}),T(o.map(function(d){return M(d,l)}),u)},D.polygon=k,D.polygons=function(o,l,u){return void 0===u&&(u={}),T(o.map(function(d){return k(d,l)}),u)},D.lineString=a,D.lineStrings=function(o,l,u){return void 0===u&&(u={}),T(o.map(function(d){return a(d,l)}),u)},D.featureCollection=T,D.multiLineString=b,D.multiPoint=p,D.multiPolygon=s,D.geometryCollection=function(o,l,u){return void 0===u&&(u={}),e({type:"GeometryCollection",geometries:o},l,u)},D.round=function(o,l){if(void 0===l&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(o*u)/u},D.radiansToLength=t,D.lengthToRadians=i,D.lengthToDegrees=function(o,l){return n(i(o,l))},D.bearingToAzimuth=function(o){var l=o%360;return l<0&&(l+=360),l},D.radiansToDegrees=n,D.degreesToRadians=function(o){return o%360*Math.PI/180},D.convertLength=function(o,l,u){if(void 0===l&&(l="kilometers"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,l),u)},D.convertArea=function(o,l,u){if(void 0===l&&(l="meters"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var d=D.areaFactors[l];if(!d)throw new Error("invalid original units");var c=D.areaFactors[u];if(!c)throw new Error("invalid final units");return o/d*c},D.isNumber=r,D.isObject=function(o){return!!o&&o.constructor===Object},D.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(4!==o.length&&6!==o.length)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(l){if(!r(l))throw new Error("bbox must only contain numbers")})},D.validateId=function(o){if(!o)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof o))throw new Error("id must be a number or a string")}},60302:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var M=e(23132);function k(i,n,r){if(null!==i)for(var o,l,u,d,c,x,g,h,m=0,y=0,v=i.type,_="FeatureCollection"===v,f="Feature"===v,S=_?i.features.length:1,w=0;w<S;w++){c=(h=!!(g=_?i.features[w].geometry:f?i.geometry:i)&&"GeometryCollection"===g.type)?g.geometries.length:1;for(var E=0;E<c;E++){var C=0,O=0;if(null!==(d=h?g.geometries[E]:g)){x=d.coordinates;var P=d.type;switch(m=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===n(x,y,w,C,O))return!1;y++,C++;break;case"LineString":case"MultiPoint":for(o=0;o<x.length;o++){if(!1===n(x[o],y,w,C,O))return!1;y++,"MultiPoint"===P&&C++}"LineString"===P&&C++;break;case"Polygon":case"MultiLineString":for(o=0;o<x.length;o++){for(l=0;l<x[o].length-m;l++){if(!1===n(x[o][l],y,w,C,O))return!1;y++}"MultiLineString"===P&&C++,"Polygon"===P&&O++}"Polygon"===P&&C++;break;case"MultiPolygon":for(o=0;o<x.length;o++){for(O=0,l=0;l<x[o].length;l++){for(u=0;u<x[o][l].length-m;u++){if(!1===n(x[o][l][u],y,w,C,O))return!1;y++}O++}C++}break;case"GeometryCollection":for(o=0;o<d.geometries.length;o++)if(!1===k(d.geometries[o],n,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&!1!==n(i.features[r].properties,r);r++);break;case"Feature":n(i.properties,0)}}function T(i,n){if("Feature"===i.type)n(i,0);else if("FeatureCollection"===i.type)for(var r=0;r<i.features.length&&!1!==n(i.features[r],r);r++);}function b(i,n){var r,o,l,u,d,c,x,g,h,m,y=0,v="FeatureCollection"===i.type,_="Feature"===i.type,f=v?i.features.length:1;for(r=0;r<f;r++){for(c=v?i.features[r].geometry:_?i.geometry:i,g=v?i.features[r].properties:_?i.properties:{},h=v?i.features[r].bbox:_?i.bbox:void 0,m=v?i.features[r].id:_?i.id:void 0,d=(x=!!c&&"GeometryCollection"===c.type)?c.geometries.length:1,l=0;l<d;l++)if(null!==(u=x?c.geometries[l]:c))switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(u,y,g,h,m))return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(!1===n(u.geometries[o],y,g,h,m))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,y,g,h,m))return!1;y++}}function p(i,n){b(i,function(r,o,l,u,d){var c,x=null===r?null:r.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return!1!==n(M.feature(r,l,{bbox:u,id:d}),o,0)&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<r.coordinates.length;g++){var h={type:c,coordinates:r.coordinates[g]};if(!1===n(M.feature(h,l),o,g))return!1}})}function s(i,n){p(i,function(r,o,l){var u=0;if(r.geometry){var d=r.geometry.type;if("Point"!==d&&"MultiPoint"!==d){var c,x=0,g=0,h=0;return!1!==k(r,function(m,y,v,_,f){if(void 0===c||o>x||_>g||f>h)return c=m,x=o,g=_,h=f,void(u=0);var S=M.lineString([c,m],r.properties);if(!1===n(S,o,l,f,u))return!1;u++,c=m})&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");p(i,function(r,o,l){if(null!==r.geometry){var u=r.geometry.type,d=r.geometry.coordinates;switch(u){case"LineString":if(!1===n(r,o,l,0,0))return!1;break;case"Polygon":for(var c=0;c<d.length;c++)if(!1===n(M.lineString(d[c],r.properties),o,l,c))return!1}}})}D.coordEach=k,D.coordReduce=function(i,n,r,o){var l=r;return k(i,function(u,d,c,x,g){l=0===d&&void 0===r?u:n(l,u,d,c,x,g)},o),l},D.propEach=a,D.propReduce=function(i,n,r){var o=r;return a(i,function(l,u){o=0===u&&void 0===r?l:n(o,l,u)}),o},D.featureEach=T,D.featureReduce=function(i,n,r){var o=r;return T(i,function(l,u){o=0===u&&void 0===r?l:n(o,l,u)}),o},D.coordAll=function(i){var n=[];return k(i,function(r){n.push(r)}),n},D.geomEach=b,D.geomReduce=function(i,n,r){var o=r;return b(i,function(l,u,d,c,x){o=0===u&&void 0===r?l:n(o,l,u,d,c,x)}),o},D.flattenEach=p,D.flattenReduce=function(i,n,r){var o=r;return p(i,function(l,u,d){o=0===u&&0===d&&void 0===r?l:n(o,l,u,d)}),o},D.segmentEach=s,D.segmentReduce=function(i,n,r){var o=r,l=!1;return s(i,function(u,d,c,x,g){o=!1===l&&void 0===r?u:n(o,u,d,c,x,g),l=!0}),o},D.lineEach=t,D.lineReduce=function(i,n,r){var o=r;return t(i,function(l,u,d,c){o=0===u&&void 0===r?l:n(o,l,u,d,c)}),o},D.findSegment=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,o=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var x=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return d<0&&(d=x.length+d-1),M.lineString([x[d],x[d+1]],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d-1),M.lineString([x[u][d],x[u][d+1]],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d-1),M.lineString([x[l][d],x[l][d+1]],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d-1),M.lineString([x[l][u][d],x[l][u][d+1]],c,n)}throw new Error("geojson is invalid")},D.findPoint=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,o=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var x=r.coordinates;switch(r.type){case"Point":return M.point(x,c,n);case"MultiPoint":return l<0&&(l=x.length+l),M.point(x[l],c,n);case"LineString":return d<0&&(d=x.length+d),M.point(x[d],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d),M.point(x[u][d],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d),M.point(x[l][d],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d),M.point(x[l][u][d],c,n)}throw new Error("geojson is invalid")}},85268:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var M=e(27138);function k(a){var T=[1/0,1/0,-1/0,-1/0];return M.coordEach(a,function(b){T[0]>b[0]&&(T[0]=b[0]),T[1]>b[1]&&(T[1]=b[1]),T[2]<b[0]&&(T[2]=b[0]),T[3]<b[1]&&(T[3]=b[1])}),T}k.default=k,D.default=k},94228:function(ee,D){"use strict";function e(o,l,u){void 0===u&&(u={});var d={type:"Feature"};return(0===u.id||u.id)&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.properties=l||{},d.geometry=o,d}function M(o,l,u){if(void 0===u&&(u={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!r(o[0])||!r(o[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:o},l,u)}function k(o,l,u){void 0===u&&(u={});for(var d=0,c=o;d<c.length;d++){var x=c[d];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},l,u)}function a(o,l,u){if(void 0===u&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},l,u)}function T(o,l){void 0===l&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=o,u}function b(o,l,u){return void 0===u&&(u={}),e({type:"MultiLineString",coordinates:o},l,u)}function p(o,l,u){return void 0===u&&(u={}),e({type:"MultiPoint",coordinates:o},l,u)}function s(o,l,u){return void 0===u&&(u={}),e({type:"MultiPolygon",coordinates:o},l,u)}function t(o,l){void 0===l&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o*u}function i(o,l){void 0===l&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o/u}function n(o){return o%(2*Math.PI)*180/Math.PI}function r(o){return!isNaN(o)&&null!==o&&!Array.isArray(o)}Object.defineProperty(D,"__esModule",{value:!0}),D.earthRadius=6371008.8,D.factors={centimeters:100*D.earthRadius,centimetres:100*D.earthRadius,degrees:D.earthRadius/111325,feet:3.28084*D.earthRadius,inches:39.37*D.earthRadius,kilometers:D.earthRadius/1e3,kilometres:D.earthRadius/1e3,meters:D.earthRadius,metres:D.earthRadius,miles:D.earthRadius/1609.344,millimeters:1e3*D.earthRadius,millimetres:1e3*D.earthRadius,nauticalmiles:D.earthRadius/1852,radians:1,yards:1.0936*D.earthRadius},D.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/D.earthRadius,yards:1.0936133},D.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},D.feature=e,D.geometry=function(o,l,u){switch(void 0===u&&(u={}),o){case"Point":return M(l).geometry;case"LineString":return a(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return p(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(o+" is invalid")}},D.point=M,D.points=function(o,l,u){return void 0===u&&(u={}),T(o.map(function(d){return M(d,l)}),u)},D.polygon=k,D.polygons=function(o,l,u){return void 0===u&&(u={}),T(o.map(function(d){return k(d,l)}),u)},D.lineString=a,D.lineStrings=function(o,l,u){return void 0===u&&(u={}),T(o.map(function(d){return a(d,l)}),u)},D.featureCollection=T,D.multiLineString=b,D.multiPoint=p,D.multiPolygon=s,D.geometryCollection=function(o,l,u){return void 0===u&&(u={}),e({type:"GeometryCollection",geometries:o},l,u)},D.round=function(o,l){if(void 0===l&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(o*u)/u},D.radiansToLength=t,D.lengthToRadians=i,D.lengthToDegrees=function(o,l){return n(i(o,l))},D.bearingToAzimuth=function(o){var l=o%360;return l<0&&(l+=360),l},D.radiansToDegrees=n,D.degreesToRadians=function(o){return o%360*Math.PI/180},D.convertLength=function(o,l,u){if(void 0===l&&(l="kilometers"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,l),u)},D.convertArea=function(o,l,u){if(void 0===l&&(l="meters"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var d=D.areaFactors[l];if(!d)throw new Error("invalid original units");var c=D.areaFactors[u];if(!c)throw new Error("invalid final units");return o/d*c},D.isNumber=r,D.isObject=function(o){return!!o&&o.constructor===Object},D.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(4!==o.length&&6!==o.length)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(l){if(!r(l))throw new Error("bbox must only contain numbers")})},D.validateId=function(o){if(!o)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof o))throw new Error("id must be a number or a string")}},27138:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var M=e(94228);function k(i,n,r){if(null!==i)for(var o,l,u,d,c,x,g,h,m=0,y=0,v=i.type,_="FeatureCollection"===v,f="Feature"===v,S=_?i.features.length:1,w=0;w<S;w++){c=(h=!!(g=_?i.features[w].geometry:f?i.geometry:i)&&"GeometryCollection"===g.type)?g.geometries.length:1;for(var E=0;E<c;E++){var C=0,O=0;if(null!==(d=h?g.geometries[E]:g)){x=d.coordinates;var P=d.type;switch(m=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===n(x,y,w,C,O))return!1;y++,C++;break;case"LineString":case"MultiPoint":for(o=0;o<x.length;o++){if(!1===n(x[o],y,w,C,O))return!1;y++,"MultiPoint"===P&&C++}"LineString"===P&&C++;break;case"Polygon":case"MultiLineString":for(o=0;o<x.length;o++){for(l=0;l<x[o].length-m;l++){if(!1===n(x[o][l],y,w,C,O))return!1;y++}"MultiLineString"===P&&C++,"Polygon"===P&&O++}"Polygon"===P&&C++;break;case"MultiPolygon":for(o=0;o<x.length;o++){for(O=0,l=0;l<x[o].length;l++){for(u=0;u<x[o][l].length-m;u++){if(!1===n(x[o][l][u],y,w,C,O))return!1;y++}O++}C++}break;case"GeometryCollection":for(o=0;o<d.geometries.length;o++)if(!1===k(d.geometries[o],n,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&!1!==n(i.features[r].properties,r);r++);break;case"Feature":n(i.properties,0)}}function T(i,n){if("Feature"===i.type)n(i,0);else if("FeatureCollection"===i.type)for(var r=0;r<i.features.length&&!1!==n(i.features[r],r);r++);}function b(i,n){var r,o,l,u,d,c,x,g,h,m,y=0,v="FeatureCollection"===i.type,_="Feature"===i.type,f=v?i.features.length:1;for(r=0;r<f;r++){for(c=v?i.features[r].geometry:_?i.geometry:i,g=v?i.features[r].properties:_?i.properties:{},h=v?i.features[r].bbox:_?i.bbox:void 0,m=v?i.features[r].id:_?i.id:void 0,d=(x=!!c&&"GeometryCollection"===c.type)?c.geometries.length:1,l=0;l<d;l++)if(null!==(u=x?c.geometries[l]:c))switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(u,y,g,h,m))return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(!1===n(u.geometries[o],y,g,h,m))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,y,g,h,m))return!1;y++}}function p(i,n){b(i,function(r,o,l,u,d){var c,x=null===r?null:r.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return!1!==n(M.feature(r,l,{bbox:u,id:d}),o,0)&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<r.coordinates.length;g++){var h={type:c,coordinates:r.coordinates[g]};if(!1===n(M.feature(h,l),o,g))return!1}})}function s(i,n){p(i,function(r,o,l){var u=0;if(r.geometry){var d=r.geometry.type;if("Point"!==d&&"MultiPoint"!==d){var c,x=0,g=0,h=0;return!1!==k(r,function(m,y,v,_,f){if(void 0===c||o>x||_>g||f>h)return c=m,x=o,g=_,h=f,void(u=0);var S=M.lineString([c,m],r.properties);if(!1===n(S,o,l,f,u))return!1;u++,c=m})&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");p(i,function(r,o,l){if(null!==r.geometry){var u=r.geometry.type,d=r.geometry.coordinates;switch(u){case"LineString":if(!1===n(r,o,l,0,0))return!1;break;case"Polygon":for(var c=0;c<d.length;c++)if(!1===n(M.lineString(d[c],r.properties),o,l,c))return!1}}})}D.coordEach=k,D.coordReduce=function(i,n,r,o){var l=r;return k(i,function(u,d,c,x,g){l=0===d&&void 0===r?u:n(l,u,d,c,x,g)},o),l},D.propEach=a,D.propReduce=function(i,n,r){var o=r;return a(i,function(l,u){o=0===u&&void 0===r?l:n(o,l,u)}),o},D.featureEach=T,D.featureReduce=function(i,n,r){var o=r;return T(i,function(l,u){o=0===u&&void 0===r?l:n(o,l,u)}),o},D.coordAll=function(i){var n=[];return k(i,function(r){n.push(r)}),n},D.geomEach=b,D.geomReduce=function(i,n,r){var o=r;return b(i,function(l,u,d,c,x){o=0===u&&void 0===r?l:n(o,l,u,d,c,x)}),o},D.flattenEach=p,D.flattenReduce=function(i,n,r){var o=r;return p(i,function(l,u,d){o=0===u&&0===d&&void 0===r?l:n(o,l,u,d)}),o},D.segmentEach=s,D.segmentReduce=function(i,n,r){var o=r,l=!1;return s(i,function(u,d,c,x,g){o=!1===l&&void 0===r?u:n(o,u,d,c,x,g),l=!0}),o},D.lineEach=t,D.lineReduce=function(i,n,r){var o=r;return t(i,function(l,u,d,c){o=0===u&&void 0===r?l:n(o,l,u,d,c)}),o},D.findSegment=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,o=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var x=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return d<0&&(d=x.length+d-1),M.lineString([x[d],x[d+1]],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d-1),M.lineString([x[u][d],x[u][d+1]],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d-1),M.lineString([x[l][d],x[l][d+1]],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d-1),M.lineString([x[l][u][d],x[l][u][d+1]],c,n)}throw new Error("geojson is invalid")},D.findPoint=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,o=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var x=r.coordinates;switch(r.type){case"Point":return M.point(x,c,n);case"MultiPoint":return l<0&&(l=x.length+l),M.point(x[l],c,n);case"LineString":return d<0&&(d=x.length+d),M.point(x[d],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d),M.point(x[u][d],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d),M.point(x[l][d],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d),M.point(x[l][u][d],c,n)}throw new Error("geojson is invalid")}},29261:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var M=e(88553),k=e(64182);D.default=function(a,T){void 0===T&&(T={});var b=0,p=0,s=0;return M.coordEach(a,function(t){b+=t[0],p+=t[1],s++}),k.point([b/s,p/s],T.properties)}},64182:function(ee,D){"use strict";function e(o,l,u){void 0===u&&(u={});var d={type:"Feature"};return(0===u.id||u.id)&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.properties=l||{},d.geometry=o,d}function M(o,l,u){return void 0===u&&(u={}),e({type:"Point",coordinates:o},l,u)}function k(o,l,u){void 0===u&&(u={});for(var d=0,c=o;d<c.length;d++){var x=c[d];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},l,u)}function a(o,l,u){if(void 0===u&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},l,u)}function T(o,l){void 0===l&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=o,u}function b(o,l,u){return void 0===u&&(u={}),e({type:"MultiLineString",coordinates:o},l,u)}function p(o,l,u){return void 0===u&&(u={}),e({type:"MultiPoint",coordinates:o},l,u)}function s(o,l,u){return void 0===u&&(u={}),e({type:"MultiPolygon",coordinates:o},l,u)}function t(o,l){void 0===l&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o*u}function i(o,l){void 0===l&&(l="kilometers");var u=D.factors[l];if(!u)throw new Error(l+" units is invalid");return o/u}function n(o){return o%(2*Math.PI)*180/Math.PI}function r(o){return!isNaN(o)&&null!==o&&!Array.isArray(o)&&!/^\s*$/.test(o)}Object.defineProperty(D,"__esModule",{value:!0}),D.earthRadius=6371008.8,D.factors={centimeters:100*D.earthRadius,centimetres:100*D.earthRadius,degrees:D.earthRadius/111325,feet:3.28084*D.earthRadius,inches:39.37*D.earthRadius,kilometers:D.earthRadius/1e3,kilometres:D.earthRadius/1e3,meters:D.earthRadius,metres:D.earthRadius,miles:D.earthRadius/1609.344,millimeters:1e3*D.earthRadius,millimetres:1e3*D.earthRadius,nauticalmiles:D.earthRadius/1852,radians:1,yards:D.earthRadius/1.0936},D.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/D.earthRadius,yards:.91441111923921},D.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},D.feature=e,D.geometry=function(o,l,u){switch(void 0===u&&(u={}),o){case"Point":return M(l).geometry;case"LineString":return a(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return p(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(o+" is invalid")}},D.point=M,D.points=function(o,l,u){return void 0===u&&(u={}),T(o.map(function(d){return M(d,l)}),u)},D.polygon=k,D.polygons=function(o,l,u){return void 0===u&&(u={}),T(o.map(function(d){return k(d,l)}),u)},D.lineString=a,D.lineStrings=function(o,l,u){return void 0===u&&(u={}),T(o.map(function(d){return a(d,l)}),u)},D.featureCollection=T,D.multiLineString=b,D.multiPoint=p,D.multiPolygon=s,D.geometryCollection=function(o,l,u){return void 0===u&&(u={}),e({type:"GeometryCollection",geometries:o},l,u)},D.round=function(o,l){if(void 0===l&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(o*u)/u},D.radiansToLength=t,D.lengthToRadians=i,D.lengthToDegrees=function(o,l){return n(i(o,l))},D.bearingToAzimuth=function(o){var l=o%360;return l<0&&(l+=360),l},D.radiansToDegrees=n,D.degreesToRadians=function(o){return o%360*Math.PI/180},D.convertLength=function(o,l,u){if(void 0===l&&(l="kilometers"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return t(i(o,l),u)},D.convertArea=function(o,l,u){if(void 0===l&&(l="meters"),void 0===u&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var d=D.areaFactors[l];if(!d)throw new Error("invalid original units");var c=D.areaFactors[u];if(!c)throw new Error("invalid final units");return o/d*c},D.isNumber=r,D.isObject=function(o){return!!o&&o.constructor===Object},D.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(4!==o.length&&6!==o.length)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(l){if(!r(l))throw new Error("bbox must only contain numbers")})},D.validateId=function(o){if(!o)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof o))throw new Error("id must be a number or a string")},D.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},D.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},D.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},D.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},D.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},D.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},D.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},88553:function(ee,D,e){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var M=e(64182);function k(i,n,r){if(null!==i)for(var o,l,u,d,c,x,g,h,m=0,y=0,v=i.type,_="FeatureCollection"===v,f="Feature"===v,S=_?i.features.length:1,w=0;w<S;w++){c=(h=!!(g=_?i.features[w].geometry:f?i.geometry:i)&&"GeometryCollection"===g.type)?g.geometries.length:1;for(var E=0;E<c;E++){var C=0,O=0;if(null!==(d=h?g.geometries[E]:g)){x=d.coordinates;var P=d.type;switch(m=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===n(x,y,w,C,O))return!1;y++,C++;break;case"LineString":case"MultiPoint":for(o=0;o<x.length;o++){if(!1===n(x[o],y,w,C,O))return!1;y++,"MultiPoint"===P&&C++}"LineString"===P&&C++;break;case"Polygon":case"MultiLineString":for(o=0;o<x.length;o++){for(l=0;l<x[o].length-m;l++){if(!1===n(x[o][l],y,w,C,O))return!1;y++}"MultiLineString"===P&&C++,"Polygon"===P&&O++}"Polygon"===P&&C++;break;case"MultiPolygon":for(o=0;o<x.length;o++){for(O=0,l=0;l<x[o].length;l++){for(u=0;u<x[o][l].length-m;u++){if(!1===n(x[o][l][u],y,w,C,O))return!1;y++}O++}C++}break;case"GeometryCollection":for(o=0;o<d.geometries.length;o++)if(!1===k(d.geometries[o],n,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&!1!==n(i.features[r].properties,r);r++);break;case"Feature":n(i.properties,0)}}function T(i,n){if("Feature"===i.type)n(i,0);else if("FeatureCollection"===i.type)for(var r=0;r<i.features.length&&!1!==n(i.features[r],r);r++);}function b(i,n){var r,o,l,u,d,c,x,g,h,m,y=0,v="FeatureCollection"===i.type,_="Feature"===i.type,f=v?i.features.length:1;for(r=0;r<f;r++){for(c=v?i.features[r].geometry:_?i.geometry:i,g=v?i.features[r].properties:_?i.properties:{},h=v?i.features[r].bbox:_?i.bbox:void 0,m=v?i.features[r].id:_?i.id:void 0,d=(x=!!c&&"GeometryCollection"===c.type)?c.geometries.length:1,l=0;l<d;l++)if(null!==(u=x?c.geometries[l]:c))switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(u,y,g,h,m))return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(!1===n(u.geometries[o],y,g,h,m))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,y,g,h,m))return!1;y++}}function p(i,n){b(i,function(r,o,l,u,d){var c,x=null===r?null:r.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return!1!==n(M.feature(r,l,{bbox:u,id:d}),o,0)&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<r.coordinates.length;g++){var h={type:c,coordinates:r.coordinates[g]};if(!1===n(M.feature(h,l),o,g))return!1}})}function s(i,n){p(i,function(r,o,l){var u=0;if(r.geometry){var d=r.geometry.type;if("Point"!==d&&"MultiPoint"!==d){var c,x=0,g=0,h=0;return!1!==k(r,function(m,y,v,_,f){if(void 0===c||o>x||_>g||f>h)return c=m,x=o,g=_,h=f,void(u=0);var S=M.lineString([c,m],r.properties);if(!1===n(S,o,l,f,u))return!1;u++,c=m})&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");p(i,function(r,o,l){if(null!==r.geometry){var u=r.geometry.type,d=r.geometry.coordinates;switch(u){case"LineString":if(!1===n(r,o,l,0,0))return!1;break;case"Polygon":for(var c=0;c<d.length;c++)if(!1===n(M.lineString(d[c],r.properties),o,l,c))return!1}}})}D.coordEach=k,D.coordReduce=function(i,n,r,o){var l=r;return k(i,function(u,d,c,x,g){l=0===d&&void 0===r?u:n(l,u,d,c,x,g)},o),l},D.propEach=a,D.propReduce=function(i,n,r){var o=r;return a(i,function(l,u){o=0===u&&void 0===r?l:n(o,l,u)}),o},D.featureEach=T,D.featureReduce=function(i,n,r){var o=r;return T(i,function(l,u){o=0===u&&void 0===r?l:n(o,l,u)}),o},D.coordAll=function(i){var n=[];return k(i,function(r){n.push(r)}),n},D.geomEach=b,D.geomReduce=function(i,n,r){var o=r;return b(i,function(l,u,d,c,x){o=0===u&&void 0===r?l:n(o,l,u,d,c,x)}),o},D.flattenEach=p,D.flattenReduce=function(i,n,r){var o=r;return p(i,function(l,u,d){o=0===u&&0===d&&void 0===r?l:n(o,l,u,d)}),o},D.segmentEach=s,D.segmentReduce=function(i,n,r){var o=r,l=!1;return s(i,function(u,d,c,x,g){o=!1===l&&void 0===r?u:n(o,u,d,c,x,g),l=!0}),o},D.lineEach=t,D.lineReduce=function(i,n,r){var o=r;return t(i,function(l,u,d,c){o=0===u&&void 0===r?l:n(o,l,u,d,c)}),o},D.findSegment=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,o=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var x=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return d<0&&(d=x.length+d-1),M.lineString([x[d],x[d+1]],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d-1),M.lineString([x[u][d],x[u][d+1]],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d-1),M.lineString([x[l][d],x[l][d+1]],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d-1),M.lineString([x[l][u][d],x[l][u][d+1]],c,n)}throw new Error("geojson is invalid")},D.findPoint=function(i,n){if(n=n||{},!M.isObject(n))throw new Error("options is invalid");var r,o=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),c=c||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var x=r.coordinates;switch(r.type){case"Point":return M.point(x,c,n);case"MultiPoint":return l<0&&(l=x.length+l),M.point(x[l],c,n);case"LineString":return d<0&&(d=x.length+d),M.point(x[d],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d),M.point(x[u][d],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d),M.point(x[l][d],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d),M.point(x[l][u][d],c,n)}throw new Error("geojson is invalid")}},65185:function(ee){ee.exports=function(D){var e=0,M=0,k=0,a=0;return D.map(function(T){var b=(T=T.slice())[0],p=b.toUpperCase();if(b!=p)switch(T[0]=p,b){case"a":T[6]+=k,T[7]+=a;break;case"v":T[1]+=a;break;case"h":T[1]+=k;break;default:for(var s=1;s<T.length;)T[s++]+=k,T[s++]+=a}switch(p){case"Z":k=e,a=M;break;case"H":k=T[1];break;case"V":a=T[1];break;case"M":k=e=T[1],a=M=T[2];break;default:k=T[T.length-2],a=T[T.length-1]}return T})}},21527:function(ee){"use strict";ee.exports=function(D,e){if(!D||null==D.length)throw Error("Argument should be an array");e=null==e?1:Math.floor(e);for(var M=Array(2*e),k=0;k<e;k++){for(var a=-1/0,T=1/0,b=k,p=D.length;b<p;b+=e)D[b]>a&&(a=D[b]),D[b]<T&&(T=D[b]);M[k]=T,M[e+k]=a}return M}},6851:function(ee){"use strict";ee.exports=function(D,e,M){if("function"==typeof Array.prototype.findIndex)return D.findIndex(e,M);if("function"!=typeof e)throw new TypeError("predicate must be a function");var k=Object(D),a=k.length;if(0===a)return-1;for(var T=0;T<a;T++)if(e.call(M,k[T],T,k))return T;return-1}},54:function(ee,D,e){"use strict";var M=e(21527);ee.exports=function(k,a,T){if(!k||null==k.length)throw Error("Argument should be an array");null==a&&(a=1),null==T&&(T=M(k,a));for(var b=0;b<a;b++){var p=T[a+b],s=T[b],t=b,i=k.length;if(p===1/0&&s===-1/0)for(t=b;t<i;t+=a)k[t]=k[t]===p?1:k[t]===s?0:.5;else if(p===1/0)for(t=b;t<i;t+=a)k[t]=k[t]===p?1:0;else if(s===-1/0)for(t=b;t<i;t+=a)k[t]=k[t]===s?0:1;else{var n=p-s;for(t=b;t<i;t+=a)isNaN(k[t])||(k[t]=0===n?.5:(k[t]-s)/n)}}return k}},57471:function(ee){ee.exports=function(D,e){var M="number"==typeof D,k="number"==typeof e;M&&!k?(e=D,D=0):M||k||(D=0,e=0);var a=(e|=0)-(D|=0);if(a<0)throw new Error("array length must be positive");for(var T=new Array(a),b=0,p=D;b<a;b++,p++)T[b]=p;return T}},32791:function(ee,D,e){"use strict";var M=e(90386);function k(z){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(z)}var a,T,b=e(79616).codes,p=b.ERR_AMBIGUOUS_ARGUMENT,s=b.ERR_INVALID_ARG_TYPE,t=b.ERR_INVALID_ARG_VALUE,i=b.ERR_INVALID_RETURN_VALUE,n=b.ERR_MISSING_ARGS,r=e(73894),o=e(43827).inspect,l=e(43827).types,u=l.isPromise,d=l.isRegExp,c=Object.assign?Object.assign:e(73523).assign,x=Object.is?Object.is:e(64003);function g(){var z=e(74061);a=z.isDeepEqual,T=z.isDeepStrictEqual}var h=!1,m=ee.exports=f,y={};function v(z){throw z.message instanceof Error?z.message:new r(z)}function _(z,N,Y,F){if(!Y){var U=!1;if(0===N)U=!0,F="No value argument passed to `assert.ok()`";else if(F instanceof Error)throw F;var V=new r({actual:Y,expected:!0,message:F,operator:"==",stackStartFn:z});throw V.generatedMessage=U,V}}function f(){for(var z=arguments.length,N=new Array(z),Y=0;Y<z;Y++)N[Y]=arguments[Y];_.apply(void 0,[f,N.length].concat(N))}m.fail=function z(N,Y,F,U,V){var te,$=arguments.length;if(0===$?te="Failed":1===$?(F=N,N=void 0):(!1===h&&(h=!0,(M.emitWarning?M.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===$&&(U="!=")),F instanceof Error)throw F;var X={actual:N,expected:Y,operator:void 0===U?"fail":U,stackStartFn:V||z};void 0!==F&&(X.message=F);var W=new r(X);throw te&&(W.message=te,W.generatedMessage=!0),W},m.AssertionError=r,m.ok=f,m.equal=function z(N,Y,F){if(arguments.length<2)throw new n("actual","expected");N!=Y&&v({actual:N,expected:Y,message:F,operator:"==",stackStartFn:z})},m.notEqual=function z(N,Y,F){if(arguments.length<2)throw new n("actual","expected");N==Y&&v({actual:N,expected:Y,message:F,operator:"!=",stackStartFn:z})},m.deepEqual=function z(N,Y,F){if(arguments.length<2)throw new n("actual","expected");void 0===a&&g(),a(N,Y)||v({actual:N,expected:Y,message:F,operator:"deepEqual",stackStartFn:z})},m.notDeepEqual=function z(N,Y,F){if(arguments.length<2)throw new n("actual","expected");void 0===a&&g(),a(N,Y)&&v({actual:N,expected:Y,message:F,operator:"notDeepEqual",stackStartFn:z})},m.deepStrictEqual=function z(N,Y,F){if(arguments.length<2)throw new n("actual","expected");void 0===a&&g(),T(N,Y)||v({actual:N,expected:Y,message:F,operator:"deepStrictEqual",stackStartFn:z})},m.notDeepStrictEqual=function z(N,Y,F){if(arguments.length<2)throw new n("actual","expected");void 0===a&&g(),T(N,Y)&&v({actual:N,expected:Y,message:F,operator:"notDeepStrictEqual",stackStartFn:z})},m.strictEqual=function z(N,Y,F){if(arguments.length<2)throw new n("actual","expected");x(N,Y)||v({actual:N,expected:Y,message:F,operator:"strictEqual",stackStartFn:z})},m.notStrictEqual=function z(N,Y,F){if(arguments.length<2)throw new n("actual","expected");x(N,Y)&&v({actual:N,expected:Y,message:F,operator:"notStrictEqual",stackStartFn:z})};var S=function z(N,Y,F){var U=this;(function(V,te){if(!(V instanceof te))throw new TypeError("Cannot call a class as a function")})(this,z),Y.forEach(function(V){V in N&&(void 0!==F&&"string"==typeof F[V]&&d(N[V])&&N[V].test(F[V])?U[V]=F[V]:U[V]=N[V])})};function w(z,N,Y,F){if("function"!=typeof N){if(d(N))return N.test(z);if(2===arguments.length)throw new s("expected",["Function","RegExp"],N);if("object"!==k(z)||null===z){var U=new r({actual:z,expected:N,message:Y,operator:"deepStrictEqual",stackStartFn:F});throw U.operator=F.name,U}var V=Object.keys(N);if(N instanceof Error)V.push("name","message");else if(0===V.length)throw new t("error",N,"may not be an empty object");return void 0===a&&g(),V.forEach(function(te){"string"==typeof z[te]&&d(N[te])&&N[te].test(z[te])||function($,X,W,J,Q,re){if(!(W in $)||!T($[W],X[W])){if(!J){var ae=new S($,Q),oe=new S(X,Q,$),ue=new r({actual:ae,expected:oe,operator:"deepStrictEqual",stackStartFn:re});throw ue.actual=$,ue.expected=X,ue.operator=re.name,ue}v({actual:$,expected:X,message:J,operator:re.name,stackStartFn:re})}}(z,N,te,Y,V,F)}),!0}return void 0!==N.prototype&&z instanceof N||!Error.isPrototypeOf(N)&&!0===N.call({},z)}function E(z){if("function"!=typeof z)throw new s("fn","Function",z);try{z()}catch(N){return N}return y}function C(z){return u(z)||null!==z&&"object"===k(z)&&"function"==typeof z.then&&"function"==typeof z.catch}function O(z){return Promise.resolve().then(function(){var N;if("function"==typeof z){if(!C(N=z()))throw new i("instance of Promise","promiseFn",N)}else{if(!C(z))throw new s("promiseFn",["Function","Promise"],z);N=z}return Promise.resolve().then(function(){return N}).then(function(){return y}).catch(function(Y){return Y})})}function P(z,N,Y,F){if("string"==typeof Y){if(4===arguments.length)throw new s("error",["Object","Error","Function","RegExp"],Y);if("object"===k(N)&&null!==N){if(N.message===Y)throw new p("error/message",'The error message "'.concat(N.message,'" is identical to the message.'))}else if(N===Y)throw new p("error/message",'The error "'.concat(N,'" is identical to the message.'));F=Y,Y=void 0}else if(null!=Y&&"object"!==k(Y)&&"function"!=typeof Y)throw new s("error",["Object","Error","Function","RegExp"],Y);if(N===y){var U="";Y&&Y.name&&(U+=" (".concat(Y.name,")")),U+=F?": ".concat(F):".";var V="rejects"===z.name?"rejection":"exception";v({actual:void 0,expected:Y,operator:z.name,message:"Missing expected ".concat(V).concat(U),stackStartFn:z})}if(Y&&!w(N,Y,F,z))throw N}function R(z,N,Y,F){if(N!==y){if("string"==typeof Y&&(F=Y,Y=void 0),!Y||w(N,Y)){var U=F?": ".concat(F):".",V="doesNotReject"===z.name?"rejection":"exception";v({actual:N,expected:Y,operator:z.name,message:"Got unwanted ".concat(V).concat(U,"\n")+'Actual message: "'.concat(N&&N.message,'"'),stackStartFn:z})}throw N}}function j(){for(var z=arguments.length,N=new Array(z),Y=0;Y<z;Y++)N[Y]=arguments[Y];_.apply(void 0,[j,N.length].concat(N))}m.throws=function z(N){for(var Y=arguments.length,F=new Array(Y>1?Y-1:0),U=1;U<Y;U++)F[U-1]=arguments[U];P.apply(void 0,[z,E(N)].concat(F))},m.rejects=function z(N){for(var Y=arguments.length,F=new Array(Y>1?Y-1:0),U=1;U<Y;U++)F[U-1]=arguments[U];return O(N).then(function(V){return P.apply(void 0,[z,V].concat(F))})},m.doesNotThrow=function z(N){for(var Y=arguments.length,F=new Array(Y>1?Y-1:0),U=1;U<Y;U++)F[U-1]=arguments[U];R.apply(void 0,[z,E(N)].concat(F))},m.doesNotReject=function z(N){for(var Y=arguments.length,F=new Array(Y>1?Y-1:0),U=1;U<Y;U++)F[U-1]=arguments[U];return O(N).then(function(V){return R.apply(void 0,[z,V].concat(F))})},m.ifError=function z(N){if(null!=N){var Y="ifError got unwanted exception: ";"object"===k(N)&&"string"==typeof N.message?0===N.message.length&&N.constructor?Y+=N.constructor.name:Y+=N.message:Y+=o(N);var F=new r({actual:N,expected:null,operator:"ifError",message:Y,stackStartFn:z}),U=N.stack;if("string"==typeof U){var V=U.split("\n");V.shift();for(var te=F.stack.split("\n"),$=0;$<V.length;$++){var X=te.indexOf(V[$]);if(-1!==X){te=te.slice(0,X);break}}F.stack="".concat(te.join("\n"),"\n").concat(V.join("\n"))}throw F}},m.strict=c(j,m,{equal:m.strictEqual,deepEqual:m.deepStrictEqual,notEqual:m.notStrictEqual,notDeepEqual:m.notDeepStrictEqual}),m.strict.strict=m.strict},73894:function(ee,D,e){"use strict";var M=e(90386);function k(v,_,f){return _ in v?Object.defineProperty(v,_,{value:f,enumerable:!0,configurable:!0,writable:!0}):v[_]=f,v}function a(v,_){for(var f=0;f<_.length;f++){var S=_[f];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}function T(v,_){return!_||"object"!==n(_)&&"function"!=typeof _?b(v):_}function b(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function p(v){var _="function"==typeof Map?new Map:void 0;return p=function(f){if(null===f||(S=f,-1===Function.toString.call(S).indexOf("[native code]")))return f;var S;if("function"!=typeof f)throw new TypeError("Super expression must either be null or a function");if(void 0!==_){if(_.has(f))return _.get(f);_.set(f,w)}function w(){return s(f,arguments,i(this).constructor)}return w.prototype=Object.create(f.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),t(w,f)},p(v)}function s(v,_,f){return(s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(S,w,E){var C=[null];C.push.apply(C,w);var O=new(Function.bind.apply(S,C));return E&&t(O,E.prototype),O}).apply(null,arguments)}function t(v,_){return(t=Object.setPrototypeOf||function(f,S){return f.__proto__=S,f})(v,_)}function i(v){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(v)}function n(v){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}var r=e(43827).inspect,o=e(79616).codes.ERR_INVALID_ARG_TYPE;function l(v,_,f){return(void 0===f||f>v.length)&&(f=v.length),v.substring(f-_.length,f)===_}var u="",d="",c="",x="",g={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function h(v){var _=Object.keys(v),f=Object.create(Object.getPrototypeOf(v));return _.forEach(function(S){f[S]=v[S]}),Object.defineProperty(f,"message",{value:v.message}),f}function m(v){return r(v,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var y=function(v){function _(w){var E;if(function(te,$){if(!(te instanceof $))throw new TypeError("Cannot call a class as a function")}(this,_),"object"!==n(w)||null===w)throw new o("options","Object",w);var C=w.message,O=w.operator,P=w.stackStartFn,R=w.actual,j=w.expected,z=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=C)E=T(this,i(_).call(this,String(C)));else if(M.stderr&&M.stderr.isTTY&&(M.stderr&&M.stderr.getColorDepth&&1!==M.stderr.getColorDepth()?(u="\x1b[34m",d="\x1b[32m",x="\x1b[39m",c="\x1b[31m"):(u="",d="",x="",c="")),"object"===n(R)&&null!==R&&"object"===n(j)&&null!==j&&"stack"in R&&R instanceof Error&&"stack"in j&&j instanceof Error&&(R=h(R),j=h(j)),"deepStrictEqual"===O||"strictEqual"===O)E=T(this,i(_).call(this,function(te,$,X){var W="",J="",Q=0,re="",ae=!1,oe=m(te),ue=oe.split("\n"),ve=m($).split("\n"),be=0,de="";if("strictEqual"===X&&"object"===n(te)&&"object"===n($)&&null!==te&&null!==$&&(X="strictEqualObject"),1===ue.length&&1===ve.length&&ue[0]!==ve[0]){var pe=ue[0].length+ve[0].length;if(pe<=10){if(!("object"===n(te)&&null!==te||"object"===n($)&&null!==$||0===te&&0===$))return"".concat(g[X],"\n\n")+"".concat(ue[0]," !== ").concat(ve[0],"\n")}else if("strictEqualObject"!==X&&pe<(M.stderr&&M.stderr.isTTY?M.stderr.columns:80)){for(;ue[0][be]===ve[0][be];)be++;be>2&&(de="\n  ".concat(function(Ie,fe){if(fe=Math.floor(fe),0==Ie.length||0==fe)return"";var xe=Ie.length*fe;for(fe=Math.floor(Math.log(fe)/Math.log(2));fe;)Ie+=Ie,fe--;return Ie+Ie.substring(0,xe-Ie.length)}(" ",be),"^"),be=0)}}for(var ge=ue[ue.length-1],Ae=ve[ve.length-1];ge===Ae&&(be++<2?re="\n  ".concat(ge).concat(re):W=ge,ue.pop(),ve.pop(),0!==ue.length&&0!==ve.length);)ge=ue[ue.length-1],Ae=ve[ve.length-1];var ye=Math.max(ue.length,ve.length);if(0===ye){var we=oe.split("\n");if(we.length>30)for(we[26]="".concat(u,"...").concat(x);we.length>27;)we.pop();return"".concat(g.notIdentical,"\n\n").concat(we.join("\n"),"\n")}be>3&&(re="\n".concat(u,"...").concat(x).concat(re),ae=!0),""!==W&&(re="\n  ".concat(W).concat(re),W="");var se=0,ie=g[X]+"\n".concat(d,"+ actual").concat(x," ").concat(c,"- expected").concat(x),he=" ".concat(u,"...").concat(x," Lines skipped");for(be=0;be<ye;be++){var Se=be-Q;if(ue.length<be+1)Se>1&&be>2&&(Se>4?(J+="\n".concat(u,"...").concat(x),ae=!0):Se>3&&(J+="\n  ".concat(ve[be-2]),se++),J+="\n  ".concat(ve[be-1]),se++),Q=be,W+="\n".concat(c,"-").concat(x," ").concat(ve[be]),se++;else if(ve.length<be+1)Se>1&&be>2&&(Se>4?(J+="\n".concat(u,"...").concat(x),ae=!0):Se>3&&(J+="\n  ".concat(ue[be-2]),se++),J+="\n  ".concat(ue[be-1]),se++),Q=be,J+="\n".concat(d,"+").concat(x," ").concat(ue[be]),se++;else{var _e=ve[be],Me=ue[be],Ee=Me!==_e&&(!l(Me,",")||Me.slice(0,-1)!==_e);Ee&&l(_e,",")&&_e.slice(0,-1)===Me&&(Ee=!1,Me+=","),Ee?(Se>1&&be>2&&(Se>4?(J+="\n".concat(u,"...").concat(x),ae=!0):Se>3&&(J+="\n  ".concat(ue[be-2]),se++),J+="\n  ".concat(ue[be-1]),se++),Q=be,J+="\n".concat(d,"+").concat(x," ").concat(Me),W+="\n".concat(c,"-").concat(x," ").concat(_e),se+=2):(J+=W,W="",1!==Se&&0!==be||(J+="\n  ".concat(Me),se++))}if(se>20&&be<ye-2)return"".concat(ie).concat(he,"\n").concat(J,"\n").concat(u,"...").concat(x).concat(W,"\n")+"".concat(u,"...").concat(x)}return"".concat(ie).concat(ae?he:"","\n").concat(J).concat(W).concat(re).concat(de)}(R,j,O)));else if("notDeepStrictEqual"===O||"notStrictEqual"===O){var N=g[O],Y=m(R).split("\n");if("notStrictEqual"===O&&"object"===n(R)&&null!==R&&(N=g.notStrictEqualObject),Y.length>30)for(Y[26]="".concat(u,"...").concat(x);Y.length>27;)Y.pop();E=1===Y.length?T(this,i(_).call(this,"".concat(N," ").concat(Y[0]))):T(this,i(_).call(this,"".concat(N,"\n\n").concat(Y.join("\n"),"\n")))}else{var F=m(R),U="",V=g[O];"notDeepEqual"===O||"notEqual"===O?(F="".concat(g[O],"\n\n").concat(F)).length>1024&&(F="".concat(F.slice(0,1021),"...")):(U="".concat(m(j)),F.length>512&&(F="".concat(F.slice(0,509),"...")),U.length>512&&(U="".concat(U.slice(0,509),"...")),"deepEqual"===O||"equal"===O?F="".concat(V,"\n\n").concat(F,"\n\nshould equal\n\n"):U=" ".concat(O," ").concat(U)),E=T(this,i(_).call(this,"".concat(F).concat(U)))}return Error.stackTraceLimit=z,E.generatedMessage=!C,Object.defineProperty(b(E),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),E.code="ERR_ASSERTION",E.actual=R,E.expected=j,E.operator=O,Error.captureStackTrace&&Error.captureStackTrace(b(E),P),E.stack,E.name="AssertionError",T(E)}var f,S;return function(w,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),E&&t(w,E)}(_,v),f=_,S=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:r.custom,value:function(w,E){return r(this,function(C){for(var O=1;O<arguments.length;O++){var P=null!=arguments[O]?arguments[O]:{},R=Object.keys(P);"function"==typeof Object.getOwnPropertySymbols&&(R=R.concat(Object.getOwnPropertySymbols(P).filter(function(j){return Object.getOwnPropertyDescriptor(P,j).enumerable}))),R.forEach(function(j){k(C,j,P[j])})}return C}({},E,{customInspect:!1,depth:0}))}}],S&&a(f.prototype,S),_}(p(Error));ee.exports=y},79616:function(ee,D,e){"use strict";function M(i){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(i)}function k(i){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(i)}function a(i,n){return(a=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(i,n)}var T,b,p={};function s(i,n,r){r||(r=Error);var o=function(l){function u(d,c,x){var g,h,m,y;return function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}(this,u),(g=function(h,m){return!m||"object"!==M(m)&&"function"!=typeof m?function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(h):m}(this,k(u).call(this,(h=d,m=c,y=x,"string"==typeof n?n:n(h,m,y))))).code=i,g}return function(d,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),c&&a(d,c)}(u,l),u}(r);p[i]=o}function t(i,n){if(Array.isArray(i)){var r=i.length;return i=i.map(function(o){return String(o)}),r>2?"one of ".concat(n," ").concat(i.slice(0,r-1).join(", "),", or ")+i[r-1]:2===r?"one of ".concat(n," ").concat(i[0]," or ").concat(i[1]):"of ".concat(n," ").concat(i[0])}return"of ".concat(n," ").concat(String(i))}s("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),s("ERR_INVALID_ARG_TYPE",function(i,n,r){var o,l,u,d,c,g,h,m;if(void 0===T&&(T=e(32791)),T("string"==typeof i,"'name' must be a string"),"string"==typeof n&&(l="not ",n.substr(0,4)===l)?(o="must not be",n=n.replace(/^not /,"")):o="must be",g=i,h=" argument",(void 0===m||m>g.length)&&(m=g.length),g.substring(m-9,m)===h)u="The ".concat(i," ").concat(o," ").concat(t(n,"type"));else{var x=("number"!=typeof c&&(c=0),c+1>(d=i).length||-1===d.indexOf(".",c)?"argument":"property");u='The "'.concat(i,'" ').concat(x," ").concat(o," ").concat(t(n,"type"))}return u+". Received type ".concat(M(r))},TypeError),s("ERR_INVALID_ARG_VALUE",function(i,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===b&&(b=e(43827));var o=b.inspect(n);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(i,"' ").concat(r,". Received ").concat(o)},TypeError,RangeError),s("ERR_INVALID_RETURN_VALUE",function(i,n,r){var o;return o=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(M(r)),"Expected ".concat(i,' to be returned from the "').concat(n,'"')+" function but got ".concat(o,".")},TypeError),s("ERR_MISSING_ARGS",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];void 0===T&&(T=e(32791)),T(n.length>0,"At least one arg needs to be specified");var o="The ",l=n.length;switch(n=n.map(function(u){return'"'.concat(u,'"')}),l){case 1:o+="".concat(n[0]," argument");break;case 2:o+="".concat(n[0]," and ").concat(n[1]," arguments");break;default:o+=n.slice(0,l-1).join(", "),o+=", and ".concat(n[l-1]," arguments")}return"".concat(o," must be specified")},TypeError),ee.exports.codes=p},74061:function(ee,D,e){"use strict";function M(Q,re){return function(ae){if(Array.isArray(ae))return ae}(Q)||function(ae,oe){var ue=[],ve=!0,be=!1,de=void 0;try{for(var pe,ge=ae[Symbol.iterator]();!(ve=(pe=ge.next()).done)&&(ue.push(pe.value),!oe||ue.length!==oe);ve=!0);}catch(Ae){be=!0,de=Ae}finally{try{ve||null==ge.return||ge.return()}finally{if(be)throw de}}return ue}(Q,re)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(Q){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(Q)}var a=void 0!==/a/g.flags,T=function(Q){var re=[];return Q.forEach(function(ae){return re.push(ae)}),re},b=function(Q){var re=[];return Q.forEach(function(ae,oe){return re.push([oe,ae])}),re},p=Object.is?Object.is:e(64003),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(15567);function i(Q){return Q.call.bind(Q)}var n=i(Object.prototype.hasOwnProperty),r=i(Object.prototype.propertyIsEnumerable),o=i(Object.prototype.toString),l=e(43827).types,u=l.isAnyArrayBuffer,d=l.isArrayBufferView,c=l.isDate,x=l.isMap,g=l.isRegExp,h=l.isSet,m=l.isNativeError,y=l.isBoxedPrimitive,v=l.isNumberObject,_=l.isStringObject,f=l.isBooleanObject,S=l.isBigIntObject,w=l.isSymbolObject,E=l.isFloat32Array,C=l.isFloat64Array;function O(Q){if(0===Q.length||Q.length>10)return!0;for(var re=0;re<Q.length;re++){var ae=Q.charCodeAt(re);if(ae<48||ae>57)return!0}return 10===Q.length&&Q>=Math.pow(2,32)}function P(Q){return Object.keys(Q).filter(O).concat(s(Q).filter(Object.prototype.propertyIsEnumerable.bind(Q)))}function R(Q,re){if(Q===re)return 0;for(var ae=Q.length,oe=re.length,ue=0,ve=Math.min(ae,oe);ue<ve;++ue)if(Q[ue]!==re[ue]){ae=Q[ue],oe=re[ue];break}return ae<oe?-1:oe<ae?1:0}var j=0,z=1,N=2,Y=3;function F(Q,re,ae,oe){if(Q===re)return 0!==Q||!ae||p(Q,re);if(ae){if("object"!==k(Q))return"number"==typeof Q&&t(Q)&&t(re);if("object"!==k(re)||null===Q||null===re||Object.getPrototypeOf(Q)!==Object.getPrototypeOf(re))return!1}else{if(null===Q||"object"!==k(Q))return(null===re||"object"!==k(re))&&Q==re;if(null===re||"object"!==k(re))return!1}var ue,ve,be,de,se,ie,pe=o(Q);if(pe!==o(re))return!1;if(Array.isArray(Q)){if(Q.length!==re.length)return!1;var ge=P(Q),Ae=P(re);return ge.length===Ae.length&&V(Q,re,ae,oe,z,ge)}if("[object Object]"===pe&&(!x(Q)&&x(re)||!h(Q)&&h(re)))return!1;if(c(Q)){if(!c(re)||Date.prototype.getTime.call(Q)!==Date.prototype.getTime.call(re))return!1}else if(g(Q)){if(!g(re)||(be=Q,de=re,!(a?be.source===de.source&&be.flags===de.flags:RegExp.prototype.toString.call(be)===RegExp.prototype.toString.call(de))))return!1}else if(m(Q)||Q instanceof Error){if(Q.message!==re.message||Q.name!==re.name)return!1}else{if(d(Q)){if(ae||!E(Q)&&!C(Q)){if(ie=re,(se=Q).byteLength!==ie.byteLength||0!==R(new Uint8Array(se.buffer,se.byteOffset,se.byteLength),new Uint8Array(ie.buffer,ie.byteOffset,ie.byteLength)))return!1}else if(!function(se,ie){if(se.byteLength!==ie.byteLength)return!1;for(var he=0;he<se.byteLength;he++)if(se[he]!==ie[he])return!1;return!0}(Q,re))return!1;var ye=P(Q),we=P(re);return ye.length===we.length&&V(Q,re,ae,oe,j,ye)}if(h(Q))return!(!h(re)||Q.size!==re.size)&&V(Q,re,ae,oe,N);if(x(Q))return!(!x(re)||Q.size!==re.size)&&V(Q,re,ae,oe,Y);if(u(Q)){if(ve=re,(ue=Q).byteLength!==ve.byteLength||0!==R(new Uint8Array(ue),new Uint8Array(ve)))return!1}else if(y(Q)&&!function(se,ie){return v(se)?v(ie)&&p(Number.prototype.valueOf.call(se),Number.prototype.valueOf.call(ie)):_(se)?_(ie)&&String.prototype.valueOf.call(se)===String.prototype.valueOf.call(ie):f(se)?f(ie)&&Boolean.prototype.valueOf.call(se)===Boolean.prototype.valueOf.call(ie):S(se)?S(ie)&&BigInt.prototype.valueOf.call(se)===BigInt.prototype.valueOf.call(ie):w(ie)&&Symbol.prototype.valueOf.call(se)===Symbol.prototype.valueOf.call(ie)}(Q,re))return!1}return V(Q,re,ae,oe,j)}function U(Q,re){return re.filter(function(ae){return r(Q,ae)})}function V(Q,re,ae,oe,ue,ve){if(5===arguments.length){ve=Object.keys(Q);var be=Object.keys(re);if(ve.length!==be.length)return!1}for(var de=0;de<ve.length;de++)if(!n(re,ve[de]))return!1;if(ae&&5===arguments.length){var pe=s(Q);if(0!==pe.length){var ge=0;for(de=0;de<pe.length;de++){var Ae=pe[de];if(r(Q,Ae)){if(!r(re,Ae))return!1;ve.push(Ae),ge++}else if(r(re,Ae))return!1}var ye=s(re);if(pe.length!==ye.length&&U(re,ye).length!==ge)return!1}else{var we=s(re);if(0!==we.length&&0!==U(re,we).length)return!1}}if(0===ve.length&&(ue===j||ue===z&&0===Q.length||0===Q.size))return!0;if(void 0===oe)oe={val1:new Map,val2:new Map,position:0};else{var se=oe.val1.get(Q);if(void 0!==se){var ie=oe.val2.get(re);if(void 0!==ie)return se===ie}oe.position++}oe.val1.set(Q,oe.position),oe.val2.set(re,oe.position);var he=function(Se,_e,Me,Ee,Ie,fe){var xe=0;if(fe===N){if(!function(ze,Ue,Ve,Xe){for(var at=null,st=T(ze),ht=0;ht<st.length;ht++){var bt=st[ht];if("object"===k(bt)&&null!==bt)null===at&&(at=new Set),at.add(bt);else if(!Ue.has(bt)){if(Ve||!X(ze,Ue,bt))return!1;null===at&&(at=new Set),at.add(bt)}}if(null!==at){for(var vt=T(Ue),Qe=0;Qe<vt.length;Qe++){var nt=vt[Qe];if("object"===k(nt)&&null!==nt){if(!te(at,nt,Ve,Xe))return!1}else if(!Ve&&!ze.has(nt)&&!te(at,nt,Ve,Xe))return!1}return 0===at.size}return!0}(Se,_e,Me,Ie))return!1}else if(fe===Y){if(!function(ze,Ue,Ve,Xe){for(var at=null,st=b(ze),ht=0;ht<st.length;ht++){var bt=M(st[ht],2),vt=bt[0],Qe=bt[1];if("object"===k(vt)&&null!==vt)null===at&&(at=new Set),at.add(vt);else{var nt=Ue.get(vt);if(void 0===nt&&!Ue.has(vt)||!F(Qe,nt,Ve,Xe)){if(Ve||!W(ze,Ue,vt,Qe,Xe))return!1;null===at&&(at=new Set),at.add(vt)}}}if(null!==at){for(var wt=b(Ue),Ot=0;Ot<wt.length;Ot++){var Pt=M(wt[Ot],2),St=(vt=Pt[0],Pt[1]);if("object"===k(vt)&&null!==vt){if(!J(at,ze,vt,St,Ve,Xe))return!1}else if(!(Ve||ze.has(vt)&&F(ze.get(vt),St,!1,Xe)||J(at,ze,vt,St,!1,Xe)))return!1}return 0===at.size}return!0}(Se,_e,Me,Ie))return!1}else if(fe===z)for(;xe<Se.length;xe++){if(!n(Se,xe)){if(n(_e,xe))return!1;for(var Te=Object.keys(Se);xe<Te.length;xe++){var Ce=Te[xe];if(!n(_e,Ce)||!F(Se[Ce],_e[Ce],Me,Ie))return!1}return Te.length===Object.keys(_e).length}if(!n(_e,xe)||!F(Se[xe],_e[xe],Me,Ie))return!1}for(xe=0;xe<Ee.length;xe++){var De=Ee[xe];if(!F(Se[De],_e[De],Me,Ie))return!1}return!0}(Q,re,ae,ve,oe,ue);return oe.val1.delete(Q),oe.val2.delete(re),he}function te(Q,re,ae,oe){for(var ue=T(Q),ve=0;ve<ue.length;ve++){var be=ue[ve];if(F(re,be,ae,oe))return Q.delete(be),!0}return!1}function $(Q){switch(k(Q)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Q=+Q;case"number":if(t(Q))return!1}return!0}function X(Q,re,ae){var oe=$(ae);return oe??(re.has(oe)&&!Q.has(oe))}function W(Q,re,ae,oe,ue){var ve=$(ae);if(null!=ve)return ve;var be=re.get(ve);return!(void 0===be&&!re.has(ve)||!F(oe,be,!1,ue))&&!Q.has(ve)&&F(oe,be,!1,ue)}function J(Q,re,ae,oe,ue,ve){for(var be=T(Q),de=0;de<be.length;de++){var pe=be[de];if(F(ae,pe,ue,ve)&&F(oe,re.get(pe),ue,ve))return Q.delete(pe),!0}return!1}ee.exports={isDeepEqual:function(Q,re){return F(Q,re,!1)},isDeepStrictEqual:function(Q,re){return F(Q,re,!0)}}},11631:function(ee,D,e){"use strict";e.r(D),e.d(D,{decode:function(){return b},encode:function(){return T}});for(var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=typeof Uint8Array>"u"?[]:new Uint8Array(256),a=0;a<64;a++)k[M.charCodeAt(a)]=a;var T=function(p){var s,t=new Uint8Array(p),i=t.length,n="";for(s=0;s<i;s+=3)n+=M[t[s]>>2],n+=M[(3&t[s])<<4|t[s+1]>>4],n+=M[(15&t[s+1])<<2|t[s+2]>>6],n+=M[63&t[s+2]];return i%3==2?n=n.substring(0,n.length-1)+"=":i%3==1&&(n=n.substring(0,n.length-2)+"=="),n},b=function(p){var s,t,i,n,r,o=.75*p.length,l=p.length,u=0;"="===p[p.length-1]&&(o--,"="===p[p.length-2]&&o--);var d=new ArrayBuffer(o),c=new Uint8Array(d);for(s=0;s<l;s+=4)t=k[p.charCodeAt(s)],i=k[p.charCodeAt(s+1)],n=k[p.charCodeAt(s+2)],r=k[p.charCodeAt(s+3)],c[u++]=t<<2|i>>4,c[u++]=(15&i)<<4|n>>2,c[u++]=(3&n)<<6|63&r;return d}},95341:function(ee,D){"use strict";D.byteLength=function(s){var t=b(s),i=t[0],n=t[1];return 3*(i+n)/4-n},D.toByteArray=function(s){var t,i,g,n=b(s),r=n[0],o=n[1],l=new k(3*(r+(g=o))/4-g),u=0,d=o>0?r-4:r;for(i=0;i<d;i+=4)t=M[s.charCodeAt(i)]<<18|M[s.charCodeAt(i+1)]<<12|M[s.charCodeAt(i+2)]<<6|M[s.charCodeAt(i+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===o&&(t=M[s.charCodeAt(i)]<<2|M[s.charCodeAt(i+1)]>>4,l[u++]=255&t),1===o&&(t=M[s.charCodeAt(i)]<<10|M[s.charCodeAt(i+1)]<<4|M[s.charCodeAt(i+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},D.fromByteArray=function(s){for(var t,i=s.length,n=i%3,r=[],o=16383,l=0,u=i-n;l<u;l+=o)r.push(p(s,l,l+o>u?u:l+o));return 1===n?(t=s[i-1],r.push(e[t>>2]+e[t<<4&63]+"==")):2===n&&(t=(s[i-2]<<8)+s[i-1],r.push(e[t>>10]+e[t>>4&63]+e[t<<2&63]+"=")),r.join("")};for(var e=[],M=[],k=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0;T<64;++T)e[T]=a[T],M[a.charCodeAt(T)]=T;function b(s){var t=s.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=s.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function p(s,t,i){for(var n,r,o=[],l=t;l<i;l+=3)n=(s[l]<<16&16711680)+(s[l+1]<<8&65280)+(255&s[l+2]),o.push(e[(r=n)>>18&63]+e[r>>12&63]+e[r>>6&63]+e[63&r]);return o.join("")}M["-".charCodeAt(0)]=62,M["_".charCodeAt(0)]=63},91358:function(ee){"use strict";function D(b,p,s,t,i){for(var n=i+1;t<=i;){var r=t+i>>>1,o=b[r];(void 0!==s?s(o,p):o-p)>=0?(n=r,i=r-1):t=r+1}return n}function e(b,p,s,t,i){for(var n=i+1;t<=i;){var r=t+i>>>1,o=b[r];(void 0!==s?s(o,p):o-p)>0?(n=r,i=r-1):t=r+1}return n}function M(b,p,s,t,i){for(var n=t-1;t<=i;){var r=t+i>>>1,o=b[r];(void 0!==s?s(o,p):o-p)<0?(n=r,t=r+1):i=r-1}return n}function k(b,p,s,t,i){for(var n=t-1;t<=i;){var r=t+i>>>1,o=b[r];(void 0!==s?s(o,p):o-p)<=0?(n=r,t=r+1):i=r-1}return n}function a(b,p,s,t,i){for(;t<=i;){var n=t+i>>>1,r=b[n],o=void 0!==s?s(r,p):r-p;if(0===o)return n;o<=0?t=n+1:i=n-1}return-1}function T(b,p,s,t,i,n){return"function"==typeof s?n(b,p,s,void 0===t?0:0|t,void 0===i?b.length-1:0|i):n(b,p,void 0,void 0===s?0:0|s,void 0===t?b.length-1:0|t)}ee.exports={ge:function(b,p,s,t,i){return T(b,p,s,t,i,D)},gt:function(b,p,s,t,i){return T(b,p,s,t,i,e)},lt:function(b,p,s,t,i){return T(b,p,s,t,i,M)},le:function(b,p,s,t,i){return T(b,p,s,t,i,k)},eq:function(b,p,s,t,i){return T(b,p,s,t,i,a)}}},13547:function(ee,D){"use strict";function e(k){var a=32;return(k&=-k)&&a--,65535&k&&(a-=16),16711935&k&&(a-=8),252645135&k&&(a-=4),858993459&k&&(a-=2),1431655765&k&&(a-=1),a}D.INT_BITS=32,D.INT_MAX=2147483647,D.INT_MIN=-2147483648,D.sign=function(k){return(k>0)-(k<0)},D.abs=function(k){var a=k>>31;return(k^a)-a},D.min=function(k,a){return a^(k^a)&-(k<a)},D.max=function(k,a){return k^(k^a)&-(k<a)},D.isPow2=function(k){return!(k&k-1||!k)},D.log2=function(k){var a,T;return a=(k>65535)<<4,a|=T=((k>>>=a)>255)<<3,a|=T=((k>>>=T)>15)<<2,(a|=T=((k>>>=T)>3)<<1)|(k>>>=T)>>1},D.log10=function(k){return k>=1e9?9:k>=1e8?8:k>=1e7?7:k>=1e6?6:k>=1e5?5:k>=1e4?4:k>=1e3?3:k>=100?2:k>=10?1:0},D.popCount=function(k){return 16843009*((k=(858993459&(k-=k>>>1&1431655765))+(k>>>2&858993459))+(k>>>4)&252645135)>>>24},D.countTrailingZeros=e,D.nextPow2=function(k){return k+=0===k,--k,k|=k>>>1,k|=k>>>2,k|=k>>>4,1+((k|=k>>>8)|k>>>16)},D.prevPow2=function(k){return k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,(k|=k>>>16)-(k>>>1)},D.parity=function(k){return k^=k>>>16,k^=k>>>8,k^=k>>>4,27030>>>(k&=15)&1};var M=new Array(256);(function(k){for(var a=0;a<256;++a){var T=a,b=a,p=7;for(T>>>=1;T;T>>>=1)b<<=1,b|=1&T,--p;k[a]=b<<p&255}})(M),D.reverse=function(k){return M[255&k]<<24|M[k>>>8&255]<<16|M[k>>>16&255]<<8|M[k>>>24&255]},D.interleave2=function(k,a){return(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k&=65535)|k<<8))|k<<4))|k<<2))|k<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))<<1},D.deinterleave2=function(k,a){return(k=65535&((k=16711935&((k=252645135&((k=858993459&((k=k>>>a&1431655765)|k>>>1))|k>>>2))|k>>>4))|k>>>16))<<16>>16},D.interleave3=function(k,a,T){return k=1227133513&((k=3272356035&((k=251719695&((k=4278190335&((k&=1023)|k<<16))|k<<8))|k<<4))|k<<2),(k|=(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<1)|(T=1227133513&((T=3272356035&((T=251719695&((T=4278190335&((T&=1023)|T<<16))|T<<8))|T<<4))|T<<2))<<2},D.deinterleave3=function(k,a){return(k=1023&((k=4278190335&((k=251719695&((k=3272356035&((k=k>>>a&1227133513)|k>>>2))|k>>>4))|k>>>8))|k>>>16))<<22>>22},D.nextCombination=function(k){var a=k|k-1;return a+1|(~a&-~a)-1>>>e(k)+1}},44781:function(ee,D,e){"use strict";var M=e(53435);ee.exports=function(b,p){p||(p={});var s,t,i,n,r,o,l,u,d,c,x,g=null==p.cutoff?.25:p.cutoff,h=null==p.radius?8:p.radius,m=p.channel||0;if(ArrayBuffer.isView(b)||Array.isArray(b)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");s=p.width,t=p.height,n=b,o=p.stride?p.stride:Math.floor(b.length/s/t)}else window.HTMLCanvasElement&&b instanceof window.HTMLCanvasElement?(l=(u=b).getContext("2d"),s=u.width,t=u.height,n=(d=l.getImageData(0,0,s,t)).data,o=4):window.CanvasRenderingContext2D&&b instanceof window.CanvasRenderingContext2D?(l=b,s=(u=b.canvas).width,t=u.height,n=(d=l.getImageData(0,0,s,t)).data,o=4):window.ImageData&&b instanceof window.ImageData&&(d=b,s=b.width,t=b.height,n=d.data,o=4);if(i=Math.max(s,t),window.Uint8ClampedArray&&n instanceof window.Uint8ClampedArray||window.Uint8Array&&n instanceof window.Uint8Array)for(r=n,n=Array(s*t),c=0,x=r.length;c<x;c++)n[c]=r[c*o+m]/255;else if(1!==o)throw Error("Raw data can have only 1 value per pixel");var y=Array(s*t),v=Array(s*t),_=Array(i),f=Array(i),S=Array(i+1),w=Array(i);for(c=0,x=s*t;c<x;c++){var E=n[c];y[c]=1===E?0:0===E?k:Math.pow(Math.max(0,.5-E),2),v[c]=1===E?k:0===E?0:Math.pow(Math.max(0,E-.5),2)}a(y,s,t,_,f,w,S),a(v,s,t,_,f,w,S);var C=window.Float32Array?new Float32Array(s*t):new Array(s*t);for(c=0,x=s*t;c<x;c++)C[c]=M(1-((y[c]-v[c])/h+g),0,1);return C};var k=1e20;function a(b,p,s,t,i,n,r){for(var o=0;o<p;o++){for(var l=0;l<s;l++)t[l]=b[l*p+o];for(T(t,i,n,r,s),l=0;l<s;l++)b[l*p+o]=i[l]}for(l=0;l<s;l++){for(o=0;o<p;o++)t[o]=b[l*p+o];for(T(t,i,n,r,p),o=0;o<p;o++)b[l*p+o]=Math.sqrt(i[o])}}function T(b,p,s,t,i){s[0]=0,t[0]=-k,t[1]=+k;for(var n=1,r=0;n<i;n++){for(var o=(b[n]+n*n-(b[s[r]]+s[r]*s[r]))/(2*n-2*s[r]);o<=t[r];)r--,o=(b[n]+n*n-(b[s[r]]+s[r]*s[r]))/(2*n-2*s[r]);s[++r]=n,t[r]=o,t[r+1]=+k}for(n=0,r=0;n<i;n++){for(;t[r+1]<n;)r++;p[n]=(n-s[r])*(n-s[r])+b[s[r]]}}},6614:function(ee,D,e){"use strict";var M=e(68318),k=e(68222),a=k(M("String.prototype.indexOf"));ee.exports=function(T,b){var p=M(T,!!b);return"function"==typeof p&&a(T,".prototype.")>-1?k(p):p}},68222:function(ee,D,e){"use strict";var M=e(77575),k=e(68318),a=k("%Function.prototype.apply%"),T=k("%Function.prototype.call%"),b=k("%Reflect.apply%",!0)||M.call(T,a),p=k("%Object.getOwnPropertyDescriptor%",!0),s=k("%Object.defineProperty%",!0),t=k("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}ee.exports=function(n){var r=b(M,T,arguments);return p&&s&&p(r,"length").configurable&&s(r,"length",{value:1+t(0,n.length-(arguments.length-1))}),r};var i=function(){return b(M,a,arguments)};s?s(ee.exports,"apply",{value:i}):ee.exports.apply=i},53435:function(ee){ee.exports=function(D,e,M){return e<M?D<e?e:D>M?M:D:D<M?M:D>e?e:D}},6475:function(ee,D,e){"use strict";var M=e(53435);function k(a,T){null==T&&(T=!0);var b=a[0],p=a[1],s=a[2],t=a[3];return null==t&&(t=T?1:255),T&&(b*=255,p*=255,s*=255,t*=255),16777216*(b=255&M(b,0,255))+((p=255&M(p,0,255))<<16)+((s=255&M(s,0,255))<<8)+(255&M(t,0,255))}ee.exports=k,ee.exports.to=k,ee.exports.from=function(a,T){var b=(a=+a)>>>24,p=(16711680&a)>>>16,s=(65280&a)>>>8,t=255&a;return!1===T?[b,p,s,t]:[b/255,p/255,s/255,t/255]}},76857:function(ee){"use strict";ee.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(ee,D,e){"use strict";var M=e(36652),k=e(53435),a=e(90660);ee.exports=function(T,b){"float"!==b&&b||(b="array"),"uint"===b&&(b="uint8"),"uint_clamped"===b&&(b="uint8_clamped");var t,p=new(a(b))(4),s="uint8"!==b&&"uint8_clamped"!==b;return T.length&&"string"!=typeof T||((T=M(T))[0]/=255,T[1]/=255,T[2]/=255),(t=T)instanceof Uint8Array||t instanceof Uint8ClampedArray||Array.isArray(t)&&(t[0]>1||0===t[0])&&(t[1]>1||0===t[1])&&(t[2]>1||0===t[2])&&(!t[3]||t[3]>1)?(p[0]=T[0],p[1]=T[1],p[2]=T[2],p[3]=null!=T[3]?T[3]:255,s&&(p[0]/=255,p[1]/=255,p[2]/=255,p[3]/=255),p):(s?(p[0]=T[0],p[1]=T[1],p[2]=T[2],p[3]=null!=T[3]?T[3]:1):(p[0]=k(Math.floor(255*T[0]),0,255),p[1]=k(Math.floor(255*T[1]),0,255),p[2]=k(Math.floor(255*T[2]),0,255),p[3]=null==T[3]?255:k(Math.floor(255*T[3]),0,255)),p)}},90736:function(ee,D,e){"use strict";var M=e(76857),k=e(10973),a=e(46775);ee.exports=function(b){var p,s,t=[],i=1;if("string"==typeof b)if(M[b])t=M[b].slice(),s="rgb";else if("transparent"===b)i=0,s="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(b)){var n=b.slice(1);i=1,(l=n.length)<=4?(t=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],4===l&&(i=parseInt(n[3]+n[3],16)/255)):(t=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],8===l&&(i=parseInt(n[6]+n[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),s="rgb"}else if(p=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(b)){var r=p[1],o="rgb"===r;s=n=r.replace(/a$/,"");var l="cmyk"===n?4:"gray"===n?1:3;t=p[2].trim().split(/\s*,\s*/).map(function(d,c){if(/%$/.test(d))return c===l?parseFloat(d)/100:"rgb"===n?255*parseFloat(d)/100:parseFloat(d);if("h"===n[c]){if(/deg$/.test(d))return parseFloat(d);if(void 0!==T[d])return T[d]}return parseFloat(d)}),r===n&&t.push(1),i=o||void 0===t[l]?1:t[l],t=t.slice(0,l)}else b.length>10&&/[0-9](?:\s|\/)/.test(b)&&(t=b.match(/([0-9]+)/g).map(function(d){return parseFloat(d)}),s=b.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(b))if(k(b)){var u=a(b.r,b.red,b.R,null);null!==u?(s="rgb",t=[u,a(b.g,b.green,b.G),a(b.b,b.blue,b.B)]):(s="hsl",t=[a(b.h,b.hue,b.H),a(b.s,b.saturation,b.S),a(b.l,b.lightness,b.L,b.b,b.brightness)]),i=a(b.a,b.alpha,b.opacity,1),null!=b.opacity&&(i/=100)}else(Array.isArray(b)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(b))&&(t=[b[0],b[1],b[2]],s="rgb",i=4===b.length?b[3]:1);else s="rgb",t=[b>>>16,(65280&b)>>>8,255&b];return{space:s,values:t,alpha:i}};var T={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(ee,D,e){"use strict";var M=e(90736),k=e(80009),a=e(53435);ee.exports=function(T){var b,p=M(T);return p.space?((b=Array(3))[0]=a(p.values[0],0,255),b[1]=a(p.values[1],0,255),b[2]=a(p.values[2],0,255),"h"===p.space[0]&&(b=k.rgb(b)),b.push(a(p.alpha,0,1)),b):[]}},80009:function(ee,D,e){"use strict";var M=e(6866);ee.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(k){var a,T,b,p,s,t=k[0]/360,i=k[1]/100,n=k[2]/100;if(0===i)return[s=255*n,s,s];a=2*n-(T=n<.5?n*(1+i):n+i-n*i),p=[0,0,0];for(var r=0;r<3;r++)(b=t+.3333333333333333*-(r-1))<0?b++:b>1&&b--,s=6*b<1?a+6*(T-a)*b:2*b<1?T:3*b<2?a+(T-a)*(.6666666666666666-b)*6:a,p[r]=255*s;return p}},M.hsl=function(k){var a,T,b=k[0]/255,p=k[1]/255,s=k[2]/255,t=Math.min(b,p,s),i=Math.max(b,p,s),n=i-t;return i===t?a=0:b===i?a=(p-s)/n:p===i?a=2+(s-b)/n:s===i&&(a=4+(b-p)/n),(a=Math.min(60*a,360))<0&&(a+=360),T=(t+i)/2,[a,100*(i===t?0:T<=.5?n/(i+t):n/(2-i-t)),100*T]}},6866:function(ee){"use strict";ee.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(ee){ee.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(ee,D,e){"use strict";ee.exports={parse:e(41004),stringify:e(53313)}},63625:function(ee,D,e){"use strict";var M=e(40402);ee.exports={isSize:function(k){return/^[\d\.]/.test(k)||-1!==k.indexOf("/")||-1!==M.indexOf(k)}}},41004:function(ee,D,e){"use strict";var M=e(90448),k=e(38732),a=e(41901),T=e(15659),b=e(96209),p=e(83794),s=e(99011),t=e(63625).isSize;ee.exports=n;var i=n.cache={};function n(o){if("string"!=typeof o)throw new Error("Font argument must be a string.");if(i[o])return i[o];if(""===o)throw new Error("Cannot parse an empty string.");if(-1!==a.indexOf(o))return i[o]={system:o};for(var l,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},d=s(o,/\s+/);l=d.shift();){if(-1!==k.indexOf(l))return["style","variant","weight","stretch"].forEach(function(x){u[x]=l}),i[o]=u;if(-1===b.indexOf(l))if("normal"!==l&&"small-caps"!==l)if(-1===p.indexOf(l)){if(-1===T.indexOf(l)){if(t(l)){var c=s(l,"/");if(u.size=c[0],null!=c[1]?u.lineHeight=r(c[1]):"/"===d[0]&&(d.shift(),u.lineHeight=r(d.shift())),!d.length)throw new Error("Missing required font-family.");return u.family=s(d.join(" "),/\s*,\s*/).map(M),i[o]=u}throw new Error("Unknown or unsupported font token: "+l)}u.weight=l}else u.stretch=l;else u.variant=l;else u.style=l}throw new Error("Missing required font-size.")}function r(o){var l=parseFloat(o);return l.toString()===o?l:o}},53313:function(ee,D,e){"use strict";var M=e(71299),k=e(63625).isSize,a=o(e(38732)),T=o(e(41901)),b=o(e(15659)),p=o(e(96209)),s=o(e(83794)),t={normal:1,"small-caps":1},i={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},n="serif";function r(l,u){if(l&&!u[l]&&!a[l])throw Error("Unknown keyword `"+l+"`");return l}function o(l){for(var u={},d=0;d<l.length;d++)u[l[d]]=1;return u}ee.exports=function(l){if((l=M(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return l.system&&r(l.system,T),l.system;if(r(l.style,p),r(l.variant,t),r(l.weight,b),r(l.stretch,s),null==l.size&&(l.size="1rem"),"number"==typeof l.size&&(l.size+="px"),!k)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=n),Array.isArray(l.family)&&(l.family.length||(l.family=[n]),l.family=l.family.map(function(d){return i[d]?d:'"'+d+'"'}).join(", "));var u=[];return u.push(l.style),l.variant!==l.style&&u.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&u.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&u.push(l.stretch),u.push(l.size+(null==l.lineHeight||"normal"===l.lineHeight||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),u.push(l.family),u.filter(Boolean).join(" ")}},55174:function(ee,D,e){"use strict";var M,k=e(24582),a=e(10424),T=e(82527),b=e(19012),p=e(21780),s=e(16906),t=Function.prototype.bind,i=Object.defineProperty,n=Object.prototype.hasOwnProperty;M=function(r,o,l){var u,d=a(o)&&T(o.value);return delete(u=b(o)).writable,delete u.value,u.get=function(){return!l.overwriteDefinition&&n.call(this,r)?d:(o.value=t.call(d,l.resolveContext?l.resolveContext(this):this),i(this,r,o),this[r])},u},ee.exports=function(r){var o=p(arguments[1]);return k(o.resolveContext)&&T(o.resolveContext),s(r,function(l,u){return M(u,l,o)})}},62072:function(ee,D,e){"use strict";var M=e(24582),k=e(84985),a=e(95879),T=e(21780),b=e(66741),p=ee.exports=function(s,t){var i,n,r,o,l;return arguments.length<2||"string"!=typeof s?(o=t,t=s,s=null):o=arguments[2],M(s)?(i=b.call(s,"c"),n=b.call(s,"e"),r=b.call(s,"w")):(i=r=!0,n=!1),l={value:t,configurable:i,enumerable:n,writable:r},o?a(T(o),l):l};p.gs=function(s,t,i){var n,r,o,l;return"string"!=typeof s?(o=i,i=t,t=s,s=null):o=arguments[3],M(t)?k(t)?M(i)?k(i)||(o=i,i=void 0):i=void 0:(o=t,t=i=void 0):t=void 0,M(s)?(n=b.call(s,"c"),r=b.call(s,"e")):(n=!0,r=!1),l={get:t,set:i,configurable:n,enumerable:r},o?a(T(o),l):l}},33064:function(ee,D,e){"use strict";function M(o,l){return o<l?-1:o>l?1:o>=l?0:NaN}e.d(D,{j2:function(){return M},Fp:function(){return b},J6:function(){return s},TS:function(){return t},VV:function(){return i},w6:function(){return n},Sm:function(){return r}}),1===(k=M).length&&(a=k,k=function(o,l){return M(a(o),l)});var k,a,T=Array.prototype;function b(o,l){var u,d,c=o.length,x=-1;if(null==l){for(;++x<c;)if(null!=(u=o[x])&&u>=u)for(d=u;++x<c;)null!=(u=o[x])&&u>d&&(d=u)}else for(;++x<c;)if(null!=(u=l(o[x],x,o))&&u>=u)for(d=u;++x<c;)null!=(u=l(o[x],x,o))&&u>d&&(d=u);return d}function p(o){return null===o?NaN:+o}function s(o,l){var u,d=o.length,c=d,x=-1,g=0;if(null==l)for(;++x<d;)isNaN(u=p(o[x]))?--c:g+=u;else for(;++x<d;)isNaN(u=p(l(o[x],x,o)))?--c:g+=u;if(c)return g/c}function t(o){for(var l,u,d,c=o.length,x=-1,g=0;++x<c;)g+=o[x].length;for(u=new Array(g);--c>=0;)for(l=(d=o[c]).length;--l>=0;)u[--g]=d[l];return u}function i(o,l){var u,d,c=o.length,x=-1;if(null==l){for(;++x<c;)if(null!=(u=o[x])&&u>=u)for(d=u;++x<c;)null!=(u=o[x])&&d>u&&(d=u)}else for(;++x<c;)if(null!=(u=l(o[x],x,o))&&u>=u)for(d=u;++x<c;)null!=(u=l(o[x],x,o))&&d>u&&(d=u);return d}function n(o,l,u){o=+o,l=+l,u=(c=arguments.length)<2?(l=o,o=0,1):c<3?1:+u;for(var d=-1,c=0|Math.max(0,Math.ceil((l-o)/u)),x=new Array(c);++d<c;)x[d]=o+d*u;return x}function r(o,l){var u,d=o.length,c=-1,x=0;if(null==l)for(;++c<d;)(u=+o[c])&&(x+=u);else for(;++c<d;)(u=+l(o[c],c,o))&&(x+=u);return x}T.slice,T.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(ee,D,e){"use strict";e.d(D,{UI:function(){return T},b1:function(){return b}});var M="$";function k(){}function a(o,l){var u=new k;if(o instanceof k)o.each(function(h,m){u.set(m,h)});else if(Array.isArray(o)){var d,c=-1,x=o.length;if(null==l)for(;++c<x;)u.set(c,o[c]);else for(;++c<x;)u.set(l(d=o[c],c,o),d)}else if(o)for(var g in o)u.set(g,o[g]);return u}k.prototype=a.prototype={constructor:k,has:function(o){return M+o in this},get:function(o){return this[M+o]},set:function(o,l){return this[M+o]=l,this},remove:function(o){var l=M+o;return l in this&&delete this[l]},clear:function(){for(var o in this)o[0]===M&&delete this[o]},keys:function(){var o=[];for(var l in this)l[0]===M&&o.push(l.slice(1));return o},values:function(){var o=[];for(var l in this)l[0]===M&&o.push(this[l]);return o},entries:function(){var o=[];for(var l in this)l[0]===M&&o.push({key:l.slice(1),value:this[l]});return o},size:function(){var o=0;for(var l in this)l[0]===M&&++o;return o},empty:function(){for(var o in this)if(o[0]===M)return!1;return!0},each:function(o){for(var l in this)l[0]===M&&o(this[l],l.slice(1),this)}};var T=a;function b(){var o,l,u,d=[],c=[];function x(h,m,y,v){if(m>=d.length)return null!=o&&h.sort(o),null!=l?l(h):h;for(var _,f,S,w=-1,E=h.length,C=d[m++],O=T(),P=y();++w<E;)(S=O.get(_=C(f=h[w])+""))?S.push(f):O.set(_,[f]);return O.each(function(R,j){v(P,j,x(R,m,y,v))}),P}function g(h,m){if(++m>d.length)return h;var y,v=c[m-1];return null!=l&&m>=d.length?y=h.entries():(y=[],h.each(function(_,f){y.push({key:f,values:g(_,m)})})),null!=v?y.sort(function(_,f){return v(_.key,f.key)}):y}return u={object:function(h){return x(h,0,p,s)},map:function(h){return x(h,0,t,i)},entries:function(h){return g(x(h,0,t,i),0)},key:function(h){return d.push(h),u},sortKeys:function(h){return c[d.length-1]=h,u},sortValues:function(h){return o=h,u},rollup:function(h){return l=h,u}}}function p(){return{}}function s(o,l,u){o[l]=u}function t(){return T()}function i(o,l,u){o.set(l,u)}function n(){}var r=T.prototype;n.prototype=function(o,l){var u=new n;if(o instanceof n)o.each(function(x){u.add(x)});else if(o){var d=-1,c=o.length;if(null==l)for(;++d<c;)u.add(o[d]);else for(;++d<c;)u.add(l(o[d],d,o))}return u}.prototype={constructor:n,has:r.has,add:function(o){return this[M+(o+="")]=o,this},remove:r.remove,clear:r.clear,values:r.keys,size:r.size,empty:r.empty,each:r.each}},49887:function(ee,D,e){"use strict";function M(pe,ge){var Ae;function ye(){var we,se,ie=Ae.length,he=0,Se=0;for(we=0;we<ie;++we)he+=(se=Ae[we]).x,Se+=se.y;for(he=he/ie-pe,Se=Se/ie-ge,we=0;we<ie;++we)(se=Ae[we]).x-=he,se.y-=Se}return null==pe&&(pe=0),null==ge&&(ge=0),ye.initialize=function(we){Ae=we},ye.x=function(we){return arguments.length?(pe=+we,ye):pe},ye.y=function(we){return arguments.length?(ge=+we,ye):ge},ye}function k(pe){return function(){return pe}}function a(){return 1e-6*(Math.random()-.5)}function T(pe,ge,Ae,ye){if(isNaN(ge)||isNaN(Ae))return pe;var we,se,ie,he,Se,_e,Me,Ee,Ie,fe=pe._root,xe={data:ye},Te=pe._x0,Ce=pe._y0,De=pe._x1,ze=pe._y1;if(!fe)return pe._root=xe,pe;for(;fe.length;)if((_e=ge>=(se=(Te+De)/2))?Te=se:De=se,(Me=Ae>=(ie=(Ce+ze)/2))?Ce=ie:ze=ie,we=fe,!(fe=fe[Ee=Me<<1|_e]))return we[Ee]=xe,pe;if(he=+pe._x.call(null,fe.data),Se=+pe._y.call(null,fe.data),ge===he&&Ae===Se)return xe.next=fe,we?we[Ee]=xe:pe._root=xe,pe;do{we=we?we[Ee]=new Array(4):pe._root=new Array(4),(_e=ge>=(se=(Te+De)/2))?Te=se:De=se,(Me=Ae>=(ie=(Ce+ze)/2))?Ce=ie:ze=ie}while((Ee=Me<<1|_e)==(Ie=(Se>=ie)<<1|he>=se));return we[Ie]=fe,we[Ee]=xe,pe}function b(pe,ge,Ae,ye,we){this.node=pe,this.x0=ge,this.y0=Ae,this.x1=ye,this.y1=we}function p(pe){return pe[0]}function s(pe){return pe[1]}function t(pe,ge,Ae){var ye=new i(ge??p,Ae??s,NaN,NaN,NaN,NaN);return null==pe?ye:ye.addAll(pe)}function i(pe,ge,Ae,ye,we,se){this._x=pe,this._y=ge,this._x0=Ae,this._y0=ye,this._x1=we,this._y1=se,this._root=void 0}function n(pe){for(var ge={data:pe.data},Ae=ge;pe=pe.next;)Ae=Ae.next={data:pe.data};return ge}e.r(D),e.d(D,{forceCenter:function(){return M},forceCollide:function(){return u},forceLink:function(){return g},forceManyBody:function(){return ue},forceRadial:function(){return ve},forceSimulation:function(){return oe},forceX:function(){return be},forceY:function(){return de}});var r=t.prototype=i.prototype;function o(pe){return pe.x+pe.vx}function l(pe){return pe.y+pe.vy}function u(pe){var ge,Ae,ye=1,we=1;function se(){for(var Se,_e,Me,Ee,Ie,fe,xe,Te=ge.length,Ce=0;Ce<we;++Ce)for(_e=t(ge,o,l).visitAfter(ie),Se=0;Se<Te;++Se)Me=ge[Se],fe=Ae[Me.index],xe=fe*fe,Ee=Me.x+Me.vx,Ie=Me.y+Me.vy,_e.visit(De);function De(ze,Ue,Ve,Xe,at){var st=ze.data,ht=ze.r,bt=fe+ht;if(!st)return Ue>Ee+bt||Xe<Ee-bt||Ve>Ie+bt||at<Ie-bt;if(st.index>Me.index){var vt=Ee-st.x-st.vx,Qe=Ie-st.y-st.vy,nt=vt*vt+Qe*Qe;nt<bt*bt&&(0===vt&&(nt+=(vt=a())*vt),0===Qe&&(nt+=(Qe=a())*Qe),nt=(bt-(nt=Math.sqrt(nt)))/nt*ye,Me.vx+=(vt*=nt)*(bt=(ht*=ht)/(xe+ht)),Me.vy+=(Qe*=nt)*bt,st.vx-=vt*(bt=1-bt),st.vy-=Qe*bt)}}}function ie(Se){if(Se.data)return Se.r=Ae[Se.data.index];for(var _e=Se.r=0;_e<4;++_e)Se[_e]&&Se[_e].r>Se.r&&(Se.r=Se[_e].r)}function he(){if(ge){var Se,_e,Me=ge.length;for(Ae=new Array(Me),Se=0;Se<Me;++Se)_e=ge[Se],Ae[_e.index]=+pe(_e,Se,ge)}}return"function"!=typeof pe&&(pe=k(null==pe?1:+pe)),se.initialize=function(Se){ge=Se,he()},se.iterations=function(Se){return arguments.length?(we=+Se,se):we},se.strength=function(Se){return arguments.length?(ye=+Se,se):ye},se.radius=function(Se){return arguments.length?(pe="function"==typeof Se?Se:k(+Se),he(),se):pe},se}r.copy=function(){var pe,ge,Ae=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ye=this._root;if(!ye)return Ae;if(!ye.length)return Ae._root=n(ye),Ae;for(pe=[{source:ye,target:Ae._root=new Array(4)}];ye=pe.pop();)for(var we=0;we<4;++we)(ge=ye.source[we])&&(ge.length?pe.push({source:ge,target:ye.target[we]=new Array(4)}):ye.target[we]=n(ge));return Ae},r.add=function(pe){var ge=+this._x.call(null,pe),Ae=+this._y.call(null,pe);return T(this.cover(ge,Ae),ge,Ae,pe)},r.addAll=function(pe){var ge,Ae,ye,we,se=pe.length,ie=new Array(se),he=new Array(se),Se=1/0,_e=1/0,Me=-1/0,Ee=-1/0;for(Ae=0;Ae<se;++Ae)isNaN(ye=+this._x.call(null,ge=pe[Ae]))||isNaN(we=+this._y.call(null,ge))||(ie[Ae]=ye,he[Ae]=we,ye<Se&&(Se=ye),ye>Me&&(Me=ye),we<_e&&(_e=we),we>Ee&&(Ee=we));if(Se>Me||_e>Ee)return this;for(this.cover(Se,_e).cover(Me,Ee),Ae=0;Ae<se;++Ae)T(this,ie[Ae],he[Ae],pe[Ae]);return this},r.cover=function(pe,ge){if(isNaN(pe=+pe)||isNaN(ge=+ge))return this;var Ae=this._x0,ye=this._y0,we=this._x1,se=this._y1;if(isNaN(Ae))we=(Ae=Math.floor(pe))+1,se=(ye=Math.floor(ge))+1;else{for(var ie,he,Se=we-Ae,_e=this._root;Ae>pe||pe>=we||ye>ge||ge>=se;)switch(he=(ge<ye)<<1|pe<Ae,(ie=new Array(4))[he]=_e,_e=ie,Se*=2,he){case 0:we=Ae+Se,se=ye+Se;break;case 1:Ae=we-Se,se=ye+Se;break;case 2:we=Ae+Se,ye=se-Se;break;case 3:Ae=we-Se,ye=se-Se}this._root&&this._root.length&&(this._root=_e)}return this._x0=Ae,this._y0=ye,this._x1=we,this._y1=se,this},r.data=function(){var pe=[];return this.visit(function(ge){if(!ge.length)do{pe.push(ge.data)}while(ge=ge.next)}),pe},r.extent=function(pe){return arguments.length?this.cover(+pe[0][0],+pe[0][1]).cover(+pe[1][0],+pe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},r.find=function(pe,ge,Ae){var ye,we,se,ie,he,Se,_e,Me=this._x0,Ee=this._y0,Ie=this._x1,fe=this._y1,xe=[],Te=this._root;for(Te&&xe.push(new b(Te,Me,Ee,Ie,fe)),null==Ae?Ae=1/0:(Me=pe-Ae,Ee=ge-Ae,Ie=pe+Ae,fe=ge+Ae,Ae*=Ae);Se=xe.pop();)if(!(!(Te=Se.node)||(we=Se.x0)>Ie||(se=Se.y0)>fe||(ie=Se.x1)<Me||(he=Se.y1)<Ee))if(Te.length){var Ce=(we+ie)/2,De=(se+he)/2;xe.push(new b(Te[3],Ce,De,ie,he),new b(Te[2],we,De,Ce,he),new b(Te[1],Ce,se,ie,De),new b(Te[0],we,se,Ce,De)),(_e=(ge>=De)<<1|pe>=Ce)&&(Se=xe[xe.length-1],xe[xe.length-1]=xe[xe.length-1-_e],xe[xe.length-1-_e]=Se)}else{var ze=pe-+this._x.call(null,Te.data),Ue=ge-+this._y.call(null,Te.data),Ve=ze*ze+Ue*Ue;if(Ve<Ae){var Xe=Math.sqrt(Ae=Ve);Me=pe-Xe,Ee=ge-Xe,Ie=pe+Xe,fe=ge+Xe,ye=Te.data}}return ye},r.remove=function(pe){if(isNaN(se=+this._x.call(null,pe))||isNaN(ie=+this._y.call(null,pe)))return this;var ge,Ae,ye,we,se,ie,he,Se,_e,Me,Ee,Ie,fe=this._root,xe=this._x0,Te=this._y0,Ce=this._x1,De=this._y1;if(!fe)return this;if(fe.length)for(;;){if((_e=se>=(he=(xe+Ce)/2))?xe=he:Ce=he,(Me=ie>=(Se=(Te+De)/2))?Te=Se:De=Se,ge=fe,!(fe=fe[Ee=Me<<1|_e]))return this;if(!fe.length)break;(ge[Ee+1&3]||ge[Ee+2&3]||ge[Ee+3&3])&&(Ae=ge,Ie=Ee)}for(;fe.data!==pe;)if(ye=fe,!(fe=fe.next))return this;return(we=fe.next)&&delete fe.next,ye?(we?ye.next=we:delete ye.next,this):ge?(we?ge[Ee]=we:delete ge[Ee],(fe=ge[0]||ge[1]||ge[2]||ge[3])&&fe===(ge[3]||ge[2]||ge[1]||ge[0])&&!fe.length&&(Ae?Ae[Ie]=fe:this._root=fe),this):(this._root=we,this)},r.removeAll=function(pe){for(var ge=0,Ae=pe.length;ge<Ae;++ge)this.remove(pe[ge]);return this},r.root=function(){return this._root},r.size=function(){var pe=0;return this.visit(function(ge){if(!ge.length)do{++pe}while(ge=ge.next)}),pe},r.visit=function(pe){var ge,Ae,ye,we,se,ie,he=[],Se=this._root;for(Se&&he.push(new b(Se,this._x0,this._y0,this._x1,this._y1));ge=he.pop();)if(!pe(Se=ge.node,ye=ge.x0,we=ge.y0,se=ge.x1,ie=ge.y1)&&Se.length){var _e=(ye+se)/2,Me=(we+ie)/2;(Ae=Se[3])&&he.push(new b(Ae,_e,Me,se,ie)),(Ae=Se[2])&&he.push(new b(Ae,ye,Me,_e,ie)),(Ae=Se[1])&&he.push(new b(Ae,_e,we,se,Me)),(Ae=Se[0])&&he.push(new b(Ae,ye,we,_e,Me))}return this},r.visitAfter=function(pe){var ge,Ae=[],ye=[];for(this._root&&Ae.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));ge=Ae.pop();){var we=ge.node;if(we.length){var se,ie=ge.x0,he=ge.y0,Se=ge.x1,_e=ge.y1,Me=(ie+Se)/2,Ee=(he+_e)/2;(se=we[0])&&Ae.push(new b(se,ie,he,Me,Ee)),(se=we[1])&&Ae.push(new b(se,Me,he,Se,Ee)),(se=we[2])&&Ae.push(new b(se,ie,Ee,Me,_e)),(se=we[3])&&Ae.push(new b(se,Me,Ee,Se,_e))}ye.push(ge)}for(;ge=ye.pop();)pe(ge.node,ge.x0,ge.y0,ge.x1,ge.y1);return this},r.x=function(pe){return arguments.length?(this._x=pe,this):this._x},r.y=function(pe){return arguments.length?(this._y=pe,this):this._y};var d=e(15140);function c(pe){return pe.index}function x(pe,ge){var Ae=pe.get(ge);if(!Ae)throw new Error("missing: "+ge);return Ae}function g(pe){var ge,Ae,ye,we,se,ie=c,he=function(xe){return 1/Math.min(we[xe.source.index],we[xe.target.index])},Se=k(30),_e=1;function Me(xe){for(var Te=0,Ce=pe.length;Te<_e;++Te)for(var De,ze,Ue,Ve,Xe,at,st,ht=0;ht<Ce;++ht)ze=(De=pe[ht]).source,Ve=(Ue=De.target).x+Ue.vx-ze.x-ze.vx||a(),Xe=Ue.y+Ue.vy-ze.y-ze.vy||a(),Ve*=at=((at=Math.sqrt(Ve*Ve+Xe*Xe))-Ae[ht])/at*xe*ge[ht],Xe*=at,Ue.vx-=Ve*(st=se[ht]),Ue.vy-=Xe*st,ze.vx+=Ve*(st=1-st),ze.vy+=Xe*st}function Ee(){if(ye){var xe,Te,Ce=ye.length,De=pe.length,ze=(0,d.UI)(ye,ie);for(xe=0,we=new Array(Ce);xe<De;++xe)(Te=pe[xe]).index=xe,"object"!=typeof Te.source&&(Te.source=x(ze,Te.source)),"object"!=typeof Te.target&&(Te.target=x(ze,Te.target)),we[Te.source.index]=(we[Te.source.index]||0)+1,we[Te.target.index]=(we[Te.target.index]||0)+1;for(xe=0,se=new Array(De);xe<De;++xe)Te=pe[xe],se[xe]=we[Te.source.index]/(we[Te.source.index]+we[Te.target.index]);ge=new Array(De),Ie(),Ae=new Array(De),fe()}}function Ie(){if(ye)for(var xe=0,Te=pe.length;xe<Te;++xe)ge[xe]=+he(pe[xe],xe,pe)}function fe(){if(ye)for(var xe=0,Te=pe.length;xe<Te;++xe)Ae[xe]=+Se(pe[xe],xe,pe)}return null==pe&&(pe=[]),Me.initialize=function(xe){ye=xe,Ee()},Me.links=function(xe){return arguments.length?(pe=xe,Ee(),Me):pe},Me.id=function(xe){return arguments.length?(ie=xe,Me):ie},Me.iterations=function(xe){return arguments.length?(_e=+xe,Me):_e},Me.strength=function(xe){return arguments.length?(he="function"==typeof xe?xe:k(+xe),Ie(),Me):he},Me.distance=function(xe){return arguments.length?(Se="function"==typeof xe?xe:k(+xe),fe(),Me):Se},Me}var h={value:function(){}};function m(){for(var pe,ge=0,Ae=arguments.length,ye={};ge<Ae;++ge){if(!(pe=arguments[ge]+"")||pe in ye||/[\s.]/.test(pe))throw new Error("illegal type: "+pe);ye[pe]=[]}return new y(ye)}function y(pe){this._=pe}function v(pe,ge){for(var Ae,ye=0,we=pe.length;ye<we;++ye)if((Ae=pe[ye]).name===ge)return Ae.value}function _(pe,ge,Ae){for(var ye=0,we=pe.length;ye<we;++ye)if(pe[ye].name===ge){pe[ye]=h,pe=pe.slice(0,ye).concat(pe.slice(ye+1));break}return null!=Ae&&pe.push({name:ge,value:Ae}),pe}y.prototype=m.prototype={constructor:y,on:function(pe,ge){var Ae,ye,we=this._,se=(ye=we,(pe+"").trim().split(/^|\s+/).map(function(Se){var _e="",Me=Se.indexOf(".");if(Me>=0&&(_e=Se.slice(Me+1),Se=Se.slice(0,Me)),Se&&!ye.hasOwnProperty(Se))throw new Error("unknown type: "+Se);return{type:Se,name:_e}})),ie=-1,he=se.length;if(!(arguments.length<2)){if(null!=ge&&"function"!=typeof ge)throw new Error("invalid callback: "+ge);for(;++ie<he;)if(Ae=(pe=se[ie]).type)we[Ae]=_(we[Ae],pe.name,ge);else if(null==ge)for(Ae in we)we[Ae]=_(we[Ae],pe.name,null);return this}for(;++ie<he;)if((Ae=(pe=se[ie]).type)&&(Ae=v(we[Ae],pe.name)))return Ae},copy:function(){var pe={},ge=this._;for(var Ae in ge)pe[Ae]=ge[Ae].slice();return new y(pe)},call:function(pe,ge){if((Ae=arguments.length-2)>0)for(var Ae,ye,we=new Array(Ae),se=0;se<Ae;++se)we[se]=arguments[se+2];if(!this._.hasOwnProperty(pe))throw new Error("unknown type: "+pe);for(se=0,Ae=(ye=this._[pe]).length;se<Ae;++se)ye[se].value.apply(ge,we)},apply:function(pe,ge,Ae){if(!this._.hasOwnProperty(pe))throw new Error("unknown type: "+pe);for(var ye=this._[pe],we=0,se=ye.length;we<se;++we)ye[we].value.apply(ge,Ae)}};var f,S,w=m,E=0,C=0,O=0,P=1e3,R=0,j=0,z=0,N="object"==typeof performance&&performance.now?performance:Date,Y="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(pe){setTimeout(pe,17)};function F(){return j||(Y(U),j=N.now()+z)}function U(){j=0}function V(){this._call=this._time=this._next=null}function te(pe,ge,Ae){var ye=new V;return ye.restart(pe,ge,Ae),ye}function $(){j=(R=N.now())+z,E=C=0;try{!function(){F(),++E;for(var pe,ge=f;ge;)(pe=j-ge._time)>=0&&ge._call.call(null,pe),ge=ge._next;--E}()}finally{E=0,function(){for(var pe,ge,Ae=f,ye=1/0;Ae;)Ae._call?(ye>Ae._time&&(ye=Ae._time),pe=Ae,Ae=Ae._next):(ge=Ae._next,Ae._next=null,Ae=pe?pe._next=ge:f=ge);S=pe,W(ye)}(),j=0}}function X(){var pe=N.now(),ge=pe-R;ge>P&&(z-=ge,R=pe)}function W(pe){E||(C&&(C=clearTimeout(C)),pe-j>24?(pe<1/0&&(C=setTimeout($,pe-N.now()-z)),O&&(O=clearInterval(O))):(O||(R=N.now(),O=setInterval(X,P)),E=1,Y($)))}function J(pe){return pe.x}function Q(pe){return pe.y}V.prototype=te.prototype={constructor:V,restart:function(pe,ge,Ae){if("function"!=typeof pe)throw new TypeError("callback is not a function");Ae=(null==Ae?F():+Ae)+(null==ge?0:+ge),this._next||S===this||(S?S._next=this:f=this,S=this),this._call=pe,this._time=Ae,W()},stop:function(){this._call&&(this._call=null,this._time=1/0,W())}};var re=10,ae=Math.PI*(3-Math.sqrt(5));function oe(pe){var ge,Ae=1,ye=.001,we=1-Math.pow(ye,1/300),se=0,ie=.6,he=(0,d.UI)(),Se=te(Me),_e=w("tick","end");function Me(){Ee(),_e.call("tick",ge),Ae<ye&&(Se.stop(),_e.call("end",ge))}function Ee(xe){var Te,Ce,De=pe.length;void 0===xe&&(xe=1);for(var ze=0;ze<xe;++ze)for(Ae+=(se-Ae)*we,he.each(function(Ue){Ue(Ae)}),Te=0;Te<De;++Te)null==(Ce=pe[Te]).fx?Ce.x+=Ce.vx*=ie:(Ce.x=Ce.fx,Ce.vx=0),null==Ce.fy?Ce.y+=Ce.vy*=ie:(Ce.y=Ce.fy,Ce.vy=0);return ge}function Ie(){for(var xe,Te=0,Ce=pe.length;Te<Ce;++Te){if((xe=pe[Te]).index=Te,null!=xe.fx&&(xe.x=xe.fx),null!=xe.fy&&(xe.y=xe.fy),isNaN(xe.x)||isNaN(xe.y)){var De=re*Math.sqrt(Te),ze=Te*ae;xe.x=De*Math.cos(ze),xe.y=De*Math.sin(ze)}(isNaN(xe.vx)||isNaN(xe.vy))&&(xe.vx=xe.vy=0)}}function fe(xe){return xe.initialize&&xe.initialize(pe),xe}return null==pe&&(pe=[]),Ie(),ge={tick:Ee,restart:function(){return Se.restart(Me),ge},stop:function(){return Se.stop(),ge},nodes:function(xe){return arguments.length?(pe=xe,Ie(),he.each(fe),ge):pe},alpha:function(xe){return arguments.length?(Ae=+xe,ge):Ae},alphaMin:function(xe){return arguments.length?(ye=+xe,ge):ye},alphaDecay:function(xe){return arguments.length?(we=+xe,ge):+we},alphaTarget:function(xe){return arguments.length?(se=+xe,ge):se},velocityDecay:function(xe){return arguments.length?(ie=1-xe,ge):1-ie},force:function(xe,Te){return arguments.length>1?(null==Te?he.remove(xe):he.set(xe,fe(Te)),ge):he.get(xe)},find:function(xe,Te,Ce){var De,ze,Ue,Ve,Xe,at=0,st=pe.length;for(null==Ce?Ce=1/0:Ce*=Ce,at=0;at<st;++at)(Ue=(De=xe-(Ve=pe[at]).x)*De+(ze=Te-Ve.y)*ze)<Ce&&(Xe=Ve,Ce=Ue);return Xe},on:function(xe,Te){return arguments.length>1?(_e.on(xe,Te),ge):_e.on(xe)}}}function ue(){var pe,ge,Ae,ye,we=k(-30),se=1,ie=1/0,he=.81;function Se(Ie){var fe,xe=pe.length,Te=t(pe,J,Q).visitAfter(Me);for(Ae=Ie,fe=0;fe<xe;++fe)ge=pe[fe],Te.visit(Ee)}function _e(){if(pe){var Ie,fe,xe=pe.length;for(ye=new Array(xe),Ie=0;Ie<xe;++Ie)fe=pe[Ie],ye[fe.index]=+we(fe,Ie,pe)}}function Me(Ie){var fe,xe,Te,Ce,De,ze=0,Ue=0;if(Ie.length){for(Te=Ce=De=0;De<4;++De)(fe=Ie[De])&&(xe=Math.abs(fe.value))&&(ze+=fe.value,Ue+=xe,Te+=xe*fe.x,Ce+=xe*fe.y);Ie.x=Te/Ue,Ie.y=Ce/Ue}else{(fe=Ie).x=fe.data.x,fe.y=fe.data.y;do{ze+=ye[fe.data.index]}while(fe=fe.next)}Ie.value=ze}function Ee(Ie,fe,xe,Te){if(!Ie.value)return!0;var Ce=Ie.x-ge.x,De=Ie.y-ge.y,ze=Te-fe,Ue=Ce*Ce+De*De;if(ze*ze/he<Ue)return Ue<ie&&(0===Ce&&(Ue+=(Ce=a())*Ce),0===De&&(Ue+=(De=a())*De),Ue<se&&(Ue=Math.sqrt(se*Ue)),ge.vx+=Ce*Ie.value*Ae/Ue,ge.vy+=De*Ie.value*Ae/Ue),!0;if(!(Ie.length||Ue>=ie)){(Ie.data!==ge||Ie.next)&&(0===Ce&&(Ue+=(Ce=a())*Ce),0===De&&(Ue+=(De=a())*De),Ue<se&&(Ue=Math.sqrt(se*Ue)));do{Ie.data!==ge&&(ze=ye[Ie.data.index]*Ae/Ue,ge.vx+=Ce*ze,ge.vy+=De*ze)}while(Ie=Ie.next)}}return Se.initialize=function(Ie){pe=Ie,_e()},Se.strength=function(Ie){return arguments.length?(we="function"==typeof Ie?Ie:k(+Ie),_e(),Se):we},Se.distanceMin=function(Ie){return arguments.length?(se=Ie*Ie,Se):Math.sqrt(se)},Se.distanceMax=function(Ie){return arguments.length?(ie=Ie*Ie,Se):Math.sqrt(ie)},Se.theta=function(Ie){return arguments.length?(he=Ie*Ie,Se):Math.sqrt(he)},Se}function ve(pe,ge,Ae){var ye,we,se,ie=k(.1);function he(_e){for(var Me=0,Ee=ye.length;Me<Ee;++Me){var Ie=ye[Me],fe=Ie.x-ge||1e-6,xe=Ie.y-Ae||1e-6,Te=Math.sqrt(fe*fe+xe*xe),Ce=(se[Me]-Te)*we[Me]*_e/Te;Ie.vx+=fe*Ce,Ie.vy+=xe*Ce}}function Se(){if(ye){var _e,Me=ye.length;for(we=new Array(Me),se=new Array(Me),_e=0;_e<Me;++_e)se[_e]=+pe(ye[_e],_e,ye),we[_e]=isNaN(se[_e])?0:+ie(ye[_e],_e,ye)}}return"function"!=typeof pe&&(pe=k(+pe)),null==ge&&(ge=0),null==Ae&&(Ae=0),he.initialize=function(_e){ye=_e,Se()},he.strength=function(_e){return arguments.length?(ie="function"==typeof _e?_e:k(+_e),Se(),he):ie},he.radius=function(_e){return arguments.length?(pe="function"==typeof _e?_e:k(+_e),Se(),he):pe},he.x=function(_e){return arguments.length?(ge=+_e,he):ge},he.y=function(_e){return arguments.length?(Ae=+_e,he):Ae},he}function be(pe){var ge,Ae,ye,we=k(.1);function se(he){for(var Se,_e=0,Me=ge.length;_e<Me;++_e)(Se=ge[_e]).vx+=(ye[_e]-Se.x)*Ae[_e]*he}function ie(){if(ge){var he,Se=ge.length;for(Ae=new Array(Se),ye=new Array(Se),he=0;he<Se;++he)Ae[he]=isNaN(ye[he]=+pe(ge[he],he,ge))?0:+we(ge[he],he,ge)}}return"function"!=typeof pe&&(pe=k(null==pe?0:+pe)),se.initialize=function(he){ge=he,ie()},se.strength=function(he){return arguments.length?(we="function"==typeof he?he:k(+he),ie(),se):we},se.x=function(he){return arguments.length?(pe="function"==typeof he?he:k(+he),ie(),se):pe},se}function de(pe){var ge,Ae,ye,we=k(.1);function se(he){for(var Se,_e=0,Me=ge.length;_e<Me;++_e)(Se=ge[_e]).vy+=(ye[_e]-Se.y)*Ae[_e]*he}function ie(){if(ge){var he,Se=ge.length;for(Ae=new Array(Se),ye=new Array(Se),he=0;he<Se;++he)Ae[he]=isNaN(ye[he]=+pe(ge[he],he,ge))?0:+we(ge[he],he,ge)}}return"function"!=typeof pe&&(pe=k(null==pe?0:+pe)),se.initialize=function(he){ge=he,ie()},se.strength=function(he){return arguments.length?(we="function"==typeof he?he:k(+he),ie(),se):we},se.y=function(he){return arguments.length?(pe="function"==typeof he?he:k(+he),ie(),se):pe},se}},60721:function(ee,D,e){"use strict";function M(u,d){if((c=(u=d?u.toExponential(d-1):u.toExponential()).indexOf("e"))<0)return null;var c,x=u.slice(0,c);return[x.length>1?x[0]+x.slice(2):x,+u.slice(c+1)]}e.d(D,{WU:function(){return n},FF:function(){return l}});var k,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function T(u){if(!(d=a.exec(u)))throw new Error("invalid format: "+u);var d;return new b({fill:d[1],align:d[2],sign:d[3],symbol:d[4],zero:d[5],width:d[6],comma:d[7],precision:d[8]&&d[8].slice(1),trim:d[9],type:d[10]})}function b(u){this.fill=void 0===u.fill?" ":u.fill+"",this.align=void 0===u.align?">":u.align+"",this.sign=void 0===u.sign?"-":u.sign+"",this.symbol=void 0===u.symbol?"":u.symbol+"",this.zero=!!u.zero,this.width=void 0===u.width?void 0:+u.width,this.comma=!!u.comma,this.precision=void 0===u.precision?void 0:+u.precision,this.trim=!!u.trim,this.type=void 0===u.type?"":u.type+""}function p(u,d){var c=M(u,d);if(!c)return u+"";var x=c[0],g=c[1];return g<0?"0."+new Array(-g).join("0")+x:x.length>g+1?x.slice(0,g+1)+"."+x.slice(g+1):x+new Array(g-x.length+2).join("0")}T.prototype=b.prototype,b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":function(u,d){return(100*u).toFixed(d)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,d){return u.toExponential(d)},f:function(u,d){return u.toFixed(d)},g:function(u,d){return u.toPrecision(d)},o:function(u){return Math.round(u).toString(8)},p:function(u,d){return p(100*u,d)},r:p,s:function(u,d){var c=M(u,d);if(!c)return u+"";var x=c[0],g=c[1],h=g-(k=3*Math.max(-8,Math.min(8,Math.floor(g/3))))+1,m=x.length;return h===m?x:h>m?x+new Array(h-m+1).join("0"):h>0?x.slice(0,h)+"."+x.slice(h):"0."+new Array(1-h).join("0")+M(u,Math.max(0,d+h-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function t(u){return u}var i,n,r=Array.prototype.map,o=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function l(u){var d,c,w,x=void 0===u.grouping||void 0===u.thousands?t:(d=r.call(u.grouping,Number),c=u.thousands+"",function(w,E){for(var C=w.length,O=[],P=0,R=d[0],j=0;C>0&&R>0&&(j+R+1>E&&(R=Math.max(1,E-j)),O.push(w.substring(C-=R,C+R)),!((j+=R+1)>E));)R=d[P=(P+1)%d.length];return O.reverse().join(c)}),g=void 0===u.currency?"":u.currency[0]+"",h=void 0===u.currency?"":u.currency[1]+"",m=void 0===u.decimal?".":u.decimal+"",y=void 0===u.numerals?t:(w=r.call(u.numerals,String),function(E){return E.replace(/[0-9]/g,function(C){return w[+C]})}),v=void 0===u.percent?"%":u.percent+"",_=void 0===u.minus?"-":u.minus+"",f=void 0===u.nan?"NaN":u.nan+"";function S(w){var E=(w=T(w)).fill,C=w.align,O=w.sign,P=w.symbol,R=w.zero,j=w.width,z=w.comma,N=w.precision,Y=w.trim,F=w.type;"n"===F?(z=!0,F="g"):s[F]||(void 0===N&&(N=12),Y=!0,F="g"),(R||"0"===E&&"="===C)&&(R=!0,E="0",C="=");var U="$"===P?g:"#"===P&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",V="$"===P?h:/[%p]/.test(F)?v:"",te=s[F],$=/[defgprs%]/.test(F);function X(W){var J,Q,re,ae=U,oe=V;if("c"===F)oe=te(W)+oe,W="";else{var ue=(W=+W)<0||1/W<0;if(W=isNaN(W)?f:te(Math.abs(W),N),Y&&(W=function(de){e:for(var pe,ge=de.length,Ae=1,ye=-1;Ae<ge;++Ae)switch(de[Ae]){case".":ye=pe=Ae;break;case"0":0===ye&&(ye=Ae),pe=Ae;break;default:if(!+de[Ae])break e;ye>0&&(ye=0)}return ye>0?de.slice(0,ye)+de.slice(pe+1):de}(W)),ue&&0==+W&&"+"!==O&&(ue=!1),ae=(ue?"("===O?O:_:"-"===O||"("===O?"":O)+ae,oe=("s"===F?o[8+k/3]:"")+oe+(ue&&"("===O?")":""),$)for(J=-1,Q=W.length;++J<Q;)if(48>(re=W.charCodeAt(J))||re>57){oe=(46===re?m+W.slice(J+1):W.slice(J))+oe,W=W.slice(0,J);break}}z&&!R&&(W=x(W,1/0));var ve=ae.length+W.length+oe.length,be=ve<j?new Array(j-ve+1).join(E):"";switch(z&&R&&(W=x(be+W,be.length?j-oe.length:1/0),be=""),C){case"<":W=ae+W+oe+be;break;case"=":W=ae+be+W+oe;break;case"^":W=be.slice(0,ve=be.length>>1)+ae+W+oe+be.slice(ve);break;default:W=be+ae+W+oe}return y(W)}return N=void 0===N?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N)),X.toString=function(){return w+""},X}return{format:S,formatPrefix:function(w,E){var C,O=S(((w=T(w)).type="f",w)),P=3*Math.max(-8,Math.min(8,Math.floor((C=E,((C=M(Math.abs(C)))?C[1]:NaN)/3)))),R=Math.pow(10,-P),j=o[8+P/3];return function(z){return O(R*z)+j}}}}i=l({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),n=i.format,i.formatPrefix},65704:function(ee,D,e){"use strict";e.r(D),e.d(D,{geoAiry:function(){return z},geoAiryRaw:function(){return j},geoAitoff:function(){return Y},geoAitoffRaw:function(){return N},geoArmadillo:function(){return U},geoArmadilloRaw:function(){return F},geoAugust:function(){return te},geoAugustRaw:function(){return V},geoBaker:function(){return J},geoBakerRaw:function(){return W},geoBerghaus:function(){return ae},geoBerghausRaw:function(){return re},geoBertin1953:function(){return Ae},geoBertin1953Raw:function(){return ge},geoBoggs:function(){return Me},geoBoggsRaw:function(){return _e},geoBonne:function(){return Te},geoBonneRaw:function(){return xe},geoBottomley:function(){return De},geoBottomleyRaw:function(){return Ce},geoBromley:function(){return Ue},geoBromleyRaw:function(){return ze},geoChamberlin:function(){return nt},geoChamberlinAfrica:function(){return Qe},geoChamberlinRaw:function(){return bt},geoCollignon:function(){return Ot},geoCollignonRaw:function(){return wt},geoCraig:function(){return St},geoCraigRaw:function(){return Pt},geoCraster:function(){return Ne},geoCrasterRaw:function(){return Ze},geoCylindricalEqualArea:function(){return rt},geoCylindricalEqualAreaRaw:function(){return Ge},geoCylindricalStereographic:function(){return Re},geoCylindricalStereographicRaw:function(){return tt},geoEckert1:function(){return et},geoEckert1Raw:function(){return Fe},geoEckert2:function(){return ct},geoEckert2Raw:function(){return We},geoEckert3:function(){return dt},geoEckert3Raw:function(){return pt},geoEckert4:function(){return kt},geoEckert4Raw:function(){return ut},geoEckert5:function(){return gt},geoEckert5Raw:function(){return yt},geoEckert6:function(){return Lt},geoEckert6Raw:function(){return At},geoEisenlohr:function(){return Qt},geoEisenlohrRaw:function(){return qt},geoFahey:function(){return en},geoFaheyRaw:function(){return Ft},geoFoucaut:function(){return kn},geoFoucautRaw:function(){return wn},geoFoucautSinusoidal:function(){return Ht},geoFoucautSinusoidalRaw:function(){return on},geoGilbert:function(){return _n},geoGingery:function(){return On},geoGingeryRaw:function(){return mn},geoGinzburg4:function(){return or},geoGinzburg4Raw:function(){return er},geoGinzburg5:function(){return qn},geoGinzburg5Raw:function(){return $n},geoGinzburg6:function(){return Nt},geoGinzburg6Raw:function(){return cr},geoGinzburg8:function(){return un},geoGinzburg8Raw:function(){return Jt},geoGinzburg9:function(){return Mn},geoGinzburg9Raw:function(){return fn},geoGringorten:function(){return Rn},geoGringortenQuincuncial:function(){return aa},geoGringortenRaw:function(){return In},geoGuyou:function(){return Ct},geoGuyouRaw:function(){return gn},geoHammer:function(){return be},geoHammerRaw:function(){return ue},geoHammerRetroazimuthal:function(){return yn},geoHammerRetroazimuthalRaw:function(){return $t},geoHealpix:function(){return Vn},geoHealpixRaw:function(){return sn},geoHill:function(){return Xn},geoHillRaw:function(){return Un},geoHomolosine:function(){return fr},geoHomolosineRaw:function(){return hr},geoHufnagel:function(){return tr},geoHufnagelRaw:function(){return wr},geoHyperelliptical:function(){return ii},geoHyperellipticalRaw:function(){return Ir},geoInterrupt:function(){return ti},geoInterruptedBoggs:function(){return ra},geoInterruptedHomolosine:function(){return Ro},geoInterruptedMollweide:function(){return ds},geoInterruptedMollweideHemispheres:function(){return Is},geoInterruptedQuarticAuthalic:function(){return Tl},geoInterruptedSinuMollweide:function(){return zs},geoInterruptedSinusoidal:function(){return Rs},geoKavrayskiy7:function(){return mo},geoKavrayskiy7Raw:function(){return no},geoLagrange:function(){return hi},geoLagrangeRaw:function(){return Fo},geoLarrivee:function(){return Ga},geoLarriveeRaw:function(){return ro},geoLaskowski:function(){return yo},geoLaskowskiRaw:function(){return Ia},geoLittrow:function(){return xo},geoLittrowRaw:function(){return Za},geoLoximuthal:function(){return bo},geoLoximuthalRaw:function(){return io},geoMiller:function(){return Js},geoMillerRaw:function(){return Ya},geoModifiedStereographic:function(){return Uo},geoModifiedStereographicAlaska:function(){return bl},geoModifiedStereographicGs48:function(){return _l},geoModifiedStereographicGs50:function(){return jo},geoModifiedStereographicLee:function(){return $o},geoModifiedStereographicMiller:function(){return Wa},geoModifiedStereographicRaw:function(){return Fs},geoMollweide:function(){return ie},geoMollweideRaw:function(){return se},geoMtFlatPolarParabolic:function(){return Ks},geoMtFlatPolarParabolicRaw:function(){return za},geoMtFlatPolarQuartic:function(){return ao},geoMtFlatPolarQuarticRaw:function(){return _o},geoMtFlatPolarSinusoidal:function(){return wo},geoMtFlatPolarSinusoidalRaw:function(){return oo},geoNaturalEarth:function(){return jr.Z},geoNaturalEarth2:function(){return wl},geoNaturalEarth2Raw:function(){return Qo},geoNaturalEarthRaw:function(){return jr.K},geoNellHammer:function(){return es},geoNellHammerRaw:function(){return Bs},geoNicolosi:function(){return kl},geoNicolosiRaw:function(){return Ns},geoPatterson:function(){return cl},geoPattersonRaw:function(){return Us},geoPeirceQuincuncial:function(){return Wo},geoPierceQuincuncial:function(){return Wo},geoPolyconic:function(){return qo},geoPolyconicRaw:function(){return ns},geoPolyhedral:function(){return $r},geoPolyhedralButterfly:function(){return is},geoPolyhedralCollignon:function(){return bs},geoPolyhedralWaterman:function(){return _s},geoProject:function(){return ws},geoQuantize:function(){return lo},geoQuincuncial:function(){return So},geoRectangularPolyconic:function(){return Sa},geoRectangularPolyconicRaw:function(){return Ma},geoRobinson:function(){return br},geoRobinsonRaw:function(){return Ba},geoSatellite:function(){return $s},geoSatelliteRaw:function(){return Ts},geoSinuMollweide:function(){return ir},geoSinuMollweideRaw:function(){return ar},geoSinusoidal:function(){return fe},geoSinusoidalRaw:function(){return Ie},geoStitch:function(){return Hi},geoTimes:function(){return Ka},geoTimesRaw:function(){return oa},geoTwoPointAzimuthal:function(){return la},geoTwoPointAzimuthalRaw:function(){return os},geoTwoPointAzimuthalUsa:function(){return ss},geoTwoPointEquidistant:function(){return Jo},geoTwoPointEquidistantRaw:function(){return Ur},geoTwoPointEquidistantUsa:function(){return $a},geoVanDerGrinten:function(){return ls},geoVanDerGrinten2:function(){return Ua},geoVanDerGrinten2Raw:function(){return us},geoVanDerGrinten3:function(){return Ko},geoVanDerGrinten3Raw:function(){return li},geoVanDerGrinten4:function(){return Cr},geoVanDerGrinten4Raw:function(){return Tr},geoVanDerGrintenRaw:function(){return ja},geoWagner:function(){return Qa},geoWagner4:function(){return fl},geoWagner4Raw:function(){return Qr},geoWagner6:function(){return ni},geoWagner6Raw:function(){return _a},geoWagner7:function(){return fo},geoWagnerRaw:function(){return ba},geoWiechel:function(){return pa},geoWiechelRaw:function(){return pi},geoWinkel3:function(){return Qs},geoWinkel3Raw:function(){return Po}});var M=e(15002),k=Math.abs,a=Math.atan,T=Math.atan2,b=Math.cos,p=Math.exp,s=Math.floor,t=Math.log,i=Math.max,n=Math.min,r=Math.pow,o=Math.round,l=Math.sign||function(Ye){return Ye>0?1:Ye<0?-1:0},u=Math.sin,d=Math.tan,c=1e-6,x=1e-12,g=Math.PI,h=g/2,m=g/4,y=Math.SQRT1_2,v=O(2),_=O(g),f=2*g,S=180/g,w=g/180;function E(Ye){return Ye>1?h:Ye<-1?-h:Math.asin(Ye)}function C(Ye){return Ye>1?0:Ye<-1?g:Math.acos(Ye)}function O(Ye){return Ye>0?Math.sqrt(Ye):0}function P(Ye){return(p(Ye)-p(-Ye))/2}function R(Ye){return(p(Ye)+p(-Ye))/2}function j(Ye){var Ke=d(Ye/2),it=2*t(b(Ye/2))/(Ke*Ke);function B(G,q){var L=b(G),H=b(q),K=u(q),ne=H*L,ce=-((1-ne?t((1+ne)/2)/(1-ne):-.5)+it/(1+ne));return[ce*H*u(G),ce*K]}return B.invert=function(G,q){var L,H=O(G*G+q*q),K=-Ye/2,ne=50;if(!H)return[0,0];do{var ce=K/2,me=b(ce),Le=u(ce),Pe=Le/me,je=-t(k(me));K-=L=(2/Pe*je-it*Pe-H)/(-je/(Le*Le)+1-it/(2*me*me))*(me<0?.7:1)}while(k(L)>c&&--ne>0);var He=u(K);return[T(G*He,H*b(K)),E(q*He/H)]},B}function z(){var Ye=h,Ke=(0,M.r)(j),it=Ke(Ye);return it.radius=function(B){return arguments.length?Ke(Ye=B*w):Ye*S},it.scale(179.976).clipAngle(147)}function N(Ye,Ke){var G,it=b(Ke),B=(G=C(it*b(Ye/=2)))?G/Math.sin(G):1;return[2*it*u(Ye)*B,u(Ke)*B]}function Y(){return(0,M.Z)(N).scale(152.63)}function F(Ye){var Ke=u(Ye),it=b(Ye),B=Ye>=0?1:-1,G=d(B*Ye),q=(1+Ke-it)/2;function L(H,K){var ne=b(K),ce=b(H/=2);return[(1+ne)*u(H),(B*K>-T(ce,G)-.001?0:10*-B)+q+u(K)*it-(1+ne)*Ke*ce]}return L.invert=function(H,K){var ne=0,ce=0,me=50;do{var Le=b(ne),Pe=u(ne),je=b(ce),He=u(ce),$e=1+je,lt=$e*Pe-H,ft=q+He*it-$e*Ke*Le-K,xt=$e*Le/2,Mt=-Pe*He,Tt=Ke*$e*Pe/2,Dt=it*je+Ke*Le*He,Et=Mt*Tt-Dt*xt,Gt=(ft*Mt-lt*Dt)/Et/2,Ut=(lt*Tt-ft*xt)/Et;k(Ut)>2&&(Ut/=2),ne-=Gt,ce-=Ut}while((k(Gt)>c||k(Ut)>c)&&--me>0);return B*ce>-T(b(ne),G)-.001?[2*ne,ce]:null},L}function U(){var Ye=20*w,Ke=Ye>=0?1:-1,it=d(Ke*Ye),B=(0,M.r)(F),G=B(Ye),q=G.stream;return G.parallel=function(L){return arguments.length?(it=d((Ke=(Ye=L*w)>=0?1:-1)*Ye),B(Ye)):Ye*S},G.stream=function(L){var H=G.rotate(),K=q(L),ne=(G.rotate([0,0]),q(L)),ce=G.precision();return G.rotate(H),K.sphere=function(){ne.polygonStart(),ne.lineStart();for(var me=-180*Ke;Ke*me<180;me+=90*Ke)ne.point(me,90*Ke);if(Ye)for(;Ke*(me-=3*Ke*ce)>=-180;)ne.point(me,Ke*-T(b(me*w/2),it)*S);ne.lineEnd(),ne.polygonEnd()},K},G.scale(218.695).center([0,28.0974])}function V(Ye,Ke){var it=d(Ke/2),B=O(1-it*it),G=1+B*b(Ye/=2),q=u(Ye)*B/G,L=it/G,H=q*q,K=L*L;return[1.3333333333333333*q*(3+H-3*K),1.3333333333333333*L*(3+3*H-K)]}function te(){return(0,M.Z)(V).scale(66.1603)}N.invert=function(Ye,Ke){if(!(Ye*Ye+4*Ke*Ke>g*g+c)){var it=Ye,B=Ke,G=25;do{var q,L=u(it),H=u(it/2),K=b(it/2),ne=u(B),ce=b(B),me=u(2*B),Le=ne*ne,Pe=ce*ce,je=H*H,He=1-Pe*K*K,$e=He?C(ce*K)*O(q=1/He):q=0,lt=2*$e*ce*H-Ye,ft=$e*ne-Ke,xt=q*(Pe*je+$e*ce*K*Le),Mt=q*(.5*L*me-2*$e*ne*H),Tt=.25*q*(me*H-$e*ne*Pe*L),Dt=q*(Le*K+$e*je*ce),Et=Mt*Tt-Dt*xt;if(!Et)break;var Gt=(ft*Mt-lt*Dt)/Et,Ut=(lt*Tt-ft*xt)/Et;it-=Gt,B-=Ut}while((k(Gt)>c||k(Ut)>c)&&--G>0);return[it,B]}},V.invert=function(Ye,Ke){if(Ke*=.375,!(Ye*=.375)&&k(Ke)>1)return null;var ne,it=1+Ye*Ye+Ke*Ke,B=O((it-O(it*it-4*Ke*Ke))/2),G=E(B)/3,q=B?(ne=k(Ke/B),t(ne+O(ne*ne-1))/3):function(ne){return t(ne+O(ne*ne+1))}(k(Ye))/3,L=b(G),H=R(q),K=H*H-L*L;return[2*l(Ye)*T(P(q)*L,.25-K),2*l(Ke)*T(H*u(G),.25+K)]};var $=O(8),X=t(1+v);function W(Ye,Ke){var it=k(Ke);return it<m?[Ye,t(d(m+Ke/2))]:[Ye*b(it)*(2*v-1/u(it)),l(Ke)*(2*v*(it-m)-t(d(it/2)))]}function J(){return(0,M.Z)(W).scale(112.314)}W.invert=function(Ye,Ke){if((B=k(Ke))<X)return[Ye,2*a(p(Ke))-h];var it,B,G=m,q=25;do{var L=b(G/2),H=d(G/2);G-=it=($*(G-m)-t(H)-B)/($-L*L/(2*H))}while(k(it)>x&&--q>0);return[Ye/(b(G)*($-1/u(G))),l(Ke)*G]};var Q=e(17889);function re(Ye){var Ke=2*g/Ye;function it(B,G){var q=(0,Q.N)(B,G);if(k(B)>h){var L=T(q[1],q[0]),H=O(q[0]*q[0]+q[1]*q[1]),K=Ke*o((L-h)/Ke)+h,ne=T(u(L-=K),2-b(L));L=K+E(g/H*u(ne))-ne,q[0]=H*b(L),q[1]=H*u(L)}return q}return it.invert=function(B,G){var q=O(B*B+G*G);if(q>h){var L=T(G,B),H=Ke*o((L-h)/Ke)+h,K=L>H?-1:1,ne=q*b(H-L),ce=1/d(K*C((ne-g)/O(g*(g-2*ne)+q*q)));L=H+2*a((ce+K*O(ce*ce-3))/3),B=q*b(L),G=q*u(L)}return Q.N.invert(B,G)},it}function ae(){var Ye=5,Ke=(0,M.r)(re),it=Ke(Ye),B=it.stream,G=.01,q=-b(G*w),L=u(G*w);return it.lobes=function(H){return arguments.length?Ke(Ye=+H):Ye},it.stream=function(H){var K=it.rotate(),ne=B(H),ce=(it.rotate([0,0]),B(H));return it.rotate(K),ne.sphere=function(){ce.polygonStart(),ce.lineStart();for(var me=0,Le=360/Ye,Pe=2*g/Ye,je=90-180/Ye,He=h;me<Ye;++me,je-=Le,He-=Pe)ce.point(T(L*b(He),q)*S,E(L*u(He))*S),je<-90?(ce.point(-90,-180-je-G),ce.point(-90,-180-je+G)):(ce.point(90,je+G),ce.point(90,je-G));ce.lineEnd(),ce.polygonEnd()},ne},it.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var oe=e(12956);function ue(Ye,Ke){if(arguments.length<2&&(Ke=Ye),1===Ke)return oe.l;if(Ke===1/0)return ve;function it(B,G){var q=(0,oe.l)(B/Ke,G);return q[0]*=Ye,q}return it.invert=function(B,G){var q=oe.l.invert(B/Ye,G);return q[0]*=Ke,q},it}function ve(Ye,Ke){return[Ye*b(Ke)/b(Ke/=2),2*u(Ke)]}function be(){var Ye=2,Ke=(0,M.r)(ue),it=Ke(Ye);return it.coefficient=function(B){return arguments.length?Ke(Ye=+B):Ye},it.scale(169.529)}function de(Ye,Ke,it){var B,G,q,L=100;it=void 0===it?0:+it,Ke=+Ke;do{(G=Ye(it))===(q=Ye(it+c))&&(q=G+c),it-=B=-1*c*(G-Ke)/(G-q)}while(L-- >0&&k(B)>c);return L<0?NaN:it}function pe(Ye,Ke,it){return void 0===Ke&&(Ke=40),void 0===it&&(it=x),function(B,G,q,L){var H,K,ne;q=void 0===q?0:+q,L=void 0===L?0:+L;for(var ce=0;ce<Ke;ce++){var me=Ye(q,L),Le=me[0]-B,Pe=me[1]-G;if(k(Le)<it&&k(Pe)<it)break;var je=Le*Le+Pe*Pe;if(je>H)q-=K/=2,L-=ne/=2;else{H=je;var He=(q>0?-1:1)*it,$e=(L>0?-1:1)*it,lt=Ye(q+He,L),ft=Ye(q,L+$e),xt=(lt[0]-me[0])/He,Mt=(lt[1]-me[1])/He,Tt=(ft[0]-me[0])/$e,Dt=(ft[1]-me[1])/$e,Et=Dt*xt-Mt*Tt,Gt=(k(Et)<.5?.5:1)/Et;if(q+=K=(Pe*Tt-Le*Dt)*Gt,L+=ne=(Le*Mt-Pe*xt)*Gt,k(K)<it&&k(ne)<it)break}}return[q,L]}}function ge(){var Ye=ue(1.68,2);function Ke(it,B){if(it+B<-1.4){var G=(it-B+1.6)*(it+B+1.4)/8;it+=G,B-=.8*G*u(B+g/2)}var q=Ye(it,B),L=(1-b(it*B))/12;return q[1]<0&&(q[0]*=1+L),q[1]>0&&(q[1]*=1+L/1.5*q[0]*q[0]),q}return Ke.invert=pe(Ke),Ke}function Ae(){return(0,M.Z)(ge()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function ye(Ye,Ke){var it,B=Ye*u(Ke),G=30;do{Ke-=it=(Ke+u(Ke)-B)/(1+b(Ke))}while(k(it)>c&&--G>0);return Ke/2}function we(Ye,Ke,it){function B(G,q){return[Ye*G*b(q=ye(it,q)),Ke*u(q)]}return B.invert=function(G,q){return q=E(q/Ke),[G/(Ye*b(q)),E((2*q+u(2*q))/it)]},B}ve.invert=function(Ye,Ke){var it=2*E(Ke/2);return[Ye*b(it/2)/b(it),it]};var se=we(v/h,v,g);function ie(){return(0,M.Z)(se).scale(169.529)}var he=2.00276,Se=1.11072;function _e(Ye,Ke){var it=ye(g,Ke);return[he*Ye/(1/b(Ke)+Se/b(it)),(Ke+v*u(it))/he]}function Me(){return(0,M.Z)(_e).scale(160.857)}function Ee(Ye){var Ke=0,it=(0,M.r)(Ye),B=it(Ke);return B.parallel=function(G){return arguments.length?it(Ke=G*w):Ke*S},B}function Ie(Ye,Ke){return[Ye*b(Ke),Ke]}function fe(){return(0,M.Z)(Ie).scale(152.63)}function xe(Ye){if(!Ye)return Ie;var Ke=1/d(Ye);function it(B,G){var q=Ke+Ye-G,L=q&&B*b(G)/q;return[q*u(L),Ke-q*b(L)]}return it.invert=function(B,G){var q=O(B*B+(G=Ke-G)*G),L=Ke+Ye-q;return[q/b(L)*T(B,G),L]},it}function Te(){return Ee(xe).scale(123.082).center([0,26.1441]).parallel(45)}function Ce(Ye){function Ke(it,B){var G=h-B,q=G&&it*Ye*u(G)/G;return[G*u(q)/Ye,h-G*b(q)]}return Ke.invert=function(it,B){var G=it*Ye,q=h-B,L=O(G*G+q*q),H=T(G,q);return[(L?L/u(L):1)*H/Ye,h-L]},Ke}function De(){var Ye=.5,Ke=(0,M.r)(Ce),it=Ke(Ye);return it.fraction=function(B){return arguments.length?Ke(Ye=+B):Ye},it.scale(158.837)}_e.invert=function(Ye,Ke){var it,B,G=he*Ke,q=Ke<0?-m:m,L=25;do{B=G-v*u(q),q-=it=(u(2*q)+2*q-g*u(B))/(2*b(2*q)+2+g*b(B)*v*b(q))}while(k(it)>c&&--L>0);return B=G-v*u(q),[Ye*(1/b(B)+Se/b(q))/he,B]},Ie.invert=function(Ye,Ke){return[Ye/b(Ke),Ke]};var ze=we(1,4/g,g);function Ue(){return(0,M.Z)(ze).scale(152.63)}var Ve=e(66624),Xe=e(49386);function at(Ye,Ke,it,B,G,q){var L,H=b(q);if(k(Ye)>1||k(q)>1)L=C(it*G+Ke*B*H);else{var K=u(Ye/2),ne=u(q/2);L=2*E(O(K*K+Ke*B*ne*ne))}return k(L)>c?[L,T(B*u(q),Ke*G-it*B*H)]:[0,0]}function st(Ye,Ke,it){return C((Ye*Ye+Ke*Ke-it*it)/(2*Ye*Ke))}function ht(Ye){return Ye-2*g*s((Ye+g)/(2*g))}function bt(Ye,Ke,it){for(var B,G=[[Ye[0],Ye[1],u(Ye[1]),b(Ye[1])],[Ke[0],Ke[1],u(Ke[1]),b(Ke[1])],[it[0],it[1],u(it[1]),b(it[1])]],q=G[2],L=0;L<3;++L,q=B)B=G[L],q.v=at(B[1]-q[1],q[3],q[2],B[3],B[2],B[0]-q[0]),q.point=[0,0];var H=st(G[0].v[0],G[2].v[0],G[1].v[0]),K=st(G[0].v[0],G[1].v[0],G[2].v[0]),ne=g-H;G[2].point[1]=0,G[0].point[0]=-(G[1].point[0]=G[0].v[0]/2);var ce=[G[2].point[0]=G[0].point[0]+G[2].v[0]*b(H),2*(G[0].point[1]=G[1].point[1]=G[2].v[0]*u(H))];return function(me,Le){var Pe,je=u(Le),He=b(Le),$e=new Array(3);for(Pe=0;Pe<3;++Pe){var lt=G[Pe];if($e[Pe]=at(Le-lt[1],lt[3],lt[2],He,je,me-lt[0]),!$e[Pe][0])return lt.point;$e[Pe][1]=ht($e[Pe][1]-lt.v[1])}var ft=ce.slice();for(Pe=0;Pe<3;++Pe){var xt=2==Pe?0:Pe+1,Mt=st(G[Pe].v[0],$e[Pe][0],$e[xt][0]);$e[Pe][1]<0&&(Mt=-Mt),Pe?1==Pe?(Mt=K-Mt,ft[0]-=$e[Pe][0]*b(Mt),ft[1]-=$e[Pe][0]*u(Mt)):(Mt=ne-Mt,ft[0]+=$e[Pe][0]*b(Mt),ft[1]+=$e[Pe][0]*u(Mt)):(ft[0]+=$e[Pe][0]*b(Mt),ft[1]-=$e[Pe][0]*u(Mt))}return ft[0]/=3,ft[1]/=3,ft}}function vt(Ye){return Ye[0]*=w,Ye[1]*=w,Ye}function Qe(){return nt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function nt(Ye,Ke,it){var B=(0,Ve.Z)({type:"MultiPoint",coordinates:[Ye,Ke,it]}),G=[-B[0],-B[1]],q=(0,Xe.Z)(G),L=bt(vt(q(Ye)),vt(q(Ke)),vt(q(it)));L.invert=pe(L);var H=(0,M.Z)(L).rotate(G),K=H.center;return delete H.rotate,H.center=function(ne){return arguments.length?K(q(ne)):q.invert(K())},H.clipAngle(90)}function wt(Ye,Ke){var it=O(1-u(Ke));return[2/_*Ye*it,_*(1-it)]}function Ot(){return(0,M.Z)(wt).scale(95.6464).center([0,30])}function Pt(Ye){var Ke=d(Ye);function it(B,G){return[B,(B?B/u(B):1)*(u(G)*b(B)-Ke*b(G))]}return it.invert=Ke?function(B,G){B&&(G*=u(B)/B);var q=b(B);return[B,2*T(O(q*q+Ke*Ke-G*G)-q,Ke-G)]}:function(B,G){return[B,E(B?G*d(B)/B:G)]},it}function St(){return Ee(Pt).scale(249.828).clipAngle(90)}wt.invert=function(Ye,Ke){var it=(it=Ke/_-1)*it;return[it>0?Ye*O(g/it)/2:0,E(1-it)]};var qe=O(3);function Ze(Ye,Ke){return[qe*Ye*(2*b(2*Ke/3)-1)/_,qe*_*u(Ke/3)]}function Ne(){return(0,M.Z)(Ze).scale(156.19)}function Ge(Ye){var Ke=b(Ye);function it(B,G){return[B*Ke,u(G)/Ke]}return it.invert=function(B,G){return[B/Ke,E(G*Ke)]},it}function rt(){return Ee(Ge).parallel(38.58).scale(195.044)}function tt(Ye){var Ke=b(Ye);function it(B,G){return[B*Ke,(1+Ke)*d(G/2)]}return it.invert=function(B,G){return[B/Ke,2*a(G/(1+Ke))]},it}function Re(){return Ee(tt).scale(124.75)}function Fe(Ye,Ke){var it=O(8/(3*g));return[it*Ye*(1-k(Ke)/g),it*Ke]}function et(){return(0,M.Z)(Fe).scale(165.664)}function We(Ye,Ke){var it=O(4-3*u(k(Ke)));return[2/O(6*g)*Ye*it,l(Ke)*O(2*g/3)*(2-it)]}function ct(){return(0,M.Z)(We).scale(165.664)}function pt(Ye,Ke){var it=O(g*(4+g));return[2/it*Ye*(1+O(1-4*Ke*Ke/(g*g))),4/it*Ke]}function dt(){return(0,M.Z)(pt).scale(180.739)}function ut(Ye,Ke){var it=(2+h)*u(Ke);Ke/=2;for(var B=0,G=1/0;B<10&&k(G)>c;B++){var q=b(Ke);Ke-=G=(Ke+u(Ke)*(q+2)-it)/(2*q*(1+q))}return[2/O(g*(4+g))*Ye*(1+b(Ke)),2*O(g/(4+g))*u(Ke)]}function kt(){return(0,M.Z)(ut).scale(180.739)}function yt(Ye,Ke){return[Ye*(1+b(Ke))/O(2+g),2*Ke/O(2+g)]}function gt(){return(0,M.Z)(yt).scale(173.044)}function At(Ye,Ke){for(var it=(1+h)*u(Ke),B=0,G=1/0;B<10&&k(G)>c;B++)Ke-=G=(Ke+u(Ke)-it)/(1+b(Ke));return it=O(2+g),[Ye*(1+b(Ke))/it,2*Ke/it]}function Lt(){return(0,M.Z)(At).scale(173.044)}Ze.invert=function(Ye,Ke){var it=3*E(Ke/(qe*_));return[_*Ye/(qe*(2*b(2*it/3)-1)),it]},Fe.invert=function(Ye,Ke){var it=O(8/(3*g)),B=Ke/it;return[Ye/(it*(1-k(B)/g)),B]},We.invert=function(Ye,Ke){var it=2-k(Ke)/O(2*g/3);return[Ye*O(6*g)/(2*it),l(Ke)*E((4-it*it)/3)]},pt.invert=function(Ye,Ke){var it=O(g*(4+g))/2;return[Ye*it/(1+O(1-Ke*Ke*(4+g)/(4*g))),Ke*it/2]},ut.invert=function(Ye,Ke){var it=Ke*O((4+g)/g)/2,B=E(it),G=b(B);return[Ye/(2/O(g*(4+g))*(1+G)),E((B+it*(G+2))/(2+h))]},yt.invert=function(Ye,Ke){var it=O(2+g),B=Ke*it/2;return[it*Ye/(1+b(B)),B]},At.invert=function(Ye,Ke){var it=1+h,B=O(it/2);return[2*Ye*B/(1+b(Ke*=B)),E((Ke+u(Ke))/it)]};var It=3+2*v;function qt(Ye,Ke){var it=u(Ye/=2),B=b(Ye),G=O(b(Ke)),q=b(Ke/=2),L=u(Ke)/(q+v*B*G),H=O(2/(1+L*L)),K=O((v*q+(B+it)*G)/(v*q+(B-it)*G));return[It*(H*(K-1/K)-2*t(K)),It*(H*L*(K+1/K)-2*a(L))]}function Qt(){return(0,M.Z)(qt).scale(62.5271)}qt.invert=function(Ye,Ke){if(!(it=V.invert(Ye/1.2,1.065*Ke)))return null;var it,B=it[0],G=it[1],q=20;Ye/=It,Ke/=It;do{var L=B/2,H=G/2,K=u(L),ne=b(L),ce=u(H),me=b(H),Le=b(G),Pe=O(Le),je=ce/(me+v*ne*Pe),He=je*je,$e=O(2/(1+He)),lt=(v*me+(ne+K)*Pe)/(v*me+(ne-K)*Pe),ft=O(lt),xt=ft-1/ft,Mt=ft+1/ft,Tt=$e*xt-2*t(ft)-Ye,Dt=$e*je*Mt-2*a(je)-Ke,Et=ce&&y*Pe*K*He/ce,Gt=(v*ne*me+Pe)/(2*(me+v*ne*Pe)*(me+v*ne*Pe)*Pe),Ut=-.5*je*$e*$e*$e,Bt=Ut*Et,hn=Ut*Gt,pn=(pn=2*me+v*Pe*(ne-K))*pn*ft,En=(v*ne*me*Pe+Le)/pn,Cn=-v*K*ce/(Pe*pn),Nn=xt*Bt-2*En/ft+$e*(En+En/lt),Wn=xt*hn-2*Cn/ft+$e*(Cn+Cn/lt),sr=je*Mt*Bt-2*Et/(1+He)+$e*Mt*Et+$e*je*(En-En/lt),Hn=je*Mt*hn-2*Gt/(1+He)+$e*Mt*Gt+$e*je*(Cn-Cn/lt),rr=Wn*sr-Hn*Nn;if(!rr)break;var gr=(Dt*Wn-Tt*Hn)/rr,kr=(Tt*sr-Dt*Nn)/rr;B-=gr,G=i(-h,n(h,G-kr))}while((k(gr)>c||k(kr)>c)&&--q>0);return k(k(G)-h)<c?[0,G]:q&&[B,G]};var Vt=b(35*w);function Ft(Ye,Ke){var it=d(Ke/2);return[Ye*Vt*O(1-it*it),(1+Vt)*it]}function en(){return(0,M.Z)(Ft).scale(137.152)}function wn(Ye,Ke){var it=Ke/2,B=b(it);return[2*Ye/_*b(Ke)*B*B,_*d(it)]}function kn(){return(0,M.Z)(wn).scale(135.264)}function on(Ye){var Ke=1-Ye,it=G(g,0)[0]-G(-g,0)[0],B=O(2*(G(0,h)[1]-G(0,-h)[1])/it);function G(H,K){var ne=b(K),ce=u(K);return[ne/(Ke+Ye*ne)*H,Ke*K+Ye*ce]}function q(H,K){var ne=G(H,K);return[ne[0]*B,ne[1]/B]}function L(H){return q(0,H)[1]}return q.invert=function(H,K){var ne=de(L,K);return[H/B*(Ye+Ke/b(ne)),ne]},q}function Ht(){var Ye=.5,Ke=(0,M.r)(on),it=Ke(Ye);return it.alpha=function(B){return arguments.length?Ke(Ye=+B):Ye},it.scale(168.725)}Ft.invert=function(Ye,Ke){var it=Ke/(1+Vt);return[Ye&&Ye/(Vt*O(1-it*it)),2*a(it)]},wn.invert=function(Ye,Ke){var it=a(Ke/_),B=b(it),G=2*it;return[Ye*_/2/(b(G)*B*B),G]};var nn=e(57962),Kt=e(97492);function an(Ye){return[Ye[0]/2,E(d(Ye[1]/2*w))*S]}function xn(Ye){return[2*Ye[0],2*a(u(Ye[1]*w))*S]}function _n(Ye){null==Ye&&(Ye=nn.Z);var Ke=Ye(),it=(0,Kt.Z)().scale(S).precision(0).clipAngle(null).translate([0,0]);function B(q){return Ke(an(q))}function G(q){B[q]=function(){return arguments.length?(Ke[q].apply(Ke,arguments),B):Ke[q]()}}return Ke.invert&&(B.invert=function(q){return xn(Ke.invert(q))}),B.stream=function(q){var L=Ke.stream(q),H=it.stream({point:function(K,ne){L.point(K/2,E(d(-ne/2*w))*S)},lineStart:function(){L.lineStart()},lineEnd:function(){L.lineEnd()},polygonStart:function(){L.polygonStart()},polygonEnd:function(){L.polygonEnd()}});return H.sphere=L.sphere,H},B.rotate=function(q){return arguments.length?(it.rotate(q),B):it.rotate()},B.center=function(q){return arguments.length?(Ke.center(an(q)),B):xn(Ke.center())},G("angle"),G("clipAngle"),G("clipExtent"),G("fitExtent"),G("fitHeight"),G("fitSize"),G("fitWidth"),G("scale"),G("translate"),G("precision"),B.scale(249.5)}function mn(Ye,Ke){var it=2*g/Ke,B=Ye*Ye;function G(q,L){var H=(0,Q.N)(q,L),K=H[0],ne=H[1],ce=K*K+ne*ne;if(ce>B){var me=O(ce),Le=T(ne,K),Pe=it*o(Le/it),je=Le-Pe,He=Ye*b(je),$e=(Ye*u(je)-je*u(He))/(h-He),lt=An(je,$e),ft=(g-Ye)/vn(lt,He,g);K=me;var xt,Mt=50;do{K-=xt=(Ye+vn(lt,He,K)*ft-me)/(lt(K)*ft)}while(k(xt)>c&&--Mt>0);ne=je*u(K),K<h&&(ne-=$e*(K-h));var Tt=u(Pe),Dt=b(Pe);H[0]=K*Dt-ne*Tt,H[1]=K*Tt+ne*Dt}return H}return G.invert=function(q,L){var H=q*q+L*L;if(H>B){var K=O(H),ne=T(L,q),ce=it*o(ne/it),me=ne-ce;q=K*b(me),L=K*u(me);for(var Le=q-h,Pe=u(q),je=L/Pe,He=q<h?1/0:0,$e=10;;){var lt=Ye*u(je),ft=Ye*b(je),xt=u(ft),Mt=h-ft,Tt=(lt-je*xt)/Mt,Dt=An(je,Tt);if(k(He)<x||!--$e)break;je-=He=(je*Pe-Tt*Le-L)/(Pe-2*Le*(Mt*(ft+je*lt*b(ft)-xt)-lt*(lt-je*xt))/(Mt*Mt))}q=(K=Ye+vn(Dt,ft,q)*(g-Ye)/vn(Dt,ft,g))*b(ne=ce+je),L=K*u(ne)}return Q.N.invert(q,L)},G}function An(Ye,Ke){return function(it){var B=Ye*b(it);return it<h&&(B-=Ke),O(1+B*B)}}function vn(Ye,Ke,it){for(var B=(it-Ke)/50,G=Ye(Ke)+Ye(it),q=1,L=Ke;q<50;++q)G+=2*Ye(L+=B);return.5*G*B}function On(){var Ye=6,Ke=30*w,it=b(Ke),B=u(Ke),G=(0,M.r)(mn),q=G(Ke,Ye),L=q.stream,H=-b(.01*w),K=u(.01*w);return q.radius=function(ne){return arguments.length?(it=b(Ke=ne*w),B=u(Ke),G(Ke,Ye)):Ke*S},q.lobes=function(ne){return arguments.length?G(Ke,Ye=+ne):Ye},q.stream=function(ne){var ce=q.rotate(),me=L(ne),Le=(q.rotate([0,0]),L(ne));return q.rotate(ce),me.sphere=function(){Le.polygonStart(),Le.lineStart();for(var Pe=0,je=2*g/Ye,He=0;Pe<Ye;++Pe,He-=je)Le.point(T(K*b(He),H)*S,E(K*u(He))*S),Le.point(T(B*b(He-je/2),it)*S,E(B*u(He-je/2))*S);Le.lineEnd(),Le.polygonEnd()},me},q.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Bn(Ye,Ke,it,B,G,q,L,H){function K(ne,ce){if(!ce)return[Ye*ne/g,0];var me=ce*ce,Le=Ye+me*(Ke+me*(it+me*B)),Pe=ce*(G-1+me*(q-H+me*L)),je=(Le*Le+Pe*Pe)/(2*Pe),He=ne*E(Le/je)/g;return[je*u(He),ce*(1+me*H)+je*(1-b(He))]}return arguments.length<8&&(H=0),K.invert=function(ne,ce){var me,Le,Pe=g*ne/Ye,je=ce,He=50;do{var $e=je*je,lt=Ye+$e*(Ke+$e*(it+$e*B)),ft=je*(G-1+$e*(q-H+$e*L)),xt=lt*lt+ft*ft,Mt=2*ft,Tt=xt/Mt,Dt=Tt*Tt,Et=E(lt/Tt)/g,Gt=Pe*Et,Ut=lt*lt,Bt=(2*Ke+$e*(4*it+6*$e*B))*je,hn=G+$e*(3*q+5*$e*L),pn=(2*(lt*Bt+ft*(hn-1))*Mt-xt*(2*(hn-1)))/(Mt*Mt),En=b(Gt),Cn=u(Gt),Nn=Tt*En,Wn=Tt*Cn,sr=Pe/g*(1/O(1-Ut/Dt))*(Bt*Tt-lt*pn)/Dt,Hn=Wn-ne,rr=je*(1+$e*H)+Tt-Nn-ce,gr=pn*Cn+Nn*sr,kr=Nn*Et,Yn=1+pn-(pn*En-Wn*sr),nr=Wn*Et,yr=gr*nr-Yn*kr;if(!yr)break;Pe-=me=(rr*gr-Hn*Yn)/yr,je-=Le=(Hn*nr-rr*kr)/yr}while((k(me)>c||k(Le)>c)&&--He>0);return[Pe,je]},K}var er=Bn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function or(){return(0,M.Z)(er).scale(149.995)}var $n=Bn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function qn(){return(0,M.Z)($n).scale(153.93)}var cr=Bn(5/6*g,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Nt(){return(0,M.Z)(cr).scale(130.945)}function Jt(Ye,Ke){var it=Ye*Ye,B=Ke*Ke;return[Ye*(1-.162388*B)*(.87-952426e-9*it*it),Ke*(1+B/12)]}function un(){return(0,M.Z)(Jt).scale(131.747)}Jt.invert=function(Ye,Ke){var it,B=Ye,G=Ke,q=50;do{var L=G*G;G-=it=(G*(1+L/12)-Ke)/(1+L/4)}while(k(it)>c&&--q>0);q=50,Ye/=1-.162388*L;do{var H=(H=B*B)*H;B-=it=(B*(.87-952426e-9*H)-Ye)/(.87-.00476213*H)}while(k(it)>c&&--q>0);return[B,G]};var fn=Bn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Mn(){return(0,M.Z)(fn).scale(131.087)}function Fn(Ye){var Ke=Ye(h,0)[0]-Ye(-h,0)[0];function it(B,G){var q=B>0?-.5:.5,L=Ye(B+q*g,G);return L[0]-=q*Ke,L}return Ye.invert&&(it.invert=function(B,G){var q=B>0?-.5:.5,L=Ye.invert(B+q*Ke,G),H=L[0]-q*g;return H<-g?H+=2*g:H>g&&(H-=2*g),L[0]=H,L}),it}function In(Ye,Ke){var it=l(Ye),B=l(Ke),G=b(Ke),q=b(Ye)*G,L=u(Ye)*G,H=u(B*Ke);Ye=k(T(L,H)),Ke=E(q),k(Ye-h)>c&&(Ye%=h);var K=function(ne,ce){if(ce===h)return[0,0];var me,Le,Pe=u(ce),je=Pe*Pe,He=je*je,$e=1+He,lt=1+3*He,ft=1-He,xt=E(1/O($e)),Mt=ft+je*$e*xt,Tt=(1-Pe)/Mt,Dt=O(Tt),Et=Tt*$e,Gt=O(Et),Ut=Dt*ft;if(0===ne)return[0,-(Ut+je*Gt)];var Bt,hn=b(ce),pn=1/hn,En=2*Pe*hn,Cn=(-Mt*hn-(-3*je+xt*lt)*En*(1-Pe))/(Mt*Mt),Nn=-pn*En,Wn=-pn*(je*$e*Cn+Tt*lt*En),sr=-2*pn*(ft*(.5*Cn/Dt)-2*je*Dt*En),Hn=4*ne/g;if(ne>.222*g||ce<g/4&&ne>.175*g){if(me=(Ut+je*O(Et*(1+He)-Ut*Ut))/(1+He),ne>g/4)return[me,me];var rr=me,gr=.5*me;me=.5*(gr+rr),Le=50;do{var kr=me*(sr+Nn*O(Et-me*me))+Wn*E(me/Gt)-Hn;if(!kr)break;kr<0?gr=me:rr=me,me=.5*(gr+rr)}while(k(rr-gr)>c&&--Le>0)}else{me=c,Le=25;do{var Yn=me*me,nr=O(Et-Yn),yr=sr+Nn*nr,lr=me*yr+Wn*E(me/Gt)-Hn;me-=Bt=nr?lr/(yr+(Wn-Nn*Yn)/nr):0}while(k(Bt)>c&&--Le>0)}return[me,-Ut-je*O(Et-me*me)]}(Ye>g/4?h-Ye:Ye,Ke);return Ye>g/4&&(H=K[0],K[0]=-K[1],K[1]=-H),K[0]*=it,K[1]*=-B,K}function Rn(){return(0,M.Z)(Fn(In)).scale(239.75)}function Jn(Ye,Ke){var it,B,G,q,L,H;if(Ke<c)return[(q=u(Ye))-(it=Ke*(Ye-q*(B=b(Ye)))/4)*B,B+it*q,1-Ke*q*q/2,Ye-it];if(Ke>=1-c)return it=(1-Ke)/4,G=1/(B=R(Ye)),[(q=((H=p(2*(H=Ye)))-1)/(H+1))+it*((L=B*P(Ye))-Ye)/(B*B),G-it*q*G*(L-Ye),G+it*q*G*(L+Ye),2*a(p(Ye))-h+it*(L-Ye)/B];var K=[1,0,0,0,0,0,0,0,0],ne=[O(Ke),0,0,0,0,0,0,0,0],ce=0;for(B=O(1-Ke),L=1;k(ne[ce]/K[ce])>c&&ce<8;)it=K[ce++],ne[ce]=(it-B)/2,K[ce]=(it+B)/2,B=O(it*B),L*=2;G=L*K[ce]*Ye;do{G=(E(q=ne[ce]*u(B=G)/K[ce])+G)/2}while(--ce);return[u(G),q=b(G),q/b(G-B),G]}function Yt(Ye,Ke){if(!Ke)return Ye;if(1===Ke)return t(d(Ye/2+m));for(var it=1,B=O(1-Ke),G=O(Ke),q=0;k(G)>c;q++){if(Ye%g){var L=a(B*d(Ye)/it);L<0&&(L+=g),Ye+=L+~~(Ye/g)*g}else Ye+=Ye;G=(it+B)/2,B=O(it*B),G=((it=G)-B)/2}return Ye/(r(2,q)*it)}function gn(Ye,Ke){var ne,ce,me,Le,Pe,it=(v-1)/(v+1),B=O(1-it*it),G=Yt(h,B*B),q=t(d(g/4+k(Ke)/2)),L=p(-1*q)/O(it),H=(ne=L*b(-1*Ye),ce=L*u(-1*Ye),Le=ce+1,[.5*((ne>=0?h:-h)-T(Pe=1-(me=ne*ne)-ce*ce,2*ne)),-.25*t(Pe*Pe+4*me)+.5*t(Le*Le+me)]),K=function(ne,ce,me){var Le=k(ne),Pe=P(k(ce));if(Le){var je=1/u(Le),He=1/(d(Le)*d(Le)),$e=-(He+me*(Pe*Pe*je*je)-1+me),lt=(-$e+O($e*$e-(me-1)*He*4))/2;return[Yt(a(1/O(lt)),me)*l(ne),Yt(a(O((lt/He-1)/me)),1-me)*l(ce)]}return[0,Yt(a(Pe),1-me)*l(ce)]}(H[0],H[1],B*B);return[-K[1],(Ke>=0?1:-1)*(.5*G-K[0])]}function Ct(){return(0,M.Z)(Fn(gn)).scale(151.496)}In.invert=function(Ye,Ke){k(Ye)>1&&(Ye=2*l(Ye)-Ye),k(Ke)>1&&(Ke=2*l(Ke)-Ke);var it=l(Ye),B=l(Ke),G=-it*Ye,q=-B*Ke,L=q/G<1,H=function(me,Le){for(var Pe=0,je=1,He=.5,$e=50;;){var lt=He*He,ft=O(He),xt=E(1/O(1+lt)),Mt=1-lt+He*(1+lt)*xt,Tt=(1-ft)/Mt,Dt=O(Tt),Et=Tt*(1+lt),Gt=Dt*(1-lt),Ut=O(Et-me*me),Bt=Le+Gt+He*Ut;if(k(je-Pe)<x||0==--$e||0===Bt)break;Bt>0?Pe=He:je=He,He=.5*(Pe+je)}if(!$e)return null;var hn=E(ft),pn=b(hn),En=1/pn,Cn=2*ft*pn,Nn=(-Mt*pn-(-3*He+xt*(1+3*lt))*Cn*(1-ft))/(Mt*Mt);return[g/4*(me*(-2*En*(.5*Nn/Dt*(1-lt)-2*He*Dt*Cn)+-En*Cn*Ut)+-En*(He*(1+lt)*Nn+Tt*(1+3*lt)*Cn)*E(me/O(Et))),hn]}(L?q:G,L?G:q),K=H[0],ne=H[1],ce=b(ne);return L&&(K=-h-K),[it*(T(u(K)*ce,-u(ne))+g),B*E(b(K)*ce)]},gn.invert=function(Ye,Ke){var it,B,G,q,L,H,Le,Pe,je,K=(v-1)/(v+1),ne=O(1-K*K),ce=(B=-Ye,G=ne*ne,(it=.5*Yt(h,ne*ne)-Ke)?(q=Jn(it,G),B?(H=(L=Jn(B,1-G))[1]*L[1]+G*q[0]*q[0]*L[0]*L[0],[[q[0]*L[2]/H,q[1]*q[2]*L[0]*L[1]/H],[q[1]*L[1]/H,-q[0]*q[2]*L[0]*L[2]/H],[q[2]*L[1]*L[2]/H,-G*q[0]*q[1]*L[0]/H]]):[[q[0],0],[q[1],0],[q[2],0]]):[[0,(L=Jn(B,1-G))[0]/L[1]],[1/L[1],0],[L[2]/L[1],0]]),me=(Le=ce[0],Pe=ce[1],je=Pe[0]*Pe[0]+Pe[1]*Pe[1],[(Le[0]*Pe[0]+Le[1]*Pe[1])/je,(Le[1]*Pe[0]-Le[0]*Pe[1])/je]);return[T(me[1],me[0])/-1,2*a(p(-.5*t(K*me[0]*me[0]+K*me[1]*me[1])))-h]};var Zt=e(7613);function $t(Ye){var Ke=u(Ye),it=b(Ye),B=dn(Ye);function G(q,L){var H=B(q,L);q=H[0],L=H[1];var K=u(L),ne=b(L),ce=b(q),me=C(Ke*K+it*ne*ce),Le=u(me),Pe=k(Le)>c?me/Le:1;return[Pe*it*u(q),(k(q)>h?Pe:-Pe)*(Ke*ne-it*K*ce)]}return B.invert=dn(-Ye),G.invert=function(q,L){var H=O(q*q+L*L),K=-u(H),ne=b(H),ce=H*ne,me=-L*K,Le=H*Ke,Pe=O(ce*ce+me*me-Le*Le),je=T(ce*Le+me*Pe,me*Le-ce*Pe),He=(H>h?-1:1)*T(q*K,H*b(je)*ne+L*u(je)*K);return B.invert(He,je)},G}function dn(Ye){var Ke=u(Ye),it=b(Ye);return function(B,G){var q=b(G),L=b(B)*q,H=u(B)*q,K=u(G);return[T(H,L*it-K*Ke),E(K*it+L*Ke)]}}function yn(){var Ye=0,Ke=(0,M.r)($t),it=Ke(Ye),B=it.rotate,G=it.stream,q=(0,Zt.Z)();return it.parallel=function(L){if(!arguments.length)return Ye*S;var H=it.rotate();return Ke(Ye=L*w).rotate(H)},it.rotate=function(L){return arguments.length?(B.call(it,[L[0],L[1]-Ye*S]),q.center([-L[0],-L[1]]),it):((L=B.call(it))[1]+=Ye*S,L)},it.stream=function(L){return(L=G(L)).sphere=function(){L.polygonStart();var H,K=q.radius(89.99)().coordinates[0],ne=K.length-1,ce=-1;for(L.lineStart();++ce<ne;)L.point((H=K[ce])[0],H[1]);for(L.lineEnd(),ne=(K=q.radius(90.01)().coordinates[0]).length-1,L.lineStart();--ce>=0;)L.point((H=K[ce])[0],H[1]);L.lineEnd(),L.polygonEnd()},L},it.scale(79.4187).parallel(45).clipAngle(179.999)}var Sn=e(33064),ln=e(72736),Wt=E(1-1/3)*S,Xt=Ge(0);function sn(Ye){var Ke=Wt*w,it=wt(g,Ke)[0]-wt(-g,Ke)[0],B=Xt(0,Ke)[1],G=wt(0,Ke)[1],q=_-G,L=f/Ye,H=4/f,K=B+q*q*4/f;function ne(ce,me){var Le,Pe=k(me);if(Pe>Ke){var je=n(Ye-1,i(0,s((ce+g)/L)));(Le=wt(ce+=g*(Ye-1)/Ye-je*L,Pe))[0]=Le[0]*f/it-f*(Ye-1)/(2*Ye)+je*f/Ye,Le[1]=B+4*(Le[1]-G)*q/f,me<0&&(Le[1]=-Le[1])}else Le=Xt(ce,me);return Le[0]*=H,Le[1]/=K,Le}return ne.invert=function(ce,me){ce/=H;var Le=k(me*=K);if(Le>B){var Pe=n(Ye-1,i(0,s((ce+g)/L)));ce=(ce+g*(Ye-1)/Ye-Pe*L)*it/f;var je=wt.invert(ce,.25*(Le-B)*f/q+G);return je[0]-=g*(Ye-1)/Ye-Pe*L,me<0&&(je[1]=-je[1]),je}return Xt.invert(ce,me)},ne}function cn(Ye,Ke){return[Ye,1&Ke?90-c:Wt]}function Ln(Ye,Ke){return[Ye,1&Ke?-90+c:-Wt]}function Pn(Ye){return[Ye[0]*(1-c),Ye[1]]}function Vn(){var Ye=4,Ke=(0,M.r)(sn),it=Ke(Ye),B=it.stream;return it.lobes=function(G){return arguments.length?Ke(Ye=+G):Ye},it.stream=function(G){var q=it.rotate(),L=B(G),H=(it.rotate([0,0]),B(G));return it.rotate(q),L.sphere=function(){var K,ne;(0,ln.Z)((K=180/Ye,ne=[].concat((0,Sn.w6)(-180,180+K/2,K).map(cn),(0,Sn.w6)(180,-180-K/2,-K).map(Ln)),{type:"Polygon",coordinates:[180===K?ne.map(Pn):ne]}),H)},L},it.scale(239.75)}function Un(Ye){var Ke,it=1+Ye,B=E(u(1/it)),G=2*O(g/(Ke=g+4*B*it)),q=.5*G*(it+O(Ye*(2+Ye))),L=Ye*Ye,H=it*it;function K(ne,ce){var me,Le,Pe=1-u(ce);if(Pe&&Pe<2){var je,He=h-ce,$e=25;do{var lt=u(He),ft=b(He),xt=B+T(lt,it-ft),Mt=1+H-2*it*ft;He-=je=(He-L*B-it*lt+Mt*xt-.5*Pe*Ke)/(2*it*lt*xt)}while(k(je)>x&&--$e>0);me=G*O(Mt),Le=ne*xt/g}else me=G*(Ye+Pe),Le=ne*B/g;return[me*u(Le),q-me*b(Le)]}return K.invert=function(ne,ce){var me=ne*ne+(ce-=q)*ce,Le=(1+H-me/(G*G))/(2*it),Pe=C(Le),je=u(Pe),He=B+T(je,it-Le);return[E(ne/O(me))*g/He,E(1-2*(Pe-L*B-it*je+(1+H-2*it*Le)*He)/Ke)]},K}function Xn(){var Ye=1,Ke=(0,M.r)(Un),it=Ke(Ye);return it.ratio=function(B){return arguments.length?Ke(Ye=+B):Ye},it.scale(167.774).center([0,18.67])}var Zn=.7109889596207567,Qn=.0528035274542;function ar(Ye,Ke){return Ke>-Zn?((Ye=se(Ye,Ke))[1]+=Qn,Ye):Ie(Ye,Ke)}function ir(){return(0,M.Z)(ar).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function hr(Ye,Ke){return k(Ke)>Zn?((Ye=se(Ye,Ke))[1]-=Ke>0?Qn:-Qn,Ye):Ie(Ye,Ke)}function fr(){return(0,M.Z)(hr).scale(152.63)}function wr(Ye,Ke,it,B){var G=O(4*g/(2*it+(1+Ye-Ke/2)*u(2*it)+(Ye+Ke)/2*u(4*it)+Ke/2*u(6*it))),q=O(B*u(it)*O((1+Ye*b(2*it)+Ke*b(4*it))/(1+Ye+Ke))),L=it*K(1);function H(me){return O(1+Ye*b(2*me)+Ke*b(4*me))}function K(me){var Le=me*it;return(2*Le+(1+Ye-Ke/2)*u(2*Le)+(Ye+Ke)/2*u(4*Le)+Ke/2*u(6*Le))/it}function ne(me){return H(me)*u(me)}var ce=function(me,Le){var Pe=it*de(K,L*u(Le)/it,Le/g);isNaN(Pe)&&(Pe=it*l(Le));var je=G*H(Pe);return[je*q*me/g*b(Pe),je/q*u(Pe)]};return ce.invert=function(me,Le){var Pe=de(ne,Le*q/G);return[me*g/(b(Pe)*G*q*H(Pe)),E(it*K(Pe/it)/L)]},0===it&&(G=O(B/g),(ce=function(me,Le){return[me*G,u(Le)/G]}).invert=function(me,Le){return[me/G,E(Le*G)]}),ce}function tr(){var Ye=1,Ke=0,it=45*w,B=2,G=(0,M.r)(wr),q=G(Ye,Ke,it,B);return q.a=function(L){return arguments.length?G(Ye=+L,Ke,it,B):Ye},q.b=function(L){return arguments.length?G(Ye,Ke=+L,it,B):Ke},q.psiMax=function(L){return arguments.length?G(Ye,Ke,it=+L*w,B):it*S},q.ratio=function(L){return arguments.length?G(Ye,Ke,it,B=+L):B},q.scale(180.739)}function vr(Ye,Ke,it,B,G,q,L,H,K,ne,ce){if(ce.nanEncountered)return NaN;var me,Le,Pe,je,He,$e,lt,ft,xt,Mt;if(Le=Ye(Ke+.25*(me=it-Ke)),Pe=Ye(it-.25*me),isNaN(Le))ce.nanEncountered=!0;else{if(!isNaN(Pe))return Mt=(($e=(je=me*(B+4*Le+G)/12)+(He=me*(G+4*Pe+q)/12))-L)/15,ne>K?(ce.maxDepthCount++,$e+Mt):Math.abs(Mt)<H?$e+Mt:(ft=vr(Ye,Ke,lt=Ke+.5*me,B,Le,G,je,.5*H,K,ne+1,ce),isNaN(ft)?(ce.nanEncountered=!0,NaN):(xt=vr(Ye,lt,it,G,Pe,q,He,.5*H,K,ne+1,ce),isNaN(xt)?(ce.nanEncountered=!0,NaN):ft+xt));ce.nanEncountered=!0}}function Mr(Ye,Ke,it,B,G){void 0===B&&(B=1e-8),void 0===G&&(G=20);var q=Ye(Ke),L=Ye(.5*(Ke+it)),H=Ye(it);return vr(Ye,Ke,it,q,L,H,(q+4*L+H)*(it-Ke)/6,B,G,1,{maxDepthCount:0,nanEncountered:!1})}function Ir(Ye,Ke,it){function B(Pe){return Ye+(1-Ye)*r(1-r(Pe,Ke),1/Ke)}function G(Pe){return Mr(B,0,Pe,1e-4)}for(var q=1/G(1),L=1e3,H=1.00000001*q,K=[],ne=0;ne<=L;ne++)K.push(G(ne/L)*H);function ce(Pe){var je=0,He=L,$e=500;do{K[$e]>Pe?He=$e:je=$e,$e=je+He>>1}while($e>je);var lt=K[$e+1]-K[$e];return lt&&(lt=(Pe-K[$e+1])/lt),($e+1+lt)/L}var me=2*ce(1)/g*q/it,Le=function(Pe,je){var He=ce(k(u(je))),$e=B(He)*Pe;return He/=me,[$e,je>=0?He:-He]};return Le.invert=function(Pe,je){var He;return k(je*=me)<1&&(He=l(je)*E(G(k(je))*q)),[Pe/B(k(je)),He]},Le}function ii(){var Ye=0,Ke=2.5,it=1.183136,B=(0,M.r)(Ir),G=B(Ye,Ke,it);return G.alpha=function(q){return arguments.length?B(Ye=+q,Ke,it):Ye},G.k=function(q){return arguments.length?B(Ye,Ke=+q,it):Ke},G.gamma=function(q){return arguments.length?B(Ye,Ke,it=+q):it},G.scale(152.63)}function oi(Ye,Ke){return k(Ye[0]-Ke[0])<c&&k(Ye[1]-Ke[1])<c}function Oi(Ye,Ke){for(var it,B,G,q=-1,L=Ye.length,H=Ye[0],K=[];++q<L;){B=((it=Ye[q])[0]-H[0])/Ke,G=(it[1]-H[1])/Ke;for(var ne=0;ne<Ke;++ne)K.push([H[0]+ne*B,H[1]+ne*G]);H=it}return K.push(it),K}function ti(Ye,Ke,it){var B,G;function q(K,ne){for(var ce=ne<0?-1:1,me=Ke[+(ne<0)],Le=0,Pe=me.length-1;Le<Pe&&K>me[Le][2][0];++Le);var je=Ye(K-me[Le][1][0],ne);return je[0]+=Ye(me[Le][1][0],ce*ne>ce*me[Le][0][1]?me[Le][0][1]:ne)[0],je}it?q.invert=it(q):Ye.invert&&(q.invert=function(K,ne){for(var ce=G[+(ne<0)],me=Ke[+(ne<0)],Le=0,Pe=ce.length;Le<Pe;++Le){var je=ce[Le];if(je[0][0]<=K&&K<je[1][0]&&je[0][1]<=ne&&ne<je[1][1]){var He=Ye.invert(K-Ye(me[Le][1][0],0)[0],ne);return He[0]+=me[Le][1][0],oi(q(He[0],He[1]),[K,ne])?He:null}}});var L=(0,M.Z)(q),H=L.stream;return L.stream=function(K){var ne=L.rotate(),ce=H(K),me=(L.rotate([0,0]),H(K));return L.rotate(ne),ce.sphere=function(){(0,ln.Z)(B,me)},ce},L.lobes=function(K){return arguments.length?(B=function(ne){var ce,me,Le,Pe,je,He,$e,lt=[],ft=ne[0].length;for($e=0;$e<ft;++$e)me=(ce=ne[0][$e])[0][0],Le=ce[0][1],Pe=ce[1][1],je=ce[2][0],He=ce[2][1],lt.push(Oi([[me+c,Le+c],[me+c,Pe-c],[je-c,Pe-c],[je-c,He+c]],30));for($e=ne[1].length-1;$e>=0;--$e)me=(ce=ne[1][$e])[0][0],Le=ce[0][1],Pe=ce[1][1],je=ce[2][0],He=ce[2][1],lt.push(Oi([[je-c,He-c],[je-c,Pe+c],[me+c,Pe+c],[me+c,Le-c]],30));return{type:"Polygon",coordinates:[(0,Sn.TS)(lt)]}}(K),Ke=K.map(function(ne){return ne.map(function(ce){return[[ce[0][0]*w,ce[0][1]*w],[ce[1][0]*w,ce[1][1]*w],[ce[2][0]*w,ce[2][1]*w]]})}),G=Ke.map(function(ne){return ne.map(function(ce){var me,Le=Ye(ce[0][0],ce[0][1])[0],Pe=Ye(ce[2][0],ce[2][1])[0],je=Ye(ce[1][0],ce[0][1])[1],He=Ye(ce[1][0],ce[1][1])[1];return je>He&&(me=je,je=He,He=me),[[Le,je],[Pe,He]]})}),L):Ke.map(function(ne){return ne.map(function(ce){return[[ce[0][0]*S,ce[0][1]*S],[ce[1][0]*S,ce[1][1]*S],[ce[2][0]*S,ce[2][1]*S]]})})},null!=Ke&&L.lobes(Ke),L}ar.invert=function(Ye,Ke){return Ke>-Zn?se.invert(Ye,Ke-Qn):Ie.invert(Ye,Ke)},hr.invert=function(Ye,Ke){return k(Ke)>Zn?se.invert(Ye,Ke+(Ke>0?Qn:-Qn)):Ie.invert(Ye,Ke)};var Ti=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ra(){return ti(_e,Ti).scale(160.857)}var ia=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ro(){return ti(hr,ia).scale(152.63)}var xl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ds(){return ti(se,xl).scale(169.529)}var gs=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Is(){return ti(se,gs).scale(169.529).rotate([20,0])}var Pa=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function zs(){return ti(ar,Pa,pe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Ds=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Rs(){return ti(Ie,Ds).scale(152.63).rotate([-20,0])}function no(Ye,Ke){return[3/f*Ye*O(g*g/3-Ke*Ke),Ke]}function mo(){return(0,M.Z)(no).scale(158.837)}function Fo(Ye){function Ke(it,B){if(k(k(B)-h)<c)return[0,B<0?-2:2];var G=u(B),q=r((1+G)/(1-G),Ye/2),L=.5*(q+1/q)+b(it*=Ye);return[2*u(it)/L,(q-1/q)/L]}return Ke.invert=function(it,B){var G=k(B);if(k(G-2)<c)return it?null:[0,l(B)*h];if(G>2)return null;var q=(it/=2)*it,L=(B/=2)*B,H=2*B/(1+q+L);return H=r((1+H)/(1-H),1/Ye),[T(2*it,1-q-L)/Ye,E((H-1)/(H+1))]},Ke}function hi(){var Ye=.5,Ke=(0,M.r)(Fo),it=Ke(Ye);return it.spacing=function(B){return arguments.length?Ke(Ye=+B):Ye},it.scale(124.75)}no.invert=function(Ye,Ke){return[f/3*Ye/O(g*g/3-Ke*Ke),Ke]};var Di=g/v;function ro(Ye,Ke){return[Ye*(1+O(b(Ke)))/2,Ke/(b(Ke/2)*b(Ye/6))]}function Ga(){return(0,M.Z)(ro).scale(97.2672)}function Ia(Ye,Ke){var it=Ye*Ye,B=Ke*Ke;return[Ye*(.975534+B*(-.0143059*it-.119161+-.0547009*B)),Ke*(1.00384+it*(.0802894+-.02855*B+199025e-9*it)+B*(.0998909+-.0491032*B))]}function yo(){return(0,M.Z)(Ia).scale(139.98)}function Za(Ye,Ke){return[u(Ye)/b(Ke),d(Ke)*b(Ye)]}function xo(){return(0,M.Z)(Za).scale(144.049).clipAngle(89.999)}function io(Ye){var Ke=b(Ye),it=d(m+Ye/2);function B(G,q){var L=q-Ye,H=k(L)<c?G*Ke:k(H=m+q/2)<c||k(k(H)-h)<c?0:G*L/t(d(H)/it);return[H,L]}return B.invert=function(G,q){var L,H=q+Ye;return[k(q)<c?G/Ke:k(L=m+H/2)<c||k(k(L)-h)<c?0:G*t(d(L)/it)/q,H]},B}function bo(){return Ee(io).parallel(40).scale(158.837)}function Ya(Ye,Ke){return[Ye,1.25*t(d(m+.4*Ke))]}function Js(){return(0,M.Z)(Ya).scale(108.318)}function Fs(Ye){var Ke=Ye.length-1;function it(B,G){for(var q,L=b(G),H=2/(1+L*b(B)),K=H*L*u(B),ne=H*u(G),ce=Ke,me=Ye[ce],Le=me[0],Pe=me[1];--ce>=0;)Le=(me=Ye[ce])[0]+K*(q=Le)-ne*Pe,Pe=me[1]+K*Pe+ne*q;return[Le=K*(q=Le)-ne*Pe,Pe=K*Pe+ne*q]}return it.invert=function(B,G){var q=20,L=B,H=G;do{for(var K,ne=Ke,ce=Ye[ne],me=ce[0],Le=ce[1],Pe=0,je=0;--ne>=0;)Pe=me+L*(K=Pe)-H*je,je=Le+L*je+H*K,me=(ce=Ye[ne])[0]+L*(K=me)-H*Le,Le=ce[1]+L*Le+H*K;var He,$e,lt=(Pe=me+L*(K=Pe)-H*je)*Pe+(je=Le+L*je+H*K)*je;L-=He=((me=L*(K=me)-H*Le-B)*Pe+(Le=L*Le+H*K-G)*je)/lt,H-=$e=(Le*Pe-me*je)/lt}while(k(He)+k($e)>c*c&&--q>0);if(q){var ft=O(L*L+H*H),xt=2*a(.5*ft),Mt=u(xt);return[T(L*Mt,ft*b(xt)),ft?E(H*Mt/ft):0]}},it}ro.invert=function(Ye,Ke){var it=k(Ye),B=k(Ke),G=c,q=h;B<Di?q*=B/Di:G+=6*C(Di/B);for(var L=0;L<25;L++){var H=u(q),K=O(b(q)),ne=u(q/2),ce=b(q/2),me=u(G/6),Le=b(G/6),Pe=.5*G*(1+K)-it,je=q/(ce*Le)-B,He=K?-.25*G*H/K:0,$e=.5*(1+K),lt=(1+.5*q*ne/ce)/(ce*Le),ft=q/ce*(me/6)/(Le*Le),xt=He*ft-lt*$e,Mt=(Pe*ft-je*$e)/xt,Tt=(je*He-Pe*lt)/xt;if(q-=Mt,G-=Tt,k(Mt)<c&&k(Tt)<c)break}return[Ye<0?-G:G,Ke<0?-q:q]},Ia.invert=function(Ye,Ke){var it=l(Ye)*g,B=Ke/2,G=50;do{var q=it*it,L=B*B,H=it*B,K=it*(.975534+L*(-.0143059*q-.119161+-.0547009*L))-Ye,ne=B*(1.00384+q*(.0802894+-.02855*L+199025e-9*q)+L*(.0998909+-.0491032*L))-Ke,ce=.975534-L*(.119161+3*q*.0143059+.0547009*L),me=-H*(.238322+.2188036*L+.0286118*q),Le=H*(.1605788+7961e-7*q+-.0571*L),Pe=1.00384+q*(.0802894+199025e-9*q)+L*(3*(.0998909-.02855*q)-.245516*L),je=me*Le-Pe*ce,He=(ne*me-K*Pe)/je,$e=(K*Le-ne*ce)/je;it-=He,B-=$e}while((k(He)>c||k($e)>c)&&--G>0);return G&&[it,B]},Za.invert=function(Ye,Ke){var it=Ye*Ye,B=Ke*Ke+1,G=it+B,q=Ye?y*O((G-O(G*G-4*it))/it):1/O(B);return[E(Ye*q),l(Ke)*C(q)]},Ya.invert=function(Ye,Ke){return[Ye,2.5*a(p(.8*Ke))-.625*g]};var Bo=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],al=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],ol=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],No=[[.9245,0],[0,0],[.01943,0]],sl=[[.721316,0],[0,0],[-.00881625,-.00617325]];function bl(){return Uo(Bo,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function _l(){return Uo(al,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function jo(){return Uo(ol,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Wa(){return Uo(No,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function $o(){return Uo(sl,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Uo(Ye,Ke){var it=(0,M.Z)(Fs(Ye)).rotate(Ke).clipAngle(90),B=(0,Xe.Z)(Ke),G=it.center;return delete it.rotate,it.center=function(q){return arguments.length?G(B(q)):B.invert(G())},it}var vs=O(6),Vo=O(7);function za(Ye,Ke){var it=E(7*u(Ke)/(3*vs));return[vs*Ye*(2*b(2*it/3)-1)/Vo,9*u(it/3)/Vo]}function Ks(){return(0,M.Z)(za).scale(164.859)}function _o(Ye,Ke){for(var it,B=(1+y)*u(Ke),G=Ke,q=0;q<25&&(G-=it=(u(G/2)+u(G)-B)/(.5*b(G/2)+b(G)),!(k(it)<c));q++);return[Ye*(1+2*b(G)/b(G/2))/(3*v),2*O(3)*u(G/2)/O(2+v)]}function ao(){return(0,M.Z)(_o).scale(188.209)}function oo(Ye,Ke){for(var it,B=O(6/(4+g)),G=(1+g/4)*u(Ke),q=Ke/2,L=0;L<25&&(q-=it=(q/2+u(q)-G)/(.5+b(q)),!(k(it)<c));L++);return[B*(.5+b(q))*Ye/1.5,B*q]}function wo(){return(0,M.Z)(oo).scale(166.518)}za.invert=function(Ye,Ke){var it=3*E(Ke*Vo/9);return[Ye*Vo/(vs*(2*b(2*it/3)-1)),E(3*u(it)*vs/7)]},_o.invert=function(Ye,Ke){var it=Ke*O(2+v)/(2*O(3)),B=2*E(it);return[3*v*Ye/(1+2*b(B)/b(B/2)),E((it+u(B))/(1+y))]},oo.invert=function(Ye,Ke){var it=O(6/(4+g)),B=Ke/it;return k(k(B)-h)<c&&(B=B<0?-h:h),[1.5*Ye/(it*(.5+b(B))),E((B/2+u(B))/(1+g/4))]};var jr=e(26867);function Qo(Ye,Ke){var it=Ke*Ke,B=it*it,G=it*B;return[Ye*(.84719-.13063*it+G*G*(.05494*it-.04515-.02326*B+.00331*G)),Ke*(1.01183+B*B*(.01926*it-.02625-.00396*B))]}function wl(){return(0,M.Z)(Qo).scale(175.295)}function Bs(Ye,Ke){return[Ye*(1+b(Ke))/2,2*(Ke-d(Ke/2))]}function es(){return(0,M.Z)(Bs).scale(152.63)}Qo.invert=function(Ye,Ke){var it,B,G,q,L=Ke,H=25;do{L-=it=(L*(1.01183+(G=(B=L*L)*B)*G*(.01926*B-.02625-.00396*G))-Ke)/(1.01183+G*G*(.21186*B-.23625+-.05148*G))}while(k(it)>x&&--H>0);return[Ye/(.84719-.13063*(B=L*L)+(q=B*(G=B*B))*q*(.05494*B-.04515-.02326*G+.00331*q)),L]},Bs.invert=function(Ye,Ke){for(var it=Ke/2,B=0,G=1/0;B<10&&k(G)>c;++B){var q=b(Ke/2);Ke-=G=(Ke-d(Ke/2)-it)/(1-.5/(q*q))}return[2*Ye/(1+b(Ke)),Ke]};var ll=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Tl(){return ti(ue(1/0),ll).rotate([20,0]).scale(152.63)}function Ns(Ye,Ke){var it=u(Ke),B=b(Ke),G=l(Ye);if(0===Ye||k(Ke)===h)return[0,Ke];if(0===Ke)return[Ye,0];if(k(Ye)===h)return[Ye*B,h*it];var q=g/(2*Ye)-2*Ye/g,L=2*Ke/g,H=(1-L*L)/(it-L),K=q*q,ne=H*H,ce=1+K/ne,me=1+ne/K,Le=(q*it/H-q/2)/ce,Pe=(ne*it/K+H/2)/me,je=Pe*Pe-(ne*it*it/K+H*it-1)/me;return[h*(Le+O(Le*Le+B*B/ce)*G),h*(Pe+O(je<0?0:je)*l(-Ke*q)*G)]}function kl(){return(0,M.Z)(Ns).scale(127.267)}Ns.invert=function(Ye,Ke){var it=(Ye/=h)*Ye,B=it+(Ke/=h)*Ke,G=g*g;return[Ye?(B-1+O((1-B)*(1-B)+4*it))/(2*Ye)*h:0,de(function(q){return B*(g*u(q)-2*q)*g+4*q*q*(Ke-u(q))+2*g*q-G*Ke},0)]};var To=1.0148,Ho=.23185,so=-.14499,Da=.02406,ts=To,ul=5*Ho,ms=7*so,js=9*Da,ya=1.790857183;function Us(Ye,Ke){var it=Ke*Ke;return[Ye,Ke*(To+it*it*(Ho+it*(so+Da*it)))]}function cl(){return(0,M.Z)(Us).scale(139.319)}function ns(Ye,Ke){if(k(Ke)<c)return[Ye,0];var it=d(Ke),B=Ye*u(Ke);return[u(B)/it,Ke+(1-b(B))/it]}function qo(){return(0,M.Z)(ns).scale(103.74)}Us.invert=function(Ye,Ke){Ke>ya?Ke=ya:Ke<-1.790857183&&(Ke=-1.790857183);var it,B=Ke;do{var G=B*B;B-=it=(B*(To+G*G*(Ho+G*(so+Da*G)))-Ke)/(ts+G*G*(ul+G*(ms+js*G)))}while(k(it)>c);return[Ye,B]},ns.invert=function(Ye,Ke){if(k(Ke)<c)return[Ye,0];var it,B=Ye*Ye+Ke*Ke,G=.5*Ke,q=10;do{var L=d(G),H=1/b(G),K=B-2*Ke*G+G*G;G-=it=(L*K+2*(G-Ke))/(2+K*H*H+2*(G-Ke)*L)}while(k(it)>c&&--q>0);return L=d(G),[(k(Ke)<k(G+1/L)?E(Ye*L):l(Ke)*l(Ye)*(C(k(Ye*L))+h))/u(G),G]};var rs=e(77338),Go=e(83074);function Zo(Ye,Ke){return[Ye[0]*Ke[0]+Ye[1]*Ke[3],Ye[0]*Ke[1]+Ye[1]*Ke[4],Ye[0]*Ke[2]+Ye[1]*Ke[5]+Ye[2],Ye[3]*Ke[0]+Ye[4]*Ke[3],Ye[3]*Ke[1]+Ye[4]*Ke[4],Ye[3]*Ke[2]+Ye[4]*Ke[5]+Ye[5]]}function ys(Ye,Ke){return[Ye[0]-Ke[0],Ye[1]-Ke[1]]}function Vs(Ye){return O(Ye[0]*Ye[0]+Ye[1]*Ye[1])}function $r(Ye,Ke,it){function B(H,K){var ne,ce=Ke(H,K),me=ce.project([H*S,K*S]);return(ne=ce.transform)?[ne[0]*me[0]+ne[1]*me[1]+ne[2],-(ne[3]*me[0]+ne[4]*me[1]+ne[5])]:(me[1]=-me[1],me)}function G(H,K){var $e,lt,ne=H.project.invert,ce=H.transform,me=K;if(ce&&(me=[(ce=[(lt=1/(($e=ce)[0]*$e[4]-$e[1]*$e[3]))*$e[4],-lt*$e[1],lt*($e[1]*$e[5]-$e[2]*$e[4]),-lt*$e[3],lt*$e[0],lt*($e[2]*$e[3]-$e[0]*$e[5])])[0]*me[0]+ce[1]*me[1]+ce[2],ce[3]*me[0]+ce[4]*me[1]+ce[5]]),ne&&H===function($e){return Ke($e[0]*w,$e[1]*w)}(Le=ne(me)))return Le;for(var Le,Pe=H.children,je=0,He=Pe&&Pe.length;je<He;++je)if(Le=G(Pe[je],K))return Le}(function H(K,ne){if(K.edges=function(Tt){for(var Dt=Tt.length,Et=[],Gt=Tt[Dt-1],Ut=0;Ut<Dt;++Ut)Et.push([Gt,Gt=Tt[Ut]]);return Et}(K.face),ne.face){var ce=K.shared=function(Tt,Dt){for(var Et,Gt,Ut=Tt.length,Bt=null,hn=0;hn<Ut;++hn){Et=Tt[hn];for(var pn=Dt.length;--pn>=0;)if(Gt=Dt[pn],Et[0]===Gt[0]&&Et[1]===Gt[1]){if(Bt)return[Bt,Et];Bt=Et}}}(K.face,ne.face),me=(He=ce.map(ne.project),$e=ce.map(K.project),lt=ys(He[1],He[0]),ft=ys($e[1],$e[0]),Dt=ft,xt=T((Tt=lt)[0]*Dt[1]-Tt[1]*Dt[0],Tt[0]*Dt[0]+Tt[1]*Dt[1]),Mt=Vs(lt)/Vs(ft),Zo([1,0,He[0][0],0,1,He[0][1]],Zo([Mt,0,0,0,Mt,0],Zo([b(xt),u(xt),0,-u(xt),b(xt),0],[1,0,-$e[0][0],0,1,-$e[0][1]]))));K.transform=ne.transform?Zo(ne.transform,me):me;for(var Le=ne.edges,Pe=0,je=Le.length;Pe<je;++Pe)Zi(ce[0],Le[Pe][1])&&Zi(ce[1],Le[Pe][0])&&(Le[Pe]=K),Zi(ce[0],Le[Pe][0])&&Zi(ce[1],Le[Pe][1])&&(Le[Pe]=K);for(Pe=0,je=(Le=K.edges).length;Pe<je;++Pe)Zi(ce[0],Le[Pe][0])&&Zi(ce[1],Le[Pe][1])&&(Le[Pe]=ne),Zi(ce[0],Le[Pe][1])&&Zi(ce[1],Le[Pe][0])&&(Le[Pe]=ne)}else K.transform=ne.transform;var Tt,Dt,He,$e,lt,ft,xt,Mt;return K.children&&K.children.forEach(function(Tt){H(Tt,K)}),K})(Ye,{transform:null}),Ra(Ye)&&(B.invert=function(H,K){var ne=G(Ye,[H,-K]);return ne&&(ne[0]*=w,ne[1]*=w,ne)});var q=(0,M.Z)(B),L=q.stream;return q.stream=function(H){var K=q.rotate(),ne=L(H),ce=(q.rotate([0,0]),L(H));return q.rotate(K),ne.sphere=function(){ce.polygonStart(),ce.lineStart(),ko(ce,Ye),ce.lineEnd(),ce.polygonEnd()},ne},q.angle(null==it?-30:it*S)}function ko(Ye,Ke,it){var B,G,q=Ke.edges,L=q.length,H={type:"MultiPoint",coordinates:Ke.face},K=Ke.face.filter(function(He){return 90!==k(He[1])}),ne=(0,rs.Z)({type:"MultiPoint",coordinates:K}),ce=!1,me=-1,Le=ne[1][0]-ne[0][0],Pe=180===Le||360===Le?[(ne[0][0]+ne[1][0])/2,(ne[0][1]+ne[1][1])/2]:(0,Ve.Z)(H);if(it)for(;++me<L&&q[me]!==it;);++me;for(var je=0;je<L;++je)G=q[(je+me)%L],Array.isArray(G)?(ce||(Ye.point((B=(0,Go.Z)(G[0],Pe)(c))[0],B[1]),ce=!0),Ye.point((B=(0,Go.Z)(G[1],Pe)(c))[0],B[1])):(ce=!1,G!==it&&ko(Ye,G,Ke))}function Zi(Ye,Ke){return Ye&&Ke&&Ye[0]===Ke[0]&&Ye[1]===Ke[1]}function Ra(Ye){return Ye.project.invert||Ye.children&&Ye.children.some(Ra)}var Zr=e(98936),Kr=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],xa=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ye){return Ye.map(function(Ke){return Kr[Ke]})});function is(Ye){Ye=Ye||function(it){var B=(0,Ve.Z)({type:"MultiPoint",coordinates:it});return(0,Zr.Z)().scale(1).translate([0,0]).rotate([-B[0],-B[1]])};var Ke=xa.map(function(it){return{face:it,project:Ye(it)}});return[-1,0,0,1,0,1,4,5].forEach(function(it,B){var G=Ke[it];G&&(G.children||(G.children=[])).push(Ke[B])}),$r(Ke[0],function(it,B){return Ke[it<-g/2?B<0?6:4:it<0?B<0?2:0:it<g/2?B<0?3:1:B<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var xs=2/O(3);function Hs(Ye,Ke){var it=wt(Ye,Ke);return[it[0]*xs,it[1]]}function bs(Ye){Ye=Ye||function(it){var B=(0,Ve.Z)({type:"MultiPoint",coordinates:it});return(0,M.Z)(Hs).translate([0,0]).scale(1).rotate(B[1]>0?[-B[0],0]:[180-B[0],180])};var Ke=xa.map(function(it){return{face:it,project:Ye(it)}});return[-1,0,0,1,0,1,4,5].forEach(function(it,B){var G=Ke[it];G&&(G.children||(G.children=[])).push(Ke[B])}),$r(Ke[0],function(it,B){return Ke[it<-g/2?B<0?6:4:it<0?B<0?2:0:it<g/2?B<0?3:1:B<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function _s(Ye){Ye=Ye||function(q){var L=6===q.length?(0,Ve.Z)({type:"MultiPoint",coordinates:q}):q[0];return(0,Zr.Z)().scale(1).translate([0,0]).rotate([-L[0],-L[1]])};var Ke=xa.map(function(q){for(var L,H=q.map(Mo),K=H.length,ne=H[K-1],ce=[],me=0;me<K;++me)L=H[me],ce.push(Ao([.9486832980505138*ne[0]+.31622776601683794*L[0],.9486832980505138*ne[1]+.31622776601683794*L[1],.9486832980505138*ne[2]+.31622776601683794*L[2]]),Ao([.9486832980505138*L[0]+.31622776601683794*ne[0],.9486832980505138*L[1]+.31622776601683794*ne[1],.9486832980505138*L[2]+.31622776601683794*ne[2]])),ne=L;return ce}),it=[],B=[-1,0,0,1,0,1,4,5];Ke.forEach(function(q,L){for(var H,K,ne=xa[L],ce=ne.length,me=it[L]=[],Le=0;Le<ce;++Le)Ke.push([ne[Le],q[(2*Le+2)%(2*ce)],q[(2*Le+1)%(2*ce)]]),B.push(L),me.push((H=Mo(q[(2*Le+2)%(2*ce)]),K=Mo(q[(2*Le+1)%(2*ce)]),[H[1]*K[2]-H[2]*K[1],H[2]*K[0]-H[0]*K[2],H[0]*K[1]-H[1]*K[0]]))});var G=Ke.map(function(q){return{project:Ye(q),face:q}});return B.forEach(function(q,L){var H=G[q];H&&(H.children||(H.children=[])).push(G[L])}),$r(G[0],function(q,L){var H=b(L),K=[H*b(q),H*u(q),u(L)],ne=q<-g/2?L<0?6:4:q<0?L<0?2:0:q<g/2?L<0?3:1:L<0?7:5,ce=it[ne];return G[ka(ce[0],K)<0?8+3*ne:ka(ce[1],K)<0?8+3*ne+1:ka(ce[2],K)<0?8+3*ne+2:ne]}).angle(-30).scale(110.625).center([0,45])}function ka(Ye,Ke){for(var it=0,B=Ye.length,G=0;it<B;++it)G+=Ye[it]*Ke[it];return G}function Ao(Ye){return[T(Ye[1],Ye[0])*S,E(i(-1,n(1,Ye[2])))*S]}function Mo(Ye){var Ke=Ye[0]*w,it=Ye[1]*w,B=b(it);return[B*b(Ke),B*u(Ke),u(it)]}function $i(){}function ws(Ye,Ke){var it,B=Ke.stream;if(!B)throw new Error("invalid projection");switch(Ye&&Ye.type){case"Feature":it=Ri;break;case"FeatureCollection":it=Aa;break;default:it=Ui}return it(Ye,B)}function Aa(Ye,Ke){return{type:"FeatureCollection",features:Ye.features.map(function(it){return Ri(it,Ke)})}}function Ri(Ye,Ke){return{type:"Feature",id:Ye.id,properties:Ye.properties,geometry:Ui(Ye.geometry,Ke)}}function Ui(Ye,Ke){if(!Ye)return null;if("GeometryCollection"===Ye.type)return G=Ke,{type:"GeometryCollection",geometries:Ye.geometries.map(function(q){return Ui(q,G)})};var G,it;switch(Ye.type){case"Point":case"MultiPoint":it=Xa;break;case"LineString":case"MultiLineString":it=Yo;break;case"Polygon":case"MultiPolygon":case"Sphere":it=Fa;break;default:return null}return(0,ln.Z)(Ye,Ke(it)),it.result()}Hs.invert=function(Ye,Ke){return wt.invert(Ye/xs,Ke)};var ai=[],Vi=[],Xa={point:function(Ye,Ke){ai.push([Ye,Ke])},result:function(){var Ye=ai.length?ai.length<2?{type:"Point",coordinates:ai[0]}:{type:"MultiPoint",coordinates:ai}:null;return ai=[],Ye}},Yo={lineStart:$i,point:function(Ye,Ke){ai.push([Ye,Ke])},lineEnd:function(){ai.length&&(Vi.push(ai),ai=[])},result:function(){var Ye=Vi.length?Vi.length<2?{type:"LineString",coordinates:Vi[0]}:{type:"MultiLineString",coordinates:Vi}:null;return Vi=[],Ye}},Fa={polygonStart:$i,lineStart:$i,point:function(Ye,Ke){ai.push([Ye,Ke])},lineEnd:function(){var Ye=ai.length;if(Ye){do{ai.push(ai[0].slice())}while(++Ye<4);Vi.push(ai),ai=[]}},polygonEnd:$i,result:function(){if(!Vi.length)return null;var Ye=[],Ke=[];return Vi.forEach(function(it){!function(B){if((G=B.length)<4)return!1;for(var G,q=0,L=B[G-1][1]*B[0][0]-B[G-1][0]*B[0][1];++q<G;)L+=B[q-1][1]*B[q][0]-B[q-1][0]*B[q][1];return L<=0}(it)?Ke.push(it):Ye.push([it])}),Ke.forEach(function(it){var B=it[0];Ye.some(function(G){if(function(q,L){for(var H=L[0],K=L[1],ne=!1,ce=0,me=q.length,Le=me-1;ce<me;Le=ce++){var Pe=q[ce],je=Pe[0],He=Pe[1],$e=q[Le],lt=$e[0],ft=$e[1];He>K^ft>K&&H<(lt-je)*(K-He)/(ft-He)+je&&(ne=!ne)}return ne}(G[0],B))return G.push(it),!0})||Ye.push([it])}),Vi=[],Ye.length?Ye.length>1?{type:"MultiPolygon",coordinates:Ye}:{type:"Polygon",coordinates:Ye[0]}:null}};function So(Ye){var Ke=Ye(h,0)[0]-Ye(-h,0)[0];function it(B,G){var q=k(B)<h,L=Ye(q?B:B>0?B-g:B+g,G),H=(L[0]-L[1])*y,K=(L[0]+L[1])*y;if(q)return[H,K];var ne=Ke*y,ce=H>0^K>0?-1:1;return[ce*H-l(K)*ne,ce*K-l(H)*ne]}return Ye.invert&&(it.invert=function(B,G){var q=(B+G)*y,L=(G-B)*y,H=k(q)<.5*Ke&&k(L)<.5*Ke;if(!H){var K=Ke*y,ne=q>0^L>0?-1:1,ce=-ne*B+(L>0?1:-1)*K,me=-ne*G+(q>0?1:-1)*K;q=(-ce-me)*y,L=(ce-me)*y}var Le=Ye.invert(q,L);return H||(Le[0]+=q>0?g:-g),Le}),(0,M.Z)(it).rotate([-90,-90,45]).clipAngle(179.999)}function aa(){return So(In).scale(176.423)}function Wo(){return So(gn).scale(111.48)}function lo(Ye,Ke){if(!(0<=(Ke=+Ke)&&Ke<=20))throw new Error("invalid digits");function it(ne){var ce=ne.length,me=2,Le=new Array(ce);for(Le[0]=+ne[0].toFixed(Ke),Le[1]=+ne[1].toFixed(Ke);me<ce;)Le[me]=ne[me],++me;return Le}function B(ne){return ne.map(it)}function G(ne){for(var ce=it(ne[0]),me=[ce],Le=1;Le<ne.length;Le++){var Pe=it(ne[Le]);(Pe.length>2||Pe[0]!=ce[0]||Pe[1]!=ce[1])&&(me.push(Pe),ce=Pe)}return 1===me.length&&ne.length>1&&me.push(it(ne[ne.length-1])),me}function q(ne){return ne.map(G)}function L(ne){if(null==ne)return ne;var ce;switch(ne.type){case"GeometryCollection":ce={type:"GeometryCollection",geometries:ne.geometries.map(L)};break;case"Point":ce={type:"Point",coordinates:it(ne.coordinates)};break;case"MultiPoint":ce={type:ne.type,coordinates:B(ne.coordinates)};break;case"LineString":ce={type:ne.type,coordinates:G(ne.coordinates)};break;case"MultiLineString":case"Polygon":ce={type:ne.type,coordinates:q(ne.coordinates)};break;case"MultiPolygon":ce={type:"MultiPolygon",coordinates:ne.coordinates.map(q)};break;default:return ne}return null!=ne.bbox&&(ce.bbox=ne.bbox),ce}function H(ne){var ce={type:"Feature",properties:ne.properties,geometry:L(ne.geometry)};return null!=ne.id&&(ce.id=ne.id),null!=ne.bbox&&(ce.bbox=ne.bbox),ce}if(null!=Ye)switch(Ye.type){case"Feature":return H(Ye);case"FeatureCollection":var K={type:"FeatureCollection",features:Ye.features.map(H)};return null!=Ye.bbox&&(K.bbox=Ye.bbox),K;default:return L(Ye)}return Ye}function Ma(Ye){var Ke=u(Ye);function it(B,G){var q=Ke?d(B*Ke/2)/Ke:B/2;if(!G)return[2*q,-Ye];var L=2*a(q*u(G)),H=1/d(G);return[u(L)*H,G+(1-b(L))*H-Ye]}return it.invert=function(B,G){if(k(G+=Ye)<c)return[Ke?2*a(Ke*B/2)/Ke:B,0];var q,L=B*B+G*G,H=0,K=10;do{var ne=d(H),ce=1/b(H),me=L-2*G*H+H*H;H-=q=(ne*me+2*(H-G))/(2+me*ce*ce+2*(H-G)*ne)}while(k(q)>c&&--K>0);var Le=B*(ne=d(H)),Pe=d(k(G)<k(H+1/ne)?.5*E(Le):.5*C(Le)+g/4)/u(H);return[Ke?2*a(Ke*Pe)/Ke:2*Pe,H]},it}function Sa(){return Ee(Ma).scale(131.215)}var si=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Ba(Ye,Ke){var it,B=n(18,36*k(Ke)/g),G=s(B),q=B-G,L=(it=si[G])[0],H=it[1],K=(it=si[++G])[0],ne=it[1],ce=(it=si[n(19,++G)])[0],me=it[1];return[Ye*(K+q*(ce-L)/2+q*q*(ce-2*K+L)/2),(Ke>0?h:-h)*(ne+q*(me-H)/2+q*q*(me-2*ne+H)/2)]}function br(){return(0,M.Z)(Ba).scale(152.63)}function Ts(Ye,Ke){var it=function(L){function H(K,ne){var ce=b(ne),me=(L-1)/(L-ce*b(K));return[me*ce*u(K),me*u(ne)]}return H.invert=function(K,ne){var ce=K*K+ne*ne,me=O(ce),Le=(L-O(1-ce*(L+1)/(L-1)))/((L-1)/me+me/(L-1));return[T(K*Le,me*O(1-Le*Le)),me?E(ne*Le/me):0]},H}(Ye);if(!Ke)return it;var B=b(Ke),G=u(Ke);function q(L,H){var K=it(L,H),ne=K[1],ce=ne*G/(Ye-1)+B;return[K[0]*B/ce,ne/ce]}return q.invert=function(L,H){var K=(Ye-1)/(Ye-1-H*G);return it.invert(K*L,K*H*B)},q}function $s(){var Ye=2,Ke=0,it=(0,M.r)(Ts),B=it(Ye,Ke);return B.distance=function(G){return arguments.length?it(Ye=+G,Ke):Ye},B.tilt=function(G){return arguments.length?it(Ye,Ke=G*w):Ke*S},B.scale(432.147).clipAngle(C(1/Ye)*S-1e-6)}si.forEach(function(Ye){Ye[1]*=1.0144}),Ba.invert=function(Ye,Ke){var it=Ke/h,B=90*it,G=n(18,k(B/5)),q=i(0,s(G));do{var L=si[q][1],H=si[q+1][1],K=si[n(19,q+2)][1],ne=K-L,ce=K-2*H+L,me=2*(k(it)-H)/ne,Le=ce/ne,Pe=me*(1-Le*me*(1-2*Le*me));if(Pe>=0||1===q){B=(Ke>=0?5:-5)*(Pe+G);var je,He=50;do{Pe=(G=n(18,k(B)/5))-(q=s(G)),L=si[q][1],H=si[q+1][1],K=si[n(19,q+2)][1],B-=(je=(Ke>=0?h:-h)*(H+Pe*(K-L)/2+Pe*Pe*(K-2*H+L)/2)-Ke)*S}while(k(je)>x&&--He>0);break}}while(--q>=0);var $e=si[q][0],lt=si[q+1][0],ft=si[n(19,q+2)][0];return[Ye/(lt+Pe*(ft-$e)/2+Pe*Pe*(ft-2*lt+$e)/2),B*w]};var Eo=1e-4,Lo=1e4,Xo=-180,as=Xo+Eo,dr=180,ks=dr-Eo,uo=-90,Fi=uo+Eo,Co=90,Na=Co-Eo;function Ea(Ye){return Ye.length>0}function Qi(Ye){return Ye===uo||Ye===Co?[0,Ye]:[Xo,(Ke=Ye,Math.floor(Ke*Lo)/Lo)];var Ke}function Ja(Ye){var Ke=Ye[0],it=Ye[1],B=!1;return Ke<=as?(Ke=Xo,B=!0):Ke>=ks&&(Ke=dr,B=!0),it<=Fi?(it=uo,B=!0):it>=Na&&(it=Co,B=!0),B?[Ke,it]:Ye}function La(Ye){return Ye.map(Ja)}function co(Ye,Ke,it){for(var B=0,G=Ye.length;B<G;++B){var q=Ye[B].slice();it.push({index:-1,polygon:Ke,ring:q});for(var L=0,H=q.length;L<H;++L){var K=q[L],ne=K[0],ce=K[1];if(ne<=as||ne>=ks||ce<=Fi||ce>=Na){q[L]=Ja(K);for(var me=L+1;me<H;++me){var Le=q[me],Pe=Le[0],je=Le[1];if(Pe>as&&Pe<ks&&je>Fi&&je<Na)break}if(me===L+1)continue;if(L){var He={index:-1,polygon:Ke,ring:q.slice(0,L+1)};He.ring[He.ring.length-1]=Qi(ce),it[it.length-1]=He}else it.pop();if(me>=H)break;it.push({index:-1,polygon:Ke,ring:q=q.slice(me-1)}),q[0]=Qi(q[0][1]),L=-1,H=q.length}}}}function As(Ye){var Ke,it,B,G,q,L,H=Ye.length,K={},ne={};for(Ke=0;Ke<H;++Ke)B=(it=Ye[Ke]).ring[0],q=it.ring[it.ring.length-1],B[0]!==q[0]||B[1]!==q[1]?(it.index=Ke,K[B]=ne[q]=it):(it.polygon.push(it.ring),Ye[Ke]=null);for(Ke=0;Ke<H;++Ke)if(it=Ye[Ke]){if(B=it.ring[0],q=it.ring[it.ring.length-1],G=ne[B],L=K[q],delete K[B],delete ne[q],B[0]===q[0]&&B[1]===q[1]){it.polygon.push(it.ring);continue}G?(delete ne[B],delete K[G.ring[0]],G.ring.pop(),Ye[G.index]=null,it={index:-1,polygon:G.polygon,ring:G.ring.concat(it.ring)},G===L?it.polygon.push(it.ring):(it.index=H++,Ye.push(K[it.ring[0]]=ne[it.ring[it.ring.length-1]]=it))):L?(delete K[q],delete ne[L.ring[L.ring.length-1]],it.ring.pop(),it={index:H++,polygon:L.polygon,ring:it.ring.concat(L.ring)},Ye[L.index]=null,Ye.push(K[it.ring[0]]=ne[it.ring[it.ring.length-1]]=it)):(it.ring.push(it.ring[0]),it.polygon.push(it.ring))}}function Oo(Ye){var Ke={type:"Feature",geometry:Hr(Ye.geometry)};return null!=Ye.id&&(Ke.id=Ye.id),null!=Ye.bbox&&(Ke.bbox=Ye.bbox),null!=Ye.properties&&(Ke.properties=Ye.properties),Ke}function Hr(Ye){if(null==Ye)return Ye;var Ke,it,B,G;switch(Ye.type){case"GeometryCollection":Ke={type:"GeometryCollection",geometries:Ye.geometries.map(Hr)};break;case"Point":Ke={type:"Point",coordinates:Ja(Ye.coordinates)};break;case"MultiPoint":case"LineString":Ke={type:Ye.type,coordinates:La(Ye.coordinates)};break;case"MultiLineString":Ke={type:"MultiLineString",coordinates:Ye.coordinates.map(La)};break;case"Polygon":var q=[];co(Ye.coordinates,q,it=[]),As(it),Ke={type:"Polygon",coordinates:q};break;case"MultiPolygon":it=[],B=-1,G=Ye.coordinates.length;for(var L=new Array(G);++B<G;)co(Ye.coordinates[B],L[B]=[],it);As(it),Ke={type:"MultiPolygon",coordinates:L.filter(Ea)};break;default:return Ye}return null!=Ye.bbox&&(Ke.bbox=Ye.bbox),Ke}function Hi(Ye){if(null==Ye)return Ye;switch(Ye.type){case"Feature":return Oo(Ye);case"FeatureCollection":var Ke={type:"FeatureCollection",features:Ye.features.map(Oo)};return null!=Ye.bbox&&(Ke.bbox=Ye.bbox),Ke;default:return Hr(Ye)}}function oa(Ye,Ke){var it=d(Ke/2),B=u(m*it);return[Ye*(.74482-.34588*B*B),1.70711*it]}function Ka(){return(0,M.Z)(oa).scale(146.153)}function sa(Ye,Ke,it){var B=(0,Go.Z)(Ke,it),G=B(.5),q=(0,Xe.Z)([-G[0],-G[1]])(Ke),L=B.distance/2,H=-E(u(q[1]*w)/u(L)),K=[-G[0],-G[1],-(q[0]>0?g-H:H)*S],ne=(0,M.Z)(Ye(L)).rotate(K),ce=(0,Xe.Z)(K),me=ne.center;return delete ne.rotate,ne.center=function(Le){return arguments.length?me(ce(Le)):ce.invert(me())},ne.clipAngle(90)}function os(Ye){var Ke=b(Ye);function it(B,G){var q=(0,Zr.M)(B,G);return q[0]*=Ke,q}return it.invert=function(B,G){return Zr.M.invert(B/Ke,G)},it}function ss(){return la([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function la(Ye,Ke){return sa(os,Ye,Ke)}function Ur(Ye){if(!(Ye*=2))return Q.N;var Ke=-Ye/2,it=-Ke,B=Ye*Ye,G=d(it),q=.5/u(it);function L(H,K){var ne=C(b(K)*b(H-Ke)),ce=C(b(K)*b(H-it));return[((ne*=ne)-(ce*=ce))/(2*Ye),(K<0?-1:1)*O(4*B*ce-(B-ne+ce)*(B-ne+ce))/(2*Ye)]}return L.invert=function(H,K){var ne,ce,me=K*K,Le=b(O(me+(ne=H+Ke)*ne)),Pe=b(O(me+(ne=H+it)*ne));return[T(ce=Le-Pe,ne=(Le+Pe)*G),(K<0?-1:1)*C(O(ne*ne+ce*ce)*q)]},L}function $a(){return Jo([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Jo(Ye,Ke){return sa(Ur,Ye,Ke)}function ja(Ye,Ke){if(k(Ke)<c)return[Ye,0];var it=k(Ke/h),B=E(it);if(k(Ye)<c||k(k(Ke)-h)<c)return[0,l(Ke)*g*d(B/2)];var G=b(B),q=k(g/Ye-Ye/g)/2,L=q*q,H=G/(it+G-1),K=H*(2/it-1),ne=K*K,ce=ne+L,me=H-ne,Le=L+H;return[l(Ye)*g*(q*me+O(L*me*me-ce*(H*H-ne)))/ce,l(Ke)*g*(K*Le-q*O((L+1)*ce-Le*Le))/ce]}function ls(){return(0,M.Z)(ja).scale(79.4183)}function us(Ye,Ke){if(k(Ke)<c)return[Ye,0];var it=k(Ke/h),B=E(it);if(k(Ye)<c||k(k(Ke)-h)<c)return[0,l(Ke)*g*d(B/2)];var G=b(B),q=k(g/Ye-Ye/g)/2,L=q*q,H=G*(O(1+L)-q*G)/(1+L*it*it);return[l(Ye)*g*H,l(Ke)*g*O(1-H*(2*q+H))]}function Ua(){return(0,M.Z)(us).scale(79.4183)}function li(Ye,Ke){if(k(Ke)<c)return[Ye,0];var it=Ke/h,B=E(it);if(k(Ye)<c||k(k(Ke)-h)<c)return[0,g*d(B/2)];var G=(g/Ye-Ye/g)/2,q=it/(1+b(B));return[g*(l(Ye)*O(G*G+1-q*q)-G),g*q]}function Ko(){return(0,M.Z)(li).scale(79.4183)}function Tr(Ye,Ke){if(!Ke)return[Ye,0];var it=k(Ke);if(!Ye||it===h)return[0,Ke];var B=it/h,G=B*B,q=(8*B-G*(G+2)-5)/(2*G*(B-1)),L=q*q,H=B*q,K=G+L+2*H,ne=B+3*q,ce=Ye/h,me=ce+1/ce,Le=l(k(Ye)-h)*O(me*me-4),Pe=Le*Le,je=(Le*(K+L-1)+2*O(K*(G+L*Pe-1)+(1-G)*(G*(ne*ne+4*L)+12*H*L+4*L*L)))/(4*K+Pe);return[l(Ye)*h*je,l(Ke)*h*O(1+Le*k(je)-je*je)]}function Cr(){return(0,M.Z)(Tr).scale(127.16)}function ba(Ye,Ke,it,B){var G=g/3;Ye=i(Ye,c),Ke=i(Ke,c),Ye=n(Ye,h),Ke=n(Ke,g-c),it=i(it,0),it=n(it,100-c);var q=(B=i(B,c))/100,L=C((it/100+1)*b(G))/G,H=u(Ye)/u(L*h),K=Ke/g,ne=O(q*u(Ye/2)/u(Ke/2));return function(ce,me,Le,Pe,je){function He($e,lt){var ft=Le*u(Pe*lt),xt=O(1-ft*ft),Mt=O(2/(1+xt*b($e*=je)));return[ce*xt*Mt*u($e),me*ft*Mt]}return He.invert=function($e,lt){var ft=$e/ce,xt=lt/me,Mt=O(ft*ft+xt*xt),Tt=2*E(Mt/2);return[T($e*d(Tt),ce*Mt)/je,Mt&&E(lt*u(Tt)/(me*Le*Mt))/Pe]},He}(ne/O(K*H*L),1/(ne*O(K*H*L)),H,L,K)}function Qa(){var Ye=65*w,Ke=60*w,it=20,B=200,G=(0,M.r)(ba),q=G(Ye,Ke,it,B);return q.poleline=function(L){return arguments.length?G(Ye=+L*w,Ke,it,B):Ye*S},q.parallels=function(L){return arguments.length?G(Ye,Ke=+L*w,it,B):Ke*S},q.inflation=function(L){return arguments.length?G(Ye,Ke,it=+L,B):it},q.ratio=function(L){return arguments.length?G(Ye,Ke,it,B=+L):B},q.scale(163.775)}function fo(){return Qa().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}oa.invert=function(Ye,Ke){var it=Ke/1.70711,B=u(m*it);return[Ye/(.74482-.34588*B*B),2*a(it)]},ja.invert=function(Ye,Ke){if(k(Ke)<c)return[Ye,0];if(k(Ye)<c)return[0,h*u(2*a(Ke/g))];var it=(Ye/=g)*Ye,B=(Ke/=g)*Ke,G=it+B,q=G*G,L=-k(Ke)*(1+G),H=L-2*B+it,K=-2*L+1+2*B+q,ne=B/K+(2*H*H*H/(K*K*K)-9*L*H/(K*K))/27,ce=(L-H*H/(3*K))/K,me=2*O(-ce/3),Le=C(3*ne/(ce*me))/3;return[g*(G-1+O(1+2*(it-B)+q))/(2*Ye),l(Ke)*g*(-me*b(Le+g/3)-H/(3*K))]},us.invert=function(Ye,Ke){if(!Ye)return[0,h*u(2*a(Ke/g))];var it=k(Ye/g),B=(1-it*it-(Ke/=g)*Ke)/(2*it),G=O(B*B+1);return[l(Ye)*g*(G-B),l(Ke)*h*u(2*T(O((1-2*B*it)*(B+G)-it),O(G+B+it)))]},li.invert=function(Ye,Ke){if(!Ke)return[Ye,0];var it=Ke/g,B=(g*g*(1-it*it)-Ye*Ye)/(2*g*Ye);return[Ye?g*(l(Ye)*O(B*B+1)-B):0,h*u(2*a(it))]},Tr.invert=function(Ye,Ke){var it;if(!Ye||!Ke)return[Ye,Ke];Ke/=g;var B=l(Ye)*Ye/h,G=(B*B-1+4*Ke*Ke)/k(B),q=G*G,L=2*Ke,H=50;do{var K=L*L,ne=(8*L-K*(K+2)-5)/(2*K*(L-1)),ce=(3*L-K*L-10)/(2*K*L),me=ne*ne,Le=L*ne,Pe=L+ne,je=Pe*Pe,He=L+3*ne,$e=-2*Pe*(4*Le*me+(1-4*K+3*K*K)*(1+ce)+me*(14*K-6-q+(8*K-8-2*q)*ce)+Le*(12*K-8+(10*K-10-q)*ce)),lt=O(je*(K+me*q-1)+(1-K)*(K*(He*He+4*me)+me*(12*Le+4*me)));L-=it=(G*(je+me-1)+2*lt-B*(4*je+q))/(G*(2*ne*ce+2*Pe*(1+ce))+$e/lt-8*Pe*(G*(-1+me+je)+2*lt)*(1+ce)/(q+4*je))}while(it>c&&--H>0);return[l(Ye)*(O(G*G+4)+G)*g/4,h*L]};var Ei=4*g+3*O(3),eo=2*O(2*g*O(3)/Ei),Qr=we(eo*O(3)/g,eo,Ei/6);function fl(){return(0,M.Z)(Qr).scale(176.84)}function _a(Ye,Ke){return[Ye*O(1-3*Ke*Ke/(g*g)),Ke]}function ni(){return(0,M.Z)(_a).scale(152.63)}function pi(Ye,Ke){var it=b(Ke),B=b(Ye)*it,G=1-B,q=b(Ye=T(u(Ye)*it,-u(Ke))),L=u(Ye);return[L*(it=O(1-B*B))-q*G,-q*it-L*G]}function pa(){return(0,M.Z)(pi).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Po(Ye,Ke){var it=N(Ye,Ke);return[(it[0]+Ye/h)/2,(it[1]+Ke)/2]}function Qs(){return(0,M.Z)(Po).scale(158.837)}_a.invert=function(Ye,Ke){return[Ye/O(1-3*Ke*Ke/(g*g)),Ke]},pi.invert=function(Ye,Ke){var it=(Ye*Ye+Ke*Ke)/-2,B=O(-it*(2+it)),G=Ke*it+Ye*B,q=Ye*it-Ke*B,L=O(q*q+G*G);return[T(B*G,L*(1+it)),L?-E(B*q/L):0]},Po.invert=function(Ye,Ke){var it=Ye,B=Ke,G=25;do{var q,L=b(B),H=u(B),K=u(2*B),ne=H*H,ce=L*L,me=u(it),Le=b(it/2),Pe=u(it/2),je=Pe*Pe,He=1-ce*Le*Le,$e=He?C(L*Le)*O(q=1/He):q=0,lt=.5*(2*$e*L*Pe+it/h)-Ye,ft=.5*($e*H+B)-Ke,xt=.5*q*(ce*je+$e*L*Le*ne)+.5/h,Mt=q*(me*K/4-$e*H*Pe),Tt=.125*q*(K*Pe-$e*H*ce*me),Dt=.5*q*(ne*Le+$e*je*L)+.5,Et=Mt*Tt-Dt*xt,Gt=(ft*Mt-lt*Dt)/Et,Ut=(lt*Tt-ft*xt)/Et;it-=Gt,B-=Ut}while((k(Gt)>c||k(Ut)>c)&&--G>0);return[it,B]}},33940:function(ee,D,e){"use strict";function M(){return new k}function k(){this.reset()}e.d(D,{Z:function(){return M}}),k.prototype={constructor:k,reset:function(){this.s=this.t=0},add:function(b){T(a,b,this.t),T(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new k;function T(b,p,s){var t=b.s=p+s,i=t-p,n=t-i;b.t=p-n+(s-i)}},97860:function(ee,D,e){"use strict";e.d(D,{L9:function(){return n},ZP:function(){return x},gL:function(){return o}});var M,k,a,T,b,p=e(33940),s=e(39695),t=e(73182),i=e(72736),n=(0,p.Z)(),r=(0,p.Z)(),o={point:t.Z,lineStart:t.Z,lineEnd:t.Z,polygonStart:function(){n.reset(),o.lineStart=l,o.lineEnd=u},polygonEnd:function(){var g=+n;r.add(g<0?s.BZ+g:g),this.lineStart=this.lineEnd=this.point=t.Z},sphere:function(){r.add(s.BZ)}};function l(){o.point=d}function u(){c(M,k)}function d(g,h){o.point=c,M=g,k=h,g*=s.uR,h*=s.uR,a=g,T=(0,s.mC)(h=h/2+s.pu),b=(0,s.O$)(h)}function c(g,h){g*=s.uR,h=(h*=s.uR)/2+s.pu;var m=g-a,y=m>=0?1:-1,v=y*m,_=(0,s.mC)(h),f=(0,s.O$)(h),S=b*f,w=T*_+S*(0,s.mC)(v),E=S*y*(0,s.O$)(v);n.add((0,s.fv)(E,w)),a=g,T=_,b=f}function x(g){return r.reset(),(0,i.Z)(g,o),2*r}},77338:function(ee,D,e){"use strict";e.d(D,{Z:function(){return C}});var M,k,a,T,b,p,s,t,i,n,r=e(33940),o=e(97860),l=e(7620),u=e(39695),d=e(72736),c=(0,r.Z)(),x={point:g,lineStart:m,lineEnd:y,polygonStart:function(){x.point=v,x.lineStart=_,x.lineEnd=f,c.reset(),o.gL.polygonStart()},polygonEnd:function(){o.gL.polygonEnd(),x.point=g,x.lineStart=m,x.lineEnd=y,o.L9<0?(M=-(a=180),k=-(T=90)):c>u.Ho?T=90:c<-u.Ho&&(k=-90),n[0]=M,n[1]=a},sphere:function(){M=-(a=180),k=-(T=90)}};function g(O,P){i.push(n=[M=O,a=O]),P<k&&(k=P),P>T&&(T=P)}function h(O,P){var R=(0,l.Og)([O*u.uR,P*u.uR]);if(t){var j=(0,l.T5)(t,R),z=[j[1],-j[0],0],N=(0,l.T5)(z,j);(0,l.iJ)(N),N=(0,l.Y1)(N);var Y,F=O-b,U=F>0?1:-1,V=N[0]*u.RW*U,te=(0,u.Wn)(F)>180;te^(U*b<V&&V<U*O)?(Y=N[1]*u.RW)>T&&(T=Y):te^(U*b<(V=(V+360)%360-180)&&V<U*O)?(Y=-N[1]*u.RW)<k&&(k=Y):(P<k&&(k=P),P>T&&(T=P)),te?O<b?S(M,O)>S(M,a)&&(a=O):S(O,a)>S(M,a)&&(M=O):a>=M?(O<M&&(M=O),O>a&&(a=O)):O>b?S(M,O)>S(M,a)&&(a=O):S(O,a)>S(M,a)&&(M=O)}else i.push(n=[M=O,a=O]);P<k&&(k=P),P>T&&(T=P),t=R,b=O}function m(){x.point=h}function y(){n[0]=M,n[1]=a,x.point=g,t=null}function v(O,P){if(t){var R=O-b;c.add((0,u.Wn)(R)>180?R+(R>0?360:-360):R)}else p=O,s=P;o.gL.point(O,P),h(O,P)}function _(){o.gL.lineStart()}function f(){v(p,s),o.gL.lineEnd(),(0,u.Wn)(c)>u.Ho&&(M=-(a=180)),n[0]=M,n[1]=a,t=null}function S(O,P){return(P-=O)<0?P+360:P}function w(O,P){return O[0]-P[0]}function E(O,P){return O[0]<=O[1]?O[0]<=P&&P<=O[1]:P<O[0]||O[1]<P}function C(O){var P,R,j,z,N,Y,F;if(T=a=-(M=k=1/0),i=[],(0,d.Z)(O,x),R=i.length){for(i.sort(w),P=1,N=[j=i[0]];P<R;++P)E(j,(z=i[P])[0])||E(j,z[1])?(S(j[0],z[1])>S(j[0],j[1])&&(j[1]=z[1]),S(z[0],j[1])>S(j[0],j[1])&&(j[0]=z[0])):N.push(j=z);for(Y=-1/0,P=0,j=N[R=N.length-1];P<=R;j=z,++P)z=N[P],(F=S(j[1],z[0]))>Y&&(Y=F,M=z[0],a=j[1])}return i=n=null,M===1/0||k===1/0?[[NaN,NaN],[NaN,NaN]]:[[M,k],[a,T]]}},7620:function(ee,D,e){"use strict";e.d(D,{Og:function(){return a},T:function(){return s},T5:function(){return b},Y1:function(){return k},iJ:function(){return t},j9:function(){return T},s0:function(){return p}});var M=e(39695);function k(i){return[(0,M.fv)(i[1],i[0]),(0,M.ZR)(i[2])]}function a(i){var n=i[0],r=i[1],o=(0,M.mC)(r);return[o*(0,M.mC)(n),o*(0,M.O$)(n),(0,M.O$)(r)]}function T(i,n){return i[0]*n[0]+i[1]*n[1]+i[2]*n[2]}function b(i,n){return[i[1]*n[2]-i[2]*n[1],i[2]*n[0]-i[0]*n[2],i[0]*n[1]-i[1]*n[0]]}function p(i,n){i[0]+=n[0],i[1]+=n[1],i[2]+=n[2]}function s(i,n){return[i[0]*n,i[1]*n,i[2]*n]}function t(i){var n=(0,M._b)(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=n,i[1]/=n,i[2]/=n}},66624:function(ee,D,e){"use strict";e.d(D,{Z:function(){return R}});var M,k,a,T,b,p,s,t,i,n,r,o,l,u,d,c,x=e(39695),g=e(73182),h=e(72736),m={sphere:g.Z,point:y,lineStart:_,lineEnd:w,polygonStart:function(){m.lineStart=E,m.lineEnd=C},polygonEnd:function(){m.lineStart=_,m.lineEnd=w}};function y(j,z){j*=x.uR,z*=x.uR;var N=(0,x.mC)(z);v(N*(0,x.mC)(j),N*(0,x.O$)(j),(0,x.O$)(z))}function v(j,z,N){++M,a+=(j-a)/M,T+=(z-T)/M,b+=(N-b)/M}function _(){m.point=f}function f(j,z){j*=x.uR,z*=x.uR;var N=(0,x.mC)(z);u=N*(0,x.mC)(j),d=N*(0,x.O$)(j),c=(0,x.O$)(z),m.point=S,v(u,d,c)}function S(j,z){j*=x.uR,z*=x.uR;var N=(0,x.mC)(z),Y=N*(0,x.mC)(j),F=N*(0,x.O$)(j),U=(0,x.O$)(z),V=(0,x.fv)((0,x._b)((V=d*U-c*F)*V+(V=c*Y-u*U)*V+(V=u*F-d*Y)*V),u*Y+d*F+c*U);k+=V,p+=V*(u+(u=Y)),s+=V*(d+(d=F)),t+=V*(c+(c=U)),v(u,d,c)}function w(){m.point=y}function E(){m.point=O}function C(){P(o,l),m.point=y}function O(j,z){o=j,l=z,j*=x.uR,z*=x.uR,m.point=P;var N=(0,x.mC)(z);u=N*(0,x.mC)(j),d=N*(0,x.O$)(j),c=(0,x.O$)(z),v(u,d,c)}function P(j,z){j*=x.uR,z*=x.uR;var N=(0,x.mC)(z),Y=N*(0,x.mC)(j),F=N*(0,x.O$)(j),U=(0,x.O$)(z),V=d*U-c*F,te=c*Y-u*U,$=u*F-d*Y,X=(0,x._b)(V*V+te*te+$*$),W=(0,x.ZR)(X),J=X&&-W/X;i+=J*V,n+=J*te,r+=J*$,k+=W,p+=W*(u+(u=Y)),s+=W*(d+(d=F)),t+=W*(c+(c=U)),v(u,d,c)}function R(j){M=k=a=T=b=p=s=t=i=n=r=0,(0,h.Z)(j,m);var z=i,N=n,Y=r,F=z*z+N*N+Y*Y;return F<x.aW&&(z=p,N=s,Y=t,k<x.Ho&&(z=a,N=T,Y=b),(F=z*z+N*N+Y*Y)<x.aW)?[NaN,NaN]:[(0,x.fv)(N,z)*x.RW,(0,x.ZR)(Y/(0,x._b)(F))*x.RW]}},7613:function(ee,D,e){"use strict";e.d(D,{m:function(){return b},Z:function(){return s}});var M=e(7620);function k(t){return function(){return t}}var a=e(39695),T=e(49386);function b(t,i,n,r,o,l){if(n){var u=(0,a.mC)(i),d=(0,a.O$)(i),c=r*n;null==o?(o=i+r*a.BZ,l=i-c/2):(o=p(u,o),l=p(u,l),(r>0?o<l:o>l)&&(o+=r*a.BZ));for(var x,g=o;r>0?g>l:g<l;g-=c)x=(0,M.Y1)([u,-d*(0,a.mC)(g),-d*(0,a.O$)(g)]),t.point(x[0],x[1])}}function p(t,i){(i=(0,M.Og)(i))[0]-=t,(0,M.iJ)(i);var n=(0,a.Kh)(-i[1]);return((-i[2]<0?-n:n)+a.BZ-a.Ho)%a.BZ}function s(){var t,i,n=k([0,0]),r=k(90),o=k(6),l={point:function(d,c){t.push(d=i(d,c)),d[0]*=a.RW,d[1]*=a.RW}};function u(){var d=n.apply(this,arguments),c=r.apply(this,arguments)*a.uR,x=o.apply(this,arguments)*a.uR;return t=[],i=(0,T.I)(-d[0]*a.uR,-d[1]*a.uR,0).invert,b(l,c,x,1),d={type:"Polygon",coordinates:[t]},t=i=null,d}return u.center=function(d){return arguments.length?(n="function"==typeof d?d:k([+d[0],+d[1]]),u):n},u.radius=function(d){return arguments.length?(r="function"==typeof d?d:k(+d),u):r},u.precision=function(d){return arguments.length?(o="function"==typeof d?d:k(+d),u):o},u}},87070:function(ee,D,e){"use strict";var M=e(97023),k=e(39695);D.Z=(0,M.Z)(function(){return!0},function(a){var T,b=NaN,p=NaN,s=NaN;return{lineStart:function(){a.lineStart(),T=1},point:function(t,i){var o,l,u,d,c,x,g,n=t>0?k.pi:-k.pi,r=(0,k.Wn)(t-b);(0,k.Wn)(r-k.pi)<k.Ho?(a.point(b,p=(p+i)/2>0?k.ou:-k.ou),a.point(s,p),a.lineEnd(),a.lineStart(),a.point(n,p),a.point(t,p),T=0):s!==n&&r>=k.pi&&((0,k.Wn)(b-s)<k.Ho&&(b-=s*k.Ho),(0,k.Wn)(t-n)<k.Ho&&(t-=n*k.Ho),o=b,l=p,u=t,d=i,g=(0,k.O$)(o-u),p=(0,k.Wn)(g)>k.Ho?(0,k.z4)(((0,k.O$)(l)*(x=(0,k.mC)(d))*(0,k.O$)(u)-(0,k.O$)(d)*(c=(0,k.mC)(l))*(0,k.O$)(o))/(c*x*g)):(l+d)/2,a.point(s,p),a.lineEnd(),a.lineStart(),a.point(n,p),T=0),a.point(b=t,p=i),s=n},lineEnd:function(){a.lineEnd(),b=p=NaN},clean:function(){return 2-T}}},function(a,T,b,p){var s;if(null==a)s=b*k.ou,p.point(-k.pi,s),p.point(0,s),p.point(k.pi,s),p.point(k.pi,0),p.point(k.pi,-s),p.point(0,-s),p.point(-k.pi,-s),p.point(-k.pi,0),p.point(-k.pi,s);else if((0,k.Wn)(a[0]-T[0])>k.Ho){var t=a[0]<T[0]?k.pi:-k.pi;s=b*t/2,p.point(-t,s),p.point(0,s),p.point(t,s)}else p.point(T[0],T[1])},[-k.pi,-k.ou])},85272:function(ee,D,e){"use strict";e.d(D,{Z:function(){return k}});var M=e(73182);function k(){var a,T=[];return{point:function(b,p,s){a.push([b,p,s])},lineStart:function(){T.push(a=[])},lineEnd:M.Z,rejoin:function(){T.length>1&&T.push(T.pop().concat(T.shift()))},result:function(){var b=T;return T=[],a=null,b}}}},1457:function(ee,D,e){"use strict";e.d(D,{Z:function(){return p}});var M=e(7620),k=e(7613),a=e(39695),T=e(67108),b=e(97023);function p(s){var t=(0,a.mC)(s),i=6*a.uR,n=t>0,r=(0,a.Wn)(t)>a.Ho;function o(d,c){return(0,a.mC)(d)*(0,a.mC)(c)>t}function l(d,c,x){var g=(0,M.Og)(d),h=(0,M.Og)(c),m=[1,0,0],y=(0,M.T5)(g,h),v=(0,M.j9)(y,y),_=y[0],f=v-_*_;if(!f)return!x&&d;var S=t*v/f,w=-t*_/f,E=(0,M.T5)(m,y),C=(0,M.T)(m,S),O=(0,M.T)(y,w);(0,M.s0)(C,O);var P=E,R=(0,M.j9)(C,P),j=(0,M.j9)(P,P),z=R*R-j*((0,M.j9)(C,C)-1);if(!(z<0)){var N=(0,a._b)(z),Y=(0,M.T)(P,(-R-N)/j);if((0,M.s0)(Y,C),Y=(0,M.Y1)(Y),!x)return Y;var F,U=d[0],V=c[0],te=d[1],$=c[1];V<U&&(F=U,U=V,V=F);var X=V-U,W=(0,a.Wn)(X-a.pi)<a.Ho;if(!W&&$<te&&(F=te,te=$,$=F),W||X<a.Ho?W?te+$>0^Y[1]<((0,a.Wn)(Y[0]-U)<a.Ho?te:$):te<=Y[1]&&Y[1]<=$:X>a.pi^(U<=Y[0]&&Y[0]<=V)){var J=(0,M.T)(P,(-R+N)/j);return(0,M.s0)(J,C),[Y,(0,M.Y1)(J)]}}}function u(d,c){var x=n?s:a.pi-s,g=0;return d<-x?g|=1:d>x&&(g|=2),c<-x?g|=4:c>x&&(g|=8),g}return(0,b.Z)(o,function(d){var c,x,g,h,m;return{lineStart:function(){h=g=!1,m=1},point:function(y,v){var _,f=[y,v],S=o(y,v),w=n?S?0:u(y,v):S?u(y+(y<0?a.pi:-a.pi),v):0;if(!c&&(h=g=S)&&d.lineStart(),S!==g&&(!(_=l(c,f))||(0,T.Z)(c,_)||(0,T.Z)(f,_))&&(f[2]=1),S!==g)m=0,S?(d.lineStart(),_=l(f,c),d.point(_[0],_[1])):(_=l(c,f),d.point(_[0],_[1],2),d.lineEnd()),c=_;else if(r&&c&&n^S){var E;w&x||!(E=l(f,c,!0))||(m=0,n?(d.lineStart(),d.point(E[0][0],E[0][1]),d.point(E[1][0],E[1][1]),d.lineEnd()):(d.point(E[1][0],E[1][1]),d.lineEnd(),d.lineStart(),d.point(E[0][0],E[0][1],3)))}!S||c&&(0,T.Z)(c,f)||d.point(f[0],f[1]),c=f,g=S,x=w},lineEnd:function(){g&&d.lineEnd(),c=null},clean:function(){return m|(h&&g)<<1}}},function(d,c,x,g){(0,k.m)(g,s,i,x,d,c)},n?[0,-s]:[-a.pi,s-a.pi])}},97023:function(ee,D,e){"use strict";e.d(D,{Z:function(){return p}});var M=e(85272),k=e(46225),a=e(39695),T=e(23071),b=e(33064);function p(i,n,r,o){return function(l){var u,d,c,x=n(l),g=(0,M.Z)(),h=n(g),m=!1,y={point:v,lineStart:f,lineEnd:S,polygonStart:function(){y.point=w,y.lineStart=E,y.lineEnd=C,d=[],u=[]},polygonEnd:function(){y.point=v,y.lineStart=f,y.lineEnd=S,d=(0,b.TS)(d);var O=(0,T.Z)(u,o);d.length?(m||(l.polygonStart(),m=!0),(0,k.Z)(d,t,O,r,l)):O&&(m||(l.polygonStart(),m=!0),l.lineStart(),r(null,null,1,l),l.lineEnd()),m&&(l.polygonEnd(),m=!1),d=u=null},sphere:function(){l.polygonStart(),l.lineStart(),r(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function v(O,P){i(O,P)&&l.point(O,P)}function _(O,P){x.point(O,P)}function f(){y.point=_,x.lineStart()}function S(){y.point=v,x.lineEnd()}function w(O,P){c.push([O,P]),h.point(O,P)}function E(){h.lineStart(),c=[]}function C(){w(c[0][0],c[0][1]),h.lineEnd();var O,P,R,j,z=h.clean(),N=g.result(),Y=N.length;if(c.pop(),u.push(c),c=null,Y)if(1&z){if((P=(R=N[0]).length-1)>0){for(m||(l.polygonStart(),m=!0),l.lineStart(),O=0;O<P;++O)l.point((j=R[O])[0],j[1]);l.lineEnd()}}else Y>1&&2&z&&N.push(N.pop().concat(N.shift())),d.push(N.filter(s))}return y}}function s(i){return i.length>1}function t(i,n){return((i=i.x)[0]<0?i[1]-a.ou-a.Ho:a.ou-i[1])-((n=n.x)[0]<0?n[1]-a.ou-a.Ho:a.ou-n[1])}},87605:function(ee,D,e){"use strict";e.d(D,{Z:function(){return s}});var M=e(39695),k=e(85272),a=e(46225),T=e(33064),b=1e9,p=-b;function s(t,i,n,r){function o(x,g){return t<=x&&x<=n&&i<=g&&g<=r}function l(x,g,h,m){var y=0,v=0;if(null==x||(y=u(x,h))!==(v=u(g,h))||c(x,g)<0^h>0)do{m.point(0===y||3===y?t:n,y>1?r:i)}while((y=(y+h+4)%4)!==v);else m.point(g[0],g[1])}function u(x,g){return(0,M.Wn)(x[0]-t)<M.Ho?g>0?0:3:(0,M.Wn)(x[0]-n)<M.Ho?g>0?2:1:(0,M.Wn)(x[1]-i)<M.Ho?g>0?1:0:g>0?3:2}function d(x,g){return c(x.x,g.x)}function c(x,g){var h=u(x,1),m=u(g,1);return h!==m?h-m:0===h?g[1]-x[1]:1===h?x[0]-g[0]:2===h?x[1]-g[1]:g[0]-x[0]}return function(x){var g,h,m,y,v,_,f,S,w,E,C,O=x,P=(0,k.Z)(),R={point:j,lineStart:function(){R.point=z,h&&h.push(m=[]),E=!0,w=!1,f=S=NaN},lineEnd:function(){g&&(z(y,v),_&&w&&P.rejoin(),g.push(P.result())),R.point=j,w&&O.lineEnd()},polygonStart:function(){O=P,g=[],h=[],C=!0},polygonEnd:function(){var N=function(){for(var U=0,V=0,te=h.length;V<te;++V)for(var $,X,W=h[V],J=1,Q=W.length,re=W[0],ae=re[0],oe=re[1];J<Q;++J)$=ae,X=oe,ae=(re=W[J])[0],oe=re[1],X<=r?oe>r&&(ae-$)*(r-X)>(oe-X)*(t-$)&&++U:oe<=r&&(ae-$)*(r-X)<(oe-X)*(t-$)&&--U;return U}(),Y=C&&N,F=(g=(0,T.TS)(g)).length;(Y||F)&&(x.polygonStart(),Y&&(x.lineStart(),l(null,null,1,x),x.lineEnd()),F&&(0,a.Z)(g,d,N,l,x),x.polygonEnd()),O=x,g=h=m=null}};function j(N,Y){o(N,Y)&&O.point(N,Y)}function z(N,Y){var F=o(N,Y);if(h&&m.push([N,Y]),E)y=N,v=Y,_=F,E=!1,F&&(O.lineStart(),O.point(N,Y));else if(F&&w)O.point(N,Y);else{var U=[f=Math.max(p,Math.min(b,f)),S=Math.max(p,Math.min(b,S))],V=[N=Math.max(p,Math.min(b,N)),Y=Math.max(p,Math.min(b,Y))];!function(te,$,X,W,J,Q){var re,ae=te[0],oe=te[1],ue=0,ve=1,be=$[0]-ae,de=$[1]-oe;if(re=X-ae,be||!(re>0)){if(re/=be,be<0){if(re<ue)return;re<ve&&(ve=re)}else if(be>0){if(re>ve)return;re>ue&&(ue=re)}if(re=J-ae,be||!(re<0)){if(re/=be,be<0){if(re>ve)return;re>ue&&(ue=re)}else if(be>0){if(re<ue)return;re<ve&&(ve=re)}if(re=W-oe,de||!(re>0)){if(re/=de,de<0){if(re<ue)return;re<ve&&(ve=re)}else if(de>0){if(re>ve)return;re>ue&&(ue=re)}if(re=Q-oe,de||!(re<0)){if(re/=de,de<0){if(re>ve)return;re>ue&&(ue=re)}else if(de>0){if(re<ue)return;re<ve&&(ve=re)}return ue>0&&(te[0]=ae+ue*be,te[1]=oe+ue*de),ve<1&&($[0]=ae+ve*be,$[1]=oe+ve*de),!0}}}}}(U,V,t,i,n,r)?F&&(O.lineStart(),O.point(N,Y),C=!1):(w||(O.lineStart(),O.point(U[0],U[1])),O.point(V[0],V[1]),F||O.lineEnd(),C=!1)}f=N,S=Y,w=F}return R}}},46225:function(ee,D,e){"use strict";e.d(D,{Z:function(){return T}});var M=e(67108),k=e(39695);function a(p,s,t,i){this.x=p,this.z=s,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function T(p,s,t,i,n){var r,o,l=[],u=[];if(p.forEach(function(m){if(!((y=m.length-1)<=0)){var y,v,_=m[0],f=m[y];if((0,M.Z)(_,f)){if(!_[2]&&!f[2]){for(n.lineStart(),r=0;r<y;++r)n.point((_=m[r])[0],_[1]);return void n.lineEnd()}f[0]+=2*k.Ho}l.push(v=new a(_,m,null,!0)),u.push(v.o=new a(_,null,v,!1)),l.push(v=new a(f,m,null,!1)),u.push(v.o=new a(f,null,v,!0))}}),l.length){for(u.sort(s),b(l),b(u),r=0,o=u.length;r<o;++r)u[r].e=t=!t;for(var d,c,x=l[0];;){for(var g=x,h=!0;g.v;)if((g=g.n)===x)return;d=g.z,n.lineStart();do{if(g.v=g.o.v=!0,g.e){if(h)for(r=0,o=d.length;r<o;++r)n.point((c=d[r])[0],c[1]);else i(g.x,g.n.x,1,n);g=g.n}else{if(h)for(d=g.p.z,r=d.length-1;r>=0;--r)n.point((c=d[r])[0],c[1]);else i(g.x,g.p.x,-1,n);g=g.p}d=(g=g.o).z,h=!h}while(!g.v);n.lineEnd()}}}function b(p){if(s=p.length){for(var s,t,i=0,n=p[0];++i<s;)n.n=t=p[i],t.p=n,n=t;n.n=t=p[0],t.p=n}}},96059:function(ee,D,e){"use strict";function M(k,a){function T(b,p){return b=k(b,p),a(b[0],b[1])}return k.invert&&a.invert&&(T.invert=function(b,p){return(b=a.invert(b,p))&&k.invert(b[0],b[1])}),T}e.d(D,{Z:function(){return M}})},8593:function(ee,D,e){"use strict";function M(k){return k}e.d(D,{Z:function(){return M}})},27362:function(ee,D,e){"use strict";e.r(D),e.d(D,{geoAlbers:function(){return dt},geoAlbersUsa:function(){return kt},geoArea:function(){return M.ZP},geoAzimuthalEqualArea:function(){return yt.Z},geoAzimuthalEqualAreaRaw:function(){return yt.l},geoAzimuthalEquidistant:function(){return gt.Z},geoAzimuthalEquidistantRaw:function(){return gt.N},geoBounds:function(){return k.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return T.Z},geoClipAntimeridian:function(){return b.Z},geoClipCircle:function(){return p.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return s.Z},geoConicConformal:function(){return Ft},geoConicConformalRaw:function(){return Vt},geoConicEqualArea:function(){return pt},geoConicEqualAreaRaw:function(){return ct},geoConicEquidistant:function(){return kn},geoConicEquidistantRaw:function(){return wn},geoContains:function(){return N},geoDistance:function(){return S},geoEqualEarth:function(){return _n},geoEqualEarthRaw:function(){return xn},geoEquirectangular:function(){return en.Z},geoEquirectangularRaw:function(){return en.k},geoGnomonic:function(){return mn.Z},geoGnomonicRaw:function(){return mn.M},geoGraticule:function(){return V},geoGraticule10:function(){return te},geoIdentity:function(){return vn},geoInterpolate:function(){return Q.Z},geoLength:function(){return v},geoMercator:function(){return It},geoMercatorRaw:function(){return Lt},geoNaturalEarth1:function(){return On.Z},geoNaturalEarth1Raw:function(){return On.K},geoOrthographic:function(){return Bn.Z},geoOrthographicRaw:function(){return Bn.I},geoPath:function(){return Fe},geoProjection:function(){return et.Z},geoProjectionMutator:function(){return et.r},geoRotation:function(){return At.Z},geoStereographic:function(){return $n},geoStereographicRaw:function(){return or},geoStream:function(){return c.Z},geoTransform:function(){return An.Z},geoTransverseMercator:function(){return cr},geoTransverseMercatorRaw:function(){return qn}});var M=e(97860),k=e(77338),a=e(66624),T=e(7613),b=e(87070),p=e(1457),s=e(87605);function t(){var Nt,Jt,un,fn=0,Mn=0,Fn=960,In=500;return un={stream:function(Rn){return Nt&&Jt===Rn?Nt:Nt=(0,s.Z)(fn,Mn,Fn,In)(Jt=Rn)},extent:function(Rn){return arguments.length?(fn=+Rn[0][0],Mn=+Rn[0][1],Fn=+Rn[1][0],In=+Rn[1][1],Nt=Jt=null,un):[[fn,Mn],[Fn,In]]}}}var i,n,r,o=e(23071),l=e(33940),u=e(39695),d=e(73182),c=e(72736),x=(0,l.Z)(),g={sphere:d.Z,point:d.Z,lineStart:function(){g.point=m,g.lineEnd=h},lineEnd:d.Z,polygonStart:d.Z,polygonEnd:d.Z};function h(){g.point=g.lineEnd=d.Z}function m(Nt,Jt){Nt*=u.uR,Jt*=u.uR,i=Nt,n=(0,u.O$)(Jt),r=(0,u.mC)(Jt),g.point=y}function y(Nt,Jt){Nt*=u.uR,Jt*=u.uR;var un=(0,u.O$)(Jt),fn=(0,u.mC)(Jt),Mn=(0,u.Wn)(Nt-i),Fn=(0,u.mC)(Mn),In=fn*(0,u.O$)(Mn),Rn=r*un-n*fn*Fn,Jn=n*un+r*fn*Fn;x.add((0,u.fv)((0,u._b)(In*In+Rn*Rn),Jn)),i=Nt,n=un,r=fn}function v(Nt){return x.reset(),(0,c.Z)(Nt,g),+x}var _=[null,null],f={type:"LineString",coordinates:_};function S(Nt,Jt){return _[0]=Nt,_[1]=Jt,v(f)}var w={Feature:function(Nt,Jt){return C(Nt.geometry,Jt)},FeatureCollection:function(Nt,Jt){for(var un=Nt.features,fn=-1,Mn=un.length;++fn<Mn;)if(C(un[fn].geometry,Jt))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Nt,Jt){return O(Nt.coordinates,Jt)},MultiPoint:function(Nt,Jt){for(var un=Nt.coordinates,fn=-1,Mn=un.length;++fn<Mn;)if(O(un[fn],Jt))return!0;return!1},LineString:function(Nt,Jt){return P(Nt.coordinates,Jt)},MultiLineString:function(Nt,Jt){for(var un=Nt.coordinates,fn=-1,Mn=un.length;++fn<Mn;)if(P(un[fn],Jt))return!0;return!1},Polygon:function(Nt,Jt){return R(Nt.coordinates,Jt)},MultiPolygon:function(Nt,Jt){for(var un=Nt.coordinates,fn=-1,Mn=un.length;++fn<Mn;)if(R(un[fn],Jt))return!0;return!1},GeometryCollection:function(Nt,Jt){for(var un=Nt.geometries,fn=-1,Mn=un.length;++fn<Mn;)if(C(un[fn],Jt))return!0;return!1}};function C(Nt,Jt){return!(!Nt||!E.hasOwnProperty(Nt.type))&&E[Nt.type](Nt,Jt)}function O(Nt,Jt){return 0===S(Nt,Jt)}function P(Nt,Jt){for(var un,fn,Mn,Fn=0,In=Nt.length;Fn<In;Fn++){if(0===(fn=S(Nt[Fn],Jt))||Fn>0&&(Mn=S(Nt[Fn],Nt[Fn-1]))>0&&un<=Mn&&fn<=Mn&&(un+fn-Mn)*(1-Math.pow((un-fn)/Mn,2))<u.aW*Mn)return!0;un=fn}return!1}function R(Nt,Jt){return!!(0,o.Z)(Nt.map(j),z(Jt))}function j(Nt){return(Nt=Nt.map(z)).pop(),Nt}function z(Nt){return[Nt[0]*u.uR,Nt[1]*u.uR]}function N(Nt,Jt){return(Nt&&w.hasOwnProperty(Nt.type)?w[Nt.type]:C)(Nt,Jt)}var Y=e(33064);function F(Nt,Jt,un){var fn=(0,Y.w6)(Nt,Jt-u.Ho,un).concat(Jt);return function(Mn){return fn.map(function(Fn){return[Mn,Fn]})}}function U(Nt,Jt,un){var fn=(0,Y.w6)(Nt,Jt-u.Ho,un).concat(Jt);return function(Mn){return fn.map(function(Fn){return[Fn,Mn]})}}function V(){var Nt,Jt,un,fn,Mn,Fn,In,Rn,Jn,Yt,gn,Ct,Zt=10,$t=Zt,dn=90,yn=360,Sn=2.5;function ln(){return{type:"MultiLineString",coordinates:Wt()}}function Wt(){return(0,Y.w6)((0,u.mD)(fn/dn)*dn,un,dn).map(gn).concat((0,Y.w6)((0,u.mD)(Rn/yn)*yn,In,yn).map(Ct)).concat((0,Y.w6)((0,u.mD)(Jt/Zt)*Zt,Nt,Zt).filter(function(Xt){return(0,u.Wn)(Xt%dn)>u.Ho}).map(Jn)).concat((0,Y.w6)((0,u.mD)(Fn/$t)*$t,Mn,$t).filter(function(Xt){return(0,u.Wn)(Xt%yn)>u.Ho}).map(Yt))}return ln.lines=function(){return Wt().map(function(Xt){return{type:"LineString",coordinates:Xt}})},ln.outline=function(){return{type:"Polygon",coordinates:[gn(fn).concat(Ct(In).slice(1),gn(un).reverse().slice(1),Ct(Rn).reverse().slice(1))]}},ln.extent=function(Xt){return arguments.length?ln.extentMajor(Xt).extentMinor(Xt):ln.extentMinor()},ln.extentMajor=function(Xt){return arguments.length?(fn=+Xt[0][0],un=+Xt[1][0],Rn=+Xt[0][1],In=+Xt[1][1],fn>un&&(Xt=fn,fn=un,un=Xt),Rn>In&&(Xt=Rn,Rn=In,In=Xt),ln.precision(Sn)):[[fn,Rn],[un,In]]},ln.extentMinor=function(Xt){return arguments.length?(Jt=+Xt[0][0],Nt=+Xt[1][0],Fn=+Xt[0][1],Mn=+Xt[1][1],Jt>Nt&&(Xt=Jt,Jt=Nt,Nt=Xt),Fn>Mn&&(Xt=Fn,Fn=Mn,Mn=Xt),ln.precision(Sn)):[[Jt,Fn],[Nt,Mn]]},ln.step=function(Xt){return arguments.length?ln.stepMajor(Xt).stepMinor(Xt):ln.stepMinor()},ln.stepMajor=function(Xt){return arguments.length?(dn=+Xt[0],yn=+Xt[1],ln):[dn,yn]},ln.stepMinor=function(Xt){return arguments.length?(Zt=+Xt[0],$t=+Xt[1],ln):[Zt,$t]},ln.precision=function(Xt){return arguments.length?(Sn=+Xt,Jn=F(Fn,Mn,90),Yt=U(Jt,Nt,Sn),gn=F(Rn,In,90),Ct=U(fn,un,Sn),ln):Sn},ln.extentMajor([[-180,-90+u.Ho],[180,90-u.Ho]]).extentMinor([[-180,-80-u.Ho],[180,80+u.Ho]])}function te(){return V()()}var $,X,W,J,Q=e(83074),re=e(8593),ae=(0,l.Z)(),oe=(0,l.Z)(),ue={point:d.Z,lineStart:d.Z,lineEnd:d.Z,polygonStart:function(){ue.lineStart=ve,ue.lineEnd=pe},polygonEnd:function(){ue.lineStart=ue.lineEnd=ue.point=d.Z,ae.add((0,u.Wn)(oe)),oe.reset()},result:function(){var Nt=ae/2;return ae.reset(),Nt}};function ve(){ue.point=be}function be(Nt,Jt){ue.point=de,$=W=Nt,X=J=Jt}function de(Nt,Jt){oe.add(J*Nt-W*Jt),W=Nt,J=Jt}function pe(){de($,X)}var ge,Ae,ye,we,se=ue,ie=e(3559),he=0,Se=0,_e=0,Me=0,Ee=0,Ie=0,fe=0,xe=0,Te=0,Ce={point:De,lineStart:ze,lineEnd:Xe,polygonStart:function(){Ce.lineStart=at,Ce.lineEnd=st},polygonEnd:function(){Ce.point=De,Ce.lineStart=ze,Ce.lineEnd=Xe},result:function(){var Nt=Te?[fe/Te,xe/Te]:Ie?[Me/Ie,Ee/Ie]:_e?[he/_e,Se/_e]:[NaN,NaN];return he=Se=_e=Me=Ee=Ie=fe=xe=Te=0,Nt}};function De(Nt,Jt){he+=Nt,Se+=Jt,++_e}function ze(){Ce.point=Ue}function Ue(Nt,Jt){Ce.point=Ve,De(ye=Nt,we=Jt)}function Ve(Nt,Jt){var un=Nt-ye,fn=Jt-we,Mn=(0,u._b)(un*un+fn*fn);Me+=Mn*(ye+Nt)/2,Ee+=Mn*(we+Jt)/2,Ie+=Mn,De(ye=Nt,we=Jt)}function Xe(){Ce.point=De}function at(){Ce.point=ht}function st(){bt(ge,Ae)}function ht(Nt,Jt){Ce.point=bt,De(ge=ye=Nt,Ae=we=Jt)}function bt(Nt,Jt){var un=Nt-ye,fn=Jt-we,Mn=(0,u._b)(un*un+fn*fn);Me+=Mn*(ye+Nt)/2,Ee+=Mn*(we+Jt)/2,Ie+=Mn,fe+=(Mn=we*Nt-ye*Jt)*(ye+Nt),xe+=Mn*(we+Jt),Te+=3*Mn,De(ye=Nt,we=Jt)}var vt=Ce;function Qe(Nt){this._context=Nt}Qe.prototype={_radius:4.5,pointRadius:function(Nt){return this._radius=Nt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(Nt,Jt){switch(this._point){case 0:this._context.moveTo(Nt,Jt),this._point=1;break;case 1:this._context.lineTo(Nt,Jt);break;default:this._context.moveTo(Nt+this._radius,Jt),this._context.arc(Nt,Jt,this._radius,0,u.BZ)}},result:d.Z};var nt,wt,Ot,Pt,St,qe=(0,l.Z)(),Ze={point:d.Z,lineStart:function(){Ze.point=Ne},lineEnd:function(){nt&&Ge(wt,Ot),Ze.point=d.Z},polygonStart:function(){nt=!0},polygonEnd:function(){nt=null},result:function(){var Nt=+qe;return qe.reset(),Nt}};function Ne(Nt,Jt){Ze.point=Ge,wt=Pt=Nt,Ot=St=Jt}function Ge(Nt,Jt){Pt-=Nt,St-=Jt,qe.add((0,u._b)(Pt*Pt+St*St)),Pt=Nt,St=Jt}var rt=Ze;function tt(){this._string=[]}function Re(Nt){return"m0,"+Nt+"a"+Nt+","+Nt+" 0 1,1 0,"+-2*Nt+"a"+Nt+","+Nt+" 0 1,1 0,"+2*Nt+"z"}function Fe(Nt,Jt){var un,fn,Mn=4.5;function Fn(In){return In&&("function"==typeof Mn&&fn.pointRadius(+Mn.apply(this,arguments)),(0,c.Z)(In,un(fn))),fn.result()}return Fn.area=function(In){return(0,c.Z)(In,un(se)),se.result()},Fn.measure=function(In){return(0,c.Z)(In,un(rt)),rt.result()},Fn.bounds=function(In){return(0,c.Z)(In,un(ie.Z)),ie.Z.result()},Fn.centroid=function(In){return(0,c.Z)(In,un(vt)),vt.result()},Fn.projection=function(In){return arguments.length?(un=null==In?(Nt=null,re.Z):(Nt=In).stream,Fn):Nt},Fn.context=function(In){return arguments.length?(fn=null==In?(Jt=null,new tt):new Qe(Jt=In),"function"!=typeof Mn&&fn.pointRadius(Mn),Fn):Jt},Fn.pointRadius=function(In){return arguments.length?(Mn="function"==typeof In?In:(fn.pointRadius(+In),+In),Fn):Mn},Fn.projection(Nt).context(Jt)}tt.prototype={_radius:4.5,_circle:Re(4.5),pointRadius:function(Nt){return(Nt=+Nt)!==this._radius&&(this._radius=Nt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(Nt,Jt){switch(this._point){case 0:this._string.push("M",Nt,",",Jt),this._point=1;break;case 1:this._string.push("L",Nt,",",Jt);break;default:null==this._circle&&(this._circle=Re(this._radius)),this._string.push("M",Nt,",",Jt,this._circle)}},result:function(){if(this._string.length){var Nt=this._string.join("");return this._string=[],Nt}return null}};var et=e(15002);function We(Nt){var Jt=0,un=u.pi/3,fn=(0,et.r)(Nt),Mn=fn(Jt,un);return Mn.parallels=function(Fn){return arguments.length?fn(Jt=Fn[0]*u.uR,un=Fn[1]*u.uR):[Jt*u.RW,un*u.RW]},Mn}function ct(Nt,Jt){var un=(0,u.O$)(Nt),fn=(un+(0,u.O$)(Jt))/2;if((0,u.Wn)(fn)<u.Ho)return function(Rn){var Jn=(0,u.mC)(Rn);function Yt(gn,Ct){return[gn*Jn,(0,u.O$)(Ct)/Jn]}return Yt.invert=function(gn,Ct){return[gn/Jn,(0,u.ZR)(Ct*Jn)]},Yt}(Nt);var Mn=1+un*(2*fn-un),Fn=(0,u._b)(Mn)/fn;function In(Rn,Jn){var Yt=(0,u._b)(Mn-2*fn*(0,u.O$)(Jn))/fn;return[Yt*(0,u.O$)(Rn*=fn),Fn-Yt*(0,u.mC)(Rn)]}return In.invert=function(Rn,Jn){var Yt=Fn-Jn,gn=(0,u.fv)(Rn,(0,u.Wn)(Yt))*(0,u.Xx)(Yt);return Yt*fn<0&&(gn-=u.pi*(0,u.Xx)(Rn)*(0,u.Xx)(Yt)),[gn/fn,(0,u.ZR)((Mn-(Rn*Rn+Yt*Yt)*fn*fn)/(2*fn))]},In}function pt(){return We(ct).scale(155.424).center([0,33.6442])}function dt(){return pt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ut=e(47589);function kt(){var Nt,Jt,un,fn,Mn,Fn,In=dt(),Rn=pt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Jn=pt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Yt={point:function(Zt,$t){Fn=[Zt,$t]}};function gn(Zt){var $t=Zt[0],dn=Zt[1];return Fn=null,un.point($t,dn),Fn||(fn.point($t,dn),Fn)||(Mn.point($t,dn),Fn)}function Ct(){return Nt=Jt=null,gn}return gn.invert=function(Zt){var $t=In.scale(),dn=In.translate(),yn=(Zt[0]-dn[0])/$t,Sn=(Zt[1]-dn[1])/$t;return(Sn>=.12&&Sn<.234&&yn>=-.425&&yn<-.214?Rn:Sn>=.166&&Sn<.234&&yn>=-.214&&yn<-.115?Jn:In).invert(Zt)},gn.stream=function(Zt){return Nt&&Jt===Zt?Nt:($t=[In.stream(Jt=Zt),Rn.stream(Zt),Jn.stream(Zt)],dn=$t.length,Nt={point:function(yn,Sn){for(var ln=-1;++ln<dn;)$t[ln].point(yn,Sn)},sphere:function(){for(var yn=-1;++yn<dn;)$t[yn].sphere()},lineStart:function(){for(var yn=-1;++yn<dn;)$t[yn].lineStart()},lineEnd:function(){for(var yn=-1;++yn<dn;)$t[yn].lineEnd()},polygonStart:function(){for(var yn=-1;++yn<dn;)$t[yn].polygonStart()},polygonEnd:function(){for(var yn=-1;++yn<dn;)$t[yn].polygonEnd()}});var $t,dn},gn.precision=function(Zt){return arguments.length?(In.precision(Zt),Rn.precision(Zt),Jn.precision(Zt),Ct()):In.precision()},gn.scale=function(Zt){return arguments.length?(In.scale(Zt),Rn.scale(.35*Zt),Jn.scale(Zt),gn.translate(In.translate())):In.scale()},gn.translate=function(Zt){if(!arguments.length)return In.translate();var $t=In.scale(),dn=+Zt[0],yn=+Zt[1];return un=In.translate(Zt).clipExtent([[dn-.455*$t,yn-.238*$t],[dn+.455*$t,yn+.238*$t]]).stream(Yt),fn=Rn.translate([dn-.307*$t,yn+.201*$t]).clipExtent([[dn-.425*$t+u.Ho,yn+.12*$t+u.Ho],[dn-.214*$t-u.Ho,yn+.234*$t-u.Ho]]).stream(Yt),Mn=Jn.translate([dn-.205*$t,yn+.212*$t]).clipExtent([[dn-.214*$t+u.Ho,yn+.166*$t+u.Ho],[dn-.115*$t-u.Ho,yn+.234*$t-u.Ho]]).stream(Yt),Ct()},gn.fitExtent=function(Zt,$t){return(0,ut.qg)(gn,Zt,$t)},gn.fitSize=function(Zt,$t){return(0,ut.mF)(gn,Zt,$t)},gn.fitWidth=function(Zt,$t){return(0,ut.V6)(gn,Zt,$t)},gn.fitHeight=function(Zt,$t){return(0,ut.rf)(gn,Zt,$t)},gn.scale(1070)}var yt=e(12956),gt=e(17889),At=e(49386);function Lt(Nt,Jt){return[Nt,(0,u.cM)((0,u.OR)((u.ou+Jt)/2))]}function It(){return qt(Lt).scale(961/u.BZ)}function qt(Nt){var Jt,un,fn,Mn=(0,et.Z)(Nt),Fn=Mn.center,In=Mn.scale,Rn=Mn.translate,Jn=Mn.clipExtent,Yt=null;function gn(){var Ct=u.pi*In(),Zt=Mn((0,At.Z)(Mn.rotate()).invert([0,0]));return Jn(null==Yt?[[Zt[0]-Ct,Zt[1]-Ct],[Zt[0]+Ct,Zt[1]+Ct]]:Nt===Lt?[[Math.max(Zt[0]-Ct,Yt),Jt],[Math.min(Zt[0]+Ct,un),fn]]:[[Yt,Math.max(Zt[1]-Ct,Jt)],[un,Math.min(Zt[1]+Ct,fn)]])}return Mn.scale=function(Ct){return arguments.length?(In(Ct),gn()):In()},Mn.translate=function(Ct){return arguments.length?(Rn(Ct),gn()):Rn()},Mn.center=function(Ct){return arguments.length?(Fn(Ct),gn()):Fn()},Mn.clipExtent=function(Ct){return arguments.length?(null==Ct?Yt=Jt=un=fn=null:(Yt=+Ct[0][0],Jt=+Ct[0][1],un=+Ct[1][0],fn=+Ct[1][1]),gn()):null==Yt?null:[[Yt,Jt],[un,fn]]},gn()}function Qt(Nt){return(0,u.OR)((u.ou+Nt)/2)}function Vt(Nt,Jt){var un=(0,u.mC)(Nt),fn=Nt===Jt?(0,u.O$)(Nt):(0,u.cM)(un/(0,u.mC)(Jt))/(0,u.cM)(Qt(Jt)/Qt(Nt)),Mn=un*(0,u.sQ)(Qt(Nt),fn)/fn;if(!fn)return Lt;function Fn(In,Rn){Mn>0?Rn<-u.ou+u.Ho&&(Rn=-u.ou+u.Ho):Rn>u.ou-u.Ho&&(Rn=u.ou-u.Ho);var Jn=Mn/(0,u.sQ)(Qt(Rn),fn);return[Jn*(0,u.O$)(fn*In),Mn-Jn*(0,u.mC)(fn*In)]}return Fn.invert=function(In,Rn){var Jn=Mn-Rn,Yt=(0,u.Xx)(fn)*(0,u._b)(In*In+Jn*Jn),gn=(0,u.fv)(In,(0,u.Wn)(Jn))*(0,u.Xx)(Jn);return Jn*fn<0&&(gn-=u.pi*(0,u.Xx)(In)*(0,u.Xx)(Jn)),[gn/fn,2*(0,u.z4)((0,u.sQ)(Mn/Yt,1/fn))-u.ou]},Fn}function Ft(){return We(Vt).scale(109.5).parallels([30,30])}Lt.invert=function(Nt,Jt){return[Nt,2*(0,u.z4)((0,u.Qq)(Jt))-u.ou]};var en=e(97492);function wn(Nt,Jt){var un=(0,u.mC)(Nt),fn=Nt===Jt?(0,u.O$)(Nt):(un-(0,u.mC)(Jt))/(Jt-Nt),Mn=un/fn+Nt;if((0,u.Wn)(fn)<u.Ho)return en.k;function Fn(In,Rn){var Jn=Mn-Rn,Yt=fn*In;return[Jn*(0,u.O$)(Yt),Mn-Jn*(0,u.mC)(Yt)]}return Fn.invert=function(In,Rn){var Jn=Mn-Rn,Yt=(0,u.fv)(In,(0,u.Wn)(Jn))*(0,u.Xx)(Jn);return Jn*fn<0&&(Yt-=u.pi*(0,u.Xx)(In)*(0,u.Xx)(Jn)),[Yt/fn,Mn-(0,u.Xx)(fn)*(0,u._b)(In*In+Jn*Jn)]},Fn}function kn(){return We(wn).scale(131.154).center([0,13.9389])}var on=1.340264,Ht=-.081106,nn=893e-6,Kt=.003796,an=(0,u._b)(3)/2;function xn(Nt,Jt){var un=(0,u.ZR)(an*(0,u.O$)(Jt)),fn=un*un,Mn=fn*fn*fn;return[Nt*(0,u.mC)(un)/(an*(on+3*Ht*fn+Mn*(7*nn+9*Kt*fn))),un*(on+Ht*fn+Mn*(nn+Kt*fn))]}function _n(){return(0,et.Z)(xn).scale(177.158)}xn.invert=function(Nt,Jt){for(var un,fn=Jt,Mn=fn*fn,Fn=Mn*Mn*Mn,In=0;In<12&&(Fn=(Mn=(fn-=un=(fn*(on+Ht*Mn+Fn*(nn+Kt*Mn))-Jt)/(on+3*Ht*Mn+Fn*(7*nn+9*Kt*Mn)))*fn)*Mn*Mn,!((0,u.Wn)(un)<u.aW));++In);return[an*Nt*(on+3*Ht*Mn+Fn*(7*nn+9*Kt*Mn))/(0,u.mC)(fn),(0,u.ZR)((0,u.O$)(fn)/an)]};var mn=e(98936),An=e(64684);function vn(){var Nt,Jt,un,fn,Mn,Fn,In,Rn=1,Jn=0,Yt=0,gn=1,Ct=1,Zt=0,$t=null,dn=1,yn=1,Sn=(0,An.l)({point:function(sn,cn){var Ln=Xt([sn,cn]);this.stream.point(Ln[0],Ln[1])}}),ln=re.Z;function Wt(){return dn=Rn*gn,yn=Rn*Ct,Fn=In=null,Xt}function Xt(sn){var cn=sn[0]*dn,Ln=sn[1]*yn;if(Zt){var Pn=Ln*Nt-cn*Jt;cn=cn*Nt+Ln*Jt,Ln=Pn}return[cn+Jn,Ln+Yt]}return Xt.invert=function(sn){var cn=sn[0]-Jn,Ln=sn[1]-Yt;if(Zt){var Pn=Ln*Nt+cn*Jt;cn=cn*Nt-Ln*Jt,Ln=Pn}return[cn/dn,Ln/yn]},Xt.stream=function(sn){return Fn&&In===sn?Fn:Fn=Sn(ln(In=sn))},Xt.postclip=function(sn){return arguments.length?(ln=sn,$t=un=fn=Mn=null,Wt()):ln},Xt.clipExtent=function(sn){return arguments.length?(ln=null==sn?($t=un=fn=Mn=null,re.Z):(0,s.Z)($t=+sn[0][0],un=+sn[0][1],fn=+sn[1][0],Mn=+sn[1][1]),Wt()):null==$t?null:[[$t,un],[fn,Mn]]},Xt.scale=function(sn){return arguments.length?(Rn=+sn,Wt()):Rn},Xt.translate=function(sn){return arguments.length?(Jn=+sn[0],Yt=+sn[1],Wt()):[Jn,Yt]},Xt.angle=function(sn){return arguments.length?(Zt=sn%360*u.uR,Jt=(0,u.O$)(Zt),Nt=(0,u.mC)(Zt),Wt()):Zt*u.RW},Xt.reflectX=function(sn){return arguments.length?(gn=sn?-1:1,Wt()):gn<0},Xt.reflectY=function(sn){return arguments.length?(Ct=sn?-1:1,Wt()):Ct<0},Xt.fitExtent=function(sn,cn){return(0,ut.qg)(Xt,sn,cn)},Xt.fitSize=function(sn,cn){return(0,ut.mF)(Xt,sn,cn)},Xt.fitWidth=function(sn,cn){return(0,ut.V6)(Xt,sn,cn)},Xt.fitHeight=function(sn,cn){return(0,ut.rf)(Xt,sn,cn)},Xt}var On=e(26867),Bn=e(57962),er=e(25382);function or(Nt,Jt){var un=(0,u.mC)(Jt),fn=1+(0,u.mC)(Nt)*un;return[un*(0,u.O$)(Nt)/fn,(0,u.O$)(Jt)/fn]}function $n(){return(0,et.Z)(or).scale(250).clipAngle(142)}function qn(Nt,Jt){return[(0,u.cM)((0,u.OR)((u.ou+Jt)/2)),-Nt]}function cr(){var Nt=qt(qn),Jt=Nt.center,un=Nt.rotate;return Nt.center=function(fn){return arguments.length?Jt([-fn[1],fn[0]]):[(fn=Jt())[1],-fn[0]]},Nt.rotate=function(fn){return arguments.length?un([fn[0],fn[1],fn.length>2?fn[2]+90:90]):[(fn=un())[0],fn[1],fn[2]-90]},un([0,0,90]).scale(159.155)}or.invert=(0,er.O)(function(Nt){return 2*(0,u.z4)(Nt)}),qn.invert=function(Nt,Jt){return[-Jt,2*(0,u.z4)((0,u.Qq)(Nt))-u.ou]}},83074:function(ee,D,e){"use strict";e.d(D,{Z:function(){return k}});var M=e(39695);function k(a,T){var b=a[0]*M.uR,p=a[1]*M.uR,s=T[0]*M.uR,t=T[1]*M.uR,i=(0,M.mC)(p),n=(0,M.O$)(p),r=(0,M.mC)(t),o=(0,M.O$)(t),l=i*(0,M.mC)(b),u=i*(0,M.O$)(b),d=r*(0,M.mC)(s),c=r*(0,M.O$)(s),x=2*(0,M.ZR)((0,M._b)((0,M.Jy)(t-p)+i*r*(0,M.Jy)(s-b))),g=(0,M.O$)(x),h=x?function(m){var y=(0,M.O$)(m*=x)/g,v=(0,M.O$)(x-m)/g,_=v*l+y*d,f=v*u+y*c,S=v*n+y*o;return[(0,M.fv)(f,_)*M.RW,(0,M.fv)(S,(0,M._b)(_*_+f*f))*M.RW]}:function(){return[b*M.RW,p*M.RW]};return h.distance=x,h}},39695:function(ee,D,e){"use strict";e.d(D,{BZ:function(){return p},Ho:function(){return M},Jy:function(){return _},Kh:function(){return y},O$:function(){return x},OR:function(){return m},Qq:function(){return u},RW:function(){return s},Wn:function(){return i},Xx:function(){return g},ZR:function(){return v},_b:function(){return h},aW:function(){return k},cM:function(){return d},fv:function(){return r},mC:function(){return o},mD:function(){return l},ou:function(){return T},pi:function(){return a},pu:function(){return b},sQ:function(){return c},uR:function(){return t},z4:function(){return n}});var M=1e-6,k=1e-12,a=Math.PI,T=a/2,b=a/4,p=2*a,s=180/a,t=a/180,i=Math.abs,n=Math.atan,r=Math.atan2,o=Math.cos,l=Math.ceil,u=Math.exp,d=Math.log,c=Math.pow,x=Math.sin,g=Math.sign||function(f){return f>0?1:f<0?-1:0},h=Math.sqrt,m=Math.tan;function y(f){return f>1?0:f<-1?a:Math.acos(f)}function v(f){return f>1?T:f<-1?-T:Math.asin(f)}function _(f){return(f=x(f/2))*f}},73182:function(ee,D,e){"use strict";function M(){}e.d(D,{Z:function(){return M}})},3559:function(ee,D,e){"use strict";var M=e(73182),k=1/0,a=k,T=-k,b=T,p={point:function(s,t){s<k&&(k=s),s>T&&(T=s),t<a&&(a=t),t>b&&(b=t)},lineStart:M.Z,lineEnd:M.Z,polygonStart:M.Z,polygonEnd:M.Z,result:function(){var s=[[k,a],[T,b]];return T=b=-(a=k=1/0),s}};D.Z=p},67108:function(ee,D,e){"use strict";e.d(D,{Z:function(){return k}});var M=e(39695);function k(a,T){return(0,M.Wn)(a[0]-T[0])<M.Ho&&(0,M.Wn)(a[1]-T[1])<M.Ho}},23071:function(ee,D,e){"use strict";e.d(D,{Z:function(){return p}});var M=e(33940),k=e(7620),a=e(39695),T=(0,M.Z)();function b(s){return(0,a.Wn)(s[0])<=a.pi?s[0]:(0,a.Xx)(s[0])*(((0,a.Wn)(s[0])+a.pi)%a.BZ-a.pi)}function p(s,t){var i=b(t),n=t[1],r=(0,a.O$)(n),o=[(0,a.O$)(i),-(0,a.mC)(i),0],l=0,u=0;T.reset(),1===r?n=a.ou+a.Ho:-1===r&&(n=-a.ou-a.Ho);for(var d=0,c=s.length;d<c;++d)if(g=(x=s[d]).length)for(var x,g,h=x[g-1],m=b(h),y=h[1]/2+a.pu,v=(0,a.O$)(y),_=(0,a.mC)(y),f=0;f<g;++f,m=w,v=C,_=O,h=S){var S=x[f],w=b(S),E=S[1]/2+a.pu,C=(0,a.O$)(E),O=(0,a.mC)(E),P=w-m,R=P>=0?1:-1,j=R*P,z=j>a.pi,N=v*C;if(T.add((0,a.fv)(N*R*(0,a.O$)(j),_*O+N*(0,a.mC)(j))),l+=z?P+R*a.BZ:P,z^m>=i^w>=i){var Y=(0,k.T5)((0,k.Og)(h),(0,k.Og)(S));(0,k.iJ)(Y);var F=(0,k.T5)(o,Y);(0,k.iJ)(F);var U=(z^P>=0?-1:1)*(0,a.ZR)(F[2]);(n>U||n===U&&(Y[0]||Y[1]))&&(u+=z^P>=0?1:-1)}}return(l<-a.Ho||l<a.Ho&&T<-a.Ho)^1&u}},25382:function(ee,D,e){"use strict";e.d(D,{O:function(){return a},W:function(){return k}});var M=e(39695);function k(T){return function(b,p){var s=(0,M.mC)(b),t=(0,M.mC)(p),i=T(s*t);return[i*t*(0,M.O$)(b),i*(0,M.O$)(p)]}}function a(T){return function(b,p){var s=(0,M._b)(b*b+p*p),t=T(s),i=(0,M.O$)(t),n=(0,M.mC)(t);return[(0,M.fv)(b*i,s*n),(0,M.ZR)(s&&p*i/s)]}}},12956:function(ee,D,e){"use strict";e.d(D,{Z:function(){return b},l:function(){return T}});var M=e(39695),k=e(25382),a=e(15002),T=(0,k.W)(function(p){return(0,M._b)(2/(1+p))});function b(){return(0,a.Z)(T).scale(124.75).clipAngle(179.999)}T.invert=(0,k.O)(function(p){return 2*(0,M.ZR)(p/2)})},17889:function(ee,D,e){"use strict";e.d(D,{N:function(){return T},Z:function(){return b}});var M=e(39695),k=e(25382),a=e(15002),T=(0,k.W)(function(p){return(p=(0,M.Kh)(p))&&p/(0,M.O$)(p)});function b(){return(0,a.Z)(T).scale(79.4188).clipAngle(179.999)}T.invert=(0,k.O)(function(p){return p})},97492:function(ee,D,e){"use strict";e.d(D,{Z:function(){return a},k:function(){return k}});var M=e(15002);function k(T,b){return[T,b]}function a(){return(0,M.Z)(k).scale(152.63)}k.invert=k},47589:function(ee,D,e){"use strict";e.d(D,{V6:function(){return p},mF:function(){return b},qg:function(){return T},rf:function(){return s}});var M=e(72736),k=e(3559);function a(t,i,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),(0,M.Z)(n,t.stream(k.Z)),i(k.Z.result()),null!=r&&t.clipExtent(r),t}function T(t,i,n){return a(t,function(r){var o=i[1][0]-i[0][0],l=i[1][1]-i[0][1],u=Math.min(o/(r[1][0]-r[0][0]),l/(r[1][1]-r[0][1])),d=+i[0][0]+(o-u*(r[1][0]+r[0][0]))/2,c=+i[0][1]+(l-u*(r[1][1]+r[0][1]))/2;t.scale(150*u).translate([d,c])},n)}function b(t,i,n){return T(t,[[0,0],i],n)}function p(t,i,n){return a(t,function(r){var o=+i,l=o/(r[1][0]-r[0][0]),u=(o-l*(r[1][0]+r[0][0]))/2,d=-l*r[0][1];t.scale(150*l).translate([u,d])},n)}function s(t,i,n){return a(t,function(r){var o=+i,l=o/(r[1][1]-r[0][1]),u=-l*r[0][0],d=(o-l*(r[1][1]+r[0][1]))/2;t.scale(150*l).translate([u,d])},n)}},98936:function(ee,D,e){"use strict";e.d(D,{M:function(){return T},Z:function(){return b}});var M=e(39695),k=e(25382),a=e(15002);function T(p,s){var t=(0,M.mC)(s),i=(0,M.mC)(p)*t;return[t*(0,M.O$)(p)/i,(0,M.O$)(s)/i]}function b(){return(0,a.Z)(T).scale(144.049).clipAngle(60)}T.invert=(0,k.O)(M.z4)},15002:function(ee,D,e){"use strict";e.d(D,{Z:function(){return x},r:function(){return g}});var M=e(87070),k=e(1457),a=e(87605),T=e(96059),b=e(8593),p=e(39695),s=e(49386),t=e(64684),i=e(47589),n=e(7620),r=16,o=(0,p.mC)(30*p.uR);function l(h,m){return+m?function(y,v){function _(f,S,w,E,C,O,P,R,j,z,N,Y,F,U){var V=P-f,te=R-S,$=V*V+te*te;if($>4*v&&F--){var X=E+z,W=C+N,J=O+Y,Q=(0,p._b)(X*X+W*W+J*J),re=(0,p.ZR)(J/=Q),ae=(0,p.Wn)((0,p.Wn)(J)-1)<p.Ho||(0,p.Wn)(w-j)<p.Ho?(w+j)/2:(0,p.fv)(W,X),oe=y(ae,re),ue=oe[0],ve=oe[1],be=ue-f,de=ve-S,pe=te*be-V*de;(pe*pe/$>v||(0,p.Wn)((V*be+te*de)/$-.5)>.3||E*z+C*N+O*Y<o)&&(_(f,S,w,E,C,O,ue,ve,ae,X/=Q,W/=Q,J,F,U),U.point(ue,ve),_(ue,ve,ae,X,W,J,P,R,j,z,N,Y,F,U))}}return function(f){var S,w,E,C,O,P,R,j,z,N,Y,F,U={point:V,lineStart:te,lineEnd:X,polygonStart:function(){f.polygonStart(),U.lineStart=W},polygonEnd:function(){f.polygonEnd(),U.lineStart=te}};function V(re,ae){re=y(re,ae),f.point(re[0],re[1])}function te(){j=NaN,U.point=$,f.lineStart()}function $(re,ae){var oe=(0,n.Og)([re,ae]),ue=y(re,ae);_(j,z,R,N,Y,F,j=ue[0],z=ue[1],R=re,N=oe[0],Y=oe[1],F=oe[2],r,f),f.point(j,z)}function X(){U.point=V,f.lineEnd()}function W(){te(),U.point=J,U.lineEnd=Q}function J(re,ae){$(S=re,ae),w=j,E=z,C=N,O=Y,P=F,U.point=$}function Q(){_(j,z,R,N,Y,F,w,E,S,C,O,P,r,f),U.lineEnd=X,X()}return U}}(h,m):(y=h,(0,t.l)({point:function(v,_){v=y(v,_),this.stream.point(v[0],v[1])}}));var y}var u=(0,t.l)({point:function(h,m){this.stream.point(h*p.uR,m*p.uR)}});function d(h,m,y,v,_){function f(S,w){return[m+h*(S*=v),y-h*(w*=_)]}return f.invert=function(S,w){return[(S-m)/h*v,(y-w)/h*_]},f}function c(h,m,y,v,_,f){var S=(0,p.mC)(f),w=(0,p.O$)(f),E=S*h,C=w*h,O=S/h,P=w/h,R=(w*y-S*m)/h,j=(w*m+S*y)/h;function z(N,Y){return[E*(N*=v)-C*(Y*=_)+m,y-C*N-E*Y]}return z.invert=function(N,Y){return[v*(O*N-P*Y+R),_*(j-P*N-O*Y)]},z}function x(h){return g(function(){return h})()}function g(h){var m,y,v,_,f,S,w,E,C,O,P=150,R=480,j=250,z=0,N=0,Y=0,F=0,U=0,V=0,te=1,$=1,X=null,W=M.Z,J=null,Q=b.Z,re=.5;function ae(be){return E(be[0]*p.uR,be[1]*p.uR)}function oe(be){return(be=E.invert(be[0],be[1]))&&[be[0]*p.RW,be[1]*p.RW]}function ue(){var be=c(P,0,0,te,$,V).apply(null,m(z,N)),de=(V?c:d)(P,R-be[0],j-be[1],te,$,V);return y=(0,s.I)(Y,F,U),w=(0,T.Z)(m,de),E=(0,T.Z)(y,w),S=l(w,re),ve()}function ve(){return C=O=null,ae}return ae.stream=function(be){return C&&O===be?C:C=u((de=y,(0,t.l)({point:function(pe,ge){var Ae=de(pe,ge);return this.stream.point(Ae[0],Ae[1])}}))(W(S(Q(O=be)))));var de},ae.preclip=function(be){return arguments.length?(W=be,X=void 0,ve()):W},ae.postclip=function(be){return arguments.length?(Q=be,J=v=_=f=null,ve()):Q},ae.clipAngle=function(be){return arguments.length?(W=+be?(0,k.Z)(X=be*p.uR):(X=null,M.Z),ve()):X*p.RW},ae.clipExtent=function(be){return arguments.length?(Q=null==be?(J=v=_=f=null,b.Z):(0,a.Z)(J=+be[0][0],v=+be[0][1],_=+be[1][0],f=+be[1][1]),ve()):null==J?null:[[J,v],[_,f]]},ae.scale=function(be){return arguments.length?(P=+be,ue()):P},ae.translate=function(be){return arguments.length?(R=+be[0],j=+be[1],ue()):[R,j]},ae.center=function(be){return arguments.length?(z=be[0]%360*p.uR,N=be[1]%360*p.uR,ue()):[z*p.RW,N*p.RW]},ae.rotate=function(be){return arguments.length?(Y=be[0]%360*p.uR,F=be[1]%360*p.uR,U=be.length>2?be[2]%360*p.uR:0,ue()):[Y*p.RW,F*p.RW,U*p.RW]},ae.angle=function(be){return arguments.length?(V=be%360*p.uR,ue()):V*p.RW},ae.reflectX=function(be){return arguments.length?(te=be?-1:1,ue()):te<0},ae.reflectY=function(be){return arguments.length?($=be?-1:1,ue()):$<0},ae.precision=function(be){return arguments.length?(S=l(w,re=be*be),ve()):(0,p._b)(re)},ae.fitExtent=function(be,de){return(0,i.qg)(ae,be,de)},ae.fitSize=function(be,de){return(0,i.mF)(ae,be,de)},ae.fitWidth=function(be,de){return(0,i.V6)(ae,be,de)},ae.fitHeight=function(be,de){return(0,i.rf)(ae,be,de)},function(){return m=h.apply(this,arguments),ae.invert=m.invert&&oe,ue()}}},26867:function(ee,D,e){"use strict";e.d(D,{K:function(){return a},Z:function(){return T}});var M=e(15002),k=e(39695);function a(b,p){var s=p*p,t=s*s;return[b*(.8707-.131979*s+t*(t*(.003971*s-.001529*t)-.013791)),p*(1.007226+s*(.015085+t*(.028874*s-.044475-.005916*t)))]}function T(){return(0,M.Z)(a).scale(175.295)}a.invert=function(b,p){var s,t=p,i=25;do{var n=t*t,r=n*n;t-=s=(t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))-p)/(1.007226+n*(.045255+r*(.259866*n-.311325-.06507600000000001*r)))}while((0,k.Wn)(s)>k.Ho&&--i>0);return[b/(.8707+(n=t*t)*(n*(n*n*n*(.003971-.001529*n)-.013791)-.131979)),t]}},57962:function(ee,D,e){"use strict";e.d(D,{I:function(){return T},Z:function(){return b}});var M=e(39695),k=e(25382),a=e(15002);function T(p,s){return[(0,M.mC)(s)*(0,M.O$)(p),(0,M.O$)(s)]}function b(){return(0,a.Z)(T).scale(249.5).clipAngle(90+M.Ho)}T.invert=(0,k.O)(M.ZR)},49386:function(ee,D,e){"use strict";e.d(D,{I:function(){return T},Z:function(){return t}});var M=e(96059),k=e(39695);function a(i,n){return[(0,k.Wn)(i)>k.pi?i+Math.round(-i/k.BZ)*k.BZ:i,n]}function T(i,n,r){return(i%=k.BZ)?n||r?(0,M.Z)(p(i),s(n,r)):p(i):n||r?s(n,r):a}function b(i){return function(n,r){return[(n+=i)>k.pi?n-k.BZ:n<-k.pi?n+k.BZ:n,r]}}function p(i){var n=b(i);return n.invert=b(-i),n}function s(i,n){var r=(0,k.mC)(i),o=(0,k.O$)(i),l=(0,k.mC)(n),u=(0,k.O$)(n);function d(c,x){var g=(0,k.mC)(x),h=(0,k.mC)(c)*g,m=(0,k.O$)(c)*g,y=(0,k.O$)(x),v=y*r+h*o;return[(0,k.fv)(m*l-v*u,h*r-y*o),(0,k.ZR)(v*l+m*u)]}return d.invert=function(c,x){var g=(0,k.mC)(x),h=(0,k.mC)(c)*g,m=(0,k.O$)(c)*g,y=(0,k.O$)(x),v=y*l-m*u;return[(0,k.fv)(m*l+y*u,h*r+v*o),(0,k.ZR)(v*r-h*o)]},d}function t(i){function n(r){return(r=i(r[0]*k.uR,r[1]*k.uR))[0]*=k.RW,r[1]*=k.RW,r}return i=T(i[0]*k.uR,i[1]*k.uR,i.length>2?i[2]*k.uR:0),n.invert=function(r){return(r=i.invert(r[0]*k.uR,r[1]*k.uR))[0]*=k.RW,r[1]*=k.RW,r},n}a.invert=a},72736:function(ee,D,e){"use strict";function M(s,t){s&&a.hasOwnProperty(s.type)&&a[s.type](s,t)}e.d(D,{Z:function(){return p}});var k={Feature:function(s,t){M(s.geometry,t)},FeatureCollection:function(s,t){for(var i=s.features,n=-1,r=i.length;++n<r;)M(i[n].geometry,t)}},a={Sphere:function(s,t){t.sphere()},Point:function(s,t){s=s.coordinates,t.point(s[0],s[1],s[2])},MultiPoint:function(s,t){for(var i=s.coordinates,n=-1,r=i.length;++n<r;)s=i[n],t.point(s[0],s[1],s[2])},LineString:function(s,t){T(s.coordinates,t,0)},MultiLineString:function(s,t){for(var i=s.coordinates,n=-1,r=i.length;++n<r;)T(i[n],t,0)},Polygon:function(s,t){b(s.coordinates,t)},MultiPolygon:function(s,t){for(var i=s.coordinates,n=-1,r=i.length;++n<r;)b(i[n],t)},GeometryCollection:function(s,t){for(var i=s.geometries,n=-1,r=i.length;++n<r;)M(i[n],t)}};function T(s,t,i){var n,r=-1,o=s.length-i;for(t.lineStart();++r<o;)n=s[r],t.point(n[0],n[1],n[2]);t.lineEnd()}function b(s,t){var i=-1,n=s.length;for(t.polygonStart();++i<n;)T(s[i],t,1);t.polygonEnd()}function p(s,t){s&&k.hasOwnProperty(s.type)?k[s.type](s,t):M(s,t)}},64684:function(ee,D,e){"use strict";function M(T){return{stream:k(T)}}function k(T){return function(b){var p=new a;for(var s in T)p[s]=T[s];return p.stream=b,p}}function a(){}e.d(D,{Z:function(){return M},l:function(){return k}}),a.prototype={constructor:a,point:function(T,b){this.stream.point(T,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(ee,D,e){"use strict";function M(ie,he){return ie.parent===he.parent?1:2}function k(ie,he){return ie+he.x}function a(ie,he){return Math.max(ie,he.y)}function T(){var ie=M,he=1,Se=1,_e=!1;function Me(Ee){var Ie,fe=0;Ee.eachAfter(function(ze){var Ve,Ue=ze.children;Ue?(ze.x=(Ve=Ue).reduce(k,0)/Ve.length,ze.y=function(Ve){return 1+Ve.reduce(a,0)}(Ue)):(ze.x=Ie?fe+=ie(ze,Ie):0,ze.y=0,Ie=ze)});var xe=function(ze){for(var Ue;Ue=ze.children;)ze=Ue[0];return ze}(Ee),Te=function(ze){for(var Ue;Ue=ze.children;)ze=Ue[Ue.length-1];return ze}(Ee),Ce=xe.x-ie(xe,Te)/2,De=Te.x+ie(Te,xe)/2;return Ee.eachAfter(_e?function(ze){ze.x=(ze.x-Ee.x)*he,ze.y=(Ee.y-ze.y)*Se}:function(ze){ze.x=(ze.x-Ce)/(De-Ce)*he,ze.y=(1-(Ee.y?ze.y/Ee.y:1))*Se})}return Me.separation=function(Ee){return arguments.length?(ie=Ee,Me):ie},Me.size=function(Ee){return arguments.length?(_e=!1,he=+Ee[0],Se=+Ee[1],Me):_e?null:[he,Se]},Me.nodeSize=function(Ee){return arguments.length?(_e=!0,he=+Ee[0],Se=+Ee[1],Me):_e?[he,Se]:null},Me}function b(ie){var he=0,Se=ie.children,_e=Se&&Se.length;if(_e)for(;--_e>=0;)he+=Se[_e].value;else he=1;ie.value=he}function p(ie,he){var Se,_e,Me,Ee,Ie,fe=new n(ie),xe=+ie.value&&(fe.value=ie.value),Te=[fe];for(null==he&&(he=s);Se=Te.pop();)if(xe&&(Se.value=+Se.data.value),(Me=he(Se.data))&&(Ie=Me.length))for(Se.children=new Array(Ie),Ee=Ie-1;Ee>=0;--Ee)Te.push(_e=Se.children[Ee]=new n(Me[Ee])),_e.parent=Se,_e.depth=Se.depth+1;return fe.eachBefore(i)}function s(ie){return ie.children}function t(ie){ie.data=ie.data.data}function i(ie){var he=0;do{ie.height=he}while((ie=ie.parent)&&ie.height<++he)}function n(ie){this.data=ie,this.depth=this.height=0,this.parent=null}e.r(D),e.d(D,{cluster:function(){return T},hierarchy:function(){return p},pack:function(){return P},packEnclose:function(){return o},packSiblings:function(){return S},partition:function(){return F},stratify:function(){return W},tree:function(){return ve},treemap:function(){return Ae},treemapBinary:function(){return ye},treemapDice:function(){return Y},treemapResquarify:function(){return se},treemapSlice:function(){return be},treemapSliceDice:function(){return we},treemapSquarify:function(){return ge}}),n.prototype=p.prototype={constructor:n,count:function(){return this.eachAfter(b)},each:function(ie){var he,Se,_e,Me,Ee=this,Ie=[Ee];do{for(he=Ie.reverse(),Ie=[];Ee=he.pop();)if(ie(Ee),Se=Ee.children)for(_e=0,Me=Se.length;_e<Me;++_e)Ie.push(Se[_e])}while(Ie.length);return this},eachAfter:function(ie){for(var he,Se,_e,Me=this,Ee=[Me],Ie=[];Me=Ee.pop();)if(Ie.push(Me),he=Me.children)for(Se=0,_e=he.length;Se<_e;++Se)Ee.push(he[Se]);for(;Me=Ie.pop();)ie(Me);return this},eachBefore:function(ie){for(var he,Se,_e=this,Me=[_e];_e=Me.pop();)if(ie(_e),he=_e.children)for(Se=he.length-1;Se>=0;--Se)Me.push(he[Se]);return this},sum:function(ie){return this.eachAfter(function(he){for(var Se=+ie(he.data)||0,_e=he.children,Me=_e&&_e.length;--Me>=0;)Se+=_e[Me].value;he.value=Se})},sort:function(ie){return this.eachBefore(function(he){he.children&&he.children.sort(ie)})},path:function(ie){for(var he=this,Se=function(Ee,Ie){if(Ee===Ie)return Ee;var fe=Ee.ancestors(),xe=Ie.ancestors(),Te=null;for(Ee=fe.pop(),Ie=xe.pop();Ee===Ie;)Te=Ee,Ee=fe.pop(),Ie=xe.pop();return Te}(he,ie),_e=[he];he!==Se;)he=he.parent,_e.push(he);for(var Me=_e.length;ie!==Se;)_e.splice(Me,0,ie),ie=ie.parent;return _e},ancestors:function(){for(var ie=this,he=[ie];ie=ie.parent;)he.push(ie);return he},descendants:function(){var ie=[];return this.each(function(he){ie.push(he)}),ie},leaves:function(){var ie=[];return this.eachBefore(function(he){he.children||ie.push(he)}),ie},links:function(){var ie=this,he=[];return ie.each(function(Se){Se!==ie&&he.push({source:Se.parent,target:Se})}),he},copy:function(){return p(this).eachBefore(t)}};var r=Array.prototype.slice;function o(ie){for(var he,Se,_e=0,Me=(ie=function(Ie){for(var fe,xe,Te=Ie.length;Te;)xe=Math.random()*Te--|0,fe=Ie[Te],Ie[Te]=Ie[xe],Ie[xe]=fe;return Ie}(r.call(ie))).length,Ee=[];_e<Me;)he=ie[_e],Se&&d(Se,he)?++_e:(Se=x(Ee=l(Ee,he)),_e=0);return Se}function l(ie,he){var Se,_e;if(c(he,ie))return[he];for(Se=0;Se<ie.length;++Se)if(u(he,ie[Se])&&c(g(ie[Se],he),ie))return[ie[Se],he];for(Se=0;Se<ie.length-1;++Se)for(_e=Se+1;_e<ie.length;++_e)if(u(g(ie[Se],ie[_e]),he)&&u(g(ie[Se],he),ie[_e])&&u(g(ie[_e],he),ie[Se])&&c(h(ie[Se],ie[_e],he),ie))return[ie[Se],ie[_e],he];throw new Error}function u(ie,he){var Se=ie.r-he.r,_e=he.x-ie.x,Me=he.y-ie.y;return Se<0||Se*Se<_e*_e+Me*Me}function d(ie,he){var Se=ie.r-he.r+1e-6,_e=he.x-ie.x,Me=he.y-ie.y;return Se>0&&Se*Se>_e*_e+Me*Me}function c(ie,he){for(var Se=0;Se<he.length;++Se)if(!d(ie,he[Se]))return!1;return!0}function x(ie){switch(ie.length){case 1:return{x:(he=ie[0]).x,y:he.y,r:he.r};case 2:return g(ie[0],ie[1]);case 3:return h(ie[0],ie[1],ie[2])}var he}function g(ie,he){var Se=ie.x,_e=ie.y,Me=ie.r,Ee=he.x,Ie=he.y,fe=he.r,xe=Ee-Se,Te=Ie-_e,Ce=fe-Me,De=Math.sqrt(xe*xe+Te*Te);return{x:(Se+Ee+xe/De*Ce)/2,y:(_e+Ie+Te/De*Ce)/2,r:(De+Me+fe)/2}}function h(ie,he,Se){var _e=ie.x,Me=ie.y,Ee=ie.r,Ie=he.x,fe=he.y,xe=he.r,Te=Se.x,Ce=Se.y,De=Se.r,ze=_e-Ie,Ue=_e-Te,Ve=Me-fe,Xe=Me-Ce,at=xe-Ee,st=De-Ee,ht=_e*_e+Me*Me-Ee*Ee,bt=ht-Ie*Ie-fe*fe+xe*xe,vt=ht-Te*Te-Ce*Ce+De*De,Qe=Ue*Ve-ze*Xe,nt=(Ve*vt-Xe*bt)/(2*Qe)-_e,wt=(Xe*at-Ve*st)/Qe,Ot=(Ue*bt-ze*vt)/(2*Qe)-Me,Pt=(ze*st-Ue*at)/Qe,St=wt*wt+Pt*Pt-1,qe=2*(Ee+nt*wt+Ot*Pt),Ze=nt*nt+Ot*Ot-Ee*Ee,Ne=-(St?(qe+Math.sqrt(qe*qe-4*St*Ze))/(2*St):Ze/qe);return{x:_e+nt+wt*Ne,y:Me+Ot+Pt*Ne,r:Ne}}function m(ie,he,Se){var _e,Me,Ee,Ie,fe=ie.x-he.x,xe=ie.y-he.y,Te=fe*fe+xe*xe;Te?(Me=he.r+Se.r,Me*=Me,Ie=ie.r+Se.r,Me>(Ie*=Ie)?(_e=(Te+Ie-Me)/(2*Te),Ee=Math.sqrt(Math.max(0,Ie/Te-_e*_e)),Se.x=ie.x-_e*fe-Ee*xe,Se.y=ie.y-_e*xe+Ee*fe):(_e=(Te+Me-Ie)/(2*Te),Ee=Math.sqrt(Math.max(0,Me/Te-_e*_e)),Se.x=he.x+_e*fe-Ee*xe,Se.y=he.y+_e*xe+Ee*fe)):(Se.x=he.x+Se.r,Se.y=he.y)}function y(ie,he){var Se=ie.r+he.r-1e-6,_e=he.x-ie.x,Me=he.y-ie.y;return Se>0&&Se*Se>_e*_e+Me*Me}function v(ie){var he=ie._,Se=ie.next._,_e=he.r+Se.r,Me=(he.x*Se.r+Se.x*he.r)/_e,Ee=(he.y*Se.r+Se.y*he.r)/_e;return Me*Me+Ee*Ee}function _(ie){this._=ie,this.next=null,this.previous=null}function f(ie){if(!(Me=ie.length))return 0;var he,Se,_e,Me,Ee,Ie,fe,xe,Te,Ce,De;if((he=ie[0]).x=0,he.y=0,!(Me>1))return he.r;if(Se=ie[1],he.x=-Se.r,Se.x=he.r,Se.y=0,!(Me>2))return he.r+Se.r;m(Se,he,_e=ie[2]),he=new _(he),Se=new _(Se),_e=new _(_e),he.next=_e.previous=Se,Se.next=he.previous=_e,_e.next=Se.previous=he;e:for(fe=3;fe<Me;++fe){m(he._,Se._,_e=ie[fe]),_e=new _(_e),xe=Se.next,Te=he.previous,Ce=Se._.r,De=he._.r;do{if(Ce<=De){if(y(xe._,_e._)){Se=xe,he.next=Se,Se.previous=he,--fe;continue e}Ce+=xe._.r,xe=xe.next}else{if(y(Te._,_e._)){(he=Te).next=Se,Se.previous=he,--fe;continue e}De+=Te._.r,Te=Te.previous}}while(xe!==Te.next);for(_e.previous=he,_e.next=Se,he.next=Se.previous=Se=_e,Ee=v(he);(_e=_e.next)!==Se;)(Ie=v(_e))<Ee&&(he=_e,Ee=Ie);Se=he.next}for(he=[Se._],_e=Se;(_e=_e.next)!==Se;)he.push(_e._);for(_e=o(he),fe=0;fe<Me;++fe)(he=ie[fe]).x-=_e.x,he.y-=_e.y;return _e.r}function S(ie){return f(ie),ie}function w(ie){if("function"!=typeof ie)throw new Error;return ie}function E(){return 0}function C(ie){return function(){return ie}}function O(ie){return Math.sqrt(ie.value)}function P(){var ie=null,he=1,Se=1,_e=E;function Me(Ee){return Ee.x=he/2,Ee.y=Se/2,ie?Ee.eachBefore(R(ie)).eachAfter(j(_e,.5)).eachBefore(z(1)):Ee.eachBefore(R(O)).eachAfter(j(E,1)).eachAfter(j(_e,Ee.r/Math.min(he,Se))).eachBefore(z(Math.min(he,Se)/(2*Ee.r))),Ee}return Me.radius=function(Ee){return arguments.length?(ie=null==(Ie=Ee)?null:w(Ie),Me):ie;var Ie},Me.size=function(Ee){return arguments.length?(he=+Ee[0],Se=+Ee[1],Me):[he,Se]},Me.padding=function(Ee){return arguments.length?(_e="function"==typeof Ee?Ee:C(+Ee),Me):_e},Me}function R(ie){return function(he){he.children||(he.r=Math.max(0,+ie(he)||0))}}function j(ie,he){return function(Se){if(_e=Se.children){var _e,Me,Ee,Ie=_e.length,fe=ie(Se)*he||0;if(fe)for(Me=0;Me<Ie;++Me)_e[Me].r+=fe;if(Ee=f(_e),fe)for(Me=0;Me<Ie;++Me)_e[Me].r-=fe;Se.r=Ee+fe}}}function z(ie){return function(he){var Se=he.parent;he.r*=ie,Se&&(he.x=Se.x+ie*he.x,he.y=Se.y+ie*he.y)}}function N(ie){ie.x0=Math.round(ie.x0),ie.y0=Math.round(ie.y0),ie.x1=Math.round(ie.x1),ie.y1=Math.round(ie.y1)}function Y(ie,he,Se,_e,Me){for(var Ee,Ie=ie.children,fe=-1,xe=Ie.length,Te=ie.value&&(_e-he)/ie.value;++fe<xe;)(Ee=Ie[fe]).y0=Se,Ee.y1=Me,Ee.x0=he,Ee.x1=he+=Ee.value*Te}function F(){var ie=1,he=1,Se=0,_e=!1;function Me(Ee){var fe,xe,Ie=Ee.height+1;return Ee.x0=Ee.y0=Se,Ee.x1=ie,Ee.y1=he/Ie,Ee.eachBefore((fe=he,xe=Ie,function(Te){Te.children&&Y(Te,Te.x0,fe*(Te.depth+1)/xe,Te.x1,fe*(Te.depth+2)/xe);var Ce=Te.x0,De=Te.y0,ze=Te.x1-Se,Ue=Te.y1-Se;ze<Ce&&(Ce=ze=(Ce+ze)/2),Ue<De&&(De=Ue=(De+Ue)/2),Te.x0=Ce,Te.y0=De,Te.x1=ze,Te.y1=Ue})),_e&&Ee.eachBefore(N),Ee}return Me.round=function(Ee){return arguments.length?(_e=!!Ee,Me):_e},Me.size=function(Ee){return arguments.length?(ie=+Ee[0],he=+Ee[1],Me):[ie,he]},Me.padding=function(Ee){return arguments.length?(Se=+Ee,Me):Se},Me}var U="$",V={depth:-1},te={};function $(ie){return ie.id}function X(ie){return ie.parentId}function W(){var ie=$,he=X;function Se(_e){var Me,Ee,Ie,fe,xe,Te,Ce,De=_e.length,ze=new Array(De),Ue={};for(Ee=0;Ee<De;++Ee)Me=_e[Ee],xe=ze[Ee]=new n(Me),null!=(Te=ie(Me,Ee,_e))&&(Te+="")&&(Ue[Ce=U+(xe.id=Te)]=Ce in Ue?te:xe);for(Ee=0;Ee<De;++Ee)if(xe=ze[Ee],null!=(Te=he(_e[Ee],Ee,_e))&&(Te+="")){if(!(fe=Ue[U+Te]))throw new Error("missing: "+Te);if(fe===te)throw new Error("ambiguous: "+Te);fe.children?fe.children.push(xe):fe.children=[xe],xe.parent=fe}else{if(Ie)throw new Error("multiple roots");Ie=xe}if(!Ie)throw new Error("no root");if(Ie.parent=V,Ie.eachBefore(function(Ve){Ve.depth=Ve.parent.depth+1,--De}).eachBefore(i),Ie.parent=null,De>0)throw new Error("cycle");return Ie}return Se.id=function(_e){return arguments.length?(ie=w(_e),Se):ie},Se.parentId=function(_e){return arguments.length?(he=w(_e),Se):he},Se}function J(ie,he){return ie.parent===he.parent?1:2}function Q(ie){var he=ie.children;return he?he[0]:ie.t}function re(ie){var he=ie.children;return he?he[he.length-1]:ie.t}function ae(ie,he,Se){var _e=Se/(he.i-ie.i);he.c-=_e,he.s+=Se,ie.c+=_e,he.z+=Se,he.m+=Se}function oe(ie,he,Se){return ie.a.parent===he.parent?ie.a:Se}function ue(ie,he){this._=ie,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=he}function ve(){var ie=J,he=1,Se=1,_e=null;function Me(xe){var Te=function(st){for(var ht,bt,vt,Qe,nt,wt=new ue(st,0),Ot=[wt];ht=Ot.pop();)if(vt=ht._.children)for(ht.children=new Array(nt=vt.length),Qe=nt-1;Qe>=0;--Qe)Ot.push(bt=ht.children[Qe]=new ue(vt[Qe],Qe)),bt.parent=ht;return(wt.parent=new ue(null,0)).children=[wt],wt}(xe);if(Te.eachAfter(Ee),Te.parent.m=-Te.z,Te.eachBefore(Ie),_e)xe.eachBefore(fe);else{var Ce=xe,De=xe,ze=xe;xe.eachBefore(function(st){st.x<Ce.x&&(Ce=st),st.x>De.x&&(De=st),st.depth>ze.depth&&(ze=st)});var Ue=Ce===De?1:ie(Ce,De)/2,Ve=Ue-Ce.x,Xe=he/(De.x+Ue+Ve),at=Se/(ze.depth||1);xe.eachBefore(function(st){st.x=(st.x+Ve)*Xe,st.y=st.depth*at})}return xe}function Ee(xe){var Te=xe.children,Ce=xe.parent.children,De=xe.i?Ce[xe.i-1]:null;if(Te){!function(Ue){for(var Ve,Xe=0,at=0,st=Ue.children,ht=st.length;--ht>=0;)(Ve=st[ht]).z+=Xe,Ve.m+=Xe,Xe+=Ve.s+(at+=Ve.c)}(xe);var ze=(Te[0].z+Te[Te.length-1].z)/2;De?(xe.z=De.z+ie(xe._,De._),xe.m=xe.z-ze):xe.z=ze}else De&&(xe.z=De.z+ie(xe._,De._));xe.parent.A=function(Ue,Ve,Xe){if(Ve){for(var at,st=Ue,ht=Ue,bt=Ve,vt=st.parent.children[0],Qe=st.m,nt=ht.m,wt=bt.m,Ot=vt.m;bt=re(bt),st=Q(st),bt&&st;)vt=Q(vt),(ht=re(ht)).a=Ue,(at=bt.z+wt-st.z-Qe+ie(bt._,st._))>0&&(ae(oe(bt,Ue,Xe),Ue,at),Qe+=at,nt+=at),wt+=bt.m,Qe+=st.m,Ot+=vt.m,nt+=ht.m;bt&&!re(ht)&&(ht.t=bt,ht.m+=wt-nt),st&&!Q(vt)&&(vt.t=st,vt.m+=Qe-Ot,Xe=Ue)}return Xe}(xe,De,xe.parent.A||Ce[0])}function Ie(xe){xe._.x=xe.z+xe.parent.m,xe.m+=xe.parent.m}function fe(xe){xe.x*=he,xe.y=xe.depth*Se}return Me.separation=function(xe){return arguments.length?(ie=xe,Me):ie},Me.size=function(xe){return arguments.length?(_e=!1,he=+xe[0],Se=+xe[1],Me):_e?null:[he,Se]},Me.nodeSize=function(xe){return arguments.length?(_e=!0,he=+xe[0],Se=+xe[1],Me):_e?[he,Se]:null},Me}function be(ie,he,Se,_e,Me){for(var Ee,Ie=ie.children,fe=-1,xe=Ie.length,Te=ie.value&&(Me-Se)/ie.value;++fe<xe;)(Ee=Ie[fe]).x0=he,Ee.x1=_e,Ee.y0=Se,Ee.y1=Se+=Ee.value*Te}ue.prototype=Object.create(n.prototype);var de=(1+Math.sqrt(5))/2;function pe(ie,he,Se,_e,Me,Ee){for(var Ie,fe,xe,Te,Ce,De,ze,Ue,Ve,Xe,at,st=[],ht=he.children,bt=0,vt=0,Qe=ht.length,nt=he.value;bt<Qe;){xe=Me-Se,Te=Ee-_e;do{Ce=ht[vt++].value}while(!Ce&&vt<Qe);for(De=ze=Ce,at=Ce*Ce*(Xe=Math.max(Te/xe,xe/Te)/(nt*ie)),Ve=Math.max(ze/at,at/De);vt<Qe;++vt){if(Ce+=fe=ht[vt].value,fe<De&&(De=fe),fe>ze&&(ze=fe),at=Ce*Ce*Xe,(Ue=Math.max(ze/at,at/De))>Ve){Ce-=fe;break}Ve=Ue}st.push(Ie={value:Ce,dice:xe<Te,children:ht.slice(bt,vt)}),Ie.dice?Y(Ie,Se,_e,Me,nt?_e+=Te*Ce/nt:Ee):be(Ie,Se,_e,nt?Se+=xe*Ce/nt:Me,Ee),nt-=Ce,bt=vt}return st}var ge=function ie(he){function Se(_e,Me,Ee,Ie,fe){pe(he,_e,Me,Ee,Ie,fe)}return Se.ratio=function(_e){return ie((_e=+_e)>1?_e:1)},Se}(de);function Ae(){var ie=ge,he=!1,Se=1,_e=1,Me=[0],Ee=E,Ie=E,fe=E,xe=E,Te=E;function Ce(ze){return ze.x0=ze.y0=0,ze.x1=Se,ze.y1=_e,ze.eachBefore(De),Me=[0],he&&ze.eachBefore(N),ze}function De(ze){var Ue=Me[ze.depth],Ve=ze.x0+Ue,Xe=ze.y0+Ue,at=ze.x1-Ue,st=ze.y1-Ue;at<Ve&&(Ve=at=(Ve+at)/2),st<Xe&&(Xe=st=(Xe+st)/2),ze.x0=Ve,ze.y0=Xe,ze.x1=at,ze.y1=st,ze.children&&(Ue=Me[ze.depth+1]=Ee(ze)/2,Ve+=Te(ze)-Ue,Xe+=Ie(ze)-Ue,(at-=fe(ze)-Ue)<Ve&&(Ve=at=(Ve+at)/2),(st-=xe(ze)-Ue)<Xe&&(Xe=st=(Xe+st)/2),ie(ze,Ve,Xe,at,st))}return Ce.round=function(ze){return arguments.length?(he=!!ze,Ce):he},Ce.size=function(ze){return arguments.length?(Se=+ze[0],_e=+ze[1],Ce):[Se,_e]},Ce.tile=function(ze){return arguments.length?(ie=w(ze),Ce):ie},Ce.padding=function(ze){return arguments.length?Ce.paddingInner(ze).paddingOuter(ze):Ce.paddingInner()},Ce.paddingInner=function(ze){return arguments.length?(Ee="function"==typeof ze?ze:C(+ze),Ce):Ee},Ce.paddingOuter=function(ze){return arguments.length?Ce.paddingTop(ze).paddingRight(ze).paddingBottom(ze).paddingLeft(ze):Ce.paddingTop()},Ce.paddingTop=function(ze){return arguments.length?(Ie="function"==typeof ze?ze:C(+ze),Ce):Ie},Ce.paddingRight=function(ze){return arguments.length?(fe="function"==typeof ze?ze:C(+ze),Ce):fe},Ce.paddingBottom=function(ze){return arguments.length?(xe="function"==typeof ze?ze:C(+ze),Ce):xe},Ce.paddingLeft=function(ze){return arguments.length?(Te="function"==typeof ze?ze:C(+ze),Ce):Te},Ce}function ye(ie,he,Se,_e,Me){var Ee,Ie,fe=ie.children,xe=fe.length,Te=new Array(xe+1);for(Te[0]=Ie=Ee=0;Ee<xe;++Ee)Te[Ee+1]=Ie+=fe[Ee].value;!function Ce(De,ze,Ue,Ve,Xe,at,st){if(De>=ze-1){var ht=fe[De];return ht.x0=Ve,ht.y0=Xe,ht.x1=at,void(ht.y1=st)}for(var bt=Te[De],vt=Ue/2+bt,Qe=De+1,nt=ze-1;Qe<nt;){var wt=Qe+nt>>>1;Te[wt]<vt?Qe=wt+1:nt=wt}vt-Te[Qe-1]<Te[Qe]-vt&&De+1<Qe&&--Qe;var Ot=Te[Qe]-bt,Pt=Ue-Ot;if(at-Ve>st-Xe){var St=(Ve*Pt+at*Ot)/Ue;Ce(De,Qe,Ot,Ve,Xe,St,st),Ce(Qe,ze,Pt,St,Xe,at,st)}else{var qe=(Xe*Pt+st*Ot)/Ue;Ce(De,Qe,Ot,Ve,Xe,at,qe),Ce(Qe,ze,Pt,Ve,qe,at,st)}}(0,xe,ie.value,he,Se,_e,Me)}function we(ie,he,Se,_e,Me){(1&ie.depth?be:Y)(ie,he,Se,_e,Me)}var se=function ie(he){function Se(_e,Me,Ee,Ie,fe){if((xe=_e._squarify)&&xe.ratio===he)for(var xe,Te,Ce,De,ze,Ue=-1,Ve=xe.length,Xe=_e.value;++Ue<Ve;){for(Ce=(Te=xe[Ue]).children,De=Te.value=0,ze=Ce.length;De<ze;++De)Te.value+=Ce[De].value;Te.dice?Y(Te,Me,Ee,Ie,Ee+=(fe-Ee)*Te.value/Xe):be(Te,Me,Ee,Me+=(Ie-Me)*Te.value/Xe,fe),Xe-=Te.value}else _e._squarify=xe=pe(he,_e,Me,Ee,Ie,fe),xe.ratio=he}return Se.ratio=function(_e){return ie((_e=+_e)>1?_e:1)},Se}(de)},45879:function(ee,D,e){"use strict";e.d(D,{h5:function(){return d}});var M=Math.PI,k=2*M,a=1e-6,T=k-a;function b(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function p(){return new b}b.prototype=p.prototype={constructor:b,moveTo:function(c,x){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+x)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,x){this._+="L"+(this._x1=+c)+","+(this._y1=+x)},quadraticCurveTo:function(c,x,g,h){this._+="Q"+ +c+","+ +x+","+(this._x1=+g)+","+(this._y1=+h)},bezierCurveTo:function(c,x,g,h,m,y){this._+="C"+ +c+","+ +x+","+ +g+","+ +h+","+(this._x1=+m)+","+(this._y1=+y)},arcTo:function(c,x,g,h,m){c=+c,x=+x,g=+g,h=+h,m=+m;var y=this._x1,v=this._y1,_=g-c,f=h-x,S=y-c,w=v-x,E=S*S+w*w;if(m<0)throw new Error("negative radius: "+m);if(null===this._x1)this._+="M"+(this._x1=c)+","+(this._y1=x);else if(E>a)if(Math.abs(w*_-f*S)>a&&m){var C=g-y,O=h-v,P=_*_+f*f,R=C*C+O*O,j=Math.sqrt(P),z=Math.sqrt(E),N=m*Math.tan((M-Math.acos((P+E-R)/(2*j*z)))/2),Y=N/z,F=N/j;Math.abs(Y-1)>a&&(this._+="L"+(c+Y*S)+","+(x+Y*w)),this._+="A"+m+","+m+",0,0,"+ +(w*C>S*O)+","+(this._x1=c+F*_)+","+(this._y1=x+F*f)}else this._+="L"+(this._x1=c)+","+(this._y1=x)},arc:function(c,x,g,h,m,y){c=+c,x=+x,y=!!y;var v=(g=+g)*Math.cos(h),_=g*Math.sin(h),f=c+v,S=x+_,w=1^y,E=y?h-m:m-h;if(g<0)throw new Error("negative radius: "+g);null===this._x1?this._+="M"+f+","+S:(Math.abs(this._x1-f)>a||Math.abs(this._y1-S)>a)&&(this._+="L"+f+","+S),g&&(E<0&&(E=E%k+k),E>T?this._+="A"+g+","+g+",0,1,"+w+","+(c-v)+","+(x-_)+"A"+g+","+g+",0,1,"+w+","+(this._x1=f)+","+(this._y1=S):E>a&&(this._+="A"+g+","+g+",0,"+ +(E>=M)+","+w+","+(this._x1=c+g*Math.cos(m))+","+(this._y1=x+g*Math.sin(m))))},rect:function(c,x,g,h){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+x)+"h"+ +g+"v"+ +h+"h"+-g+"Z"},toString:function(){return this._}};var s=p,t=Array.prototype.slice;function i(c){return function(){return c}}function n(c){return c[0]}function r(c){return c[1]}function o(c){return c.source}function l(c){return c.target}function u(c,x,g,h,m){c.moveTo(x,g),c.bezierCurveTo(x=(x+h)/2,g,x,m,h,m)}function d(){return function(c){var x=o,g=l,h=n,m=r,y=null;function v(){var _,f=t.call(arguments),S=x.apply(this,f),w=g.apply(this,f);if(y||(y=_=s()),c(y,+h.apply(this,(f[0]=S,f)),+m.apply(this,f),+h.apply(this,(f[0]=w,f)),+m.apply(this,f)),_)return y=null,_+""||null}return v.source=function(_){return arguments.length?(x=_,v):x},v.target=function(_){return arguments.length?(g=_,v):g},v.x=function(_){return arguments.length?(h="function"==typeof _?_:i(+_),v):h},v.y=function(_){return arguments.length?(m="function"==typeof _?_:i(+_),v):m},v.context=function(_){return arguments.length?(y=_??null,v):y},v}(u)}},84096:function(ee,D,e){"use strict";e.d(D,{i$:function(){return o},Dq:function(){return n},g0:function(){return l}});var M=e(58176),k=e(48480),a=e(59879),T=e(82301),b=e(34823),p=e(79791);function s(Qe){if(0<=Qe.y&&Qe.y<100){var nt=new Date(-1,Qe.m,Qe.d,Qe.H,Qe.M,Qe.S,Qe.L);return nt.setFullYear(Qe.y),nt}return new Date(Qe.y,Qe.m,Qe.d,Qe.H,Qe.M,Qe.S,Qe.L)}function t(Qe){if(0<=Qe.y&&Qe.y<100){var nt=new Date(Date.UTC(-1,Qe.m,Qe.d,Qe.H,Qe.M,Qe.S,Qe.L));return nt.setUTCFullYear(Qe.y),nt}return new Date(Date.UTC(Qe.y,Qe.m,Qe.d,Qe.H,Qe.M,Qe.S,Qe.L))}function i(Qe,nt,wt){return{y:Qe,m:nt,d:wt,H:0,M:0,S:0,L:0}}function n(Qe){var nt=Qe.dateTime,wt=Qe.date,Ot=Qe.time,Pt=Qe.periods,St=Qe.days,qe=Qe.shortDays,Ze=Qe.months,Ne=Qe.shortMonths,Ge=m(Pt),rt=y(Pt),tt=m(St),Re=y(St),Fe=m(qe),et=y(qe),We=m(Ze),ct=y(Ze),pt=m(Ne),dt=y(Ne),ut={a:function(It){return qe[It.getDay()]},A:function(It){return St[It.getDay()]},b:function(It){return Ne[It.getMonth()]},B:function(It){return Ze[It.getMonth()]},c:null,d:W,e:W,f:oe,H:J,I:Q,j:re,L:ae,m:ue,M:ve,p:function(It){return Pt[+(It.getHours()>=12)]},q:function(It){return 1+~~(It.getMonth()/3)},Q:bt,s:vt,S:be,u:de,U:pe,V:ge,w:Ae,W:ye,x:null,X:null,y:we,Y:se,Z:ie,"%":ht},kt={a:function(It){return qe[It.getUTCDay()]},A:function(It){return St[It.getUTCDay()]},b:function(It){return Ne[It.getUTCMonth()]},B:function(It){return Ze[It.getUTCMonth()]},c:null,d:he,e:he,f:Ie,H:Se,I:_e,j:Me,L:Ee,m:fe,M:xe,p:function(It){return Pt[+(It.getUTCHours()>=12)]},q:function(It){return 1+~~(It.getUTCMonth()/3)},Q:bt,s:vt,S:Te,u:Ce,U:De,V:ze,w:Ue,W:Ve,x:null,X:null,y:Xe,Y:at,Z:st,"%":ht},yt={a:function(It,qt,Qt){var Vt=Fe.exec(qt.slice(Qt));return Vt?(It.w=et[Vt[0].toLowerCase()],Qt+Vt[0].length):-1},A:function(It,qt,Qt){var Vt=tt.exec(qt.slice(Qt));return Vt?(It.w=Re[Vt[0].toLowerCase()],Qt+Vt[0].length):-1},b:function(It,qt,Qt){var Vt=pt.exec(qt.slice(Qt));return Vt?(It.m=dt[Vt[0].toLowerCase()],Qt+Vt[0].length):-1},B:function(It,qt,Qt){var Vt=We.exec(qt.slice(Qt));return Vt?(It.m=ct[Vt[0].toLowerCase()],Qt+Vt[0].length):-1},c:function(It,qt,Qt){return Lt(It,nt,qt,Qt)},d:j,e:j,f:V,H:N,I:N,j:z,L:U,m:R,M:Y,p:function(It,qt,Qt){var Vt=Ge.exec(qt.slice(Qt));return Vt?(It.p=rt[Vt[0].toLowerCase()],Qt+Vt[0].length):-1},q:P,Q:$,s:X,S:F,u:_,U:f,V:S,w:v,W:w,x:function(It,qt,Qt){return Lt(It,wt,qt,Qt)},X:function(It,qt,Qt){return Lt(It,Ot,qt,Qt)},y:C,Y:E,Z:O,"%":te};function gt(It,qt){return function(Qt){var Vt,Ft,en,wn=[],kn=-1,on=0,Ht=It.length;for(Qt instanceof Date||(Qt=new Date(+Qt));++kn<Ht;)37===It.charCodeAt(kn)&&(wn.push(It.slice(on,kn)),null!=(Ft=u[Vt=It.charAt(++kn)])?Vt=It.charAt(++kn):Ft="e"===Vt?" ":"0",(en=qt[Vt])&&(Vt=en(Qt,Ft)),wn.push(Vt),on=kn+1);return wn.push(It.slice(on,kn)),wn.join("")}}function At(It,qt){return function(Qt){var Vt,Ft,en=i(1900,void 0,1);if(Lt(en,It,Qt+="",0)!=Qt.length)return null;if("Q"in en)return new Date(en.Q);if("s"in en)return new Date(1e3*en.s+("L"in en?en.L:0));if(qt&&!("Z"in en)&&(en.Z=0),"p"in en&&(en.H=en.H%12+12*en.p),void 0===en.m&&(en.m="q"in en?en.q:0),"V"in en){if(en.V<1||en.V>53)return null;"w"in en||(en.w=1),"Z"in en?(Ft=(Vt=t(i(en.y,0,1))).getUTCDay(),Vt=Ft>4||0===Ft?M.l6.ceil(Vt):(0,M.l6)(Vt),Vt=k.Z.offset(Vt,7*(en.V-1)),en.y=Vt.getUTCFullYear(),en.m=Vt.getUTCMonth(),en.d=Vt.getUTCDate()+(en.w+6)%7):(Ft=(Vt=s(i(en.y,0,1))).getDay(),Vt=Ft>4||0===Ft?a.wA.ceil(Vt):(0,a.wA)(Vt),Vt=T.Z.offset(Vt,7*(en.V-1)),en.y=Vt.getFullYear(),en.m=Vt.getMonth(),en.d=Vt.getDate()+(en.w+6)%7)}else("W"in en||"U"in en)&&("w"in en||(en.w="u"in en?en.u%7:"W"in en?1:0),Ft="Z"in en?t(i(en.y,0,1)).getUTCDay():s(i(en.y,0,1)).getDay(),en.m=0,en.d="W"in en?(en.w+6)%7+7*en.W-(Ft+5)%7:en.w+7*en.U-(Ft+6)%7);return"Z"in en?(en.H+=en.Z/100|0,en.M+=en.Z%100,t(en)):s(en)}}function Lt(It,qt,Qt,Vt){for(var Ft,en,wn=0,kn=qt.length,on=Qt.length;wn<kn;){if(Vt>=on)return-1;if(37===(Ft=qt.charCodeAt(wn++))){if(Ft=qt.charAt(wn++),!(en=yt[Ft in u?qt.charAt(wn++):Ft])||(Vt=en(It,Qt,Vt))<0)return-1}else if(Ft!=Qt.charCodeAt(Vt++))return-1}return Vt}return ut.x=gt(wt,ut),ut.X=gt(Ot,ut),ut.c=gt(nt,ut),kt.x=gt(wt,kt),kt.X=gt(Ot,kt),kt.c=gt(nt,kt),{format:function(It){var qt=gt(It+="",ut);return qt.toString=function(){return It},qt},parse:function(It){var qt=At(It+="",!1);return qt.toString=function(){return It},qt},utcFormat:function(It){var qt=gt(It+="",kt);return qt.toString=function(){return It},qt},utcParse:function(It){var qt=At(It+="",!0);return qt.toString=function(){return It},qt}}}var r,o,l,u={"-":"",_:" ",0:"0"},d=/^\s*\d+/,c=/^%/,x=/[\\^$*+?|[\]().{}]/g;function g(Qe,nt,wt){var Ot=Qe<0?"-":"",Pt=(Ot?-Qe:Qe)+"",St=Pt.length;return Ot+(St<wt?new Array(wt-St+1).join(nt)+Pt:Pt)}function h(Qe){return Qe.replace(x,"\\$&")}function m(Qe){return new RegExp("^(?:"+Qe.map(h).join("|")+")","i")}function y(Qe){for(var nt={},wt=-1,Ot=Qe.length;++wt<Ot;)nt[Qe[wt].toLowerCase()]=wt;return nt}function v(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+1));return Ot?(Qe.w=+Ot[0],wt+Ot[0].length):-1}function _(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+1));return Ot?(Qe.u=+Ot[0],wt+Ot[0].length):-1}function f(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+2));return Ot?(Qe.U=+Ot[0],wt+Ot[0].length):-1}function S(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+2));return Ot?(Qe.V=+Ot[0],wt+Ot[0].length):-1}function w(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+2));return Ot?(Qe.W=+Ot[0],wt+Ot[0].length):-1}function E(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+4));return Ot?(Qe.y=+Ot[0],wt+Ot[0].length):-1}function C(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+2));return Ot?(Qe.y=+Ot[0]+(+Ot[0]>68?1900:2e3),wt+Ot[0].length):-1}function O(Qe,nt,wt){var Ot=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(nt.slice(wt,wt+6));return Ot?(Qe.Z=Ot[1]?0:-(Ot[2]+(Ot[3]||"00")),wt+Ot[0].length):-1}function P(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+1));return Ot?(Qe.q=3*Ot[0]-3,wt+Ot[0].length):-1}function R(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+2));return Ot?(Qe.m=Ot[0]-1,wt+Ot[0].length):-1}function j(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+2));return Ot?(Qe.d=+Ot[0],wt+Ot[0].length):-1}function z(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+3));return Ot?(Qe.m=0,Qe.d=+Ot[0],wt+Ot[0].length):-1}function N(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+2));return Ot?(Qe.H=+Ot[0],wt+Ot[0].length):-1}function Y(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+2));return Ot?(Qe.M=+Ot[0],wt+Ot[0].length):-1}function F(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+2));return Ot?(Qe.S=+Ot[0],wt+Ot[0].length):-1}function U(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+3));return Ot?(Qe.L=+Ot[0],wt+Ot[0].length):-1}function V(Qe,nt,wt){var Ot=d.exec(nt.slice(wt,wt+6));return Ot?(Qe.L=Math.floor(Ot[0]/1e3),wt+Ot[0].length):-1}function te(Qe,nt,wt){var Ot=c.exec(nt.slice(wt,wt+1));return Ot?wt+Ot[0].length:-1}function $(Qe,nt,wt){var Ot=d.exec(nt.slice(wt));return Ot?(Qe.Q=+Ot[0],wt+Ot[0].length):-1}function X(Qe,nt,wt){var Ot=d.exec(nt.slice(wt));return Ot?(Qe.s=+Ot[0],wt+Ot[0].length):-1}function W(Qe,nt){return g(Qe.getDate(),nt,2)}function J(Qe,nt){return g(Qe.getHours(),nt,2)}function Q(Qe,nt){return g(Qe.getHours()%12||12,nt,2)}function re(Qe,nt){return g(1+T.Z.count((0,b.Z)(Qe),Qe),nt,3)}function ae(Qe,nt){return g(Qe.getMilliseconds(),nt,3)}function oe(Qe,nt){return ae(Qe,nt)+"000"}function ue(Qe,nt){return g(Qe.getMonth()+1,nt,2)}function ve(Qe,nt){return g(Qe.getMinutes(),nt,2)}function be(Qe,nt){return g(Qe.getSeconds(),nt,2)}function de(Qe){var nt=Qe.getDay();return 0===nt?7:nt}function pe(Qe,nt){return g(a.OM.count((0,b.Z)(Qe)-1,Qe),nt,2)}function ge(Qe,nt){var wt=Qe.getDay();return Qe=wt>=4||0===wt?(0,a.bL)(Qe):a.bL.ceil(Qe),g(a.bL.count((0,b.Z)(Qe),Qe)+(4===(0,b.Z)(Qe).getDay()),nt,2)}function Ae(Qe){return Qe.getDay()}function ye(Qe,nt){return g(a.wA.count((0,b.Z)(Qe)-1,Qe),nt,2)}function we(Qe,nt){return g(Qe.getFullYear()%100,nt,2)}function se(Qe,nt){return g(Qe.getFullYear()%1e4,nt,4)}function ie(Qe){var nt=Qe.getTimezoneOffset();return(nt>0?"-":(nt*=-1,"+"))+g(nt/60|0,"0",2)+g(nt%60,"0",2)}function he(Qe,nt){return g(Qe.getUTCDate(),nt,2)}function Se(Qe,nt){return g(Qe.getUTCHours(),nt,2)}function _e(Qe,nt){return g(Qe.getUTCHours()%12||12,nt,2)}function Me(Qe,nt){return g(1+k.Z.count((0,p.Z)(Qe),Qe),nt,3)}function Ee(Qe,nt){return g(Qe.getUTCMilliseconds(),nt,3)}function Ie(Qe,nt){return Ee(Qe,nt)+"000"}function fe(Qe,nt){return g(Qe.getUTCMonth()+1,nt,2)}function xe(Qe,nt){return g(Qe.getUTCMinutes(),nt,2)}function Te(Qe,nt){return g(Qe.getUTCSeconds(),nt,2)}function Ce(Qe){var nt=Qe.getUTCDay();return 0===nt?7:nt}function De(Qe,nt){return g(M.Ox.count((0,p.Z)(Qe)-1,Qe),nt,2)}function ze(Qe,nt){var wt=Qe.getUTCDay();return Qe=wt>=4||0===wt?(0,M.hB)(Qe):M.hB.ceil(Qe),g(M.hB.count((0,p.Z)(Qe),Qe)+(4===(0,p.Z)(Qe).getUTCDay()),nt,2)}function Ue(Qe){return Qe.getUTCDay()}function Ve(Qe,nt){return g(M.l6.count((0,p.Z)(Qe)-1,Qe),nt,2)}function Xe(Qe,nt){return g(Qe.getUTCFullYear()%100,nt,2)}function at(Qe,nt){return g(Qe.getUTCFullYear()%1e4,nt,4)}function st(){return"+0000"}function ht(){return"%"}function bt(Qe){return+Qe}function vt(Qe){return Math.floor(+Qe/1e3)}r=n({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),o=r.format,r.parse,l=r.utcFormat,r.utcParse},82301:function(ee,D,e){"use strict";e.d(D,{a:function(){return T}});var M=e(30052),k=e(54263),a=(0,M.Z)(function(b){b.setHours(0,0,0,0)},function(b,p){b.setDate(b.getDate()+p)},function(b,p){return(p-b-(p.getTimezoneOffset()-b.getTimezoneOffset())*k.yB)/k.UD},function(b){return b.getDate()-1});D.Z=a;var T=a.range},54263:function(ee,D,e){"use strict";e.d(D,{UD:function(){return T},Y2:function(){return a},Ym:function(){return M},iM:function(){return b},yB:function(){return k}});var M=1e3,k=6e4,a=36e5,T=864e5,b=6048e5},81041:function(ee,D,e){"use strict";e.r(D),e.d(D,{timeDay:function(){return d.Z},timeDays:function(){return d.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return l},timeHours:function(){return u},timeInterval:function(){return M.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return T},timeMinute:function(){return n},timeMinutes:function(){return r},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return g},timeMonths:function(){return h},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return s},timeSeconds:function(){return t},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return m.Z},timeYears:function(){return m.g},utcDay:function(){return E.Z},utcDays:function(){return E.y},utcFriday:function(){return C.QQ},utcFridays:function(){return C.fz},utcHour:function(){return S},utcHours:function(){return w},utcMillisecond:function(){return a},utcMilliseconds:function(){return T},utcMinute:function(){return v},utcMinutes:function(){return _},utcMonday:function(){return C.l6},utcMondays:function(){return C.$3},utcMonth:function(){return P},utcMonths:function(){return R},utcSaturday:function(){return C.g4},utcSaturdays:function(){return C.Q_},utcSecond:function(){return s},utcSeconds:function(){return t},utcSunday:function(){return C.Ox},utcSundays:function(){return C.SU},utcThursday:function(){return C.hB},utcThursdays:function(){return C.xj},utcTuesday:function(){return C.J1},utcTuesdays:function(){return C.DK},utcWednesday:function(){return C.b3},utcWednesdays:function(){return C.uy},utcWeek:function(){return C.Ox},utcWeeks:function(){return C.SU},utcYear:function(){return j.Z},utcYears:function(){return j.D}});var M=e(30052),k=(0,M.Z)(function(){},function(z,N){z.setTime(+z+N)},function(z,N){return N-z});k.every=function(z){return z=Math.floor(z),isFinite(z)&&z>0?z>1?(0,M.Z)(function(N){N.setTime(Math.floor(N/z)*z)},function(N,Y){N.setTime(+N+Y*z)},function(N,Y){return(Y-N)/z}):k:null};var a=k,T=k.range,b=e(54263),p=(0,M.Z)(function(z){z.setTime(z-z.getMilliseconds())},function(z,N){z.setTime(+z+N*b.Ym)},function(z,N){return(N-z)/b.Ym},function(z){return z.getUTCSeconds()}),s=p,t=p.range,i=(0,M.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*b.Ym)},function(z,N){z.setTime(+z+N*b.yB)},function(z,N){return(N-z)/b.yB},function(z){return z.getMinutes()}),n=i,r=i.range,o=(0,M.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*b.Ym-z.getMinutes()*b.yB)},function(z,N){z.setTime(+z+N*b.Y2)},function(z,N){return(N-z)/b.Y2},function(z){return z.getHours()}),l=o,u=o.range,d=e(82301),c=e(59879),x=(0,M.Z)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,N){z.setMonth(z.getMonth()+N)},function(z,N){return N.getMonth()-z.getMonth()+12*(N.getFullYear()-z.getFullYear())},function(z){return z.getMonth()}),g=x,h=x.range,m=e(34823),y=(0,M.Z)(function(z){z.setUTCSeconds(0,0)},function(z,N){z.setTime(+z+N*b.yB)},function(z,N){return(N-z)/b.yB},function(z){return z.getUTCMinutes()}),v=y,_=y.range,f=(0,M.Z)(function(z){z.setUTCMinutes(0,0,0)},function(z,N){z.setTime(+z+N*b.Y2)},function(z,N){return(N-z)/b.Y2},function(z){return z.getUTCHours()}),S=f,w=f.range,E=e(48480),C=e(58176),O=(0,M.Z)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,N){z.setUTCMonth(z.getUTCMonth()+N)},function(z,N){return N.getUTCMonth()-z.getUTCMonth()+12*(N.getUTCFullYear()-z.getUTCFullYear())},function(z){return z.getUTCMonth()}),P=O,R=O.range,j=e(79791)},30052:function(ee,D,e){"use strict";e.d(D,{Z:function(){return a}});var M=new Date,k=new Date;function a(T,b,p,s){function t(i){return T(i=0===arguments.length?new Date:new Date(+i)),i}return t.floor=function(i){return T(i=new Date(+i)),i},t.ceil=function(i){return T(i=new Date(i-1)),b(i,1),T(i),i},t.round=function(i){var n=t(i),r=t.ceil(i);return i-n<r-i?n:r},t.offset=function(i,n){return b(i=new Date(+i),null==n?1:Math.floor(n)),i},t.range=function(i,n,r){var o,l=[];if(i=t.ceil(i),r=null==r?1:Math.floor(r),!(i<n&&r>0))return l;do{l.push(o=new Date(+i)),b(i,r),T(i)}while(o<i&&i<n);return l},t.filter=function(i){return a(function(n){if(n>=n)for(;T(n),!i(n);)n.setTime(n-1)},function(n,r){if(n>=n)if(r<0)for(;++r<=0;)for(;b(n,-1),!i(n););else for(;--r>=0;)for(;b(n,1),!i(n););})},p&&(t.count=function(i,n){return M.setTime(+i),k.setTime(+n),T(M),T(k),Math.floor(p(M,k))},t.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?t.filter(s?function(n){return s(n)%i==0}:function(n){return t.count(0,n)%i==0}):t:null}),t}},48480:function(ee,D,e){"use strict";e.d(D,{y:function(){return T}});var M=e(30052),k=e(54263),a=(0,M.Z)(function(b){b.setUTCHours(0,0,0,0)},function(b,p){b.setUTCDate(b.getUTCDate()+p)},function(b,p){return(p-b)/k.UD},function(b){return b.getUTCDate()-1});D.Z=a;var T=a.range},58176:function(ee,D,e){"use strict";e.d(D,{$3:function(){return o},DK:function(){return l},J1:function(){return p},Ox:function(){return T},QQ:function(){return i},Q_:function(){return x},SU:function(){return r},b3:function(){return s},fz:function(){return c},g4:function(){return n},hB:function(){return t},l6:function(){return b},uy:function(){return u},xj:function(){return d}});var M=e(30052),k=e(54263);function a(g){return(0,M.Z)(function(h){h.setUTCDate(h.getUTCDate()-(h.getUTCDay()+7-g)%7),h.setUTCHours(0,0,0,0)},function(h,m){h.setUTCDate(h.getUTCDate()+7*m)},function(h,m){return(m-h)/k.iM})}var T=a(0),b=a(1),p=a(2),s=a(3),t=a(4),i=a(5),n=a(6),r=T.range,o=b.range,l=p.range,u=s.range,d=t.range,c=i.range,x=n.range},79791:function(ee,D,e){"use strict";e.d(D,{D:function(){return a}});var M=e(30052),k=(0,M.Z)(function(T){T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,b){T.setUTCFullYear(T.getUTCFullYear()+b)},function(T,b){return b.getUTCFullYear()-T.getUTCFullYear()},function(T){return T.getUTCFullYear()});k.every=function(T){return isFinite(T=Math.floor(T))&&T>0?(0,M.Z)(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/T)*T),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,p){b.setUTCFullYear(b.getUTCFullYear()+p*T)}):null},D.Z=k;var a=k.range},59879:function(ee,D,e){"use strict";e.d(D,{$t:function(){return d},EY:function(){return n},Ff:function(){return x},Ld:function(){return u},OM:function(){return T},aU:function(){return l},b$:function(){return c},bJ:function(){return o},bL:function(){return t},mC:function(){return i},sy:function(){return p},vm:function(){return r},wA:function(){return b},zg:function(){return s}});var M=e(30052),k=e(54263);function a(g){return(0,M.Z)(function(h){h.setDate(h.getDate()-(h.getDay()+7-g)%7),h.setHours(0,0,0,0)},function(h,m){h.setDate(h.getDate()+7*m)},function(h,m){return(m-h-(m.getTimezoneOffset()-h.getTimezoneOffset())*k.yB)/k.iM})}var T=a(0),b=a(1),p=a(2),s=a(3),t=a(4),i=a(5),n=a(6),r=T.range,o=b.range,l=p.range,u=s.range,d=t.range,c=i.range,x=n.range},34823:function(ee,D,e){"use strict";e.d(D,{g:function(){return a}});var M=e(30052),k=(0,M.Z)(function(T){T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,b){T.setFullYear(T.getFullYear()+b)},function(T,b){return b.getFullYear()-T.getFullYear()},function(T){return T.getFullYear()});k.every=function(T){return isFinite(T=Math.floor(T))&&T>0?(0,M.Z)(function(b){b.setFullYear(Math.floor(b.getFullYear()/T)*T),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,p){b.setFullYear(b.getFullYear()+p*T)}):null},D.Z=k;var a=k.range},17045:function(ee,D,e){"use strict";var M=e(8709),k="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,T=Array.prototype.concat,b=Object.defineProperty,p=e(55622)(),s=b&&p,t=function(n,r,o,l){if(r in n)if(!0===l){if(n[r]===o)return}else if("function"!=typeof(u=l)||"[object Function]"!==a.call(u)||!l())return;var u;s?b(n,r,{configurable:!0,enumerable:!1,value:o,writable:!0}):n[r]=o},i=function(n,r){var o=arguments.length>2?arguments[2]:{},l=M(r);k&&(l=T.call(l,Object.getOwnPropertySymbols(r)));for(var u=0;u<l.length;u+=1)t(n,l[u],r[l[u]],o[l[u]])};i.supportsDescriptors=!!s,ee.exports=i},46775:function(ee){ee.exports=function(){for(var D=0;D<arguments.length;D++)if(void 0!==arguments[D])return arguments[D]}},53545:function(ee){"use strict";ee.exports=M;var D=(M.canvas=document.createElement("canvas")).getContext("2d"),e=k([32,126]);function M(a,T){Array.isArray(a)&&(a=a.join(", "));var b,p={},s=16,t=.05;T&&(2===T.length&&"number"==typeof T[0]?b=k(T):Array.isArray(T)?b=T:(T.o?b=k(T.o):T.pairs&&(b=T.pairs),T.fontSize&&(s=T.fontSize),null!=T.threshold&&(t=T.threshold))),b||(b=e),D.font=s+"px "+a;for(var i=0;i<b.length;i++){var n=b[i],r=D.measureText(n[0]).width+D.measureText(n[1]).width,o=D.measureText(n).width;if(Math.abs(r-o)>s*t){var l=(o-r)/s;p[n]=1e3*l}}return p}function k(a){for(var T=[],b=a[0];b<=a[1];b++)for(var p=String.fromCharCode(b),s=a[0];s<a[1];s++){var t=p+String.fromCharCode(s);T.push(t)}return T}M.createPairs=k,M.ascii=e},31457:function(ee,D,e){var M=e(65185),k=e(18625),a={M:"moveTo",C:"bezierCurveTo"};ee.exports=function(T,b){T.beginPath(),k(M(b)).forEach(function(p){var s=p[0],t=p.slice(1);T[a[s]].apply(T,t)}),T.closePath()}},90660:function(ee){ee.exports=function(D){switch(D){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(ee){"use strict";function D(e,M,k){var a=0|e[k];if(a<=0)return[];var T,b=new Array(a);if(k===e.length-1)for(T=0;T<a;++T)b[T]=M;else for(T=0;T<a;++T)b[T]=D(e,M,k+1);return b}ee.exports=function(e,M){switch(void 0===M&&(M=0),typeof e){case"number":if(e>0)return function(k,a){var T,b;for(T=new Array(k),b=0;b<k;++b)T[b]=a;return T}(0|e,M);break;case"object":if("number"==typeof e.length)return D(e,M,0)}return[]}},11474:function(ee){"use strict";function D(S,w,E){E=E||2;var C,O,P,R,j,z,N,Y=w&&w.length,F=Y?w[0]*E:S.length,U=e(S,0,F,E,!0),V=[];if(!U||U.next===U.prev)return V;if(Y&&(U=function($,X,W,J){var Q,re,ae,oe=[];for(Q=0,re=X.length;Q<re;Q++)(ae=e($,X[Q]*J,Q<re-1?X[Q+1]*J:$.length,J,!1))===ae.next&&(ae.steiner=!0),oe.push(r(ae));for(oe.sort(s),Q=0;Q<oe.length;Q++)t(oe[Q],W),W=M(W,W.next);return W}(S,w,U,E)),S.length>80*E){C=P=S[0],O=R=S[1];for(var te=E;te<F;te+=E)(j=S[te])<C&&(C=j),(z=S[te+1])<O&&(O=z),j>P&&(P=j),z>R&&(R=z);N=0!==(N=Math.max(P-C,R-O))?1/N:0}return k(U,V,E,C,O,N),V}function e(S,w,E,C,O){var P,R;if(O===f(S,w,E,C)>0)for(P=w;P<E;P+=C)R=y(P,S[P],S[P+1],R);else for(P=E-C;P>=w;P-=C)R=y(P,S[P],S[P+1],R);return R&&d(R,R.next)&&(v(R),R=R.next),R}function M(S,w){if(!S)return S;w||(w=S);var E,C=S;do{if(E=!1,C.steiner||!d(C,C.next)&&0!==u(C.prev,C,C.next))C=C.next;else{if(v(C),(C=w=C.prev)===C.next)break;E=!0}}while(E||C!==w);return w}function k(S,w,E,C,O,P,R){if(S){!R&&P&&function(Y,F,U,V){var te=Y;do{null===te.z&&(te.z=n(te.x,te.y,F,U,V)),te.prevZ=te.prev,te.nextZ=te.next,te=te.next}while(te!==Y);te.prevZ.nextZ=null,te.prevZ=null,function($){var X,W,J,Q,re,ae,oe,ue,ve=1;do{for(W=$,$=null,re=null,ae=0;W;){for(ae++,J=W,oe=0,X=0;X<ve&&(oe++,J=J.nextZ);X++);for(ue=ve;oe>0||ue>0&&J;)0!==oe&&(0===ue||!J||W.z<=J.z)?(Q=W,W=W.nextZ,oe--):(Q=J,J=J.nextZ,ue--),re?re.nextZ=Q:$=Q,Q.prevZ=re,re=Q;W=J}re.nextZ=null,ve*=2}while(ae>1)}(te)}(S,C,O,P);for(var j,z,N=S;S.prev!==S.next;)if(j=S.prev,z=S.next,P?T(S,C,O,P):a(S))w.push(j.i/E),w.push(S.i/E),w.push(z.i/E),v(S),S=z.next,N=z.next;else if((S=z)===N){R?1===R?k(S=b(M(S),w,E),w,E,C,O,P,2):2===R&&p(S,w,E,C,O,P):k(M(S),w,E,C,O,P,1);break}}}function a(S){var w=S.prev,E=S,C=S.next;if(u(w,E,C)>=0)return!1;for(var O=S.next.next;O!==S.prev;){if(o(w.x,w.y,E.x,E.y,C.x,C.y,O.x,O.y)&&u(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function T(S,w,E,C){var O=S.prev,P=S,R=S.next;if(u(O,P,R)>=0)return!1;for(var j=O.x<P.x?O.x<R.x?O.x:R.x:P.x<R.x?P.x:R.x,z=O.y<P.y?O.y<R.y?O.y:R.y:P.y<R.y?P.y:R.y,N=O.x>P.x?O.x>R.x?O.x:R.x:P.x>R.x?P.x:R.x,Y=O.y>P.y?O.y>R.y?O.y:R.y:P.y>R.y?P.y:R.y,F=n(j,z,w,E,C),U=n(N,Y,w,E,C),V=S.prevZ,te=S.nextZ;V&&V.z>=F&&te&&te.z<=U;){if(V!==S.prev&&V!==S.next&&o(O.x,O.y,P.x,P.y,R.x,R.y,V.x,V.y)&&u(V.prev,V,V.next)>=0||(V=V.prevZ,te!==S.prev&&te!==S.next&&o(O.x,O.y,P.x,P.y,R.x,R.y,te.x,te.y)&&u(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;V&&V.z>=F;){if(V!==S.prev&&V!==S.next&&o(O.x,O.y,P.x,P.y,R.x,R.y,V.x,V.y)&&u(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;te&&te.z<=U;){if(te!==S.prev&&te!==S.next&&o(O.x,O.y,P.x,P.y,R.x,R.y,te.x,te.y)&&u(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function b(S,w,E){var C=S;do{var O=C.prev,P=C.next.next;!d(O,P)&&c(O,C,C.next,P)&&h(O,P)&&h(P,O)&&(w.push(O.i/E),w.push(C.i/E),w.push(P.i/E),v(C),v(C.next),C=S=P),C=C.next}while(C!==S);return M(C)}function p(S,w,E,C,O,P){var R=S;do{for(var j=R.next.next;j!==R.prev;){if(R.i!==j.i&&l(R,j)){var z=m(R,j);return R=M(R,R.next),z=M(z,z.next),k(R,w,E,C,O,P),void k(z,w,E,C,O,P)}j=j.next}R=R.next}while(R!==S)}function s(S,w){return S.x-w.x}function t(S,w){if(w=function(C,O){var P,R=O,j=C.x,z=C.y,N=-1/0;do{if(z<=R.y&&z>=R.next.y&&R.next.y!==R.y){var Y=R.x+(z-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(Y<=j&&Y>N){if(N=Y,Y===j){if(z===R.y)return R;if(z===R.next.y)return R.next}P=R.x<R.next.x?R:R.next}}R=R.next}while(R!==O);if(!P)return null;if(j===N)return P;var F,U=P,V=P.x,te=P.y,$=1/0;R=P;do{j>=R.x&&R.x>=V&&j!==R.x&&o(z<te?j:N,z,V,te,z<te?N:j,z,R.x,R.y)&&(F=Math.abs(z-R.y)/(j-R.x),h(R,C)&&(F<$||F===$&&(R.x>P.x||R.x===P.x&&i(P,R)))&&(P=R,$=F)),R=R.next}while(R!==U);return P}(S,w)){var E=m(w,S);M(w,w.next),M(E,E.next)}}function i(S,w){return u(S.prev,S,w.prev)<0&&u(w.next,S,S.next)<0}function n(S,w,E,C,O){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-E)*O)|S<<8))|S<<4))|S<<2))|S<<1))|(w=1431655765&((w=858993459&((w=252645135&((w=16711935&((w=32767*(w-C)*O)|w<<8))|w<<4))|w<<2))|w<<1))<<1}function r(S){var w=S,E=S;do{(w.x<E.x||w.x===E.x&&w.y<E.y)&&(E=w),w=w.next}while(w!==S);return E}function o(S,w,E,C,O,P,R,j){return(O-R)*(w-j)-(S-R)*(P-j)>=0&&(S-R)*(C-j)-(E-R)*(w-j)>=0&&(E-R)*(P-j)-(O-R)*(C-j)>=0}function l(S,w){return S.next.i!==w.i&&S.prev.i!==w.i&&!function(E,C){var O=E;do{if(O.i!==E.i&&O.next.i!==E.i&&O.i!==C.i&&O.next.i!==C.i&&c(O,O.next,E,C))return!0;O=O.next}while(O!==E);return!1}(S,w)&&(h(S,w)&&h(w,S)&&function(E,C){var O=E,P=!1,R=(E.x+C.x)/2,j=(E.y+C.y)/2;do{O.y>j!=O.next.y>j&&O.next.y!==O.y&&R<(O.next.x-O.x)*(j-O.y)/(O.next.y-O.y)+O.x&&(P=!P),O=O.next}while(O!==E);return P}(S,w)&&(u(S.prev,S,w.prev)||u(S,w.prev,w))||d(S,w)&&u(S.prev,S,S.next)>0&&u(w.prev,w,w.next)>0)}function u(S,w,E){return(w.y-S.y)*(E.x-w.x)-(w.x-S.x)*(E.y-w.y)}function d(S,w){return S.x===w.x&&S.y===w.y}function c(S,w,E,C){var O=g(u(S,w,E)),P=g(u(S,w,C)),R=g(u(E,C,S)),j=g(u(E,C,w));return O!==P&&R!==j||!(0!==O||!x(S,E,w))||!(0!==P||!x(S,C,w))||!(0!==R||!x(E,S,C))||!(0!==j||!x(E,w,C))}function x(S,w,E){return w.x<=Math.max(S.x,E.x)&&w.x>=Math.min(S.x,E.x)&&w.y<=Math.max(S.y,E.y)&&w.y>=Math.min(S.y,E.y)}function g(S){return S>0?1:S<0?-1:0}function h(S,w){return u(S.prev,S,S.next)<0?u(S,w,S.next)>=0&&u(S,S.prev,w)>=0:u(S,w,S.prev)<0||u(S,S.next,w)<0}function m(S,w){var E=new _(S.i,S.x,S.y),C=new _(w.i,w.x,w.y),O=S.next,P=w.prev;return S.next=w,w.prev=S,E.next=O,O.prev=E,C.next=E,E.prev=C,P.next=C,C.prev=P,C}function y(S,w,E,C){var O=new _(S,w,E);return C?(O.next=C.next,O.prev=C,C.next.prev=O,C.next=O):(O.prev=O,O.next=O),O}function v(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function _(S,w,E){this.i=S,this.x=w,this.y=E,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function f(S,w,E,C){for(var O=0,P=w,R=E-C;P<E;P+=C)O+=(S[R]-S[P])*(S[P+1]+S[R+1]),R=P;return O}ee.exports=D,ee.exports.default=D,D.deviation=function(S,w,E,C){var O=w&&w.length,P=O?w[0]*E:S.length,R=Math.abs(f(S,0,P,E));if(O)for(var j=0,z=w.length;j<z;j++){var N=w[j]*E,Y=j<z-1?w[j+1]*E:S.length;R-=Math.abs(f(S,N,Y,E))}var F=0;for(j=0;j<C.length;j+=3){var U=C[j]*E,V=C[j+1]*E,te=C[j+2]*E;F+=Math.abs((S[U]-S[te])*(S[V+1]-S[U+1])-(S[U]-S[V])*(S[te+1]-S[U+1]))}return 0===R&&0===F?0:Math.abs((F-R)/R)},D.flatten=function(S){for(var w=S[0][0].length,E={vertices:[],holes:[],dimensions:w},C=0,O=0;O<S.length;O++){for(var P=0;P<S[O].length;P++)for(var R=0;R<w;R++)E.vertices.push(S[O][P][R]);O>0&&(C+=S[O-1].length,E.holes.push(C))}return E}},2502:function(ee,D,e){var M=e(68664);ee.exports=function(k,a){var T,b=[],p=[],s=[],t={},i=[];function n(h){s[h]=!1,t.hasOwnProperty(h)&&Object.keys(t[h]).forEach(function(m){delete t[h][m],s[m]&&n(m)})}function r(h){var m,y,v=!1;for(p.push(h),s[h]=!0,m=0;m<i[h].length;m++)(y=i[h][m])===T?(o(T,p),v=!0):s[y]||(v=r(y));if(v)n(h);else for(m=0;m<i[h].length;m++){y=i[h][m];var _=t[y];_||(_={},t[y]=_),_[y]=!0}return p.pop(),v}function o(h,m){var y=[].concat(m).concat(h);a?a(r):b.push(y)}function l(h){!function(E){for(var C=0;C<k.length;C++)C<E&&(k[C]=[]),k[C]=k[C].filter(function(O){return O>=E})}(h);for(var m,y=M(k).components.filter(function(E){return E.length>1}),v=1/0,_=0;_<y.length;_++)for(var f=0;f<y[_].length;f++)y[_][f]<v&&(v=y[_][f],m=_);var S=y[m];return!!S&&{leastVertex:v,adjList:k.map(function(E,C){return-1===S.indexOf(C)?[]:E.filter(function(O){return-1!==S.indexOf(O)})})}}T=0;for(var u=k.length;T<u;){var d=l(T);if(T=d.leastVertex,i=d.adjList){for(var c=0;c<i.length;c++)for(var x=0;x<i[c].length;x++){var g=i[c][x];s[+g]=!1,t[g]={}}r(T),T+=1}else T=u}return a?void 0:b}},16134:function(ee,D,e){"use strict";var M=e(36672);ee.exports=function(){return M(this).length=0,this}},4892:function(ee,D,e){"use strict";ee.exports=e(64404)()?Array.from:e(49441)},64404:function(ee){"use strict";ee.exports=function(){var D,e,M=Array.from;return"function"==typeof M&&(e=M(D=["raz","dwa"]),Boolean(e&&e!==D&&"dwa"===e[1]))}},49441:function(ee,D,e){"use strict";var M=e(8260).iterator,k=e(73051),a=e(33717),T=e(35976),b=e(78513),p=e(36672),s=e(95296),t=e(87963),i=Array.isArray,n=Function.prototype.call,r={configurable:!0,enumerable:!0,writable:!0,value:null},o=Object.defineProperty;ee.exports=function(l){var u,d,c,x,g,h,m,y,v,_,f=arguments[1],S=arguments[2];if(l=Object(p(l)),s(f)&&b(f),this&&this!==Array&&a(this))u=this;else{if(!f){if(k(l))return 1!==(g=l.length)?Array.apply(null,l):((x=new Array(1))[0]=l[0],x);if(i(l)){for(x=new Array(g=l.length),d=0;d<g;++d)x[d]=l[d];return x}}x=[]}if(!i(l))if(void 0!==(v=l[M])){for(m=b(v).call(l),u&&(x=new u),y=m.next(),d=0;!y.done;)_=f?n.call(f,S,y.value,d):y.value,u?(r.value=_,o(x,d,r)):x[d]=_,y=m.next(),++d;g=d}else if(t(l)){for(g=l.length,u&&(x=new u),d=0,c=0;d<g;++d)_=l[d],d+1<g&&(h=_.charCodeAt(0))>=55296&&h<=56319&&(_+=l[++d]),_=f?n.call(f,S,_,c):_,u?(r.value=_,o(x,c,r)):x[c]=_,++c;g=c}if(void 0===g)for(g=T(l.length),u&&(x=new u(g)),d=0;d<g;++d)_=f?n.call(f,S,l[d],d):l[d],u?(r.value=_,o(x,d,r)):x[d]=_;return u&&(r.value=null,x.length=g),x}},73051:function(ee){"use strict";var D=Object.prototype.toString,e=D.call(function(){return arguments}());ee.exports=function(M){return D.call(M)===e}},33717:function(ee){"use strict";var D=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);ee.exports=function(M){return"function"==typeof M&&e(D.call(M))}},52345:function(ee){"use strict";ee.exports=function(){}},9953:function(ee,D,e){"use strict";ee.exports=e(90436)()?Math.sign:e(6069)},90436:function(ee){"use strict";ee.exports=function(){var D=Math.sign;return"function"==typeof D&&1===D(10)&&-1===D(-20)}},6069:function(ee){"use strict";ee.exports=function(D){return D=Number(D),isNaN(D)||0===D?D:D>0?1:-1}},56247:function(ee,D,e){"use strict";var M=e(9953),k=Math.abs,a=Math.floor;ee.exports=function(T){return isNaN(T)?0:0!==(T=Number(T))&&isFinite(T)?M(T)*a(k(T)):T}},35976:function(ee,D,e){"use strict";var M=e(56247),k=Math.max;ee.exports=function(a){return k(0,M(a))}},67260:function(ee,D,e){"use strict";var M=e(78513),k=e(36672),a=Function.prototype.bind,T=Function.prototype.call,b=Object.keys,p=Object.prototype.propertyIsEnumerable;ee.exports=function(s,t){return function(i,n){var r,o=arguments[2],l=arguments[3];return i=Object(k(i)),M(n),r=b(i),l&&r.sort("function"==typeof l?a.call(l,i):void 0),"function"!=typeof s&&(s=r[s]),T.call(s,r,function(u,d){return p.call(i,u)?T.call(n,o,i[u],u,i,d):t})}}},95879:function(ee,D,e){"use strict";ee.exports=e(73583)()?Object.assign:e(34205)},73583:function(ee){"use strict";ee.exports=function(){var D,e=Object.assign;return"function"==typeof e&&(e(D={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),D.foo+D.bar+D.trzy==="razdwatrzy")}},34205:function(ee,D,e){"use strict";var M=e(68700),k=e(36672),a=Math.max;ee.exports=function(T,b){var p,s,t,i=a(arguments.length,2);for(T=Object(k(T)),t=function(n){try{T[n]=b[n]}catch(r){p||(p=r)}},s=1;s<i;++s)M(b=arguments[s]).forEach(t);if(void 0!==p)throw p;return T}},19012:function(ee,D,e){"use strict";var M=e(4892),k=e(95879),a=e(36672);ee.exports=function(T){var b=Object(a(T)),p=arguments[1],s=Object(arguments[2]);if(b!==T&&!p)return b;var t={};return p?M(p,function(i){(s.ensure||i in T)&&(t[i]=T[i])}):k(t,T),t}},52818:function(ee,D,e){"use strict";var M,k,a,T,b=Object.create;e(33247)()||(M=e(51882)),ee.exports=M?1!==M.level?b:(k={},a={},T={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(p){a[p]="__proto__"!==p?T:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(k,a),Object.defineProperty(M,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:k}),function(p,s){return b(null===p?k:p,s)}):b},96437:function(ee,D,e){"use strict";ee.exports=e(67260)("forEach")},99611:function(ee,D,e){"use strict";var M=e(95296),k={function:!0,object:!0};ee.exports=function(a){return M(a)&&k[typeof a]||!1}},95296:function(ee,D,e){"use strict";var M=e(52345)();ee.exports=function(k){return k!==M&&null!==k}},68700:function(ee,D,e){"use strict";ee.exports=e(13895)()?Object.keys:e(25217)},13895:function(ee){"use strict";ee.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(ee,D,e){"use strict";var M=e(95296),k=Object.keys;ee.exports=function(a){return k(M(a)?Object(a):a)}},16906:function(ee,D,e){"use strict";var M=e(78513),k=e(96437),a=Function.prototype.call;ee.exports=function(T,b){var p={},s=arguments[2];return M(b),k(T,function(t,i,n,r){p[i]=a.call(b,s,t,i,n,r)}),p}},21780:function(ee,D,e){"use strict";var M=e(95296),k=Array.prototype.forEach,a=Object.create;ee.exports=function(T){var b=a(null);return k.call(arguments,function(p){M(p)&&function(s,t){var i;for(i in s)t[i]=s[i]}(Object(p),b)}),b}},1496:function(ee,D,e){"use strict";ee.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(ee){"use strict";var D=Object.create,e=Object.getPrototypeOf,M={};ee.exports=function(){var k=Object.setPrototypeOf;return"function"==typeof k&&e(k((arguments[0]||D)(null),M))===M}},51882:function(ee,D,e){"use strict";var M,k,a,T,b=e(99611),p=e(36672),s=Object.prototype.isPrototypeOf,t=Object.defineProperty,i={configurable:!0,enumerable:!1,writable:!0,value:void 0};M=function(n,r){if(p(n),null===r||b(r))return n;throw new TypeError("Prototype must be null or an object")},ee.exports=(k=function(){var n,r=Object.create(null),o={},l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{(n=l.set).call(r,o)}catch{}if(Object.getPrototypeOf(r)===o)return{set:n,level:2}}return r.__proto__=o,Object.getPrototypeOf(r)===o?{level:2}:((r={}).__proto__=o,Object.getPrototypeOf(r)===o&&{level:1})}())?(2===k.level?k.set?(T=k.set,a=function(n,r){return T.call(M(n,r),r),n}):a=function(n,r){return M(n,r).__proto__=r,n}:a=function n(r,o){var l;return M(r,o),(l=s.call(n.nullPolyfill,r))&&delete n.nullPolyfill.__proto__,null===o&&(o=n.nullPolyfill),r.__proto__=o,l&&t(n.nullPolyfill,"__proto__",i),r},Object.defineProperty(a,"level",{configurable:!1,enumerable:!1,writable:!1,value:k.level})):null,e(52818)},78513:function(ee){"use strict";ee.exports=function(D){if("function"!=typeof D)throw new TypeError(D+" is not a function");return D}},98976:function(ee,D,e){"use strict";var M=e(99611);ee.exports=function(k){if(!M(k))throw new TypeError(k+" is not an Object");return k}},36672:function(ee,D,e){"use strict";var M=e(95296);ee.exports=function(k){if(!M(k))throw new TypeError("Cannot use null or undefined");return k}},66741:function(ee,D,e){"use strict";ee.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(ee){"use strict";var D="razdwatrzy";ee.exports=function(){return"function"==typeof D.contains&&!0===D.contains("dwa")&&!1===D.contains("foo")}},60381:function(ee){"use strict";var D=String.prototype.indexOf;ee.exports=function(e){return D.call(this,e,arguments[1])>-1}},87963:function(ee){"use strict";var D=Object.prototype.toString,e=D.call("");ee.exports=function(M){return"string"==typeof M||M&&"object"==typeof M&&(M instanceof String||D.call(M)===e)||!1}},43043:function(ee){"use strict";var D=Object.create(null),e=Math.random;ee.exports=function(){var M;do{M=e().toString(36).slice(2)}while(D[M]);return M}},32411:function(ee,D,e){"use strict";var M,k=e(1496),a=e(66741),T=e(62072),b=e(8260),p=e(95426),s=Object.defineProperty;M=ee.exports=function(t,i){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");p.call(this,t),i=i?a.call(i,"key+value")?"key+value":a.call(i,"key")?"key":"value":"value",s(this,"__kind__",T("",i))},k&&k(M,p),delete M.prototype.constructor,M.prototype=Object.create(p.prototype,{_resolve:T(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t})}),s(M.prototype,b.toStringTag,T("c","Array Iterator"))},27515:function(ee,D,e){"use strict";var M=e(73051),k=e(78513),a=e(87963),T=e(66661),b=Array.isArray,p=Function.prototype.call,s=Array.prototype.some;ee.exports=function(t,i){var n,r,o,l,u,d,c,x,g=arguments[2];if(b(t)||M(t)?n="array":a(t)?n="string":t=T(t),k(i),o=function(){l=!0},"array"!==n)if("string"!==n)for(r=t.next();!r.done;){if(p.call(i,g,r.value,o),l)return;r=t.next()}else for(d=t.length,u=0;u<d&&(c=t[u],u+1<d&&(x=c.charCodeAt(0))>=55296&&x<=56319&&(c+=t[++u]),p.call(i,g,c,o),!l);++u);else s.call(t,function(h){return p.call(i,g,h,o),l})}},66661:function(ee,D,e){"use strict";var M=e(73051),k=e(87963),a=e(32411),T=e(259),b=e(58095),p=e(8260).iterator;ee.exports=function(s){return"function"==typeof b(s)[p]?s[p]():M(s)?new a(s):k(s)?new T(s):new a(s)}},95426:function(ee,D,e){"use strict";var M,k=e(16134),a=e(95879),T=e(78513),b=e(36672),p=e(62072),s=e(55174),t=e(8260),i=Object.defineProperty,n=Object.defineProperties;ee.exports=M=function(r,o){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");n(this,{__list__:p("w",b(r)),__context__:p("w",o),__nextIndex__:p("w",0)}),o&&(T(o.on),o.on("_add",this._onAdd),o.on("_delete",this._onDelete),o.on("_clear",this._onClear))},delete M.prototype.constructor,n(M.prototype,a({_next:p(function(){var r;if(this.__list__)return this.__redo__&&void 0!==(r=this.__redo__.shift())?r:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:p(function(){return this._createResult(this._next())}),_createResult:p(function(r){return void 0===r?{done:!0,value:void 0}:{done:!1,value:this._resolve(r)}}),_resolve:p(function(r){return this.__list__[r]}),_unBind:p(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:p(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},s({_onAdd:p(function(r){r>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(o,l){o>=r&&(this.__redo__[l]=++o)},this),this.__redo__.push(r)):i(this,"__redo__",p("c",[r])))}),_onDelete:p(function(r){var o;r>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(o=this.__redo__.indexOf(r))&&this.__redo__.splice(o,1),this.__redo__.forEach(function(l,u){l>r&&(this.__redo__[u]=--l)},this)))}),_onClear:p(function(){this.__redo__&&k.call(this.__redo__),this.__nextIndex__=0})}))),i(M.prototype,t.iterator,p(function(){return this}))},35940:function(ee,D,e){"use strict";var M=e(73051),k=e(95296),a=e(87963),T=e(8260).iterator,b=Array.isArray;ee.exports=function(p){return!(!k(p)||!b(p)&&!a(p)&&!M(p)&&"function"!=typeof p[T])}},259:function(ee,D,e){"use strict";var M,k=e(1496),a=e(62072),T=e(8260),b=e(95426),p=Object.defineProperty;M=ee.exports=function(s){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");s=String(s),b.call(this,s),p(this,"__length__",a("",s.length))},k&&k(M,b),delete M.prototype.constructor,M.prototype=Object.create(b.prototype,{_next:a(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:a(function(s){var t,i=this.__list__[s];return this.__nextIndex__===this.__length__?i:(t=i.charCodeAt(0))>=55296&&t<=56319?i+this.__list__[this.__nextIndex__++]:i})}),p(M.prototype,T.toStringTag,a("c","String Iterator"))},58095:function(ee,D,e){"use strict";var M=e(35940);ee.exports=function(k){if(!M(k))throw new TypeError(k+" is not iterable");return k}},73523:function(ee){"use strict";function D(e,M){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var k=Object(e),a=1;a<arguments.length;a++){var T=arguments[a];if(null!=T)for(var b=Object.keys(Object(T)),p=0,s=b.length;p<s;p++){var t=b[p],i=Object.getOwnPropertyDescriptor(T,t);void 0!==i&&i.enumerable&&(k[t]=T[t])}}return k}ee.exports={assign:D,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:D})}}},8260:function(ee,D,e){"use strict";ee.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(ee,D,e){"use strict";var M=e(94908),k={object:!0,symbol:!0};ee.exports=function(){var a,T=M.Symbol;if("function"!=typeof T)return!1;a=T("test symbol");try{String(a)}catch{return!1}return!!k[typeof T.iterator]&&!!k[typeof T.toPrimitive]&&!!k[typeof T.toStringTag]}},82276:function(ee){"use strict";ee.exports=function(D){return!!D&&("symbol"==typeof D||!!D.constructor&&"Symbol"===D.constructor.name&&"Symbol"===D[D.constructor.toStringTag])}},29366:function(ee,D,e){"use strict";var M=e(62072),k=Object.create,a=Object.defineProperty,T=Object.prototype,b=k(null);ee.exports=function(p){for(var s,t,i=0;b[p+(i||"")];)++i;return b[p+=i||""]=!0,a(T,s="@@"+p,M.gs(null,function(n){t||(t=!0,a(this,s,M(n)),t=!1)})),s}},92842:function(ee,D,e){"use strict";var M=e(62072),k=e(94908).Symbol;ee.exports=function(a){return Object.defineProperties(a,{hasInstance:M("",k&&k.hasInstance||a("hasInstance")),isConcatSpreadable:M("",k&&k.isConcatSpreadable||a("isConcatSpreadable")),iterator:M("",k&&k.iterator||a("iterator")),match:M("",k&&k.match||a("match")),replace:M("",k&&k.replace||a("replace")),search:M("",k&&k.search||a("search")),species:M("",k&&k.species||a("species")),split:M("",k&&k.split||a("split")),toPrimitive:M("",k&&k.toPrimitive||a("toPrimitive")),toStringTag:M("",k&&k.toStringTag||a("toStringTag")),unscopables:M("",k&&k.unscopables||a("unscopables"))})}},13304:function(ee,D,e){"use strict";var M=e(62072),k=e(53308),a=Object.create(null);ee.exports=function(T){return Object.defineProperties(T,{for:M(function(b){return a[b]?a[b]:a[b]=T(String(b))}),keyFor:M(function(b){var p;for(p in k(b),a)if(a[p]===b)return p})})}},18415:function(ee,D,e){"use strict";var M,k,a,T=e(62072),b=e(53308),p=e(94908).Symbol,s=e(29366),t=e(92842),i=e(13304),n=Object.create,r=Object.defineProperties,o=Object.defineProperty;if("function"==typeof p)try{String(p()),a=!0}catch{}else p=null;k=function(l){if(this instanceof k)throw new TypeError("Symbol is not a constructor");return M(l)},ee.exports=M=function l(u){var d;if(this instanceof l)throw new TypeError("Symbol is not a constructor");return a?p(u):(d=n(k.prototype),u=void 0===u?"":String(u),r(d,{__description__:T("",u),__name__:T("",s(u))}))},t(M),i(M),r(k.prototype,{constructor:T(M),toString:T("",function(){return this.__name__})}),r(M.prototype,{toString:T(function(){return"Symbol ("+b(this).__description__+")"}),valueOf:T(function(){return b(this)})}),o(M.prototype,M.toPrimitive,T("",function(){var l=b(this);return"symbol"==typeof l?l:l.toString()})),o(M.prototype,M.toStringTag,T("c","Symbol")),o(k.prototype,M.toStringTag,T("c",M.prototype[M.toStringTag])),o(k.prototype,M.toPrimitive,T("c",M.prototype[M.toPrimitive]))},53308:function(ee,D,e){"use strict";var M=e(82276);ee.exports=function(k){if(!M(k))throw new TypeError(k+" is not a symbol");return k}},83522:function(ee,D,e){"use strict";ee.exports=e(96402)()?WeakMap:e(329)},96402:function(ee){"use strict";ee.exports=function(){var D,e;if("function"!=typeof WeakMap)return!1;try{D=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return"[object WeakMap]"===String(D)&&"function"==typeof D.set&&D.set({},1)===D&&"function"==typeof D.delete&&"function"==typeof D.has&&"one"===D.get(e)}},96416:function(ee){"use strict";ee.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},329:function(ee,D,e){"use strict";var M,k=e(95296),a=e(1496),T=e(98976),b=e(36672),p=e(43043),s=e(62072),t=e(66661),i=e(27515),n=e(8260).toStringTag,r=e(96416),o=Array.isArray,l=Object.defineProperty,u=Object.prototype.hasOwnProperty,d=Object.getPrototypeOf;ee.exports=M=function(){var c,x=arguments[0];if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");return c=r&&a&&WeakMap!==M?a(new WeakMap,d(this)):this,k(x)&&(o(x)||(x=t(x))),l(c,"__weakMapData__",s("c","$weakMap$"+p())),x&&i(x,function(g){b(g),c.set(g[0],g[1])}),c},r&&(a&&a(M,WeakMap),M.prototype=Object.create(WeakMap.prototype,{constructor:s(M)})),Object.defineProperties(M.prototype,{delete:s(function(c){return!!u.call(T(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:s(function(c){if(u.call(T(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:s(function(c){return u.call(T(c),this.__weakMapData__)}),set:s(function(c,x){return l(T(c),this.__weakMapData__,s("c",x)),this}),toString:s(function(){return"[object WeakMap]"})}),l(M.prototype,n,s("c","WeakMap"))},15398:function(ee){"use strict";var D,e="object"==typeof Reflect?Reflect:null,M=e&&"function"==typeof e.apply?e.apply:function(u,d,c){return Function.prototype.apply.call(u,d,c)};D=e&&"function"==typeof e.ownKeys?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var k=Number.isNaN||function(u){return u!=u};function a(){a.init.call(this)}ee.exports=a,ee.exports.once=function(u,d){return new Promise(function(c,x){function g(m){u.removeListener(d,h),x(m)}function h(){"function"==typeof u.removeListener&&u.removeListener("error",g),c([].slice.call(arguments))}var m,y;l(u,d,h,{once:!0}),"error"!==d&&(y=g,"function"==typeof(m=u).on&&l(m,"error",y,{once:!0}))})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var T=10;function b(u){if("function"!=typeof u)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function p(u){return void 0===u._maxListeners?a.defaultMaxListeners:u._maxListeners}function s(u,d,c,x){var g,h,m,y;if(b(c),void 0===(h=u._events)?(h=u._events=Object.create(null),u._eventsCount=0):(void 0!==h.newListener&&(u.emit("newListener",d,c.listener?c.listener:c),h=u._events),m=h[d]),void 0===m)m=h[d]=c,++u._eventsCount;else if("function"==typeof m?m=h[d]=x?[c,m]:[m,c]:x?m.unshift(c):m.push(c),(g=p(u))>0&&m.length>g&&!m.warned){m.warned=!0;var v=new Error("Possible EventEmitter memory leak detected. "+m.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");v.name="MaxListenersExceededWarning",v.emitter=u,v.type=d,v.count=m.length,y=v,console&&console.warn&&console.warn(y)}return u}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(u,d,c){var x={fired:!1,wrapFn:void 0,target:u,type:d,listener:c},g=t.bind(x);return g.listener=c,x.wrapFn=g,g}function n(u,d,c){var x=u._events;if(void 0===x)return[];var g=x[d];return void 0===g?[]:"function"==typeof g?c?[g.listener||g]:[g]:c?function(h){for(var m=new Array(h.length),y=0;y<m.length;++y)m[y]=h[y].listener||h[y];return m}(g):o(g,g.length)}function r(u){var d=this._events;if(void 0!==d){var c=d[u];if("function"==typeof c)return 1;if(void 0!==c)return c.length}return 0}function o(u,d){for(var c=new Array(d),x=0;x<d;++x)c[x]=u[x];return c}function l(u,d,c,x){if("function"==typeof u.on)x.once?u.once(d,c):u.on(d,c);else{if("function"!=typeof u.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(d,function g(h){x.once&&u.removeEventListener(d,g),c(h)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(u){if("number"!=typeof u||u<0||k(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");T=u}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(u){if("number"!=typeof u||u<0||k(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},a.prototype.getMaxListeners=function(){return p(this)},a.prototype.emit=function(u){for(var d=[],c=1;c<arguments.length;c++)d.push(arguments[c]);var x="error"===u,g=this._events;if(void 0!==g)x=x&&void 0===g.error;else if(!x)return!1;if(x){var h;if(d.length>0&&(h=d[0]),h instanceof Error)throw h;var m=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw m.context=h,m}var y=g[u];if(void 0===y)return!1;if("function"==typeof y)M(y,this,d);else{var v=y.length,_=o(y,v);for(c=0;c<v;++c)M(_[c],this,d)}return!0},a.prototype.addListener=function(u,d){return s(this,u,d,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(u,d){return s(this,u,d,!0)},a.prototype.once=function(u,d){return b(d),this.on(u,i(this,u,d)),this},a.prototype.prependOnceListener=function(u,d){return b(d),this.prependListener(u,i(this,u,d)),this},a.prototype.removeListener=function(u,d){var c,x,g,h,m;if(b(d),void 0===(x=this._events))return this;if(void 0===(c=x[u]))return this;if(c===d||c.listener===d)0==--this._eventsCount?this._events=Object.create(null):(delete x[u],x.removeListener&&this.emit("removeListener",u,c.listener||d));else if("function"!=typeof c){for(g=-1,h=c.length-1;h>=0;h--)if(c[h]===d||c[h].listener===d){m=c[h].listener,g=h;break}if(g<0)return this;0===g?c.shift():function(y,v){for(;v+1<y.length;v++)y[v]=y[v+1];y.pop()}(c,g),1===c.length&&(x[u]=c[0]),void 0!==x.removeListener&&this.emit("removeListener",u,m||d)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(u){var d,c,x;if(void 0===(c=this._events))return this;if(void 0===c.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==c[u]&&(0==--this._eventsCount?this._events=Object.create(null):delete c[u]),this;if(0===arguments.length){var g,h=Object.keys(c);for(x=0;x<h.length;++x)"removeListener"!==(g=h[x])&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(d=c[u]))this.removeListener(u,d);else if(void 0!==d)for(x=d.length-1;x>=0;x--)this.removeListener(u,d[x]);return this},a.prototype.listeners=function(u){return n(this,u,!0)},a.prototype.rawListeners=function(u){return n(this,u,!1)},a.listenerCount=function(u,d){return"function"==typeof u.listenerCount?u.listenerCount(d):r.call(u,d)},a.prototype.listenerCount=r,a.prototype.eventNames=function(){return this._eventsCount>0?D(this._events):[]}},60774:function(ee){var D=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};ee.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return D()}try{return __global__||D()}finally{delete Object.prototype.__global__}}()},94908:function(ee,D,e){"use strict";ee.exports=e(51152)()?globalThis:e(60774)},51152:function(ee){"use strict";ee.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},92770:function(ee,D,e){"use strict";var M=e(18546);ee.exports=function(k){var a=typeof k;if("string"===a){var T=k;if(0==(k=+k)&&M(T))return!1}else if("number"!==a)return!1;return k-k<1}},30120:function(ee,D,e){var M=e(90660);ee.exports=function(k,a,T){if(!k)throw new TypeError("must specify data as first parameter");if(T=0|+(T||0),Array.isArray(k)&&k[0]&&"number"==typeof k[0][0]){var b,p,s,t,i=k[0].length,n=k.length*i;a&&"string"!=typeof a||(a=new(M(a||"float32"))(n+T));var r=a.length-T;if(n!==r)throw new Error("source length "+n+" ("+i+"x"+k.length+") does not match destination length "+r);for(b=0,s=T;b<k.length;b++)for(p=0;p<i;p++)a[s++]=null===k[b][p]?NaN:k[b][p]}else if(a&&"string"!=typeof a)a.set(k,T);else{var o=M(a||"float32");if(Array.isArray(k)||"array"===a)for(b=0,s=T,t=(a=new o(k.length+T)).length;s<t;s++,b++)a[s]=null===k[b]?NaN:k[b];else 0===T?a=new o(k):(a=new o(k.length+T)).set(k,T)}return a}},68016:function(ee,D,e){"use strict";var M=e(53313),k=[32,126];ee.exports=function(a){var T=(a=a||{}).shape?a.shape:a.canvas?[a.canvas.width,a.canvas.height]:[512,512],b=a.canvas||document.createElement("canvas"),p=a.font,s="number"==typeof a.step?[a.step,a.step]:a.step||[32,32],t=a.chars||k;if(p&&"string"!=typeof p&&(p=M(p)),Array.isArray(t)){if(2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]){for(var i=[],n=t[0],r=0;n<=t[1];n++)i[r++]=String.fromCharCode(n);t=i}}else t=String(t).split("");T=T.slice(),b.width=T[0],b.height=T[1];var o=b.getContext("2d");o.fillStyle="#000",o.fillRect(0,0,b.width,b.height),o.font=p,o.textAlign="center",o.textBaseline="middle",o.fillStyle="#fff";var l=s[0]/2,u=s[1]/2;for(n=0;n<t.length;n++)o.fillText(t[n],l,u),(l+=s[0])>T[0]-s[0]/2&&(l=s[0]/2,u+=s[1]);return b}},32879:function(ee){"use strict";function D(a,T){T||(T={}),("string"==typeof a||Array.isArray(a))&&(T.family=a);var b=Array.isArray(T.family)?T.family.join(", "):T.family;if(!b)throw Error("`family` must be defined");var p=T.size||T.fontSize||T.em||48,s=T.weight||T.fontWeight||"",t=(a=[T.style||T.fontStyle||"",s,p].join(" ")+"px "+b,T.origin||"top");if(D.cache[b]&&p<=D.cache[b].em)return e(D.cache[b],t);var i=T.canvas||D.canvas,n=i.getContext("2d"),r={upper:void 0!==T.upper?T.upper:"H",lower:void 0!==T.lower?T.lower:"x",descent:void 0!==T.descent?T.descent:"p",ascent:void 0!==T.ascent?T.ascent:"h",tittle:void 0!==T.tittle?T.tittle:"i",overshoot:void 0!==T.overshoot?T.overshoot:"O"},o=Math.ceil(1.5*p);i.height=o,i.width=.5*o,n.font=a;var l="H",u={top:0};n.clearRect(0,0,o,o),n.textBaseline="top",n.fillStyle="black",n.fillText(l,0,0);var d=M(n.getImageData(0,0,o,o));n.clearRect(0,0,o,o),n.textBaseline="bottom",n.fillText(l,0,o);var c=M(n.getImageData(0,0,o,o));u.lineHeight=u.bottom=o-c+d,n.clearRect(0,0,o,o),n.textBaseline="alphabetic",n.fillText(l,0,o);var x=o-M(n.getImageData(0,0,o,o))-1+d;u.baseline=u.alphabetic=x,n.clearRect(0,0,o,o),n.textBaseline="middle",n.fillText(l,0,.5*o);var g=M(n.getImageData(0,0,o,o));u.median=u.middle=o-g-1+d-.5*o,n.clearRect(0,0,o,o),n.textBaseline="hanging",n.fillText(l,0,.5*o);var h=M(n.getImageData(0,0,o,o));u.hanging=o-h-1+d-.5*o,n.clearRect(0,0,o,o),n.textBaseline="ideographic",n.fillText(l,0,o);var m=M(n.getImageData(0,0,o,o));if(u.ideographic=o-m-1+d,r.upper&&(n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.upper,0,0),u.upper=M(n.getImageData(0,0,o,o)),u.capHeight=u.baseline-u.upper),r.lower&&(n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.lower,0,0),u.lower=M(n.getImageData(0,0,o,o)),u.xHeight=u.baseline-u.lower),r.tittle&&(n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.tittle,0,0),u.tittle=M(n.getImageData(0,0,o,o))),r.ascent&&(n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.ascent,0,0),u.ascent=M(n.getImageData(0,0,o,o))),r.descent&&(n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.descent,0,0),u.descent=k(n.getImageData(0,0,o,o))),r.overshoot){n.clearRect(0,0,o,o),n.textBaseline="top",n.fillText(r.overshoot,0,0);var y=k(n.getImageData(0,0,o,o));u.overshoot=y-x}for(var v in u)u[v]/=p;return u.em=p,D.cache[b]=u,e(u,t)}function e(a,T){var b={};for(var p in"string"==typeof T&&(T=a[T]),a)"em"!==p&&(b[p]=a[p]-T);return b}function M(a){for(var T=a.height,b=a.data,p=3;p<b.length;p+=4)if(0!==b[p])return Math.floor(.25*(p-3)/T)}function k(a){for(var T=a.height,b=a.data,p=b.length-1;p>0;p-=4)if(0!==b[p])return Math.floor(.25*(p-3)/T)}ee.exports=D,D.canvas=document.createElement("canvas"),D.cache={}},31353:function(ee,D,e){"use strict";var M=e(85395),k=Object.prototype.toString,a=Object.prototype.hasOwnProperty;ee.exports=function(T,b,p){if(!M(b))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=p),"[object Array]"===k.call(T)?function(t,i,n){for(var r=0,o=t.length;r<o;r++)a.call(t,r)&&(null==n?i(t[r],r,t):i.call(n,t[r],r,t))}(T,b,s):"string"==typeof T?function(t,i,n){for(var r=0,o=t.length;r<o;r++)null==n?i(t.charAt(r),r,t):i.call(n,t.charAt(r),r,t)}(T,b,s):function(t,i,n){for(var r in t)a.call(t,r)&&(null==n?i(t[r],r,t):i.call(n,t[r],r,t))}(T,b,s)}},73047:function(ee){"use strict";var D=Array.prototype.slice,e=Object.prototype.toString;ee.exports=function(M){var k=this;if("function"!=typeof k||"[object Function]"!==e.call(k))throw new TypeError("Function.prototype.bind called on incompatible "+k);for(var a,T=D.call(arguments,1),b=Math.max(0,k.length-T.length),p=[],s=0;s<b;s++)p.push("$"+s);if(a=Function("binder","return function ("+p.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var i=k.apply(this,T.concat(D.call(arguments)));return Object(i)===i?i:this}return k.apply(M,T.concat(D.call(arguments)))}),k.prototype){var t=function(){};t.prototype=k.prototype,a.prototype=new t,t.prototype=null}return a}},77575:function(ee,D,e){"use strict";var M=e(73047);ee.exports=Function.prototype.bind||M},86249:function(ee){ee.exports=function(D,e){if("string"!=typeof D)throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var M=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(M.width=e.width),"number"==typeof e.height&&(M.height=e.height);var k,a=e;try{var T=[D];0===D.indexOf("webgl")&&T.push("experimental-"+D);for(var b=0;b<T.length;b++)if(k=M.getContext(T[b],a))return k}catch{k=null}return k||null}},68318:function(ee,D,e){"use strict";var M,k=SyntaxError,a=Function,T=TypeError,b=function(E){try{return a('"use strict"; return ('+E+").constructor;")()}catch{}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch{p=null}var s=function(){throw new T},t=p?function(){try{return s}catch{try{return p(arguments,"callee").get}catch{return s}}}():s,i=e(57877)(),n=Object.getPrototypeOf||function(E){return E.__proto__},r={},o=typeof Uint8Array>"u"?M:n(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?M:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?M:ArrayBuffer,"%ArrayIteratorPrototype%":i?n([][Symbol.iterator]()):M,"%AsyncFromSyncIteratorPrototype%":M,"%AsyncFunction%":r,"%AsyncGenerator%":r,"%AsyncGeneratorFunction%":r,"%AsyncIteratorPrototype%":r,"%Atomics%":typeof Atomics>"u"?M:Atomics,"%BigInt%":typeof BigInt>"u"?M:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?M:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?M:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?M:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?M:Float32Array,"%Float64Array%":typeof Float64Array>"u"?M:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?M:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":r,"%Int8Array%":typeof Int8Array>"u"?M:Int8Array,"%Int16Array%":typeof Int16Array>"u"?M:Int16Array,"%Int32Array%":typeof Int32Array>"u"?M:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i?n(n([][Symbol.iterator]())):M,"%JSON%":"object"==typeof JSON?JSON:M,"%Map%":typeof Map>"u"?M:Map,"%MapIteratorPrototype%":typeof Map<"u"&&i?n((new Map)[Symbol.iterator]()):M,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?M:Promise,"%Proxy%":typeof Proxy>"u"?M:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?M:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?M:Set,"%SetIteratorPrototype%":typeof Set<"u"&&i?n((new Set)[Symbol.iterator]()):M,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?M:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i?n(""[Symbol.iterator]()):M,"%Symbol%":i?Symbol:M,"%SyntaxError%":k,"%ThrowTypeError%":t,"%TypedArray%":o,"%TypeError%":T,"%Uint8Array%":typeof Uint8Array>"u"?M:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?M:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?M:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?M:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?M:WeakMap,"%WeakRef%":typeof WeakRef>"u"?M:WeakRef,"%WeakSet%":typeof WeakSet>"u"?M:WeakSet};try{null.error}catch(E){var u=n(n(E));l["%Error.prototype%"]=u}var d=function E(C){var O;if("%AsyncFunction%"===C)O=b("async function () {}");else if("%GeneratorFunction%"===C)O=b("function* () {}");else if("%AsyncGeneratorFunction%"===C)O=b("async function* () {}");else if("%AsyncGenerator%"===C){var P=E("%AsyncGeneratorFunction%");P&&(O=P.prototype)}else if("%AsyncIteratorPrototype%"===C){var R=E("%AsyncGenerator%");R&&(O=n(R.prototype))}return l[C]=O,O},c={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=e(77575),g=e(35065),h=x.call(Function.call,Array.prototype.concat),m=x.call(Function.apply,Array.prototype.splice),y=x.call(Function.call,String.prototype.replace),v=x.call(Function.call,String.prototype.slice),_=x.call(Function.call,RegExp.prototype.exec),f=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,w=function(E,C){var O,P=E;if(g(c,P)&&(P="%"+(O=c[P])[0]+"%"),g(l,P)){var R=l[P];if(R===r&&(R=d(P)),void 0===R&&!C)throw new T("intrinsic "+E+" exists, but is not available. Please file an issue!");return{alias:O,name:P,value:R}}throw new k("intrinsic "+E+" does not exist!")};ee.exports=function(E,C){if("string"!=typeof E||0===E.length)throw new T("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof C)throw new T('"allowMissing" argument must be a boolean');if(null===_(/^%?[^%]*%?$/,E))throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var O=function(W){var J=v(W,0,1),Q=v(W,-1);if("%"===J&&"%"!==Q)throw new k("invalid intrinsic syntax, expected closing `%`");if("%"===Q&&"%"!==J)throw new k("invalid intrinsic syntax, expected opening `%`");var re=[];return y(W,f,function(ae,oe,ue,ve){re[re.length]=ue?y(ve,S,"$1"):oe||ae}),re}(E),P=O.length>0?O[0]:"",R=w("%"+P+"%",C),j=R.name,z=R.value,N=!1,Y=R.alias;Y&&(P=Y[0],m(O,h([0,1],Y)));for(var F=1,U=!0;F<O.length;F+=1){var V=O[F],te=v(V,0,1),$=v(V,-1);if(('"'===te||"'"===te||"`"===te||'"'===$||"'"===$||"`"===$)&&te!==$)throw new k("property names with quotes must have matching quotes");if("constructor"!==V&&U||(N=!0),g(l,j="%"+(P+="."+V)+"%"))z=l[j];else if(null!=z){if(!(V in z)){if(!C)throw new T("base intrinsic for "+E+" exists, but the property is not available.");return}if(p&&F+1>=O.length){var X=p(z,V);z=(U=!!X)&&"get"in X&&!("originalValue"in X.get)?X.get:z[V]}else U=g(z,V),z=z[V];U&&!N&&(l[j]=z)}}return z}},85400:function(ee){ee.exports=function(D,e){var M=e[0],k=e[1],a=e[2],T=e[3],b=e[4],p=e[5],s=e[6],t=e[7],i=e[8],n=e[9],r=e[10],o=e[11],l=e[12],u=e[13],d=e[14],c=e[15];return D[0]=p*(r*c-o*d)-n*(s*c-t*d)+u*(s*o-t*r),D[1]=-(k*(r*c-o*d)-n*(a*c-T*d)+u*(a*o-T*r)),D[2]=k*(s*c-t*d)-p*(a*c-T*d)+u*(a*t-T*s),D[3]=-(k*(s*o-t*r)-p*(a*o-T*r)+n*(a*t-T*s)),D[4]=-(b*(r*c-o*d)-i*(s*c-t*d)+l*(s*o-t*r)),D[5]=M*(r*c-o*d)-i*(a*c-T*d)+l*(a*o-T*r),D[6]=-(M*(s*c-t*d)-b*(a*c-T*d)+l*(a*t-T*s)),D[7]=M*(s*o-t*r)-b*(a*o-T*r)+i*(a*t-T*s),D[8]=b*(n*c-o*u)-i*(p*c-t*u)+l*(p*o-t*n),D[9]=-(M*(n*c-o*u)-i*(k*c-T*u)+l*(k*o-T*n)),D[10]=M*(p*c-t*u)-b*(k*c-T*u)+l*(k*t-T*p),D[11]=-(M*(p*o-t*n)-b*(k*o-T*n)+i*(k*t-T*p)),D[12]=-(b*(n*d-r*u)-i*(p*d-s*u)+l*(p*r-s*n)),D[13]=M*(n*d-r*u)-i*(k*d-a*u)+l*(k*r-a*n),D[14]=-(M*(p*d-s*u)-b*(k*d-a*u)+l*(k*s-a*p)),D[15]=M*(p*r-s*n)-b*(k*r-a*n)+i*(k*s-a*p),D}},42331:function(ee){ee.exports=function(D){var e=new Float32Array(16);return e[0]=D[0],e[1]=D[1],e[2]=D[2],e[3]=D[3],e[4]=D[4],e[5]=D[5],e[6]=D[6],e[7]=D[7],e[8]=D[8],e[9]=D[9],e[10]=D[10],e[11]=D[11],e[12]=D[12],e[13]=D[13],e[14]=D[14],e[15]=D[15],e}},31042:function(ee){ee.exports=function(D,e){return D[0]=e[0],D[1]=e[1],D[2]=e[2],D[3]=e[3],D[4]=e[4],D[5]=e[5],D[6]=e[6],D[7]=e[7],D[8]=e[8],D[9]=e[9],D[10]=e[10],D[11]=e[11],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15],D}},11902:function(ee){ee.exports=function(){var D=new Float32Array(16);return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},89887:function(ee){ee.exports=function(D){var e=D[0],M=D[1],k=D[2],a=D[3],T=D[4],b=D[5],p=D[6],s=D[7],t=D[8],i=D[9],n=D[10],r=D[11],o=D[12],l=D[13],u=D[14],d=D[15];return(e*b-M*T)*(n*d-r*u)-(e*p-k*T)*(i*d-r*l)+(e*s-a*T)*(i*u-n*l)+(M*p-k*b)*(t*d-r*o)-(M*s-a*b)*(t*u-n*o)+(k*s-a*p)*(t*l-i*o)}},27812:function(ee){ee.exports=function(D,e){var M=e[0],k=e[1],a=e[2],T=e[3],b=M+M,p=k+k,s=a+a,t=M*b,i=k*b,n=k*p,r=a*b,o=a*p,l=a*s,u=T*b,d=T*p,c=T*s;return D[0]=1-n-l,D[1]=i+c,D[2]=r-d,D[3]=0,D[4]=i-c,D[5]=1-t-l,D[6]=o+u,D[7]=0,D[8]=r+d,D[9]=o-u,D[10]=1-t-n,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},34045:function(ee){ee.exports=function(D,e,M){var k,a,T,b=M[0],p=M[1],s=M[2],t=Math.sqrt(b*b+p*p+s*s);return Math.abs(t)<1e-6?null:(b*=t=1/t,p*=t,s*=t,k=Math.sin(e),T=1-(a=Math.cos(e)),D[0]=b*b*T+a,D[1]=p*b*T+s*k,D[2]=s*b*T-p*k,D[3]=0,D[4]=b*p*T-s*k,D[5]=p*p*T+a,D[6]=s*p*T+b*k,D[7]=0,D[8]=b*s*T+p*k,D[9]=p*s*T-b*k,D[10]=s*s*T+a,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D)}},45973:function(ee){ee.exports=function(D,e,M){var k=e[0],a=e[1],T=e[2],b=e[3],p=k+k,s=a+a,t=T+T,i=k*p,n=k*s,r=k*t,o=a*s,l=a*t,u=T*t,d=b*p,c=b*s,x=b*t;return D[0]=1-(o+u),D[1]=n+x,D[2]=r-c,D[3]=0,D[4]=n-x,D[5]=1-(i+u),D[6]=l+d,D[7]=0,D[8]=r+c,D[9]=l-d,D[10]=1-(i+o),D[11]=0,D[12]=M[0],D[13]=M[1],D[14]=M[2],D[15]=1,D}},81472:function(ee){ee.exports=function(D,e){return D[0]=e[0],D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=e[1],D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=e[2],D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},14669:function(ee){ee.exports=function(D,e){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=e[0],D[13]=e[1],D[14]=e[2],D[15]=1,D}},75262:function(ee){ee.exports=function(D,e){var M=Math.sin(e),k=Math.cos(e);return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=k,D[6]=M,D[7]=0,D[8]=0,D[9]=-M,D[10]=k,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},331:function(ee){ee.exports=function(D,e){var M=Math.sin(e),k=Math.cos(e);return D[0]=k,D[1]=0,D[2]=-M,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=M,D[9]=0,D[10]=k,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},11049:function(ee){ee.exports=function(D,e){var M=Math.sin(e),k=Math.cos(e);return D[0]=k,D[1]=M,D[2]=0,D[3]=0,D[4]=-M,D[5]=k,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},75195:function(ee){ee.exports=function(D,e,M,k,a,T,b){var p=1/(M-e),s=1/(a-k),t=1/(T-b);return D[0]=2*T*p,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=2*T*s,D[6]=0,D[7]=0,D[8]=(M+e)*p,D[9]=(a+k)*s,D[10]=(b+T)*t,D[11]=-1,D[12]=0,D[13]=0,D[14]=b*T*2*t,D[15]=0,D}},71551:function(ee){ee.exports=function(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}},79576:function(ee,D,e){ee.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(ee){ee.exports=function(D,e){var M=e[0],k=e[1],a=e[2],T=e[3],b=e[4],p=e[5],s=e[6],t=e[7],i=e[8],n=e[9],r=e[10],o=e[11],l=e[12],u=e[13],d=e[14],c=e[15],x=M*p-k*b,g=M*s-a*b,h=M*t-T*b,m=k*s-a*p,y=k*t-T*p,v=a*t-T*s,_=i*u-n*l,f=i*d-r*l,S=i*c-o*l,w=n*d-r*u,E=n*c-o*u,C=r*c-o*d,O=x*C-g*E+h*w+m*S-y*f+v*_;return O?(O=1/O,D[0]=(p*C-s*E+t*w)*O,D[1]=(a*E-k*C-T*w)*O,D[2]=(u*v-d*y+c*m)*O,D[3]=(r*y-n*v-o*m)*O,D[4]=(s*S-b*C-t*f)*O,D[5]=(M*C-a*S+T*f)*O,D[6]=(d*h-l*v-c*g)*O,D[7]=(i*v-r*h+o*g)*O,D[8]=(b*E-p*S+t*_)*O,D[9]=(k*S-M*E-T*_)*O,D[10]=(l*y-u*h+c*x)*O,D[11]=(n*h-i*y-o*x)*O,D[12]=(p*f-b*w-s*_)*O,D[13]=(M*w-k*f+a*_)*O,D[14]=(u*g-l*m-d*x)*O,D[15]=(i*m-n*g+r*x)*O,D):null}},65551:function(ee,D,e){var M=e(71551);ee.exports=function(k,a,T,b){var p,s,t,i,n,r,o,l,u,d,c=a[0],x=a[1],g=a[2],h=b[0],m=b[1],y=b[2],v=T[0],_=T[1],f=T[2];return Math.abs(c-v)<1e-6&&Math.abs(x-_)<1e-6&&Math.abs(g-f)<1e-6?M(k):(o=c-v,l=x-_,u=g-f,p=m*(u*=d=1/Math.sqrt(o*o+l*l+u*u))-y*(l*=d),s=y*(o*=d)-h*u,t=h*l-m*o,(d=Math.sqrt(p*p+s*s+t*t))?(p*=d=1/d,s*=d,t*=d):(p=0,s=0,t=0),i=l*t-u*s,n=u*p-o*t,r=o*s-l*p,(d=Math.sqrt(i*i+n*n+r*r))?(i*=d=1/d,n*=d,r*=d):(i=0,n=0,r=0),k[0]=p,k[1]=i,k[2]=o,k[3]=0,k[4]=s,k[5]=n,k[6]=l,k[7]=0,k[8]=t,k[9]=r,k[10]=u,k[11]=0,k[12]=-(p*c+s*x+t*g),k[13]=-(i*c+n*x+r*g),k[14]=-(o*c+l*x+u*g),k[15]=1,k)}},91362:function(ee){ee.exports=function(D,e,M){var k=e[0],a=e[1],T=e[2],b=e[3],p=e[4],s=e[5],t=e[6],i=e[7],n=e[8],r=e[9],o=e[10],l=e[11],u=e[12],d=e[13],c=e[14],x=e[15],g=M[0],h=M[1],m=M[2],y=M[3];return D[0]=g*k+h*p+m*n+y*u,D[1]=g*a+h*s+m*r+y*d,D[2]=g*T+h*t+m*o+y*c,D[3]=g*b+h*i+m*l+y*x,g=M[4],h=M[5],m=M[6],y=M[7],D[4]=g*k+h*p+m*n+y*u,D[5]=g*a+h*s+m*r+y*d,D[6]=g*T+h*t+m*o+y*c,D[7]=g*b+h*i+m*l+y*x,g=M[8],h=M[9],m=M[10],y=M[11],D[8]=g*k+h*p+m*n+y*u,D[9]=g*a+h*s+m*r+y*d,D[10]=g*T+h*t+m*o+y*c,D[11]=g*b+h*i+m*l+y*x,g=M[12],h=M[13],m=M[14],y=M[15],D[12]=g*k+h*p+m*n+y*u,D[13]=g*a+h*s+m*r+y*d,D[14]=g*T+h*t+m*o+y*c,D[15]=g*b+h*i+m*l+y*x,D}},60378:function(ee){ee.exports=function(D,e,M,k,a,T,b){var p=1/(e-M),s=1/(k-a),t=1/(T-b);return D[0]=-2*p,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*s,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*t,D[11]=0,D[12]=(e+M)*p,D[13]=(a+k)*s,D[14]=(b+T)*t,D[15]=1,D}},7864:function(ee){ee.exports=function(D,e,M,k,a){var T=1/Math.tan(e/2),b=1/(k-a);return D[0]=T/M,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=T,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=(a+k)*b,D[11]=-1,D[12]=0,D[13]=0,D[14]=2*a*k*b,D[15]=0,D}},35279:function(ee){ee.exports=function(D,e,M,k){var a=Math.tan(e.upDegrees*Math.PI/180),T=Math.tan(e.downDegrees*Math.PI/180),b=Math.tan(e.leftDegrees*Math.PI/180),p=Math.tan(e.rightDegrees*Math.PI/180),s=2/(b+p),t=2/(a+T);return D[0]=s,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=t,D[6]=0,D[7]=0,D[8]=-(b-p)*s*.5,D[9]=(a-T)*t*.5,D[10]=k/(M-k),D[11]=-1,D[12]=0,D[13]=0,D[14]=k*M/(M-k),D[15]=0,D}},65074:function(ee){ee.exports=function(D,e,M,k){var a,T,b,p,s,t,i,n,r,o,l,u,d,c,x,g,h,m,y,v,_,f,S,w,E=k[0],C=k[1],O=k[2],P=Math.sqrt(E*E+C*C+O*O);return Math.abs(P)<1e-6?null:(E*=P=1/P,C*=P,O*=P,a=Math.sin(M),b=1-(T=Math.cos(M)),p=e[0],s=e[1],t=e[2],i=e[3],n=e[4],r=e[5],o=e[6],l=e[7],u=e[8],d=e[9],c=e[10],x=e[11],g=E*E*b+T,h=C*E*b+O*a,m=O*E*b-C*a,y=E*C*b-O*a,v=C*C*b+T,_=O*C*b+E*a,f=E*O*b+C*a,S=C*O*b-E*a,w=O*O*b+T,D[0]=p*g+n*h+u*m,D[1]=s*g+r*h+d*m,D[2]=t*g+o*h+c*m,D[3]=i*g+l*h+x*m,D[4]=p*y+n*v+u*_,D[5]=s*y+r*v+d*_,D[6]=t*y+o*v+c*_,D[7]=i*y+l*v+x*_,D[8]=p*f+n*S+u*w,D[9]=s*f+r*S+d*w,D[10]=t*f+o*S+c*w,D[11]=i*f+l*S+x*w,e!==D&&(D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D)}},35545:function(ee){ee.exports=function(D,e,M){var k=Math.sin(M),a=Math.cos(M),T=e[4],b=e[5],p=e[6],s=e[7],t=e[8],i=e[9],n=e[10],r=e[11];return e!==D&&(D[0]=e[0],D[1]=e[1],D[2]=e[2],D[3]=e[3],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D[4]=T*a+t*k,D[5]=b*a+i*k,D[6]=p*a+n*k,D[7]=s*a+r*k,D[8]=t*a-T*k,D[9]=i*a-b*k,D[10]=n*a-p*k,D[11]=r*a-s*k,D}},94918:function(ee){ee.exports=function(D,e,M){var k=Math.sin(M),a=Math.cos(M),T=e[0],b=e[1],p=e[2],s=e[3],t=e[8],i=e[9],n=e[10],r=e[11];return e!==D&&(D[4]=e[4],D[5]=e[5],D[6]=e[6],D[7]=e[7],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D[0]=T*a-t*k,D[1]=b*a-i*k,D[2]=p*a-n*k,D[3]=s*a-r*k,D[8]=T*k+t*a,D[9]=b*k+i*a,D[10]=p*k+n*a,D[11]=s*k+r*a,D}},15692:function(ee){ee.exports=function(D,e,M){var k=Math.sin(M),a=Math.cos(M),T=e[0],b=e[1],p=e[2],s=e[3],t=e[4],i=e[5],n=e[6],r=e[7];return e!==D&&(D[8]=e[8],D[9]=e[9],D[10]=e[10],D[11]=e[11],D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15]),D[0]=T*a+t*k,D[1]=b*a+i*k,D[2]=p*a+n*k,D[3]=s*a+r*k,D[4]=t*a-T*k,D[5]=i*a-b*k,D[6]=n*a-p*k,D[7]=r*a-s*k,D}},10789:function(ee){ee.exports=function(D,e,M){var k=M[0],a=M[1],T=M[2];return D[0]=e[0]*k,D[1]=e[1]*k,D[2]=e[2]*k,D[3]=e[3]*k,D[4]=e[4]*a,D[5]=e[5]*a,D[6]=e[6]*a,D[7]=e[7]*a,D[8]=e[8]*T,D[9]=e[9]*T,D[10]=e[10]*T,D[11]=e[11]*T,D[12]=e[12],D[13]=e[13],D[14]=e[14],D[15]=e[15],D}},6726:function(ee){ee.exports=function(D){return"mat4("+D[0]+", "+D[1]+", "+D[2]+", "+D[3]+", "+D[4]+", "+D[5]+", "+D[6]+", "+D[7]+", "+D[8]+", "+D[9]+", "+D[10]+", "+D[11]+", "+D[12]+", "+D[13]+", "+D[14]+", "+D[15]+")"}},31283:function(ee){ee.exports=function(D,e,M){var k,a,T,b,p,s,t,i,n,r,o,l,u=M[0],d=M[1],c=M[2];return e===D?(D[12]=e[0]*u+e[4]*d+e[8]*c+e[12],D[13]=e[1]*u+e[5]*d+e[9]*c+e[13],D[14]=e[2]*u+e[6]*d+e[10]*c+e[14],D[15]=e[3]*u+e[7]*d+e[11]*c+e[15]):(k=e[0],a=e[1],T=e[2],b=e[3],p=e[4],s=e[5],t=e[6],i=e[7],n=e[8],r=e[9],o=e[10],l=e[11],D[0]=k,D[1]=a,D[2]=T,D[3]=b,D[4]=p,D[5]=s,D[6]=t,D[7]=i,D[8]=n,D[9]=r,D[10]=o,D[11]=l,D[12]=k*u+p*d+n*c+e[12],D[13]=a*u+s*d+r*c+e[13],D[14]=T*u+t*d+o*c+e[14],D[15]=b*u+i*d+l*c+e[15]),D}},88654:function(ee){ee.exports=function(D,e){if(D===e){var M=e[1],k=e[2],a=e[3],T=e[6],b=e[7],p=e[11];D[1]=e[4],D[2]=e[8],D[3]=e[12],D[4]=M,D[6]=e[9],D[7]=e[13],D[8]=k,D[9]=T,D[11]=e[14],D[12]=a,D[13]=b,D[14]=p}else D[0]=e[0],D[1]=e[4],D[2]=e[8],D[3]=e[12],D[4]=e[1],D[5]=e[5],D[6]=e[9],D[7]=e[13],D[8]=e[2],D[9]=e[6],D[10]=e[10],D[11]=e[14],D[12]=e[3],D[13]=e[7],D[14]=e[11],D[15]=e[15];return D}},42505:function(ee,D,e){"use strict";var M=e(72791),k=e(71299),a=e(98580),T=e(12018),b=e(83522),p=e(25075),s=e(68016),t=e(58404),i=e(18863),n=e(10973),r=e(25677),o=e(75686),l=e(53545),u=e(56131),d=e(32879),c=e(30120),x=e(13547).nextPow2,g=new b,h=!1;if(document.body){var m=document.body.appendChild(document.createElement("div"));m.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(m).fontStretch&&(h=!0),document.body.removeChild(m)}var y=function(v){var _;"function"==typeof(_=v)&&_._gl&&_.prop&&_.texture&&_.buffer?(v={regl:v},this.gl=v.regl._gl):this.gl=T(v),this.shader=g.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=v.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),g.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(n(v)?v:{})};y.prototype.createShader=function(){var v=this.regl,_=v({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:v.prop("count"),offset:v.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:v.this("sizeBuffer")},width:{offset:0,stride:8,buffer:v.this("sizeBuffer")},char:v.this("charBuffer"),position:v.this("position")},uniforms:{atlasSize:function(f,S){return[S.atlas.width,S.atlas.height]},atlasDim:function(f,S){return[S.atlas.cols,S.atlas.rows]},atlas:function(f,S){return S.atlas.texture},charStep:function(f,S){return S.atlas.step},em:function(f,S){return S.atlas.em},color:v.prop("color"),opacity:v.prop("opacity"),viewport:v.this("viewportArray"),scale:v.this("scale"),align:v.prop("align"),baseline:v.prop("baseline"),translate:v.this("translate"),positionOffset:v.prop("positionOffset")},primitive:"points",viewport:v.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:v,draw:_,atlas:{}}},y.prototype.update=function(v){var _=this;if("string"==typeof v)v={text:v};else if(!v)return;null!=(v=k(v,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(Array.isArray(v.opacity)?this.opacity=v.opacity.map(function(he){return parseFloat(he)}):this.opacity=parseFloat(v.opacity)),null!=v.viewport&&(this.viewport=i(v.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=v.kerning&&(this.kerning=v.kerning),null!=v.offset&&("number"==typeof v.offset&&(v.offset=[v.offset,0]),this.positionOffset=c(v.offset)),v.direction&&(this.direction=v.direction),v.range&&(this.range=v.range,this.scale=[1/(v.range[2]-v.range[0]),1/(v.range[3]-v.range[1])],this.translate=[-v.range[0],-v.range[1]]),v.scale&&(this.scale=v.scale),v.translate&&(this.translate=v.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||v.font||(v.font=y.baseFontSize+"px sans-serif");var f,S=!1,w=!1;if(v.font&&(Array.isArray(v.font)?v.font:[v.font]).forEach(function(he,Se){if("string"==typeof he)try{he=M.parse(he)}catch{he=M.parse(y.baseFontSize+"px "+he)}else he=M.parse(M.stringify(he));var _e=M.stringify({size:y.baseFontSize,family:he.family,stretch:h?he.stretch:void 0,variant:he.variant,weight:he.weight,style:he.style}),Me=r(he.size),Ee=Math.round(Me[0]*o(Me[1]));if(Ee!==_.fontSize[Se]&&(w=!0,_.fontSize[Se]=Ee),!(_.font[Se]&&_e==_.font[Se].baseString||(S=!0,_.font[Se]=y.fonts[_e],_.font[Se]))){var Ie=he.family.join(", "),fe=[he.style];he.style!=he.variant&&fe.push(he.variant),he.variant!=he.weight&&fe.push(he.weight),h&&he.weight!=he.stretch&&fe.push(he.stretch),_.font[Se]={baseString:_e,family:Ie,weight:he.weight,stretch:he.stretch,style:he.style,variant:he.variant,width:{},kerning:{},metrics:d(Ie,{origin:"top",fontSize:y.baseFontSize,fontStyle:fe.join(" ")})},y.fonts[_e]=_.font[Se]}}),(S||w)&&this.font.forEach(function(he,Se){var _e=M.stringify({size:_.fontSize[Se],family:he.family,stretch:h?he.stretch:void 0,variant:he.variant,weight:he.weight,style:he.style});if(_.fontAtlas[Se]=_.shader.atlas[_e],!_.fontAtlas[Se]){var Me=he.metrics;_.shader.atlas[_e]=_.fontAtlas[Se]={fontString:_e,step:2*Math.ceil(_.fontSize[Se]*Me.bottom*.5),em:_.fontSize[Se],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:_.regl.texture()}}null==v.text&&(v.text=_.text)}),"string"==typeof v.text&&v.position&&v.position.length>2){for(var E=Array(.5*v.position.length),C=0;C<E.length;C++)E[C]=v.text;v.text=E}if(null!=v.text||S){if(this.textOffsets=[0],Array.isArray(v.text)){this.count=v.text[0].length,this.counts=[this.count];for(var O=1;O<v.text.length;O++)this.textOffsets[O]=this.textOffsets[O-1]+v.text[O-1].length,this.count+=v.text[O].length,this.counts.push(v.text[O].length);this.text=v.text.join("")}else this.text=v.text,this.count=this.text.length,this.counts=[this.count];f=[],this.font.forEach(function(he,Se){y.atlasContext.font=he.baseString;for(var _e=_.fontAtlas[Se],Me=0;Me<_.text.length;Me++){var Ee=_.text.charAt(Me);if(null==_e.ids[Ee]&&(_e.ids[Ee]=_e.chars.length,_e.chars.push(Ee),f.push(Ee)),null==he.width[Ee]&&(he.width[Ee]=y.atlasContext.measureText(Ee).width/y.baseFontSize,_.kerning)){var Ie=[];for(var fe in he.width)Ie.push(fe+Ee,Ee+fe);u(he.kerning,l(he.family,{pairs:Ie}))}}})}if(v.position)if(v.position.length>2){for(var P=!v.position[0].length,R=t.mallocFloat(2*this.count),j=0,z=0;j<this.counts.length;j++){var N=this.counts[j];if(P)for(var Y=0;Y<N;Y++)R[z++]=v.position[2*j],R[z++]=v.position[2*j+1];else for(var F=0;F<N;F++)R[z++]=v.position[j][0],R[z++]=v.position[j][1]}this.position.call?this.position({type:"float",data:R}):this.position=this.regl.buffer({type:"float",data:R}),t.freeFloat(R)}else this.position.destroy&&this.position.destroy(),this.position={constant:v.position};if(v.text||S){var U=t.mallocUint8(this.count),V=t.mallocFloat(2*this.count);this.textWidth=[];for(var te=0,$=0;te<this.counts.length;te++){for(var X=this.counts[te],W=this.font[te]||this.font[0],J=this.fontAtlas[te]||this.fontAtlas[0],Q=0;Q<X;Q++){var re=this.text.charAt($),ae=this.text.charAt($-1);if(U[$]=J.ids[re],V[2*$]=W.width[re],Q){var oe=V[2*$-2],ue=V[2*$],ve=V[2*$-1]+.5*oe+.5*ue;if(this.kerning){var be=W.kerning[ae+re];be&&(ve+=.001*be)}V[2*$+1]=ve}else V[2*$+1]=.5*V[2*$];$++}this.textWidth.push(V.length?.5*V[2*$-2]+V[2*$-1]:0)}v.align||(v.align=this.align),this.charBuffer({data:U,type:"uint8",usage:"stream"}),this.sizeBuffer({data:V,type:"float",usage:"stream"}),t.freeUint8(U),t.freeFloat(V),f.length&&this.font.forEach(function(he,Se){var _e=_.fontAtlas[Se],Me=_e.step,Ee=Math.floor(y.maxAtlasSize/Me),Ie=Math.min(Ee,_e.chars.length),fe=Math.ceil(_e.chars.length/Ie),xe=x(Ie*Me),Te=x(fe*Me);_e.width=xe,_e.height=Te,_e.rows=fe,_e.cols=Ie,_e.em&&_e.texture({data:s({canvas:y.atlasCanvas,font:_e.fontString,chars:_e.chars,shape:[xe,Te],step:[Me,Me]})})})}if(v.align&&(this.align=v.align,this.alignOffset=this.textWidth.map(function(he,Se){var _e=Array.isArray(_.align)?_.align.length>1?_.align[Se]:_.align[0]:_.align;if("number"==typeof _e)return _e;switch(_e){case"right":case"end":return-he;case"center":case"centre":case"middle":return.5*-he}return 0})),null==this.baseline&&null==v.baseline&&(v.baseline=0),null!=v.baseline&&(this.baseline=v.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(he,Se){var _e=(_.font[Se]||_.font[0]).metrics,Me=0;return-1*((Me+=.5*_e.bottom)+("number"==typeof he?he-_e.baseline:-_e[he]))})),null!=v.color)if(v.color||(v.color="transparent"),"string"!=typeof v.color&&isNaN(v.color)){var de;if("number"==typeof v.color[0]&&v.color.length>this.counts.length){var pe=v.color.length;de=t.mallocUint8(pe);for(var ge=(v.color.subarray||v.color.slice).bind(v.color),Ae=0;Ae<pe;Ae+=4)de.set(p(ge(Ae,Ae+4),"uint8"),Ae)}else{var ye=v.color.length;de=t.mallocUint8(4*ye);for(var we=0;we<ye;we++)de.set(p(v.color[we]||0,"uint8"),4*we)}this.color=de}else this.color=p(v.color,"uint8");if(v.position||v.text||v.color||v.baseline||v.align||v.font||v.offset||v.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var se=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(se);for(var ie=0;ie<this.batch.length;ie++)this.batch[ie]={count:this.counts.length>1?this.counts[ie]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[ie]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*ie,4*ie+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[ie]:this.opacity,baseline:null!=this.baselineOffset[ie]?this.baselineOffset[ie]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[ie]?this.alignOffset[ie]:this.alignOffset[0]:0,atlas:this.fontAtlas[ie]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*ie,2*ie+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},y.prototype.destroy=function(){},y.prototype.kerning=!0,y.prototype.position={constant:new Float32Array(2)},y.prototype.translate=null,y.prototype.scale=null,y.prototype.font=null,y.prototype.text="",y.prototype.positionOffset=[0,0],y.prototype.opacity=1,y.prototype.color=new Uint8Array([0,0,0,255]),y.prototype.alignOffset=[0,0],y.maxAtlasSize=1024,y.atlasCanvas=document.createElement("canvas"),y.atlasContext=y.atlasCanvas.getContext("2d",{alpha:!1}),y.baseFontSize=64,y.fonts={},ee.exports=y},12018:function(ee,D,e){"use strict";var M=e(71299);function k(b){if(b.container)if(b.container==document.body)document.body.style.width||(b.canvas.width=b.width||b.pixelRatio*e.g.innerWidth),document.body.style.height||(b.canvas.height=b.height||b.pixelRatio*e.g.innerHeight);else{var p=b.container.getBoundingClientRect();b.canvas.width=b.width||p.right-p.left,b.canvas.height=b.height||p.bottom-p.top}}function a(b){return"function"==typeof b.getContext&&"width"in b&&"height"in b}function T(){var b=document.createElement("canvas");return b.style.position="absolute",b.style.top=0,b.style.left=0,b}ee.exports=function(b){var p,t;if(b?"string"==typeof b&&(b={container:b}):b={},(b=a(b)||"string"==typeof(p=b).nodeName&&"function"==typeof p.appendChild&&"function"==typeof p.getBoundingClientRect?{container:b}:(t=b,"function"==typeof t.drawArrays||"function"==typeof t.drawElements?{gl:b}:M(b,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0))).pixelRatio||(b.pixelRatio=e.g.pixelRatio||1),b.gl)return b.gl;if(b.canvas&&(b.container=b.canvas.parentNode),b.container){if("string"==typeof b.container){var s=document.querySelector(b.container);if(!s)throw Error("Element "+b.container+" is not found");b.container=s}a(b.container)?(b.canvas=b.container,b.container=b.canvas.parentNode):b.canvas||(b.canvas=T(),b.container.appendChild(b.canvas),k(b))}else if(!b.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");b.container=document.body||document.documentElement,b.canvas=T(),b.container.appendChild(b.canvas),k(b)}return b.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{b.gl=b.canvas.getContext(t,b.attrs)}catch{}return b.gl}),b.gl}},56068:function(ee){ee.exports=function(D){"string"==typeof D&&(D=[D]);for(var e=[].slice.call(arguments,1),M=[],k=0;k<D.length-1;k++)M.push(D[k],e[k]||"");return M.push(D[k]),M.join("")}},40383:function(ee,D,e){"use strict";var M=e(68318)("%Object.getOwnPropertyDescriptor%",!0);if(M)try{M([],"length")}catch{M=null}ee.exports=M},57035:function(ee,D,e){"use strict";var M,k=e(54404);M="function"==typeof e.g.matchMedia?!e.g.matchMedia("(hover: none)").matches:k,ee.exports=M},38520:function(ee,D,e){"use strict";var M=e(54404);ee.exports=M&&function(){var k=!1;try{var a=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch{k=!1}return k}()},55622:function(ee,D,e){"use strict";var M=e(68318)("%Object.defineProperty%",!0),k=function(){if(M)try{return M({},"a",{value:1}),!0}catch{return!1}return!1};k.hasArrayLengthDefineBug=function(){if(!k())return null;try{return 1!==M([],"length",{value:1}).length}catch{return!0}},ee.exports=k},57877:function(ee,D,e){"use strict";var M=typeof Symbol<"u"&&Symbol,k=e(35638);ee.exports=function(){return"function"==typeof M&&"function"==typeof Symbol&&"symbol"==typeof M("foo")&&"symbol"==typeof Symbol("bar")&&k()}},35638:function(ee){"use strict";ee.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var D={},e=Symbol("test"),M=Object(e);if("string"==typeof e||"[object Symbol]"!==Object.prototype.toString.call(e)||"[object Symbol]"!==Object.prototype.toString.call(M))return!1;for(e in D[e]=42,D)return!1;if("function"==typeof Object.keys&&0!==Object.keys(D).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(D).length)return!1;var k=Object.getOwnPropertySymbols(D);if(1!==k.length||k[0]!==e||!Object.prototype.propertyIsEnumerable.call(D,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(D,e);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},84543:function(ee,D,e){"use strict";var M=e(35638);ee.exports=function(){return M()&&!!Symbol.toStringTag}},35065:function(ee,D,e){"use strict";var M=e(77575);ee.exports=M.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(ee,D){D.read=function(e,M,k,a,T){var b,p,s=8*T-a-1,t=(1<<s)-1,i=t>>1,n=-7,r=k?T-1:0,o=k?-1:1,l=e[M+r];for(r+=o,b=l&(1<<-n)-1,l>>=-n,n+=s;n>0;b=256*b+e[M+r],r+=o,n-=8);for(p=b&(1<<-n)-1,b>>=-n,n+=a;n>0;p=256*p+e[M+r],r+=o,n-=8);if(0===b)b=1-i;else{if(b===t)return p?NaN:1/0*(l?-1:1);p+=Math.pow(2,a),b-=i}return(l?-1:1)*p*Math.pow(2,b-a)},D.write=function(e,M,k,a,T,b){var p,s,t,i=8*b-T-1,n=(1<<i)-1,r=n>>1,o=23===T?Math.pow(2,-24)-Math.pow(2,-77):0,l=a?0:b-1,u=a?1:-1,d=M<0||0===M&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(s=isNaN(M)?1:0,p=n):(p=Math.floor(Math.log(M)/Math.LN2),M*(t=Math.pow(2,-p))<1&&(p--,t*=2),(M+=p+r>=1?o/t:o*Math.pow(2,1-r))*t>=2&&(p++,t/=2),p+r>=n?(s=0,p=n):p+r>=1?(s=(M*t-1)*Math.pow(2,T),p+=r):(s=M*Math.pow(2,r-1)*Math.pow(2,T),p=0));T>=8;e[k+l]=255&s,l+=u,s/=256,T-=8);for(p=p<<T|s,i+=T;i>0;e[k+l]=255&p,l+=u,p/=256,i-=8);e[k+l-u]|=128*d}},42018:function(ee){"function"==typeof Object.create?ee.exports=function(D,e){e&&(D.super_=e,D.prototype=Object.create(e.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}))}:ee.exports=function(D,e){if(e){D.super_=e;var M=function(){};M.prototype=e.prototype,D.prototype=new M,D.prototype.constructor=D}}},47216:function(ee,D,e){"use strict";var M=e(84543)(),k=e(6614)("Object.prototype.toString"),a=function(p){return!(M&&p&&"object"==typeof p&&Symbol.toStringTag in p)&&"[object Arguments]"===k(p)},T=function(p){return!!a(p)||null!==p&&"object"==typeof p&&"number"==typeof p.length&&p.length>=0&&"[object Array]"!==k(p)&&"[object Function]"===k(p.callee)},b=function(){return a(arguments)}();a.isLegacyArguments=T,ee.exports=b?a:T},54404:function(ee){ee.exports=!0},85395:function(ee){"use strict";var D,e,M=Function.prototype.toString,k="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof k&&"function"==typeof Object.defineProperty)try{D=Object.defineProperty({},"length",{get:function(){throw e}}),e={},k(function(){throw 42},null,D)}catch(r){r!==e&&(k=null)}else k=null;var a=/^\s*class\b/,T=function(r){try{var o=M.call(r);return a.test(o)}catch{return!1}},b=function(r){try{return!T(r)&&(M.call(r),!0)}catch{return!1}},p=Object.prototype.toString,s="function"==typeof Symbol&&!!Symbol.toStringTag,t=!(0 in[,]),i=function(){return!1};if("object"==typeof document){var n=document.all;p.call(n)===p.call(document.all)&&(i=function(r){if((t||!r)&&(void 0===r||"object"==typeof r))try{var o=p.call(r);return("[object HTMLAllCollection]"===o||"[object HTML document.all class]"===o||"[object HTMLCollection]"===o||"[object Object]"===o)&&null==r("")}catch{}return!1})}ee.exports=k?function(r){if(i(r))return!0;if(!r||"function"!=typeof r&&"object"!=typeof r)return!1;try{k(r,null,D)}catch(o){if(o!==e)return!1}return!T(r)&&b(r)}:function(r){if(i(r))return!0;if(!r||"function"!=typeof r&&"object"!=typeof r)return!1;if(s)return b(r);if(T(r))return!1;var o=p.call(r);return!("[object Function]"!==o&&"[object GeneratorFunction]"!==o&&!/^\[object HTML/.test(o))&&b(r)}},65481:function(ee,D,e){"use strict";var M,k=Object.prototype.toString,a=Function.prototype.toString,T=/^\s*(?:function)?\*/,b=e(84543)(),p=Object.getPrototypeOf;ee.exports=function(s){if("function"!=typeof s)return!1;if(T.test(a.call(s)))return!0;if(!b)return"[object GeneratorFunction]"===k.call(s);if(!p)return!1;if(void 0===M){var t=function(){if(!b)return!1;try{return Function("return function*() {}")()}catch{}}();M=!!t&&p(t)}return p(s)===M}},62683:function(ee){"use strict";ee.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(ee){"use strict";ee.exports=function(D){return D!=D}},15567:function(ee,D,e){"use strict";var M=e(68222),k=e(17045),a=e(64274),T=e(14922),b=e(22442),p=M(T(),Number);k(p,{getPolyfill:T,implementation:a,shim:b}),ee.exports=p},14922:function(ee,D,e){"use strict";var M=e(64274);ee.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:M}},22442:function(ee,D,e){"use strict";var M=e(17045),k=e(14922);ee.exports=function(){var a=k();return M(Number,{isNaN:a},{isNaN:function(){return Number.isNaN!==a}}),a}},64941:function(ee){"use strict";ee.exports=function(D){var e=typeof D;return null!==D&&("object"===e||"function"===e)}},10973:function(ee){"use strict";var D=Object.prototype.toString;ee.exports=function(e){var M;return"[object Object]"===D.call(e)&&(null===(M=Object.getPrototypeOf(e))||M===Object.getPrototypeOf({}))}},18546:function(ee){"use strict";ee.exports=function(D){for(var e,M=D.length,k=0;k<M;k++)if(((e=D.charCodeAt(k))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},89546:function(ee){"use strict";ee.exports=function(D){return"string"==typeof D&&(D=D.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(D)&&/[\dz]$/i.test(D)&&D.length>4))}},9187:function(ee,D,e){"use strict";var M=e(31353),k=e(72077),a=e(6614),T=a("Object.prototype.toString"),b=e(84543)(),p=e(40383),s=typeof globalThis>"u"?e.g:globalThis,t=k(),i=a("Array.prototype.indexOf",!0)||function(l,u){for(var d=0;d<l.length;d+=1)if(l[d]===u)return d;return-1},n=a("String.prototype.slice"),r={},o=Object.getPrototypeOf;b&&p&&o&&M(t,function(l){var u=new s[l];if(Symbol.toStringTag in u){var d=o(u),c=p(d,Symbol.toStringTag);if(!c){var x=o(d);c=p(x,Symbol.toStringTag)}r[l]=c.get}}),ee.exports=function(l){if(!l||"object"!=typeof l)return!1;if(!b||!(Symbol.toStringTag in l)){var u=n(T(l),8,-1);return i(t,u)>-1}return!!p&&(d=l,c=!1,M(r,function(x,g){if(!c)try{c=x.call(d)===g}catch{}}),c);var d,c}},27084:function(ee){"use strict";ee.exports=Math.log2||function(D){return Math.log(D)*Math.LOG2E}},16825:function(ee,D,e){"use strict";ee.exports=function(k,a){a||(a=k,k=window);var T=0,b=0,p=0,s={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(h){var m=!1;return"altKey"in h&&(m=m||h.altKey!==s.alt,s.alt=!!h.altKey),"shiftKey"in h&&(m=m||h.shiftKey!==s.shift,s.shift=!!h.shiftKey),"ctrlKey"in h&&(m=m||h.ctrlKey!==s.control,s.control=!!h.ctrlKey),"metaKey"in h&&(m=m||h.metaKey!==s.meta,s.meta=!!h.metaKey),m}function n(h,m){var y=M.x(m),v=M.y(m);"buttons"in m&&(h=0|m.buttons),(h!==T||y!==b||v!==p||i(m))&&(T=0|h,b=y||0,p=v||0,a&&a(T,b,p,s))}function r(h){n(0,h)}function o(){(T||b||p||s.shift||s.alt||s.meta||s.control)&&(b=p=0,T=0,s.shift=s.alt=s.control=s.meta=!1,a&&a(0,0,0,s))}function l(h){i(h)&&a&&a(T,b,p,s)}function u(h){0===M.buttons(h)?n(0,h):n(T,h)}function d(h){n(T|M.buttons(h),h)}function c(h){n(T&~M.buttons(h),h)}function x(){t||(t=!0,k.addEventListener("mousemove",u),k.addEventListener("mousedown",d),k.addEventListener("mouseup",c),k.addEventListener("mouseleave",r),k.addEventListener("mouseenter",r),k.addEventListener("mouseout",r),k.addEventListener("mouseover",r),k.addEventListener("blur",o),k.addEventListener("keyup",l),k.addEventListener("keydown",l),k.addEventListener("keypress",l),k!==window&&(window.addEventListener("blur",o),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}x();var g={element:k};return Object.defineProperties(g,{enabled:{get:function(){return t},set:function(h){h?x():t&&(t=!1,k.removeEventListener("mousemove",u),k.removeEventListener("mousedown",d),k.removeEventListener("mouseup",c),k.removeEventListener("mouseleave",r),k.removeEventListener("mouseenter",r),k.removeEventListener("mouseout",r),k.removeEventListener("mouseover",r),k.removeEventListener("blur",o),k.removeEventListener("keyup",l),k.removeEventListener("keydown",l),k.removeEventListener("keypress",l),k!==window&&(window.removeEventListener("blur",o),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))},enumerable:!0},buttons:{get:function(){return T},enumerable:!0},x:{get:function(){return b},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),g};var M=e(74311)},48956:function(ee){var D={left:0,top:0};ee.exports=function(e,M,k){M=M||e.currentTarget||e.srcElement,Array.isArray(k)||(k=[0,0]);var a,T=e.clientX||0,b=e.clientY||0,p=(a=M)===window||a===document||a===document.body?D:a.getBoundingClientRect();return k[0]=T-p.left,k[1]=b-p.top,k}},74311:function(ee,D){"use strict";function e(M){return M.target||M.srcElement||window}D.buttons=function(M){if("object"==typeof M){if("buttons"in M)return M.buttons;if("which"in M){if(2===(k=M.which))return 4;if(3===k)return 2;if(k>0)return 1<<k-1}else if("button"in M){var k;if(1===(k=M.button))return 4;if(2===k)return 2;if(k>=0)return 1<<k}}return 0},D.element=e,D.x=function(M){if("object"==typeof M){if("offsetX"in M)return M.offsetX;var k=e(M).getBoundingClientRect();return M.clientX-k.left}return 0},D.y=function(M){if("object"==typeof M){if("offsetY"in M)return M.offsetY;var k=e(M).getBoundingClientRect();return M.clientY-k.top}return 0}},1195:function(ee,D,e){"use strict";var M=e(75686);ee.exports=function(k,a,T){"function"==typeof k&&(T=!!a,a=k,k=window);var b=M("ex",k),p=function(s){T&&s.preventDefault();var t=s.deltaX||0,i=s.deltaY||0,n=s.deltaZ||0,r=1;switch(s.deltaMode){case 1:r=b;break;case 2:r=window.innerHeight}if(i*=r,n*=r,(t*=r)||i||n)return a(t,i,n,s)};return k.addEventListener("wheel",p),p}},7417:function(ee,D,e){var M,k,a;k="Promise",(a=void 0!==e.g?e.g:this)[k]=a[k]||function(){"use strict";var b,p,s,t=Object.prototype.toString,i=typeof setImmediate<"u"?function(y){return setImmediate(y)}:setTimeout;try{Object.defineProperty({},"x",{}),b=function(y,v,_,f){return Object.defineProperty(y,v,{value:_,writable:!0,configurable:!1!==f})}}catch{b=function(v,_,f){return v[_]=f,v}}function n(y,v){s.add(y,v),p||(p=i(s.drain))}function r(y){var v,_=typeof y;return null==y||"object"!=_&&"function"!=_||(v=y.then),"function"==typeof v&&v}function o(){for(var y=0;y<this.chain.length;y++)l(this,1===this.state?this.chain[y].success:this.chain[y].failure,this.chain[y]);this.chain.length=0}function l(y,v,_){var f,S;try{!1===v?_.reject(y.msg):(f=!0===v?y.msg:v.call(void 0,y.msg))===_.promise?_.reject(TypeError("Promise-chain cycle")):(S=r(f))?S.call(f,_.resolve,_.reject):_.resolve(f)}catch(w){_.reject(w)}}function u(y){var v,_=this;if(!_.triggered){_.triggered=!0,_.def&&(_=_.def);try{(v=r(y))?n(function(){var f=new x(_);try{v.call(y,function(){u.apply(f,arguments)},function(){d.apply(f,arguments)})}catch(S){d.call(f,S)}}):(_.msg=y,_.state=1,_.chain.length>0&&n(o,_))}catch(f){d.call(new x(_),f)}}}function d(y){var v=this;v.triggered||(v.triggered=!0,v.def&&(v=v.def),v.msg=y,v.state=2,v.chain.length>0&&n(o,v))}function c(y,v,_,f){for(var S=0;S<v.length;S++)!function(w){y.resolve(v[w]).then(function(E){_(w,E)},f)}(S)}function x(y){this.def=y,this.triggered=!1}function g(y){this.promise=y,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(y){if("function"!=typeof y)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var v=new g(this);this.then=function(_,f){var S={success:"function"!=typeof _||_,failure:"function"==typeof f&&f};return S.promise=new this.constructor(function(w,E){if("function"!=typeof w||"function"!=typeof E)throw TypeError("Not a function");S.resolve=w,S.reject=E}),v.chain.push(S),0!==v.state&&n(o,v),S.promise},this.catch=function(_){return this.then(void 0,_)};try{y.call(void 0,function(_){u.call(v,_)},function(_){d.call(v,_)})}catch(_){d.call(v,_)}}s=function(){var y,v,_;function f(S,w){this.fn=S,this.self=w,this.next=void 0}return{add:function(S,w){_=new f(S,w),v?v.next=_:y=_,v=_,_=void 0},drain:function(){var S=y;for(y=v=p=void 0;S;)S.fn.call(S.self),S=S.next}}}();var m=b({},"constructor",h,!1);return h.prototype=m,b(m,"__NPO__",0,!1),b(h,"resolve",function(y){return y&&"object"==typeof y&&1===y.__NPO__?y:new this(function(v,_){if("function"!=typeof v||"function"!=typeof _)throw TypeError("Not a function");v(y)})}),b(h,"reject",function(y){return new this(function(v,_){if("function"!=typeof v||"function"!=typeof _)throw TypeError("Not a function");_(y)})}),b(h,"all",function(y){var v=this;return"[object Array]"!=t.call(y)?v.reject(TypeError("Not an array")):0===y.length?v.resolve([]):new v(function(_,f){if("function"!=typeof _||"function"!=typeof f)throw TypeError("Not a function");var S=y.length,w=Array(S),E=0;c(v,y,function(C,O){w[C]=O,++E===S&&_(w)},f)})}),b(h,"race",function(y){var v=this;return"[object Array]"!=t.call(y)?v.reject(TypeError("Not an array")):new v(function(_,f){if("function"!=typeof _||"function"!=typeof f)throw TypeError("Not a function");c(v,y,function(S,w){_(w)},f)})}),h}(),ee.exports?ee.exports=a[k]:void 0===(M=function(){return a[k]}.call(D,e,D,ee))||(ee.exports=M)},18625:function(ee){var D=Math.PI,e=b(120);function M(p,s,t,i){return["C",p,s,t,i,t,i]}function k(p,s,t,i,n,r){return["C",p/3+.6666666666666666*t,s/3+.6666666666666666*i,n/3+.6666666666666666*t,r/3+.6666666666666666*i,n,r]}function a(p,s,t,i,n,r,o,l,u,d){if(d)S=d[0],w=d[1],_=d[2],f=d[3];else{var c=T(p,s,-n);p=c.x,s=c.y;var x=(p-(l=(c=T(l,u,-n)).x))/2,g=(s-(u=c.y))/2,h=x*x/(t*t)+g*g/(i*i);h>1&&(t*=h=Math.sqrt(h),i*=h);var m=t*t,y=i*i,v=(r==o?-1:1)*Math.sqrt(Math.abs((m*y-m*g*g-y*x*x)/(m*g*g+y*x*x)));v==1/0&&(v=1);var _=v*t*g/i+(p+l)/2,f=v*-i*x/t+(s+u)/2,S=Math.asin(((s-f)/i).toFixed(9)),w=Math.asin(((u-f)/i).toFixed(9));(S=p<_?D-S:S)<0&&(S=2*D+S),(w=l<_?D-w:w)<0&&(w=2*D+w),o&&S>w&&(S-=2*D),!o&&w>S&&(w-=2*D)}if(Math.abs(w-S)>e){var E=w,C=l,O=u;w=S+e*(o&&w>S?1:-1);var P=a(l=_+t*Math.cos(w),u=f+i*Math.sin(w),t,i,n,0,o,C,O,[w,E,_,f])}var R=Math.tan((w-S)/4),j=4/3*t*R,z=4/3*i*R,N=[2*p-(p+j*Math.sin(S)),2*s-(s-z*Math.cos(S)),l+j*Math.sin(w),u-z*Math.cos(w),l,u];if(d)return N;P&&(N=N.concat(P));for(var Y=0;Y<N.length;){var F=T(N[Y],N[Y+1],n);N[Y++]=F.x,N[Y++]=F.y}return N}function T(p,s,t){return{x:p*Math.cos(t)-s*Math.sin(t),y:p*Math.sin(t)+s*Math.cos(t)}}function b(p){return p*(D/180)}ee.exports=function(p){for(var s,t=[],i=0,n=0,r=0,o=0,l=null,u=null,d=0,c=0,x=0,g=p.length;x<g;x++){var h=p[x],m=h[0];switch(m){case"M":r=h[1],o=h[2];break;case"A":(h=a(d,c,h[1],h[2],b(h[3]),h[4],h[5],h[6],h[7])).unshift("C"),h.length>7&&(t.push(h.splice(0,7)),h.unshift("C"));break;case"S":var y=d,v=c;"C"!=s&&"S"!=s||(y+=y-i,v+=v-n),h=["C",y,v,h[1],h[2],h[3],h[4]];break;case"T":"Q"==s||"T"==s?(l=2*d-l,u=2*c-u):(l=d,u=c),h=k(d,c,l,u,h[1],h[2]);break;case"Q":l=h[1],u=h[2],h=k(d,c,h[1],h[2],h[3],h[4]);break;case"L":h=M(d,c,h[1],h[2]);break;case"H":h=M(d,c,h[1],c);break;case"V":h=M(d,c,d,h[1]);break;case"Z":h=M(d,c,r,o)}s=m,d=h[h.length-2],c=h[h.length-1],h.length>4?(i=h[h.length-4],n=h[h.length-3]):(i=d,n=c),t.push(h)}return t}},56131:function(ee){"use strict";var D=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;ee.exports=function(){try{if(!Object.assign)return!1;var k=new String("abc");if(k[5]="de","5"===Object.getOwnPropertyNames(k)[0])return!1;for(var a={},T=0;T<10;T++)a["_"+String.fromCharCode(T)]=T;if("0123456789"!==Object.getOwnPropertyNames(a).map(function(p){return a[p]}).join(""))return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(p){b[p]=p}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},b)).join("")}catch{return!1}}()?Object.assign:function(k,a){for(var T,b,p=function(n){if(null==n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}(k),s=1;s<arguments.length;s++){for(var t in T=Object(arguments[s]))e.call(T,t)&&(p[t]=T[t]);if(D){b=D(T);for(var i=0;i<b.length;i++)M.call(T,b[i])&&(p[b[i]]=T[b[i]])}}return p}},65848:function(ee){"use strict";var D=function(e){return e!=e};ee.exports=function(e,M){return 0===e&&0===M?1/e==1/M:e===M||!(!D(e)||!D(M))}},64003:function(ee,D,e){"use strict";var M=e(17045),k=e(68222),a=e(65848),T=e(27015),b=e(55572),p=k(T(),Object);M(p,{getPolyfill:T,implementation:a,shim:b}),ee.exports=p},27015:function(ee,D,e){"use strict";var M=e(65848);ee.exports=function(){return"function"==typeof Object.is?Object.is:M}},55572:function(ee,D,e){"use strict";var M=e(27015),k=e(17045);ee.exports=function(){var a=M();return k(Object,{is:a},{is:function(){return Object.is!==a}}),a}},99019:function(ee,D,e){"use strict";var M;if(!Object.keys){var k=Object.prototype.hasOwnProperty,a=Object.prototype.toString,T=e(64178),b=Object.prototype.propertyIsEnumerable,p=!b.call({toString:null},"toString"),s=b.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=function(o){var l=o.constructor;return l&&l.prototype===o},n={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},r=function(){if(typeof window>"u")return!1;for(var o in window)try{if(!n["$"+o]&&k.call(window,o)&&null!==window[o]&&"object"==typeof window[o])try{i(window[o])}catch{return!0}}catch{return!0}return!1}();M=function(o){var l=null!==o&&"object"==typeof o,u="[object Function]"===a.call(o),d=T(o),c=l&&"[object String]"===a.call(o),x=[];if(!l&&!u&&!d)throw new TypeError("Object.keys called on a non-object");var g=s&&u;if(c&&o.length>0&&!k.call(o,0))for(var h=0;h<o.length;++h)x.push(String(h));if(d&&o.length>0)for(var m=0;m<o.length;++m)x.push(String(m));else for(var y in o)g&&"prototype"===y||!k.call(o,y)||x.push(String(y));if(p)for(var v=function(f){if(typeof window>"u"||!r)return i(f);try{return i(f)}catch{return!1}}(o),_=0;_<t.length;++_)v&&"constructor"===t[_]||!k.call(o,t[_])||x.push(t[_]);return x}}ee.exports=M},8709:function(ee,D,e){"use strict";var M=Array.prototype.slice,k=e(64178),a=Object.keys,T=a?function(p){return a(p)}:e(99019),b=Object.keys;T.shim=function(){if(Object.keys){var p=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);p||(Object.keys=function(s){return k(s)?b(M.call(s)):b(s)})}else Object.keys=T;return Object.keys||T},ee.exports=T},64178:function(ee){"use strict";var D=Object.prototype.toString;ee.exports=function(e){var M=D.call(e),k="[object Arguments]"===M;return k||(k="[object Array]"!==M&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===D.call(e.callee)),k}},88641:function(ee){"use strict";function D(k,a){if("string"!=typeof k)return[k];var T=[k];"string"==typeof a||Array.isArray(a)?a={brackets:a}:a||(a={});var b=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],p=a.escape||"___",s=!!a.flat;b.forEach(function(i){var n=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),r=[];function o(l,u,d){var c=T.push(l.slice(i[0].length,-i[1].length))-1;return r.push(c),p+c+p}T.forEach(function(l,u){for(var d,c=0;l!=d;)if(d=l,l=l.replace(n,o),c++>1e4)throw Error("References have circular dependency. Please, check them.");T[u]=l}),r=r.reverse(),T=T.map(function(l){return r.forEach(function(u){l=l.replace(new RegExp("(\\"+p+u+"\\"+p+")","g"),i[0]+"$1"+i[1])}),l})});var t=new RegExp("\\"+p+"([0-9]+)\\"+p);return s?T:function i(n,r,o){for(var l,u=[],d=0;l=t.exec(n);){if(d++>1e4)throw Error("Circular references in parenthesis");u.push(n.slice(0,l.index)),u.push(i(r[l[1]],r)),n=n.slice(l.index+l[0].length)}return u.push(n),u}(T[0],T)}function e(k,a){if(a&&a.flat){var T,b=a&&a.escape||"___",p=k[0];if(!p)return"";for(var s=new RegExp("\\"+b+"([0-9]+)\\"+b),t=0;p!=T;){if(t++>1e4)throw Error("Circular references in "+k);T=p,p=p.replace(s,i)}return p}return k.reduce(function n(r,o){return Array.isArray(o)&&(o=o.reduce(n,"")),r+o},"");function i(n,r){if(null==k[r])throw Error("Reference "+r+"is undefined");return k[r]}}function M(k,a){return Array.isArray(k)?e(k,a):D(k,a)}M.parse=D,M.stringify=e,ee.exports=M},18863:function(ee,D,e){"use strict";var M=e(71299);ee.exports=function(k){var a;return arguments.length>1&&(k=arguments),"string"==typeof k?k=k.split(/\s/).map(parseFloat):"number"==typeof k&&(k=[k]),k.length&&"number"==typeof k[0]?a=1===k.length?{width:k[0],height:k[0],x:0,y:0}:2===k.length?{width:k[0],height:k[1],x:0,y:0}:{x:k[0],y:k[1],width:k[2]-k[0]||0,height:k[3]-k[1]||0}:k&&(a={x:(k=M(k,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:k.top||0},null==k.width?k.right?a.width=k.right-a.x:a.width=0:a.width=k.width,null==k.height?k.bottom?a.height=k.bottom-a.y:a.height=0:a.height=k.height),a}},95616:function(ee){ee.exports=function(k){var a=[];return k.replace(e,function(T,b,p){var i,s=b.toLowerCase();for(i=void 0,p=(i=p.match(M))?i.map(Number):[],"m"==s&&p.length>2&&(a.push([b].concat(p.splice(0,2))),s="l",b="m"==b?"l":"L");;){if(p.length==D[s])return p.unshift(b),a.push(p);if(p.length<D[s])throw new Error("malformed path data");a.push([b].concat(p.splice(0,D[s])))}}),a};var D={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,M=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(ee){ee.exports=function(D,e){e||(e=[0,""]),D=String(D);var M=parseFloat(D,10);return e[0]=M,e[1]=D.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},9748:function(ee,D,e){var M=e(90386);(function(){var k,a,T,b,p,s;typeof performance<"u"&&null!==performance&&performance.now?ee.exports=function(){return performance.now()}:null!=M&&M.hrtime?(ee.exports=function(){return(k()-p)/1e6},a=M.hrtime,b=(k=function(){var t;return 1e9*(t=a())[0]+t[1]})(),s=1e9*M.uptime(),p=b-s):Date.now?(ee.exports=function(){return Date.now()-T},T=Date.now()):(ee.exports=function(){return(new Date).getTime()-T},T=(new Date).getTime())}).call(this)},71299:function(ee){"use strict";ee.exports=function(M,k,a){var T,b,p={};if("string"==typeof k&&(k=e(k)),Array.isArray(k)){var s={};for(b=0;b<k.length;b++)s[k[b]]=!0;k=s}for(T in k)k[T]=e(k[T]);var t={};for(T in k){var i=k[T];if(Array.isArray(i))for(b=0;b<i.length;b++){var n=i[b];if(a&&(t[n]=!0),n in M){if(p[T]=M[n],a)for(var r=b;r<i.length;r++)t[i[r]]=!0;break}}else T in M&&(k[T]&&(p[T]=M[T]),a&&(t[T]=!0))}if(a)for(T in M)t[T]||(p[T]=M[T]);return p};var D={};function e(M){return D[M]?D[M]:("string"==typeof M&&(M=D[M]=M.split(/\s*,\s*|\s+/)),M)}},38258:function(ee){ee.exports=function(D,e,M,k){var a=D[0],T=D[1],b=!1;void 0===M&&(M=0),void 0===k&&(k=e.length);for(var p=k-M,s=0,t=p-1;s<p;t=s++){var i=e[s+M][0],n=e[s+M][1],r=e[t+M][0],o=e[t+M][1];n>T!=o>T&&a<(r-i)*(T-n)/(o-n)+i&&(b=!b)}return b}},52142:function(ee,D,e){var M,k=e(69444),a=e(29023),T=e(87263),b=e(11328),p=e(55968),s=e(10670),t=!1,i=a();function n(r,o,l){var u=M.segments(r),d=M.segments(o),c=l(M.combine(u,d));return M.polygon(c)}M={buildLog:function(r){return!0===r?t=k():!1===r&&(t=!1),!1!==t&&t.list},epsilon:function(r){return i.epsilon(r)},segments:function(r){var o=T(!0,i,t);return r.regions.forEach(o.addRegion),{segments:o.calculate(r.inverted),inverted:r.inverted}},combine:function(r,o){return{combined:T(!1,i,t).calculate(r.segments,r.inverted,o.segments,o.inverted),inverted1:r.inverted,inverted2:o.inverted}},selectUnion:function(r){return{segments:p.union(r.combined,t),inverted:r.inverted1||r.inverted2}},selectIntersect:function(r){return{segments:p.intersect(r.combined,t),inverted:r.inverted1&&r.inverted2}},selectDifference:function(r){return{segments:p.difference(r.combined,t),inverted:r.inverted1&&!r.inverted2}},selectDifferenceRev:function(r){return{segments:p.differenceRev(r.combined,t),inverted:!r.inverted1&&r.inverted2}},selectXor:function(r){return{segments:p.xor(r.combined,t),inverted:r.inverted1!==r.inverted2}},polygon:function(r){return{regions:b(r.segments,i,t),inverted:r.inverted}},polygonFromGeoJSON:function(r){return s.toPolygon(M,r)},polygonToGeoJSON:function(r){return s.fromPolygon(M,i,r)},union:function(r,o){return n(r,o,M.selectUnion)},intersect:function(r,o){return n(r,o,M.selectIntersect)},difference:function(r,o){return n(r,o,M.selectDifference)},differenceRev:function(r,o){return n(r,o,M.selectDifferenceRev)},xor:function(r,o){return n(r,o,M.selectXor)}},"object"==typeof window&&(window.PolyBool=M),ee.exports=M},69444:function(ee){ee.exports=function(){var D,e=0,M=!1;function k(a,T){return D.list.push({type:a,data:T?JSON.parse(JSON.stringify(T)):void 0}),D}return D={list:[],segmentId:function(){return e++},checkIntersection:function(a,T){return k("check",{seg1:a,seg2:T})},segmentChop:function(a,T){return k("div_seg",{seg:a,pt:T}),k("chop",{seg:a,pt:T})},statusRemove:function(a){return k("pop_seg",{seg:a})},segmentUpdate:function(a){return k("seg_update",{seg:a})},segmentNew:function(a,T){return k("new_seg",{seg:a,primary:T})},segmentRemove:function(a){return k("rem_seg",{seg:a})},tempStatus:function(a,T,b){return k("temp_status",{seg:a,above:T,below:b})},rewind:function(a){return k("rewind",{seg:a})},status:function(a,T,b){return k("status",{seg:a,above:T,below:b})},vert:function(a){return a===M?D:(M=a,k("vert",{x:a}))},log:function(a){return"string"!=typeof a&&(a=JSON.stringify(a,!1,"  ")),k("log",{txt:a})},reset:function(){return k("reset")},selected:function(a){return k("selected",{segs:a})},chainStart:function(a){return k("chain_start",{seg:a})},chainRemoveHead:function(a,T){return k("chain_rem_head",{index:a,pt:T})},chainRemoveTail:function(a,T){return k("chain_rem_tail",{index:a,pt:T})},chainNew:function(a,T){return k("chain_new",{pt1:a,pt2:T})},chainMatch:function(a){return k("chain_match",{index:a})},chainClose:function(a){return k("chain_close",{index:a})},chainAddHead:function(a,T){return k("chain_add_head",{index:a,pt:T})},chainAddTail:function(a,T){return k("chain_add_tail",{index:a,pt:T})},chainConnect:function(a,T){return k("chain_con",{index1:a,index2:T})},chainReverse:function(a){return k("chain_rev",{index:a})},chainJoin:function(a,T){return k("chain_join",{index1:a,index2:T})},done:function(){return k("done")}}}},29023:function(ee){ee.exports=function(D){"number"!=typeof D&&(D=1e-10);var e={epsilon:function(M){return"number"==typeof M&&(D=M),D},pointAboveOrOnLine:function(M,k,a){var T=k[0],b=k[1],p=a[0],s=a[1],t=M[0];return(p-T)*(M[1]-b)-(s-b)*(t-T)>=-D},pointBetween:function(M,k,a){var T=M[1]-k[1],b=a[0]-k[0],p=M[0]-k[0],s=a[1]-k[1],t=p*b+T*s;return!(t<D||t-(b*b+s*s)>-D)},pointsSameX:function(M,k){return Math.abs(M[0]-k[0])<D},pointsSameY:function(M,k){return Math.abs(M[1]-k[1])<D},pointsSame:function(M,k){return e.pointsSameX(M,k)&&e.pointsSameY(M,k)},pointsCompare:function(M,k){return e.pointsSameX(M,k)?e.pointsSameY(M,k)?0:M[1]<k[1]?-1:1:M[0]<k[0]?-1:1},pointsCollinear:function(M,k,a){var T=M[0]-k[0],b=M[1]-k[1],p=k[0]-a[0],s=k[1]-a[1];return Math.abs(T*s-p*b)<D},linesIntersect:function(M,k,a,T){var b=k[0]-M[0],p=k[1]-M[1],s=T[0]-a[0],t=T[1]-a[1],i=b*t-p*s;if(Math.abs(i)<D)return!1;var n=M[0]-a[0],r=M[1]-a[1],o=(s*r-t*n)/i,l=(b*r-p*n)/i,u={alongA:0,alongB:0,pt:[M[0]+o*b,M[1]+o*p]};return u.alongA=o<=-D?-2:o<D?-1:o-1<=-D?0:o-1<D?1:2,u.alongB=l<=-D?-2:l<D?-1:l-1<=-D?0:l-1<D?1:2,u},pointInsideRegion:function(M,k){for(var a=M[0],T=M[1],b=k[k.length-1][0],p=k[k.length-1][1],s=!1,t=0;t<k.length;t++){var i=k[t][0],n=k[t][1];n-T>D!=p-T>D&&(b-i)*(T-n)/(p-n)+i-a>D&&(s=!s),b=i,p=n}return s}};return e}},10670:function(ee){var D={toPolygon:function(e,M){function k(b){if(b.length<=0)return e.segments({inverted:!1,regions:[]});function p(i){var n=i.slice(0,i.length-1);return e.segments({inverted:!1,regions:[n]})}for(var s=p(b[0]),t=1;t<b.length;t++)s=e.selectDifference(e.combine(s,p(b[t])));return s}if("Polygon"===M.type)return e.polygon(k(M.coordinates));if("MultiPolygon"===M.type){for(var a=e.segments({inverted:!1,regions:[]}),T=0;T<M.coordinates.length;T++)a=e.selectUnion(e.combine(a,k(M.coordinates[T])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,M,k){function a(l,u){return M.pointInsideRegion([.5*(l[0][0]+l[1][0]),.5*(l[0][1]+l[1][1])],u)}function T(l){return{region:l,children:[]}}k=e.polygon(e.segments(k));var b=T(null);function p(l,u){for(var d=0;d<l.children.length;d++)if(a(u,(x=l.children[d]).region))return void p(x,u);var c=T(u);for(d=0;d<l.children.length;d++){var x;a((x=l.children[d]).region,u)&&(c.children.push(x),l.children.splice(d,1),d--)}l.children.push(c)}for(var s=0;s<k.regions.length;s++){var t=k.regions[s];t.length<3||p(b,t)}function i(l,u){for(var d=0,c=l[l.length-1][0],x=l[l.length-1][1],g=[],h=0;h<l.length;h++){var m=l[h][0],y=l[h][1];g.push([m,y]),d+=y*c-m*x,c=m,x=y}return d<0!==u&&g.reverse(),g.push([g[0][0],g[0][1]]),g}var n=[];function r(l){var u=[i(l.region,!1)];n.push(u);for(var d=0;d<l.children.length;d++)u.push(o(l.children[d]))}function o(l){for(var u=0;u<l.children.length;u++)r(l.children[u]);return i(l.region,!0)}for(s=0;s<b.children.length;s++)r(b.children[s]);return n.length<=0?{type:"Polygon",coordinates:[]}:1==n.length?{type:"Polygon",coordinates:n[0]}:{type:"MultiPolygon",coordinates:n}}};ee.exports=D},87263:function(ee,D,e){var M=e(26859);ee.exports=function(k,a,T){function b(r,o,l){return{id:T?T.segmentId():-1,start:r,end:o,myFill:{above:l.myFill.above,below:l.myFill.below},otherFill:null}}var p=M.create();function s(r,o){p.insertBefore(r,function(l){return u=r.isStart,d=r.pt,c=o,x=l.isStart,g=l.pt,h=l.other.pt,(0!==(m=a.pointsCompare(d,g))?m:a.pointsSame(c,h)?0:u!==x?u?1:-1:a.pointAboveOrOnLine(c,x?g:h,x?h:g)?1:-1)<0;var u,d,c,x,g,h,m})}function t(r,o){var u,d,c,l=(u=r,d=o,s(c=M.node({isStart:!0,pt:u.start,seg:u,primary:d,other:null,status:null}),u.end),c);return function(u,d,c){var x=M.node({isStart:!1,pt:d.end,seg:d,primary:c,other:u,status:null});u.other=x,s(x,u.pt)}(l,r,o),l}function i(r,o){var u,d,l=b(o,r.seg.end,r.seg);return u=r,d=o,T&&T.segmentChop(u.seg,d),u.other.remove(),u.seg.end=d,u.other.pt=d,s(u.other,u.pt),t(l,r.primary)}function n(r,o){var l=M.create();function u(E){return l.findTransition(function(C){var O,P,R,j,z,N;return O=E,P=C.ev,R=O.seg.start,j=O.seg.end,z=P.seg.start,N=P.seg.end,(a.pointsCollinear(R,z,N)?a.pointsCollinear(j,z,N)||a.pointAboveOrOnLine(j,z,N)?1:-1:a.pointAboveOrOnLine(R,z,N)?1:-1)>0})}function d(E,C){var O=E.seg,P=C.seg,R=O.start,j=O.end,z=P.start,N=P.end;T&&T.checkIntersection(O,P);var Y=a.linesIntersect(R,j,z,N);if(!1===Y){if(!a.pointsCollinear(R,j,z)||a.pointsSame(R,N)||a.pointsSame(j,z))return!1;var F=a.pointsSame(R,z),U=a.pointsSame(j,N);if(F&&U)return C;var V=!F&&a.pointBetween(R,z,N),te=!U&&a.pointBetween(j,z,N);if(F)return te?i(C,j):i(E,N),C;V&&(U||(te?i(C,j):i(E,N)),i(C,R))}else 0===Y.alongA&&(-1===Y.alongB?i(E,z):0===Y.alongB?i(E,Y.pt):1===Y.alongB&&i(E,N)),0===Y.alongB&&(-1===Y.alongA?i(C,R):0===Y.alongA?i(C,Y.pt):1===Y.alongA&&i(C,j));return!1}for(var c=[];!p.isEmpty();){var x=p.getHead();if(T&&T.vert(x.pt[0]),x.isStart){let E=function(){if(h){var C=d(x,h);if(C)return C}return!!m&&d(x,m)};T&&T.segmentNew(x.seg,x.primary);var g=u(x),h=g.before?g.before.ev:null,m=g.after?g.after.ev:null;T&&T.tempStatus(x.seg,!!h&&h.seg,!!m&&m.seg);var y,v,_=E();if(_&&(k?(v=null===x.seg.myFill.below||x.seg.myFill.above!==x.seg.myFill.below)&&(_.seg.myFill.above=!_.seg.myFill.above):_.seg.otherFill=x.seg.myFill,T&&T.segmentUpdate(_.seg),x.other.remove(),x.remove()),p.getHead()!==x){T&&T.rewind(x.seg);continue}k?(v=null===x.seg.myFill.below||x.seg.myFill.above!==x.seg.myFill.below,x.seg.myFill.below=m?m.seg.myFill.above:r,x.seg.myFill.above=v?!x.seg.myFill.below:x.seg.myFill.below):null===x.seg.otherFill&&(y=m?x.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:x.primary?o:r,x.seg.otherFill={above:y,below:y}),T&&T.status(x.seg,!!h&&h.seg,!!m&&m.seg),x.other.status=g.insert(M.node({ev:x}))}else{var f=x.status;if(null===f)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(f.prev)&&l.exists(f.next)&&d(f.prev.ev,f.next.ev),T&&T.statusRemove(f.ev.seg),f.remove(),!x.primary){var S=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=S}c.push(x.seg)}p.getHead().remove()}return T&&T.done(),c}return k?{addRegion:function(r){for(var o,l,u,d=r[r.length-1],c=0;c<r.length;c++){o=d,d=r[c];var x=a.pointsCompare(o,d);0!==x&&t((l=x<0?o:d,u=x<0?d:o,{id:T?T.segmentId():-1,start:l,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(r){return n(r,!1)}}:{calculate:function(r,o,l,u){return r.forEach(function(d){t(b(d.start,d.end,d),!0)}),l.forEach(function(d){t(b(d.start,d.end,d),!1)}),n(o,u)}}}},26859:function(ee){ee.exports={create:function(){var D={root:{root:!0,next:null},exists:function(e){return null!==e&&e!==D.root},isEmpty:function(){return null===D.root.next},getHead:function(){return D.root.next},insertBefore:function(e,M){for(var k=D.root,a=D.root.next;null!==a;){if(M(a))return e.prev=a.prev,e.next=a,a.prev.next=e,void(a.prev=e);k=a,a=a.next}k.next=e,e.prev=k,e.next=null},findTransition:function(e){for(var M=D.root,k=D.root.next;null!==k&&!e(k);)M=k,k=k.next;return{before:M===D.root?null:M,after:k,insert:function(a){return a.prev=M,a.next=k,M.next=a,null!==k&&(k.prev=a),a}}}};return D},node:function(D){return D.prev=null,D.next=null,D.remove=function(){D.prev.next=D.next,D.next&&(D.next.prev=D.prev),D.prev=null,D.next=null},D}}},11328:function(ee){ee.exports=function(D,e,M){var k=[],a=[];return D.forEach(function(T){var b=T.start,p=T.end;if(e.pointsSame(b,p))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{M&&M.chainStart(T);for(var s={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=s,n=0;n<k.length;n++){var r=(c=k[n])[0],o=(c[1],c[c.length-1]);if(c[c.length-2],e.pointsSame(r,b)){if(f(n,!0,!0))break}else if(e.pointsSame(r,p)){if(f(n,!0,!1))break}else if(e.pointsSame(o,b)){if(f(n,!1,!0))break}else if(e.pointsSame(o,p)&&f(n,!1,!1))break}if(i===s)return k.push([b,p]),void(M&&M.chainNew(b,p));if(i===t){M&&M.chainMatch(s.index);var l=s.index,u=s.matches_pt1?p:b,d=s.matches_head,c=k[l],x=d?c[0]:c[c.length-1],g=d?c[1]:c[c.length-2],h=d?c[c.length-1]:c[0],m=d?c[c.length-2]:c[1];return e.pointsCollinear(g,x,u)&&(d?(M&&M.chainRemoveHead(s.index,u),c.shift()):(M&&M.chainRemoveTail(s.index,u),c.pop()),x=g),e.pointsSame(h,u)?(k.splice(l,1),e.pointsCollinear(m,h,x)&&(d?(M&&M.chainRemoveTail(s.index,x),c.pop()):(M&&M.chainRemoveHead(s.index,x),c.shift())),M&&M.chainClose(s.index),void a.push(c)):void(d?(M&&M.chainAddHead(s.index,u),c.unshift(u)):(M&&M.chainAddTail(s.index,u),c.push(u)))}var y=s.index,v=t.index;M&&M.chainConnect(y,v);var _=k[y].length<k[v].length;s.matches_head?t.matches_head?_?(S(y),w(y,v)):(S(v),w(v,y)):w(v,y):t.matches_head?w(y,v):_?(S(y),w(v,y)):(S(v),w(y,v))}function f(E,C,O){return i.index=E,i.matches_head=C,i.matches_pt1=O,i===s?(i=t,!1):(i=null,!0)}function S(E){M&&M.chainReverse(E),k[E].reverse()}function w(E,C){var O=k[E],P=k[C],R=O[O.length-1],j=O[O.length-2],z=P[0],N=P[1];e.pointsCollinear(j,R,z)&&(M&&M.chainRemoveTail(E,R),O.pop(),R=j),e.pointsCollinear(R,z,N)&&(M&&M.chainRemoveHead(C,z),P.shift()),M&&M.chainJoin(E,C),k[E]=O.concat(P),k.splice(C,1)}}),a}},55968:function(ee){function D(M,k,a){var T=[];return M.forEach(function(b){var p=(b.myFill.above?8:0)+(b.myFill.below?4:0)+(b.otherFill&&b.otherFill.above?2:0)+(b.otherFill&&b.otherFill.below?1:0);0!==k[p]&&T.push({id:a?a.segmentId():-1,start:b.start,end:b.end,myFill:{above:1===k[p],below:2===k[p]},otherFill:null})}),a&&a.selected(T),T}var e={union:function(M,k){return D(M,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],k)},intersect:function(M,k){return D(M,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],k)},difference:function(M,k){return D(M,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],k)},differenceRev:function(M,k){return D(M,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],k)},xor:function(M,k){return D(M,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],k)}};ee.exports=e},14847:function(ee,D,e){"use strict";var M=e(21630).Transform,k=e(90715);function a(){M.call(this,{readableObjectMode:!0})}function T(b,p,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=b,p&&(this.code=p),s&&(this.statusCode=s)}a.prototype=Object.create(M.prototype),a.prototype.constructor=a,k(a.prototype),D.OF=function(b,p,s){for(var t=p,i=0;i<s.length;)if(b[t++]!==s[i++])return!1;return!0},D.eG=function(b,p){var s=[],t=0;if(p&&"hex"===p)for(;t<b.length;)s.push(parseInt(b.slice(t,t+2),16)),t+=2;else for(;t<b.length;t++)s.push(255&b.charCodeAt(t));return s},D.mP=function(b,p){return b[p]|b[p+1]<<8},D.n8=function(b,p){return b[p+1]|b[p]<<8},D.nm=function(b,p){return b[p]|b[p+1]<<8|b[p+2]<<16|16777216*b[p+3]},D.Ag=function(b,p){return b[p+3]|b[p+2]<<8|b[p+1]<<16|16777216*b[p]},T.prototype=Object.create(Error.prototype),T.prototype.constructor=T},71371:function(ee){"use strict";function D(k,a){var T=new Error(k);return T.code=a,T}function e(k){try{return decodeURIComponent(escape(k))}catch{return k}}function M(k,a,T){this.input=k.subarray(a,T),this.start=a;var b=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==b&&"MM\0*"!==b)throw D("invalid TIFF signature","EBADDATA");this.big_endian="M"===b[0]}M.prototype.each=function(k){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var T=this.ifds_to_read.shift();T.offset&&this.scan_ifd(T.id,T.offset,k)}},M.prototype.read_uint16=function(k){var a=this.input;if(k+2>a.length)throw D("unexpected EOF","EBADDATA");return this.big_endian?256*a[k]+a[k+1]:a[k]+256*a[k+1]},M.prototype.read_uint32=function(k){var a=this.input;if(k+4>a.length)throw D("unexpected EOF","EBADDATA");return this.big_endian?16777216*a[k]+65536*a[k+1]+256*a[k+2]+a[k+3]:a[k]+256*a[k+1]+65536*a[k+2]+16777216*a[k+3]},M.prototype.is_subifd_link=function(k,a){return 0===k&&34665===a||0===k&&34853===a||34665===k&&40965===a},M.prototype.exif_format_length=function(k){switch(k){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},M.prototype.exif_format_read=function(k,a){var T;switch(k){case 1:case 2:return this.input[a];case 6:return(T=this.input[a])|33554430*(128&T);case 3:return this.read_uint16(a);case 8:return(T=this.read_uint16(a))|131070*(32768&T);case 4:return this.read_uint32(a);case 9:return 0|this.read_uint32(a);default:return null}},M.prototype.scan_ifd=function(k,a,T){var b=this.read_uint16(a);a+=2;for(var p=0;p<b;p++){var s=this.read_uint16(a),t=this.read_uint16(a+2),i=this.read_uint32(a+4),n=this.exif_format_length(t),r=i*n,o=r<=4?a+8:this.read_uint32(a+8),l=!1;if(o+r>this.input.length)throw D("unexpected EOF","EBADDATA");for(var u=[],d=o,c=0;c<i;c++,d+=n){var x=this.exif_format_read(t,d);if(null===x){u=null;break}u.push(x)}if(Array.isArray(u)&&2===t&&(u=e(String.fromCharCode.apply(null,u)))&&"\0"===u[u.length-1]&&(u=u.slice(0,-1)),this.is_subifd_link(k,s)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:s,offset:u[0]}),l=!0),!1===T({is_big_endian:this.big_endian,ifd:k,tag:s,format:t,count:i,entry_offset:a+this.start,data_length:r,data_offset:o+this.start,value:u,is_subifd_link:l}))return void(this.aborted=!0);a+=12}0===k&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},ee.exports.ExifParser=M,ee.exports.get_orientation=function(k){var a=0;try{return new M(k,0,k.length).each(function(T){if(0===T.ifd&&274===T.tag&&Array.isArray(T.value))return a=T.value[0],!1}),a}catch{return-1}}},76767:function(ee,D,e){"use strict";var M=e(14847).n8,k=e(14847).Ag;function a(i,n){if(i.length<4+n)return null;var r=k(i,n);return i.length<r+n||r<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(n+4,n+8)),data:i.slice(n+8,n+r),end:n+r}}function T(i,n){for(var r=0;;){var o=a(i,r);if(!o)break;switch(o.boxtype){case"ispe":n.sizes.push({width:k(o.data,4),height:k(o.data,8)});break;case"irot":n.transforms.push({type:"irot",value:3&o.data[0]});break;case"imir":n.transforms.push({type:"imir",value:1&o.data[0]})}r=o.end}}function b(i,n,r){for(var o=0,l=0;l<r;l++)o=256*o+(i[n+l]||0);return o}function p(i,n){for(var r=i[4]>>4&15,o=15&i[4],l=i[5]>>4&15,u=M(i,6),d=8,c=0;c<u;c++){var x=M(i,d),g=M(i,d+=2),h=b(i,d+=2,l),m=M(i,d+=l);if(d+=2,0===g&&1===m){var y=b(i,d,r),v=b(i,d+r,o);n.item_loc[x]={length:v,offset:y+h}}d+=m*(r+o)}}function s(i,n){for(var r=M(i,4),o=6,l=0;l<r;l++){var u=a(i,o);if(!u)break;if("infe"===u.boxtype){for(var d=M(u.data,4),c="",x=8;x<u.data.length&&u.data[x];x++)c+=String.fromCharCode(u.data[x]);n.item_inf[c]=d}o=u.end}}function t(i,n){for(var r=0;;){var o=a(i,r);if(!o)break;"ipco"===o.boxtype&&T(o.data,n),r=o.end}}ee.exports.unbox=a,ee.exports.readSizeFromMeta=function(i){var n={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(x,g){for(var h=4;;){var m=a(x,h);if(!m)break;"iprp"===m.boxtype&&t(m.data,g),"iloc"===m.boxtype&&p(m.data,g),"iinf"===m.boxtype&&s(m.data,g),h=m.end}}(i,n),n.sizes.length){var r,o,l,u=(o=(r=n.sizes).reduce(function(x,g){return x.width>g.width||x.width===g.width&&x.height>g.height?x:g}),l=r.reduce(function(x,g){return x.height>g.height||x.height===g.height&&x.width>g.width?x:g}),o.width>l.height||o.width===l.height&&o.height>l.width?o:l),d=1;n.transforms.forEach(function(x){var g={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===x.type&&(d=0===x.value?h[d]:g[d=g[d=h[d]]]),"irot"===x.type)for(var m=0;m<x.value;m++)d=g[d]});var c=null;return n.item_inf.Exif&&(c=n.item_loc[n.item_inf.Exif]),{width:u.width,height:u.height,orientation:n.transforms.length?d:null,variants:n.sizes,exif_location:c}}},ee.exports.getMimeType=function(i){var n=String.fromCharCode.apply(null,i.slice(0,4)),r={};r[n]=!0;for(var o=8;o<i.length;o+=4)r[String.fromCharCode.apply(null,i.slice(o,o+4))]=!0;if(r.mif1||r.msf1||r.miaf)return"avif"===n||"avis"===n||"avio"===n?{type:"avif",mime:"image/avif"}:"heic"===n||"heix"===n?{type:"heic",mime:"image/heic"}:"hevc"===n||"hevx"===n?{type:"heic",mime:"image/heic-sequence"}:r.avif||r.avis?{type:"avif",mime:"image/avif"}:r.heic||r.heix||r.hevc||r.hevx||r.heis?r.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(ee,D,e){"use strict";var M=e(14847).eG,k=e(14847).OF,a=e(14847).Ag,T=e(76767),b=e(71371),p=M("ftyp");ee.exports=function(s){if(k(s,4,p)){var t=T.unbox(s,0);if(t){var i=T.getMimeType(t.data);if(i){for(var n,r=t.end;;){var o=T.unbox(s,r);if(!o)break;if(r=o.end,"mdat"===o.boxtype)return;if("meta"===o.boxtype){n=o.data;break}}if(n){var l=T.readSizeFromMeta(n);if(l){var u={width:l.width,height:l.height,type:i.type,mime:i.mime,wUnits:"px",hUnits:"px"};if(l.variants.length>1&&(u.variants=l.variants),l.orientation&&(u.orientation=l.orientation),l.exif_location&&l.exif_location.offset+l.exif_location.length<=s.length){var d=a(s,l.exif_location.offset),c=s.slice(l.exif_location.offset+d+4,l.exif_location.offset+l.exif_location.length),x=b.get_orientation(c);x>0&&(u.orientation=x)}return u}}}}}}},2504:function(ee,D,e){"use strict";var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,T=M("BM");ee.exports=function(b){if(!(b.length<26)&&k(b,0,T))return{width:a(b,18),height:a(b,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(ee,D,e){"use strict";var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,T=M("GIF87a"),b=M("GIF89a");ee.exports=function(p){if(!(p.length<10)&&(k(p,0,T)||k(p,0,b)))return{width:a(p,6),height:a(p,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(ee,D,e){"use strict";var M=e(14847).mP;ee.exports=function(k){var a=M(k,0),T=M(k,2),b=M(k,4);if(0===a&&1===T&&b){for(var p=[],s={width:0,height:0},t=0;t<b;t++){var i=k[6+16*t]||256,n=k[6+16*t+1]||256,r={width:i,height:n};p.push(r),(i>s.width||n>s.height)&&(s=r)}return{width:s.width,height:s.height,variants:p,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(ee,D,e){"use strict";var M=e(14847).n8,k=e(14847).eG,a=e(14847).OF,T=e(71371),b=k("Exif\0\0");ee.exports=function(p){if(!(p.length<2)&&255===p[0]&&216===p[1]&&255===p[2])for(var s=2;;){for(;;){if(p.length-s<2)return;if(255===p[s++])break}for(var t,i,n=p[s++];255===n;)n=p[s++];if(208<=n&&n<=217||1===n)t=0;else{if(!(192<=n&&n<=254)||p.length-s<2)return;t=M(p,s)-2,s+=2}if(217===n||218===n)return;if(225===n&&t>=10&&a(p,s,b)&&(i=T.get_orientation(p.slice(s+6,s+t))),t>=5&&192<=n&&n<=207&&196!==n&&200!==n&&204!==n){if(p.length-s<t)return;var r={width:M(p,s+3),height:M(p,s+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(r.orientation=i),r}s+=t}}},6303:function(ee,D,e){"use strict";var M=e(14847).eG,k=e(14847).OF,a=e(14847).Ag,T=M("\x89PNG\r\n\x1a\n"),b=M("IHDR");ee.exports=function(p){if(!(p.length<24)&&k(p,0,T)&&k(p,12,b))return{width:a(p,16),height:a(p,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(ee,D,e){"use strict";var M=e(14847).eG,k=e(14847).OF,a=e(14847).Ag,T=M("8BPS\0\x01");ee.exports=function(b){if(!(b.length<22)&&k(b,0,T))return{width:a(b,18),height:a(b,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(ee){"use strict";function D(s){return"number"==typeof s&&isFinite(s)&&s>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,M=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,k=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,a=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,T=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,b=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function p(s){return b.test(s)?s.match(b)[0]:"px"}ee.exports=function(s){if(function(h){var m,y=0,v=h.length;for(239===h[0]&&187===h[1]&&191===h[2]&&(y=3);y<v&&(32===(m=h[y])||9===m||13===m||10===m);)y++;return y!==v&&60===h[y]}(s)){for(var t="",i=0;i<s.length;i++)t+=String.fromCharCode(s[i]);var n=(t.match(e)||[""])[0];if(M.test(n)){var r=(m=(h=n).match(k),y=h.match(a),v=h.match(T),{width:m&&(m[1]||m[2]),height:y&&(y[1]||y[2]),viewbox:v&&(v[1]||v[2])}),o=parseFloat(r.width),l=parseFloat(r.height);if(r.width&&r.height)return D(o)&&D(l)?{width:o,height:l,type:"svg",mime:"image/svg+xml",wUnits:p(r.width),hUnits:p(r.height)}:void 0;var u=(r.viewbox||"").split(" "),d={width:u[2],height:u[3]},c=parseFloat(d.width),x=parseFloat(d.height);if(D(c)&&D(x)&&p(d.width)===p(d.height)){var g=c/x;return r.width?D(o)?{width:o,height:o/g,type:"svg",mime:"image/svg+xml",wUnits:p(r.width),hUnits:p(r.width)}:void 0:r.height?D(l)?{width:l*g,height:l,type:"svg",mime:"image/svg+xml",wUnits:p(r.height),hUnits:p(r.height)}:void 0:{width:c,height:x,type:"svg",mime:"image/svg+xml",wUnits:p(d.width),hUnits:p(d.height)}}}}var h,m,y,v}},66278:function(ee,D,e){"use strict";var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,T=e(14847).n8,b=e(14847).nm,p=e(14847).Ag,s=M("II*\0"),t=M("MM\0*");function i(o,l,u){return u?T(o,l):a(o,l)}function n(o,l,u){return u?p(o,l):b(o,l)}function r(o,l,u){var d=i(o,l+2,u);return 1!==n(o,l+4,u)||3!==d&&4!==d?null:3===d?i(o,l+8,u):n(o,l+8,u)}ee.exports=function(o){if(!(o.length<8)&&(k(o,0,s)||k(o,0,t))){var l=77===o[0],u=n(o,4,l)-8;if(!(u<0)){var d=u+8;if(!(o.length-d<2)){var c=12*i(o,d+0,l);if(!(c<=0||(d+=2,o.length-d<c))){var x,g,h,m;for(x=0;x<c;x+=12)256===(m=i(o,d+x,l))?g=r(o,d+x,l):257===m&&(h=r(o,d+x,l));return g&&h?{width:g,height:h,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(ee,D,e){"use strict";var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,T=e(14847).nm,b=e(71371),p=M("RIFF"),s=M("WEBP");function t(r,o){if(157===r[o+3]&&1===r[o+4]&&42===r[o+5])return{width:16383&a(r,o+6),height:16383&a(r,o+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function i(r,o){if(47===r[o]){var l=T(r,o+1);return{width:1+(16383&l),height:1+(l>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function n(r,o){return{width:1+(r[o+6]<<16|r[o+5]<<8|r[o+4]),height:1+(r[o+9]<<o|r[o+8]<<8|r[o+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}ee.exports=function(r){if(!(r.length<16)&&(k(r,0,p)||k(r,8,s))){var o=12,l=null,u=0,d=T(r,4)+8;if(!(d>r.length)){for(;o+8<d;)if(0!==r[o]){var c=String.fromCharCode.apply(null,r.slice(o,o+4)),x=T(r,o+4);"VP8 "===c&&x>=10?l=l||t(r,o+8):"VP8L"===c&&x>=9?l=l||i(r,o+8):"VP8X"===c&&x>=10?l=l||n(r,o+8):"EXIF"===c&&(u=b.get_orientation(r.slice(o+8,o+8+x)),o=1/0),o+=8+x}else o++;if(l)return u>0&&(l.orientation=u),l}}}},91497:function(ee,D,e){"use strict";ee.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(ee,D,e){"use strict";var M=e(91497);ee.exports=function(k){return function(a){for(var T=Object.keys(M),b=0;b<T.length;b++){var p=M[T[b]](a);if(p)return p}return null}(k)},ee.exports.parsers=M},90386:function(ee){var D,e,M=ee.exports={};function k(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function T(l){if(D===setTimeout)return setTimeout(l,0);if((D===k||!D)&&setTimeout)return D=setTimeout,setTimeout(l,0);try{return D(l,0)}catch{try{return D.call(null,l,0)}catch{return D.call(this,l,0)}}}!function(){try{D="function"==typeof setTimeout?setTimeout:k}catch{D=k}try{e="function"==typeof clearTimeout?clearTimeout:a}catch{e=a}}();var b,p=[],s=!1,t=-1;function i(){s&&b&&(s=!1,b.length?p=b.concat(p):t=-1,p.length&&n())}function n(){if(!s){var l=T(i);s=!0;for(var u=p.length;u;){for(b=p,p=[];++t<u;)b&&b[t].run();t=-1,u=p.length}b=null,s=!1,function(d){if(e===clearTimeout)return clearTimeout(d);if((e===a||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(d);try{e(d)}catch{try{return e.call(null,d)}catch{return e.call(this,d)}}}(l)}}function r(l,u){this.fun=l,this.array=u}function o(){}M.nextTick=function(l){var u=new Array(arguments.length-1);if(arguments.length>1)for(var d=1;d<arguments.length;d++)u[d-1]=arguments[d];p.push(new r(l,u)),1!==p.length||s||T(n)},r.prototype.run=function(){this.fun.apply(null,this.array)},M.title="browser",M.browser=!0,M.env={},M.argv=[],M.version="",M.versions={},M.on=o,M.addListener=o,M.once=o,M.off=o,M.removeListener=o,M.removeAllListeners=o,M.emit=o,M.prependListener=o,M.prependOnceListener=o,M.listeners=function(l){return[]},M.binding=function(l){throw new Error("process.binding is not supported")},M.cwd=function(){return"/"},M.chdir=function(l){throw new Error("process.chdir is not supported")},M.umask=function(){return 0}},5877:function(ee,D,e){for(var M=e(9748),k=typeof window>"u"?e.g:window,a=["moz","webkit"],T="AnimationFrame",b=k["request"+T],p=k["cancel"+T]||k["cancelRequest"+T],s=0;!b&&s<a.length;s++)b=k[a[s]+"Request"+T],p=k[a[s]+"Cancel"+T]||k[a[s]+"CancelRequest"+T];if(!b||!p){var t=0,i=0,n=[];b=function(r){if(0===n.length){var o=M(),l=Math.max(0,16.666666666666668-(o-t));t=l+o,setTimeout(function(){var u=n.slice(0);n.length=0;for(var d=0;d<u.length;d++)if(!u[d].cancelled)try{u[d].callback(t)}catch(c){setTimeout(function(){throw c},0)}},Math.round(l))}return n.push({handle:++i,callback:r,cancelled:!1}),i},p=function(r){for(var o=0;o<n.length;o++)n[o].handle===r&&(n[o].cancelled=!0)}}ee.exports=function(r){return b.call(k,r)},ee.exports.cancel=function(){p.apply(k,arguments)},ee.exports.polyfill=function(r){r||(r=k),r.requestAnimationFrame=b,r.cancelAnimationFrame=p}},3593:function(ee,D,e){"use strict";var M=e(21527),k=e(25075),a=e(93447),T=e(71299),b=e(56131),p=e(30120),s=e(57060),t=s.float32,i=s.fract32;ee.exports=function(r,o){if("function"==typeof r?(o||(o={}),o.regl=r):o=r,o.length&&(o.positions=o),!(r=o.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l,u,d,c,x,g,h=r._gl,m={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},y=[];return c=r.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),x=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=r.buffer({usage:"static",type:"float",data:n}),S(o),l=r({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:r.prop("range"),lineWidth:r.prop("lineWidth"),capSize:r.prop("capSize"),opacity:r.prop("opacity"),scale:r.prop("scale"),translate:r.prop("translate"),scaleFract:r.prop("scaleFract"),translateFract:r.prop("translateFract"),viewport:function(E,C){return[C.viewport.x,C.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,C){return 4*C.offset},divisor:1},position:{buffer:u,offset:function(E,C){return 8*C.offset},divisor:1},positionFract:{buffer:d,offset:function(E,C){return 8*C.offset},divisor:1},error:{buffer:x,offset:function(E,C){return 16*C.offset},divisor:1},direction:{buffer:g,stride:24,offset:0},lineOffset:{buffer:g,stride:24,offset:8},capOffset:{buffer:g,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:r.prop("viewport")},viewport:r.prop("viewport"),stencil:!1,instances:r.prop("count"),count:n.length}),b(v,{update:S,draw:_,destroy:w,regl:r,gl:h,canvas:h.canvas,groups:y}),v;function v(E){E?S(E):null===E&&w(),_()}function _(E){if("number"==typeof E)return f(E);E&&!Array.isArray(E)&&(E=[E]),r._refresh(),y.forEach(function(C,O){C&&(E&&(E[O]?C.draw=!0:C.draw=!1),C.draw?f(O):C.draw=!0)})}function f(E){"number"==typeof E&&(E=y[E]),null!=E&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],l(E),E.after&&E.after(E))}function S(E){if(E){null!=E.length?"number"==typeof E[0]&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var C=0,O=0;if(v.groups=y=E.map(function(F,U){var V=y[U];return F&&("function"==typeof F?F={after:F}:"number"==typeof F[0]&&(F={positions:F}),F=T(F,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),V||(y[U]=V={id:U,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},F=b({},m,F)),a(V,F,[{lineWidth:function(te){return.5*+te},capSize:function(te){return.5*+te},opacity:parseFloat,errors:function(te){return te=p(te),O+=te.length,te},positions:function(te,$){return te=p(te,"float64"),$.count=Math.floor(te.length/2),$.bounds=M(te,2),$.offset=C,C+=$.count,te}},{color:function(te,$){var X=$.count;if(te||(te="transparent"),!Array.isArray(te)||"number"==typeof te[0]){var W=te;te=Array(X);for(var J=0;J<X;J++)te[J]=W}if(te.length<X)throw Error("Not enough colors");for(var Q=new Uint8Array(4*X),re=0;re<X;re++){var ae=k(te[re],"uint8");Q.set(ae,4*re)}return Q},range:function(te,$,X){var W=$.bounds;return te||(te=W),$.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],$.translate=[-te[0],-te[1]],$.scaleFract=i($.scale),$.translateFract=i($.translate),te},viewport:function(te){var $;return Array.isArray(te)?$={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?($={x:te.x||te.left||0,y:te.y||te.top||0},te.right?$.width=te.right-$.x:$.width=te.w||te.width||0,te.bottom?$.height=te.bottom-$.y:$.height=te.h||te.height||0):$={x:0,y:0,width:h.drawingBufferWidth,height:h.drawingBufferHeight},$}}])),V}),C||O){var P=y.reduce(function(F,U,V){return F+(U?U.count:0)},0),R=new Float64Array(2*P),j=new Uint8Array(4*P),z=new Float32Array(4*P);y.forEach(function(F,U){if(F){var V=F.positions,te=F.count,$=F.offset,X=F.color,W=F.errors;te&&(j.set(X,4*$),z.set(W,4*$),R.set(V,2*$))}});var N=t(R);u(N);var Y=i(R,N);d(Y),c(j),x(z)}}}function w(){u.destroy(),d.destroy(),c.destroy(),x.destroy(),g.destroy()}};var n=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(ee,D,e){"use strict";var M=e(25075),k=e(21527),a=e(56131),T=e(56068),b=e(71299),p=e(30120),s=e(11474),t=e(54),i=e(57060),n=i.float32,r=i.fract32,o=e(83522),l=e(18863),u=e(6851);function d(c,x){if(!(this instanceof d))return new d(c,x);if("function"==typeof c?(x||(x={}),x.regl=c):x=c,x.length&&(x.positions=x),!(c=x.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=c._gl,this.regl=c,this.passes=[],this.shaders=d.shaders.has(c)?d.shaders.get(c):d.shaders.set(c,d.createShaders(c)).get(c),this.update(x)}ee.exports=d,d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new o,d.createShaders=function(c){var x,g=c.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),h={primitive:"triangle strip",instances:c.prop("count"),count:4,offset:0,uniforms:{miterMode:function(y,v){return"round"===v.join?2:1},miterLimit:c.prop("miterLimit"),scale:c.prop("scale"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),thickness:c.prop("thickness"),dashTexture:c.prop("dashTexture"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),dashLength:c.prop("dashLength"),viewport:function(y,v){return[v.viewport.x,v.viewport.y,y.viewportWidth,y.viewportHeight]},depth:c.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(y,v){return!v.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport")},m=c(a({vert:T(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:T(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:g,divisor:0,stride:8,offset:0},lineTop:{buffer:g,divisor:0,stride:8,offset:4},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},h));try{x=c(a({cull:{enable:!0,face:"back"},vert:T(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:T(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:g,divisor:0,stride:8,offset:0},lineTop:{buffer:g,divisor:0,stride:8,offset:4},aColor:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:c.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},h))}catch{x=m}return{fill:c({primitive:"triangle",elements:function(y,v){return v.triangles},offset:0,vert:T(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:T(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:c.prop("scale"),color:c.prop("fill"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),viewport:function(y,v){return[v.viewport.x,v.viewport.y,y.viewportWidth,y.viewportHeight]}},attributes:{position:{buffer:c.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8}},blend:h.blend,depth:{enable:!1},scissor:h.scissor,stencil:h.stencil,viewport:h.viewport}),rect:m,miter:x}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var c,x=[],g=arguments.length;g--;)x[g]=arguments[g];x.length&&(c=this).update.apply(c,x),this.draw()},d.prototype.draw=function(){for(var c=this,x=[],g=arguments.length;g--;)x[g]=arguments[g];return(x.length?x:this.passes).forEach(function(h,m){var y;if(h&&Array.isArray(h))return(y=c).draw.apply(y,h);"number"==typeof h&&(h=c.passes[h]),h&&h.count>1&&h.opacity&&(c.regl._refresh(),h.fill&&h.triangles&&h.triangles.length>2&&c.shaders.fill(h),h.thickness&&(h.scale[0]*h.viewport.width>d.precisionThreshold||h.scale[1]*h.viewport.height>d.precisionThreshold||"rect"===h.join||!h.join&&(h.thickness<=2||h.count>=d.maxPoints)?c.shaders.rect(h):c.shaders.miter(h)))}),this},d.prototype.update=function(c){var x=this;if(c){null!=c.length?"number"==typeof c[0]&&(c=[{positions:c}]):Array.isArray(c)||(c=[c]);var g=this.regl,h=this.gl;if(c.forEach(function(f,S){var w=x.passes[S];if(void 0!==f)if(null!==f){if("number"==typeof f[0]&&(f={positions:f}),f=b(f,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),w||(x.passes[S]=w={id:S,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:g.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:g.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},f=a({},d.defaults,f)),null!=f.thickness&&(w.thickness=parseFloat(f.thickness)),null!=f.opacity&&(w.opacity=parseFloat(f.opacity)),null!=f.miterLimit&&(w.miterLimit=parseFloat(f.miterLimit)),null!=f.overlay&&(w.overlay=!!f.overlay,S<d.maxLines&&(w.depth=2*(d.maxLines-1-S%d.maxLines)/d.maxLines-1)),null!=f.join&&(w.join=f.join),null!=f.hole&&(w.hole=f.hole),null!=f.fill&&(w.fill=f.fill?M(f.fill,"uint8"):null),null!=f.viewport&&(w.viewport=l(f.viewport)),w.viewport||(w.viewport=l([h.drawingBufferWidth,h.drawingBufferHeight])),null!=f.close&&(w.close=f.close),null===f.positions&&(f.positions=[]),f.positions){var E,C;if(f.positions.x&&f.positions.y){var O=f.positions.x,P=f.positions.y;C=w.count=Math.max(O.length,P.length),E=new Float64Array(2*C);for(var R=0;R<C;R++)E[2*R]=O[R],E[2*R+1]=P[R]}else E=p(f.positions,"float64"),C=w.count=Math.floor(E.length/2);var j=w.bounds=k(E,2);if(w.fill){for(var z=[],N={},Y=0,F=0,U=0,V=w.count;F<V;F++){var te=E[2*F],$=E[2*F+1];isNaN(te)||isNaN($)||null==te||null==$?(te=E[2*Y],$=E[2*Y+1],N[F]=Y):Y=F,z[U++]=te,z[U++]=$}if(f.splitNull){w.count-1 in N||(N[w.count]=w.count-1);var X=Object.keys(N).map(Number).sort(function(vt,Qe){return vt-Qe}),W=[],J=0,Q=null!=w.hole?w.hole[0]:null;if(null!=Q){var re=u(X,function(vt){return vt>=Q});(X=X.slice(0,re)).push(Q)}for(var ae=function(vt){var Qe=z.slice(2*J,2*X[vt]).concat(Q?z.slice(2*Q):[]),nt=(w.hole||[]).map(function(Ot){return Ot-Q+(X[vt]-J)}),wt=s(Qe,nt);wt=wt.map(function(Ot){return Ot+J+(Ot+J<X[vt]?0:Q-X[vt])}),W.push.apply(W,wt),J=X[vt]+1},oe=0;oe<X.length;oe++)ae(oe);for(var ue=0,ve=W.length;ue<ve;ue++)null!=N[W[ue]]&&(W[ue]=N[W[ue]]);w.triangles=W}else{for(var be=s(z,w.hole||[]),de=0,pe=be.length;de<pe;de++)null!=N[be[de]]&&(be[de]=N[be[de]]);w.triangles=be}}var ge=new Float64Array(E);t(ge,2,j);var Ae=new Float64Array(2*C+6);w.close?E[0]===E[2*C-2]&&E[1]===E[2*C-1]?(Ae[0]=ge[2*C-4],Ae[1]=ge[2*C-3]):(Ae[0]=ge[2*C-2],Ae[1]=ge[2*C-1]):(Ae[0]=ge[0],Ae[1]=ge[1]),Ae.set(ge,2),w.close?E[0]===E[2*C-2]&&E[1]===E[2*C-1]?(Ae[2*C+2]=ge[2],Ae[2*C+3]=ge[3],w.count-=1):(Ae[2*C+2]=ge[0],Ae[2*C+3]=ge[1],Ae[2*C+4]=ge[2],Ae[2*C+5]=ge[3]):(Ae[2*C+2]=ge[2*C-2],Ae[2*C+3]=ge[2*C-1],Ae[2*C+4]=ge[2*C-2],Ae[2*C+5]=ge[2*C-1]);var ye=n(Ae);w.positionBuffer(ye);var we=r(Ae,ye);w.positionFractBuffer(we)}if(f.range?w.range=f.range:w.range||(w.range=w.bounds),(f.range||f.positions)&&w.count){var se=w.bounds,ie=se[2]-se[0],he=se[3]-se[1],Se=w.range[2]-w.range[0],_e=w.range[3]-w.range[1];w.scale=[ie/Se,he/_e],w.translate=[-w.range[0]/Se+se[0]/Se||0,-w.range[1]/_e+se[1]/_e||0],w.scaleFract=r(w.scale),w.translateFract=r(w.translate)}if(f.dashes){var Me,Ee=0;if(!f.dashes||f.dashes.length<2)Ee=1,Me=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ee=0;for(var Ie=0;Ie<f.dashes.length;++Ie)Ee+=f.dashes[Ie];Me=new Uint8Array(Ee*d.dashMult);for(var fe=0,xe=255,Te=0;Te<2;Te++)for(var Ce=0;Ce<f.dashes.length;++Ce){for(var De=0,ze=f.dashes[Ce]*d.dashMult*.5;De<ze;++De)Me[fe++]=xe;xe^=255}}w.dashLength=Ee,w.dashTexture({channels:1,data:Me,width:Me.length,height:1,mag:"linear",min:"linear"},0,0)}if(f.color){var Ue=w.count,Ve=f.color;Ve||(Ve="transparent");var Xe=new Uint8Array(4*Ue+4);if(Array.isArray(Ve)&&"number"!=typeof Ve[0]){for(var at=0;at<Ue;at++){var st=M(Ve[at],"uint8");Xe.set(st,4*at)}Xe.set(M(Ve[0],"uint8"),4*Ue)}else for(var ht=M(Ve,"uint8"),bt=0;bt<Ue+1;bt++)Xe.set(ht,4*bt);w.colorBuffer({usage:"dynamic",type:"uint8",data:Xe})}}else x.passes[S]=null}),c.length<this.passes.length){for(var m=c.length;m<this.passes.length;m++){var y=this.passes[m];y&&(y.colorBuffer.destroy(),y.positionBuffer.destroy(),y.dashTexture.destroy())}this.passes.length=c.length}for(var v=[],_=0;_<this.passes.length;_++)null!==this.passes[_]&&v.push(this.passes[_]);return this.passes=v,this}},d.prototype.destroy=function(){return this.passes.forEach(function(c){c.colorBuffer.destroy(),c.positionBuffer.destroy(),c.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(ee,D,e){"use strict";function M(h,m){return function(y){if(Array.isArray(y))return y}(h)||function(y,v){var _=null==y?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(null!=_){var f,S,w,E,C=[],O=!0,P=!1;try{if(w=(_=_.call(y)).next,0===v){if(Object(_)!==_)return;O=!1}else for(;!(O=(f=w.call(_)).done)&&(C.push(f.value),C.length!==v);O=!0);}catch(R){P=!0,S=R}finally{try{if(!O&&null!=_.return&&(E=_.return(),Object(E)!==E))return}finally{if(P)throw S}}return C}}(h,m)||k(h,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(h,m){if(h){if("string"==typeof h)return a(h,m);var y=Object.prototype.toString.call(h).slice(8,-1);return"Object"===y&&h.constructor&&(y=h.constructor.name),"Map"===y||"Set"===y?Array.from(h):"Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?a(h,m):void 0}}function a(h,m){(null==m||m>h.length)&&(m=h.length);for(var y=0,v=new Array(m);y<m;y++)v[y]=h[y];return v}var T=e(25075),b=e(21527),p=e(6475),s=e(88294),t=e(56131),i=e(56068),n=e(71299),r=e(93447),o=e(30120),l=e(62683),u=e(57060),d=e(18863),c=x;function x(h,m){var y=this;if(!(this instanceof x))return new x(h,m);"function"==typeof h?(m||(m={}),m.regl=h):(m=h,h=null),m&&m.length&&(m.positions=m);var v,_=(h=m.regl)._gl,f=[];this.tooManyColors=l,v=h.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:h,gl:_,groups:[],markerCache:[null],markerTextures:[null],palette:f,paletteIds:{},paletteTexture:v,maxColors:255,maxSize:100,canvas:_.canvas}),this.update(m);var S={uniforms:{constPointSize:!!m.constPointSize,opacity:h.prop("opacity"),paletteSize:function(C,O){return[y.tooManyColors?0:255,v.height]},pixelRatio:h.context("pixelRatio"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translate:h.prop("translate"),translateFract:h.prop("translateFract"),markerTexture:h.prop("markerTexture"),paletteTexture:v},attributes:{x:function(C,O){return O.xAttr||{buffer:O.positionBuffer,stride:8,offset:0}},y:function(C,O){return O.yAttr||{buffer:O.positionBuffer,stride:8,offset:4}},xFract:function(C,O){return O.xAttr?{constant:[0,0]}:{buffer:O.positionFractBuffer,stride:8,offset:0}},yFract:function(C,O){return O.yAttr?{constant:[0,0]}:{buffer:O.positionFractBuffer,stride:8,offset:4}},size:function(C,O){return O.size.length?{buffer:O.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*O.size/y.maxSize)]}},borderSize:function(C,O){return O.borderSize.length?{buffer:O.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*O.borderSize/y.maxSize)]}},colorId:function(C,O){return O.color.length?{buffer:O.colorBuffer,stride:y.tooManyColors?8:4,offset:0}:{constant:y.tooManyColors?f.slice(4*O.color,4*O.color+4):[O.color]}},borderColorId:function(C,O){return O.borderColor.length?{buffer:O.colorBuffer,stride:y.tooManyColors?8:4,offset:y.tooManyColors?4:2}:{constant:y.tooManyColors?f.slice(4*O.borderColor,4*O.borderColor+4):[O.borderColor]}},isActive:function(C,O){return!0===O.activation?{constant:[1]}:O.activation?O.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:h.prop("elements"),count:h.prop("count"),offset:h.prop("offset"),primitive:"points"},w=t({},S);w.frag=i(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),w.vert=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\n// `invariant` effectively turns off optimizations for the position.\n// We need this because -fast-math on M1 Macs is re-ordering\n// floating point operations in a way that causes floating point\n// precision limits to put points in the wrong locations.\ninvariant gl_Position;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}\n"]),this.drawMarker=h(w);var E=t({},S);E.frag=i(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),E.vert=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\n// `invariant` effectively turns off optimizations for the position.\n// We need this because -fast-math on M1 Macs is re-ordering\n// floating point operations in a way that causes floating point\n// precision limits to put points in the wrong locations.\ninvariant gl_Position;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),l&&(E.frag=E.frag.replace("smoothstep","smoothStep"),w.frag=w.frag.replace("smoothstep","smoothStep")),this.drawCircle=h(E)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var h=this,m=arguments.length,y=new Array(m),v=0;v<m;v++)y[v]=arguments[v];var _=this.groups;if(1===y.length&&Array.isArray(y[0])&&(null===y[0][0]||Array.isArray(y[0][0]))&&(y=y[0]),this.regl._refresh(),y.length)for(var f=0;f<y.length;f++)this.drawItem(f,y[f]);else _.forEach(function(S,w){h.drawItem(w)});return this},x.prototype.drawItem=function(h,m){var y,v=this.groups,_=v[h];if("number"==typeof m&&(h=m,_=v[m],m=null),_&&_.count&&_.opacity){_.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,_,m));for(var f=[],S=1;S<_.activation.length;S++)_.activation[S]&&(!0===_.activation[S]||_.activation[S].data.length)&&f.push.apply(f,function(w){if(Array.isArray(w))return a(w)}(y=this.getMarkerDrawOptions(S,_,m))||function(w){if(typeof Symbol<"u"&&null!=w[Symbol.iterator]||null!=w["@@iterator"])return Array.from(w)}(y)||k(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());f.length&&this.drawMarker(f)}},x.prototype.getMarkerDrawOptions=function(h,m,y){var v=m.range,_=m.tree,f=m.viewport,S=m.activation,w=m.selectionBuffer,E=m.count;if(this.regl,!_)return y?[t({},m,{markerTexture:this.markerTextures[h],activation:S[h],count:y.length,elements:y,offset:0})]:[t({},m,{markerTexture:this.markerTextures[h],activation:S[h],offset:0})];var C=[],O=_.range(v,{lod:!0,px:[(v[2]-v[0])/f.width,(v[3]-v[1])/f.height]});if(y){for(var P=S[h].data,R=new Uint8Array(E),j=0;j<y.length;j++){var z=y[j];R[z]=P?P[z]:1}w.subdata(R)}for(var N=O.length;N--;){var Y=M(O[N],2),F=Y[0],U=Y[1];C.push(t({},m,{markerTexture:this.markerTextures[h],activation:y?w:S[h],offset:F,count:U-F}))}return C},x.prototype.update=function(){for(var h=this,m=arguments.length,y=new Array(m),v=0;v<m;v++)y[v]=arguments[v];if(y.length){1===y.length&&Array.isArray(y[0])&&(y=y[0]);var _=this.groups,f=this.gl,S=this.regl,w=this.maxSize,E=this.maxColors,C=this.palette;this.groups=_=y.map(function(O,P){var R=_[P];if(void 0===O)return R;null===O?O={positions:null}:"function"==typeof O?O={ondraw:O}:"number"==typeof O[0]&&(O={positions:O}),null===(O=n(O,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(O.positions=[]),null!=O.tooManyColors&&(h.tooManyColors=O.tooManyColors),R||(_[P]=R={id:P,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:S.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},O=t({},x.defaults,O)),O.positions&&!("marker"in O)&&(O.marker=R.marker,delete R.marker),O.marker&&!("positions"in O)&&(O.positions=R.positions,delete R.positions);var j=0,z=0;if(r(R,O,[{snap:!0,size:function(de,pe){return null==de&&(de=x.defaults.size),j+=de&&de.length?1:0,de},borderSize:function(de,pe){return null==de&&(de=x.defaults.borderSize),j+=de&&de.length?1:0,de},opacity:parseFloat,color:function(de,pe){return null==de&&(de=x.defaults.color),de=h.updateColor(de),z++,de},borderColor:function(de,pe){return null==de&&(de=x.defaults.borderColor),de=h.updateColor(de),z++,de},bounds:function(de,pe,ge){return"range"in ge||(ge.range=null),de},positions:function(de,pe,ge){var Ae=pe.snap,ye=pe.positionBuffer,we=pe.positionFractBuffer,se=pe.selectionBuffer;if(de.x||de.y)return de.x.length?pe.xAttr={buffer:S.buffer(de.x),offset:0,stride:4,count:de.x.length}:pe.xAttr={buffer:de.x.buffer,offset:4*de.x.offset||0,stride:4*(de.x.stride||1),count:de.x.count},de.y.length?pe.yAttr={buffer:S.buffer(de.y),offset:0,stride:4,count:de.y.length}:pe.yAttr={buffer:de.y.buffer,offset:4*de.y.offset||0,stride:4*(de.y.stride||1),count:de.y.count},pe.count=Math.max(pe.xAttr.count,pe.yAttr.count),de;de=o(de,"float64");var ie=pe.count=Math.floor(de.length/2),he=pe.bounds=ie?b(de,2):null;if(ge.range||pe.range||(delete pe.range,ge.range=he),ge.marker||pe.marker||(delete pe.marker,ge.marker=null),Ae&&(!0===Ae||ie>Ae)?pe.tree=s(de,{bounds:he}):Ae&&Ae.length&&(pe.tree=Ae),pe.tree){var Se={primitive:"points",usage:"static",data:pe.tree,type:"uint32"};pe.elements?pe.elements(Se):pe.elements=S.elements(Se)}var _e=u.float32(de);return ye({data:_e,usage:"dynamic"}),we({data:u.fract32(de,_e),usage:"dynamic"}),se({data:new Uint8Array(ie),type:"uint8",usage:"stream"}),de}},{marker:function(de,pe,ge){var Ae=pe.activation;if(Ae.forEach(function(_e){return _e&&_e.destroy&&_e.destroy()}),Ae.length=0,de&&"number"!=typeof de[0]){for(var ye=[],we=0,se=Math.min(de.length,pe.count);we<se;we++){var ie=h.addMarker(de[we]);ye[ie]||(ye[ie]=new Uint8Array(pe.count)),ye[ie][we]=1}for(var he=0;he<ye.length;he++)if(ye[he]){var Se={data:ye[he],type:"uint8",usage:"static"};Ae[he]?Ae[he](Se):Ae[he]=S.buffer(Se),Ae[he].data=ye[he]}}else Ae[h.addMarker(de)]=!0;return de},range:function(de,pe,ge){var Ae=pe.bounds;if(Ae)return de||(de=Ae),pe.scale=[1/(de[2]-de[0]),1/(de[3]-de[1])],pe.translate=[-de[0],-de[1]],pe.scaleFract=u.fract(pe.scale),pe.translateFract=u.fract(pe.translate),de},viewport:function(de){return d(de||[f.drawingBufferWidth,f.drawingBufferHeight])}}]),j){var N=R,Y=N.count,F=N.size,U=N.borderSize,V=N.sizeBuffer,te=new Uint8Array(2*Y);if(F.length||U.length)for(var $=0;$<Y;$++)te[2*$]=Math.round(255*(null==F[$]?F:F[$])/w),te[2*$+1]=Math.round(255*(null==U[$]?U:U[$])/w);V({data:te,usage:"dynamic"})}if(z){var X,W=R,J=W.count,Q=W.color,re=W.borderColor,ae=W.colorBuffer;if(h.tooManyColors){if(Q.length||re.length){X=new Uint8Array(8*J);for(var oe=0;oe<J;oe++){var ue=Q[oe];X[8*oe]=C[4*ue],X[8*oe+1]=C[4*ue+1],X[8*oe+2]=C[4*ue+2],X[8*oe+3]=C[4*ue+3];var ve=re[oe];X[8*oe+4]=C[4*ve],X[8*oe+5]=C[4*ve+1],X[8*oe+6]=C[4*ve+2],X[8*oe+7]=C[4*ve+3]}}}else if(Q.length||re.length){X=new Uint8Array(4*J+2);for(var be=0;be<J;be++)null!=Q[be]&&(X[4*be]=Q[be]%E,X[4*be+1]=Math.floor(Q[be]/E)),null!=re[be]&&(X[4*be+2]=re[be]%E,X[4*be+3]=Math.floor(re[be]/E))}ae({data:X||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return R})}},x.prototype.addMarker=function(h){var m,y=this.markerTextures,v=this.regl,_=this.markerCache,f=null==h?0:_.indexOf(h);if(f>=0)return f;if(h instanceof Uint8Array||h instanceof Uint8ClampedArray)m=h;else{m=new Uint8Array(h.length);for(var S=0,w=h.length;S<w;S++)m[S]=255*h[S]}var E=Math.floor(Math.sqrt(m.length));return f=y.length,_.push(h),y.push(v.texture({channels:1,data:m,radius:E,mag:"linear",min:"linear"})),f},x.prototype.updateColor=function(h){var m=this.paletteIds,y=this.palette,v=this.maxColors;Array.isArray(h)||(h=[h]);var _=[];if("number"==typeof h[0]){var f=[];if(Array.isArray(h))for(var S=0;S<h.length;S+=4)f.push(h.slice(S,S+4));else for(var w=0;w<h.length;w+=4)f.push(h.subarray(w,w+4));h=f}for(var E=0;E<h.length;E++){var C=h[E];C=T(C,"uint8");var O=p(C,!1);if(null==m[O]){var P=y.length;m[O]=Math.floor(P/4),y[P]=C[0],y[P+1]=C[1],y[P+2]=C[2],y[P+3]=C[3]}_[E]=m[O]}return!this.tooManyColors&&y.length>4*v&&(this.tooManyColors=!0),this.updatePalette(y),1===_.length?_[0]:_},x.prototype.updatePalette=function(h){if(!this.tooManyColors){var m=this.maxColors,y=this.paletteTexture,v=Math.ceil(.25*h.length/m);if(v>1)for(var _=.25*(h=h.slice()).length%m;_<v*m;_++)h.push(0,0,0,0);y.height<v&&y.resize(m,v),y.subimage({width:Math.min(.25*h.length,m),height:v,data:h},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(h){h.sizeBuffer.destroy(),h.positionBuffer.destroy(),h.positionFractBuffer.destroy(),h.colorBuffer.destroy(),h.activation.forEach(function(m){return m&&m.destroy&&m.destroy()}),h.selectionBuffer.destroy(),h.elements&&h.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(h){return h&&h.destroy&&h.destroy()}),this};var g=e(56131);ee.exports=function(h,m){var y=new c(h,m),v=y.render.bind(y);return g(v,{render:v,update:y.update.bind(y),draw:y.draw.bind(y),destroy:y.destroy.bind(y),regl:y.regl,gl:y.gl,canvas:y.gl.canvas,groups:y.groups,markers:y.markerCache,palette:y.palette}),v}},60487:function(ee,D,e){"use strict";var M=e(11870),k=e(71299),a=e(21527),T=e(5877),b=e(57471),p=e(18863),s=e(30120);function t(o,l){if(!(this instanceof t))return new t(o,l);this.traces=[],this.passes={},this.regl=o,this.scatter=M(o),this.canvas=this.scatter.canvas}function i(o,l,u){return(null!=o.id?o.id:o)<<16|(255&l)<<8|255&u}function n(o,l,u){var d,c,x,g,h=o[l],m=o[u];return h.length>2?(h[0],h[2],d=h[1],c=h[3]):h.length?(d=h[0],c=h[1]):(h.x,d=h.y,h.x,h.width,c=h.y+h.height),m.length>2?(x=m[0],g=m[2],m[1],m[3]):m.length?(x=m[0],g=m[1]):(x=m.x,m.y,g=m.x+m.width,m.y,m.height),[x,d,g,c]}function r(o){if("number"==typeof o)return[o,o,o,o];if(2===o.length)return[o[0],o[1],o[0],o[1]];var l=p(o);return[l.x,l.y,l.x+l.width,l.y+l.height]}ee.exports=t,t.prototype.render=function(){for(var o,l=this,u=[],d=arguments.length;d--;)u[d]=arguments[d];return u.length&&(o=this).update.apply(o,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=T(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,T(function(){l.dirty=!1})),this)},t.prototype.update=function(){for(var o,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var d=0;d<l.length;d++)this.updateItem(d,l[d]);this.traces=this.traces.filter(Boolean);for(var c=[],x=0,g=0;g<this.traces.length;g++){for(var h=this.traces[g],m=this.traces[g].passes,y=0;y<m.length;y++)c.push(this.passes[m[y]]);h.passOffset=x,x+=h.passes.length}return(o=this.scatter).update.apply(o,c),this}},t.prototype.updateItem=function(o,l){var u=this.regl;if(null===l)return this.traces[o]=null,this;if(!l)return this;var d,c=k(l,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),x=this.traces[o]||(this.traces[o]={id:o,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:p([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=c.color&&(x.color=c.color),null!=c.size&&(x.size=c.size),null!=c.marker&&(x.marker=c.marker),null!=c.borderColor&&(x.borderColor=c.borderColor),null!=c.borderSize&&(x.borderSize=c.borderSize),null!=c.opacity&&(x.opacity=c.opacity),c.viewport&&(x.viewport=p(c.viewport)),null!=c.diagonal&&(x.diagonal=c.diagonal),null!=c.upper&&(x.upper=c.upper),null!=c.lower&&(x.lower=c.lower),c.data){x.buffer(s(c.data)),x.columns=c.data.length,x.count=c.data[0].length,x.bounds=[];for(var g=0;g<x.columns;g++)x.bounds[g]=a(c.data[g],1)}c.range&&(x.range=c.range,d=x.range&&"number"!=typeof x.range[0]),c.domain&&(x.domain=c.domain);var h=!1;null!=c.padding&&(Array.isArray(c.padding)&&c.padding.length===x.columns&&"number"==typeof c.padding[c.padding.length-1]?(x.padding=c.padding.map(r),h=!0):x.padding=r(c.padding));var m=x.columns,y=x.count,v=x.viewport.width,_=x.viewport.height,f=x.viewport.x,S=x.viewport.y,w=v/m,E=_/m;x.passes=[];for(var C=0;C<m;C++)for(var O=0;O<m;O++)if((x.diagonal||O!==C)&&(x.upper||!(C>O))&&(x.lower||!(C<O))){var P=i(x.id,C,O),R=this.passes[P]||(this.passes[P]={});if(c.data&&(c.transpose?R.positions={x:{buffer:x.buffer,offset:O,count:y,stride:m},y:{buffer:x.buffer,offset:C,count:y,stride:m}}:R.positions={x:{buffer:x.buffer,offset:O*y,count:y},y:{buffer:x.buffer,offset:C*y,count:y}},R.bounds=n(x.bounds,C,O)),c.domain||c.viewport||c.data){var j=h?n(x.padding,C,O):x.padding;if(x.domain){var z=n(x.domain,C,O),N=z[0],Y=z[1],F=z[2],U=z[3];R.viewport=[f+N*v+j[0],S+Y*_+j[1],f+F*v-j[2],S+U*_-j[3]]}else R.viewport=[f+O*w+w*j[0],S+C*E+E*j[1],f+(O+1)*w-w*j[2],S+(C+1)*E-E*j[3]]}c.color&&(R.color=x.color),c.size&&(R.size=x.size),c.marker&&(R.marker=x.marker),c.borderSize&&(R.borderSize=x.borderSize),c.borderColor&&(R.borderColor=x.borderColor),c.opacity&&(R.opacity=x.opacity),c.range&&(R.range=d?n(x.range,C,O):x.range||R.bounds),x.passes.push(P)}return this},t.prototype.draw=function(){for(var o,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var d=[],c=0;c<l.length;c++)if("number"==typeof l[c]){var x=this.traces[l[c]],g=x.passes,h=x.passOffset;d.push.apply(d,b(h,h+g.length))}else if(l[c].length){var m=l[c],y=this.traces[c],v=y.passes,_=y.passOffset;v=v.map(function(f,S){d[_+S]=m})}(o=this.scatter).draw.apply(o,d)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(o){o.buffer&&o.buffer.destroy&&o.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(ee){ee.exports=function(){function D(Ne,Ge){this.id=re++,this.type=Ne,this.data=Ge}function e(Ne){if(0===Ne.length)return[];var Ge=Ne.charAt(0),rt=Ne.charAt(Ne.length-1);if(1<Ne.length&&Ge===rt&&('"'===Ge||"'"===Ge))return['"'+Ne.substr(1,Ne.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Ge=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Ne))return e(Ne.substr(0,Ge.index)).concat(e(Ge[1])).concat(e(Ne.substr(Ge.index+Ge[0].length)));if(1===(Ge=Ne.split(".")).length)return['"'+Ne.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Ne=[],rt=0;rt<Ge.length;++rt)Ne=Ne.concat(e(Ge[rt]));return Ne}function M(Ne){return"["+e(Ne).join("][")+"]"}function k(Ne){return"string"==typeof Ne?Ne.split():Ne}function a(Ne){return"string"==typeof Ne?document.querySelector(Ne):Ne}function T(Ne){var Ge,rt,tt,Re,Fe=Ne||{};Ne={};var et=[],We=[],ct=typeof window>"u"?1:window.devicePixelRatio,pt=!1,dt={},ut=function(yt){},kt=function(){};if("string"==typeof Fe?Ge=document.querySelector(Fe):"object"==typeof Fe&&("string"==typeof Fe.nodeName&&"function"==typeof Fe.appendChild&&"function"==typeof Fe.getBoundingClientRect?Ge=Fe:"function"==typeof Fe.drawArrays||"function"==typeof Fe.drawElements?tt=(Re=Fe).canvas:("gl"in Fe?Re=Fe.gl:"canvas"in Fe?tt=a(Fe.canvas):"container"in Fe&&(rt=a(Fe.container)),"attributes"in Fe&&(Ne=Fe.attributes),"extensions"in Fe&&(et=k(Fe.extensions)),"optionalExtensions"in Fe&&(We=k(Fe.optionalExtensions)),"onDone"in Fe&&(ut=Fe.onDone),"profile"in Fe&&(pt=!!Fe.profile),"pixelRatio"in Fe&&(ct=+Fe.pixelRatio),"cachedCode"in Fe&&(dt=Fe.cachedCode))),Ge&&("canvas"===Ge.nodeName.toLowerCase()?tt=Ge:rt=Ge),!Re){if(!tt){if(!(Ge=function(yt,gt,At){function Lt(){var Qt=window.innerWidth,Vt=window.innerHeight;yt!==document.body&&(Qt=(Vt=qt.getBoundingClientRect()).right-Vt.left,Vt=Vt.bottom-Vt.top),qt.width=At*Qt,qt.height=At*Vt}var It,qt=document.createElement("canvas");return Q(qt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),yt.appendChild(qt),yt===document.body&&(qt.style.position="absolute",Q(yt.style,{margin:0,padding:0})),yt!==document.body&&"function"==typeof ResizeObserver?(It=new ResizeObserver(function(){setTimeout(Lt)})).observe(yt):window.addEventListener("resize",Lt,!1),Lt(),{canvas:qt,onDestroy:function(){It?It.disconnect():window.removeEventListener("resize",Lt),yt.removeChild(qt)}}}(rt||document.body,0,ct)))return null;tt=Ge.canvas,kt=Ge.onDestroy}void 0===Ne.premultipliedAlpha&&(Ne.premultipliedAlpha=!0),Re=function(yt,gt){function At(Lt){try{return yt.getContext(Lt,gt)}catch{return null}}return At("webgl")||At("experimental-webgl")||At("webgl-experimental")}(tt,Ne)}return Re?{gl:Re,canvas:tt,container:rt,extensions:et,optionalExtensions:We,pixelRatio:ct,profile:pt,cachedCode:dt,onDone:ut,onDestroy:kt}:(kt(),ut("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function b(Ne,Ge){for(var rt=Array(Ne),tt=0;tt<Ne;++tt)rt[tt]=Ge(tt);return rt}function p(Ne){var Ge,rt;return Ge=(65535<Ne)<<4,Ge|=rt=(255<(Ne>>>=Ge))<<3,(Ge|=rt=(15<(Ne>>>=rt))<<2)|(rt=(3<(Ne>>>=rt))<<1)|Ne>>>rt>>1}function s(){function Ne(tt){e:{for(var Re=16;268435456>=Re;Re*=16)if(tt<=Re){tt=Re;break e}tt=0}return 0<(Re=rt[p(tt)>>2]).length?Re.pop():new ArrayBuffer(tt)}function Ge(tt){rt[p(tt.byteLength)>>2].push(tt)}var rt=b(8,function(){return[]});return{alloc:Ne,free:Ge,allocType:function(tt,Re){var Fe=null;switch(tt){case 5120:Fe=new Int8Array(Ne(Re),0,Re);break;case 5121:Fe=new Uint8Array(Ne(Re),0,Re);break;case 5122:Fe=new Int16Array(Ne(2*Re),0,Re);break;case 5123:Fe=new Uint16Array(Ne(2*Re),0,Re);break;case 5124:Fe=new Int32Array(Ne(4*Re),0,Re);break;case 5125:Fe=new Uint32Array(Ne(4*Re),0,Re);break;case 5126:Fe=new Float32Array(Ne(4*Re),0,Re);break;default:return null}return Fe.length!==Re?Fe.subarray(0,Re):Fe},freeType:function(tt){Ge(tt.buffer)}}}function t(Ne){return!!Ne&&"object"==typeof Ne&&Array.isArray(Ne.shape)&&Array.isArray(Ne.stride)&&"number"==typeof Ne.offset&&Ne.shape.length===Ne.stride.length&&(Array.isArray(Ne.data)||de(Ne.data))}function i(Ne,Ge,rt,tt,Re,Fe){for(var et=0;et<Ge;++et)for(var We=Ne[et],ct=0;ct<rt;++ct)for(var pt=We[ct],dt=0;dt<tt;++dt)Re[Fe++]=pt[dt]}function n(Ne,Ge,rt,tt,Re){for(var Fe=1,et=rt+1;et<Ge.length;++et)Fe*=Ge[et];var We=Ge[rt];if(Ge.length-rt==4){var ct=Ge[rt+1],pt=Ge[rt+2];for(Ge=Ge[rt+3],et=0;et<We;++et)i(Ne[et],ct,pt,Ge,tt,Re),Re+=Fe}else for(et=0;et<We;++et)n(Ne[et],Ge,rt+1,tt,Re),Re+=Fe}function r(Ne){return 0|Ae[Object.prototype.toString.call(Ne)]}function o(Ne,Ge){for(var rt=0;rt<Ge.length;++rt)Ne[rt]=Ge[rt]}function l(Ne,Ge,rt,tt,Re,Fe,et){for(var We=0,ct=0;ct<rt;++ct)for(var pt=0;pt<tt;++pt)Ne[We++]=Ge[Re*ct+Fe*pt+et]}function u(Ne,Ge,rt,tt){function Re(ut){this.id=ct++,this.buffer=Ne.createBuffer(),this.type=ut,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,rt.profile&&(this.stats={size:0})}function Fe(ut,kt,yt){ut.byteLength=kt.byteLength,Ne.bufferData(ut.type,kt,yt)}function et(ut,kt,yt,gt,At,Lt){if(ut.usage=yt,Array.isArray(kt)){if(ut.dtype=gt||5126,0<kt.length)if(Array.isArray(kt[0])){At=ie(kt);for(var It=gt=1;It<At.length;++It)gt*=At[It];ut.dimension=gt,Fe(ut,kt=se(kt,At,ut.dtype),yt),Lt?ut.persistentData=kt:ve.freeType(kt)}else"number"==typeof kt[0]?(ut.dimension=At,o(At=ve.allocType(ut.dtype,kt.length),kt),Fe(ut,At,yt),Lt?ut.persistentData=At:ve.freeType(At)):de(kt[0])&&(ut.dimension=kt[0].length,ut.dtype=gt||r(kt[0])||5126,Fe(ut,kt=se(kt,[kt.length,kt[0].length],ut.dtype),yt),Lt?ut.persistentData=kt:ve.freeType(kt))}else if(de(kt))ut.dtype=gt||r(kt),ut.dimension=At,Fe(ut,kt,yt),Lt&&(ut.persistentData=new Uint8Array(new Uint8Array(kt.buffer)));else if(t(kt)){At=kt.shape;var qt=kt.stride,Qt=(It=kt.offset,0),Vt=0,Ft=0,en=0;1===At.length?(Qt=At[0],Vt=1,Ft=qt[0],en=0):2===At.length&&(Qt=At[0],Vt=At[1],Ft=qt[0],en=qt[1]),ut.dtype=gt||r(kt.data)||5126,ut.dimension=Vt,l(At=ve.allocType(ut.dtype,Qt*Vt),kt.data,Qt,Vt,Ft,en,It),Fe(ut,At,yt),Lt?ut.persistentData=At:ve.freeType(At)}else kt instanceof ArrayBuffer&&(ut.dtype=5121,ut.dimension=At,Fe(ut,kt,yt),Lt&&(ut.persistentData=new Uint8Array(new Uint8Array(kt))))}function We(ut){Ge.bufferCount--,tt(ut),Ne.deleteBuffer(ut.buffer),ut.buffer=null,delete pt[ut.id]}var ct=0,pt={};Re.prototype.bind=function(){Ne.bindBuffer(this.type,this.buffer)},Re.prototype.destroy=function(){We(this)};var dt=[];return rt.profile&&(Ge.getTotalBufferSize=function(){var ut=0;return Object.keys(pt).forEach(function(kt){ut+=pt[kt].stats.size}),ut}),{create:function(ut,kt,yt,gt){function At(It){var qt=35044,Qt=null,Vt=0,Ft=0,en=1;return Array.isArray(It)||de(It)||t(It)||It instanceof ArrayBuffer?Qt=It:"number"==typeof It?Vt=0|It:It&&("data"in It&&(Qt=It.data),"usage"in It&&(qt=we[It.usage]),"type"in It&&(Ft=ye[It.type]),"dimension"in It&&(en=0|It.dimension),"length"in It&&(Vt=0|It.length)),Lt.bind(),Qt?et(Lt,Qt,qt,Ft,en,gt):(Vt&&Ne.bufferData(Lt.type,Vt,qt),Lt.dtype=Ft||5121,Lt.usage=qt,Lt.dimension=en,Lt.byteLength=Vt),rt.profile&&(Lt.stats.size=Lt.byteLength*he[Lt.dtype]),At}Ge.bufferCount++;var Lt=new Re(kt);return pt[Lt.id]=Lt,yt||At(ut),At._reglType="buffer",At._buffer=Lt,At.subdata=function(It,qt){var Qt,Vt=0|(qt||0);if(Lt.bind(),de(It)||It instanceof ArrayBuffer)Ne.bufferSubData(Lt.type,Vt,It);else if(Array.isArray(It)){if(0<It.length)if("number"==typeof It[0]){var Ft=ve.allocType(Lt.dtype,It.length);o(Ft,It),Ne.bufferSubData(Lt.type,Vt,Ft),ve.freeType(Ft)}else(Array.isArray(It[0])||de(It[0]))&&(Qt=ie(It),Ft=se(It,Qt,Lt.dtype),Ne.bufferSubData(Lt.type,Vt,Ft),ve.freeType(Ft))}else if(t(It)){Qt=It.shape;var en=It.stride,wn=Ft=0,kn=0,on=0;1===Qt.length?(Ft=Qt[0],wn=1,kn=en[0],on=0):2===Qt.length&&(Ft=Qt[0],wn=Qt[1],kn=en[0],on=en[1]),Qt=Array.isArray(It.data)?Lt.dtype:r(It.data),l(Qt=ve.allocType(Qt,Ft*wn),It.data,Ft,wn,kn,on,It.offset),Ne.bufferSubData(Lt.type,Vt,Qt),ve.freeType(Qt)}return At},rt.profile&&(At.stats=Lt.stats),At.destroy=function(){We(Lt)},At},createStream:function(ut,kt){var yt=dt.pop();return yt||(yt=new Re(ut)),yt.bind(),et(yt,kt,35040,0,1,!1),yt},destroyStream:function(ut){dt.push(ut)},clear:function(){pe(pt).forEach(We),dt.forEach(We)},getBuffer:function(ut){return ut&&ut._buffer instanceof Re?ut._buffer:null},restore:function(){pe(pt).forEach(function(ut){ut.buffer=Ne.createBuffer(),Ne.bindBuffer(ut.type,ut.buffer),Ne.bufferData(ut.type,ut.persistentData||ut.byteLength,ut.usage)})},_initBuffer:et}}function d(Ne,Ge,rt,tt){function Re(ut){this.id=ct++,We[this.id]=this,this.buffer=ut,this.primType=4,this.type=this.vertCount=0}function Fe(ut,kt,yt,gt,At,Lt,It){var qt;if(ut.buffer.bind(),kt?((qt=It)||de(kt)&&(!t(kt)||de(kt.data))||(qt=Ge.oes_element_index_uint?5125:5123),rt._initBuffer(ut.buffer,kt,yt,qt,3)):(Ne.bufferData(34963,Lt,yt),ut.buffer.dtype=qt||5121,ut.buffer.usage=yt,ut.buffer.dimension=3,ut.buffer.byteLength=Lt),qt=It,!It){switch(ut.buffer.dtype){case 5121:case 5120:qt=5121;break;case 5123:case 5122:qt=5123;break;case 5125:case 5124:qt=5125}ut.buffer.dtype=qt}ut.type=qt,0>(kt=At)&&(kt=ut.buffer.byteLength,5123===qt?kt>>=1:5125===qt&&(kt>>=2)),ut.vertCount=kt,kt=gt,0>gt&&(kt=4,1===(gt=ut.buffer.dimension)&&(kt=0),2===gt&&(kt=1),3===gt&&(kt=4)),ut.primType=kt}function et(ut){tt.elementsCount--,delete We[ut.id],ut.buffer.destroy(),ut.buffer=null}var We={},ct=0,pt={uint8:5121,uint16:5123};Ge.oes_element_index_uint&&(pt.uint32=5125),Re.prototype.bind=function(){this.buffer.bind()};var dt=[];return{create:function(ut,kt){function yt(Lt){if(Lt)if("number"==typeof Lt)gt(Lt),At.primType=4,At.vertCount=0|Lt,At.type=5121;else{var It=null,qt=35044,Qt=-1,Vt=-1,Ft=0,en=0;Array.isArray(Lt)||de(Lt)||t(Lt)?It=Lt:("data"in Lt&&(It=Lt.data),"usage"in Lt&&(qt=we[Lt.usage]),"primitive"in Lt&&(Qt=Se[Lt.primitive]),"count"in Lt&&(Vt=0|Lt.count),"type"in Lt&&(en=pt[Lt.type]),"length"in Lt?Ft=0|Lt.length:(Ft=Vt,5123===en||5122===en?Ft*=2:5125!==en&&5124!==en||(Ft*=4))),Fe(At,It,qt,Qt,Vt,Ft,en)}else gt(),At.primType=4,At.vertCount=0,At.type=5121;return yt}var gt=rt.create(null,34963,!0),At=new Re(gt._buffer);return tt.elementsCount++,yt(ut),yt._reglType="elements",yt._elements=At,yt.subdata=function(Lt,It){return gt.subdata(Lt,It),yt},yt.destroy=function(){et(At)},yt},createStream:function(ut){var kt=dt.pop();return kt||(kt=new Re(rt.create(null,34963,!0,!1)._buffer)),Fe(kt,ut,35040,-1,-1,0,0),kt},destroyStream:function(ut){dt.push(ut)},getElements:function(ut){return"function"==typeof ut&&ut._elements instanceof Re?ut._elements:null},clear:function(){pe(We).forEach(et)}}}function c(Ne){for(var Ge=ve.allocType(5123,Ne.length),rt=0;rt<Ne.length;++rt)if(isNaN(Ne[rt]))Ge[rt]=65535;else if(Ne[rt]===1/0)Ge[rt]=31744;else if(Ne[rt]===-1/0)Ge[rt]=64512;else{_e[0]=Ne[rt];var tt=(Fe=Me[0])>>>31<<15,Re=(Fe<<1>>>24)-127,Fe=Fe>>13&1023;Ge[rt]=-24>Re?tt:-14>Re?tt+(Fe+1024>>-14-Re):15<Re?tt+31744:tt+(Re+15<<10)+Fe}return Ge}function x(Ne){return Array.isArray(Ne)||de(Ne)}function g(Ne){return"[object "+Ne+"]"}function h(Ne){return Array.isArray(Ne)&&(0===Ne.length||"number"==typeof Ne[0])}function m(Ne){return!(!Array.isArray(Ne)||0===Ne.length||!x(Ne[0]))}function y(Ne){return Object.prototype.toString.call(Ne)}function v(Ne){if(!Ne)return!1;var Ge=y(Ne);return 0<=Ve.indexOf(Ge)||h(Ne)||m(Ne)||t(Ne)}function _(Ne,Ge){36193===Ne.type?(Ne.data=c(Ge),ve.freeType(Ge)):Ne.data=Ge}function f(Ne,Ge,rt,tt,Re,Fe){if(Ne=void 0!==at[Ne]?at[Ne]:fe[Ne]*Xe[Ge],Fe&&(Ne*=6),Re){for(tt=0;1<=rt;)tt+=Ne*rt*rt,rt/=2;return tt}return Ne*rt*tt}function S(Ne,Ge,rt,tt,Re,Fe,et){function We(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function ct(Yt,gn){Yt.internalformat=gn.internalformat,Yt.format=gn.format,Yt.type=gn.type,Yt.compressed=gn.compressed,Yt.premultiplyAlpha=gn.premultiplyAlpha,Yt.flipY=gn.flipY,Yt.unpackAlignment=gn.unpackAlignment,Yt.colorSpace=gn.colorSpace,Yt.width=gn.width,Yt.height=gn.height,Yt.channels=gn.channels}function pt(Yt,gn){if("object"==typeof gn&&gn){"premultiplyAlpha"in gn&&(Yt.premultiplyAlpha=gn.premultiplyAlpha),"flipY"in gn&&(Yt.flipY=gn.flipY),"alignment"in gn&&(Yt.unpackAlignment=gn.alignment),"colorSpace"in gn&&(Yt.colorSpace=An[gn.colorSpace]),"type"in gn&&(Yt.type=vn[gn.type]);var Ct=Yt.width,Zt=Yt.height,$t=Yt.channels,dn=!1;"shape"in gn?(Ct=gn.shape[0],Zt=gn.shape[1],3===gn.shape.length&&($t=gn.shape[2],dn=!0)):("radius"in gn&&(Ct=Zt=gn.radius),"width"in gn&&(Ct=gn.width),"height"in gn&&(Zt=gn.height),"channels"in gn&&($t=gn.channels,dn=!0)),Yt.width=0|Ct,Yt.height=0|Zt,Yt.channels=0|$t,Ct=!1,"format"in gn&&(Ct=gn.format,Zt=Yt.internalformat=On[Ct],Yt.format=un[Zt],Ct in vn&&!("type"in gn)&&(Yt.type=vn[Ct]),Ct in Bn&&(Yt.compressed=!0),Ct=!0),!dn&&Ct?Yt.channels=fe[Yt.format]:dn&&!Ct&&Yt.channels!==Ie[Yt.format]&&(Yt.format=Yt.internalformat=Ie[Yt.channels])}}function dt(Yt){Ne.pixelStorei(37440,Yt.flipY),Ne.pixelStorei(37441,Yt.premultiplyAlpha),Ne.pixelStorei(37443,Yt.colorSpace),Ne.pixelStorei(3317,Yt.unpackAlignment)}function ut(){We.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function kt(Yt,gn){var Ct=null;if(v(gn)?Ct=gn:gn&&(pt(Yt,gn),"x"in gn&&(Yt.xOffset=0|gn.x),"y"in gn&&(Yt.yOffset=0|gn.y),v(gn.data)&&(Ct=gn.data)),gn.copy){var Zt=Re.viewportWidth,$t=Re.viewportHeight;Yt.width=Yt.width||Zt-Yt.xOffset,Yt.height=Yt.height||$t-Yt.yOffset,Yt.needsCopy=!0}else if(Ct){if(de(Ct))Yt.channels=Yt.channels||4,Yt.data=Ct,"type"in gn||5121!==Yt.type||(Yt.type=0|Ae[Object.prototype.toString.call(Ct)]);else if(h(Ct)){switch(Yt.channels=Yt.channels||4,$t=(Zt=Ct).length,Yt.type){case 5121:case 5123:case 5125:case 5126:($t=ve.allocType(Yt.type,$t)).set(Zt),Yt.data=$t;break;case 36193:Yt.data=c(Zt)}Yt.alignment=1,Yt.needsFree=!0}else if(t(Ct)){Zt=Ct.data,Array.isArray(Zt)||5121!==Yt.type||(Yt.type=0|Ae[Object.prototype.toString.call(Zt)]),$t=Ct.shape;var dn,yn,Sn,ln,Wt=Ct.stride;3===$t.length?(Sn=$t[2],ln=Wt[2]):ln=Sn=1,dn=$t[0],yn=$t[1],$t=Wt[0],Wt=Wt[1],Yt.alignment=1,Yt.width=dn,Yt.height=yn,Yt.channels=Sn,Yt.format=Yt.internalformat=Ie[Sn],Yt.needsFree=!0,dn=ln,Ct=Ct.offset,Sn=Yt.width,ln=Yt.height,yn=Yt.channels;for(var Xt=ve.allocType(36193===Yt.type?5126:Yt.type,Sn*ln*yn),sn=0,cn=0;cn<ln;++cn)for(var Ln=0;Ln<Sn;++Ln)for(var Pn=0;Pn<yn;++Pn)Xt[sn++]=Zt[$t*Ln+Wt*cn+dn*Pn+Ct];_(Yt,Xt)}else if(y(Ct)===xe||y(Ct)===Te||y(Ct)===Ce)y(Ct)===xe||y(Ct)===Te?Yt.element=Ct:Yt.element=Ct.canvas,Yt.width=Yt.element.width,Yt.height=Yt.element.height,Yt.channels=4;else if(y(Ct)===De)Yt.element=Ct,Yt.width=Ct.width,Yt.height=Ct.height,Yt.channels=4;else if(y(Ct)===ze)Yt.element=Ct,Yt.width=Ct.naturalWidth,Yt.height=Ct.naturalHeight,Yt.channels=4;else if(y(Ct)===Ue)Yt.element=Ct,Yt.width=Ct.videoWidth,Yt.height=Ct.videoHeight,Yt.channels=4;else if(m(Ct)){for(Zt=Yt.width||Ct[0].length,$t=Yt.height||Ct.length,Wt=Yt.channels,Wt=x(Ct[0][0])?Wt||Ct[0][0].length:Wt||1,dn=ge.shape(Ct),Sn=1,ln=0;ln<dn.length;++ln)Sn*=dn[ln];Sn=ve.allocType(36193===Yt.type?5126:Yt.type,Sn),ge.flatten(Ct,dn,"",Sn),_(Yt,Sn),Yt.alignment=1,Yt.width=Zt,Yt.height=$t,Yt.channels=Wt,Yt.format=Yt.internalformat=Ie[Wt],Yt.needsFree=!0}}else Yt.width=Yt.width||1,Yt.height=Yt.height||1,Yt.channels=Yt.channels||4}function yt(Yt,gn,Ct,Zt,$t){var dn=Yt.element,yn=Yt.data,Sn=Yt.internalformat,ln=Yt.format,Wt=Yt.type,Xt=Yt.width,sn=Yt.height;dt(Yt),dn?Ne.texSubImage2D(gn,$t,Ct,Zt,ln,Wt,dn):Yt.compressed?Ne.compressedTexSubImage2D(gn,$t,Ct,Zt,Sn,Xt,sn,yn):Yt.needsCopy?(tt(),Ne.copyTexSubImage2D(gn,$t,Ct,Zt,Yt.xOffset,Yt.yOffset,Xt,sn)):Ne.texSubImage2D(gn,$t,Ct,Zt,Xt,sn,ln,Wt,yn)}function gt(){return fn.pop()||new ut}function At(Yt){Yt.needsFree&&ve.freeType(Yt.data),ut.call(Yt),fn.push(Yt)}function Lt(){We.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function It(Yt,gn,Ct){var Zt=Yt.images[0]=gt();Yt.mipmask=1,Zt.width=Yt.width=gn,Zt.height=Yt.height=Ct,Zt.channels=Yt.channels=4}function qt(Yt,gn){var Ct=null;if(v(gn))ct(Ct=Yt.images[0]=gt(),Yt),kt(Ct,gn),Yt.mipmask=1;else if(pt(Yt,gn),Array.isArray(gn.mipmap))for(var Zt=gn.mipmap,$t=0;$t<Zt.length;++$t)ct(Ct=Yt.images[$t]=gt(),Yt),Ct.width>>=$t,Ct.height>>=$t,kt(Ct,Zt[$t]),Yt.mipmask|=1<<$t;else ct(Ct=Yt.images[0]=gt(),Yt),kt(Ct,gn),Yt.mipmask=1;ct(Yt,Yt.images[0])}function Qt(Yt,gn){for(var Ct=Yt.images,Zt=0;Zt<Ct.length&&Ct[Zt];++Zt){var $t=Ct[Zt],dn=gn,yn=Zt,Sn=$t.element,ln=$t.data,Wt=$t.internalformat,Xt=$t.format,sn=$t.type,cn=$t.width,Ln=$t.height;dt($t),Sn?Ne.texImage2D(dn,yn,Xt,Xt,sn,Sn):$t.compressed?Ne.compressedTexImage2D(dn,yn,Wt,cn,Ln,0,ln):$t.needsCopy?(tt(),Ne.copyTexImage2D(dn,yn,Xt,$t.xOffset,$t.yOffset,cn,Ln,0)):Ne.texImage2D(dn,yn,Xt,cn,Ln,0,Xt,sn,ln||null)}}function Vt(){var Yt=Mn.pop()||new Lt;We.call(Yt);for(var gn=Yt.mipmask=0;16>gn;++gn)Yt.images[gn]=null;return Yt}function Ft(Yt){for(var gn=Yt.images,Ct=0;Ct<gn.length;++Ct)gn[Ct]&&At(gn[Ct]),gn[Ct]=null;Mn.push(Yt)}function en(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function wn(Yt,gn){"min"in gn&&(Yt.minFilter=mn[gn.min],0<=Ee.indexOf(Yt.minFilter)&&!("faces"in gn)&&(Yt.genMipmaps=!0)),"mag"in gn&&(Yt.magFilter=_n[gn.mag]);var Ct=Yt.wrapS,Zt=Yt.wrapT;if("wrap"in gn){var $t=gn.wrap;"string"==typeof $t?Ct=Zt=xn[$t]:Array.isArray($t)&&(Ct=xn[$t[0]],Zt=xn[$t[1]])}else"wrapS"in gn&&(Ct=xn[gn.wrapS]),"wrapT"in gn&&(Zt=xn[gn.wrapT]);if(Yt.wrapS=Ct,Yt.wrapT=Zt,"anisotropic"in gn&&(Yt.anisotropic=gn.anisotropic),"mipmap"in gn){switch(Ct=!1,typeof gn.mipmap){case"string":Yt.mipmapHint=an[gn.mipmap],Ct=Yt.genMipmaps=!0;break;case"boolean":Ct=Yt.genMipmaps=gn.mipmap;break;case"object":Yt.genMipmaps=!1,Ct=!0}!Ct||"min"in gn||(Yt.minFilter=9984)}}function kn(Yt,gn){Ne.texParameteri(gn,10241,Yt.minFilter),Ne.texParameteri(gn,10240,Yt.magFilter),Ne.texParameteri(gn,10242,Yt.wrapS),Ne.texParameteri(gn,10243,Yt.wrapT),Ge.ext_texture_filter_anisotropic&&Ne.texParameteri(gn,34046,Yt.anisotropic),Yt.genMipmaps&&(Ne.hint(33170,Yt.mipmapHint),Ne.generateMipmap(gn))}function on(Yt){We.call(this),this.mipmask=0,this.internalformat=6408,this.id=Fn++,this.refCount=1,this.target=Yt,this.texture=Ne.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new en,et.profile&&(this.stats={size:0})}function Ht(Yt){Ne.activeTexture(33984),Ne.bindTexture(Yt.target,Yt.texture)}function nn(){var Yt=Jn[0];Yt?Ne.bindTexture(Yt.target,Yt.texture):Ne.bindTexture(3553,null)}function Kt(Yt){var gn=Yt.texture,Ct=Yt.unit,Zt=Yt.target;0<=Ct&&(Ne.activeTexture(33984+Ct),Ne.bindTexture(Zt,null),Jn[Ct]=null),Ne.deleteTexture(gn),Yt.texture=null,Yt.params=null,Yt.pixels=null,Yt.refCount=0,delete In[Yt.id],Fe.textureCount--}var an={"don't care":4352,"dont care":4352,nice:4354,fast:4353},xn={repeat:10497,clamp:33071,mirror:33648},_n={nearest:9728,linear:9729},mn=Q({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},_n),An={none:0,browser:37444},vn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},On={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Bn={};Ge.ext_srgb&&(On.srgb=35904,On.srgba=35906),Ge.oes_texture_float&&(vn.float32=vn.float=5126),Ge.oes_texture_half_float&&(vn.float16=vn["half float"]=36193),Ge.webgl_depth_texture&&(Q(On,{depth:6402,"depth stencil":34041}),Q(vn,{uint16:5123,uint32:5125,"depth stencil":34042})),Ge.webgl_compressed_texture_s3tc&&Q(Bn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Ge.webgl_compressed_texture_atc&&Q(Bn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Ge.webgl_compressed_texture_pvrtc&&Q(Bn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Ge.webgl_compressed_texture_etc1&&(Bn["rgb etc1"]=36196);var er=Array.prototype.slice.call(Ne.getParameter(34467));Object.keys(Bn).forEach(function(Yt){var gn=Bn[Yt];0<=er.indexOf(gn)&&(On[Yt]=gn)});var or=Object.keys(On);rt.textureFormats=or;var $n=[];Object.keys(On).forEach(function(Yt){$n[On[Yt]]=Yt});var qn=[];Object.keys(vn).forEach(function(Yt){qn[vn[Yt]]=Yt});var cr=[];Object.keys(_n).forEach(function(Yt){cr[_n[Yt]]=Yt});var Nt=[];Object.keys(mn).forEach(function(Yt){Nt[mn[Yt]]=Yt});var Jt=[];Object.keys(xn).forEach(function(Yt){Jt[xn[Yt]]=Yt});var un=or.reduce(function(Yt,gn){var Ct=On[gn];return 6409===Ct||6406===Ct||6409===Ct||6410===Ct||6402===Ct||34041===Ct||Ge.ext_srgb&&(35904===Ct||35906===Ct)?Yt[Ct]=Ct:32855===Ct||0<=gn.indexOf("rgba")?Yt[Ct]=6408:Yt[Ct]=6407,Yt},{}),fn=[],Mn=[],Fn=0,In={},Rn=rt.maxTextureUnits,Jn=Array(Rn).map(function(){return null});return Q(on.prototype,{bind:function(){this.bindCount+=1;var Yt=this.unit;if(0>Yt){for(var gn=0;gn<Rn;++gn){var Ct=Jn[gn];if(Ct){if(0<Ct.bindCount)continue;Ct.unit=-1}Jn[gn]=this,Yt=gn;break}et.profile&&Fe.maxTextureUnits<Yt+1&&(Fe.maxTextureUnits=Yt+1),this.unit=Yt,Ne.activeTexture(33984+Yt),Ne.bindTexture(this.target,this.texture)}return Yt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&Kt(this)}}),et.profile&&(Fe.getTotalTextureSize=function(){var Yt=0;return Object.keys(In).forEach(function(gn){Yt+=In[gn].stats.size}),Yt}),{create2D:function(Yt,gn){function Ct($t,dn){var yn=Zt.texInfo;en.call(yn);var Sn=Vt();return"number"==typeof $t?It(Sn,0|$t,"number"==typeof dn?0|dn:0|$t):$t?(wn(yn,$t),qt(Sn,$t)):It(Sn,1,1),yn.genMipmaps&&(Sn.mipmask=(Sn.width<<1)-1),Zt.mipmask=Sn.mipmask,ct(Zt,Sn),Zt.internalformat=Sn.internalformat,Ct.width=Sn.width,Ct.height=Sn.height,Ht(Zt),Qt(Sn,3553),kn(yn,3553),nn(),Ft(Sn),et.profile&&(Zt.stats.size=f(Zt.internalformat,Zt.type,Sn.width,Sn.height,yn.genMipmaps,!1)),Ct.format=$n[Zt.internalformat],Ct.type=qn[Zt.type],Ct.mag=cr[yn.magFilter],Ct.min=Nt[yn.minFilter],Ct.wrapS=Jt[yn.wrapS],Ct.wrapT=Jt[yn.wrapT],Ct}var Zt=new on(3553);return In[Zt.id]=Zt,Fe.textureCount++,Ct(Yt,gn),Ct.subimage=function($t,dn,yn,Sn){dn|=0,yn|=0,Sn|=0;var ln=gt();return ct(ln,Zt),ln.width=0,ln.height=0,kt(ln,$t),ln.width=ln.width||(Zt.width>>Sn)-dn,ln.height=ln.height||(Zt.height>>Sn)-yn,Ht(Zt),yt(ln,3553,dn,yn,Sn),nn(),At(ln),Ct},Ct.resize=function($t,dn){var yn=0|$t,Sn=0|dn||yn;if(yn===Zt.width&&Sn===Zt.height)return Ct;Ct.width=Zt.width=yn,Ct.height=Zt.height=Sn,Ht(Zt);for(var ln=0;Zt.mipmask>>ln;++ln){var Wt=yn>>ln,Xt=Sn>>ln;if(!Wt||!Xt)break;Ne.texImage2D(3553,ln,Zt.format,Wt,Xt,0,Zt.format,Zt.type,null)}return nn(),et.profile&&(Zt.stats.size=f(Zt.internalformat,Zt.type,yn,Sn,!1,!1)),Ct},Ct._reglType="texture2d",Ct._texture=Zt,et.profile&&(Ct.stats=Zt.stats),Ct.destroy=function(){Zt.decRef()},Ct},createCube:function(Yt,gn,Ct,Zt,$t,dn){function yn(Wt,Xt,sn,cn,Ln,Pn){var Vn,Un=Sn.texInfo;for(en.call(Un),Vn=0;6>Vn;++Vn)ln[Vn]=Vt();if("number"!=typeof Wt&&Wt){if("object"==typeof Wt)if(Xt)qt(ln[0],Wt),qt(ln[1],Xt),qt(ln[2],sn),qt(ln[3],cn),qt(ln[4],Ln),qt(ln[5],Pn);else if(wn(Un,Wt),pt(Sn,Wt),"faces"in Wt)for(Wt=Wt.faces,Vn=0;6>Vn;++Vn)ct(ln[Vn],Sn),qt(ln[Vn],Wt[Vn]);else for(Vn=0;6>Vn;++Vn)qt(ln[Vn],Wt)}else for(Wt=0|Wt||1,Vn=0;6>Vn;++Vn)It(ln[Vn],Wt,Wt);for(ct(Sn,ln[0]),Sn.mipmask=Un.genMipmaps?(ln[0].width<<1)-1:ln[0].mipmask,Sn.internalformat=ln[0].internalformat,yn.width=ln[0].width,yn.height=ln[0].height,Ht(Sn),Vn=0;6>Vn;++Vn)Qt(ln[Vn],34069+Vn);for(kn(Un,34067),nn(),et.profile&&(Sn.stats.size=f(Sn.internalformat,Sn.type,yn.width,yn.height,Un.genMipmaps,!0)),yn.format=$n[Sn.internalformat],yn.type=qn[Sn.type],yn.mag=cr[Un.magFilter],yn.min=Nt[Un.minFilter],yn.wrapS=Jt[Un.wrapS],yn.wrapT=Jt[Un.wrapT],Vn=0;6>Vn;++Vn)Ft(ln[Vn]);return yn}var Sn=new on(34067);In[Sn.id]=Sn,Fe.cubeCount++;var ln=Array(6);return yn(Yt,gn,Ct,Zt,$t,dn),yn.subimage=function(Wt,Xt,sn,cn,Ln){sn|=0,cn|=0,Ln|=0;var Pn=gt();return ct(Pn,Sn),Pn.width=0,Pn.height=0,kt(Pn,Xt),Pn.width=Pn.width||(Sn.width>>Ln)-sn,Pn.height=Pn.height||(Sn.height>>Ln)-cn,Ht(Sn),yt(Pn,34069+Wt,sn,cn,Ln),nn(),At(Pn),yn},yn.resize=function(Wt){if((Wt|=0)!==Sn.width){yn.width=Sn.width=Wt,yn.height=Sn.height=Wt,Ht(Sn);for(var Xt=0;6>Xt;++Xt)for(var sn=0;Sn.mipmask>>sn;++sn)Ne.texImage2D(34069+Xt,sn,Sn.format,Wt>>sn,Wt>>sn,0,Sn.format,Sn.type,null);return nn(),et.profile&&(Sn.stats.size=f(Sn.internalformat,Sn.type,yn.width,yn.height,!1,!0)),yn}},yn._reglType="textureCube",yn._texture=Sn,et.profile&&(yn.stats=Sn.stats),yn.destroy=function(){Sn.decRef()},yn},clear:function(){for(var Yt=0;Yt<Rn;++Yt)Ne.activeTexture(33984+Yt),Ne.bindTexture(3553,null),Jn[Yt]=null;pe(In).forEach(Kt),Fe.cubeCount=0,Fe.textureCount=0},getTexture:function(Yt){return null},restore:function(){for(var Yt=0;Yt<Rn;++Yt){var gn=Jn[Yt];gn&&(gn.bindCount=0,gn.unit=-1,Jn[Yt]=null)}pe(In).forEach(function(Ct){Ct.texture=Ne.createTexture(),Ne.bindTexture(Ct.target,Ct.texture);for(var Zt=0;32>Zt;++Zt)if(Ct.mipmask&1<<Zt)if(3553===Ct.target)Ne.texImage2D(3553,Zt,Ct.internalformat,Ct.width>>Zt,Ct.height>>Zt,0,Ct.internalformat,Ct.type,null);else for(var $t=0;6>$t;++$t)Ne.texImage2D(34069+$t,Zt,Ct.internalformat,Ct.width>>Zt,Ct.height>>Zt,0,Ct.internalformat,Ct.type,null);kn(Ct.texInfo,Ct.target)})},refresh:function(){for(var Yt=0;Yt<Rn;++Yt){var gn=Jn[Yt];gn&&(gn.bindCount=0,gn.unit=-1,Jn[Yt]=null),Ne.activeTexture(33984+Yt),Ne.bindTexture(3553,null),Ne.bindTexture(34067,null)}}}}function w(Ne,Ge,rt,tt,Re,Fe){function et(on,Ht,nn){this.target=on,this.texture=Ht,this.renderbuffer=nn;var Kt=on=0;Ht?(on=Ht.width,Kt=Ht.height):nn&&(on=nn.width,Kt=nn.height),this.width=on,this.height=Kt}function We(on){on&&(on.texture&&on.texture._texture.decRef(),on.renderbuffer&&on.renderbuffer._renderbuffer.decRef())}function ct(on,Ht,nn){on&&(on.texture?on.texture._texture.refCount+=1:on.renderbuffer._renderbuffer.refCount+=1)}function pt(on,Ht){Ht&&(Ht.texture?Ne.framebufferTexture2D(36160,on,Ht.target,Ht.texture._texture.texture,0):Ne.framebufferRenderbuffer(36160,on,36161,Ht.renderbuffer._renderbuffer.renderbuffer))}function dt(on){var Ht=3553,nn=null,Kt=null,an=on;return"object"==typeof on&&(an=on.data,"target"in on&&(Ht=0|on.target)),"texture2d"===(on=an._reglType)||"textureCube"===on?nn=an:"renderbuffer"===on&&(Kt=an,Ht=36161),new et(Ht,nn,Kt)}function ut(on,Ht,nn,Kt,an){return nn?((on=tt.create2D({width:on,height:Ht,format:Kt,type:an}))._texture.refCount=0,new et(3553,on,null)):((on=Re.create({width:on,height:Ht,format:Kt}))._renderbuffer.refCount=0,new et(36161,null,on))}function kt(on){return on&&(on.texture||on.renderbuffer)}function yt(on,Ht,nn){on&&(on.texture?on.texture.resize(Ht,nn):on.renderbuffer&&on.renderbuffer.resize(Ht,nn),on.width=Ht,on.height=nn)}function gt(){this.id=wn++,kn[this.id]=this,this.framebuffer=Ne.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function At(on){on.colorAttachments.forEach(We),We(on.depthAttachment),We(on.stencilAttachment),We(on.depthStencilAttachment)}function Lt(on){Ne.deleteFramebuffer(on.framebuffer),on.framebuffer=null,Fe.framebufferCount--,delete kn[on.id]}function It(on){var Ht;Ne.bindFramebuffer(36160,on.framebuffer);var nn=on.colorAttachments;for(Ht=0;Ht<nn.length;++Ht)pt(36064+Ht,nn[Ht]);for(Ht=nn.length;Ht<rt.maxColorAttachments;++Ht)Ne.framebufferTexture2D(36160,36064+Ht,3553,null,0);Ne.framebufferTexture2D(36160,33306,3553,null,0),Ne.framebufferTexture2D(36160,36096,3553,null,0),Ne.framebufferTexture2D(36160,36128,3553,null,0),pt(36096,on.depthAttachment),pt(36128,on.stencilAttachment),pt(33306,on.depthStencilAttachment),Ne.checkFramebufferStatus(36160),Ne.isContextLost(),Ne.bindFramebuffer(36160,Qt.next?Qt.next.framebuffer:null),Qt.cur=Qt.next,Ne.getError()}function qt(on,Ht){function nn(an,xn){var _n,mn=0,An=0,vn=!0,On=!0;_n=null;var Bn=!0,er="rgba",or="uint8",$n=1,qn=null,cr=null,Nt=null,Jt=!1;"number"==typeof an?(mn=0|an,An=0|xn||mn):an?("shape"in an?(mn=(An=an.shape)[0],An=An[1]):("radius"in an&&(mn=An=an.radius),"width"in an&&(mn=an.width),"height"in an&&(An=an.height)),("color"in an||"colors"in an)&&(_n=an.color||an.colors,Array.isArray(_n)),_n||("colorCount"in an&&($n=0|an.colorCount),"colorTexture"in an&&(Bn=!!an.colorTexture,er="rgba4"),"colorType"in an&&(or=an.colorType,!Bn)&&("half float"===or||"float16"===or?er="rgba16f":"float"!==or&&"float32"!==or||(er="rgba32f")),"colorFormat"in an&&(er=an.colorFormat,0<=Vt.indexOf(er)?Bn=!0:0<=Ft.indexOf(er)&&(Bn=!1))),("depthTexture"in an||"depthStencilTexture"in an)&&(Jt=!(!an.depthTexture&&!an.depthStencilTexture)),"depth"in an&&("boolean"==typeof an.depth?vn=an.depth:(qn=an.depth,On=!1)),"stencil"in an&&("boolean"==typeof an.stencil?On=an.stencil:(cr=an.stencil,vn=!1)),"depthStencil"in an&&("boolean"==typeof an.depthStencil?vn=On=an.depthStencil:(Nt=an.depthStencil,On=vn=!1))):mn=An=1;var un=null,fn=null,Mn=null,Fn=null;if(Array.isArray(_n))un=_n.map(dt);else if(_n)un=[dt(_n)];else for(un=Array($n),_n=0;_n<$n;++_n)un[_n]=ut(mn,An,Bn,er,or);for(mn=mn||un[0].width,An=An||un[0].height,qn?fn=dt(qn):vn&&!On&&(fn=ut(mn,An,Jt,"depth","uint32")),cr?Mn=dt(cr):On&&!vn&&(Mn=ut(mn,An,!1,"stencil","uint8")),Nt?Fn=dt(Nt):!qn&&!cr&&On&&vn&&(Fn=ut(mn,An,Jt,"depth stencil","depth stencil")),vn=null,_n=0;_n<un.length;++_n)ct(un[_n]),un[_n]&&un[_n].texture&&(On=bt[un[_n].texture._texture.format]*vt[un[_n].texture._texture.type],null===vn&&(vn=On));return ct(fn),ct(Mn),ct(Fn),At(Kt),Kt.width=mn,Kt.height=An,Kt.colorAttachments=un,Kt.depthAttachment=fn,Kt.stencilAttachment=Mn,Kt.depthStencilAttachment=Fn,nn.color=un.map(kt),nn.depth=kt(fn),nn.stencil=kt(Mn),nn.depthStencil=kt(Fn),nn.width=Kt.width,nn.height=Kt.height,It(Kt),nn}var Kt=new gt;return Fe.framebufferCount++,nn(on,Ht),Q(nn,{resize:function(an,xn){var _n=Math.max(0|an,1),mn=Math.max(0|xn||_n,1);if(_n===Kt.width&&mn===Kt.height)return nn;for(var An=Kt.colorAttachments,vn=0;vn<An.length;++vn)yt(An[vn],_n,mn);return yt(Kt.depthAttachment,_n,mn),yt(Kt.stencilAttachment,_n,mn),yt(Kt.depthStencilAttachment,_n,mn),Kt.width=nn.width=_n,Kt.height=nn.height=mn,It(Kt),nn},_reglType:"framebuffer",_framebuffer:Kt,destroy:function(){Lt(Kt),At(Kt)},use:function(an){Qt.setFBO({framebuffer:nn},an)}})}var Qt={cur:null,next:null,dirty:!1,setFBO:null},Vt=["rgba"],Ft=["rgba4","rgb565","rgb5 a1"];Ge.ext_srgb&&Ft.push("srgba"),Ge.ext_color_buffer_half_float&&Ft.push("rgba16f","rgb16f"),Ge.webgl_color_buffer_float&&Ft.push("rgba32f");var en=["uint8"];Ge.oes_texture_half_float&&en.push("half float","float16"),Ge.oes_texture_float&&en.push("float","float32");var wn=0,kn={};return Q(Qt,{getFramebuffer:function(on){return"function"==typeof on&&"framebuffer"===on._reglType&&(on=on._framebuffer)instanceof gt?on:null},create:qt,createCube:function(on){function Ht(Kt){var an,xn={color:null},_n=0,mn=null;an="rgba";var An="uint8",vn=1;if("number"==typeof Kt?_n=0|Kt:Kt?("shape"in Kt?_n=Kt.shape[0]:("radius"in Kt&&(_n=0|Kt.radius),"width"in Kt?_n=0|Kt.width:"height"in Kt&&(_n=0|Kt.height)),("color"in Kt||"colors"in Kt)&&(mn=Kt.color||Kt.colors,Array.isArray(mn)),mn||("colorCount"in Kt&&(vn=0|Kt.colorCount),"colorType"in Kt&&(An=Kt.colorType),"colorFormat"in Kt&&(an=Kt.colorFormat)),"depth"in Kt&&(xn.depth=Kt.depth),"stencil"in Kt&&(xn.stencil=Kt.stencil),"depthStencil"in Kt&&(xn.depthStencil=Kt.depthStencil)):_n=1,mn)if(Array.isArray(mn))for(Kt=[],an=0;an<mn.length;++an)Kt[an]=mn[an];else Kt=[mn];else for(Kt=Array(vn),mn={radius:_n,format:an,type:An},an=0;an<vn;++an)Kt[an]=tt.createCube(mn);for(xn.color=Array(Kt.length),an=0;an<Kt.length;++an)vn=Kt[an],_n=_n||vn.width,xn.color[an]={target:34069,data:Kt[an]};for(an=0;6>an;++an){for(vn=0;vn<Kt.length;++vn)xn.color[vn].target=34069+an;0<an&&(xn.depth=nn[0].depth,xn.stencil=nn[0].stencil,xn.depthStencil=nn[0].depthStencil),nn[an]?nn[an](xn):nn[an]=qt(xn)}return Q(Ht,{width:_n,height:_n,color:Kt})}var nn=Array(6);return Ht(on),Q(Ht,{faces:nn,resize:function(Kt){var an=0|Kt;if(an===Ht.width)return Ht;var xn=Ht.color;for(Kt=0;Kt<xn.length;++Kt)xn[Kt].resize(an);for(Kt=0;6>Kt;++Kt)nn[Kt].resize(an);return Ht.width=Ht.height=an,Ht},_reglType:"framebufferCube",destroy:function(){nn.forEach(function(Kt){Kt.destroy()})}})},clear:function(){pe(kn).forEach(Lt)},restore:function(){Qt.cur=null,Qt.next=null,Qt.dirty=!0,pe(kn).forEach(function(on){on.framebuffer=Ne.createFramebuffer(),It(on)})}})}function E(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function C(Ne,Ge,rt,tt,Re,Fe,et){function We(){this.id=++dt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var yt=Ge.oes_vertex_array_object;this.vao=yt?yt.createVertexArrayOES():null,ut[this.id]=this,this.buffers=[]}var ct=rt.maxAttributes,pt=Array(ct);for(rt=0;rt<ct;++rt)pt[rt]=new E;var dt=0,ut={},kt={Record:E,scope:{},state:pt,currentVAO:null,targetVAO:null,restore:Ge.oes_vertex_array_object?function(){Ge.oes_vertex_array_object&&pe(ut).forEach(function(yt){yt.refresh()})}:function(){},createVAO:function(yt){function gt(Lt){var It;Array.isArray(Lt)?(It=Lt,At.elements&&At.ownsElements&&At.elements.destroy(),At.elements=null,At.ownsElements=!1,At.offset=0,At.count=0,At.instances=-1,At.primitive=4):(Lt.elements?(It=Lt.elements,At.ownsElements?("function"==typeof It&&"elements"===It._reglType?At.elements.destroy():At.elements(It),At.ownsElements=!1):Fe.getElements(Lt.elements)?(At.elements=Lt.elements,At.ownsElements=!1):(At.elements=Fe.create(Lt.elements),At.ownsElements=!0)):(At.elements=null,At.ownsElements=!1),It=Lt.attributes,At.offset=0,At.count=-1,At.instances=-1,At.primitive=4,At.elements&&(At.count=At.elements._elements.vertCount,At.primitive=At.elements._elements.primType),"offset"in Lt&&(At.offset=0|Lt.offset),"count"in Lt&&(At.count=0|Lt.count),"instances"in Lt&&(At.instances=0|Lt.instances),"primitive"in Lt&&(At.primitive=Se[Lt.primitive])),Lt={};var qt=At.attributes;qt.length=It.length;for(var Qt=0;Qt<It.length;++Qt){var Vt,Ft=It[Qt],en=qt[Qt]=new E,wn=Ft.data||Ft;Array.isArray(wn)||de(wn)||t(wn)?(At.buffers[Qt]&&(Vt=At.buffers[Qt],de(wn)&&Vt._buffer.byteLength>=wn.byteLength?Vt.subdata(wn):(Vt.destroy(),At.buffers[Qt]=null)),At.buffers[Qt]||(Vt=At.buffers[Qt]=Re.create(Ft,34962,!1,!0)),en.buffer=Re.getBuffer(Vt),en.size=0|en.buffer.dimension,en.normalized=!1,en.type=en.buffer.dtype,en.offset=0,en.stride=0,en.divisor=0,en.state=1,Lt[Qt]=1):Re.getBuffer(Ft)?(en.buffer=Re.getBuffer(Ft),en.size=0|en.buffer.dimension,en.normalized=!1,en.type=en.buffer.dtype,en.offset=0,en.stride=0,en.divisor=0,en.state=1):Re.getBuffer(Ft.buffer)?(en.buffer=Re.getBuffer(Ft.buffer),en.size=0|(+Ft.size||en.buffer.dimension),en.normalized=!!Ft.normalized||!1,en.type="type"in Ft?ye[Ft.type]:en.buffer.dtype,en.offset=0|(Ft.offset||0),en.stride=0|(Ft.stride||0),en.divisor=0|(Ft.divisor||0),en.state=1):"x"in Ft&&(en.x=+Ft.x||0,en.y=+Ft.y||0,en.z=+Ft.z||0,en.w=+Ft.w||0,en.state=2)}for(Vt=0;Vt<At.buffers.length;++Vt)!Lt[Vt]&&At.buffers[Vt]&&(At.buffers[Vt].destroy(),At.buffers[Vt]=null);return At.refresh(),gt}var At=new We;return tt.vaoCount+=1,gt.destroy=function(){for(var Lt=0;Lt<At.buffers.length;++Lt)At.buffers[Lt]&&At.buffers[Lt].destroy();At.buffers.length=0,At.ownsElements&&(At.elements.destroy(),At.elements=null,At.ownsElements=!1),At.destroy()},gt._vao=At,gt._reglType="vao",gt(yt)},getVAO:function(yt){return"function"==typeof yt&&yt._vao?yt._vao:null},destroyBuffer:function(yt){for(var gt=0;gt<pt.length;++gt){var At=pt[gt];At.buffer===yt&&(Ne.disableVertexAttribArray(gt),At.buffer=null)}},setVAO:Ge.oes_vertex_array_object?function(yt){if(yt!==kt.currentVAO){var gt=Ge.oes_vertex_array_object;yt?gt.bindVertexArrayOES(yt.vao):gt.bindVertexArrayOES(null),kt.currentVAO=yt}}:function(yt){if(yt!==kt.currentVAO){if(yt)yt.bindAttrs();else{for(var gt=Ge.angle_instanced_arrays,At=0;At<pt.length;++At){var Lt=pt[At];Lt.buffer?(Ne.enableVertexAttribArray(At),Lt.buffer.bind(),Ne.vertexAttribPointer(At,Lt.size,Lt.type,Lt.normalized,Lt.stride,Lt.offfset),gt&&Lt.divisor&&gt.vertexAttribDivisorANGLE(At,Lt.divisor)):(Ne.disableVertexAttribArray(At),Ne.vertexAttrib4f(At,Lt.x,Lt.y,Lt.z,Lt.w))}et.elements?Ne.bindBuffer(34963,et.elements.buffer.buffer):Ne.bindBuffer(34963,null)}kt.currentVAO=yt}},clear:Ge.oes_vertex_array_object?function(){pe(ut).forEach(function(yt){yt.destroy()})}:function(){}};return We.prototype.bindAttrs=function(){for(var yt=Ge.angle_instanced_arrays,gt=this.attributes,At=0;At<gt.length;++At){var Lt=gt[At];Lt.buffer?(Ne.enableVertexAttribArray(At),Ne.bindBuffer(34962,Lt.buffer.buffer),Ne.vertexAttribPointer(At,Lt.size,Lt.type,Lt.normalized,Lt.stride,Lt.offset),yt&&Lt.divisor&&yt.vertexAttribDivisorANGLE(At,Lt.divisor)):(Ne.disableVertexAttribArray(At),Ne.vertexAttrib4f(At,Lt.x,Lt.y,Lt.z,Lt.w))}for(yt=gt.length;yt<ct;++yt)Ne.disableVertexAttribArray(yt);(yt=Fe.getElements(this.elements))?Ne.bindBuffer(34963,yt.buffer.buffer):Ne.bindBuffer(34963,null)},We.prototype.refresh=function(){var yt=Ge.oes_vertex_array_object;yt&&(yt.bindVertexArrayOES(this.vao),this.bindAttrs(),kt.currentVAO=null,yt.bindVertexArrayOES(null))},We.prototype.destroy=function(){if(this.vao){var yt=Ge.oes_vertex_array_object;this===kt.currentVAO&&(kt.currentVAO=null,yt.bindVertexArrayOES(null)),yt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ut[this.id]&&(delete ut[this.id],--tt.vaoCount)},kt}function O(Ne,Ge,rt,tt){function Re(gt,At,Lt,It){this.name=gt,this.id=At,this.location=Lt,this.info=It}function Fe(gt,At){for(var Lt=0;Lt<gt.length;++Lt)if(gt[Lt].id===At.id)return void(gt[Lt].location=At.location);gt.push(At)}function et(gt,At,Lt){if(!(qt=(Lt=35632===gt?pt:dt)[At])){var It=Ge.str(At),qt=Ne.createShader(gt);Ne.shaderSource(qt,It),Ne.compileShader(qt),Lt[At]=qt}return qt}function We(gt,At){this.id=yt++,this.fragId=gt,this.vertId=At,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,tt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ct(gt,At,Lt){var It;It=et(35632,gt.fragId);var qt=et(35633,gt.vertId);if(At=gt.program=Ne.createProgram(),Ne.attachShader(At,It),Ne.attachShader(At,qt),Lt)for(It=0;It<Lt.length;++It)qt=Lt[It],Ne.bindAttribLocation(At,qt[0],qt[1]);Ne.linkProgram(At),qt=Ne.getProgramParameter(At,35718),tt.profile&&(gt.stats.uniformsCount=qt);var Qt=gt.uniforms;for(It=0;It<qt;++It)if(Lt=Ne.getActiveUniform(At,It))if(1<Lt.size)for(var Vt=0;Vt<Lt.size;++Vt){var Ft=Lt.name.replace("[0]","["+Vt+"]");Fe(Qt,new Re(Ft,Ge.id(Ft),Ne.getUniformLocation(At,Ft),Lt))}else Fe(Qt,new Re(Lt.name,Ge.id(Lt.name),Ne.getUniformLocation(At,Lt.name),Lt));for(qt=Ne.getProgramParameter(At,35721),tt.profile&&(gt.stats.attributesCount=qt),gt=gt.attributes,It=0;It<qt;++It)(Lt=Ne.getActiveAttrib(At,It))&&Fe(gt,new Re(Lt.name,Ge.id(Lt.name),Ne.getAttribLocation(At,Lt.name),Lt))}var pt={},dt={},ut={},kt=[],yt=0;return tt.profile&&(rt.getMaxUniformsCount=function(){var gt=0;return kt.forEach(function(At){At.stats.uniformsCount>gt&&(gt=At.stats.uniformsCount)}),gt},rt.getMaxAttributesCount=function(){var gt=0;return kt.forEach(function(At){At.stats.attributesCount>gt&&(gt=At.stats.attributesCount)}),gt}),{clear:function(){var gt=Ne.deleteShader.bind(Ne);pe(pt).forEach(gt),pt={},pe(dt).forEach(gt),dt={},kt.forEach(function(At){Ne.deleteProgram(At.program)}),kt.length=0,ut={},rt.shaderCount=0},program:function(gt,At,Lt,It){var qt=ut[At];qt||(qt=ut[At]={});var Qt=qt[gt];if(Qt&&(Qt.refCount++,!It))return Qt;var Vt=new We(At,gt);return rt.shaderCount++,ct(Vt,Lt,It),Qt||(qt[gt]=Vt),kt.push(Vt),Q(Vt,{destroy:function(){if(Vt.refCount--,0>=Vt.refCount){Ne.deleteProgram(Vt.program);var Ft=kt.indexOf(Vt);kt.splice(Ft,1),rt.shaderCount--}0>=qt[Vt.vertId].refCount&&(Ne.deleteShader(dt[Vt.vertId]),delete dt[Vt.vertId],delete ut[Vt.fragId][Vt.vertId]),Object.keys(ut[Vt.fragId]).length||(Ne.deleteShader(pt[Vt.fragId]),delete pt[Vt.fragId],delete ut[Vt.fragId])}})},restore:function(){pt={},dt={};for(var gt=0;gt<kt.length;++gt)ct(kt[gt],null,kt[gt].attributes.map(function(At){return[At.location,At.name]}))},shader:et,frag:-1,vert:-1}}function P(Ne,Ge,rt,tt,Re,Fe,et){function We(ct){var pt;pt=null===Ge.next?5121:Ge.next.colorAttachments[0].texture._texture.type;var dt=0,ut=0,kt=tt.framebufferWidth,yt=tt.framebufferHeight,gt=null;return de(ct)?gt=ct:ct&&(dt=0|ct.x,ut=0|ct.y,kt=0|(ct.width||tt.framebufferWidth-dt),yt=0|(ct.height||tt.framebufferHeight-ut),gt=ct.data||null),rt(),ct=kt*yt*4,gt||(5121===pt?gt=new Uint8Array(ct):5126===pt&&(gt=gt||new Float32Array(ct))),Ne.pixelStorei(3333,4),Ne.readPixels(dt,ut,kt,yt,6408,pt,gt),gt}return function(ct){return ct&&"framebuffer"in ct?(pt=ct,Ge.setFBO({framebuffer:pt.framebuffer},function(){dt=We(pt)}),dt):We(ct);var pt,dt}}function R(Ne,Ge){return Ne>>>Ge|Ne<<32-Ge}function j(Ne,Ge){var rt=(65535&Ne)+(65535&Ge);return(Ne>>16)+(Ge>>16)+(rt>>16)<<16|65535&rt}function z(Ne){return Array.prototype.slice.call(Ne)}function N(Ne){return z(Ne).join("")}function Y(Ne){function Ge(){var dt=[],ut=[];return Q(function(){dt.push.apply(dt,z(arguments))},{def:function(){var kt="v"+Re++;return ut.push(kt),0<arguments.length&&(dt.push(kt,"="),dt.push.apply(dt,z(arguments)),dt.push(";")),kt},toString:function(){return N([0<ut.length?"var "+ut.join(",")+";":"",N(dt)])}})}function rt(){function dt(At,Lt){kt(At,Lt,"=",ut.def(At,Lt),";")}var ut=Ge(),kt=Ge(),yt=ut.toString,gt=kt.toString;return Q(function(){ut.apply(ut,z(arguments))},{def:ut.def,entry:ut,exit:kt,save:dt,set:function(At,Lt,It){dt(At,Lt),ut(At,Lt,"=",It,";")},toString:function(){return yt()+gt()}})}var tt=Ne&&Ne.cache,Re=0,Fe=[],et=[],We=[],ct=Ge(),pt={};return{global:ct,link:function(dt,ut){var kt=ut&&ut.stable;if(!kt)for(var yt=0;yt<et.length;++yt)if(et[yt]===dt&&!We[yt])return Fe[yt];return yt="g"+Re++,Fe.push(yt),et.push(dt),We.push(kt),yt},block:Ge,proc:function(dt,ut){function kt(){var Lt="a"+yt.length;return yt.push(Lt),Lt}var yt=[];ut=ut||0;for(var gt=0;gt<ut;++gt)kt();var At=(gt=rt()).toString;return pt[dt]=Q(gt,{arg:kt,toString:function(){return N(["function(",yt.join(),"){",At(),"}"])}})},scope:rt,cond:function(){var dt=N(arguments),ut=rt(),kt=rt(),yt=ut.toString,gt=kt.toString;return Q(ut,{then:function(){return ut.apply(ut,z(arguments)),this},else:function(){return kt.apply(kt,z(arguments)),this},toString:function(){var At=gt();return At&&(At="else{"+At+"}"),N(["if(",dt,"){",yt(),"}",At])}})},compile:function(){var dt=['"use strict";',ct,"return {"];Object.keys(pt).forEach(function(yt){dt.push('"',yt,'":',pt[yt].toString(),",")}),dt.push("}");var ut,kt=N(dt).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return tt&&(ut=function(yt){for(var gt,At="",Lt=0;Lt<yt.length;Lt++)gt=yt.charCodeAt(Lt),At+="0123456789abcdef".charAt(gt>>>4&15)+"0123456789abcdef".charAt(15&gt);return At}(function(yt){for(var gt=Array(yt.length>>2),At=0;At<gt.length;At++)gt[At]=0;for(At=0;At<8*yt.length;At+=8)gt[At>>5]|=(255&yt.charCodeAt(At/8))<<24-At%32;var Lt,It,qt,Qt,Vt,Ft,en,wn,kn,on,Ht,nn=8*yt.length;for(yt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],At=Array(64),gt[nn>>5]|=128<<24-nn%32,gt[15+(nn+64>>9<<4)]=nn,wn=0;wn<gt.length;wn+=16){for(nn=yt[0],Lt=yt[1],It=yt[2],qt=yt[3],Qt=yt[4],Vt=yt[5],Ft=yt[6],en=yt[7],kn=0;64>kn;kn++){var Kt;16>kn?At[kn]=gt[kn+wn]:(on=kn,Ht=j(Ht=R(Ht=At[kn-2],17)^R(Ht,19)^Ht>>>10,At[kn-7]),Kt=R(Kt=At[kn-15],7)^R(Kt,18)^Kt>>>3,At[on]=j(j(Ht,Kt),At[kn-16])),on=j(j(j(j(en,on=R(on=Qt,6)^R(on,11)^R(on,25)),Qt&Vt^~Qt&Ft),Qe[kn]),At[kn]),Ht=j(en=R(en=nn,2)^R(en,13)^R(en,22),nn&Lt^nn&It^Lt&It),en=Ft,Ft=Vt,Vt=Qt,Qt=j(qt,on),qt=It,It=Lt,Lt=nn,nn=j(on,Ht)}yt[0]=j(nn,yt[0]),yt[1]=j(Lt,yt[1]),yt[2]=j(It,yt[2]),yt[3]=j(qt,yt[3]),yt[4]=j(Qt,yt[4]),yt[5]=j(Vt,yt[5]),yt[6]=j(Ft,yt[6]),yt[7]=j(en,yt[7])}for(gt="",At=0;At<32*yt.length;At+=8)gt+=String.fromCharCode(yt[At>>5]>>>24-At%32&255);return gt}(function(yt){for(var gt,At,Lt="",It=-1;++It<yt.length;)gt=yt.charCodeAt(It),At=It+1<yt.length?yt.charCodeAt(It+1):0,55296<=gt&&56319>=gt&&56320<=At&&57343>=At&&(gt=65536+((1023&gt)<<10)+(1023&At),It++),127>=gt?Lt+=String.fromCharCode(gt):2047>=gt?Lt+=String.fromCharCode(192|gt>>>6&31,128|63&gt):65535>=gt?Lt+=String.fromCharCode(224|gt>>>12&15,128|gt>>>6&63,128|63&gt):2097151>=gt&&(Lt+=String.fromCharCode(240|gt>>>18&7,128|gt>>>12&63,128|gt>>>6&63,128|63&gt));return Lt}(kt))),tt[ut])?tt[ut].apply(null,et):(kt=Function.apply(null,Fe.concat(kt)),tt&&(tt[ut]=kt),kt.apply(null,et))}}}function F(Ne){return Array.isArray(Ne)||de(Ne)||t(Ne)}function U(Ne){return Ne.sort(function(Ge,rt){return"viewport"===Ge?-1:"viewport"===rt?1:Ge<rt?-1:1})}function V(Ne,Ge,rt,tt){this.thisDep=Ne,this.contextDep=Ge,this.propDep=rt,this.append=tt}function te(Ne){return Ne&&!(Ne.thisDep||Ne.contextDep||Ne.propDep)}function $(Ne){return new V(!1,!1,!1,Ne)}function X(Ne,Ge){var rt=Ne.type;if(0===rt)return new V(!0,1<=(rt=Ne.data.length),2<=rt,Ge);if(4===rt)return new V((rt=Ne.data).thisDep,rt.contextDep,rt.propDep,Ge);if(5===rt)return new V(!1,!1,!1,Ge);if(6===rt){for(var tt=rt=!1,Re=!1,Fe=0;Fe<Ne.data.length;++Fe){var et=Ne.data[Fe];1===et.type?Re=!0:2===et.type?tt=!0:3===et.type?rt=!0:0===et.type?(rt=!0,1<=(et=et.data)&&(tt=!0),2<=et&&(Re=!0)):4===et.type&&(rt=rt||et.data.thisDep,tt=tt||et.data.contextDep,Re=Re||et.data.propDep)}return new V(rt,tt,Re,Ge)}return new V(3===rt,2===rt,1===rt,Ge)}function W(Ne,Ge,rt,tt,Re,Fe,et,We,ct,pt,dt,ut,kt,yt,gt,At){function Lt(Ct){return Ct.replace(".","_")}function It(Ct,Zt,$t){var dn=Lt(Ct);Fn.push(Ct),Mn[dn]=fn[dn]=!!$t,In[dn]=Zt}function qt(Ct,Zt,$t){var dn=Lt(Ct);Fn.push(Ct),Array.isArray($t)?(fn[dn]=$t.slice(),Mn[dn]=$t.slice()):fn[dn]=Mn[dn]=$t,Rn[dn]=Zt}function Qt(){var Ct=Y({cache:gt}),Zt=Ct.link,$t=Ct.global;Ct.id=gn++,Ct.batchId="0";var dn=Zt(Jn),yn=Ct.shared={props:"a0"};Object.keys(Jn).forEach(function(sn){yn[sn]=$t.def(dn,".",sn)});var Sn=Ct.next={},ln=Ct.current={};Object.keys(Rn).forEach(function(sn){Array.isArray(fn[sn])&&(Sn[sn]=$t.def(yn.next,".",sn),ln[sn]=$t.def(yn.current,".",sn))});var Wt=Ct.constants={};Object.keys(Yt).forEach(function(sn){Wt[sn]=$t.def(JSON.stringify(Yt[sn]))}),Ct.invoke=function(sn,cn){switch(cn.type){case 0:var Ln=["this",yn.context,yn.props,Ct.batchId];return sn.def(Zt(cn.data),".call(",Ln.slice(0,Math.max(cn.data.length+1,4)),")");case 1:return sn.def(yn.props,cn.data);case 2:return sn.def(yn.context,cn.data);case 3:return sn.def("this",cn.data);case 4:return cn.data.append(Ct,sn),cn.data.ref;case 5:return cn.data.toString();case 6:return cn.data.map(function(Pn){return Ct.invoke(sn,Pn)})}},Ct.attribCache={};var Xt={};return Ct.scopeAttrib=function(sn){if((sn=Ge.id(sn))in Xt)return Xt[sn];var cn=pt.scope[sn];return cn||(cn=pt.scope[sn]=new qn),Xt[sn]=Zt(cn)},Ct}function Vt(Ct,Zt){var $t=Ct.static,dn=Ct.dynamic;if("framebuffer"in $t){var yn=$t.framebuffer;return yn?(yn=We.getFramebuffer(yn),$(function(ln,Wt){var Xt=ln.link(yn),sn=ln.shared;return Wt.set(sn.framebuffer,".next",Xt),sn=sn.context,Wt.set(sn,".framebufferWidth",Xt+".width"),Wt.set(sn,".framebufferHeight",Xt+".height"),Xt})):$(function(ln,Wt){var Xt=ln.shared;return Wt.set(Xt.framebuffer,".next","null"),Xt=Xt.context,Wt.set(Xt,".framebufferWidth",Xt+".drawingBufferWidth"),Wt.set(Xt,".framebufferHeight",Xt+".drawingBufferHeight"),"null"})}if("framebuffer"in dn){var Sn=dn.framebuffer;return X(Sn,function(ln,Wt){var Xt=ln.invoke(Wt,Sn),sn=ln.shared,cn=sn.framebuffer;return Xt=Wt.def(cn,".getFramebuffer(",Xt,")"),Wt.set(cn,".next",Xt),sn=sn.context,Wt.set(sn,".framebufferWidth",Xt+"?"+Xt+".width:"+sn+".drawingBufferWidth"),Wt.set(sn,".framebufferHeight",Xt+"?"+Xt+".height:"+sn+".drawingBufferHeight"),Xt})}return null}function Ft(Ct,Zt,$t){function dn(sn){if(sn in yn){var cn=Ge.id(yn[sn]);return(sn=$(function(){return cn})).id=cn,sn}if(sn in Sn){var Ln=Sn[sn];return X(Ln,function(Pn,Vn){var Un=Pn.invoke(Vn,Ln);return Vn.def(Pn.shared.strings,".id(",Un,")")})}return null}var yn=Ct.static,Sn=Ct.dynamic,ln=dn("frag"),Wt=dn("vert"),Xt=null;return te(ln)&&te(Wt)?(Xt=dt.program(Wt.id,ln.id,null,$t),Ct=$(function(sn,cn){return sn.link(Xt)})):Ct=new V(ln&&ln.thisDep||Wt&&Wt.thisDep,ln&&ln.contextDep||Wt&&Wt.contextDep,ln&&ln.propDep||Wt&&Wt.propDep,function(sn,cn){var Ln,Pn,Vn=sn.shared.shader;return Ln=ln?ln.append(sn,cn):cn.def(Vn,".","frag"),Pn=Wt?Wt.append(sn,cn):cn.def(Vn,".","vert"),cn.def(Vn+".program("+Pn+","+Ln+")")}),{frag:ln,vert:Wt,progVar:Ct,program:Xt}}function en(Ct,Zt){function $t(Un,Xn){if(Un in dn){var Zn=0|dn[Un];return Xn?Sn.offset=Zn:Sn.instances=Zn,$(function(ar,ir){return Xn&&(ar.OFFSET=Zn),Zn})}if(Un in yn){var Qn=yn[Un];return X(Qn,function(ar,ir){var hr=ar.invoke(ir,Qn);return Xn&&(ar.OFFSET=hr),hr})}if(Xn){if(Xt)return $(function(ar,ir){return ar.OFFSET=0});if(ln)return new V(Wt.thisDep,Wt.contextDep,Wt.propDep,function(ar,ir){return ir.def(ar.shared.vao+".currentVAO?"+ar.shared.vao+".currentVAO.offset:0")})}else if(ln)return new V(Wt.thisDep,Wt.contextDep,Wt.propDep,function(ar,ir){return ir.def(ar.shared.vao+".currentVAO?"+ar.shared.vao+".currentVAO.instances:-1")});return null}var dn=Ct.static,yn=Ct.dynamic,Sn={},ln=!1,Wt=function(){if("vao"in dn){var Un=dn.vao;return null!==Un&&null===pt.getVAO(Un)&&(Un=pt.createVAO(Un)),ln=!0,Sn.vao=Un,$(function(Zn){var Qn=pt.getVAO(Un);return Qn?Zn.link(Qn):"null"})}if("vao"in yn){ln=!0;var Xn=yn.vao;return X(Xn,function(Zn,Qn){var ar=Zn.invoke(Qn,Xn);return Qn.def(Zn.shared.vao+".getVAO("+ar+")")})}return null}(),Xt=!1,sn=function(){if("elements"in dn){var Un=dn.elements;if(Sn.elements=Un,F(Un)){var Xn=Sn.elements=Fe.create(Un,!0);Un=Fe.getElements(Xn),Xt=!0}else Un&&(Un=Fe.getElements(Un),Xt=!0);return(Xn=$(function(Qn,ar){if(Un){var ir=Qn.link(Un);return Qn.ELEMENTS=ir}return Qn.ELEMENTS=null})).value=Un,Xn}if("elements"in yn){Xt=!0;var Zn=yn.elements;return X(Zn,function(Qn,ar){var ir=(hr=Qn.shared).isBufferArgs,hr=hr.elements,fr=Qn.invoke(ar,Zn),wr=ar.def("null");return ir=ar.def(ir,"(",fr,")"),fr=Qn.cond(ir).then(wr,"=",hr,".createStream(",fr,");").else(wr,"=",hr,".getElements(",fr,");"),ar.entry(fr),ar.exit(Qn.cond(ir).then(hr,".destroyStream(",wr,");")),Qn.ELEMENTS=wr})}return ln?new V(Wt.thisDep,Wt.contextDep,Wt.propDep,function(Qn,ar){return ar.def(Qn.shared.vao+".currentVAO?"+Qn.shared.elements+".getElements("+Qn.shared.vao+".currentVAO.elements):null")}):null}(),cn=$t("offset",!0),Ln=function(){if("primitive"in dn){var Un=dn.primitive;return Sn.primitive=Un,$(function(Zn,Qn){return Se[Un]})}if("primitive"in yn){var Xn=yn.primitive;return X(Xn,function(Zn,Qn){var ar=Zn.constants.primTypes,ir=Zn.invoke(Qn,Xn);return Qn.def(ar,"[",ir,"]")})}return Xt?te(sn)?sn.value?$(function(Zn,Qn){return Qn.def(Zn.ELEMENTS,".primType")}):$(function(){return 4}):new V(sn.thisDep,sn.contextDep,sn.propDep,function(Zn,Qn){var ar=Zn.ELEMENTS;return Qn.def(ar,"?",ar,".primType:",4)}):ln?new V(Wt.thisDep,Wt.contextDep,Wt.propDep,function(Zn,Qn){return Qn.def(Zn.shared.vao+".currentVAO?"+Zn.shared.vao+".currentVAO.primitive:4")}):null}(),Pn=function(){if("count"in dn){var Un=0|dn.count;return Sn.count=Un,$(function(){return Un})}if("count"in yn){var Xn=yn.count;return X(Xn,function(Zn,Qn){return Zn.invoke(Qn,Xn)})}return Xt?te(sn)?sn?cn?new V(cn.thisDep,cn.contextDep,cn.propDep,function(Zn,Qn){return Qn.def(Zn.ELEMENTS,".vertCount-",Zn.OFFSET)}):$(function(Zn,Qn){return Qn.def(Zn.ELEMENTS,".vertCount")}):$(function(){return-1}):new V(sn.thisDep||cn.thisDep,sn.contextDep||cn.contextDep,sn.propDep||cn.propDep,function(Zn,Qn){var ar=Zn.ELEMENTS;return Zn.OFFSET?Qn.def(ar,"?",ar,".vertCount-",Zn.OFFSET,":-1"):Qn.def(ar,"?",ar,".vertCount:-1")}):ln?new V(Wt.thisDep,Wt.contextDep,Wt.propDep,function(Zn,Qn){return Qn.def(Zn.shared.vao,".currentVAO?",Zn.shared.vao,".currentVAO.count:-1")}):null}(),Vn=$t("instances",!1);return{elements:sn,primitive:Ln,count:Pn,instances:Vn,offset:cn,vao:Wt,vaoActive:ln,elementsActive:Xt,static:Sn}}function wn(Ct,Zt){var $t=Ct.static,dn=Ct.dynamic,yn={};return Object.keys($t).forEach(function(Sn){var ln=$t[Sn],Wt=Ge.id(Sn),Xt=new qn;if(F(ln))Xt.state=1,Xt.buffer=Re.getBuffer(Re.create(ln,34962,!1,!0)),Xt.type=0;else if(cn=Re.getBuffer(ln))Xt.state=1,Xt.buffer=cn,Xt.type=0;else if("constant"in ln){var sn=ln.constant;Xt.buffer="null",Xt.state=2,"number"==typeof sn?Xt.x=sn:nt.forEach(function(Zn,Qn){Qn<sn.length&&(Xt[Zn]=sn[Qn])})}else{var cn=F(ln.buffer)?Re.getBuffer(Re.create(ln.buffer,34962,!1,!0)):Re.getBuffer(ln.buffer),Ln=0|ln.offset,Pn=0|ln.stride,Vn=0|ln.size,Un=!!ln.normalized,Xn=0;"type"in ln&&(Xn=ye[ln.type]),ln=0|ln.divisor,Xt.buffer=cn,Xt.state=1,Xt.size=Vn,Xt.normalized=Un,Xt.type=Xn||cn.dtype,Xt.offset=Ln,Xt.stride=Pn,Xt.divisor=ln}yn[Sn]=$(function(Zn,Qn){var ar=Zn.attribCache;if(Wt in ar)return ar[Wt];var ir={isStream:!1};return Object.keys(Xt).forEach(function(hr){ir[hr]=Xt[hr]}),Xt.buffer&&(ir.buffer=Zn.link(Xt.buffer),ir.type=ir.type||ir.buffer+".dtype"),ar[Wt]=ir})}),Object.keys(dn).forEach(function(Sn){var ln=dn[Sn];yn[Sn]=X(ln,function(Wt,Xt){function sn(ar){Xt(Un[ar],"=",cn,".",ar,"|0;")}var cn=Wt.invoke(Xt,ln),Ln=Wt.shared,Pn=Wt.constants,Vn=Ln.isBufferArgs,Un=(Ln=Ln.buffer,{isStream:Xt.def(!1)}),Xn=new qn;Xn.state=1,Object.keys(Xn).forEach(function(ar){Un[ar]=Xt.def(""+Xn[ar])});var Zn=Un.buffer,Qn=Un.type;return Xt("if(",Vn,"(",cn,")){",Un.isStream,"=true;",Zn,"=",Ln,".createStream(",34962,",",cn,");",Qn,"=",Zn,".dtype;","}else{",Zn,"=",Ln,".getBuffer(",cn,");","if(",Zn,"){",Qn,"=",Zn,".dtype;",'}else if("constant" in ',cn,"){",Un.state,"=",2,";","if(typeof "+cn+'.constant === "number"){',Un[nt[0]],"=",cn,".constant;",nt.slice(1).map(function(ar){return Un[ar]}).join("="),"=0;","}else{",nt.map(function(ar,ir){return Un[ar]+"="+cn+".constant.length>"+ir+"?"+cn+".constant["+ir+"]:0;"}).join(""),"}}else{","if(",Vn,"(",cn,".buffer)){",Zn,"=",Ln,".createStream(",34962,",",cn,".buffer);","}else{",Zn,"=",Ln,".getBuffer(",cn,".buffer);","}",Qn,'="type" in ',cn,"?",Pn.glTypes,"[",cn,".type]:",Zn,".dtype;",Un.normalized,"=!!",cn,".normalized;"),sn("size"),sn("offset"),sn("stride"),sn("divisor"),Xt("}}"),Xt.exit("if(",Un.isStream,"){",Ln,".destroyStream(",Zn,");","}"),Un})}),yn}function kn(Ct,Zt,$t,dn,yn){function Sn(Xn){var Zn=Wt[Xn];Zn&&(sn[Xn]=Zn)}var Xn,Qn,ar,ir,ln=function(Xn,Zn){if("string"==typeof(Qn=Xn.static).frag&&"string"==typeof Qn.vert){if(0<Object.keys(Zn.dynamic).length)return null;var Qn=Zn.static,ar=Object.keys(Qn);if(0<ar.length&&"number"==typeof Qn[ar[0]]){for(var ir=[],hr=0;hr<ar.length;++hr)ir.push([0|Qn[ar[hr]],ar[hr]]);return ir}}return null}(Ct,Zt),Wt=function(Xn,Zn,Qn){function ar(wr){if(wr in ir){var tr=ir[wr];wr=!0;var vr,Mr,Ir=0|tr.x,ii=0|tr.y;return"width"in tr?vr=0|tr.width:wr=!1,"height"in tr?Mr=0|tr.height:wr=!1,new V(!wr&&Zn&&Zn.thisDep,!wr&&Zn&&Zn.contextDep,!wr&&Zn&&Zn.propDep,function(Oi,ti){var Ti=Oi.shared.context,ra=vr;"width"in tr||(ra=ti.def(Ti,".","framebufferWidth","-",Ir));var ia=Mr;return"height"in tr||(ia=ti.def(Ti,".","framebufferHeight","-",ii)),[Ir,ii,ra,ia]})}if(wr in hr){var oi=hr[wr];return wr=X(oi,function(Oi,ti){var Ti=Oi.invoke(ti,oi),ra=Oi.shared.context,ia=ti.def(Ti,".x|0"),Ro=ti.def(Ti,".y|0");return[ia,Ro,ti.def('"width" in ',Ti,"?",Ti,".width|0:","(",ra,".","framebufferWidth","-",ia,")"),Ti=ti.def('"height" in ',Ti,"?",Ti,".height|0:","(",ra,".","framebufferHeight","-",Ro,")")]}),Zn&&(wr.thisDep=wr.thisDep||Zn.thisDep,wr.contextDep=wr.contextDep||Zn.contextDep,wr.propDep=wr.propDep||Zn.propDep),wr}return Zn?new V(Zn.thisDep,Zn.contextDep,Zn.propDep,function(Oi,ti){var Ti=Oi.shared.context;return[0,0,ti.def(Ti,".","framebufferWidth"),ti.def(Ti,".","framebufferHeight")]}):null}var ir=Xn.static,hr=Xn.dynamic;if(Xn=ar("viewport")){var fr=Xn;Xn=new V(Xn.thisDep,Xn.contextDep,Xn.propDep,function(wr,tr){var vr=fr.append(wr,tr),Mr=wr.shared.context;return tr.set(Mr,".viewportWidth",vr[2]),tr.set(Mr,".viewportHeight",vr[3]),vr})}return{viewport:Xn,scissor_box:ar("scissor.box")}}(Ct,Ln=Vt(Ct)),Xt=en(Ct),sn=(Qn=(Xn=Ct).static,ar=Xn.dynamic,ir={},Fn.forEach(function(hr){function fr(tr,vr){if(hr in Qn){var Mr=tr(Qn[hr]);ir[wr]=$(function(){return Mr})}else if(hr in ar){var Ir=ar[hr];ir[wr]=X(Ir,function(ii,oi){return vr(ii,oi,ii.invoke(oi,Ir))})}}var wr=Lt(hr);switch(hr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return fr(function(tr){return tr},function(tr,vr,Mr){return Mr});case"depth.func":return fr(function(tr){return Pt[tr]},function(tr,vr,Mr){return vr.def(tr.constants.compareFuncs,"[",Mr,"]")});case"depth.range":return fr(function(tr){return tr},function(tr,vr,Mr){return[vr.def("+",Mr,"[0]"),vr=vr.def("+",Mr,"[1]")]});case"blend.func":return fr(function(tr){return[Ot["srcRGB"in tr?tr.srcRGB:tr.src],Ot["dstRGB"in tr?tr.dstRGB:tr.dst],Ot["srcAlpha"in tr?tr.srcAlpha:tr.src],Ot["dstAlpha"in tr?tr.dstAlpha:tr.dst]]},function(tr,vr,Mr){function Ir(ti,Ti){return vr.def('"',ti,Ti,'" in ',Mr,"?",Mr,".",ti,Ti,":",Mr,".",ti)}tr=tr.constants.blendFuncs;var ii=Ir("src","RGB"),oi=Ir("dst","RGB"),Oi=(ii=vr.def(tr,"[",ii,"]"),vr.def(tr,"[",Ir("src","Alpha"),"]"));return[ii,oi=vr.def(tr,"[",oi,"]"),Oi,tr=vr.def(tr,"[",Ir("dst","Alpha"),"]")]});case"blend.equation":return fr(function(tr){return"string"==typeof tr?[cr[tr],cr[tr]]:"object"==typeof tr?[cr[tr.rgb],cr[tr.alpha]]:void 0},function(tr,vr,Mr){var Ir=tr.constants.blendEquations,ii=vr.def(),oi=vr.def();return(tr=tr.cond("typeof ",Mr,'==="string"')).then(ii,"=",oi,"=",Ir,"[",Mr,"];"),tr.else(ii,"=",Ir,"[",Mr,".rgb];",oi,"=",Ir,"[",Mr,".alpha];"),vr(tr),[ii,oi]});case"blend.color":return fr(function(tr){return b(4,function(vr){return+tr[vr]})},function(tr,vr,Mr){return b(4,function(Ir){return vr.def("+",Mr,"[",Ir,"]")})});case"stencil.mask":return fr(function(tr){return 0|tr},function(tr,vr,Mr){return vr.def(Mr,"|0")});case"stencil.func":return fr(function(tr){return[Pt[tr.cmp||"keep"],tr.ref||0,"mask"in tr?tr.mask:-1]},function(tr,vr,Mr){return[tr=vr.def('"cmp" in ',Mr,"?",tr.constants.compareFuncs,"[",Mr,".cmp]",":",7680),vr.def(Mr,".ref|0"),vr=vr.def('"mask" in ',Mr,"?",Mr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return fr(function(tr){return["stencil.opBack"===hr?1029:1028,St[tr.fail||"keep"],St[tr.zfail||"keep"],St[tr.zpass||"keep"]]},function(tr,vr,Mr){function Ir(oi){return vr.def('"',oi,'" in ',Mr,"?",ii,"[",Mr,".",oi,"]:",7680)}var ii=tr.constants.stencilOps;return["stencil.opBack"===hr?1029:1028,Ir("fail"),Ir("zfail"),Ir("zpass")]});case"polygonOffset.offset":return fr(function(tr){return[0|tr.factor,0|tr.units]},function(tr,vr,Mr){return[vr.def(Mr,".factor|0"),vr=vr.def(Mr,".units|0")]});case"cull.face":return fr(function(tr){var vr=0;return"front"===tr?vr=1028:"back"===tr&&(vr=1029),vr},function(tr,vr,Mr){return vr.def(Mr,'==="front"?',1028,":",1029)});case"frontFace":return fr(function(tr){return qe[tr]},function(tr,vr,Mr){return vr.def(Mr+'==="cw"?2304:2305')});case"colorMask":return fr(function(tr){return tr.map(function(vr){return!!vr})},function(tr,vr,Mr){return b(4,function(Ir){return"!!"+Mr+"["+Ir+"]"})});case"sample.coverage":return fr(function(tr){return["value"in tr?tr.value:1,!!tr.invert]},function(tr,vr,Mr){return[vr.def('"value" in ',Mr,"?+",Mr,".value:1"),vr=vr.def("!!",Mr,".invert")]})}}),ir),cn=Ft(Ct,0,ln);Sn("viewport"),Sn(Lt("scissor.box"));var Ln,Pn=0<Object.keys(sn).length;if((Ln={framebuffer:Ln,draw:Xt,shader:cn,state:sn,dirty:Pn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(Xn){var Zn,Qn=Xn.static;if(Xn=Xn.dynamic,"profile"in Qn){var ar=!!Qn.profile;(Zn=$(function(hr,fr){return ar})).enable=ar}else if("profile"in Xn){var ir=Xn.profile;Zn=X(ir,function(hr,fr){return hr.invoke(fr,ir)})}return Zn}(Ct),Ln.uniforms=function(Xn,Zn){var Qn=Xn.static,ar=Xn.dynamic,ir={};return Object.keys(Qn).forEach(function(hr){var fr,wr=Qn[hr];if("number"==typeof wr||"boolean"==typeof wr)fr=$(function(){return wr});else if("function"==typeof wr){var tr=wr._reglType;"texture2d"===tr||"textureCube"===tr?fr=$(function(vr){return vr.link(wr)}):"framebuffer"!==tr&&"framebufferCube"!==tr||(fr=$(function(vr){return vr.link(wr.color[0])}))}else x(wr)&&(fr=$(function(vr){return vr.global.def("[",b(wr.length,function(Mr){return wr[Mr]}),"]")}));fr.value=wr,ir[hr]=fr}),Object.keys(ar).forEach(function(hr){var fr=ar[hr];ir[hr]=X(fr,function(wr,tr){return wr.invoke(tr,fr)})}),ir}($t),Ln.drawVAO=Ln.scopeVAO=Xt.vao,!Ln.drawVAO&&cn.program&&!ln&&rt.angle_instanced_arrays&&Xt.static.elements){var Vn=!0;if(Ct=cn.program.attributes.map(function(Xn){return Xn=Zt.static[Xn],Vn=Vn&&!!Xn,Xn}),Vn&&0<Ct.length){var Un=pt.getVAO(pt.createVAO({attributes:Ct,elements:Xt.static.elements}));Ln.drawVAO=new V(null,null,null,function(Xn,Zn){return Xn.link(Un)}),Ln.useVAO=!0}}return ln?Ln.useVAO=!0:Ln.attributes=wn(Zt),Ln.context=function(Xn){var Zn=Xn.static,Qn=Xn.dynamic,ar={};return Object.keys(Zn).forEach(function(ir){var hr=Zn[ir];ar[ir]=$(function(fr,wr){return"number"==typeof hr||"boolean"==typeof hr?""+hr:fr.link(hr)})}),Object.keys(Qn).forEach(function(ir){var hr=Qn[ir];ar[ir]=X(hr,function(fr,wr){return fr.invoke(wr,hr)})}),ar}(dn),Ln}function on(Ct,Zt,$t){var dn=Ct.shared.context,yn=Ct.scope();Object.keys($t).forEach(function(Sn){Zt.save(dn,"."+Sn);var ln=$t[Sn].append(Ct,Zt);Array.isArray(ln)?yn(dn,".",Sn,"=[",ln.join(),"];"):yn(dn,".",Sn,"=",ln,";")}),Zt(yn)}function Ht(Ct,Zt,$t,dn){var yn,Sn=(Wt=Ct.shared).gl,ln=Wt.framebuffer;Jt&&(yn=Zt.def(Wt.extensions,".webgl_draw_buffers"));var Wt=(Xt=Ct.constants).drawBuffer,Xt=Xt.backBuffer;Ct=$t?$t.append(Ct,Zt):Zt.def(ln,".next"),dn||Zt("if(",Ct,"!==",ln,".cur){"),Zt("if(",Ct,"){",Sn,".bindFramebuffer(",36160,",",Ct,".framebuffer);"),Jt&&Zt(yn,".drawBuffersWEBGL(",Wt,"[",Ct,".colorAttachments.length]);"),Zt("}else{",Sn,".bindFramebuffer(",36160,",null);"),Jt&&Zt(yn,".drawBuffersWEBGL(",Xt,");"),Zt("}",ln,".cur=",Ct,";"),dn||Zt("}")}function nn(Ct,Zt,$t){var dn=Ct.shared,yn=dn.gl,Sn=Ct.current,ln=Ct.next,Wt=dn.current,Xt=dn.next,sn=Ct.cond(Wt,".dirty");Fn.forEach(function(cn){var Ln,Pn;if(!((cn=Lt(cn))in $t.state))if(cn in ln){Ln=ln[cn],Pn=Sn[cn];var Vn=b(fn[cn].length,function(Un){return sn.def(Ln,"[",Un,"]")});sn(Ct.cond(Vn.map(function(Un,Xn){return Un+"!=="+Pn+"["+Xn+"]"}).join("||")).then(yn,".",Rn[cn],"(",Vn,");",Vn.map(function(Un,Xn){return Pn+"["+Xn+"]="+Un}).join(";"),";"))}else Ln=sn.def(Xt,".",cn),Vn=Ct.cond(Ln,"!==",Wt,".",cn),sn(Vn),cn in In?Vn(Ct.cond(Ln).then(yn,".enable(",In[cn],");").else(yn,".disable(",In[cn],");"),Wt,".",cn,"=",Ln,";"):Vn(yn,".",Rn[cn],"(",Ln,");",Wt,".",cn,"=",Ln,";")}),0===Object.keys($t.state).length&&sn(Wt,".dirty=false;"),Zt(sn)}function Kt(Ct,Zt,$t,dn){var yn,Sn=Ct.shared,ln=Ct.current,Wt=Sn.current,Xt=Sn.gl;U(Object.keys($t)).forEach(function(sn){var cn=$t[sn];if(!dn||dn(cn)){var Ln=cn.append(Ct,Zt);if(In[sn]){var Pn=In[sn];te(cn)?(yn=Ct.link(Ln,{stable:!0}),Zt(Ct.cond(yn).then(Xt,".enable(",Pn,");").else(Xt,".disable(",Pn,");")),Zt(Wt,".",sn,"=",yn,";")):(Zt(Ct.cond(Ln).then(Xt,".enable(",Pn,");").else(Xt,".disable(",Pn,");")),Zt(Wt,".",sn,"=",Ln,";"))}else if(x(Ln)){var Vn=ln[sn];Zt(Xt,".",Rn[sn],"(",Ln,");",Ln.map(function(Un,Xn){return Vn+"["+Xn+"]="+Un}).join(";"),";")}else te(cn)?(yn=Ct.link(Ln,{stable:!0}),Zt(Xt,".",Rn[sn],"(",yn,");",Wt,".",sn,"=",yn,";")):Zt(Xt,".",Rn[sn],"(",Ln,");",Wt,".",sn,"=",Ln,";")}})}function an(Ct,Zt){Nt&&(Ct.instancing=Zt.def(Ct.shared.extensions,".angle_instanced_arrays"))}function xn(Ct,Zt,$t,dn,yn){function Sn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function ln(Xn){Xn(sn=Zt.def(),"=",Sn(),";"),"string"==typeof yn?Xn(Pn,".count+=",yn,";"):Xn(Pn,".count++;"),yt&&(dn?Xn(cn=Zt.def(),"=",Un,".getNumPendingQueries();"):Xn(Un,".beginQuery(",Pn,");"))}function Wt(Xn){Xn(Pn,".cpuTime+=",Sn(),"-",sn,";"),yt&&(dn?Xn(Un,".pushScopeStats(",cn,",",Un,".getNumPendingQueries(),",Pn,");"):Xn(Un,".endQuery();"))}function Xt(Xn){var Zn=Zt.def(Vn,".profile");Zt(Vn,".profile=",Xn,";"),Zt.exit(Vn,".profile=",Zn,";")}var sn,cn,Ln=Ct.shared,Pn=Ct.stats,Vn=Ln.current,Un=Ln.timer;if($t=$t.profile){if(te($t))return void($t.enable?(ln(Zt),Wt(Zt.exit),Xt("true")):Xt("false"));Xt($t=$t.append(Ct,Zt))}else $t=Zt.def(Vn,".profile");ln(Ln=Ct.block()),Zt("if(",$t,"){",Ln,"}"),Wt(Ct=Ct.block()),Zt.exit("if(",$t,"){",Ct,"}")}function _n(Ct,Zt,$t,dn,yn){function Sn(Wt,Xt,sn){function cn(){Zt("if(!",Un,".buffer){",Pn,".enableVertexAttribArray(",Vn,");}");var ar,ir=sn.type;ar=sn.size?Zt.def(sn.size,"||",Xt):Xt,Zt("if(",Un,".type!==",ir,"||",Un,".size!==",ar,"||",Qn.map(function(hr){return Un+"."+hr+"!=="+sn[hr]}).join("||"),"){",Pn,".bindBuffer(",34962,",",Xn,".buffer);",Pn,".vertexAttribPointer(",[Vn,ar,ir,sn.normalized,sn.stride,sn.offset],");",Un,".type=",ir,";",Un,".size=",ar,";",Qn.map(function(hr){return Un+"."+hr+"="+sn[hr]+";"}).join(""),"}"),Nt&&(ir=sn.divisor,Zt("if(",Un,".divisor!==",ir,"){",Ct.instancing,".vertexAttribDivisorANGLE(",[Vn,ir],");",Un,".divisor=",ir,";}"))}function Ln(){Zt("if(",Un,".buffer){",Pn,".disableVertexAttribArray(",Vn,");",Un,".buffer=null;","}if(",nt.map(function(ar,ir){return Un+"."+ar+"!=="+Zn[ir]}).join("||"),"){",Pn,".vertexAttrib4f(",Vn,",",Zn,");",nt.map(function(ar,ir){return Un+"."+ar+"="+Zn[ir]+";"}).join(""),"}")}var Pn=ln.gl,Vn=Zt.def(Wt,".location"),Un=Zt.def(ln.attributes,"[",Vn,"]");Wt=sn.state;var Xn=sn.buffer,Zn=[sn.x,sn.y,sn.z,sn.w],Qn=["buffer","normalized","offset","stride"];1===Wt?cn():2===Wt?Ln():(Zt("if(",Wt,"===",1,"){"),cn(),Zt("}else{"),Ln(),Zt("}"))}var ln=Ct.shared;dn.forEach(function(Wt){var Xt,sn=Wt.name,cn=$t.attributes[sn];if(cn){if(!yn(cn))return;Xt=cn.append(Ct,Zt)}else{if(!yn(Ze))return;var Ln=Ct.scopeAttrib(sn);Xt={},Object.keys(new qn).forEach(function(Pn){Xt[Pn]=Zt.def(Ln,".",Pn)})}Sn(Ct.link(Wt),function(Pn){switch(Pn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Wt.info.type),Xt)})}function mn(Ct,Zt,$t,dn,yn,Sn){for(var ln,Wt=Ct.shared,Xt=Wt.gl,sn=0;sn<dn.length;++sn){var cn,Ln=(Un=dn[sn]).name,Pn=Un.info.type,Vn=$t.uniforms[Ln],Un=Ct.link(Un)+".location";if(Vn){if(!yn(Vn))continue;if(te(Vn)){if(Ln=Vn.value,35678===Pn||35680===Pn)Zt(Xt,".uniform1i(",Un,",",(Pn=Ct.link(Ln._texture||Ln.color[0]._texture))+".bind());"),Zt.exit(Pn,".unbind();");else if(35674===Pn||35675===Pn||35676===Pn)Vn=2,35675===Pn?Vn=3:35676===Pn&&(Vn=4),Zt(Xt,".uniformMatrix",Vn,"fv(",Un,",false,",Ln=Ct.global.def("new Float32Array(["+Array.prototype.slice.call(Ln)+"])"),");");else{switch(Pn){case 5126:ln="1f";break;case 35664:ln="2f";break;case 35665:ln="3f";break;case 35666:ln="4f";break;case 35670:case 5124:ln="1i";break;case 35671:case 35667:ln="2i";break;case 35672:case 35668:ln="3i";break;case 35673:case 35669:ln="4i"}Zt(Xt,".uniform",ln,"(",Un,",",x(Ln)?Array.prototype.slice.call(Ln):Ln,");")}continue}cn=Vn.append(Ct,Zt)}else{if(!yn(Ze))continue;cn=Zt.def(Wt.uniforms,"[",Ge.id(Ln),"]")}switch(35678===Pn?Zt("if(",cn,"&&",cn,'._reglType==="framebuffer"){',cn,"=",cn,".color[0];","}"):35680===Pn&&Zt("if(",cn,"&&",cn,'._reglType==="framebufferCube"){',cn,"=",cn,".color[0];","}"),Ln=1,Pn){case 35678:case 35680:Pn=Zt.def(cn,"._texture"),Zt(Xt,".uniform1i(",Un,",",Pn,".bind());"),Zt.exit(Pn,".unbind();");continue;case 5124:case 35670:ln="1i";break;case 35667:case 35671:ln="2i",Ln=2;break;case 35668:case 35672:ln="3i",Ln=3;break;case 35669:case 35673:ln="4i",Ln=4;break;case 5126:ln="1f";break;case 35664:ln="2f",Ln=2;break;case 35665:ln="3f",Ln=3;break;case 35666:ln="4f",Ln=4;break;case 35674:ln="Matrix2fv";break;case 35675:ln="Matrix3fv";break;case 35676:ln="Matrix4fv"}if("M"===ln.charAt(0)){Zt(Xt,".uniform",ln,"(",Un,","),Un=Math.pow(Pn-35674+2,2);var Xn=Ct.global.def("new Float32Array(",Un,")");Array.isArray(cn)?Zt("false,(",b(Un,function(Qn){return Xn+"["+Qn+"]="+cn[Qn]}),",",Xn,")"):Zt("false,(Array.isArray(",cn,")||",cn," instanceof Float32Array)?",cn,":(",b(Un,function(Qn){return Xn+"["+Qn+"]="+cn+"["+Qn+"]"}),",",Xn,")"),Zt(");")}else{if(1<Ln){Pn=[];var Zn=[];for(Vn=0;Vn<Ln;++Vn)Array.isArray(cn)?Zn.push(cn[Vn]):Zn.push(Zt.def(cn+"["+Vn+"]")),Sn&&Pn.push(Zt.def());Sn&&Zt("if(!",Ct.batchId,"||",Pn.map(function(Qn,ar){return Qn+"!=="+Zn[ar]}).join("||"),"){",Pn.map(function(Qn,ar){return Qn+"="+Zn[ar]+";"}).join("")),Zt(Xt,".uniform",ln,"(",Un,",",Zn.join(","),");")}else Sn&&(Pn=Zt.def(),Zt("if(!",Ct.batchId,"||",Pn,"!==",cn,"){",Pn,"=",cn,";")),Zt(Xt,".uniform",ln,"(",Un,",",cn,");");Sn&&Zt("}")}}}function An(Ct,Zt,$t,dn){function yn(ir){var hr=Pn[ir];return hr?hr.contextDep&&dn.contextDynamic||hr.propDep?hr.append(Ct,$t):hr.append(Ct,Zt):Zt.def(Ln,".",ir)}function Sn(){function ir(){$t(Xt,".drawElementsInstancedANGLE(",[Un,Zn,Qn,Xn+"<<(("+Qn+"-5121)>>1)",Wt],");")}function hr(){$t(Xt,".drawArraysInstancedANGLE(",[Un,Xn,Zn,Wt],");")}Vn&&"null"!==Vn?ar?ir():($t("if(",Vn,"){"),ir(),$t("}else{"),hr(),$t("}")):hr()}function ln(){function ir(){$t(cn+".drawElements("+[Un,Zn,Qn,Xn+"<<(("+Qn+"-5121)>>1)"]+");")}function hr(){$t(cn+".drawArrays("+[Un,Xn,Zn]+");")}Vn&&"null"!==Vn?ar?ir():($t("if(",Vn,"){"),ir(),$t("}else{"),hr(),$t("}")):hr()}var Wt,Xt,ir,hr,sn=Ct.shared,cn=sn.gl,Ln=sn.draw,Pn=dn.draw,Vn=(ir=Pn.elements,hr=Zt,ir?((ir.contextDep&&dn.contextDynamic||ir.propDep)&&(hr=$t),ir=ir.append(Ct,hr),Pn.elementsActive&&hr("if("+ir+")"+cn+".bindBuffer(34963,"+ir+".buffer.buffer);")):(ir=hr.def(),hr(ir,"=",Ln,".","elements",";","if(",ir,"){",cn,".bindBuffer(",34963,",",ir,".buffer.buffer);}","else if(",sn.vao,".currentVAO){",ir,"=",Ct.shared.elements+".getElements("+sn.vao,".currentVAO.elements);",un?"":"if("+ir+")"+cn+".bindBuffer(34963,"+ir+".buffer.buffer);","}")),ir),Un=yn("primitive"),Xn=yn("offset"),Zn=function(){var ir=Pn.count,hr=Zt;return ir?((ir.contextDep&&dn.contextDynamic||ir.propDep)&&(hr=$t),ir=ir.append(Ct,hr)):ir=hr.def(Ln,".","count"),ir}();if("number"==typeof Zn){if(0===Zn)return}else $t("if(",Zn,"){"),$t.exit("}");Nt&&(Wt=yn("instances"),Xt=Ct.instancing);var Qn=Vn+".type",ar=Pn.elements&&te(Pn.elements)&&!Pn.vaoActive;Nt&&("number"!=typeof Wt||0<=Wt)?"string"==typeof Wt?($t("if(",Wt,">0){"),Sn(),$t("}else if(",Wt,"<0){"),ln(),$t("}")):Sn():ln()}function vn(Ct,Zt,$t,dn,yn){return yn=(Zt=Qt()).proc("body",yn),Nt&&(Zt.instancing=yn.def(Zt.shared.extensions,".angle_instanced_arrays")),Ct(Zt,yn,$t,dn),Zt.compile().body}function On(Ct,Zt,$t,dn){an(Ct,Zt),$t.useVAO?$t.drawVAO?Zt(Ct.shared.vao,".setVAO(",$t.drawVAO.append(Ct,Zt),");"):Zt(Ct.shared.vao,".setVAO(",Ct.shared.vao,".targetVAO);"):(Zt(Ct.shared.vao,".setVAO(null);"),_n(Ct,Zt,$t,dn.attributes,function(){return!0})),mn(Ct,Zt,$t,dn.uniforms,function(){return!0},!1),An(Ct,Zt,Zt,$t)}function Bn(Ct,Zt,$t,dn){function yn(){return!0}Ct.batchId="a1",an(Ct,Zt),_n(Ct,Zt,$t,dn.attributes,yn),mn(Ct,Zt,$t,dn.uniforms,yn,!1),An(Ct,Zt,Zt,$t)}function er(Ct,Zt,$t,dn){function yn(Ln){return Ln.contextDep&&ln||Ln.propDep}function Sn(Ln){return!yn(Ln)}an(Ct,Zt);var ln=$t.contextDep,Wt=Zt.def(),Xt=Zt.def();Ct.shared.props=Xt,Ct.batchId=Wt;var sn=Ct.scope(),cn=Ct.scope();Zt(sn.entry,"for(",Wt,"=0;",Wt,"<","a1",";++",Wt,"){",Xt,"=","a0","[",Wt,"];",cn,"}",sn.exit),$t.needsContext&&on(Ct,cn,$t.context),$t.needsFramebuffer&&Ht(Ct,cn,$t.framebuffer),Kt(Ct,cn,$t.state,yn),$t.profile&&yn($t.profile)&&xn(Ct,cn,$t,!1,!0),dn?($t.useVAO?$t.drawVAO?yn($t.drawVAO)?cn(Ct.shared.vao,".setVAO(",$t.drawVAO.append(Ct,cn),");"):sn(Ct.shared.vao,".setVAO(",$t.drawVAO.append(Ct,sn),");"):sn(Ct.shared.vao,".setVAO(",Ct.shared.vao,".targetVAO);"):(sn(Ct.shared.vao,".setVAO(null);"),_n(Ct,sn,$t,dn.attributes,Sn),_n(Ct,cn,$t,dn.attributes,yn)),mn(Ct,sn,$t,dn.uniforms,Sn,!1),mn(Ct,cn,$t,dn.uniforms,yn,!0),An(Ct,sn,cn,$t)):(Zt=Ct.global.def("{}"),dn=$t.shader.progVar.append(Ct,cn),Xt=cn.def(dn,".id"),sn=cn.def(Zt,"[",Xt,"]"),cn(Ct.shared.gl,".useProgram(",dn,".program);","if(!",sn,"){",sn,"=",Zt,"[",Xt,"]=",Ct.link(function(Ln){return vn(Bn,Ct,$t,Ln,2)}),"(",dn,");}",sn,".call(this,a0[",Wt,"],",Wt,");"))}function or(Ct,Zt){function $t(Wt){var Xt=Zt.shader[Wt];Xt&&(Xt=Xt.append(Ct,dn),isNaN(Xt)?dn.set(yn.shader,"."+Wt,Xt):dn.set(yn.shader,"."+Wt,Ct.link(Xt,{stable:!0})))}var dn=Ct.proc("scope",3);Ct.batchId="a2";var yn=Ct.shared,Sn=yn.current;if(on(Ct,dn,Zt.context),Zt.framebuffer&&Zt.framebuffer.append(Ct,dn),U(Object.keys(Zt.state)).forEach(function(Wt){var Xt=Zt.state[Wt],sn=Xt.append(Ct,dn);x(sn)?sn.forEach(function(cn,Ln){isNaN(cn)?dn.set(Ct.next[Wt],"["+Ln+"]",cn):dn.set(Ct.next[Wt],"["+Ln+"]",Ct.link(cn,{stable:!0}))}):te(Xt)?dn.set(yn.next,"."+Wt,Ct.link(sn,{stable:!0})):dn.set(yn.next,"."+Wt,sn)}),xn(Ct,dn,Zt,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Wt){var Xt=Zt.draw[Wt];Xt&&(Xt=Xt.append(Ct,dn),isNaN(Xt)?dn.set(yn.draw,"."+Wt,Xt):dn.set(yn.draw,"."+Wt,Ct.link(Xt),{stable:!0}))}),Object.keys(Zt.uniforms).forEach(function(Wt){var Xt=Zt.uniforms[Wt].append(Ct,dn);Array.isArray(Xt)&&(Xt="["+Xt.map(function(sn){return isNaN(sn)?sn:Ct.link(sn,{stable:!0})})+"]"),dn.set(yn.uniforms,"["+Ct.link(Ge.id(Wt),{stable:!0})+"]",Xt)}),Object.keys(Zt.attributes).forEach(function(Wt){var Xt=Zt.attributes[Wt].append(Ct,dn),sn=Ct.scopeAttrib(Wt);Object.keys(new qn).forEach(function(cn){dn.set(sn,"."+cn,Xt[cn])})}),Zt.scopeVAO){var ln=Zt.scopeVAO.append(Ct,dn);isNaN(ln)?dn.set(yn.vao,".targetVAO",ln):dn.set(yn.vao,".targetVAO",Ct.link(ln,{stable:!0}))}$t("vert"),$t("frag"),0<Object.keys(Zt.state).length&&(dn(Sn,".dirty=true;"),dn.exit(Sn,".dirty=true;")),dn("a1(",Ct.shared.context,",a0,",Ct.batchId,");")}function $n(Ct,Zt,$t){var dn=Zt.static[$t];if(dn&&function(cn){if("object"==typeof cn&&!x(cn)){for(var Ln=Object.keys(cn),Pn=0;Pn<Ln.length;++Pn)if(ae.isDynamic(cn[Ln[Pn]]))return!0;return!1}}(dn)){var yn=Ct.global,Sn=Object.keys(dn),ln=!1,Wt=!1,Xt=!1,sn=Ct.global.def("{}");Sn.forEach(function(cn){var Ln=dn[cn];if(ae.isDynamic(Ln))"function"==typeof Ln&&(Ln=dn[cn]=ae.unbox(Ln)),cn=X(Ln,null),ln=ln||cn.thisDep,Xt=Xt||cn.propDep,Wt=Wt||cn.contextDep;else{switch(yn(sn,".",cn,"="),typeof Ln){case"number":yn(Ln);break;case"string":yn('"',Ln,'"');break;case"object":Array.isArray(Ln)&&yn("[",Ln.join(),"]");break;default:yn(Ct.link(Ln))}yn(";")}}),Zt.dynamic[$t]=new ae.DynamicVariable(4,{thisDep:ln,contextDep:Wt,propDep:Xt,ref:sn,append:function(cn,Ln){Sn.forEach(function(Pn){var Vn=dn[Pn];ae.isDynamic(Vn)&&(Vn=cn.invoke(Ln,Vn),Ln(sn,".",Pn,"=",Vn,";"))})}}),delete Zt.static[$t]}}var qn=pt.Record,cr={add:32774,subtract:32778,"reverse subtract":32779};rt.ext_blend_minmax&&(cr.min=32775,cr.max=32776);var Nt=rt.angle_instanced_arrays,Jt=rt.webgl_draw_buffers,un=rt.oes_vertex_array_object,fn={dirty:!0,profile:At.profile},Mn={},Fn=[],In={},Rn={};It("dither",3024),It("blend.enable",3042),qt("blend.color","blendColor",[0,0,0,0]),qt("blend.equation","blendEquationSeparate",[32774,32774]),qt("blend.func","blendFuncSeparate",[1,0,1,0]),It("depth.enable",2929,!0),qt("depth.func","depthFunc",513),qt("depth.range","depthRange",[0,1]),qt("depth.mask","depthMask",!0),qt("colorMask","colorMask",[!0,!0,!0,!0]),It("cull.enable",2884),qt("cull.face","cullFace",1029),qt("frontFace","frontFace",2305),qt("lineWidth","lineWidth",1),It("polygonOffset.enable",32823),qt("polygonOffset.offset","polygonOffset",[0,0]),It("sample.alpha",32926),It("sample.enable",32928),qt("sample.coverage","sampleCoverage",[1,!1]),It("stencil.enable",2960),qt("stencil.mask","stencilMask",-1),qt("stencil.func","stencilFunc",[519,0,-1]),qt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),qt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),It("scissor.enable",3089),qt("scissor.box","scissor",[0,0,Ne.drawingBufferWidth,Ne.drawingBufferHeight]),qt("viewport","viewport",[0,0,Ne.drawingBufferWidth,Ne.drawingBufferHeight]);var Jn={gl:Ne,context:kt,strings:Ge,next:Mn,current:fn,draw:ut,elements:Fe,buffer:Re,shader:dt,attributes:pt.state,vao:pt,uniforms:ct,framebuffer:We,extensions:rt,timer:yt,isBufferArgs:F},Yt={primTypes:Se,compareFuncs:Pt,blendFuncs:Ot,blendEquations:cr,stencilOps:St,glTypes:ye,orientationType:qe};Jt&&(Yt.backBuffer=[1029],Yt.drawBuffer=b(tt.maxDrawbuffers,function(Ct){return 0===Ct?[0]:b(Ct,function(Zt){return 36064+Zt})}));var gn=0;return{next:Mn,current:fn,procs:function(){var Ct=Qt(),Zt=Ct.proc("poll"),$t=Ct.proc("refresh"),dn=Ct.block();Zt(dn),$t(dn);var yn,Sn=(Xt=Ct.shared).gl,ln=Xt.next,Wt=Xt.current;dn(Wt,".dirty=false;"),Ht(Ct,Zt),Ht(Ct,$t,null,!0),Nt&&(yn=Ct.link(Nt)),rt.oes_vertex_array_object&&$t(Ct.link(rt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Xt=$t.def(Xt.attributes),sn=$t.def(0),cn=Ct.cond(sn,".buffer");cn.then(Sn,".enableVertexAttribArray(i);",Sn,".bindBuffer(",34962,",",sn,".buffer.buffer);",Sn,".vertexAttribPointer(i,",sn,".size,",sn,".type,",sn,".normalized,",sn,".stride,",sn,".offset);").else(Sn,".disableVertexAttribArray(i);",Sn,".vertexAttrib4f(i,",sn,".x,",sn,".y,",sn,".z,",sn,".w);",sn,".buffer=null;");var Ln=Ct.link(tt.maxAttributes,{stable:!0});return $t("for(var i=0;i<",Ln,";++i){",sn,"=",Xt,"[i];",cn,"}"),Nt&&$t("for(var i=0;i<",Ln,";++i){",yn,".vertexAttribDivisorANGLE(i,",Xt,"[i].divisor);","}"),$t(Ct.shared.vao,".currentVAO=null;",Ct.shared.vao,".setVAO(",Ct.shared.vao,".targetVAO);"),Object.keys(In).forEach(function(Pn){var Vn=In[Pn],Un=dn.def(ln,".",Pn),Xn=Ct.block();Xn("if(",Un,"){",Sn,".enable(",Vn,")}else{",Sn,".disable(",Vn,")}",Wt,".",Pn,"=",Un,";"),$t(Xn),Zt("if(",Un,"!==",Wt,".",Pn,"){",Xn,"}")}),Object.keys(Rn).forEach(function(Pn){var Vn,Un,Xn=Rn[Pn],Zn=fn[Pn],Qn=Ct.block();Qn(Sn,".",Xn,"("),x(Zn)?(Xn=Zn.length,Vn=Ct.global.def(ln,".",Pn),Un=Ct.global.def(Wt,".",Pn),Qn(b(Xn,function(ar){return Vn+"["+ar+"]"}),");",b(Xn,function(ar){return Un+"["+ar+"]="+Vn+"["+ar+"];"}).join("")),Zt("if(",b(Xn,function(ar){return Vn+"["+ar+"]!=="+Un+"["+ar+"]"}).join("||"),"){",Qn,"}")):(Vn=dn.def(ln,".",Pn),Un=dn.def(Wt,".",Pn),Qn(Vn,");",Wt,".",Pn,"=",Vn,";"),Zt("if(",Vn,"!==",Un,"){",Qn,"}")),$t(Qn)}),Ct.compile()}(),compile:function(Ct,Zt,$t,dn,yn){var Sn=Qt();Sn.stats=Sn.link(yn),Object.keys(Zt.static).forEach(function(Wt){$n(Sn,Zt,Wt)}),wt.forEach(function(Wt){$n(Sn,Ct,Wt)});var ln=kn(Ct,Zt,$t,dn);return ln.shader.program&&(ln.shader.program.attributes.sort(function(Wt,Xt){return Wt.name<Xt.name?-1:1}),ln.shader.program.uniforms.sort(function(Wt,Xt){return Wt.name<Xt.name?-1:1})),function(Wt,Xt){var sn=Wt.proc("draw",1);an(Wt,sn),on(Wt,sn,Xt.context),Ht(Wt,sn,Xt.framebuffer),nn(Wt,sn,Xt),Kt(Wt,sn,Xt.state),xn(Wt,sn,Xt,!1,!0);var cn=Xt.shader.progVar.append(Wt,sn);if(sn(Wt.shared.gl,".useProgram(",cn,".program);"),Xt.shader.program)On(Wt,sn,Xt,Xt.shader.program);else{sn(Wt.shared.vao,".setVAO(null);");var Ln=Wt.global.def("{}"),Pn=sn.def(cn,".id"),Vn=sn.def(Ln,"[",Pn,"]");sn(Wt.cond(Vn).then(Vn,".call(this,a0);").else(Vn,"=",Ln,"[",Pn,"]=",Wt.link(function(Un){return vn(On,Wt,Xt,Un,1)}),"(",cn,");",Vn,".call(this,a0);"))}0<Object.keys(Xt.state).length&&sn(Wt.shared.current,".dirty=true;"),Wt.shared.vao&&sn(Wt.shared.vao,".setVAO(null);")}(Sn,ln),or(Sn,ln),function(Wt,Xt){function sn(Zn){return Zn.contextDep&&Ln||Zn.propDep}var cn=Wt.proc("batch",2);Wt.batchId="0",an(Wt,cn);var Ln=!1,Pn=!0;Object.keys(Xt.context).forEach(function(Zn){Ln=Ln||Xt.context[Zn].propDep}),Ln||(on(Wt,cn,Xt.context),Pn=!1);var Vn=!1;if((Un=Xt.framebuffer)?(Un.propDep?Ln=Vn=!0:Un.contextDep&&Ln&&(Vn=!0),Vn||Ht(Wt,cn,Un)):Ht(Wt,cn,null),Xt.state.viewport&&Xt.state.viewport.propDep&&(Ln=!0),nn(Wt,cn,Xt),Kt(Wt,cn,Xt.state,function(Zn){return!sn(Zn)}),Xt.profile&&sn(Xt.profile)||xn(Wt,cn,Xt,!1,"a1"),Xt.contextDep=Ln,Xt.needsContext=Pn,Xt.needsFramebuffer=Vn,(Pn=Xt.shader.progVar).contextDep&&Ln||Pn.propDep)er(Wt,cn,Xt,null);else if(Pn=Pn.append(Wt,cn),cn(Wt.shared.gl,".useProgram(",Pn,".program);"),Xt.shader.program)er(Wt,cn,Xt,Xt.shader.program);else{cn(Wt.shared.vao,".setVAO(null);");var Un=Wt.global.def("{}"),Xn=(Vn=cn.def(Pn,".id"),cn.def(Un,"[",Vn,"]"));cn(Wt.cond(Xn).then(Xn,".call(this,a0,a1);").else(Xn,"=",Un,"[",Vn,"]=",Wt.link(function(Zn){return vn(er,Wt,Xt,Zn,2)}),"(",Pn,");",Xn,".call(this,a0,a1);"))}0<Object.keys(Xt.state).length&&cn(Wt.shared.current,".dirty=true;"),Wt.shared.vao&&cn(Wt.shared.vao,".setVAO(null);")}(Sn,ln),Q(Sn.compile(),{destroy:function(){ln.shader.program.destroy()}})}}}function J(Ne,Ge){for(var rt=0;rt<Ne.length;++rt)if(Ne[rt]===Ge)return rt;return-1}var Q=function(Ne,Ge){for(var rt=Object.keys(Ge),tt=0;tt<rt.length;++tt)Ne[rt[tt]]=Ge[rt[tt]];return Ne},re=0,ae={DynamicVariable:D,define:function(Ne,Ge){return new D(Ne,M(Ge+""))},isDynamic:function(Ne){return"function"==typeof Ne&&!Ne._reglType||Ne instanceof D},unbox:function Ne(Ge,rt){return"function"==typeof Ge?new D(0,Ge):"number"==typeof Ge||"boolean"==typeof Ge?new D(5,Ge):Array.isArray(Ge)?new D(6,Ge.map(function(tt,Re){return Ne(tt,rt+"["+Re+"]")})):Ge instanceof D?Ge:void 0},accessor:M},oe={next:"function"==typeof requestAnimationFrame?function(Ne){return requestAnimationFrame(Ne)}:function(Ne){return setTimeout(Ne,16)},cancel:"function"==typeof cancelAnimationFrame?function(Ne){return cancelAnimationFrame(Ne)}:clearTimeout},ue=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},ve=s();ve.zero=s();var be=function(Ne,Ge){var rt=1;Ge.ext_texture_filter_anisotropic&&(rt=Ne.getParameter(34047));var tt=1,Re=1;Ge.webgl_draw_buffers&&(tt=Ne.getParameter(34852),Re=Ne.getParameter(36063));var Fe=!!Ge.oes_texture_float;if(Fe){Fe=Ne.createTexture(),Ne.bindTexture(3553,Fe),Ne.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var et=Ne.createFramebuffer();if(Ne.bindFramebuffer(36160,et),Ne.framebufferTexture2D(36160,36064,3553,Fe,0),Ne.bindTexture(3553,null),36053!==Ne.checkFramebufferStatus(36160))Fe=!1;else{Ne.viewport(0,0,1,1),Ne.clearColor(1,0,0,1),Ne.clear(16384);var We=ve.allocType(5126,4);Ne.readPixels(0,0,1,1,6408,5126,We),Ne.getError()?Fe=!1:(Ne.deleteFramebuffer(et),Ne.deleteTexture(Fe),Fe=1===We[0]),ve.freeType(We)}}return We=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(We=Ne.createTexture(),et=ve.allocType(5121,36),Ne.activeTexture(33984),Ne.bindTexture(34067,We),Ne.texImage2D(34069,0,6408,3,3,0,6408,5121,et),ve.freeType(et),Ne.bindTexture(34067,null),Ne.deleteTexture(We),We=!Ne.getError()),{colorBits:[Ne.getParameter(3410),Ne.getParameter(3411),Ne.getParameter(3412),Ne.getParameter(3413)],depthBits:Ne.getParameter(3414),stencilBits:Ne.getParameter(3415),subpixelBits:Ne.getParameter(3408),extensions:Object.keys(Ge).filter(function(ct){return!!Ge[ct]}),maxAnisotropic:rt,maxDrawbuffers:tt,maxColorAttachments:Re,pointSizeDims:Ne.getParameter(33901),lineWidthDims:Ne.getParameter(33902),maxViewportDims:Ne.getParameter(3386),maxCombinedTextureUnits:Ne.getParameter(35661),maxCubeMapSize:Ne.getParameter(34076),maxRenderbufferSize:Ne.getParameter(34024),maxTextureUnits:Ne.getParameter(34930),maxTextureSize:Ne.getParameter(3379),maxAttributes:Ne.getParameter(34921),maxVertexUniforms:Ne.getParameter(36347),maxVertexTextureUnits:Ne.getParameter(35660),maxVaryingVectors:Ne.getParameter(36348),maxFragmentUniforms:Ne.getParameter(36349),glsl:Ne.getParameter(35724),renderer:Ne.getParameter(7937),vendor:Ne.getParameter(7936),version:Ne.getParameter(7938),readFloat:Fe,npotTextureCube:We}},de=function(Ne){return Ne instanceof Uint8Array||Ne instanceof Uint16Array||Ne instanceof Uint32Array||Ne instanceof Int8Array||Ne instanceof Int16Array||Ne instanceof Int32Array||Ne instanceof Float32Array||Ne instanceof Float64Array||Ne instanceof Uint8ClampedArray},pe=function(Ne){return Object.keys(Ne).map(function(Ge){return Ne[Ge]})},ge={shape:function(Ne){for(var Ge=[];Ne.length;Ne=Ne[0])Ge.push(Ne.length);return Ge},flatten:function(Ne,Ge,rt,tt){var Re=1;if(Ge.length)for(var Fe=0;Fe<Ge.length;++Fe)Re*=Ge[Fe];else Re=0;switch(rt=tt||ve.allocType(rt,Re),Ge.length){case 0:break;case 1:for(tt=Ge[0],Ge=0;Ge<tt;++Ge)rt[Ge]=Ne[Ge];break;case 2:for(tt=Ge[0],Ge=Ge[1],Fe=Re=0;Fe<tt;++Fe)for(var et=Ne[Fe],We=0;We<Ge;++We)rt[Re++]=et[We];break;case 3:i(Ne,Ge[0],Ge[1],Ge[2],rt,0);break;default:n(Ne,Ge,0,rt,0)}return rt}},Ae={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ye={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},we={dynamic:35048,stream:35040,static:35044},se=ge.flatten,ie=ge.shape,he=[];he[5120]=1,he[5122]=2,he[5124]=4,he[5121]=1,he[5123]=2,he[5125]=4,he[5126]=4;var Se={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},_e=new Float32Array(1),Me=new Uint32Array(_e.buffer),Ee=[9984,9986,9985,9987],Ie=[0,6409,6410,6407,6408],fe={};fe[6409]=fe[6406]=fe[6402]=1,fe[34041]=fe[6410]=2,fe[6407]=fe[35904]=3,fe[6408]=fe[35906]=4;var xe=g("HTMLCanvasElement"),Te=g("OffscreenCanvas"),Ce=g("CanvasRenderingContext2D"),De=g("ImageBitmap"),ze=g("HTMLImageElement"),Ue=g("HTMLVideoElement"),Ve=Object.keys(Ae).concat([xe,Te,Ce,De,ze,Ue]),Xe=[];Xe[5121]=1,Xe[5126]=4,Xe[36193]=2,Xe[5123]=2,Xe[5125]=4;var at=[];at[32854]=2,at[32855]=2,at[36194]=2,at[34041]=4,at[33776]=.5,at[33777]=.5,at[33778]=1,at[33779]=1,at[35986]=.5,at[35987]=1,at[34798]=1,at[35840]=.5,at[35841]=.25,at[35842]=.5,at[35843]=.25,at[36196]=.5;var st=[];st[32854]=2,st[32855]=2,st[36194]=2,st[33189]=2,st[36168]=1,st[34041]=4,st[35907]=4,st[34836]=16,st[34842]=8,st[34843]=6;var ht=function(Ne,Ge,rt,tt,Re){function Fe(ut){this.id=pt++,this.refCount=1,this.renderbuffer=ut,this.format=32854,this.height=this.width=0,Re.profile&&(this.stats={size:0})}function et(ut){var kt=ut.renderbuffer;Ne.bindRenderbuffer(36161,null),Ne.deleteRenderbuffer(kt),ut.renderbuffer=null,ut.refCount=0,delete dt[ut.id],tt.renderbufferCount--}var We={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Ge.ext_srgb&&(We.srgba=35907),Ge.ext_color_buffer_half_float&&(We.rgba16f=34842,We.rgb16f=34843),Ge.webgl_color_buffer_float&&(We.rgba32f=34836);var ct=[];Object.keys(We).forEach(function(ut){ct[We[ut]]=ut});var pt=0,dt={};return Fe.prototype.decRef=function(){0>=--this.refCount&&et(this)},Re.profile&&(tt.getTotalRenderbufferSize=function(){var ut=0;return Object.keys(dt).forEach(function(kt){ut+=dt[kt].stats.size}),ut}),{create:function(ut,kt){function yt(At,Lt){var It=0,qt=0,Qt=32854;if("object"==typeof At&&At?("shape"in At?(It=0|(qt=At.shape)[0],qt=0|qt[1]):("radius"in At&&(It=qt=0|At.radius),"width"in At&&(It=0|At.width),"height"in At&&(qt=0|At.height)),"format"in At&&(Qt=We[At.format])):"number"==typeof At?(It=0|At,qt="number"==typeof Lt?0|Lt:It):At||(It=qt=1),It!==gt.width||qt!==gt.height||Qt!==gt.format)return yt.width=gt.width=It,yt.height=gt.height=qt,gt.format=Qt,Ne.bindRenderbuffer(36161,gt.renderbuffer),Ne.renderbufferStorage(36161,Qt,It,qt),Re.profile&&(gt.stats.size=st[gt.format]*gt.width*gt.height),yt.format=ct[gt.format],yt}var gt=new Fe(Ne.createRenderbuffer());return dt[gt.id]=gt,tt.renderbufferCount++,yt(ut,kt),yt.resize=function(At,Lt){var It=0|At,qt=0|Lt||It;return It===gt.width&&qt===gt.height||(yt.width=gt.width=It,yt.height=gt.height=qt,Ne.bindRenderbuffer(36161,gt.renderbuffer),Ne.renderbufferStorage(36161,gt.format,It,qt),Re.profile&&(gt.stats.size=st[gt.format]*gt.width*gt.height)),yt},yt._reglType="renderbuffer",yt._renderbuffer=gt,Re.profile&&(yt.stats=gt.stats),yt.destroy=function(){gt.decRef()},yt},clear:function(){pe(dt).forEach(et)},restore:function(){pe(dt).forEach(function(ut){ut.renderbuffer=Ne.createRenderbuffer(),Ne.bindRenderbuffer(36161,ut.renderbuffer),Ne.renderbufferStorage(36161,ut.format,ut.width,ut.height)}),Ne.bindRenderbuffer(36161,null)}}},bt=[];bt[6408]=4,bt[6407]=3;var vt=[];vt[5121]=1,vt[5126]=4,vt[36193]=2;var Qe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],nt=["x","y","z","w"],wt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ot={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Pt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},St={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},qe={cw:2304,ccw:2305},Ze=new V(!1,!1,!1,function(){});return function(Ne){function Ge(){if(0===Bn.length)Vt&&Vt.update(),qn=null;else{qn=oe.next(Ge),dt();for(var Nt=Bn.length-1;0<=Nt;--Nt){var Jt=Bn[Nt];Jt&&Jt(kn,null,0)}yt.flush(),Vt&&Vt.update()}}function rt(){!qn&&0<Bn.length&&(qn=oe.next(Ge))}function tt(){qn&&(oe.cancel(Ge),qn=null)}function Re(Nt){Nt.preventDefault(),tt(),er.forEach(function(Jt){Jt()})}function Fe(Nt){yt.getError(),At.restore(),an.restore(),Ht.restore(),xn.restore(),_n.restore(),mn.restore(),Kt.restore(),Vt&&Vt.restore(),An.procs.refresh(),rt(),or.forEach(function(Jt){Jt()})}function et(Nt){function Jt(Ct,Zt){var $t={},dn={};return Object.keys(Ct).forEach(function(yn){var Sn=Ct[yn];if(ae.isDynamic(Sn))dn[yn]=ae.unbox(Sn,yn);else{if(Zt&&Array.isArray(Sn))for(var ln=0;ln<Sn.length;++ln)if(ae.isDynamic(Sn[ln]))return void(dn[yn]=ae.unbox(Sn,yn));$t[yn]=Sn}}),{dynamic:dn,static:$t}}var un=Jt(Nt.context||{},!0),fn=Jt(Nt.uniforms||{},!0),Mn=Jt(Nt.attributes||{},!1);Nt=Jt(function(Ct){function Zt(dn){if(dn in $t){var yn=$t[dn];delete $t[dn],Object.keys(yn).forEach(function(Sn){$t[dn+"."+Sn]=yn[Sn]})}}var $t=Q({},Ct);return delete $t.uniforms,delete $t.attributes,delete $t.context,delete $t.vao,"stencil"in $t&&$t.stencil.op&&($t.stencil.opBack=$t.stencil.opFront=$t.stencil.op,delete $t.stencil.op),Zt("blend"),Zt("depth"),Zt("cull"),Zt("stencil"),Zt("polygonOffset"),Zt("scissor"),Zt("sample"),"vao"in Ct&&($t.vao=Ct.vao),$t}(Nt),!1);var Fn={gpuTime:0,cpuTime:0,count:0},In=An.compile(Nt,Mn,fn,un,Fn),Rn=In.draw,Jn=In.batch,Yt=In.scope,gn=[];return Q(function(Ct,Zt){var $t;if("function"==typeof Ct)return Yt.call(this,null,Ct,0);if("function"==typeof Zt)if("number"==typeof Ct)for($t=0;$t<Ct;++$t)Yt.call(this,null,Zt,$t);else{if(!Array.isArray(Ct))return Yt.call(this,Ct,Zt,0);for($t=0;$t<Ct.length;++$t)Yt.call(this,Ct[$t],Zt,$t)}else if("number"==typeof Ct){if(0<Ct)return Jn.call(this,function(dn){for(;gn.length<dn;)gn.push(null);return gn}(0|Ct),0|Ct)}else{if(!Array.isArray(Ct))return Rn.call(this,Ct);if(Ct.length)return Jn.call(this,Ct,Ct.length)}},{stats:Fn,destroy:function(){In.destroy()}})}function We(Nt,Jt){var un=0;An.procs.poll();var fn=Jt.color;fn&&(yt.clearColor(+fn[0]||0,+fn[1]||0,+fn[2]||0,+fn[3]||0),un|=16384),"depth"in Jt&&(yt.clearDepth(+Jt.depth),un|=256),"stencil"in Jt&&(yt.clearStencil(0|Jt.stencil),un|=1024),yt.clear(un)}function ct(Nt){return Bn.push(Nt),rt(),{cancel:function(){var Jt=J(Bn,Nt);Bn[Jt]=function un(){var fn=J(Bn,un);Bn[fn]=Bn[Bn.length-1],--Bn.length,0>=Bn.length&&tt()}}}}function pt(){var Nt=vn.viewport,Jt=vn.scissor_box;Nt[0]=Nt[1]=Jt[0]=Jt[1]=0,kn.viewportWidth=kn.framebufferWidth=kn.drawingBufferWidth=Nt[2]=Jt[2]=yt.drawingBufferWidth,kn.viewportHeight=kn.framebufferHeight=kn.drawingBufferHeight=Nt[3]=Jt[3]=yt.drawingBufferHeight}function dt(){kn.tick+=1,kn.time=kt(),pt(),An.procs.poll()}function ut(){xn.refresh(),pt(),An.procs.refresh(),Vt&&Vt.update()}function kt(){return(ue()-Ft)/1e3}if(!(Ne=T(Ne)))return null;var yt=Ne.gl,gt=yt.getContextAttributes();yt.isContextLost();var At=function(Nt,Jt){function un(In){var Rn;In=In.toLowerCase();try{Rn=fn[In]=Nt.getExtension(In)}catch{}return!!Rn}for(var fn={},Mn=0;Mn<Jt.extensions.length;++Mn){var Fn=Jt.extensions[Mn];if(!un(Fn))return Jt.onDestroy(),Jt.onDone('"'+Fn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Jt.optionalExtensions.forEach(un),{extensions:fn,restore:function(){Object.keys(fn).forEach(function(In){if(fn[In]&&!un(In))throw Error("(regl): error restoring extension "+In)})}}}(yt,Ne);if(!At)return null;var Nt,Jt,Lt=(Nt={"":0},Jt=[""],{id:function(un){var fn=Nt[un];return fn||(fn=Nt[un]=Jt.length,Jt.push(un),fn)},str:function(un){return Jt[un]}}),It={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},qt=Ne.cachedCode||{},Qt=At.extensions,Vt=function(Nt,Jt){function un(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function fn(gn,Ct,Zt){var $t=In.pop()||new un;$t.startQueryIndex=gn,$t.endQueryIndex=Ct,$t.sum=0,$t.stats=Zt,Rn.push($t)}if(!Jt.ext_disjoint_timer_query)return null;var Mn=[],Fn=[],In=[],Rn=[],Jn=[],Yt=[];return{beginQuery:function(gn){var Ct=Mn.pop()||Jt.ext_disjoint_timer_query.createQueryEXT();Jt.ext_disjoint_timer_query.beginQueryEXT(35007,Ct),Fn.push(Ct),fn(Fn.length-1,Fn.length,gn)},endQuery:function(){Jt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:fn,update:function(){var gn,Ct;if(0!==(gn=Fn.length)){Yt.length=Math.max(Yt.length,gn+1),Jn.length=Math.max(Jn.length,gn+1),Jn[0]=0;var Zt=Yt[0]=0;for(Ct=gn=0;Ct<Fn.length;++Ct){var $t=Fn[Ct];Jt.ext_disjoint_timer_query.getQueryObjectEXT($t,34919)?(Zt+=Jt.ext_disjoint_timer_query.getQueryObjectEXT($t,34918),Mn.push($t)):Fn[gn++]=$t,Jn[Ct+1]=Zt,Yt[Ct+1]=gn}for(Fn.length=gn,Ct=gn=0;Ct<Rn.length;++Ct){var dn=(Zt=Rn[Ct]).startQueryIndex;$t=Zt.endQueryIndex,Zt.sum+=Jn[$t]-Jn[dn],dn=Yt[dn],($t=Yt[$t])===dn?(Zt.stats.gpuTime+=Zt.sum/1e6,In.push(Zt)):(Zt.startQueryIndex=dn,Zt.endQueryIndex=$t,Rn[gn++]=Zt)}Rn.length=gn}},getNumPendingQueries:function(){return Fn.length},clear:function(){Mn.push.apply(Mn,Fn);for(var gn=0;gn<Mn.length;gn++)Jt.ext_disjoint_timer_query.deleteQueryEXT(Mn[gn]);Fn.length=0,Mn.length=0},restore:function(){Fn.length=0,Mn.length=0}}}(0,Qt),Ft=ue(),en=yt.drawingBufferWidth,wn=yt.drawingBufferHeight,kn={tick:0,time:0,viewportWidth:en,viewportHeight:wn,framebufferWidth:en,framebufferHeight:wn,drawingBufferWidth:en,drawingBufferHeight:wn,pixelRatio:Ne.pixelRatio},on=(en={elements:null,primitive:4,count:-1,offset:0,instances:-1},be(yt,Qt)),Ht=u(yt,It,Ne,function(Nt){return Kt.destroyBuffer(Nt)}),nn=d(yt,Qt,Ht,It),Kt=C(yt,Qt,on,It,Ht,nn,en),an=O(yt,Lt,It,Ne),xn=S(yt,Qt,on,function(){An.procs.poll()},kn,It,Ne),_n=ht(yt,Qt,0,It,Ne),mn=w(yt,Qt,on,xn,_n,It),An=W(yt,Lt,Qt,on,Ht,nn,0,mn,{},Kt,an,en,kn,Vt,qt,Ne),vn=(Lt=P(yt,mn,An.procs.poll,kn),An.next),On=yt.canvas,Bn=[],er=[],or=[],$n=[Ne.onDestroy],qn=null;On&&(On.addEventListener("webglcontextlost",Re,!1),On.addEventListener("webglcontextrestored",Fe,!1));var cr=mn.setFBO=et({framebuffer:ae.define.call(null,1,"framebuffer")});return ut(),gt=Q(et,{clear:function(Nt){if("framebuffer"in Nt)if(Nt.framebuffer&&"framebufferCube"===Nt.framebuffer_reglType)for(var Jt=0;6>Jt;++Jt)cr(Q({framebuffer:Nt.framebuffer.faces[Jt]},Nt),We);else cr(Nt,We);else We(0,Nt)},prop:ae.define.bind(null,1),context:ae.define.bind(null,2),this:ae.define.bind(null,3),draw:et({}),buffer:function(Nt){return Ht.create(Nt,34962,!1,!1)},elements:function(Nt){return nn.create(Nt,!1)},texture:xn.create2D,cube:xn.createCube,renderbuffer:_n.create,framebuffer:mn.create,framebufferCube:mn.createCube,vao:Kt.createVAO,attributes:gt,frame:ct,on:function(Nt,Jt){var un;switch(Nt){case"frame":return ct(Jt);case"lost":un=er;break;case"restore":un=or;break;case"destroy":un=$n}return un.push(Jt),{cancel:function(){for(var fn=0;fn<un.length;++fn)if(un[fn]===Jt){un[fn]=un[un.length-1],un.pop();break}}}},limits:on,hasExtension:function(Nt){return 0<=on.extensions.indexOf(Nt.toLowerCase())},read:Lt,destroy:function(){Bn.length=0,tt(),On&&(On.removeEventListener("webglcontextlost",Re),On.removeEventListener("webglcontextrestored",Fe)),an.clear(),mn.clear(),_n.clear(),Kt.clear(),xn.clear(),nn.clear(),Ht.clear(),Vt&&Vt.clear(),$n.forEach(function(Nt){Nt()})},_gl:yt,_refresh:ut,poll:function(){dt(),Vt&&Vt.update()},now:kt,stats:It,getCachedCode:function(){return qt},preloadCachedCode:function(Nt){Object.entries(Nt).forEach(function(Jt){qt[Jt[0]]=Jt[1]})}}),Ne.onDone(null,gt),gt}}()},71665:function(ee,D,e){var M=e(12856),k=M.Buffer;function a(b,p){for(var s in b)p[s]=b[s]}function T(b,p,s){return k(b,p,s)}k.from&&k.alloc&&k.allocUnsafe&&k.allocUnsafeSlow?ee.exports=M:(a(M,D),D.Buffer=T),T.prototype=Object.create(k.prototype),a(k,T),T.from=function(b,p,s){if("number"==typeof b)throw new TypeError("Argument must not be a number");return k(b,p,s)},T.alloc=function(b,p,s){if("number"!=typeof b)throw new TypeError("Argument must be a number");var t=k(b);return void 0!==p?"string"==typeof s?t.fill(p,s):t.fill(p):t.fill(0),t},T.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return k(b)},T.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return M.SlowBuffer(b)}},21630:function(ee,D,e){ee.exports=k;var M=e(15398).EventEmitter;function k(){M.call(this)}e(42018)(k,M),k.Readable=e(40410),k.Writable=e(37493),k.Duplex=e(37865),k.Transform=e(74308),k.PassThrough=e(66897),k.finished=e(12726),k.pipeline=e(10168),k.Stream=k,k.prototype.pipe=function(a,T){var b=this;function p(l){a.writable&&!1===a.write(l)&&b.pause&&b.pause()}function s(){b.readable&&b.resume&&b.resume()}b.on("data",p),a.on("drain",s),a._isStdio||T&&!1===T.end||(b.on("end",i),b.on("close",n));var t=!1;function i(){t||(t=!0,a.end())}function n(){t||(t=!0,"function"==typeof a.destroy&&a.destroy())}function r(l){if(o(),0===M.listenerCount(this,"error"))throw l}function o(){b.removeListener("data",p),a.removeListener("drain",s),b.removeListener("end",i),b.removeListener("close",n),b.removeListener("error",r),a.removeListener("error",r),b.removeListener("end",o),b.removeListener("close",o),a.removeListener("close",o)}return b.on("error",r),a.on("error",r),b.on("end",o),b.on("close",o),a.on("close",o),a.emit("pipe",b),a}},74322:function(ee){"use strict";var D={};function e(k,a,T){T||(T=Error);var b=function(p){var s,t;function i(n,r,o){return p.call(this,(l=n,u=r,d=o,"string"==typeof a?a:a(l,u,d)))||this;var l,u,d}return t=p,(s=i).prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t,i}(T);b.prototype.name=T.name,b.prototype.code=k,D[k]=b}function M(k,a){if(Array.isArray(k)){var T=k.length;return k=k.map(function(b){return String(b)}),T>2?"one of ".concat(a," ").concat(k.slice(0,T-1).join(", "),", or ")+k[T-1]:2===T?"one of ".concat(a," ").concat(k[0]," or ").concat(k[1]):"of ".concat(a," ").concat(k[0])}return"of ".concat(a," ").concat(String(k))}e("ERR_INVALID_OPT_VALUE",function(k,a){return'The value "'+a+'" is invalid for option "'+k+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(k,a,T){var b,p,s,t,i,r,o,l;if("string"==typeof a&&(p="not ",a.substr(0,4)===p)?(b="must not be",a=a.replace(/^not /,"")):b="must be",r=k,o=" argument",(void 0===l||l>r.length)&&(l=r.length),r.substring(l-9,l)===o)s="The ".concat(k," ").concat(b," ").concat(M(a,"type"));else{var n=("number"!=typeof i&&(i=0),i+1>(t=k).length||-1===t.indexOf(".",i)?"argument":"property");s='The "'.concat(k,'" ').concat(n," ").concat(b," ").concat(M(a,"type"))}return s+". Received type ".concat(typeof T)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(k){return"The "+k+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(k){return"Cannot call "+k+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(k){return"Unknown encoding: "+k},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ee.exports.q=D},37865:function(ee,D,e){"use strict";var M=e(90386),k=Object.keys||function(r){var o=[];for(var l in r)o.push(l);return o};ee.exports=t;var a=e(40410),T=e(37493);e(42018)(t,a);for(var b=k(T.prototype),p=0;p<b.length;p++){var s=b[p];t.prototype[s]||(t.prototype[s]=T.prototype[s])}function t(r){if(!(this instanceof t))return new t(r);a.call(this,r),T.call(this,r),this.allowHalfOpen=!0,r&&(!1===r.readable&&(this.readable=!1),!1===r.writable&&(this.writable=!1),!1===r.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",i)))}function i(){this._writableState.ended||M.nextTick(n,this)}function n(r){r.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(r){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=r,this._writableState.destroyed=r)}})},66897:function(ee,D,e){"use strict";ee.exports=k;var M=e(74308);function k(a){if(!(this instanceof k))return new k(a);M.call(this,a)}e(42018)(k,M),k.prototype._transform=function(a,T,b){b(null,a)}},40410:function(ee,D,e){"use strict";var M,k=e(90386);ee.exports=_,_.ReadableState=v,e(15398).EventEmitter;var a,T=function($,X){return $.listeners(X).length},b=e(71405),p=e(12856).Buffer,s=e.g.Uint8Array||function(){},t=e(40964);a=t&&t.debuglog?t.debuglog("stream"):function(){};var i,n,r,o=e(31125),l=e(65756),u=e(56306).getHighWaterMark,d=e(74322).q,c=d.ERR_INVALID_ARG_TYPE,x=d.ERR_STREAM_PUSH_AFTER_EOF,g=d.ERR_METHOD_NOT_IMPLEMENTED,h=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(42018)(_,b);var m=l.errorOrDestroy,y=["error","close","destroy","pause","resume"];function v($,X,W){M=M||e(37865),$=$||{},"boolean"!=typeof W&&(W=X instanceof M),this.objectMode=!!$.objectMode,W&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=u(this,$,"readableHighWaterMark",W),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==$.emitClose,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(i||(i=e(68019).s),this.decoder=new i($.encoding),this.encoding=$.encoding)}function _($){if(M=M||e(37865),!(this instanceof _))return new _($);var X=this instanceof M;this._readableState=new v($,this,X),this.readable=!0,$&&("function"==typeof $.read&&(this._read=$.read),"function"==typeof $.destroy&&(this._destroy=$.destroy)),b.call(this)}function f($,X,W,J,Q){a("readableAddChunk",X);var re,oe,ue,ve,be,ae=$._readableState;if(null===X)ae.reading=!1,function(oe,ue){if(a("onEofChunk"),!ue.ended){if(ue.decoder){var ve=ue.decoder.end();ve&&ve.length&&(ue.buffer.push(ve),ue.length+=ue.objectMode?1:ve.length)}ue.ended=!0,ue.sync?C(oe):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,O(oe)))}}($,ae);else if(Q||(oe=ae,be=ue=X,p.isBuffer(be)||be instanceof s||"string"==typeof ue||void 0===ue||oe.objectMode||(ve=new c("chunk",["string","Buffer","Uint8Array"],ue)),re=ve),re)m($,re);else if(ae.objectMode||X&&X.length>0)if("string"==typeof X||ae.objectMode||Object.getPrototypeOf(X)===p.prototype||(X=function(oe){return p.from(oe)}(X)),J)ae.endEmitted?m($,new h):S($,ae,X,!0);else if(ae.ended)m($,new x);else{if(ae.destroyed)return!1;ae.reading=!1,ae.decoder&&!W?(X=ae.decoder.write(X),ae.objectMode||0!==X.length?S($,ae,X,!1):P($,ae)):S($,ae,X,!1)}else J||(ae.reading=!1,P($,ae));return!ae.ended&&(ae.length<ae.highWaterMark||0===ae.length)}function S($,X,W,J){X.flowing&&0===X.length&&!X.sync?(X.awaitDrain=0,$.emit("data",W)):(X.length+=X.objectMode?1:W.length,J?X.buffer.unshift(W):X.buffer.push(W),X.needReadable&&C($)),P($,X)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),_.prototype.destroy=l.destroy,_.prototype._undestroy=l.undestroy,_.prototype._destroy=function($,X){X($)},_.prototype.push=function($,X){var W,J=this._readableState;return J.objectMode?W=!0:"string"==typeof $&&((X=X||J.defaultEncoding)!==J.encoding&&($=p.from($,X),X=""),W=!0),f(this,$,X,!1,W)},_.prototype.unshift=function($){return f(this,$,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function($){i||(i=e(68019).s);var X=new i($);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,J="";null!==W;)J+=X.write(W.data),W=W.next;return this._readableState.buffer.clear(),""!==J&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};var w=1073741824;function E($,X){return $<=0||0===X.length&&X.ended?0:X.objectMode?1:$!=$?X.flowing&&X.length?X.buffer.head.data.length:X.length:($>X.highWaterMark&&(X.highWaterMark=((W=$)>=w?W=w:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W)),$<=X.length?$:X.ended?X.length:(X.needReadable=!0,0));var W}function C($){var X=$._readableState;a("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(a("emitReadable",X.flowing),X.emittedReadable=!0,k.nextTick(O,$))}function O($){var X=$._readableState;a("emitReadable_",X.destroyed,X.length,X.ended),X.destroyed||!X.length&&!X.ended||($.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,Y($)}function P($,X){X.readingMore||(X.readingMore=!0,k.nextTick(R,$,X))}function R($,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&0===X.length);){var W=X.length;if(a("maybeReadMore read 0"),$.read(0),W===X.length)break}X.readingMore=!1}function j($){var X=$._readableState;X.readableListening=$.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:$.listenerCount("data")>0&&$.resume()}function z($){a("readable nexttick read 0"),$.read(0)}function N($,X){a("resume",X.reading),X.reading||$.read(0),X.resumeScheduled=!1,$.emit("resume"),Y($),X.flowing&&!X.reading&&$.read(0)}function Y($){var X=$._readableState;for(a("flow",X.flowing);X.flowing&&null!==$.read(););}function F($,X){return 0===X.length?null:(X.objectMode?W=X.buffer.shift():!$||$>=X.length?(W=X.decoder?X.buffer.join(""):1===X.buffer.length?X.buffer.first():X.buffer.concat(X.length),X.buffer.clear()):W=X.buffer.consume($,X.decoder),W);var W}function U($){var X=$._readableState;a("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,k.nextTick(V,X,$))}function V($,X){if(a("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&0===$.length&&($.endEmitted=!0,X.readable=!1,X.emit("end"),$.autoDestroy)){var W=X._writableState;(!W||W.autoDestroy&&W.finished)&&X.destroy()}}function te($,X){for(var W=0,J=$.length;W<J;W++)if($[W]===X)return W;return-1}_.prototype.read=function($){a("read",$),$=parseInt($,10);var X=this._readableState,W=$;if(0!==$&&(X.emittedReadable=!1),0===$&&X.needReadable&&((0!==X.highWaterMark?X.length>=X.highWaterMark:X.length>0)||X.ended))return a("read: emitReadable",X.length,X.ended),0===X.length&&X.ended?U(this):C(this),null;if(0===($=E($,X))&&X.ended)return 0===X.length&&U(this),null;var J,Q=X.needReadable;return a("need readable",Q),(0===X.length||X.length-$<X.highWaterMark)&&a("length less than watermark",Q=!0),X.ended||X.reading?a("reading or ended",Q=!1):Q&&(a("do read"),X.reading=!0,X.sync=!0,0===X.length&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||($=E(W,X))),null===(J=$>0?F($,X):null)?(X.needReadable=X.length<=X.highWaterMark,$=0):(X.length-=$,X.awaitDrain=0),0===X.length&&(X.ended||(X.needReadable=!0),W!==$&&X.ended&&U(this)),null!==J&&this.emit("data",J),J},_.prototype._read=function($){m(this,new g("_read()"))},_.prototype.pipe=function($,X){var W=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=$;break;case 1:J.pipes=[J.pipes,$];break;default:J.pipes.push($)}J.pipesCount+=1,a("pipe count=%d opts=%j",J.pipesCount,X);var Q=X&&!1===X.end||$===k.stdout||$===k.stderr?pe:re;function re(){a("onend"),$.end()}J.endEmitted?k.nextTick(Q):W.once("end",Q),$.on("unpipe",function ge(Ae,ye){a("onunpipe"),Ae===W&&ye&&!1===ye.hasUnpiped&&(ye.hasUnpiped=!0,a("cleanup"),$.removeListener("close",be),$.removeListener("finish",de),$.removeListener("drain",ae),$.removeListener("error",ve),$.removeListener("unpipe",ge),W.removeListener("end",re),W.removeListener("end",pe),W.removeListener("data",ue),oe=!0,!J.awaitDrain||$._writableState&&!$._writableState.needDrain||ae())});var ge,ae=(ge=W,function(){var Ae=ge._readableState;a("pipeOnDrain",Ae.awaitDrain),Ae.awaitDrain&&Ae.awaitDrain--,0===Ae.awaitDrain&&T(ge,"data")&&(Ae.flowing=!0,Y(ge))});$.on("drain",ae);var oe=!1;function ue(ge){a("ondata");var Ae=$.write(ge);a("dest.write",Ae),!1===Ae&&((1===J.pipesCount&&J.pipes===$||J.pipesCount>1&&-1!==te(J.pipes,$))&&!oe&&(a("false write response, pause",J.awaitDrain),J.awaitDrain++),W.pause())}function ve(ge){a("onerror",ge),pe(),$.removeListener("error",ve),0===T($,"error")&&m($,ge)}function be(){$.removeListener("finish",de),pe()}function de(){a("onfinish"),$.removeListener("close",be),pe()}function pe(){a("unpipe"),W.unpipe($)}return W.on("data",ue),function(ge,Ae,ye){if("function"==typeof ge.prependListener)return ge.prependListener(Ae,ye);ge._events&&ge._events[Ae]?Array.isArray(ge._events[Ae])?ge._events[Ae].unshift(ye):ge._events[Ae]=[ye,ge._events[Ae]]:ge.on(Ae,ye)}($,"error",ve),$.once("close",be),$.once("finish",de),$.emit("pipe",W),J.flowing||(a("pipe resume"),W.resume()),$},_.prototype.unpipe=function($){var X=this._readableState,W={hasUnpiped:!1};if(0===X.pipesCount)return this;if(1===X.pipesCount)return $&&$!==X.pipes||($||($=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,$&&$.emit("unpipe",this,W)),this;if(!$){var J=X.pipes,Q=X.pipesCount;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var re=0;re<Q;re++)J[re].emit("unpipe",this,{hasUnpiped:!1});return this}var ae=te(X.pipes,$);return-1===ae||(X.pipes.splice(ae,1),X.pipesCount-=1,1===X.pipesCount&&(X.pipes=X.pipes[0]),$.emit("unpipe",this,W)),this},_.prototype.on=function($,X){var W=b.prototype.on.call(this,$,X),J=this._readableState;return"data"===$?(J.readableListening=this.listenerCount("readable")>0,!1!==J.flowing&&this.resume()):"readable"===$&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,a("on readable",J.length,J.reading),J.length?C(this):J.reading||k.nextTick(z,this))),W},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function($,X){var W=b.prototype.removeListener.call(this,$,X);return"readable"===$&&k.nextTick(j,this),W},_.prototype.removeAllListeners=function($){var X=b.prototype.removeAllListeners.apply(this,arguments);return"readable"!==$&&void 0!==$||k.nextTick(j,this),X},_.prototype.resume=function(){var X,W,$=this._readableState;return $.flowing||(a("resume"),$.flowing=!$.readableListening,X=this,(W=$).resumeScheduled||(W.resumeScheduled=!0,k.nextTick(N,X,W))),$.paused=!1,this},_.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function($){var X=this,W=this._readableState,J=!1;for(var Q in $.on("end",function(){if(a("wrapped end"),W.decoder&&!W.ended){var ae=W.decoder.end();ae&&ae.length&&X.push(ae)}X.push(null)}),$.on("data",function(ae){a("wrapped data"),W.decoder&&(ae=W.decoder.write(ae)),W.objectMode&&null==ae||(W.objectMode||ae&&ae.length)&&(X.push(ae)||(J=!0,$.pause()))}),$)void 0===this[Q]&&"function"==typeof $[Q]&&(this[Q]=function(ae){return function(){return $[ae].apply($,arguments)}}(Q));for(var re=0;re<y.length;re++)$.on(y[re],this.emit.bind(this,y[re]));return this._read=function(ae){a("wrapped _read",ae),J&&(J=!1,$.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return void 0===n&&(n=e(68221)),n(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),_._fromList=F,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function($,X){return void 0===r&&(r=e(31748)),r(_,$,X)})},74308:function(ee,D,e){"use strict";ee.exports=t;var M=e(74322).q,k=M.ERR_METHOD_NOT_IMPLEMENTED,a=M.ERR_MULTIPLE_CALLBACK,T=M.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=M.ERR_TRANSFORM_WITH_LENGTH_0,p=e(37865);function s(r,o){var l=this._transformState;l.transforming=!1;var u=l.writecb;if(null===u)return this.emit("error",new a);l.writechunk=null,l.writecb=null,null!=o&&this.push(o),u(r);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function t(r){if(!(this instanceof t))return new t(r);p.call(this,r),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var r=this;"function"!=typeof this._flush||this._readableState.destroyed?n(this,null,null):this._flush(function(o,l){n(r,o,l)})}function n(r,o,l){if(o)return r.emit("error",o);if(null!=l&&r.push(l),r._writableState.length)throw new b;if(r._transformState.transforming)throw new T;return r.push(null)}e(42018)(t,p),t.prototype.push=function(r,o){return this._transformState.needTransform=!1,p.prototype.push.call(this,r,o)},t.prototype._transform=function(r,o,l){l(new k("_transform()"))},t.prototype._write=function(r,o,l){var u=this._transformState;if(u.writecb=l,u.writechunk=r,u.writeencoding=o,!u.transforming){var d=this._readableState;(u.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},t.prototype._read=function(r){var o=this._transformState;null===o.writechunk||o.transforming?o.needTransform=!0:(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform))},t.prototype._destroy=function(r,o){p.prototype._destroy.call(this,r,function(l){o(l)})}},37493:function(ee,D,e){"use strict";var M,k=e(90386);function a(P){var R=this;this.next=null,this.entry=null,this.finish=function(){!function(j,z,N){var Y=j.entry;for(j.entry=null;Y;){var F=Y.callback;z.pendingcb--,F(void 0),Y=Y.next}z.corkedRequestsFree.next=j}(R,P)}}ee.exports=_,_.WritableState=v;var T,b={deprecate:e(20588)},p=e(71405),s=e(12856).Buffer,t=e.g.Uint8Array||function(){},i=e(65756),n=e(56306).getHighWaterMark,r=e(74322).q,o=r.ERR_INVALID_ARG_TYPE,l=r.ERR_METHOD_NOT_IMPLEMENTED,u=r.ERR_MULTIPLE_CALLBACK,d=r.ERR_STREAM_CANNOT_PIPE,c=r.ERR_STREAM_DESTROYED,x=r.ERR_STREAM_NULL_VALUES,g=r.ERR_STREAM_WRITE_AFTER_END,h=r.ERR_UNKNOWN_ENCODING,m=i.errorOrDestroy;function y(){}function v(P,R,j){M=M||e(37865),P=P||{},"boolean"!=typeof j&&(j=R instanceof M),this.objectMode=!!P.objectMode,j&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=n(this,P,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=!1===P.decodeStrings;this.decodeStrings=!z,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){!function(Y,F){var X,U=Y._writableState,V=U.sync,te=U.writecb;if("function"!=typeof te)throw new u;if((X=U).writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0,F)!function(X,W,J,Q,re){--W.pendingcb,J?(k.nextTick(re,Q),k.nextTick(O,X,W),X._writableState.errorEmitted=!0,m(X,Q)):(re(Q),X._writableState.errorEmitted=!0,m(X,Q),O(X,W))}(Y,U,V,F,te);else{var $=E(U)||Y.destroyed;$||U.corked||U.bufferProcessing||!U.bufferedRequest||w(Y,U),V?k.nextTick(S,Y,U,$,te):S(Y,U,$,te)}}(R,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==P.emitClose,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function _(P){var R=this instanceof(M=M||e(37865));if(!R&&!T.call(_,this))return new _(P);this._writableState=new v(P,this,R),this.writable=!0,P&&("function"==typeof P.write&&(this._write=P.write),"function"==typeof P.writev&&(this._writev=P.writev),"function"==typeof P.destroy&&(this._destroy=P.destroy),"function"==typeof P.final&&(this._final=P.final)),p.call(this)}function f(P,R,j,z,N,Y,F){R.writelen=z,R.writecb=F,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new c("write")):j?P._writev(N,R.onwrite):P._write(N,Y,R.onwrite),R.sync=!1}function S(P,R,j,z){var N,Y;j||(N=P,0===(Y=R).length&&Y.needDrain&&(Y.needDrain=!1,N.emit("drain"))),R.pendingcb--,z(),O(P,R)}function w(P,R){R.bufferProcessing=!0;var j=R.bufferedRequest;if(P._writev&&j&&j.next){var z=R.bufferedRequestCount,N=new Array(z),Y=R.corkedRequestsFree;Y.entry=j;for(var F=0,U=!0;j;)N[F]=j,j.isBuf||(U=!1),j=j.next,F+=1;N.allBuffers=U,f(P,R,!0,R.length,N,"",Y.finish),R.pendingcb++,R.lastBufferedRequest=null,Y.next?(R.corkedRequestsFree=Y.next,Y.next=null):R.corkedRequestsFree=new a(R),R.bufferedRequestCount=0}else{for(;j;){var V=j.chunk,te=j.encoding,$=j.callback;if(f(P,R,!1,R.objectMode?1:V.length,V,te,$),j=j.next,R.bufferedRequestCount--,R.writing)break}null===j&&(R.lastBufferedRequest=null)}R.bufferedRequest=j,R.bufferProcessing=!1}function E(P){return P.ending&&0===P.length&&null===P.bufferedRequest&&!P.finished&&!P.writing}function C(P,R){P._final(function(j){R.pendingcb--,j&&m(P,j),R.prefinished=!0,P.emit("prefinish"),O(P,R)})}function O(P,R){var N,Y,j=E(R);if(j&&(N=P,(Y=R).prefinished||Y.finalCalled||("function"!=typeof N._final||Y.destroyed?(Y.prefinished=!0,N.emit("prefinish")):(Y.pendingcb++,Y.finalCalled=!0,k.nextTick(C,N,Y))),0===R.pendingcb&&(R.finished=!0,P.emit("finish"),R.autoDestroy))){var z=P._readableState;(!z||z.autoDestroy&&z.endEmitted)&&P.destroy()}return j}e(42018)(_,p),v.prototype.getBuffer=function(){for(var P=this.bufferedRequest,R=[];P;)R.push(P),P=P.next;return R},function(){try{Object.defineProperty(v.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(P){return!!T.call(this,P)||this===_&&P&&P._writableState instanceof v}})):T=function(P){return P instanceof this},_.prototype.pipe=function(){m(this,new d)},_.prototype.write=function(P,R,j){var z,U,N=this._writableState,Y=!1,F=!N.objectMode&&(z=P,s.isBuffer(z)||z instanceof t);return F&&!s.isBuffer(P)&&(U=P,P=s.from(U)),"function"==typeof R&&(j=R,R=null),F?R="buffer":R||(R=N.defaultEncoding),"function"!=typeof j&&(j=y),N.ending?function(U,V){var te=new g;m(U,te),k.nextTick(V,te)}(this,j):(F||function(U,V,te,$){var X;return null===te?X=new x:"string"==typeof te||V.objectMode||(X=new o("chunk",["string","Buffer"],te)),!X||(m(U,X),k.nextTick($,X),!1)}(this,N,P,j))&&(N.pendingcb++,Y=function(U,V,te,$,X,W){if(!te){var J=(ue=$,ve=X,(oe=V).objectMode||!1===oe.decodeStrings||"string"!=typeof ue||(ue=s.from(ue,ve)),ue);$!==J&&(te=!0,X="buffer",$=J)}var oe,ue,ve,Q=V.objectMode?1:$.length;V.length+=Q;var re=V.length<V.highWaterMark;if(re||(V.needDrain=!0),V.writing||V.corked){var ae=V.lastBufferedRequest;V.lastBufferedRequest={chunk:$,encoding:X,isBuf:te,callback:W,next:null},ae?ae.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else f(U,V,!1,Q,$,X,W);return re}(this,N,F,P,R,j)),Y},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,P.writing||P.corked||P.bufferProcessing||!P.bufferedRequest||w(this,P))},_.prototype.setDefaultEncoding=function(P){if("string"==typeof P&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new h(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(P,R,j){j(new l("_write()"))},_.prototype._writev=null,_.prototype.end=function(P,R,j){var N,Y,F,z=this._writableState;return"function"==typeof P?(j=P,P=null,R=null):"function"==typeof R&&(j=R,R=null),null!=P&&this.write(P,R),z.corked&&(z.corked=1,this.uncork()),z.ending||(N=this,F=j,(Y=z).ending=!0,O(N,Y),F&&(Y.finished?k.nextTick(F):N.once("finish",F)),Y.ended=!0,N.writable=!1),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),_.prototype.destroy=i.destroy,_.prototype._undestroy=i.undestroy,_.prototype._destroy=function(P,R){R(P)}},68221:function(ee,D,e){"use strict";var M,k=e(90386);function a(x,g,h){return g in x?Object.defineProperty(x,g,{value:h,enumerable:!0,configurable:!0,writable:!0}):x[g]=h,x}var T=e(12726),b=Symbol("lastResolve"),p=Symbol("lastReject"),s=Symbol("error"),t=Symbol("ended"),i=Symbol("lastPromise"),n=Symbol("handlePromise"),r=Symbol("stream");function o(x,g){return{value:x,done:g}}function l(x){var g=x[b];if(null!==g){var h=x[r].read();null!==h&&(x[i]=null,x[b]=null,x[p]=null,g(o(h,!1)))}}function u(x){k.nextTick(l,x)}var d=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((a(M={get stream(){return this[r]},next:function(){var x=this,g=this[s];if(null!==g)return Promise.reject(g);if(this[t])return Promise.resolve(o(void 0,!0));if(this[r].destroyed)return new Promise(function(v,_){k.nextTick(function(){x[s]?_(x[s]):v(o(void 0,!0))})});var h,v,_,m=this[i];if(m)h=new Promise((v=m,_=this,function(f,S){v.then(function(){_[t]?f(o(void 0,!0)):_[n](f,S)},S)}));else{var y=this[r].read();if(null!==y)return Promise.resolve(o(y,!1));h=new Promise(this[n])}return this[i]=h,h}},Symbol.asyncIterator,function(){return this}),a(M,"return",function(){var x=this;return new Promise(function(g,h){x[r].destroy(null,function(m){m?h(m):g(o(void 0,!0))})})}),M),d);ee.exports=function(x){var g,h=Object.create(c,(a(g={},r,{value:x,writable:!0}),a(g,b,{value:null,writable:!0}),a(g,p,{value:null,writable:!0}),a(g,s,{value:null,writable:!0}),a(g,t,{value:x._readableState.endEmitted,writable:!0}),a(g,n,{value:function(m,y){var v=h[r].read();v?(h[i]=null,h[b]=null,h[p]=null,m(o(v,!1))):(h[b]=m,h[p]=y)},writable:!0}),g));return h[i]=null,T(x,function(m){if(m&&"ERR_STREAM_PREMATURE_CLOSE"!==m.code){var y=h[p];return null!==y&&(h[i]=null,h[b]=null,h[p]=null,y(m)),void(h[s]=m)}var v=h[b];null!==v&&(h[i]=null,h[b]=null,h[p]=null,v(o(void 0,!0))),h[t]=!0}),x.on("readable",u.bind(null,h)),h}},31125:function(ee,D,e){"use strict";function M(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),i.push.apply(i,n)}return i}function k(s,t,i){return t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function a(s,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}var T=e(12856).Buffer,b=e(69862).inspect,p=b&&b.custom||"inspect";ee.exports=function(){function s(){(function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}var i;return i=[{key:"push",value:function(n){var r={data:n,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}},{key:"unshift",value:function(n){var r={data:n,next:this.head};0===this.length&&(this.tail=r),this.head=r,++this.length}},{key:"shift",value:function(){if(0!==this.length){var n=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,n}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(n){if(0===this.length)return"";for(var r=this.head,o=""+r.data;r=r.next;)o+=n+r.data;return o}},{key:"concat",value:function(n){if(0===this.length)return T.alloc(0);for(var r,o,l,u=T.allocUnsafe(n>>>0),d=this.head,c=0;d;)r=d.data,o=u,l=c,T.prototype.copy.call(r,o,l),c+=d.data.length,d=d.next;return u}},{key:"consume",value:function(n,r){var o;return n<this.head.data.length?(o=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):o=n===this.head.data.length?this.shift():r?this._getString(n):this._getBuffer(n),o}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var r=this.head,o=1,l=r.data;for(n-=l.length;r=r.next;){var u=r.data,d=n>u.length?u.length:n;if(d===u.length?l+=u:l+=u.slice(0,n),0==(n-=d)){d===u.length?(++o,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=u.slice(d));break}++o}return this.length-=o,l}},{key:"_getBuffer",value:function(n){var r=T.allocUnsafe(n),o=this.head,l=1;for(o.data.copy(r),n-=o.data.length;o=o.next;){var u=o.data,d=n>u.length?u.length:n;if(u.copy(r,r.length-n,0,d),0==(n-=d)){d===u.length?(++l,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=u.slice(d));break}++l}return this.length-=l,r}},{key:p,value:function(n,r){return b(this,function(o){for(var l=1;l<arguments.length;l++){var u=null!=arguments[l]?arguments[l]:{};l%2?M(Object(u),!0).forEach(function(d){k(o,d,u[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):M(Object(u)).forEach(function(d){Object.defineProperty(o,d,Object.getOwnPropertyDescriptor(u,d))})}return o}({},r,{depth:0,customInspect:!1}))}}],i&&a(s.prototype,i),s}()},65756:function(ee,D,e){"use strict";var M=e(90386);function k(b,p){T(b,p),a(b)}function a(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function T(b,p){b.emit("error",p)}ee.exports={destroy:function(b,p){var s=this,t=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return t||i?(p?p(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,M.nextTick(T,this,b)):M.nextTick(T,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(n){!p&&n?s._writableState?s._writableState.errorEmitted?M.nextTick(a,s):(s._writableState.errorEmitted=!0,M.nextTick(k,s,n)):M.nextTick(k,s,n):p?(M.nextTick(a,s),p(n)):M.nextTick(a,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(b,p){var s=b._readableState,t=b._writableState;s&&s.autoDestroy||t&&t.autoDestroy?b.destroy(p):b.emit("error",p)}}},12726:function(ee,D,e){"use strict";var M=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function k(){}ee.exports=function a(T,b,p){if("function"==typeof b)return a(T,null,b);var x,g;b||(b={}),x=p||k,g=!1,p=function(){if(!g){g=!0;for(var h=arguments.length,m=new Array(h),y=0;y<h;y++)m[y]=arguments[y];x.apply(this,m)}};var s=b.readable||!1!==b.readable&&T.readable,t=b.writable||!1!==b.writable&&T.writable,i=function(){T.writable||r()},n=T._writableState&&T._writableState.finished,r=function(){t=!1,n=!0,s||p.call(T)},o=T._readableState&&T._readableState.endEmitted,l=function(){s=!1,o=!0,t||p.call(T)},u=function(x){p.call(T,x)},d=function(){var x;return s&&!o?(T._readableState&&T._readableState.ended||(x=new M),p.call(T,x)):t&&!n?(T._writableState&&T._writableState.ended||(x=new M),p.call(T,x)):void 0},c=function(){T.req.on("finish",r)};return function(x){return x.setHeader&&"function"==typeof x.abort}(T)?(T.on("complete",r),T.on("abort",d),T.req?c():T.on("request",c)):t&&!T._writableState&&(T.on("end",i),T.on("close",i)),T.on("end",l),T.on("finish",r),!1!==b.error&&T.on("error",u),T.on("close",d),function(){T.removeListener("complete",r),T.removeListener("abort",d),T.removeListener("request",c),T.req&&T.req.removeListener("finish",r),T.removeListener("end",i),T.removeListener("close",i),T.removeListener("finish",r),T.removeListener("end",l),T.removeListener("error",u),T.removeListener("close",d)}}},31748:function(ee){ee.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(ee,D,e){"use strict";var M,k=e(74322).q,a=k.ERR_MISSING_ARGS,T=k.ERR_STREAM_DESTROYED;function b(t){if(t)throw t}function p(t){t()}function s(t,i){return t.pipe(i)}ee.exports=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r,u,o=(u=i).length?"function"!=typeof u[u.length-1]?b:u.pop():b;if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new a("streams");var l=i.map(function(u,d){var c=d<i.length-1;return function(x,g,h,m){var _,f;_=m,f=!1,m=function(){f||(f=!0,_.apply(void 0,arguments))};var y=!1;x.on("close",function(){y=!0}),void 0===M&&(M=e(12726)),M(x,{readable:g,writable:h},function(_){if(_)return m(_);y=!0,m()});var v=!1;return function(_){if(!y&&!v)return v=!0,function(f){return f.setHeader&&"function"==typeof f.abort}(x)?x.abort():"function"==typeof x.destroy?x.destroy():void m(_||new T("pipe"))}}(u,c,d>0,function(x){r||(r=x),x&&l.forEach(p),c||(l.forEach(p),o(r))})});return i.reduce(s)}},56306:function(ee,D,e){"use strict";var M=e(74322).q.ERR_INVALID_OPT_VALUE;ee.exports={getHighWaterMark:function(k,a,T,b){var s,t,i,p=(t=b,i=T,null!=(s=a).highWaterMark?s.highWaterMark:t?s[i]:null);if(null!=p){if(!isFinite(p)||Math.floor(p)!==p||p<0)throw new M(b?T:"highWaterMark",p);return Math.floor(p)}return k.objectMode?16:16384}}},71405:function(ee,D,e){ee.exports=e(15398).EventEmitter},68019:function(ee,D,e){"use strict";var M=e(71665).Buffer,k=M.isEncoding||function(o){switch((o=""+o)&&o.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(o){var l;switch(this.encoding=function(u){var d=function(c){if(!c)return"utf8";for(var x;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(x)return;c=(""+c).toLowerCase(),x=!0}}(u);if("string"!=typeof d&&(M.isEncoding===k||!k(u)))throw new Error("Unknown encoding: "+u);return d||u}(o),this.encoding){case"utf16le":this.text=p,this.end=s,l=4;break;case"utf8":this.fillLast=b,l=4;break;case"base64":this.text=t,this.end=i,l=3;break;default:return this.write=n,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(l)}function T(o){return o<=127?0:o>>5==6?2:o>>4==14?3:o>>3==30?4:o>>6==2?-1:-2}function b(o){var l=this.lastTotal-this.lastNeed,u=function(d,c,x){if(128!=(192&c[0]))return d.lastNeed=0,"\ufffd";if(d.lastNeed>1&&c.length>1){if(128!=(192&c[1]))return d.lastNeed=1,"\ufffd";if(d.lastNeed>2&&c.length>2&&128!=(192&c[2]))return d.lastNeed=2,"\ufffd"}}(this,o);return void 0!==u?u:this.lastNeed<=o.length?(o.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(o.copy(this.lastChar,l,0,o.length),void(this.lastNeed-=o.length))}function p(o,l){if((o.length-l)%2==0){var u=o.toString("utf16le",l);if(u){var d=u.charCodeAt(u.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=o[o.length-1],o.toString("utf16le",l,o.length-1)}function s(o){var l=o&&o.length?this.write(o):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,u)}return l}function t(o,l){var u=(o.length-l)%3;return 0===u?o.toString("base64",l):(this.lastNeed=3-u,this.lastTotal=3,1===u?this.lastChar[0]=o[o.length-1]:(this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1]),o.toString("base64",l,o.length-u))}function i(o){var l=o&&o.length?this.write(o):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function n(o){return o.toString(this.encoding)}function r(o){return o&&o.length?this.write(o):""}D.s=a,a.prototype.write=function(o){if(0===o.length)return"";var l,u;if(this.lastNeed){if(void 0===(l=this.fillLast(o)))return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<o.length?l?l+this.text(o,u):this.text(o,u):l||""},a.prototype.end=function(o){var l=o&&o.length?this.write(o):"";return this.lastNeed?l+"\ufffd":l},a.prototype.text=function(o,l){var u=function(c,x,g){var h=x.length-1;if(h<g)return 0;var m=T(x[h]);return m>=0?(m>0&&(c.lastNeed=m-1),m):--h<g||-2===m?0:(m=T(x[h]))>=0?(m>0&&(c.lastNeed=m-2),m):--h<g||-2===m?0:(m=T(x[h]))>=0?(m>0&&(2===m?m=0:c.lastNeed=m-3),m):0}(this,o,l);if(!this.lastNeed)return o.toString("utf8",l);this.lastTotal=u;var d=o.length-(u-this.lastNeed);return o.copy(this.lastChar,0,d),o.toString("utf8",l,d)},a.prototype.fillLast=function(o){if(this.lastNeed<=o.length)return o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,o.length),this.lastNeed-=o.length}},90715:function(ee,D,e){var M=e(32791),k=e(41633)("stream-parser");ee.exports=function(c){var x=c&&"function"==typeof c._transform,g=c&&"function"==typeof c._write;if(!x&&!g)throw new Error("must pass a Writable or Transform stream in");k("extending Parser into stream"),c._bytes=t,c._skipBytes=i,x&&(c._passthrough=n),x?c._transform=o:c._write=r};var a=-1,T=0,b=1,p=2;function s(c){k("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=a,c._parserCallback=null,"function"==typeof c.push&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,x){M(!this._parserCallback,'there is already a "callback" set!'),M(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||s(this),k("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=T}function i(c,x){M(!this._parserCallback,'there is already a "callback" set!'),M(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||s(this),k("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=b}function n(c,x){M(!this._parserCallback,'There is already a "callback" set!'),M(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||s(this),k("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=p}function r(c,x,g){this._parserInit||s(this),k("write(%o bytes)",c.length),"function"==typeof x&&(g=x),u(this,c,null,g)}function o(c,x,g){this._parserInit||s(this),k("transform(%o bytes)",c.length),"function"!=typeof x&&(x=this._parserOutput),u(this,c,x,g)}function l(c,x,g,h){if(c._parserBytesLeft-=x.length,k("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===T?(c._parserBuffers.push(x),c._parserBuffered+=x.length):c._parserState===p&&g(x),0!==c._parserBytesLeft)return h;var m=c._parserCallback;if(m&&c._parserState===T&&c._parserBuffers.length>1&&(x=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==T&&(x=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=a,c._parserBuffers.splice(0),m){var y=[];x&&y.push(x),g&&y.push(g);var v=m.length>y.length;v&&y.push(d(h));var _=m.apply(c,y);if(!v||h===_)return h}}var u=d(function c(x,g,h,m){return x._parserBytesLeft<=0?m(new Error("got data but not currently parsing anything")):g.length<=x._parserBytesLeft?function(){return l(x,g,h,m)}:function(){var y=g.slice(0,x._parserBytesLeft);return l(x,y,h,function(v){return v?m(v):g.length>y.length?function(){return c(x,g.slice(y.length),h,m)}:void 0})}});function d(c){return function(){for(var x=c.apply(this,arguments);"function"==typeof x;)x=x();return x}}},41633:function(ee,D,e){var M=e(90386);function k(){var a;try{a=D.storage.debug}catch{}return!a&&void 0!==M&&"env"in M&&(a=M.env.DEBUG),a}(D=ee.exports=e(74469)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},D.formatArgs=function(a){var T=this.useColors;if(a[0]=(T?"%c":"")+this.namespace+(T?" %c":" ")+a[0]+(T?"%c ":" ")+"+"+D.humanize(this.diff),T){var b="color: "+this.color;a.splice(1,0,b,"color: inherit");var p=0,s=0;a[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(p++,"%c"===t&&(s=p))}),a.splice(s,0,b)}},D.save=function(a){try{null==a?D.storage.removeItem("debug"):D.storage.debug=a}catch{}},D.load=k,D.useColors=function(){return!(typeof window>"u"||!window.process||"renderer"!==window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},D.storage=typeof chrome<"u"&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),D.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],D.formatters.j=function(a){try{return JSON.stringify(a)}catch(T){return"[UnexpectedJSONParseError]: "+T.message}},D.enable(k())},74469:function(ee,D,e){var M;function k(a){function T(){if(T.enabled){var b=T,p=+new Date,s=p-(M||p);b.diff=s,b.prev=M,b.curr=p,M=p;for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];t[0]=D.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var n=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(r,o){if("%%"===r)return r;n++;var l=D.formatters[o];if("function"==typeof l){var u=t[n];r=l.call(b,u),t.splice(n,1),n--}return r}),D.formatArgs.call(b,t),(T.log||D.log||console.log.bind(console)).apply(b,t)}}return T.namespace=a,T.enabled=D.enabled(a),T.useColors=D.useColors(),T.color=function(b){var p,s=0;for(p in b)s=(s<<5)-s+b.charCodeAt(p),s|=0;return D.colors[Math.abs(s)%D.colors.length]}(a),"function"==typeof D.init&&D.init(T),T}(D=ee.exports=k.debug=k.default=k).coerce=function(a){return a instanceof Error?a.stack||a.message:a},D.disable=function(){D.enable("")},D.enable=function(a){D.save(a),D.names=[],D.skips=[];for(var T=("string"==typeof a?a:"").split(/[\s,]+/),b=T.length,p=0;p<b;p++)T[p]&&("-"===(a=T[p].replace(/\*/g,".*?"))[0]?D.skips.push(new RegExp("^"+a.substr(1)+"$")):D.names.push(new RegExp("^"+a+"$")))},D.enabled=function(a){var T,b;for(T=0,b=D.skips.length;T<b;T++)if(D.skips[T].test(a))return!1;for(T=0,b=D.names.length;T<b;T++)if(D.names[T].test(a))return!0;return!1},D.humanize=e(11375),D.names=[],D.skips=[],D.formatters={}},11375:function(ee){var D=1e3,e=60*D,M=60*e,k=24*M;function a(T,b,p){if(!(T<b))return T<1.5*b?Math.floor(T/b)+" "+p:Math.ceil(T/b)+" "+p+"s"}ee.exports=function(T,b){b=b||{};var p,t,s=typeof T;if("string"===s&&T.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var n=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*k;case"hours":case"hour":case"hrs":case"hr":case"h":return n*M;case"minutes":case"minute":case"mins":case"min":case"m":return n*e;case"seconds":case"second":case"secs":case"sec":case"s":return n*D;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(T);if("number"===s&&!1===isNaN(T))return b.long?a(p=T,k,"day")||a(p,M,"hour")||a(p,e,"minute")||a(p,D,"second")||p+" ms":(t=T)>=k?Math.round(t/k)+"d":t>=M?Math.round(t/M)+"h":t>=e?Math.round(t/e)+"m":t>=D?Math.round(t/D)+"s":t+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(T))}},99011:function(ee,D,e){"use strict";var M=e(88641);ee.exports=function(k,a,T){if(null==k)throw Error("First argument should be a string");if(null==a)throw Error("Separator should be a string or a RegExp");T?("string"==typeof T||Array.isArray(T))&&(T={ignore:T}):T={},null==T.escape&&(T.escape=!0),null==T.ignore?T.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof T.ignore&&(T.ignore=[T.ignore]),T.ignore=T.ignore.map(function(r){return 1===r.length&&(r+=r),r}));var b=M.parse(k,{flat:!0,brackets:T.ignore}),p=b[0].split(a);if(T.escape){for(var s=[],t=0;t<p.length;t++){var i=p[t],n=p[t+1];"\\"===i[i.length-1]&&"\\"!==i[i.length-2]?(s.push(i+a+n),t++):s.push(i)}p=s}for(t=0;t<p.length;t++)b[0]=p[t],p[t]=M.stringify(b,{flat:!0});return p}},68664:function(ee){"use strict";ee.exports=function(D){for(var e=D.length,M=new Array(e),k=new Array(e),a=new Array(e),T=new Array(e),b=new Array(e),p=new Array(e),s=0;s<e;++s)M[s]=-1,k[s]=0,a[s]=!1,T[s]=0,b[s]=-1,p[s]=[];var t,i=0,n=[],r=[];function o(d){var c=[d],x=[d];for(M[d]=k[d]=i,a[d]=!0,i+=1;x.length>0;){d=x[x.length-1];var g=D[d];if(T[d]<g.length){for(var h=T[d];h<g.length;++h){var m=g[h];if(M[m]<0){M[m]=k[m]=i,a[m]=!0,i+=1,c.push(m),x.push(m);break}a[m]&&(k[d]=0|Math.min(k[d],k[m])),b[m]>=0&&p[d].push(b[m])}T[d]=h}else{if(k[d]===M[d]){var y=[],v=[],_=0;for(h=c.length-1;h>=0;--h){var f=c[h];if(a[f]=!1,y.push(f),v.push(p[f]),_+=p[f].length,b[f]=n.length,f===d){c.length=h;break}}n.push(y);var S=new Array(_);for(h=0;h<v.length;h++)for(var w=0;w<v[h].length;w++)S[--_]=v[h][w];r.push(S)}x.pop()}}}for(s=0;s<e;++s)M[s]<0&&o(s);for(s=0;s<r.length;s++){var l=r[s];if(0!==l.length){l.sort(function(d,c){return d-c}),t=[l[0]];for(var u=1;u<l.length;u++)l[u]!==l[u-1]&&t.push(l[u]);r[s]=t}}return{components:n,adjacencyList:r}}},7095:function(ee,D,e){"use strict";e.r(D);var M=2*Math.PI,k=function(b,p,s,t,i,n,r){var o=b.x,l=b.y;return{x:t*(o*=p)-i*(l*=s)+n,y:i*o+t*l+r}},a=function(b,p){var s=1.5707963267948966===p?.551915024494:-1.5707963267948966===p?-.551915024494:1.3333333333333333*Math.tan(p/4),t=Math.cos(b),i=Math.sin(b),n=Math.cos(b+p),r=Math.sin(b+p);return[{x:t-i*s,y:i+t*s},{x:n+r*s,y:r-n*s},{x:n,y:r}]},T=function(b,p,s,t){var i=b*s+p*t;return i>1&&(i=1),i<-1&&(i=-1),(b*t-p*s<0?-1:1)*Math.acos(i)};D.default=function(b){var p=b.px,s=b.py,t=b.cx,i=b.cy,n=b.rx,r=b.ry,o=b.xAxisRotation,l=void 0===o?0:o,u=b.largeArcFlag,d=void 0===u?0:u,c=b.sweepFlag,x=void 0===c?0:c,g=[];if(0===n||0===r)return[];var h=Math.sin(l*M/360),m=Math.cos(l*M/360),y=m*(p-t)/2+h*(s-i)/2,v=-h*(p-t)/2+m*(s-i)/2;if(0===y&&0===v)return[];n=Math.abs(n),r=Math.abs(r);var _=Math.pow(y,2)/Math.pow(n,2)+Math.pow(v,2)/Math.pow(r,2);_>1&&(n*=Math.sqrt(_),r*=Math.sqrt(_));var S=function(z,N){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return function(Y,F){var U=[],V=!0,te=!1,$=void 0;try{for(var X,W=Y[Symbol.iterator]();!(V=(X=W.next()).done)&&(U.push(X.value),!F||U.length!==F);V=!0);}catch(J){te=!0,$=J}finally{try{!V&&W.return&&W.return()}finally{if(te)throw $}}return U}(z,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(z,N,Y,F,U,V,te,$,X,W,J,Q){var re=Math.pow(U,2),ae=Math.pow(V,2),oe=Math.pow(J,2),ue=Math.pow(Q,2),ve=re*ae-re*ue-ae*oe;ve<0&&(ve=0),ve/=re*ue+ae*oe;var be=(ve=Math.sqrt(ve)*(te===$?-1:1))*U/V*Q,de=ve*-V/U*J,pe=W*be-X*de+(z+Y)/2,ge=X*be+W*de+(N+F)/2,Ae=(J-be)/U,ye=(Q-de)/V,we=(-J-be)/U,se=(-Q-de)/V,ie=T(1,0,Ae,ye),he=T(Ae,ye,we,se);return 0===$&&he>0&&(he-=M),1===$&&he<0&&(he+=M),[pe,ge,ie,he]}(p,s,t,i,n,r,d,x,h,m,y,v),4),w=S[0],E=S[1],C=S[2],O=S[3],P=Math.abs(O)/(M/4);Math.abs(1-P)<1e-7&&(P=1);var R=Math.max(Math.ceil(P),1);O/=R;for(var j=0;j<R;j++)g.push(a(C,O)),C+=O;return g.map(function(z){var N=k(z[0],n,r,m,h,w,E),Y=N.x,F=N.y,U=k(z[1],n,r,m,h,w,E),V=U.x,te=U.y,$=k(z[2],n,r,m,h,w,E);return{x1:Y,y1:F,x2:V,y2:te,x:$.x,y:$.y}})}},1750:function(ee,D,e){"use strict";var M=e(95616),k=e(65185),a=e(29988),T=e(89546),b=e(32791);ee.exports=function(p){if(Array.isArray(p)&&1===p.length&&"string"==typeof p[0]&&(p=p[0]),"string"==typeof p&&(b(T(p),"String is not an SVG path."),p=M(p)),b(Array.isArray(p),"Argument should be a string or an array of path segments."),p=k(p),!(p=a(p)).length)return[0,0,0,0];for(var s=[1/0,1/0,-1/0,-1/0],t=0,i=p.length;t<i;t++)for(var n=p[t].slice(1),r=0;r<n.length;r+=2)n[r+0]<s[0]&&(s[0]=n[r+0]),n[r+1]<s[1]&&(s[1]=n[r+1]),n[r+0]>s[2]&&(s[2]=n[r+0]),n[r+1]>s[3]&&(s[3]=n[r+1]);return s}},29988:function(ee,D,e){"use strict";ee.exports=function(T){for(var b,p=[],s=0,t=0,i=0,n=0,r=null,o=null,l=0,u=0,d=0,c=T.length;d<c;d++){var x=T[d],g=x[0];switch(g){case"M":i=x[1],n=x[2];break;case"A":var h=M({px:l,py:u,cx:x[6],cy:x[7],rx:x[1],ry:x[2],xAxisRotation:x[3],largeArcFlag:x[4],sweepFlag:x[5]});if(!h.length)continue;for(var m,y=0;y<h.length;y++)x=["C",(m=h[y]).x1,m.y1,m.x2,m.y2,m.x,m.y],y<h.length-1&&p.push(x);break;case"S":var v=l,_=u;"C"!=b&&"S"!=b||(v+=v-s,_+=_-t),x=["C",v,_,x[1],x[2],x[3],x[4]];break;case"T":"Q"==b||"T"==b?(r=2*l-r,o=2*u-o):(r=l,o=u),x=a(l,u,r,o,x[1],x[2]);break;case"Q":r=x[1],o=x[2],x=a(l,u,x[1],x[2],x[3],x[4]);break;case"L":x=k(l,u,x[1],x[2]);break;case"H":x=k(l,u,x[1],u);break;case"V":x=k(l,u,l,x[1]);break;case"Z":x=k(l,u,i,n)}b=g,l=x[x.length-2],u=x[x.length-1],x.length>4?(s=x[x.length-4],t=x[x.length-3]):(s=l,t=u),p.push(x)}return p};var M=e(7095);function k(T,b,p,s){return["C",T,b,p,s,p,s]}function a(T,b,p,s,t,i){return["C",T/3+.6666666666666666*p,b/3+.6666666666666666*s,t/3+.6666666666666666*p,i/3+.6666666666666666*s,t,i]}},82019:function(ee,D,e){"use strict";var M,k=e(1750),a=e(95616),T=e(31457),b=e(89546),p=e(44781),s=document.createElement("canvas"),t=s.getContext("2d");ee.exports=function(i,n){if(!b(i))throw Error("Argument should be valid svg path string");var r,o;n||(n={}),n.shape?(r=n.shape[0],o=n.shape[1]):(r=s.width=n.w||n.width||200,o=s.height=n.h||n.height||200);var l=Math.min(r,o),u=n.stroke||0,d=n.viewbox||n.viewBox||k(i),c=[r/(d[2]-d[0]),o/(d[3]-d[1])],x=Math.min(c[0]||0,c[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,r,o),t.fillStyle="white",u&&("number"!=typeof u&&(u=1),t.strokeStyle=u>0?"white":"black",t.lineWidth=Math.abs(u)),t.translate(.5*r,.5*o),t.scale(x,x),function(){if(null!=M)return M;var m=document.createElement("canvas").getContext("2d");if(m.canvas.width=m.canvas.height=1,!window.Path2D)return M=!1;var y=new Path2D("M0,0h1v1h-1v-1Z");m.fillStyle="black",m.fill(y);var v=m.getImageData(0,0,1,1);return M=v&&v.data&&255===v.data[3]}()){var g=new Path2D(i);t.fill(g),u&&t.stroke(g)}else{var h=a(i);T(t,h),t.fill(),u&&t.stroke()}return t.setTransform(1,0,0,1,0,0),p(t,{cutoff:null!=n.cutoff?n.cutoff:.5,radius:null!=n.radius?n.radius:.5*l})}},84267:function(ee,D,e){var M;!function(k){var a=/^\s+/,T=/\s+$/,b=0,p=k.round,s=k.min,t=k.max,i=k.random;function n(J,Q){if(Q=Q||{},(J=J||"")instanceof n)return J;if(!(this instanceof n))return new n(J,Q);var ae,oe,ue,ve,be,de,pe,ge,Ae,ye,we,re=(be={r:0,g:0,b:0},de=1,pe=null,ge=null,Ae=null,ye=!1,we=!1,"string"==typeof(ae=J)&&(ae=function(se){se=se.replace(a,"").replace(T,"").toLowerCase();var ie,he=!1;if(C[se])se=C[se],he=!0;else if("transparent"==se)return{r:0,g:0,b:0,a:0,format:"name"};return(ie=X.rgb.exec(se))?{r:ie[1],g:ie[2],b:ie[3]}:(ie=X.rgba.exec(se))?{r:ie[1],g:ie[2],b:ie[3],a:ie[4]}:(ie=X.hsl.exec(se))?{h:ie[1],s:ie[2],l:ie[3]}:(ie=X.hsla.exec(se))?{h:ie[1],s:ie[2],l:ie[3],a:ie[4]}:(ie=X.hsv.exec(se))?{h:ie[1],s:ie[2],v:ie[3]}:(ie=X.hsva.exec(se))?{h:ie[1],s:ie[2],v:ie[3],a:ie[4]}:(ie=X.hex8.exec(se))?{r:z(ie[1]),g:z(ie[2]),b:z(ie[3]),a:U(ie[4]),format:he?"name":"hex8"}:(ie=X.hex6.exec(se))?{r:z(ie[1]),g:z(ie[2]),b:z(ie[3]),format:he?"name":"hex"}:(ie=X.hex4.exec(se))?{r:z(ie[1]+""+ie[1]),g:z(ie[2]+""+ie[2]),b:z(ie[3]+""+ie[3]),a:U(ie[4]+""+ie[4]),format:he?"name":"hex8"}:!!(ie=X.hex3.exec(se))&&{r:z(ie[1]+""+ie[1]),g:z(ie[2]+""+ie[2]),b:z(ie[3]+""+ie[3]),format:he?"name":"hex"}}(ae)),"object"==typeof ae&&(W(ae.r)&&W(ae.g)&&W(ae.b)?(oe=ae.r,ue=ae.g,ve=ae.b,be={r:255*R(oe,255),g:255*R(ue,255),b:255*R(ve,255)},ye=!0,we="%"===String(ae.r).substr(-1)?"prgb":"rgb"):W(ae.h)&&W(ae.s)&&W(ae.v)?(pe=Y(ae.s),ge=Y(ae.v),be=function(se,ie,he){se=6*R(se,360),ie=R(ie,100),he=R(he,100);var Se=k.floor(se),_e=se-Se,Me=he*(1-ie),Ee=he*(1-_e*ie),Ie=he*(1-(1-_e)*ie),fe=Se%6;return{r:255*[he,Ee,Me,Me,Ie,he][fe],g:255*[Ie,he,he,Ee,Me,Me][fe],b:255*[Me,Me,Ie,he,he,Ee][fe]}}(ae.h,pe,ge),ye=!0,we="hsv"):W(ae.h)&&W(ae.s)&&W(ae.l)&&(pe=Y(ae.s),Ae=Y(ae.l),be=function(se,ie,he){var Se,_e,Me;function Ee(xe,Te,Ce){return Ce<0&&(Ce+=1),Ce>1&&(Ce-=1),Ce<1/6?xe+6*(Te-xe)*Ce:Ce<.5?Te:Ce<2/3?xe+(Te-xe)*(2/3-Ce)*6:xe}if(se=R(se,360),ie=R(ie,100),he=R(he,100),0===ie)Se=_e=Me=he;else{var Ie=he<.5?he*(1+ie):he+ie-he*ie,fe=2*he-Ie;Se=Ee(fe,Ie,se+1/3),_e=Ee(fe,Ie,se),Me=Ee(fe,Ie,se-1/3)}return{r:255*Se,g:255*_e,b:255*Me}}(ae.h,pe,Ae),ye=!0,we="hsl"),ae.hasOwnProperty("a")&&(de=ae.a)),de=P(de),{ok:ye,format:ae.format||we,r:s(255,t(be.r,0)),g:s(255,t(be.g,0)),b:s(255,t(be.b,0)),a:de});this._originalInput=J,this._r=re.r,this._g=re.g,this._b=re.b,this._a=re.a,this._roundA=p(100*this._a)/100,this._format=Q.format||re.format,this._gradientType=Q.gradientType,this._r<1&&(this._r=p(this._r)),this._g<1&&(this._g=p(this._g)),this._b<1&&(this._b=p(this._b)),this._ok=re.ok,this._tc_id=b++}function r(J,Q,re){J=R(J,255),Q=R(Q,255),re=R(re,255);var ae,oe,ue=t(J,Q,re),ve=s(J,Q,re),be=(ue+ve)/2;if(ue==ve)ae=oe=0;else{var de=ue-ve;switch(oe=be>.5?de/(2-ue-ve):de/(ue+ve),ue){case J:ae=(Q-re)/de+(Q<re?6:0);break;case Q:ae=(re-J)/de+2;break;case re:ae=(J-Q)/de+4}ae/=6}return{h:ae,s:oe,l:be}}function o(J,Q,re){J=R(J,255),Q=R(Q,255),re=R(re,255);var ae,oe,ue=t(J,Q,re),ve=s(J,Q,re),be=ue,de=ue-ve;if(oe=0===ue?0:de/ue,ue==ve)ae=0;else{switch(ue){case J:ae=(Q-re)/de+(Q<re?6:0);break;case Q:ae=(re-J)/de+2;break;case re:ae=(J-Q)/de+4}ae/=6}return{h:ae,s:oe,v:be}}function l(J,Q,re,ae){var oe=[N(p(J).toString(16)),N(p(Q).toString(16)),N(p(re).toString(16))];return ae&&oe[0].charAt(0)==oe[0].charAt(1)&&oe[1].charAt(0)==oe[1].charAt(1)&&oe[2].charAt(0)==oe[2].charAt(1)?oe[0].charAt(0)+oe[1].charAt(0)+oe[2].charAt(0):oe.join("")}function u(J,Q,re,ae){return[N(F(ae)),N(p(J).toString(16)),N(p(Q).toString(16)),N(p(re).toString(16))].join("")}function d(J,Q){Q=0===Q?0:Q||10;var re=n(J).toHsl();return re.s-=Q/100,re.s=j(re.s),n(re)}function c(J,Q){Q=0===Q?0:Q||10;var re=n(J).toHsl();return re.s+=Q/100,re.s=j(re.s),n(re)}function x(J){return n(J).desaturate(100)}function g(J,Q){Q=0===Q?0:Q||10;var re=n(J).toHsl();return re.l+=Q/100,re.l=j(re.l),n(re)}function h(J,Q){Q=0===Q?0:Q||10;var re=n(J).toRgb();return re.r=t(0,s(255,re.r-p(-Q/100*255))),re.g=t(0,s(255,re.g-p(-Q/100*255))),re.b=t(0,s(255,re.b-p(-Q/100*255))),n(re)}function m(J,Q){Q=0===Q?0:Q||10;var re=n(J).toHsl();return re.l-=Q/100,re.l=j(re.l),n(re)}function y(J,Q){var re=n(J).toHsl(),ae=(re.h+Q)%360;return re.h=ae<0?360+ae:ae,n(re)}function v(J){var Q=n(J).toHsl();return Q.h=(Q.h+180)%360,n(Q)}function _(J){var Q=n(J).toHsl(),re=Q.h;return[n(J),n({h:(re+120)%360,s:Q.s,l:Q.l}),n({h:(re+240)%360,s:Q.s,l:Q.l})]}function f(J){var Q=n(J).toHsl(),re=Q.h;return[n(J),n({h:(re+90)%360,s:Q.s,l:Q.l}),n({h:(re+180)%360,s:Q.s,l:Q.l}),n({h:(re+270)%360,s:Q.s,l:Q.l})]}function S(J){var Q=n(J).toHsl(),re=Q.h;return[n(J),n({h:(re+72)%360,s:Q.s,l:Q.l}),n({h:(re+216)%360,s:Q.s,l:Q.l})]}function w(J,Q,re){Q=Q||6,re=re||30;var ae=n(J).toHsl(),oe=360/re,ue=[n(J)];for(ae.h=(ae.h-(oe*Q>>1)+720)%360;--Q;)ae.h=(ae.h+oe)%360,ue.push(n(ae));return ue}function E(J,Q){Q=Q||6;for(var re=n(J).toHsv(),ae=re.h,oe=re.s,ue=re.v,ve=[],be=1/Q;Q--;)ve.push(n({h:ae,s:oe,v:ue})),ue=(ue+be)%1;return ve}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var J=this.toRgb();return(299*J.r+587*J.g+114*J.b)/1e3},getLuminance:function(){var J,Q,re,ae=this.toRgb();return J=ae.r/255,Q=ae.g/255,re=ae.b/255,.2126*(J<=.03928?J/12.92:k.pow((J+.055)/1.055,2.4))+.7152*(Q<=.03928?Q/12.92:k.pow((Q+.055)/1.055,2.4))+.0722*(re<=.03928?re/12.92:k.pow((re+.055)/1.055,2.4))},setAlpha:function(J){return this._a=P(J),this._roundA=p(100*this._a)/100,this},toHsv:function(){var J=o(this._r,this._g,this._b);return{h:360*J.h,s:J.s,v:J.v,a:this._a}},toHsvString:function(){var J=o(this._r,this._g,this._b),Q=p(360*J.h),re=p(100*J.s),ae=p(100*J.v);return 1==this._a?"hsv("+Q+", "+re+"%, "+ae+"%)":"hsva("+Q+", "+re+"%, "+ae+"%, "+this._roundA+")"},toHsl:function(){var J=r(this._r,this._g,this._b);return{h:360*J.h,s:J.s,l:J.l,a:this._a}},toHslString:function(){var J=r(this._r,this._g,this._b),Q=p(360*J.h),re=p(100*J.s),ae=p(100*J.l);return 1==this._a?"hsl("+Q+", "+re+"%, "+ae+"%)":"hsla("+Q+", "+re+"%, "+ae+"%, "+this._roundA+")"},toHex:function(J){return l(this._r,this._g,this._b,J)},toHexString:function(J){return"#"+this.toHex(J)},toHex8:function(J){return Q=this._r,re=this._g,ae=this._b,oe=this._a,ue=J,ve=[N(p(Q).toString(16)),N(p(re).toString(16)),N(p(ae).toString(16)),N(F(oe))],ue&&ve[0].charAt(0)==ve[0].charAt(1)&&ve[1].charAt(0)==ve[1].charAt(1)&&ve[2].charAt(0)==ve[2].charAt(1)&&ve[3].charAt(0)==ve[3].charAt(1)?ve[0].charAt(0)+ve[1].charAt(0)+ve[2].charAt(0)+ve[3].charAt(0):ve.join("");var Q,re,ae,oe,ue,ve},toHex8String:function(J){return"#"+this.toHex8(J)},toRgb:function(){return{r:p(this._r),g:p(this._g),b:p(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+p(this._r)+", "+p(this._g)+", "+p(this._b)+")":"rgba("+p(this._r)+", "+p(this._g)+", "+p(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:p(100*R(this._r,255))+"%",g:p(100*R(this._g,255))+"%",b:p(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+p(100*R(this._r,255))+"%, "+p(100*R(this._g,255))+"%, "+p(100*R(this._b,255))+"%)":"rgba("+p(100*R(this._r,255))+"%, "+p(100*R(this._g,255))+"%, "+p(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(O[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(J){var Q="#"+u(this._r,this._g,this._b,this._a),re=Q,ae=this._gradientType?"GradientType = 1, ":"";if(J){var oe=n(J);re="#"+u(oe._r,oe._g,oe._b,oe._a)}return"progid:DXImageTransform.Microsoft.gradient("+ae+"startColorstr="+Q+",endColorstr="+re+")"},toString:function(J){var Q=!!J;J=J||this._format;var re=!1,ae=this._a<1&&this._a>=0;return Q||!ae||"hex"!==J&&"hex6"!==J&&"hex3"!==J&&"hex4"!==J&&"hex8"!==J&&"name"!==J?("rgb"===J&&(re=this.toRgbString()),"prgb"===J&&(re=this.toPercentageRgbString()),"hex"!==J&&"hex6"!==J||(re=this.toHexString()),"hex3"===J&&(re=this.toHexString(!0)),"hex4"===J&&(re=this.toHex8String(!0)),"hex8"===J&&(re=this.toHex8String()),"name"===J&&(re=this.toName()),"hsl"===J&&(re=this.toHslString()),"hsv"===J&&(re=this.toHsvString()),re||this.toHexString()):"name"===J&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(J,Q){var re=J.apply(null,[this].concat([].slice.call(Q)));return this._r=re._r,this._g=re._g,this._b=re._b,this.setAlpha(re._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(J,Q){return J.apply(null,[this].concat([].slice.call(Q)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(v,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(f,arguments)}},n.fromRatio=function(J,Q){if("object"==typeof J){var re={};for(var ae in J)J.hasOwnProperty(ae)&&(re[ae]="a"===ae?J[ae]:Y(J[ae]));J=re}return n(J,Q)},n.equals=function(J,Q){return!(!J||!Q)&&n(J).toRgbString()==n(Q).toRgbString()},n.random=function(){return n.fromRatio({r:i(),g:i(),b:i()})},n.mix=function(J,Q,re){re=0===re?0:re||50;var ae=n(J).toRgb(),oe=n(Q).toRgb(),ue=re/100;return n({r:(oe.r-ae.r)*ue+ae.r,g:(oe.g-ae.g)*ue+ae.g,b:(oe.b-ae.b)*ue+ae.b,a:(oe.a-ae.a)*ue+ae.a})},n.readability=function(J,Q){var re=n(J),ae=n(Q);return(k.max(re.getLuminance(),ae.getLuminance())+.05)/(k.min(re.getLuminance(),ae.getLuminance())+.05)},n.isReadable=function(J,Q,re){var ae,oe,ue,ve,be,de=n.readability(J,Q);switch(oe=!1,(ue=re,"AA"!==(ve=((ue=ue||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==ve&&(ve="AA"),"small"!==(be=(ue.size||"small").toLowerCase())&&"large"!==be&&(be="small"),ae={level:ve,size:be}).level+ae.size){case"AAsmall":case"AAAlarge":oe=de>=4.5;break;case"AAlarge":oe=de>=3;break;case"AAAsmall":oe=de>=7}return oe},n.mostReadable=function(J,Q,re){var ae,oe,ue,ve,be=null,de=0;oe=(re=re||{}).includeFallbackColors,ue=re.level,ve=re.size;for(var pe=0;pe<Q.length;pe++)(ae=n.readability(J,Q[pe]))>de&&(de=ae,be=n(Q[pe]));return n.isReadable(J,be,{level:ue,size:ve})||!oe?be:(re.includeFallbackColors=!1,n.mostReadable(J,["#fff","#000"],re))};var C=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=n.hexNames=function(J){var Q={};for(var re in J)J.hasOwnProperty(re)&&(Q[J[re]]=re);return Q}(C);function P(J){return J=parseFloat(J),(isNaN(J)||J<0||J>1)&&(J=1),J}function R(J,Q){var ae;"string"==typeof(ae=J)&&-1!=ae.indexOf(".")&&1===parseFloat(ae)&&(J="100%");var re=function(ae){return"string"==typeof ae&&-1!=ae.indexOf("%")}(J);return J=s(Q,t(0,parseFloat(J))),re&&(J=parseInt(J*Q,10)/100),k.abs(J-Q)<1e-6?1:J%Q/parseFloat(Q)}function j(J){return s(1,t(0,J))}function z(J){return parseInt(J,16)}function N(J){return 1==J.length?"0"+J:""+J}function Y(J){return J<=1&&(J=100*J+"%"),J}function F(J){return k.round(255*parseFloat(J)).toString(16)}function U(J){return z(J)/255}var V,te,$,X=(te="[\\s|\\(]+("+(V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",$="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+$),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+$),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+$),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function W(J){return!!X.CSS_UNIT.exec(J)}ee.exports?ee.exports=n:void 0===(M=function(){return n}.call(D,e,D,ee))||(ee.exports=M)}(Math)},57060:function(ee){"use strict";ee.exports=e,ee.exports.float32=ee.exports.float=e,ee.exports.fract32=ee.exports.fract=function(M,k){if(M.length){if(M instanceof Float32Array)return new Float32Array(M.length);k instanceof Float32Array||(k=e(M));for(var a=0,T=k.length;a<T;a++)k[a]=M[a]-k[a];return k}return e(M-e(M))};var D=new Float32Array(1);function e(M){return M.length?M instanceof Float32Array?M:new Float32Array(M):(D[0]=M,D[0])}},75686:function(ee,D,e){"use strict";var M=e(25677);ee.exports=T;var k=96;function a(b,p){var s=M(getComputedStyle(b).getPropertyValue(p));return s[0]*T(s[1],b)}function T(b,p){switch(p=p||document.body,b=(b||"px").trim().toLowerCase(),p!==window&&p!==document||(p=document.body),b){case"%":return p.clientHeight/100;case"ch":case"ex":return function(s,t){var i=document.createElement("div");i.style["font-size"]="128"+s,t.appendChild(i);var n=a(i,"font-size")/128;return t.removeChild(i),n}(b,p);case"em":return a(p,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return k;case"cm":return k/2.54;case"mm":return k/25.4;case"pt":return k/72;case"pc":return k/6}return 1}},96892:function(ee,D,e){"use strict";function M(T){return T}function k(T,b){return"string"==typeof b&&(b=T.objects[b]),"GeometryCollection"===b.type?{type:"FeatureCollection",features:b.geometries.map(function(p){return a(T,p)})}:a(T,b)}function a(T,b){var p=b.id,s=b.bbox,t=null==b.properties?{}:b.properties,i=function(n,r){var o=function(h){if(null==h)return M;var m,y,v=h.scale[0],_=h.scale[1],f=h.translate[0],S=h.translate[1];return function(w,E){E||(m=y=0);var C=2,O=w.length,P=new Array(O);for(P[0]=(m+=w[0])*v+f,P[1]=(y+=w[1])*_+S;C<O;)P[C]=w[C],++C;return P}}(n.transform),l=n.arcs;function u(h,m){m.length&&m.pop();for(var y=l[h<0?~h:h],v=0,_=y.length;v<_;++v)m.push(o(y[v],v));h<0&&function(f,S){for(var w,E=f.length,C=E-S;C<--E;)w=f[C],f[C++]=f[E],f[E]=w}(m,_)}function d(h){return o(h)}function c(h){for(var m=[],y=0,v=h.length;y<v;++y)u(h[y],m);return m.length<2&&m.push(m[0]),m}function x(h){for(var m=c(h);m.length<4;)m.push(m[0]);return m}function g(h){return h.map(x)}return function h(m){var y,v=m.type;switch(v){case"GeometryCollection":return{type:v,geometries:m.geometries.map(h)};case"Point":y=d(m.coordinates);break;case"MultiPoint":y=m.coordinates.map(d);break;case"LineString":y=c(m.arcs);break;case"MultiLineString":y=m.arcs.map(c);break;case"Polygon":y=g(m.arcs);break;case"MultiPolygon":y=m.arcs.map(g);break;default:return null}return{type:v,coordinates:y}}(r)}(T,b);return null==p&&null==s?{type:"Feature",properties:t,geometry:i}:null==s?{type:"Feature",id:p,properties:t,geometry:i}:{type:"Feature",id:p,bbox:s,properties:t,geometry:i}}e.d(D,{zL:function(){return k}})},73116:function(ee,D,e){"use strict";var M=e(24511);ee.exports=function(k){if("function"!=typeof k||!hasOwnProperty.call(k,"length"))return!1;try{if("number"!=typeof k.length||"function"!=typeof k.call||"function"!=typeof k.apply)return!1}catch{return!1}return!M(k)}},69190:function(ee,D,e){"use strict";var M=e(24582),k=e(47403),a=e(9234),T=e(6048),b=function(p,s){return p.replace("%v",T(s))};ee.exports=function(p,s,t){if(!k(t))throw new TypeError(b(s,p));if(!M(p)){if("default"in t)return t.default;if(t.isOptional)return null}var i=a(t.errorMessage);throw M(i)||(i=s),new TypeError(b(i,p))}},18497:function(ee){"use strict";ee.exports=function(D){try{return D.toString()}catch{try{return String(D)}catch{return null}}}},6048:function(ee,D,e){"use strict";var M=e(18497),k=/[\n\r\u2028\u2029]/g;ee.exports=function(a){var T=M(a);return null===T?"<Non-coercible to string value>":(T.length>100&&(T=T.slice(0,99)+"\u2026"),T=T.replace(k,function(b){switch(b){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(ee,D,e){"use strict";var M=e(24582),k={object:!0,function:!0,undefined:!0};ee.exports=function(a){return!!M(a)&&hasOwnProperty.call(k,typeof a)}},82527:function(ee,D,e){"use strict";var M=e(69190),k=e(84985);ee.exports=function(a){return k(a)?a:M(a,"%v is not a plain function",arguments[1])}},84985:function(ee,D,e){"use strict";var M=e(73116),k=/^\s*class[\s{/}]/,a=Function.prototype.toString;ee.exports=function(T){return!!M(T)&&!k.test(a.call(T))}},24511:function(ee,D,e){"use strict";var M=e(47403);ee.exports=function(k){if(!M(k))return!1;try{return!!k.constructor&&k.constructor.prototype===k}catch{return!1}}},9234:function(ee,D,e){"use strict";var M=e(24582),k=e(47403),a=Object.prototype.toString;ee.exports=function(T){if(!M(T))return null;if(k(T)){var b=T.toString;if("function"!=typeof b||b===a)return null}try{return""+T}catch{return null}}},10424:function(ee,D,e){"use strict";var M=e(69190),k=e(24582);ee.exports=function(a){return k(a)?a:M(a,"Cannot use %v",arguments[1])}},24582:function(ee){"use strict";ee.exports=function(D){return null!=D}},58404:function(ee,D,e){"use strict";var M=e(13547),k=e(12129),a=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:k([32,0]),UINT16:k([32,0]),UINT32:k([32,0]),BIGUINT64:k([32,0]),INT8:k([32,0]),INT16:k([32,0]),INT32:k([32,0]),BIGINT64:k([32,0]),FLOAT:k([32,0]),DOUBLE:k([32,0]),DATA:k([32,0]),UINT8C:k([32,0]),BUFFER:k([32,0])});var T=typeof Uint8ClampedArray<"u",b=typeof BigUint64Array<"u",p=typeof BigInt64Array<"u",s=e.g.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=k([32,0])),s.BIGUINT64||(s.BIGUINT64=k([32,0])),s.BIGINT64||(s.BIGINT64=k([32,0])),s.BUFFER||(s.BUFFER=k([32,0]));var t=s.DATA,i=s.BUFFER;function n(S){if(S){var w=S.length||S.byteLength,E=M.log2(w);t[E].push(S)}}function r(S){S=M.nextPow2(S);var w=M.log2(S),E=t[w];return E.length>0?E.pop():new ArrayBuffer(S)}function o(S){return new Uint8Array(r(S),0,S)}function l(S){return new Uint16Array(r(2*S),0,S)}function u(S){return new Uint32Array(r(4*S),0,S)}function d(S){return new Int8Array(r(S),0,S)}function c(S){return new Int16Array(r(2*S),0,S)}function x(S){return new Int32Array(r(4*S),0,S)}function g(S){return new Float32Array(r(4*S),0,S)}function h(S){return new Float64Array(r(8*S),0,S)}function m(S){return T?new Uint8ClampedArray(r(S),0,S):o(S)}function y(S){return b?new BigUint64Array(r(8*S),0,S):null}function v(S){return p?new BigInt64Array(r(8*S),0,S):null}function _(S){return new DataView(r(S),0,S)}function f(S){S=M.nextPow2(S);var w=M.log2(S),E=i[w];return E.length>0?E.pop():new a(S)}D.free=function(S){if(a.isBuffer(S))i[M.log2(S.length)].push(S);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(S)&&(S=S.buffer),!S)return;var w=S.length||S.byteLength,E=0|M.log2(w);t[E].push(S)}},D.freeUint8=D.freeUint16=D.freeUint32=D.freeBigUint64=D.freeInt8=D.freeInt16=D.freeInt32=D.freeBigInt64=D.freeFloat32=D.freeFloat=D.freeFloat64=D.freeDouble=D.freeUint8Clamped=D.freeDataView=function(S){n(S.buffer)},D.freeArrayBuffer=n,D.freeBuffer=function(S){i[M.log2(S.length)].push(S)},D.malloc=function(S,w){if(void 0===w||"arraybuffer"===w)return r(S);switch(w){case"uint8":return o(S);case"uint16":return l(S);case"uint32":return u(S);case"int8":return d(S);case"int16":return c(S);case"int32":return x(S);case"float":case"float32":return g(S);case"double":case"float64":return h(S);case"uint8_clamped":return m(S);case"bigint64":return v(S);case"biguint64":return y(S);case"buffer":return f(S);case"data":case"dataview":return _(S);default:return null}return null},D.mallocArrayBuffer=r,D.mallocUint8=o,D.mallocUint16=l,D.mallocUint32=u,D.mallocInt8=d,D.mallocInt16=c,D.mallocInt32=x,D.mallocFloat32=D.mallocFloat=g,D.mallocFloat64=D.mallocDouble=h,D.mallocUint8Clamped=m,D.mallocBigUint64=y,D.mallocBigInt64=v,D.mallocDataView=_,D.mallocBuffer=f,D.clearCache=function(){for(var S=0;S<32;++S)s.UINT8[S].length=0,s.UINT16[S].length=0,s.UINT32[S].length=0,s.INT8[S].length=0,s.INT16[S].length=0,s.INT32[S].length=0,s.FLOAT[S].length=0,s.DOUBLE[S].length=0,s.BIGUINT64[S].length=0,s.BIGINT64[S].length=0,s.UINT8C[S].length=0,t[S].length=0,i[S].length=0}},90448:function(ee){var D=/[\'\"]/;ee.exports=function(e){return e?(D.test(e.charAt(0))&&(e=e.substr(1)),D.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},93447:function(ee){"use strict";ee.exports=function(D,e,M){Array.isArray(M)||(M=[].slice.call(arguments,2));for(var k=0,a=M.length;k<a;k++){var T=M[k];for(var b in T)if((void 0===e[b]||Array.isArray(e[b])||D[b]!==e[b])&&b in e){var p;if(!0===T[b])p=e[b];else if(!1===T[b]||"function"==typeof T[b]&&void 0===(p=T[b](e[b],D,e)))continue;D[b]=p}}return D}},20588:function(ee,D,e){function M(k){try{if(!e.g.localStorage)return!1}catch{return!1}var a=e.g.localStorage[k];return null!=a&&"true"===String(a).toLowerCase()}ee.exports=function(k,a){if(M("noDeprecation"))return k;var T=!1;return function(){if(!T){if(M("throwDeprecation"))throw new Error(a);M("traceDeprecation")?console.trace(a):console.warn(a),T=!0}return k.apply(this,arguments)}}},45920:function(ee){ee.exports=function(D){return D&&"object"==typeof D&&"function"==typeof D.copy&&"function"==typeof D.fill&&"function"==typeof D.readUInt8}},4936:function(ee,D,e){"use strict";var M=e(47216),k=e(65481),a=e(21099),T=e(9187);function b(R){return R.call.bind(R)}var p=typeof BigInt<"u",s=typeof Symbol<"u",t=b(Object.prototype.toString),i=b(Number.prototype.valueOf),n=b(String.prototype.valueOf),r=b(Boolean.prototype.valueOf);if(p)var o=b(BigInt.prototype.valueOf);if(s)var l=b(Symbol.prototype.valueOf);function u(R,j){if("object"!=typeof R)return!1;try{return j(R),!0}catch{return!1}}function d(R){return"[object Map]"===t(R)}function c(R){return"[object Set]"===t(R)}function x(R){return"[object WeakMap]"===t(R)}function g(R){return"[object WeakSet]"===t(R)}function h(R){return"[object ArrayBuffer]"===t(R)}function m(R){return typeof ArrayBuffer<"u"&&(h.working?h(R):R instanceof ArrayBuffer)}function y(R){return"[object DataView]"===t(R)}function v(R){return typeof DataView<"u"&&(y.working?y(R):R instanceof DataView)}D.isArgumentsObject=M,D.isGeneratorFunction=k,D.isTypedArray=T,D.isPromise=function(R){return typeof Promise<"u"&&R instanceof Promise||null!==R&&"object"==typeof R&&"function"==typeof R.then&&"function"==typeof R.catch},D.isArrayBufferView=function(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):T(R)||v(R)},D.isUint8Array=function(R){return"Uint8Array"===a(R)},D.isUint8ClampedArray=function(R){return"Uint8ClampedArray"===a(R)},D.isUint16Array=function(R){return"Uint16Array"===a(R)},D.isUint32Array=function(R){return"Uint32Array"===a(R)},D.isInt8Array=function(R){return"Int8Array"===a(R)},D.isInt16Array=function(R){return"Int16Array"===a(R)},D.isInt32Array=function(R){return"Int32Array"===a(R)},D.isFloat32Array=function(R){return"Float32Array"===a(R)},D.isFloat64Array=function(R){return"Float64Array"===a(R)},D.isBigInt64Array=function(R){return"BigInt64Array"===a(R)},D.isBigUint64Array=function(R){return"BigUint64Array"===a(R)},d.working=typeof Map<"u"&&d(new Map),D.isMap=function(R){return typeof Map<"u"&&(d.working?d(R):R instanceof Map)},c.working=typeof Set<"u"&&c(new Set),D.isSet=function(R){return typeof Set<"u"&&(c.working?c(R):R instanceof Set)},x.working=typeof WeakMap<"u"&&x(new WeakMap),D.isWeakMap=function(R){return typeof WeakMap<"u"&&(x.working?x(R):R instanceof WeakMap)},g.working=typeof WeakSet<"u"&&g(new WeakSet),D.isWeakSet=function(R){return g(R)},h.working=typeof ArrayBuffer<"u"&&h(new ArrayBuffer),D.isArrayBuffer=m,y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&y(new DataView(new ArrayBuffer(1),0,1)),D.isDataView=v;var _=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function f(R){return"[object SharedArrayBuffer]"===t(R)}function S(R){return void 0!==_&&(void 0===f.working&&(f.working=f(new _)),f.working?f(R):R instanceof _)}function w(R){return u(R,i)}function E(R){return u(R,n)}function C(R){return u(R,r)}function O(R){return p&&u(R,o)}function P(R){return s&&u(R,l)}D.isSharedArrayBuffer=S,D.isAsyncFunction=function(R){return"[object AsyncFunction]"===t(R)},D.isMapIterator=function(R){return"[object Map Iterator]"===t(R)},D.isSetIterator=function(R){return"[object Set Iterator]"===t(R)},D.isGeneratorObject=function(R){return"[object Generator]"===t(R)},D.isWebAssemblyCompiledModule=function(R){return"[object WebAssembly.Module]"===t(R)},D.isNumberObject=w,D.isStringObject=E,D.isBooleanObject=C,D.isBigIntObject=O,D.isSymbolObject=P,D.isBoxedPrimitive=function(R){return w(R)||E(R)||C(R)||O(R)||P(R)},D.isAnyArrayBuffer=function(R){return typeof Uint8Array<"u"&&(m(R)||S(R))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(D,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})},43827:function(ee,D,e){var M=e(90386),k=Object.getOwnPropertyDescriptors||function(P){for(var R=Object.keys(P),j={},z=0;z<R.length;z++)j[R[z]]=Object.getOwnPropertyDescriptor(P,R[z]);return j},a=/%[sdj%]/g;D.format=function(P){if(!x(P)){for(var R=[],j=0;j<arguments.length;j++)R.push(s(arguments[j]));return R.join(" ")}j=1;for(var z=arguments,N=z.length,Y=String(P).replace(a,function(U){if("%%"===U)return"%";if(j>=N)return U;switch(U){case"%s":return String(z[j++]);case"%d":return Number(z[j++]);case"%j":try{return JSON.stringify(z[j++])}catch{return"[Circular]"}default:return U}}),F=z[j];j<N;F=z[++j])d(F)||!m(F)?Y+=" "+F:Y+=" "+s(F);return Y},D.deprecate=function(P,R){if(void 0!==M&&!0===M.noDeprecation)return P;if(void 0===M)return function(){return D.deprecate(P,R).apply(this,arguments)};var j=!1;return function(){if(!j){if(M.throwDeprecation)throw new Error(R);M.traceDeprecation?console.trace(R):console.error(R),j=!0}return P.apply(this,arguments)}};var T={},b=/^$/;if(M.env.NODE_DEBUG){var p=M.env.NODE_DEBUG;p=p.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),b=new RegExp("^"+p+"$","i")}function s(P,R){var j={seen:[],stylize:i};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),u(R)?j.showHidden=R:R&&D._extend(j,R),g(j.showHidden)&&(j.showHidden=!1),g(j.depth)&&(j.depth=2),g(j.colors)&&(j.colors=!1),g(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=t),n(j,P,j.depth)}function t(P,R){var j=s.styles[R];return j?"\x1b["+s.colors[j][0]+"m"+P+"\x1b["+s.colors[j][1]+"m":P}function i(P,R){return P}function n(P,R,j){if(P.customInspect&&R&&_(R.inspect)&&R.inspect!==D.inspect&&(!R.constructor||R.constructor.prototype!==R)){var z=R.inspect(j,P);return x(z)||(z=n(P,z,j)),z}var N=function(W,J){if(g(J))return W.stylize("undefined","undefined");if(x(J)){var Q="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(Q,"string")}return c(J)?W.stylize(""+J,"number"):u(J)?W.stylize(""+J,"boolean"):d(J)?W.stylize("null","null"):void 0}(P,R);if(N)return N;var J,Y=Object.keys(R),F=(J={},Y.forEach(function(Q,re){J[Q]=!0}),J);if(P.showHidden&&(Y=Object.getOwnPropertyNames(R)),v(R)&&(Y.indexOf("message")>=0||Y.indexOf("description")>=0))return r(R);if(0===Y.length){if(_(R)){var U=R.name?": "+R.name:"";return P.stylize("[Function"+U+"]","special")}if(h(R))return P.stylize(RegExp.prototype.toString.call(R),"regexp");if(y(R))return P.stylize(Date.prototype.toString.call(R),"date");if(v(R))return r(R)}var V,te="",$=!1,X=["{","}"];return l(R)&&($=!0,X=["[","]"]),_(R)&&(te=" [Function"+(R.name?": "+R.name:"")+"]"),h(R)&&(te=" "+RegExp.prototype.toString.call(R)),y(R)&&(te=" "+Date.prototype.toUTCString.call(R)),v(R)&&(te=" "+r(R)),0!==Y.length||$&&0!=R.length?j<0?h(R)?P.stylize(RegExp.prototype.toString.call(R),"regexp"):P.stylize("[Object]","special"):(P.seen.push(R),V=$?function(W,J,Q,re,ae){for(var oe=[],ue=0,ve=J.length;ue<ve;++ue)E(J,String(ue))?oe.push(o(W,J,Q,re,String(ue),!0)):oe.push("");return ae.forEach(function(be){be.match(/^\d+$/)||oe.push(o(W,J,Q,re,be,!0))}),oe}(P,R,j,F,Y):Y.map(function(W){return o(P,R,j,F,W,$)}),P.seen.pop(),function(W,J,Q){return W.reduce(function(re,ae){return ae.indexOf("\n"),re+ae.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Q[0]+(""===J?"":J+"\n ")+" "+W.join(",\n  ")+" "+Q[1]:Q[0]+J+" "+W.join(", ")+" "+Q[1]}(V,te,X)):X[0]+te+X[1]}function r(P){return"["+Error.prototype.toString.call(P)+"]"}function o(P,R,j,z,N,Y){var F,U,V;if((V=Object.getOwnPropertyDescriptor(R,N)||{value:R[N]}).get?U=V.set?P.stylize("[Getter/Setter]","special"):P.stylize("[Getter]","special"):V.set&&(U=P.stylize("[Setter]","special")),E(z,N)||(F="["+N+"]"),U||(P.seen.indexOf(V.value)<0?(U=d(j)?n(P,V.value,null):n(P,V.value,j-1)).indexOf("\n")>-1&&(U=Y?U.split("\n").map(function(te){return"  "+te}).join("\n").slice(2):"\n"+U.split("\n").map(function(te){return"   "+te}).join("\n")):U=P.stylize("[Circular]","special")),g(F)){if(Y&&N.match(/^\d+$/))return U;(F=JSON.stringify(""+N)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.slice(1,-1),F=P.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=P.stylize(F,"string"))}return F+": "+U}function l(P){return Array.isArray(P)}function u(P){return"boolean"==typeof P}function d(P){return null===P}function c(P){return"number"==typeof P}function x(P){return"string"==typeof P}function g(P){return void 0===P}function h(P){return m(P)&&"[object RegExp]"===f(P)}function m(P){return"object"==typeof P&&null!==P}function y(P){return m(P)&&"[object Date]"===f(P)}function v(P){return m(P)&&("[object Error]"===f(P)||P instanceof Error)}function _(P){return"function"==typeof P}function f(P){return Object.prototype.toString.call(P)}function S(P){return P<10?"0"+P.toString(10):P.toString(10)}D.debuglog=function(P){if(P=P.toUpperCase(),!T[P])if(b.test(P)){var R=M.pid;T[P]=function(){var j=D.format.apply(D,arguments);console.error("%s %d: %s",P,R,j)}}else T[P]=function(){};return T[P]},D.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},D.types=e(4936),D.isArray=l,D.isBoolean=u,D.isNull=d,D.isNullOrUndefined=function(P){return null==P},D.isNumber=c,D.isString=x,D.isSymbol=function(P){return"symbol"==typeof P},D.isUndefined=g,D.isRegExp=h,D.types.isRegExp=h,D.isObject=m,D.isDate=y,D.types.isDate=y,D.isError=v,D.types.isNativeError=v,D.isFunction=_,D.isPrimitive=function(P){return null===P||"boolean"==typeof P||"number"==typeof P||"string"==typeof P||"symbol"==typeof P||void 0===P},D.isBuffer=e(45920);var w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(P,R){return Object.prototype.hasOwnProperty.call(P,R)}D.log=function(){var P,R;console.log("%s - %s",(R=[S((P=new Date).getHours()),S(P.getMinutes()),S(P.getSeconds())].join(":"),[P.getDate(),w[P.getMonth()],R].join(" ")),D.format.apply(D,arguments))},D.inherits=e(42018),D._extend=function(P,R){if(!R||!m(R))return P;for(var j=Object.keys(R),z=j.length;z--;)P[j[z]]=R[j[z]];return P};var C=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function O(P,R){if(!P){var j=new Error("Promise was rejected with a falsy value");j.reason=P,P=j}return R(P)}D.promisify=function(P){if("function"!=typeof P)throw new TypeError('The "original" argument must be of type Function');if(C&&P[C]){var R;if("function"!=typeof(R=P[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(R,C,{value:R,enumerable:!1,writable:!1,configurable:!0}),R}function R(){for(var j,z,N=new Promise(function(U,V){j=U,z=V}),Y=[],F=0;F<arguments.length;F++)Y.push(arguments[F]);Y.push(function(U,V){U?z(U):j(V)});try{P.apply(this,Y)}catch(U){z(U)}return N}return Object.setPrototypeOf(R,Object.getPrototypeOf(P)),C&&Object.defineProperty(R,C,{value:R,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(R,k(P))},D.promisify.custom=C,D.callbackify=function(P){if("function"!=typeof P)throw new TypeError('The "original" argument must be of type Function');function R(){for(var j=[],z=0;z<arguments.length;z++)j.push(arguments[z]);var N=j.pop();if("function"!=typeof N)throw new TypeError("The last argument must be of type Function");var Y=this,F=function(){return N.apply(Y,arguments)};P.apply(this,j).then(function(U){M.nextTick(F.bind(null,null,U))},function(U){M.nextTick(O.bind(null,U,F))})}return Object.setPrototypeOf(R,Object.getPrototypeOf(P)),Object.defineProperties(R,k(P)),R}},40372:function(ee,D,e){var M=e(86249);ee.exports=function(k){return M("webgl",k)}},21099:function(ee,D,e){"use strict";var M=e(31353),k=e(72077),a=e(6614),T=e(40383),b=a("Object.prototype.toString"),p=e(84543)(),s=typeof globalThis>"u"?e.g:globalThis,t=k(),i=a("String.prototype.slice"),n={},r=Object.getPrototypeOf;p&&T&&r&&M(t,function(l){if("function"==typeof s[l]){var u=new s[l];if(Symbol.toStringTag in u){var d=r(u),c=T(d,Symbol.toStringTag);if(!c){var x=r(d);c=T(x,Symbol.toStringTag)}n[l]=c.get}}});var o=e(9187);ee.exports=function(l){return!!o(l)&&(p&&Symbol.toStringTag in l?(u=l,d=!1,M(n,function(c,x){if(!d)try{var g=c.call(u);g===x&&(d=g)}catch{}}),d):i(b(l),8,-1));var u,d}},3961:function(ee,D,e){var M=e(63489),k=e(56131),a=M.instance();function T(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}T.prototype=new M.baseCalendar,k(T.prototype,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(r,o){if("string"==typeof r){var l=r.match(p);return l?l[0]:""}var u=this._validateYear(r),d=r.month(),c=""+this.toChineseMonth(u,d);return o&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(u,d)&&(c+="i"),c},monthNames:function(r){if("string"==typeof r){var o=r.match(s);return o?o[0]:""}var l=this._validateYear(r),u=r.month(),d=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(d="\u95f0"+d),d},monthNamesShort:function(r){if("string"==typeof r){var o=r.match(t);return o?o[0]:""}var l=this._validateYear(r),u=r.month(),d=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(d="\u95f0"+d),d},parseMonth:function(r,o){r=this._validateYear(r);var l,u=parseInt(o);if(isNaN(u))"\u95f0"===o[0]&&(l=!0,o=o.substring(1)),"\u6708"===o[o.length-1]&&(o=o.substring(0,o.length-1)),u=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(o);else{var d=o[o.length-1];l="i"===d||"I"===d}return this.toMonthIndex(r,u,l)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(r,o){if(r.year&&(r=r.year()),"number"!=typeof r||r<1888||r>2111)throw o.replace(/\{0\}/,this.local.name);return r},toMonthIndex:function(r,o,l){var u=this.intercalaryMonth(r);if(l&&o!==u||o<1||o>12)throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!l&&o<=u?o-1:o:o-1},toChineseMonth:function(r,o){r.year&&(o=(r=r.year()).month());var l=this.intercalaryMonth(r);if(o<0||o>(l?12:11))throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return l?o<l?o+1:o:o+1},intercalaryMonth:function(r){return r=this._validateYear(r),i[r-i[0]]>>13},isIntercalaryMonth:function(r,o){r.year&&(o=(r=r.year()).month());var l=this.intercalaryMonth(r);return!!l&&l===o},leapYear:function(r){return 0!==this.intercalaryMonth(r)},weekOfYear:function(r,o,l){var u,d=this._validateYear(r,M.local.invalidyear),c=n[d-n[0]],x=c>>9&4095,g=c>>5&15,h=31&c;(u=a.newDate(x,g,h)).add(4-(u.dayOfWeek()||7),"d");var m=this.toJD(r,o,l)-u.toJD();return 1+Math.floor(m/7)},monthsInYear:function(r){return this.leapYear(r)?13:12},daysInMonth:function(r,o){r.year&&(o=r.month(),r=r.year()),r=this._validateYear(r);var l=i[r-i[0]];if(o>(l>>13?12:11))throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return l&1<<12-o?30:29},weekDay:function(r,o,l){return(this.dayOfWeek(r,o,l)||7)<6},toJD:function(r,o,l){var u=this._validate(r,c,l,M.local.invalidDate);r=this._validateYear(u.year()),o=u.month(),l=u.day();var d=this.isIntercalaryMonth(r,o),c=this.toChineseMonth(r,o),x=function(g,h,m,y,v){var _,f,S;if("object"==typeof g)f=g,_=h||{};else{var w;if(!("number"==typeof g&&g>=1888&&g<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof h&&h>=1&&h<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof m&&m>=1&&m<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof y?(w=!1,_=y):(w=!!y,_={}),f={year:g,month:h,day:m,isIntercalary:w}}S=f.day-1;var E,C=i[f.year-i[0]],O=C>>13;E=O&&(f.month>O||f.isIntercalary)?f.month:f.month-1;for(var P=0;P<E;P++)S+=C&1<<12-P?30:29;var R=n[f.year-n[0]],j=new Date(R>>9&4095,(R>>5&15)-1,(31&R)+S);return _.year=j.getFullYear(),_.month=1+j.getMonth(),_.day=j.getDate(),_}(r,c,l,d);return a.toJD(x.year,x.month,x.day)},fromJD:function(r){var o=a.fromJD(r),l=function(d,c,x,g){var h,m;if("object"==typeof d)h=d,m=c||{};else{if(!("number"==typeof d&&d>=1888&&d<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof c&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof x&&x>=1&&x<=31))throw new Error("Solar day outside range 1 - 31");h={year:d,month:c,day:x},m={}}var y=n[h.year-n[0]],v=h.year<<9|h.month<<5|h.day;m.year=v>=y?h.year:h.year-1,y=n[m.year-n[0]];var _,f=new Date(y>>9&4095,(y>>5&15)-1,31&y),S=new Date(h.year,h.month-1,h.day);_=Math.round((S-f)/864e5);var w,E=i[m.year-i[0]];for(w=0;w<13;w++){var C=E&1<<12-w?30:29;if(_<C)break;_-=C}var O=E>>13;return!O||w<O?(m.isIntercalary=!1,m.month=1+w):w===O?(m.isIntercalary=!0,m.month=w):(m.isIntercalary=!1,m.month=w),m.day=1+_,m}(o.year(),o.month(),o.day()),u=this.toMonthIndex(l.year,l.month,l.isIntercalary);return this.newDate(l.year,u,l.day)},fromString:function(r){var o=r.match(b),l=this._validateYear(+o[1]),u=+o[2],d=!!o[3],c=this.toMonthIndex(l,u,d),x=+o[4];return this.newDate(l,c,x)},add:function(r,o,l){var u=r.year(),d=r.month(),c=this.isIntercalaryMonth(u,d),x=this.toChineseMonth(u,d),g=Object.getPrototypeOf(T.prototype).add.call(this,r,o,l);if("y"===l){var h=g.year(),m=g.month(),y=this.isIntercalaryMonth(h,x),v=c&&y?this.toMonthIndex(h,x,!0):this.toMonthIndex(h,x,!1);v!==m&&g.month(v)}return g}});var b=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,p=/^\d?\d[iI]?/m,s=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,t=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;M.calendars.chinese=T;var i=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],n=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(ee,D,e){var M=e(63489),k=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var b=this._validate(T,this.minMonth,this.minDay,M.local.invalidYear);return(T=b.year()+(b.year()<0?1:0))%4==3||T%4==-1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear),13},weekOfYear:function(T,b,p){var s=this.newDate(T,b,p);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(T,b){var p=this._validate(T,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(13===p.month()&&this.leapYear(p.year())?1:0)},weekDay:function(T,b,p){return(this.dayOfWeek(T,b,p)||7)<6},toJD:function(T,b,p){var s=this._validate(T,b,p,M.local.invalidDate);return(T=s.year())<0&&T++,s.day()+30*(s.month()-1)+365*(T-1)+Math.floor(T/4)+this.jdEpoch-1},fromJD:function(T){var b=Math.floor(T)+.5-this.jdEpoch,p=Math.floor((b-Math.floor((b+366)/1461))/365)+1;p<=0&&p--,b=Math.floor(T)+.5-this.newDate(p,1,1).toJD();var s=Math.floor(b/30)+1,t=b-30*(s-1)+1;return this.newDate(p,s,t)}}),M.calendars.coptic=a},86825:function(ee,D,e){var M=e(63489),k=e(56131);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),!1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),13},daysInYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),400},weekOfYear:function(b,p,s){var t=this.newDate(b,p,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(b,p){var s=this._validate(b,p,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(b,p,s){return(this._validate(b,p,s,M.local.invalidDate).day()+1)%8},weekDay:function(b,p,s){var t=this.dayOfWeek(b,p,s);return t>=2&&t<=6},extraInfo:function(b,p,s){var t=this._validate(b,p,s,M.local.invalidDate);return{century:T[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(b,p,s){var t=this._validate(b,p,s,M.local.invalidDate);return b=t.year()+(t.year()<0?1:0),p=t.month(),(s=t.day())+(p>1?16:0)+(p>2?32*(p-2):0)+400*(b-1)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b+.5)-Math.floor(this.jdEpoch)-1;var p=Math.floor(b/400)+1;b-=400*(p-1),b+=b>15?16:0;var s=Math.floor(b/32)+1,t=b-32*(s-1)+1;return this.newDate(p<=0?p-1:p,s,t)}});var T={20:"Fruitbat",21:"Anchovy"};M.calendars.discworld=a},37715:function(ee,D,e){var M=e(63489),k=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var b=this._validate(T,this.minMonth,this.minDay,M.local.invalidYear);return(T=b.year()+(b.year()<0?1:0))%4==3||T%4==-1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear),13},weekOfYear:function(T,b,p){var s=this.newDate(T,b,p);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(T,b){var p=this._validate(T,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(13===p.month()&&this.leapYear(p.year())?1:0)},weekDay:function(T,b,p){return(this.dayOfWeek(T,b,p)||7)<6},toJD:function(T,b,p){var s=this._validate(T,b,p,M.local.invalidDate);return(T=s.year())<0&&T++,s.day()+30*(s.month()-1)+365*(T-1)+Math.floor(T/4)+this.jdEpoch-1},fromJD:function(T){var b=Math.floor(T)+.5-this.jdEpoch,p=Math.floor((b-Math.floor((b+366)/1461))/365)+1;p<=0&&p--,b=Math.floor(T)+.5-this.newDate(p,1,1).toJD();var s=Math.floor(b/30)+1,t=b-30*(s-1)+1;return this.newDate(p,s,t)}}),M.calendars.ethiopian=a},99384:function(ee,D,e){var M=e(63489),k=e(56131);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function T(b,p){return b-p*Math.floor(b/p)}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var p=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return this._leapYear(p.year())},_leapYear:function(b){return T(7*(b=b<0?b+1:b)+1,19)<7},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,M.local.invalidYear),this._leapYear(b.year?b.year():b)?13:12},weekOfYear:function(b,p,s){var t=this.newDate(b,p,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){return b=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear).year(),this.toJD(-1===b?1:b+1,7,1)-this.toJD(b,7,1)},daysInMonth:function(b,p){return b.year&&(p=b.month(),b=b.year()),this._validate(b,p,this.minDay,M.local.invalidMonth),12===p&&this.leapYear(b)||8===p&&5===T(this.daysInYear(b),10)?30:9===p&&3===T(this.daysInYear(b),10)?29:this.daysPerMonth[p-1]},weekDay:function(b,p,s){return 6!==this.dayOfWeek(b,p,s)},extraInfo:function(b,p,s){var t=this._validate(b,p,s,M.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(b,p,s){var t=this._validate(b,p,s,M.local.invalidDate);b=t.year(),p=t.month(),s=t.day();var i=b<=0?b+1:b,n=this.jdEpoch+this._delay1(i)+this._delay2(i)+s+1;if(p<7){for(var r=7;r<=this.monthsInYear(b);r++)n+=this.daysInMonth(b,r);for(r=1;r<p;r++)n+=this.daysInMonth(b,r)}else for(r=7;r<p;r++)n+=this.daysInMonth(b,r);return n},_delay1:function(b){var p=Math.floor((235*b-234)/19),s=12084+13753*p,t=29*p+Math.floor(s/25920);return T(3*(t+1),7)<3&&t++,t},_delay2:function(b){var p=this._delay1(b-1),s=this._delay1(b);return this._delay1(b+1)-s==356?2:s-p==382?1:0},fromJD:function(b){b=Math.floor(b)+.5;for(var p=Math.floor(98496*(b-this.jdEpoch)/35975351)-1;b>=this.toJD(-1===p?1:p+1,7,1);)p++;for(var s=b<this.toJD(p,1,1)?7:1;b>this.toJD(p,s,this.daysInMonth(p,s));)s++;var t=b-this.toJD(p,s,1)+1;return this.newDate(p,s,t)}}),M.calendars.hebrew=a},43805:function(ee,D,e){var M=e(63489),k=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(T){return(11*this._validate(T,this.minMonth,this.minDay,M.local.invalidYear).year()+14)%30<11},weekOfYear:function(T,b,p){var s=this.newDate(T,b,p);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(T){return this.leapYear(T)?355:354},daysInMonth:function(T,b){var p=this._validate(T,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(12===p.month()&&this.leapYear(p.year())?1:0)},weekDay:function(T,b,p){return 5!==this.dayOfWeek(T,b,p)},toJD:function(T,b,p){var s=this._validate(T,b,p,M.local.invalidDate);return T=s.year(),b=s.month(),T=T<=0?T+1:T,(p=s.day())+Math.ceil(29.5*(b-1))+354*(T-1)+Math.floor((3+11*T)/30)+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T)+.5;var b=Math.floor((30*(T-this.jdEpoch)+10646)/10631);b=b<=0?b-1:b;var p=Math.min(12,Math.ceil((T-29-this.toJD(b,1,1))/29.5)+1),s=T-this.toJD(b,p,1)+1;return this.newDate(b,p,s)}}),M.calendars.islamic=a},88874:function(ee,D,e){var M=e(63489),k=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var b=this._validate(T,this.minMonth,this.minDay,M.local.invalidYear);return(T=b.year()<0?b.year()+1:b.year())%4==0},weekOfYear:function(T,b,p){var s=this.newDate(T,b,p);return s.add(4-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(T,b){var p=this._validate(T,b,this.minDay,M.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(2===p.month()&&this.leapYear(p.year())?1:0)},weekDay:function(T,b,p){return(this.dayOfWeek(T,b,p)||7)<6},toJD:function(T,b,p){var s=this._validate(T,b,p,M.local.invalidDate);return T=s.year(),b=s.month(),p=s.day(),T<0&&T++,b<=2&&(T--,b+=12),Math.floor(365.25*(T+4716))+Math.floor(30.6001*(b+1))+p-1524.5},fromJD:function(T){var b=Math.floor(T+.5)+1524,p=Math.floor((b-122.1)/365.25),s=Math.floor(365.25*p),t=Math.floor((b-s)/30.6001),i=t-Math.floor(t<14?1:13),n=p-Math.floor(i>2?4716:4715),r=b-s-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,i,r)}}),M.calendars.julian=a},83290:function(ee,D,e){var M=e(63489),k=e(56131);function a(p){this.local=this.regionalOptions[p||""]||this.regionalOptions[""]}function T(p,s){return p-s*Math.floor(p/s)}function b(p,s){return T(p-1,s)+1}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(p){return this._validate(p,this.minMonth,this.minDay,M.local.invalidYear),!1},formatYear:function(p){p=this._validate(p,this.minMonth,this.minDay,M.local.invalidYear).year();var s=Math.floor(p/400);return p%=400,p+=p<0?400:0,s+"."+Math.floor(p/20)+"."+p%20},forYear:function(p){if((p=p.split(".")).length<3)throw"Invalid Mayan year";for(var s=0,t=0;t<p.length;t++){var i=parseInt(p[t],10);if(Math.abs(i)>19||t>0&&i<0)throw"Invalid Mayan year";s=20*s+i}return s},monthsInYear:function(p){return this._validate(p,this.minMonth,this.minDay,M.local.invalidYear),18},weekOfYear:function(p,s,t){return this._validate(p,s,t,M.local.invalidDate),0},daysInYear:function(p){return this._validate(p,this.minMonth,this.minDay,M.local.invalidYear),360},daysInMonth:function(p,s){return this._validate(p,s,this.minDay,M.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(p,s,t){return this._validate(p,s,t,M.local.invalidDate).day()},weekDay:function(p,s,t){return this._validate(p,s,t,M.local.invalidDate),!0},extraInfo:function(p,s,t){var i=this._validate(p,s,t,M.local.invalidDate).toJD(),n=this._toHaab(i),r=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[r[0]-1],tzolkinDay:r[0],tzolkinTrecena:r[1]}},_toHaab:function(p){var s=T(8+(p-=this.jdEpoch)+340,365);return[Math.floor(s/20)+1,T(s,20)]},_toTzolkin:function(p){return[b(20+(p-=this.jdEpoch),20),b(p+4,13)]},toJD:function(p,s,t){var i=this._validate(p,s,t,M.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(p){p=Math.floor(p)+.5-this.jdEpoch;var s=Math.floor(p/360);p%=360,p+=p<0?360:0;var t=Math.floor(p/20),i=p%20;return this.newDate(s,t,i)}}),M.calendars.mayan=a},29108:function(ee,D,e){var M=e(63489),k=e(56131);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar;var T=M.instance("gregorian");k(a.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var p=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear);return T.leapYear(p.year()+(p.year()<1?1:0)+1469)},weekOfYear:function(b,p,s){var t=this.newDate(b,p,s);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,p){var s=this._validate(b,p,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(12===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(b,p,s){return(this.dayOfWeek(b,p,s)||7)<6},toJD:function(b,p,s){var t=this._validate(b,p,s,M.local.invalidMonth);(b=t.year())<0&&b++;for(var i=t.day(),n=1;n<t.month();n++)i+=this.daysPerMonth[n-1];return i+T.toJD(b+1468,3,13)},fromJD:function(b){b=Math.floor(b+.5);for(var p=Math.floor((b-(this.jdEpoch-1))/366);b>=this.toJD(p+1,1,1);)p++;for(var s=b-Math.floor(this.toJD(p,1,1)+.5)+1,t=1;s>this.daysInMonth(p,t);)s-=this.daysInMonth(p,t),t++;return this.newDate(p,t,s)}}),M.calendars.nanakshahi=a},55422:function(ee,D,e){var M=e(63489),k=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(T){return this.daysInYear(T)!==this.daysPerYear},weekOfYear:function(T,b,p){var s=this.newDate(T,b,p);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(T){if(T=this._validate(T,this.minMonth,this.minDay,M.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[T])return this.daysPerYear;for(var b=0,p=this.minMonth;p<=12;p++)b+=this.NEPALI_CALENDAR_DATA[T][p];return b},daysInMonth:function(T,b){return T.year&&(b=T.month(),T=T.year()),this._validate(T,b,this.minDay,M.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[T]?this.daysPerMonth[b-1]:this.NEPALI_CALENDAR_DATA[T][b]},weekDay:function(T,b,p){return 6!==this.dayOfWeek(T,b,p)},toJD:function(T,b,p){var s=this._validate(T,b,p,M.local.invalidDate);T=s.year(),b=s.month(),p=s.day();var t=M.instance(),i=0,n=b,r=T;this._createMissingCalendarData(T);var o=T-(n>9||9===n&&p>=this.NEPALI_CALENDAR_DATA[r][0]?56:57);for(9!==b&&(i=p,n--);9!==n;)n<=0&&(n=12,r--),i+=this.NEPALI_CALENDAR_DATA[r][n],n--;return 9===b?(i+=p-this.NEPALI_CALENDAR_DATA[r][0])<0&&(i+=t.daysInYear(o)):i+=this.NEPALI_CALENDAR_DATA[r][9]-this.NEPALI_CALENDAR_DATA[r][0],t.newDate(o,1,1).add(i,"d").toJD()},fromJD:function(T){var b=M.instance().fromJD(T),p=b.year(),s=b.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var i=9,n=this.NEPALI_CALENDAR_DATA[t][0],r=this.NEPALI_CALENDAR_DATA[t][i]-n+1;s>r;)++i>12&&(i=1,t++),r+=this.NEPALI_CALENDAR_DATA[t][i];var o=this.NEPALI_CALENDAR_DATA[t][i]-(r-s);return this.newDate(t,i,o)},_createMissingCalendarData:function(T){var b=this.daysPerMonth.slice(0);b.unshift(17);for(var p=T-1;p<T+2;p++)void 0===this.NEPALI_CALENDAR_DATA[p]&&(this.NEPALI_CALENDAR_DATA[p]=b)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),M.calendars.nepali=a},94320:function(ee,D,e){var M=e(63489),k=e(56131);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function T(b,p){return b-p*Math.floor(b/p)}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var p=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return 682*((p.year()-(p.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(b,p,s){var t=this.newDate(b,p,s);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,p){var s=this._validate(b,p,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(12===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(b,p,s){return 5!==this.dayOfWeek(b,p,s)},toJD:function(b,p,s){var t=this._validate(b,p,s,M.local.invalidDate);b=t.year(),p=t.month(),s=t.day();var i=b-(b>=0?474:473),n=474+T(i,2820);return s+(p<=7?31*(p-1):30*(p-1)+6)+Math.floor((682*n-110)/2816)+365*(n-1)+1029983*Math.floor(i/2820)+this.jdEpoch-1},fromJD:function(b){var p=(b=Math.floor(b)+.5)-this.toJD(475,1,1),s=Math.floor(p/1029983),t=T(p,1029983),i=2820;if(1029982!==t){var n=Math.floor(t/366),r=T(t,366);i=Math.floor((2134*n+2816*r+2815)/1028522)+n+1}var o=i+2820*s+474;o=o<=0?o-1:o;var l=b-this.toJD(o,1,1)+1,u=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),d=b-this.toJD(o,u,1)+1;return this.newDate(o,u,d)}}),M.calendars.persian=a,M.calendars.jalali=a},31320:function(ee,D,e){var M=e(63489),k=e(56131),a=M.instance();function T(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}T.prototype=new M.baseCalendar,k(T.prototype,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(b){var p=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(p.year()),a.leapYear(b)},weekOfYear:function(b,p,s){var t=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(t.year()),a.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,p){var s=this._validate(b,p,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(2===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(b,p,s){return(this.dayOfWeek(b,p,s)||7)<6},toJD:function(b,p,s){var t=this._validate(b,p,s,M.local.invalidDate);return b=this._t2gYear(t.year()),a.toJD(b,t.month(),t.day())},fromJD:function(b){var p=a.fromJD(b),s=this._g2tYear(p.year());return this.newDate(s,p.month(),p.day())},_t2gYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)},_g2tYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)}}),M.calendars.taiwan=T},51367:function(ee,D,e){var M=e(63489),k=e(56131),a=M.instance();function T(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}T.prototype=new M.baseCalendar,k(T.prototype,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var p=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(p.year()),a.leapYear(b)},weekOfYear:function(b,p,s){var t=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return b=this._t2gYear(t.year()),a.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,p){var s=this._validate(b,p,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(2===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(b,p,s){return(this.dayOfWeek(b,p,s)||7)<6},toJD:function(b,p,s){var t=this._validate(b,p,s,M.local.invalidDate);return b=this._t2gYear(t.year()),a.toJD(b,t.month(),t.day())},fromJD:function(b){var p=a.fromJD(b),s=this._g2tYear(p.year());return this.newDate(s,p.month(),p.day())},_t2gYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)},_g2tYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)}}),M.calendars.thai=T},21457:function(ee,D,e){var M=e(63489),k=e(56131);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(b){var p=this._validate(b,this.minMonth,this.minDay,M.local.invalidYear);return 355===this.daysInYear(p.year())},weekOfYear:function(b,p,s){var t=this.newDate(b,p,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){for(var p=0,s=1;s<=12;s++)p+=this.daysInMonth(b,s);return p},daysInMonth:function(b,p){for(var s=this._validate(b,p,this.minDay,M.local.invalidMonth).toJD()-24e5+.5,t=0,i=0;i<T.length;i++){if(T[i]>s)return T[t]-T[t-1];t++}return 30},weekDay:function(b,p,s){return 5!==this.dayOfWeek(b,p,s)},toJD:function(b,p,s){var t=this._validate(b,p,s,M.local.invalidDate),i=12*(t.year()-1)+t.month()-15292;return t.day()+T[i-1]-1+24e5-.5},fromJD:function(b){for(var p=b-24e5+.5,s=0,t=0;t<T.length&&!(T[t]>p);t++)s++;var i=s+15292,n=Math.floor((i-1)/12),r=n+1,o=i-12*n,l=p-T[s-1]+1;return this.newDate(r,o,l)},isValid:function(b,p,s){var t=M.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(b=null!=b.year?b.year:b)>=1276&&b<=1500),t},_validate:function(b,p,s,t){var i=M.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw t.replace(/\{0\}/,this.local.name);return i}}),M.calendars.ummalqura=a;var T=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(ee,D,e){var M=e(56131);function k(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function a(t,i,n,r){if(this._calendar=t,this._year=i,this._month=n,this._day=r,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function T(t,i){return"000000".substring(0,i-(t=""+t).length)+t}function b(){this.shortYearCutoff="+10"}function p(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}M(k.prototype,{instance:function(t,i){t=(t||"gregorian").toLowerCase(),i=i||"";var n=this._localCals[t+"-"+i];if(!n&&this.calendars[t]&&(n=new this.calendars[t](i),this._localCals[t+"-"+i]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return n},newDate:function(t,i,n,r,o){return(r=(null!=t&&t.year?t.calendar():"string"==typeof r?this.instance(r,o):r)||this.instance()).newDate(t,i,n)},substituteDigits:function(t){return function(i){return(i+"").replace(/[0-9]/g,function(n){return t[n]})}},substituteChineseDigits:function(t,i){return function(n){for(var r="",o=0;n>0;){var l=n%10;r=(0===l?"":t[l]+i[o])+r,o++,n=Math.floor(n/10)}return 0===r.indexOf(t[1]+i[1])&&(r=r.substr(1)),r||t[0]}}}),M(a.prototype,{newDate:function(t,i,n){return this._calendar.newDate(t??this,i,n)},year:function(t){return 0===arguments.length?this._year:this.set(t,"y")},month:function(t){return 0===arguments.length?this._month:this.set(t,"m")},day:function(t){return 0===arguments.length?this._day:this.set(t,"d")},date:function(t,i,n){if(!this._calendar.isValid(t,i,n))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=i,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,i){return this._calendar.add(this,t,i)},set:function(t,i){return this._calendar.set(this,t,i)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var i=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return 0===i?0:i<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+T(Math.abs(this.year()),4)+"-"+T(this.month(),2)+"-"+T(this.day(),2)}}),M(b.prototype,{_validateLevel:0,newDate:function(t,i,n){return null==t?this.today():(t.year&&(this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate),n=t.day(),i=t.month(),t=t.year()),new a(this,t,i,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(i.year()<0?"-":"")+T(Math.abs(i.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(t,i){var n=this._validate(t,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(n.month()+this.monthsInYear(n)-this.firstMonth)%this.monthsInYear(n)+this.minMonth},fromMonthOfYear:function(t,i){var n=(i+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,n,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),n},daysInYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(i)?366:365},dayOfYear:function(t,i,n){var r=this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);return r.toJD()-this.newDate(r.year(),this.fromMonthOfYear(r.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,i,n){var r=this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(r))+2)%this.daysInWeek()},extraInfo:function(t,i,n){return this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(t,i,n){return this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,i,n),i,n)},_add:function(t,i,n){if(this._validateLevel++,"d"===n||"w"===n){var r=t.toJD()+i*("w"===n?this.daysInWeek():1),o=t.calendar().fromJD(r);return this._validateLevel--,[o.year(),o.month(),o.day()]}try{var l=t.year()+("y"===n?i:0),u=t.monthOfYear()+("m"===n?i:0);o=t.day(),"y"===n?(t.month()!==this.fromMonthOfYear(l,u)&&(u=this.newDate(l,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(l)),o=Math.min(o,this.daysInMonth(l,this.fromMonthOfYear(l,u)))):"m"===n&&(function(c){for(;u<c.minMonth;)l--,u+=c.monthsInYear(l);for(var x=c.monthsInYear(l);u>x-1+c.minMonth;)l++,u-=x,x=c.monthsInYear(l)}(this),o=Math.min(o,this.daysInMonth(l,this.fromMonthOfYear(l,u))));var d=[l,this.fromMonthOfYear(l,u),o];return this._validateLevel--,d}catch(c){throw this._validateLevel--,c}},_correctAdd:function(t,i,n,r){if(!(this.hasYearZero||"y"!==r&&"m"!==r||0!==i[0]&&t.year()>0==i[0]>0)){var o={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[r],l=n<0?-1:1;i=this._add(t,n*o[0]+l*o[1],o[2])}return t.date(i[0],i[1],i[2])},set:function(t,i,n){this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var r="y"===n?i:t.year(),o="m"===n?i:t.month(),l="d"===n?i:t.day();return"y"!==n&&"m"!==n||(l=Math.min(l,this.daysInMonth(r,o))),t.date(r,o,l)},isValid:function(t,i,n){this._validateLevel++;var r=this.hasYearZero||0!==t;if(r){var o=this.newDate(t,i,this.minDay);r=i>=this.minMonth&&i-this.minMonth<this.monthsInYear(o)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(o)}return this._validateLevel--,r},toJSDate:function(t,i,n){var r=this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(r)).toJSDate()},fromJSDate:function(t){return this.fromJD(s.instance().fromJSDate(t).toJD())},_validate:function(t,i,n,r){if(t.year){if(0===this._validateLevel&&this.name!==t.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(t,i,n))throw r.replace(/\{0\}/,this.local.name);var o=this.newDate(t,i,n);return this._validateLevel--,o}catch(l){throw this._validateLevel--,l}}}),p.prototype=new b,M(p.prototype,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(t=i.year()+(i.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,i,n){var r=this.newDate(t,i,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(t,i){var n=this._validate(t,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,i,n){return(this.dayOfWeek(t,i,n)||7)<6},toJD:function(t,i,n){var r=this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate);t=r.year(),i=r.month(),n=r.day(),t<0&&t++,i<3&&(i+=12,t--);var o=Math.floor(t/100),l=2-o+Math.floor(o/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+n+l-1524.5},fromJD:function(t){var i=Math.floor(t+.5),n=Math.floor((i-1867216.25)/36524.25),r=1524+(n=i+1+n-Math.floor(n/4)),o=Math.floor((r-122.1)/365.25),l=Math.floor(365.25*o),u=Math.floor((r-l)/30.6001),d=r-l-Math.floor(30.6001*u),c=u-(u>13.5?13:1),x=o-(c>2.5?4716:4715);return x<=0&&x--,this.newDate(x,c,d)},toJSDate:function(t,i,n){var r=this._validate(t,i,n,s.local.invalidDate||s.regionalOptions[""].invalidDate),o=new Date(r.year(),r.month()-1,r.day());return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.setHours(o.getHours()>12?o.getHours()+2:0),o},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var s=ee.exports=new k;s.cdate=a,s.baseCalendar=b,s.calendars.gregorian=p},94338:function(ee,D,e){var M=e(56131),k=e(63489);M(k.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),k.local=k.regionalOptions[""],M(k.cdate.prototype,{formatDate:function(a,T){return"string"!=typeof a&&(T=a,a=""),this._calendar.formatDate(a||"",this,T)}}),M(k.baseCalendar.prototype,{UNIX_EPOCH:k.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:k.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,T,b){if("string"!=typeof a&&(b=T,T=a,a=""),!T)return"";if(T.calendar()!==this)throw k.local.invalidFormat||k.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat;for(var p,s,t,i=(b=b||{}).dayNamesShort||this.local.dayNamesShort,n=b.dayNames||this.local.dayNames,r=b.monthNumbers||this.local.monthNumbers,o=b.monthNamesShort||this.local.monthNamesShort,l=b.monthNames||this.local.monthNames,u=(b.calculateWeek||this.local.calculateWeek,function(f,S){for(var w=1;_+w<a.length&&a.charAt(_+w)===f;)w++;return _+=w-1,Math.floor(w/(S||1))>1}),d=function(f,S,w,E){var C=""+S;if(u(f,E))for(;C.length<w;)C="0"+C;return C},c=this,x=function(f){return"function"==typeof r?r.call(c,f,u("m")):m(d("m",f.month(),2))},g=function(f,S){return S?"function"==typeof l?l.call(c,f):l[f.month()-c.minMonth]:"function"==typeof o?o.call(c,f):o[f.month()-c.minMonth]},h=this.local.digits,m=function(f){return b.localNumbers&&h?h(f):f},y="",v=!1,_=0;_<a.length;_++)if(v)"'"!==a.charAt(_)||u("'")?y+=a.charAt(_):v=!1;else switch(a.charAt(_)){case"d":y+=m(d("d",T.day(),2));break;case"D":y+=(p=T.dayOfWeek(),s=i,t=n,u("D")?t[p]:s[p]);break;case"o":y+=d("o",T.dayOfYear(),3);break;case"w":y+=d("w",T.weekOfYear(),2);break;case"m":y+=x(T);break;case"M":y+=g(T,u("M"));break;case"y":y+=u("y",2)?T.year():(T.year()%100<10?"0":"")+T.year()%100;break;case"Y":u("Y",2),y+=T.formatYear();break;case"J":y+=T.toJD();break;case"@":y+=(T.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":y+=(T.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?y+="'":v=!0;break;default:y+=a.charAt(_)}return y},parseDate:function(a,T,b){if(null==T)throw k.local.invalidArguments||k.regionalOptions[""].invalidArguments;if(""===(T="object"==typeof T?T.toString():T+""))return null;a=a||this.local.dateFormat;var p=(b=b||{}).shortYearCutoff||this.shortYearCutoff;p="string"!=typeof p?p:this.today().year()%100+parseInt(p,10);for(var s=b.dayNamesShort||this.local.dayNamesShort,t=b.dayNames||this.local.dayNames,i=b.parseMonth||this.local.parseMonth,n=b.monthNumbers||this.local.monthNumbers,r=b.monthNamesShort||this.local.monthNamesShort,o=b.monthNames||this.local.monthNames,l=-1,u=-1,d=-1,c=-1,x=-1,g=!1,h=!1,m=function(R,j){for(var z=1;C+z<a.length&&a.charAt(C+z)===R;)z++;return C+=z-1,Math.floor(z/(j||1))>1},y=function(R,j){var z=m(R,j),N=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(R)+1],Y=new RegExp("^-?\\d{1,"+N+"}"),F=T.substring(E).match(Y);if(!F)throw(k.local.missingNumberAt||k.regionalOptions[""].missingNumberAt).replace(/\{0\}/,E);return E+=F[0].length,parseInt(F[0],10)},v=this,_=function(){if("function"==typeof n){m("m");var R=n.call(v,T.substring(E));return E+=R.length,R}return y("m")},f=function(R,j,z,N){for(var Y=m(R,N)?z:j,F=0;F<Y.length;F++)if(T.substr(E,Y[F].length).toLowerCase()===Y[F].toLowerCase())return E+=Y[F].length,F+v.minMonth;throw(k.local.unknownNameAt||k.regionalOptions[""].unknownNameAt).replace(/\{0\}/,E)},S=function(){if("function"==typeof o){var R=m("M")?o.call(v,T.substring(E)):r.call(v,T.substring(E));return E+=R.length,R}return f("M",r,o)},w=function(){if(T.charAt(E)!==a.charAt(C))throw(k.local.unexpectedLiteralAt||k.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,E);E++},E=0,C=0;C<a.length;C++)if(h)"'"!==a.charAt(C)||m("'")?w():h=!1;else switch(a.charAt(C)){case"d":c=y("d");break;case"D":f("D",s,t);break;case"o":x=y("o");break;case"w":y("w");break;case"m":d=_();break;case"M":d=S();break;case"y":var O=C;g=!m("y",2),C=O,u=y("y",2);break;case"Y":u=y("Y",2);break;case"J":l=y("J")+.5,"."===T.charAt(E)&&(E++,y("J"));break;case"@":l=y("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":l=y("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":E=T.length;break;case"'":m("'")?w():h=!0;break;default:w()}if(E<T.length)throw k.local.unexpectedText||k.regionalOptions[""].unexpectedText;if(-1===u?u=this.today().year():u<100&&g&&(u+=-1===p?1900:this.today().year()-this.today().year()%100-(u<=p?0:100)),"string"==typeof d&&(d=i.call(this,u,d)),x>-1){d=1,c=x;for(var P=this.daysInMonth(u,d);c>P;P=this.daysInMonth(u,d))d++,c-=P}return l>-1?this.fromJD(l):this.newDate(u,d,c)},determineDate:function(a,T,b,p,s){b&&"object"!=typeof b&&(s=p,p=b,b=null),"string"!=typeof p&&(s=p,p="");var t=this;return T=T?T.newDate():null,null==a?T:"string"==typeof a?function(i){try{return t.parseDate(p,i,s)}catch{}for(var n=((i=i.toLowerCase()).match(/^c/)&&b?b.newDate():null)||t.today(),r=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,o=r.exec(i);o;)n.add(parseInt(o[1],10),o[2]||"d"),o=r.exec(i);return n}(a):"number"==typeof a?isNaN(a)||a===1/0||a===-1/0?T:t.today().add(a,"d"):t.newDate(a)}})},69862:function(){},40964:function(){},72077:function(ee,D,e){"use strict";var M=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],k=typeof globalThis>"u"?e.g:globalThis;ee.exports=function(){for(var a=[],T=0;T<M.length;T++)"function"==typeof k[M[T]]&&(a[a.length]=M[T]);return a}},81684:function(ee,D,e){"use strict";function M(de,pe,ge){de.prototype=pe.prototype=ge,ge.constructor=de}function k(de,pe){var ge=Object.create(de.prototype);for(var Ae in pe)ge[Ae]=pe[Ae];return ge}function a(){}e.d(D,{sX:function(){return be},k4:function(){return W}});var T=.7,b=1/T,p="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i=/^#([0-9a-f]{3,8})$/,n=new RegExp("^rgb\\(".concat(p,",").concat(p,",").concat(p,"\\)$")),r=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),o=new RegExp("^rgba\\(".concat(p,",").concat(p,",").concat(p,",").concat(s,"\\)$")),l=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(s,"\\)$")),u=new RegExp("^hsl\\(".concat(s,",").concat(t,",").concat(t,"\\)$")),d=new RegExp("^hsla\\(".concat(s,",").concat(t,",").concat(t,",").concat(s,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x(){return this.rgb().formatHex()}function g(){return this.rgb().formatRgb()}function h(de){var pe,ge;return de=(de+"").trim().toLowerCase(),(pe=i.exec(de))?(ge=pe[1].length,pe=parseInt(pe[1],16),6===ge?m(pe):3===ge?new _(pe>>8&15|pe>>4&240,pe>>4&15|240&pe,(15&pe)<<4|15&pe,1):8===ge?y(pe>>24&255,pe>>16&255,pe>>8&255,(255&pe)/255):4===ge?y(pe>>12&15|pe>>8&240,pe>>8&15|pe>>4&240,pe>>4&15|240&pe,((15&pe)<<4|15&pe)/255):null):(pe=n.exec(de))?new _(pe[1],pe[2],pe[3],1):(pe=r.exec(de))?new _(255*pe[1]/100,255*pe[2]/100,255*pe[3]/100,1):(pe=o.exec(de))?y(pe[1],pe[2],pe[3],pe[4]):(pe=l.exec(de))?y(255*pe[1]/100,255*pe[2]/100,255*pe[3]/100,pe[4]):(pe=u.exec(de))?O(pe[1],pe[2]/100,pe[3]/100,1):(pe=d.exec(de))?O(pe[1],pe[2]/100,pe[3]/100,pe[4]):c.hasOwnProperty(de)?m(c[de]):"transparent"===de?new _(NaN,NaN,NaN,0):null}function m(de){return new _(de>>16&255,de>>8&255,255&de,1)}function y(de,pe,ge,Ae){return Ae<=0&&(de=pe=ge=NaN),new _(de,pe,ge,Ae)}function v(de,pe,ge,Ae){return 1===arguments.length?((ye=de)instanceof a||(ye=h(ye)),ye?new _((ye=ye.rgb()).r,ye.g,ye.b,ye.opacity):new _):new _(de,pe,ge,Ae??1);var ye}function _(de,pe,ge,Ae){this.r=+de,this.g=+pe,this.b=+ge,this.opacity=+Ae}function f(){return"#".concat(C(this.r)).concat(C(this.g)).concat(C(this.b))}function S(){var de=w(this.opacity);return"".concat(1===de?"rgb(":"rgba(").concat(E(this.r),", ").concat(E(this.g),", ").concat(E(this.b)).concat(1===de?")":", ".concat(de,")"))}function w(de){return isNaN(de)?1:Math.max(0,Math.min(1,de))}function E(de){return Math.max(0,Math.min(255,Math.round(de)||0))}function C(de){return((de=E(de))<16?"0":"")+de.toString(16)}function O(de,pe,ge,Ae){return Ae<=0?de=pe=ge=NaN:ge<=0||ge>=1?de=pe=NaN:pe<=0&&(de=NaN),new R(de,pe,ge,Ae)}function P(de){if(de instanceof R)return new R(de.h,de.s,de.l,de.opacity);if(de instanceof a||(de=h(de)),!de)return new R;if(de instanceof R)return de;var pe=(de=de.rgb()).r/255,ge=de.g/255,Ae=de.b/255,ye=Math.min(pe,ge,Ae),we=Math.max(pe,ge,Ae),se=NaN,ie=we-ye,he=(we+ye)/2;return ie?(se=pe===we?(ge-Ae)/ie+6*(ge<Ae):ge===we?(Ae-pe)/ie+2:(pe-ge)/ie+4,ie/=he<.5?we+ye:2-we-ye,se*=60):ie=he>0&&he<1?0:se,new R(se,ie,he,de.opacity)}function R(de,pe,ge,Ae){this.h=+de,this.s=+pe,this.l=+ge,this.opacity=+Ae}function j(de){return(de=(de||0)%360)<0?de+360:de}function z(de){return Math.max(0,Math.min(1,de||0))}function N(de,pe,ge){return 255*(de<60?pe+(ge-pe)*de/60:de<180?ge:de<240?pe+(ge-pe)*(240-de)/60:pe)}function Y(de,pe,ge,Ae,ye){var we=de*de,se=we*de;return((1-3*de+3*we-se)*pe+(4-6*we+3*se)*ge+(1+3*de+3*we-3*se)*Ae+se*ye)/6}M(a,h,{copy:function(de){return Object.assign(new this.constructor,this,de)},displayable:function(){return this.rgb().displayable()},hex:x,formatHex:x,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return P(this).formatHsl()},formatRgb:g,toString:g}),M(_,v,k(a,{brighter:function(de){return de=null==de?b:Math.pow(b,de),new _(this.r*de,this.g*de,this.b*de,this.opacity)},darker:function(de){return de=null==de?T:Math.pow(T,de),new _(this.r*de,this.g*de,this.b*de,this.opacity)},rgb:function(){return this},clamp:function(){return new _(E(this.r),E(this.g),E(this.b),w(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f,formatHex:f,formatHex8:function(){return"#".concat(C(this.r)).concat(C(this.g)).concat(C(this.b)).concat(C(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:S,toString:S})),M(R,function(de,pe,ge,Ae){return 1===arguments.length?P(de):new R(de,pe,ge,Ae??1)},k(a,{brighter:function(de){return de=null==de?b:Math.pow(b,de),new R(this.h,this.s,this.l*de,this.opacity)},darker:function(de){return de=null==de?T:Math.pow(T,de),new R(this.h,this.s,this.l*de,this.opacity)},rgb:function(){var de=this.h%360+360*(this.h<0),pe=isNaN(de)||isNaN(this.s)?0:this.s,ge=this.l,Ae=ge+(ge<.5?ge:1-ge)*pe,ye=2*ge-Ae;return new _(N(de>=240?de-240:de+120,ye,Ae),N(de,ye,Ae),N(de<120?de+240:de-120,ye,Ae),this.opacity)},clamp:function(){return new R(j(this.h),z(this.s),z(this.l),w(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var de=w(this.opacity);return"".concat(1===de?"hsl(":"hsla(").concat(j(this.h),", ").concat(100*z(this.s),"%, ").concat(100*z(this.l),"%").concat(1===de?")":", ".concat(de,")"))}}));var F=function(de){return function(){return de}};function U(de,pe){var Ae,ye,ge=pe-de;return ge?(Ae=de,ye=ge,function(we){return Ae+we*ye}):F(isNaN(de)?pe:de)}var V=function de(pe){var ye,ge=1==(ye=+(ye=pe))?U:function(we,se){return se-we?(ie=we,he=se,Se=ye,ie=Math.pow(ie,Se),he=Math.pow(he,Se)-ie,Se=1/Se,function(_e){return Math.pow(ie+_e*he,Se)}):F(isNaN(we)?se:we);var ie,he,Se};function Ae(ye,we){var se=ge((ye=v(ye)).r,(we=v(we)).r),ie=ge(ye.g,we.g),he=ge(ye.b,we.b),Se=U(ye.opacity,we.opacity);return function(_e){return ye.r=se(_e),ye.g=ie(_e),ye.b=he(_e),ye.opacity=Se(_e),ye+""}}return Ae.gamma=de,Ae}(1);function te(de){return function(pe){var ge,Ae,ye=pe.length,we=new Array(ye),se=new Array(ye),ie=new Array(ye);for(ge=0;ge<ye;++ge)Ae=v(pe[ge]),we[ge]=Ae.r||0,se[ge]=Ae.g||0,ie[ge]=Ae.b||0;return we=de(we),se=de(se),ie=de(ie),Ae.opacity=1,function(he){return Ae.r=we(he),Ae.g=se(he),Ae.b=ie(he),Ae+""}}}function $(de,pe){var ge,Ae=pe?pe.length:0,ye=de?Math.min(Ae,de.length):0,we=new Array(ye),se=new Array(Ae);for(ge=0;ge<ye;++ge)we[ge]=be(de[ge],pe[ge]);for(;ge<Ae;++ge)se[ge]=pe[ge];return function(ie){for(ge=0;ge<ye;++ge)se[ge]=we[ge](ie);return se}}function X(de,pe){var ge=new Date;return de=+de,pe=+pe,function(Ae){return ge.setTime(de*(1-Ae)+pe*Ae),ge}}function W(de,pe){return de=+de,pe=+pe,function(ge){return de*(1-ge)+pe*ge}}function J(de){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(de)}function Q(de,pe){var ge,Ae={},ye={};for(ge in null!==de&&"object"===J(de)||(de={}),null!==pe&&"object"===J(pe)||(pe={}),pe)ge in de?Ae[ge]=be(de[ge],pe[ge]):ye[ge]=pe[ge];return function(we){for(ge in Ae)ye[ge]=Ae[ge](we);return ye}}te(function(de){var pe=de.length-1;return function(ge){var Ae=ge<=0?ge=0:ge>=1?(ge=1,pe-1):Math.floor(ge*pe),ye=de[Ae],we=de[Ae+1],se=Ae>0?de[Ae-1]:2*ye-we,ie=Ae<pe-1?de[Ae+2]:2*we-ye;return Y((ge-Ae/pe)*pe,se,ye,we,ie)}}),te(function(de){var pe=de.length;return function(ge){var Ae=Math.floor(((ge%=1)<0?++ge:ge)*pe),ye=de[(Ae+pe-1)%pe],we=de[Ae%pe],se=de[(Ae+1)%pe],ie=de[(Ae+2)%pe];return Y((ge-Ae/pe)*pe,ye,we,se,ie)}});var re=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ae=new RegExp(re.source,"g");function oe(de,pe){var ge,Ae,ye,Se,we=re.lastIndex=ae.lastIndex=0,se=-1,ie=[],he=[];for(de+="",pe+="";(ge=re.exec(de))&&(Ae=ae.exec(pe));)(ye=Ae.index)>we&&(ye=pe.slice(we,ye),ie[se]?ie[se]+=ye:ie[++se]=ye),(ge=ge[0])===(Ae=Ae[0])?ie[se]?ie[se]+=Ae:ie[++se]=Ae:(ie[++se]=null,he.push({i:se,x:W(ge,Ae)})),we=ae.lastIndex;return we<pe.length&&(ye=pe.slice(we),ie[se]?ie[se]+=ye:ie[++se]=ye),ie.length<2?he[0]?(Se=he[0].x,function(_e){return Se(_e)+""}):function(Se){return function(){return Se}}(pe):(pe=he.length,function(Se){for(var _e,Me=0;Me<pe;++Me)ie[(_e=he[Me]).i]=_e.x(Se);return ie.join("")})}function ue(de,pe){pe||(pe=[]);var ge,Ae=de?Math.min(pe.length,de.length):0,ye=pe.slice();return function(we){for(ge=0;ge<Ae;++ge)ye[ge]=de[ge]*(1-we)+pe[ge]*we;return ye}}function ve(de){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(de)}function be(de,pe){var ge,Ae,ye=ve(pe);return null==pe||"boolean"===ye?F(pe):("number"===ye?W:"string"===ye?(ge=h(pe))?(pe=ge,V):oe:pe instanceof h?V:pe instanceof Date?X:(Ae=pe,!ArrayBuffer.isView(Ae)||Ae instanceof DataView?Array.isArray(pe)?$:"function"!=typeof pe.valueOf&&"function"!=typeof pe.toString||isNaN(pe)?Q:W:ue))(de,pe)}},40402:function(ee){"use strict";ee.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(ee){"use strict";ee.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(ee){"use strict";ee.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(ee){"use strict";ee.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(ee){"use strict";ee.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(ee){"use strict";ee.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Xs={};function Gr(ee){var D=Xs[ee];if(void 0!==D)return D.exports;var e=Xs[ee]={exports:{}};return Ou[ee].call(e.exports,e,e.exports,Gr),e.exports}return Gr.n=function(ee){var D=ee&&ee.__esModule?function(){return ee.default}:function(){return ee};return Gr.d(D,{a:D}),D},Gr.d=function(ee,D){for(var e in D)Gr.o(D,e)&&!Gr.o(ee,e)&&Object.defineProperty(ee,e,{enumerable:!0,get:D[e]})},Gr.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Gr.o=function(ee,D){return Object.prototype.hasOwnProperty.call(ee,D)},Gr.r=function(ee){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ee,"__esModule",{value:!0})},Gr(27909)}()}}]);