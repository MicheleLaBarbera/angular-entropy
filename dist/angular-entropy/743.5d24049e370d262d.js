"use strict";(self.webpackChunkangular_entropy=self.webpackChunkangular_entropy||[]).push([[743],{45227:(ge,gt,N)=>{N.d(gt,{c:()=>j});var ft=N(41571);class j{}j.\u0275fac=function(rt){return new(rt||j)},j.\u0275cmp=ft.Xpm({type:j,selectors:[["app-footer"]],decls:0,vars:0,template:function(rt,qt){},encapsulation:2})},18566:(ge,gt,N)=>{N.d(gt,{s:()=>ct});var ft=N(92340),j=N(85059),lt=N(41571),rt=N(80529),qt=N(29985);class ct{constructor(ot,Dt){this._http=ot,this._httpErrorHandler=Dt,this._simulationEndpointUrl=ft.N.apiEndpointUrl+"simulations/",this._handleError=this._httpErrorHandler.createHandleError("UserService")}getSimulationsCounts(){return this._http.get(this._simulationEndpointUrl).pipe((0,j.K)(this._handleError("getSimulationsCounts",{error:!0})))}getSimulation(ot){return this._http.get(this._simulationEndpointUrl+ot).pipe((0,j.K)(this._handleError("getSimulation",{error:!0})))}createSimulation(ot){return this._http.post(this._simulationEndpointUrl,ot).pipe((0,j.K)(this._handleError("createSimulation",{error:!0})))}}ct.\u0275fac=function(ot){return new(ot||ct)(lt.LFG(rt.eN),lt.LFG(qt.G))},ct.\u0275prov=lt.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"})},69743:(ge,gt,N)=>{N.r(gt),N.d(gt,{SimulationModule:()=>At});var ft=N(36895),j=N(18566),lt=N(83135),rt=N(54415),qt=N(87618);function ct(){}function Tt(t){return null==t?ct:function(){return this.querySelector(t)}}function Dt(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function cn(){return[]}function ye(t){return null==t?cn:function(){return this.querySelectorAll(t)}}function ve(t){return function(){return this.matches(t)}}function we(t){return function(e){return e.matches(t)}}var mn=Array.prototype.find;function dn(){return this.firstElementChild}var gn=Array.prototype.filter;function yn(){return Array.from(this.children)}function xe(t){return new Array(t.length)}function Pt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function bn(t){return function(){return t}}function An(t,e,n,i,r,a){for(var c,o=0,l=e.length,u=a.length;o<u;++o)(c=e[o])?(c.__data__=a[o],i[o]=c):n[o]=new Pt(t,a[o]);for(;o<l;++o)(c=e[o])&&(r[o]=c)}function En(t,e,n,i,r,a,o){var c,l,w,u=new Map,h=e.length,_=a.length,g=new Array(h);for(c=0;c<h;++c)(l=e[c])&&(g[c]=w=o.call(l,l.__data__,c,e)+"",u.has(w)?r[c]=l:u.set(w,l));for(c=0;c<_;++c)w=o.call(t,a[c],c,a)+"",(l=u.get(w))?(i[c]=l,l.__data__=a[c],u.delete(w)):n[c]=new Pt(t,a[c]);for(c=0;c<h;++c)(l=e[c])&&u.get(g[c])===l&&(r[c]=l)}function Tn(t){return t.__data__}function Mn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function zn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Pt.prototype={constructor:Pt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var jt="http://www.w3.org/1999/xhtml";const Fe={svg:"http://www.w3.org/2000/svg",xhtml:jt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $t(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Fe.hasOwnProperty(e)?{space:Fe[e],local:t}:t}function On(t){return function(){this.removeAttribute(t)}}function Rn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xn(t,e){return function(){this.setAttribute(t,e)}}function Ln(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Yn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Bn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function be(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Hn(t){return function(){this.style.removeProperty(t)}}function Jn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Gn(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function yt(t,e){return t.style.getPropertyValue(e)||be(t).getComputedStyle(t,null).getPropertyValue(e)}function Qn(t){return function(){delete this[t]}}function jn(t,e){return function(){this[t]=e}}function ti(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ae(t){return t.trim().split(/^|\s+/)}function te(t){return t.classList||new Ee(t)}function Ee(t){this._node=t,this._names=Ae(t.getAttribute("class")||"")}function Te(t,e){for(var n=te(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function ke(t,e){for(var n=te(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function ni(t){return function(){Te(this,t)}}function ii(t){return function(){ke(this,t)}}function ri(t,e){return function(){(e.apply(this,arguments)?Te:ke)(this,t)}}function si(){this.textContent=""}function ai(t){return function(){this.textContent=t}}function ui(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ci(){this.innerHTML=""}function hi(t){return function(){this.innerHTML=t}}function fi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function pi(){this.nextSibling&&this.parentNode.appendChild(this)}function _i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===jt&&e.documentElement.namespaceURI===jt?e.createElement(t):e.createElementNS(n,t)}}function vi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Me(t){var e=$t(t);return(e.local?vi:yi)(e)}function xi(){return null}function bi(){var t=this.parentNode;t&&t.removeChild(this)}function Ei(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ti(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Si(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Vi(t){return function(){var e=this.__on;if(e){for(var a,n=0,i=-1,r=e.length;n<r;++n)a=e[n],t.type&&a.type!==t.type||a.name!==t.name?e[++i]=a:this.removeEventListener(a.type,a.listener,a.options);++i?e.length=i:delete this.__on}}}function Zi(t,e,n){return function(){var r,i=this.__on,a=function Ci(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var o=0,c=i.length;o<c;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Ce(t,e,n){var i=be(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function zi(t,e){return function(){return Ce(this,t,e)}}function Ni(t,e){return function(){return Ce(this,t,e.apply(this,arguments))}}Ee.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ee=[null];function H(t,e){this._groups=t,this._parents=e}function Se(){return new H([[document.documentElement]],ee)}H.prototype=Se.prototype={constructor:H,select:function ot(t){"function"!=typeof t&&(t=Tt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var l,u,a=e[r],o=a.length,c=i[r]=new Array(o),h=0;h<o;++h)(l=a[h])&&(u=t.call(l,l.__data__,h,a))&&("__data__"in l&&(u.__data__=l.__data__),c[h]=u);return new H(i,this._parents)},selectAll:function fn(t){t="function"==typeof t?function hn(t){return function(){return Dt(t.apply(this,arguments))}}(t):ye(t);for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var l,o=e[a],c=o.length,u=0;u<c;++u)(l=o[u])&&(i.push(t.call(l,l.__data__,u,o)),r.push(l));return new H(i,r)},selectChild:function _n(t){return this.select(null==t?dn:function pn(t){return function(){return mn.call(this.children,t)}}("function"==typeof t?t:we(t)))},selectChildren:function wn(t){return this.selectAll(null==t?yn:function vn(t){return function(){return gn.call(this.children,t)}}("function"==typeof t?t:we(t)))},filter:function xn(t){"function"!=typeof t&&(t=ve(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var l,a=e[r],o=a.length,c=i[r]=[],u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&c.push(l);return new H(i,this._parents)},data:function kn(t,e){if(!arguments.length)return Array.from(this,Tn);var n=e?En:An,i=this._parents,r=this._groups;"function"!=typeof t&&(t=bn(t));for(var a=r.length,o=new Array(a),c=new Array(a),l=new Array(a),u=0;u<a;++u){var h=i[u],_=r[u],g=_.length,w=Mn(t.call(h,h&&h.__data__,u,i)),z=w.length,Z=c[u]=new Array(z),d=o[u]=new Array(z),p=l[u]=new Array(g);n(h,_,Z,d,p,w,e);for(var b,C,F=0,x=0;F<z;++F)if(b=Z[F]){for(F>=x&&(x=F+1);!(C=d[x])&&++x<z;);b._next=C||null}}return(o=new H(o,i))._enter=c,o._exit=l,o},enter:function Fn(){return new H(this._enter||this._groups.map(xe),this._parents)},exit:function Cn(){return new H(this._exit||this._groups.map(xe),this._parents)},join:function Sn(t,e,n){var i=this.enter(),r=this,a=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?a.remove():n(a),i&&r?i.merge(r).order():r},merge:function Vn(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=Math.min(r,i.length),c=new Array(r),l=0;l<o;++l)for(var w,u=n[l],h=i[l],_=u.length,g=c[l]=new Array(_),z=0;z<_;++z)(w=u[z]||h[z])&&(g[z]=w);for(;l<r;++l)c[l]=n[l];return new H(c,this._parents)},selection:function Di(){return this},order:function Zn(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o,i=t[e],r=i.length-1,a=i[r];--r>=0;)(o=i[r])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},sort:function In(t){function e(_,g){return _&&g?t(_.__data__,g.__data__):!_-!g}t||(t=zn);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var u,o=n[a],c=o.length,l=r[a]=new Array(c),h=0;h<c;++h)(u=o[h])&&(l[h]=u);l.sort(e)}return new H(r,this._parents).order()},call:function Nn(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function Un(){return Array.from(this)},node:function qn(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function Dn(){let t=0;for(const e of this)++t;return t},empty:function Pn(){return!this.node()},each:function $n(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var c,r=e[n],a=0,o=r.length;a<o;++a)(c=r[a])&&t.call(c,c.__data__,a,r);return this},attr:function Kn(t,e){var n=$t(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Rn:On:"function"==typeof e?n.local?Bn:Yn:n.local?Ln:Xn)(n,e))},style:function Wn(t,e,n){return arguments.length>1?this.each((null==e?Hn:"function"==typeof e?Gn:Jn)(t,e,n??"")):yt(this.node(),t)},property:function ei(t,e){return arguments.length>1?this.each((null==e?Qn:"function"==typeof e?ti:jn)(t,e)):this.node()[t]},classed:function oi(t,e){var n=Ae(t+"");if(arguments.length<2){for(var i=te(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?ri:e?ni:ii)(n,e))},text:function li(t){return arguments.length?this.each(null==t?si:("function"==typeof t?ui:ai)(t)):this.node().textContent},html:function mi(t){return arguments.length?this.each(null==t?ci:("function"==typeof t?fi:hi)(t)):this.node().innerHTML},raise:function di(){return this.each(pi)},lower:function gi(){return this.each(_i)},append:function wi(t){var e="function"==typeof t?t:Me(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function Fi(t,e){var n="function"==typeof t?t:Me(t),i=null==e?xi:"function"==typeof e?e:Tt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Ai(){return this.each(bi)},clone:function ki(t){return this.select(t?Ti:Ei)},datum:function Mi(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function Ii(t,e,n){var r,o,i=Si(t+""),a=i.length;if(!(arguments.length<2)){for(c=e?Zi:Vi,r=0;r<a;++r)this.each(c(i[r],e,n));return this}var c=this.node().__on;if(c)for(var h,l=0,u=c.length;l<u;++l)for(r=0,h=c[l];r<a;++r)if((o=i[r]).type===h.type&&o.name===h.name)return h.value},dispatch:function Ui(t,e){return this.each(("function"==typeof e?Ni:zi)(t,e))},[Symbol.iterator]:function*qi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o,i=t[e],r=0,a=i.length;r<a;++r)(o=i[r])&&(yield o)}};const kt=Se;var Pi={value:()=>{}};function Ve(){for(var i,t=0,e=arguments.length,n={};t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ot(n)}function Ot(t){this._=t}function $i(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}function Oi(t,e){for(var r,n=0,i=t.length;n<i;++n)if((r=t[n]).name===e)return r.value}function Ze(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Pi,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Ot.prototype=Ve.prototype={constructor:Ot,on:function(t,e){var r,n=this._,i=$i(t+"",n),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(r=(t=i[a]).type)n[r]=Ze(n[r],t.name,e);else if(null==e)for(r in n)n[r]=Ze(n[r],t.name,null);return this}for(;++a<o;)if((r=(t=i[a]).type)&&(r=Oi(n[r],t.name)))return r},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ot(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,a,n=new Array(r),i=0;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,r=(a=this._[t]).length;i<r;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};const Ri=Ve;var Rt,St,vt=0,Mt=0,Ct=0,Xt=0,mt=0,Lt=0,Vt="object"==typeof performance&&performance.now?performance:Date,ze="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ne(){return mt||(ze(Xi),mt=Vt.now()+Lt)}function Xi(){mt=0}function Yt(){this._call=this._time=this._next=null}function Ne(t,e,n){var i=new Yt;return i.restart(t,e,n),i}function Ue(){mt=(Xt=Vt.now())+Lt,vt=Mt=0;try{!function Li(){ne(),++vt;for(var e,t=Rt;t;)(e=mt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--vt}()}finally{vt=0,function Bi(){for(var t,n,e=Rt,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Rt=n);St=t,ie(i)}(),mt=0}}function Yi(){var t=Vt.now(),e=t-Xt;e>1e3&&(Lt-=e,Xt=t)}function ie(t){vt||(Mt&&(Mt=clearTimeout(Mt)),t-mt>24?(t<1/0&&(Mt=setTimeout(Ue,t-Vt.now()-Lt)),Ct&&(Ct=clearInterval(Ct))):(Ct||(Xt=Vt.now(),Ct=setInterval(Yi,1e3)),vt=1,ze(Ue)))}function qe(t,e,n){var i=new Yt;return i.restart(r=>{i.stop(),t(r+e)},e=null==e?0:+e,n),i}Yt.prototype=Ne.prototype={constructor:Yt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ne():+n)+(null==e?0:+e),!this._next&&St!==this&&(St?St._next=this:Rt=this,St=this),this._call=t,this._time=n,ie()},stop:function(){this._call&&(this._call=null,this._time=1/0,ie())}};var Ki=Ri("start","end","cancel","interrupt"),Hi=[];function Ht(t,e,n,i,r,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function Ji(t,e,n){var r,i=t.__transition;function o(u){var h,_,g,w;if(1!==n.state)return l();for(h in i)if((w=i[h]).name===n.name){if(3===w.state)return qe(o);4===w.state?(w.state=6,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete i[h]):+h<e&&(w.state=6,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete i[h])}if(qe(function(){3===n.state&&(n.state=4,n.timer.restart(c,n.delay,n.time),c(u))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(g=n.tween.length),h=0,_=-1;h<g;++h)(w=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(r[++_]=w);r.length=_+1}}function c(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=5,1),_=-1,g=r.length;++_<g;)r[_].call(t,h);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var u in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Ne(function a(u){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)},0,n.time)}(t,n,{name:e,index:i,group:r,on:Ki,tween:Hi,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function se(t,e){var n=tt(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function nt(t,e){var n=tt(t,e);if(n.state>3)throw new Error("too late; already running");return n}function tt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Jt,pt=N(61023),Oe=180/Math.PI,ae={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Re(t,e,n,i,r,a){var o,c,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(c=Math.sqrt(n*n+i*i))&&(n/=c,i/=c,l/=c),t*i<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*Oe,skewX:Math.atan(l)*Oe,scaleX:o,scaleY:c}}function Xe(t,e,n,i){function r(u){return u.length?u.pop()+" ":""}return function(u,h){var _=[],g=[];return u=t(u),h=t(h),function a(u,h,_,g,w,z){if(u!==_||h!==g){var Z=w.push("translate(",null,e,null,n);z.push({i:Z-4,x:(0,pt.Z)(u,_)},{i:Z-2,x:(0,pt.Z)(h,g)})}else(_||g)&&w.push("translate("+_+e+g+n)}(u.translateX,u.translateY,h.translateX,h.translateY,_,g),function o(u,h,_,g){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),g.push({i:_.push(r(_)+"rotate(",null,i)-2,x:(0,pt.Z)(u,h)})):h&&_.push(r(_)+"rotate("+h+i)}(u.rotate,h.rotate,_,g),function c(u,h,_,g){u!==h?g.push({i:_.push(r(_)+"skewX(",null,i)-2,x:(0,pt.Z)(u,h)}):h&&_.push(r(_)+"skewX("+h+i)}(u.skewX,h.skewX,_,g),function l(u,h,_,g,w,z){if(u!==_||h!==g){var Z=w.push(r(w)+"scale(",null,",",null,")");z.push({i:Z-4,x:(0,pt.Z)(u,_)},{i:Z-2,x:(0,pt.Z)(h,g)})}else(1!==_||1!==g)&&w.push(r(w)+"scale("+_+","+g+")")}(u.scaleX,u.scaleY,h.scaleX,h.scaleY,_,g),u=h=null,function(w){for(var d,z=-1,Z=g.length;++z<Z;)_[(d=g[z]).i]=d.x(w);return _.join("")}}}var tr=Xe(function Qi(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ae:Re(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),er=Xe(function ji(t){return null!=t&&(Jt||(Jt=document.createElementNS("http://www.w3.org/2000/svg","g")),Jt.setAttribute("transform",t),t=Jt.transform.baseVal.consolidate())?Re((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ae},", ",")",")");function nr(t,e){var n,i;return function(){var r=nt(this,t),a=r.tween;if(a!==n)for(var o=0,c=(i=n=a).length;o<c;++o)if(i[o].name===e){(i=i.slice()).splice(o,1);break}r.tween=i}}function ir(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var a=nt(this,t),o=a.tween;if(o!==i){r=(i=o).slice();for(var c={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=c;break}l===u&&r.push(c)}a.tween=r}}function ue(t,e,n){var i=t._id;return t.each(function(){var r=nt(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return tt(r,i).value[e]}}var Le=N(8537),Ye=N(59109),or=N(65683);function Be(t,e){var n;return("number"==typeof e?pt.Z:e instanceof Le.ZP?Ye.ZP:(n=(0,Le.ZP)(e))?(e=n,Ye.ZP):or.Z)(t,e)}function sr(t){return function(){this.removeAttribute(t)}}function ar(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ur(t,e,n){var i,a,r=n+"";return function(){var o=this.getAttribute(t);return o===r?null:o===i?a:a=e(i=o,n)}}function lr(t,e,n){var i,a,r=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===r?null:o===i?a:a=e(i=o,n)}}function cr(t,e,n){var i,r,a;return function(){var o,l,c=n(this);return null==c?void this.removeAttribute(t):(o=this.getAttribute(t))===(l=c+"")?null:o===i&&l===r?a:(r=l,a=e(i=o,c))}}function hr(t,e,n){var i,r,a;return function(){var o,l,c=n(this);return null==c?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local))===(l=c+"")?null:o===i&&l===r?a:(r=l,a=e(i=o,c))}}function mr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function pr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function dr(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&pr(t,a)),n}return r._value=e,r}function _r(t,e){var n,i;function r(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&mr(t,a)),n}return r._value=e,r}function yr(t,e){return function(){se(this,t).delay=+e.apply(this,arguments)}}function vr(t,e){return e=+e,function(){se(this,t).delay=e}}function xr(t,e){return function(){nt(this,t).duration=+e.apply(this,arguments)}}function Fr(t,e){return e=+e,function(){nt(this,t).duration=e}}function Ar(t,e){if("function"!=typeof e)throw new Error;return function(){nt(this,t).ease=e}}function Vr(t,e,n){var i,r,a=function Sr(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||"start"===e})}(e)?se:nt;return function(){var o=a(this,t),c=o.on;c!==i&&(r=(i=c).copy()).on(e,n),o.on=r}}var qr=kt.prototype.constructor;function Ke(t){return function(){this.style.removeProperty(t)}}function Lr(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Yr(t,e,n){var i,r;function a(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&Lr(t,o,n)),i}return a._value=e,a}function Gr(t){return function(e){this.textContent=t.call(this,e)}}function Wr(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Gr(r)),e}return i._value=t,i}var eo=0;function st(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function He(){return++eo}var at=kt.prototype;st.prototype=function no(t){return kt().transition(t)}.prototype={constructor:st,select:function Nr(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Tt(t));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var h,_,c=i[o],l=c.length,u=a[o]=new Array(l),g=0;g<l;++g)(h=c[g])&&(_=t.call(h,h.__data__,g,c))&&("__data__"in h&&(_.__data__=h.__data__),u[g]=_,Ht(u[g],e,n,g,u,tt(h,n)));return new st(a,this._parents,e,n)},selectAll:function Ur(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ye(t));for(var i=this._groups,r=i.length,a=[],o=[],c=0;c<r;++c)for(var h,l=i[c],u=l.length,_=0;_<u;++_)if(h=l[_]){for(var w,g=t.call(h,h.__data__,_,l),z=tt(h,n),Z=0,d=g.length;Z<d;++Z)(w=g[Z])&&Ht(w,e,n,Z,g,z);a.push(g),o.push(h)}return new st(a,o,e,n)},selectChild:at.selectChild,selectChildren:at.selectChildren,filter:function Mr(t){"function"!=typeof t&&(t=ve(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var l,a=e[r],o=a.length,c=i[r]=[],u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&c.push(l);return new st(i,this._parents,this._name,this._id)},merge:function Cr(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,a=Math.min(i,n.length),o=new Array(i),c=0;c<a;++c)for(var g,l=e[c],u=n[c],h=l.length,_=o[c]=new Array(h),w=0;w<h;++w)(g=l[w]||u[w])&&(_[w]=g);for(;c<i;++c)o[c]=e[c];return new st(o,this._parents,this._name,this._id)},selection:function Dr(){return new qr(this._groups,this._parents)},transition:function jr(){for(var t=this._name,e=this._id,n=He(),i=this._groups,r=i.length,a=0;a<r;++a)for(var l,o=i[a],c=o.length,u=0;u<c;++u)if(l=o[u]){var h=tt(l,e);Ht(l,t,n,u,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new st(i,this._parents,t,n)},call:at.call,nodes:at.nodes,node:at.node,size:at.size,empty:at.empty,each:at.each,on:function Zr(t,e){var n=this._id;return arguments.length<2?tt(this.node(),n).on.on(t):this.each(Vr(n,t,e))},attr:function fr(t,e){var n=$t(t),i="transform"===n?er:Be;return this.attrTween(t,"function"==typeof e?(n.local?hr:cr)(n,i,ue(this,"attr."+t,e)):null==e?(n.local?ar:sr)(n):(n.local?lr:ur)(n,i,e))},attrTween:function gr(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=$t(t);return this.tween(n,(i.local?dr:_r)(i,e))},style:function Xr(t,e,n){var i="transform"==(t+="")?tr:Be;return null==e?this.styleTween(t,function Pr(t,e){var n,i,r;return function(){var a=yt(this,t),o=(this.style.removeProperty(t),yt(this,t));return a===o?null:a===n&&o===i?r:r=e(n=a,i=o)}}(t,i)).on("end.style."+t,Ke(t)):"function"==typeof e?this.styleTween(t,function Or(t,e,n){var i,r,a;return function(){var o=yt(this,t),c=n(this),l=c+"";return null==c&&(this.style.removeProperty(t),l=c=yt(this,t)),o===l?null:o===i&&l===r?a:(r=l,a=e(i=o,c))}}(t,i,ue(this,"style."+t,e))).each(function Rr(t,e){var n,i,r,c,a="style."+e,o="end."+a;return function(){var l=nt(this,t),u=l.on,h=null==l.value[a]?c||(c=Ke(e)):void 0;(u!==n||r!==h)&&(i=(n=u).copy()).on(o,r=h),l.on=i}}(this._id,t)):this.styleTween(t,function $r(t,e,n){var i,a,r=n+"";return function(){var o=yt(this,t);return o===r?null:o===i?a:a=e(i=o,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function Br(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Yr(t,e,n??""))},text:function Jr(t){return this.tween("text","function"==typeof t?function Hr(t){return function(){var e=t(this);this.textContent=e??""}}(ue(this,"text",t)):function Kr(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function Qr(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Wr(t))},remove:function zr(){return this.on("end.remove",function Ir(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function rr(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o,i=tt(this.node(),n).tween,r=0,a=i.length;r<a;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((null==e?nr:ir)(n,t,e))},delay:function wr(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?yr:vr)(e,t)):tt(this.node(),e).delay},duration:function br(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?xr:Fr)(e,t)):tt(this.node(),e).duration},ease:function Er(t){var e=this._id;return arguments.length?this.each(Ar(e,t)):tt(this.node(),e).ease},easeVarying:function kr(t){if("function"!=typeof t)throw new Error;return this.each(function Tr(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;nt(this,t).ease=n}}(this._id,t))},end:function to(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(a,o){var c={value:o},l={value:function(){0==--r&&a()}};n.each(function(){var u=nt(this,i),h=u.on;h!==t&&((e=(t=h).copy())._.cancel.push(c),e._.interrupt.push(c),e._.end.push(l)),u.on=e}),0===r&&a()})},[Symbol.iterator]:at[Symbol.iterator]};var ro={time:null,delay:0,duration:250,ease:function io(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function oo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}kt.prototype.interrupt=function Wi(t){return this.each(function(){!function Gi(t,e){var i,r,o,n=t.__transition,a=!0;if(n){for(o in e=null==e?null:e+"",n)(i=n[o]).name===e?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[o]):a=!1;a&&delete t.__transition}}(this,t)})},kt.prototype.transition=function so(t){var e,n;t instanceof st?(e=t._id,t=t._name):(e=He(),(n=ro).time=ne(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var l,o=i[a],c=o.length,u=0;u<c;++u)(l=o[u])&&Ht(l,t,e,u,o,n||oo(l,e));return new st(i,this._parents,t,e)};Math;function Zt(t){return{type:t}}function et(t){return"string"==typeof t?new H([[document.querySelector(t)]],[document.documentElement]):new H([[t]],ee)}["w","e"].map(Zt),["n","s"].map(Zt),["n","w","e","s","nw","ne","sw","se"].map(Zt);var _o=Array.prototype.slice;function tn(t){return function(){return t}}class en{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n)}this._x0=e,this._y0=n}}function yo(t){return new en(t,!0)}function vo(t){return new en(t,!1)}const me=Math.PI,pe=2*me,dt=1e-6,wo=pe-dt;function nn(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Qt{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?nn:function xo(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return nn;const n=10**e;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,a,o){this._append`C${+e},${+n},${+i},${+r},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,i,r,a){if(e=+e,n=+n,i=+i,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,l=i-e,u=r-n,h=o-e,_=c-n,g=h*h+_*_;if(null===this._x1)this._append`M${this._x1=e},${this._y1=n}`;else if(g>dt)if(Math.abs(_*l-u*h)>dt&&a){let w=i-o,z=r-c,Z=l*l+u*u,d=w*w+z*z,p=Math.sqrt(Z),F=Math.sqrt(g),x=a*Math.tan((me-Math.acos((Z+g-d)/(2*p*F)))/2),b=x/F,C=x/p;Math.abs(b-1)>dt&&this._append`L${e+b*h},${n+b*_}`,this._append`A${a},${a},0,0,${+(_*w>h*z)},${this._x1=e+C*l},${this._y1=n+C*u}`}else this._append`L${this._x1=e},${this._y1=n}`}arc(e,n,i,r,a,o){if(e=+e,n=+n,o=!!o,(i=+i)<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(r),l=i*Math.sin(r),u=e+c,h=n+l,_=1^o,g=o?r-a:a-r;null===this._x1?this._append`M${u},${h}`:(Math.abs(this._x1-u)>dt||Math.abs(this._y1-h)>dt)&&this._append`L${u},${h}`,i&&(g<0&&(g=g%pe+pe),g>wo?this._append`A${i},${i},0,1,${_},${e-c},${n-l}A${i},${i},0,1,${_},${this._x1=u},${this._y1=h}`:g>dt&&this._append`A${i},${i},0,${+(g>=me)},${_},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function Ao(t){return t[0]}function Eo(t){return t[1]}function To(t){return t.source}function ko(t){return t.target}function de(t){let e=To,n=ko,i=Ao,r=Eo,a=null,o=null,c=function bo(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new Qt(e)}(l);function l(){let u;const h=_o.call(arguments),_=e.apply(this,h),g=n.apply(this,h);if(null==a&&(o=t(u=c())),o.lineStart(),h[0]=_,o.point(+i.apply(this,h),+r.apply(this,h)),h[0]=g,o.point(+i.apply(this,h),+r.apply(this,h)),o.lineEnd(),u)return o=null,u+""||null}return l.source=function(u){return arguments.length?(e=u,l):e},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(i="function"==typeof u?u:tn(+u),l):i},l.y=function(u){return arguments.length?(r="function"==typeof u?u:tn(+u),l):r},l.context=function(u){return arguments.length?(null==u?a=o=null:o=t(a=u),l):a},l}function Ft(t,e,n){this.k=t,this.x=e,this.y=n}Ft.prototype={constructor:Ft,scale:function(t){return 1===t?this:new Ft(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ft(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Ft(1,0,0);var s=N(41571),on=N(99886);class It{constructor(e){this._modalService=e}ngOnInit(){this.drawMap(this.map)}drawMap(e){if(!e)return;const r=window.innerWidth/4;(function po(t){return"string"==typeof t?new H([document.querySelectorAll(t)],[document.documentElement]):new H([Dt(t)],ee)})("svg").remove();let o=et("#map").append("svg").attr("viewBox",[0,0,r,450]),c=0,l=[],u=r/2,h=20,w=(o.append("circle").attr("id","node0").attr("cx",u).attr("cy",h).attr("r",5).style("fill","green"),[0]),z=[0];for(;w.length>0;){c=w[0],w.shift(),u=parseInt(et("#node"+c).attr("cx")),h=parseInt(et("#node"+c).attr("cy"));let d,Z=[];for(let b=0;b<e.adjacency_matrix[c].length;b++)1==e.adjacency_matrix[c][b]&&(Z.push(b),!l.includes(b)&&!w.includes(b)&&w.push(b));let F=1!=Z.length?u-Z.length/2*30:u,x=0;for(d=Z.length;Z.length;){if(z.includes(Z[0])){let b=parseInt(et("#node"+c).attr("cx")),C=parseInt(et("#node"+c).attr("cy")),I=parseInt(et("#node"+Z[0]).attr("cx")),L=parseInt(et("#node"+Z[0]).attr("cy"));b<I?(b+=5,I-=5):(b-=5,I+=5);const q=de(yo)({source:[b,C],target:[I,L]});o.append("path").attr("d",q).attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none")}else{F==u&&d>1&&(F+=30),o.append("circle").attr("id","node"+Z[0]).attr("cx",F).attr("cy",h+40+Math.floor(15*Math.random())+Math.floor(15*Math.random())+Math.floor(15*Math.random())).attr("r",5).style("fill","green");let C=parseInt(et("#node"+c).attr("cx")),I=parseInt(et("#node"+c).attr("cy"))+5,L=parseInt(et("#node"+Z[0]).attr("cx")),q=parseInt(et("#node"+Z[0]).attr("cy"))-5;const J=de(vo)({source:[C,I],target:[L,q]});o.append("svg:defs").selectAll("marker").data(["arrow"]).enter().append("svg:marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",9).attr("refY",0).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5"),o.append("path").attr("d",J).attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none"),x++,F+=30,z.push(Z[0])}Z.shift()}l.push(c)}o.attr("viewBox",[0,0,r,450])}hideModal(){this._modalService.hide("SimulationMapViewComponent")}}It.\u0275fac=function(e){return new(e||It)(s.Y36(on.tT))},It.\u0275cmp=s.Xpm({type:It,selectors:[["app-simulation-map-view"]],decls:34,vars:5,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button",1,"btn-close","close","pull-right",3,"click"],[1,"visually-hidden"],[1,"modal-body"],["role","alert",1,"alert","alert-primary","mb-0"],[1,"mb-0"],[1,"fa-solid","fa-genderless"],[1,"ms-2"],["id","map"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0)(1,"h4",1),s._uU(2,"Map Graph"),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return n.hideModal()}),s.TgZ(4,"span",3),s._uU(5,"\xd7"),s.qZA()()(),s.TgZ(6,"div",4)(7,"div",5)(8,"p",6),s._UZ(9,"i",7),s._uU(10," Nodes Count: "),s.TgZ(11,"span",8),s._uU(12),s.qZA()(),s.TgZ(13,"p",6),s._UZ(14,"i",7),s._uU(15," Edges Count: "),s.TgZ(16,"span",8),s._uU(17),s.qZA()(),s.TgZ(18,"p",6),s._UZ(19,"i",7),s._uU(20," Entropy (H): "),s.TgZ(21,"span",8),s._uU(22),s.qZA()(),s.TgZ(23,"p",6),s._UZ(24,"i",7),s._uU(25," Entropy Percent (Hr): "),s.TgZ(26,"span",8),s._uU(27),s.qZA()(),s.TgZ(28,"p",6),s._UZ(29,"i",7),s._uU(30," Effort (M): "),s.TgZ(31,"span",8),s._uU(32),s.qZA()()(),s._UZ(33,"div",9),s.qZA()),2&e&&(s.xp6(12),s.Oqu(n.map.nodes_count),s.xp6(5),s.Oqu(n.map.edges_count),s.xp6(5),s.Oqu(n.map.entropy.toFixed(2)),s.xp6(5),s.Oqu(n.map.entropy_percent.toFixed(2)),s.xp6(5),s.Oqu(n.map.effort.toFixed(2)))},encapsulation:2});var sn=N(46677),k=N(90433),qo=N(54696),Do=N(45227);function Po(t,e){1&t&&(s.TgZ(0,"div",9),s._UZ(1,"div",10),s.TgZ(2,"div",11),s._UZ(3,"div",12),s.qZA()())}const _e=function(t){return{"btn-primary":t}};function $o(t,e){if(1&t){const n=s.EpF();s.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",5)(5,"h5",6),s._uU(6,"Simulation: "),s.TgZ(7,"small"),s._uU(8),s.qZA()(),s.TgZ(9,"i",17),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.downloadJson())}),s.qZA()(),s.TgZ(10,"div",18)(11,"div",19)(12,"p",6),s._UZ(13,"i",20),s._uU(14," Number of Maps: "),s.TgZ(15,"span",21),s._uU(16),s.qZA()(),s.TgZ(17,"p",22),s._UZ(18,"i",20),s._uU(19," Minimum Nodes Count: "),s.TgZ(20,"span",21),s._uU(21),s.qZA()(),s.TgZ(22,"p",6),s._UZ(23,"i",20),s._uU(24," Maximum Nodes Count: "),s.TgZ(25,"span",21),s._uU(26),s.qZA()(),s.TgZ(27,"p",22),s._UZ(28,"i",20),s._uU(29," Minimum Edges Count: "),s.TgZ(30,"span",21),s._uU(31),s.qZA()(),s.TgZ(32,"p",6),s._UZ(33,"i",20),s._uU(34," Maximum Edges Count: "),s.TgZ(35,"span",21),s._uU(36),s.qZA()()(),s.TgZ(37,"label",23),s._uU(38,"Scatter Plot Param:"),s.qZA(),s.TgZ(39,"div")(40,"button",24),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.updateChartType(0))}),s._uU(41,"Entropy"),s.qZA(),s.TgZ(42,"button",24),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.updateChartType(1))}),s._uU(43,"Entropy Percent"),s.qZA(),s.TgZ(44,"button",25),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.updateChartType(2))}),s._uU(45,"Effort"),s.qZA()(),s.TgZ(46,"form",26),s.NdJ("ngSubmit",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.renderScatterPlot(r.current_chart_type))}),s.TgZ(47,"div",27)(48,"div",28)(49,"label",29),s._uU(50,"Nodes Min:"),s.qZA(),s._UZ(51,"input",30),s.qZA(),s.TgZ(52,"div",28)(53,"label",31),s._uU(54,"Nodes Max:"),s.qZA(),s._UZ(55,"input",32),s.qZA()(),s.TgZ(56,"div",33)(57,"div",28)(58,"label",34),s._uU(59,"Edges Min:"),s.qZA(),s._UZ(60,"input",35),s.qZA(),s.TgZ(61,"div",28)(62,"label",36),s._uU(63,"Edges Max:"),s.qZA(),s._UZ(64,"input",37),s.qZA()(),s.TgZ(65,"div",33)(66,"div",28)(67,"label",38),s._uU(68),s.qZA(),s._UZ(69,"input",39),s.qZA(),s.TgZ(70,"div",28)(71,"label",40),s._uU(72),s.qZA(),s._UZ(73,"input",41),s.qZA()(),s.TgZ(74,"div",42)(75,"div",43)(76,"button",44),s._uU(77,"Filter"),s.qZA(),s.TgZ(78,"button",45),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.resetFilterForm(r.current_chart_type))}),s._uU(79,"Reset"),s.qZA()()()()()()()()()}if(2&t){const n=s.oxw();s.xp6(8),s.Oqu(n.simulation.name),s.xp6(8),s.Oqu(n.simulation.maps_count),s.xp6(5),s.Oqu(n.simulation.node_min),s.xp6(5),s.Oqu(n.simulation.node_max),s.xp6(5),s.Oqu(n.simulation.node_min),s.xp6(5),s.Oqu(n.maxMapsValues.edges),s.xp6(4),s.Q6J("ngClass",s.VKq(13,_e,0==n.current_chart_type)),s.xp6(2),s.Q6J("ngClass",s.VKq(15,_e,1==n.current_chart_type)),s.xp6(2),s.Q6J("ngClass",s.VKq(17,_e,2==n.current_chart_type)),s.xp6(2),s.Q6J("formGroup",n.simulationFilterForm),s.xp6(22),s.hij("",n.getChartTypeLabel(n.current_chart_type)," Min:"),s.xp6(4),s.hij("",n.getChartTypeLabel(n.current_chart_type)," Max:"),s.xp6(4),s.Q6J("disabled",!n.simulationFilterForm.valid)}}const Oo=function(t){return{"d-none":t}};var X=(()=>{return(t=X||(X={}))[t.Entropy=0]="Entropy",t[t.EntropyPercent=1]="EntropyPercent",t[t.Effort=2]="Effort",X;var t})();const Ro=t=>{const e=parseInt(t.get("node_min").value),n=parseInt(t.get("node_max").value),i=parseInt(t.get("edge_min").value),r=parseInt(t.get("edge_max").value),a=parseInt(t.get("param_min").value),o=parseInt(t.get("param_max").value);return e>n||i>r||a>o?{inRange:!1}:null};class zt{constructor(e,n,i,r,a){this._simulationService=e,this._route=n,this._router=i,this._modalService=r,this._fb=a,this.simulationFilterForm=new k.cw({node_min:new k.NI(0,k.kI.required),node_max:new k.NI(0,k.kI.required),edge_min:new k.NI(0,k.kI.required),edge_max:new k.NI(0,k.kI.required),param_min:new k.NI(0,k.kI.required),param_max:new k.NI(0,k.kI.required)},Ro),this.simulation_id=null,this.simulation=null,this.currentMap=null,this.current_chart_type=X.Entropy,this.maxMapsValues={nodes:0,edges:0,entropy:0,entropy_percent:0,effort:0},this.loading=!0}unpack(e,n){return e.map(function(i){return i[n]})}resetFilterForm(e){this.simulationFilterForm.get("node_min").setValidators([k.kI.min(this.simulation.node_min),k.kI.required]),this.simulationFilterForm.patchValue({node_min:this.simulation.node_min}),this.simulationFilterForm.get("node_min").updateValueAndValidity(),this.simulationFilterForm.get("edge_min").setValidators([k.kI.min(this.simulation.node_min),k.kI.required]),this.simulationFilterForm.patchValue({edge_min:this.simulation.node_min}),this.simulationFilterForm.get("edge_min").updateValueAndValidity(),e==X.Entropy?(this.simulationFilterForm.get("param_min").setValidators([k.kI.min(0),k.kI.required]),this.simulationFilterForm.patchValue({param_min:0}),this.simulationFilterForm.get("param_min").updateValueAndValidity(),this.simulationFilterForm.get("param_max").setValidators([k.kI.max(this.maxMapsValues.entropy),k.kI.required]),this.simulationFilterForm.patchValue({param_max:this.maxMapsValues.entropy}),this.simulationFilterForm.get("param_max").updateValueAndValidity()):e==X.EntropyPercent?(this.simulationFilterForm.get("param_min").setValidators([k.kI.min(0),k.kI.required]),this.simulationFilterForm.patchValue({param_min:0}),this.simulationFilterForm.get("param_min").updateValueAndValidity(),this.simulationFilterForm.get("param_max").setValidators([k.kI.max(this.maxMapsValues.entropy_percent),k.kI.required]),this.simulationFilterForm.patchValue({param_max:this.maxMapsValues.entropy_percent}),this.simulationFilterForm.get("param_max").updateValueAndValidity()):e==X.Effort&&(this.simulationFilterForm.get("param_min").setValidators([k.kI.min(0),k.kI.required]),this.simulationFilterForm.patchValue({param_min:0}),this.simulationFilterForm.get("param_min").updateValueAndValidity(),this.simulationFilterForm.get("param_max").setValidators([k.kI.max(this.maxMapsValues.effort),k.kI.required]),this.simulationFilterForm.patchValue({param_max:this.maxMapsValues.effort}),this.simulationFilterForm.get("param_max").updateValueAndValidity()),this.simulationFilterForm.get("node_max").setValidators([k.kI.max(this.simulation.node_max),k.kI.required]),this.simulationFilterForm.patchValue({node_max:this.simulation.node_max}),this.simulationFilterForm.get("node_max").updateValueAndValidity(),this.simulationFilterForm.get("edge_max").setValidators([k.kI.max(this.maxMapsValues.edges),k.kI.required]),this.simulationFilterForm.patchValue({edge_max:this.maxMapsValues.edges}),this.simulationFilterForm.get("edge_max").updateValueAndValidity()}ngOnInit(){this.simulation_id=this._route.snapshot.paramMap.get("id"),this.simulation_id&&this._simulationService.getSimulation(this.simulation_id).subscribe(e=>{if(this.loading=!1,e.hasOwnProperty("error"))this._router.navigate(["/not-found"]);else if(this.simulation=e,this.simulation.maps){this.simulationFilterForm.get("node_min").setValidators([k.kI.min(this.simulation.node_min),k.kI.required]),this.simulationFilterForm.patchValue({node_min:this.simulation.node_min}),this.simulationFilterForm.get("node_min").updateValueAndValidity(),this.simulationFilterForm.get("edge_min").setValidators([k.kI.min(this.simulation.node_min),k.kI.required]),this.simulationFilterForm.patchValue({edge_min:this.simulation.node_min}),this.simulationFilterForm.get("edge_min").updateValueAndValidity(),this.simulationFilterForm.get("node_max").setValidators([k.kI.max(this.simulation.node_max),k.kI.required]),this.simulationFilterForm.patchValue({node_max:this.simulation.node_max}),this.simulationFilterForm.get("node_max").updateValueAndValidity();for(let n of this.simulation.maps)n.nodes_count>this.maxMapsValues.nodes&&(this.maxMapsValues.nodes=n.nodes_count),n.edges_count>this.maxMapsValues.edges&&(this.maxMapsValues.edges=n.edges_count),n.entropy>this.maxMapsValues.entropy&&(this.maxMapsValues.entropy=n.entropy),n.entropy_percent>this.maxMapsValues.entropy_percent&&(this.maxMapsValues.entropy_percent=n.entropy_percent),n.effort>this.maxMapsValues.effort&&(this.maxMapsValues.effort=n.effort);this.resetFilterForm(this.current_chart_type),this.renderScatterPlot(this.current_chart_type)}})}getCoordsDatum(e,n){let i=this.unpack(this.simulation.maps.filter(o=>o.color_entropy==n&&o.nodes_count>=this.simulationFilterForm.value.node_min&&o.nodes_count<=this.simulationFilterForm.value.node_max&&o.edges_count>=this.simulationFilterForm.value.edge_min&&o.edges_count<=this.simulationFilterForm.value.edge_max&&o.entropy>=this.simulationFilterForm.value.param_min&&o.entropy<=this.simulationFilterForm.value.param_max),"nodes_count"),r=this.unpack(this.simulation.maps.filter(o=>o.color_entropy==n&&o.nodes_count>=this.simulationFilterForm.value.node_min&&o.nodes_count<=this.simulationFilterForm.value.node_max&&o.edges_count>=this.simulationFilterForm.value.edge_min&&o.edges_count<=this.simulationFilterForm.value.edge_max&&o.entropy>=this.simulationFilterForm.value.param_min&&o.entropy<=this.simulationFilterForm.value.param_max),"edges_count"),a=this.unpack(this.simulation.maps.filter(o=>o.color_entropy==n&&o.nodes_count>=this.simulationFilterForm.value.node_min&&o.nodes_count<=this.simulationFilterForm.value.node_max&&o.edges_count>=this.simulationFilterForm.value.edge_min&&o.edges_count<=this.simulationFilterForm.value.edge_max&&o.entropy>=this.simulationFilterForm.value.param_min&&o.entropy<=this.simulationFilterForm.value.param_max),"entropy");return e==X.EntropyPercent?(i=this.unpack(this.simulation.maps.filter(o=>o.color_entropy_percent==n&&o.nodes_count>=this.simulationFilterForm.value.node_min&&o.nodes_count<=this.simulationFilterForm.value.node_max&&o.edges_count>=this.simulationFilterForm.value.edge_min&&o.edges_count<=this.simulationFilterForm.value.edge_max&&o.entropy_percent>=this.simulationFilterForm.value.param_min&&o.entropy_percent<=this.simulationFilterForm.value.param_max),"nodes_count"),r=this.unpack(this.simulation.maps.filter(o=>o.color_entropy_percent==n&&o.nodes_count>=this.simulationFilterForm.value.node_min&&o.nodes_count<=this.simulationFilterForm.value.node_max&&o.edges_count>=this.simulationFilterForm.value.edge_min&&o.edges_count<=this.simulationFilterForm.value.edge_max&&o.entropy_percent>=this.simulationFilterForm.value.param_min&&o.entropy_percent<=this.simulationFilterForm.value.param_max),"edges_count"),a=this.unpack(this.simulation.maps.filter(o=>o.color_entropy_percent==n&&o.nodes_count>=this.simulationFilterForm.value.node_min&&o.nodes_count<=this.simulationFilterForm.value.node_max&&o.edges_count>=this.simulationFilterForm.value.edge_min&&o.edges_count<=this.simulationFilterForm.value.edge_max&&o.entropy_percent>=this.simulationFilterForm.value.param_min&&o.entropy_percent<=this.simulationFilterForm.value.param_max),"entropy_percent")):e==X.Effort&&(i=this.unpack(this.simulation.maps.filter(o=>o.color_effort==n&&o.nodes_count>=this.simulationFilterForm.value.node_min&&o.nodes_count<=this.simulationFilterForm.value.node_max&&o.edges_count>=this.simulationFilterForm.value.edge_min&&o.edges_count<=this.simulationFilterForm.value.edge_max&&o.effort>=this.simulationFilterForm.value.param_min&&o.effort<=this.simulationFilterForm.value.param_max),"nodes_count"),r=this.unpack(this.simulation.maps.filter(o=>o.color_effort==n&&o.nodes_count>=this.simulationFilterForm.value.node_min&&o.nodes_count<=this.simulationFilterForm.value.node_max&&o.edges_count>=this.simulationFilterForm.value.edge_min&&o.edges_count<=this.simulationFilterForm.value.edge_max&&o.effort>=this.simulationFilterForm.value.param_min&&o.effort<=this.simulationFilterForm.value.param_max),"edges_count"),a=this.unpack(this.simulation.maps.filter(o=>o.color_effort==n&&o.nodes_count>=this.simulationFilterForm.value.node_min&&o.nodes_count<=this.simulationFilterForm.value.node_max&&o.edges_count>=this.simulationFilterForm.value.edge_min&&o.edges_count<=this.simulationFilterForm.value.edge_max&&o.effort>=this.simulationFilterForm.value.param_min&&o.effort<=this.simulationFilterForm.value.param_max),"effort")),[i,r,a]}renderScatterPlot(e){sn.purge("container");const n=["rgba(168, 50, 50, 0.95)","rgba(161, 158, 157, 0.95)","rgba(86, 199, 30, 0.95)"];let o=[{x:this.getCoordsDatum(e,0)[0],y:this.getCoordsDatum(e,0)[1],z:this.getCoordsDatum(e,0)[2],mode:"markers",marker:{size:5,line:{color:n[0],width:.5},opacity:.8},type:"scatter3d"},{x:this.getCoordsDatum(e,1)[0],y:this.getCoordsDatum(e,1)[1],z:this.getCoordsDatum(e,1)[2],mode:"markers",marker:{size:5,line:{color:n[1],width:.5},opacity:.8},type:"scatter3d"},{x:this.getCoordsDatum(e,2)[0],y:this.getCoordsDatum(e,2)[1],z:this.getCoordsDatum(e,2)[2],mode:"markers",marker:{size:5,line:{color:n[2],width:.5},opacity:.8},type:"scatter3d"}],c={margin:{l:0,r:0,b:0,t:50},width:window.innerWidth-window.innerWidth/2.5,height:window.innerHeight-200,colorway:n,scene:{xaxis:{title:"Nodes",range:[0,this.maxMapsValues.nodes]},yaxis:{title:"Edges",range:[0,this.maxMapsValues.edges]},zaxis:{title:this.getChartTypeLabel(this.current_chart_type)}}};sn.newPlot("container",o,c,{responsive:!0}),document.getElementById("container").on("plotly_click",u=>{this.current_chart_type==X.Entropy?this.currentMap=this.simulation?.maps?.filter(h=>u.points[0].x==h.nodes_count&&u.points[0].y==h.edges_count&&u.points[0].z==h.entropy)[0]:this.current_chart_type==X.EntropyPercent?this.currentMap=this.simulation?.maps?.filter(h=>u.points[0].x==h.nodes_count&&u.points[0].y==h.edges_count&&u.points[0].z==h.entropy_percent)[0]:this.current_chart_type==X.Effort&&(this.currentMap=this.simulation?.maps?.filter(h=>u.points[0].x==h.nodes_count&&u.points[0].y==h.edges_count&&u.points[0].z==h.effort)[0]),this.showCurrentMap()})}getChartTypeLabel(e){switch(e){case X.Entropy:return"Entropy (H)";case X.EntropyPercent:return"Entropy Percent (Hr)";case X.Effort:return"Effort (M)"}}getChartId(e){switch(e){case X.Entropy:return"chartHolderEntropy";case X.EntropyPercent:return"chartHolderEntropyPercent";case X.Effort:return"chartHolderEffort"}}updateChartType(e){this.currentMap=null,this.current_chart_type=e,this.resetFilterForm(this.current_chart_type),this.renderScatterPlot(this.current_chart_type)}showCurrentMap(){this._modalService.show(It,{id:"SimulationMapViewComponent",class:"modal-lg",initialState:{map:this.currentMap}})}downloadJson(){var e=JSON.stringify(this.simulation),n=document.createElement("a");n.setAttribute("href","data:text/json;charset=UTF-8,"+encodeURIComponent(e)),n.setAttribute("download",this.simulation?.name?this.simulation?.name+".json":"undefined.json"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}zt.\u0275fac=function(e){return new(e||zt)(s.Y36(j.s),s.Y36(rt.gz),s.Y36(rt.F0),s.Y36(on.tT),s.Y36(k.qu))},zt.\u0275cmp=s.Xpm({type:zt,selectors:[["app-simulation-view"]],decls:14,vars:6,consts:[["class","row mt-5",4,"ngIf"],[1,"row","h-90","my-4","mx-2"],["class","col-4 h-100",4,"ngIf"],[1,"col-8",3,"ngClass"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"card-body","text-center","p-0"],["id","container"],[1,"row","mt-5"],[1,"col-5"],[1,"col-2","ms-5","mt-5"],[1,"ms-3","custom-big-loader","mt-5"],[1,"col-4","h-100"],[1,"row","h-100"],[1,"col-12","h-100"],[1,"card","mb-4","h-100"],[1,"fa-solid","fa-download","pe-clickable",3,"click"],[1,"card-body"],["role","alert",1,"alert","alert-primary","mb-2"],[1,"fa-solid","fa-genderless"],[1,"ms-2"],[1,"mb-0","mt-2"],[1,"form-label"],[1,"me-3","btn","btn-secondary",3,"ngClass","click"],[1,"btn","btn-secondary",3,"ngClass","click"],[1,"mt-3",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-6"],["for","node_min",1,"form-label"],["type","text","id","node_min","name","simulation_node_min","placeholder","","formControlName","node_min",1,"form-control"],["for","node_max",1,"form-label"],["type","text","id","node_max","name","simulation_node_max","placeholder","","formControlName","node_max",1,"form-control"],[1,"row","mt-2"],["for","edge_min",1,"form-label"],["type","text","id","edge_min","name","simulation_edge_min","placeholder","","formControlName","edge_min",1,"form-control"],["for","edge_max",1,"form-label"],["type","text","id","edge_max","name","simulation_edge_max","placeholder","","formControlName","edge_max",1,"form-control"],["for","param_min",1,"form-label"],["type","text","id","param_min","name","simulation_param_min","placeholder","","formControlName","param_min",1,"form-control"],["for","param_max",1,"form-label"],["type","text","id","param_max","name","simulation_param_max","placeholder","","formControlName","param_max",1,"form-control"],[1,"row","mt-4"],[1,"col-12","text-center"],["type","submit",1,"btn","btn-primary","me-3",3,"disabled"],[1,"btn","btn-secondary",3,"click"]],template:function(e,n){1&e&&(s._UZ(0,"app-navbar"),s.YNc(1,Po,4,0,"div",0),s.TgZ(2,"div",1),s.YNc(3,$o,80,19,"div",2),s.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),s._uU(8,"Scatter Plot: "),s.TgZ(9,"small"),s._uU(10),s.qZA()()(),s.TgZ(11,"div",7),s._UZ(12,"div",8),s.qZA()()()(),s._UZ(13,"app-footer")),2&e&&(s.xp6(1),s.Q6J("ngIf",n.loading),s.xp6(2),s.Q6J("ngIf",!n.loading),s.xp6(1),s.Q6J("ngClass",s.VKq(4,Oo,n.loading)),s.xp6(6),s.Oqu(n.getChartTypeLabel(n.current_chart_type)))},dependencies:[ft.mk,ft.O5,k._Y,k.Fj,k.JJ,k.JL,k.sg,k.u,qo.S,Do.c],encapsulation:2});const Xo=[{path:":id",component:zt,canActivate:[qt.a]}];class bt{}bt.\u0275fac=function(e){return new(e||bt)},bt.\u0275mod=s.oAB({type:bt}),bt.\u0275inj=s.cJS({imports:[rt.Bz.forChild(Xo),rt.Bz]});var Lo=N(59181);class At{}At.\u0275fac=function(e){return new(e||At)},At.\u0275mod=s.oAB({type:At}),At.\u0275inj=s.cJS({providers:[j.s],imports:[ft.ez,lt.m,Lo.UserModule,bt]})}}]);